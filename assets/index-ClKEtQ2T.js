(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ud={exports:{}},wo={};var e_;function rS(){if(e_)return wo;e_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return wo.Fragment=e,wo.jsx=i,wo.jsxs=i,wo}var t_;function aS(){return t_||(t_=1,Ud.exports=rS()),Ud.exports}var p=aS(),Pd={exports:{}},Ie={};var n_;function lS(){if(n_)return Ie;n_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function Y(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ie={};function _e(x,B,G){this.props=x,this.context=B,this.refs=ie,this.updater=G||ne}_e.prototype.isReactComponent={},_e.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},_e.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Ce(){}Ce.prototype=_e.prototype;function Ee(x,B,G){this.props=x,this.context=B,this.refs=ie,this.updater=G||ne}var nt=Ee.prototype=new Ce;nt.constructor=Ee,re(nt,_e.prototype),nt.isPureReactComponent=!0;var dt=Array.isArray;function Ke(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(x,B,G){var W=G.ref;return{$$typeof:s,type:x,key:B,ref:W!==void 0?W:null,props:G}}function V(x,B){return C(x.type,B,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function j(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(G){return B[G]})}var R=/\/+/g;function pt(x,B){return typeof x=="object"&&x!==null&&x.key!=null?j(""+x.key):B.toString(36)}function Nt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ke,Ke):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function L(x,B,G,W,se){var he=typeof x;(he==="undefined"||he==="boolean")&&(x=null);var ye=!1;if(x===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(x.$$typeof){case s:case e:ye=!0;break;case S:return ye=x._init,L(ye(x._payload),B,G,W,se)}}if(ye)return se=se(x),ye=W===""?"."+pt(x,0):W,dt(se)?(G="",ye!=null&&(G=ye.replace(R,"$&/")+"/"),L(se,B,G,"",function(Le){return Le})):se!=null&&(O(se)&&(se=V(se,G+(se.key==null||x&&x.key===se.key?"":(""+se.key).replace(R,"$&/")+"/")+ye)),B.push(se)),1;ye=0;var Be=W===""?".":W+":";if(dt(x))for(var Oe=0;Oe<x.length;Oe++)W=x[Oe],he=Be+pt(W,Oe),ye+=L(W,B,G,he,se);else if(Oe=Y(x),typeof Oe=="function")for(x=Oe.call(x),Oe=0;!(W=x.next()).done;)W=W.value,he=Be+pt(W,Oe++),ye+=L(W,B,G,he,se);else if(he==="object"){if(typeof x.then=="function")return L(Nt(x),B,G,W,se);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ye}function X(x,B,G){if(x==null)return x;var W=[],se=0;return L(x,W,"","",function(he){return B.call(G,he,se++)}),W}function te(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(G){(x._status===0||x._status===-1)&&(x._status=1,x._result=G)},function(G){(x._status===0||x._status===-1)&&(x._status=2,x._result=G)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var oe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},fe={map:X,forEach:function(x,B,G){X(x,function(){B.apply(this,arguments)},G)},count:function(x){var B=0;return X(x,function(){B++}),B},toArray:function(x){return X(x,function(B){return B})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ie.Activity=A,Ie.Children=fe,Ie.Component=_e,Ie.Fragment=i,Ie.Profiler=o,Ie.PureComponent=Ee,Ie.StrictMode=r,Ie.Suspense=v,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Ie.cache=function(x){return function(){return x.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(x,B,G){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=re({},x.props),se=x.key;if(B!=null)for(he in B.key!==void 0&&(se=""+B.key),B)!w.call(B,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&B.ref===void 0||(W[he]=B[he]);var he=arguments.length-2;if(he===1)W.children=G;else if(1<he){for(var ye=Array(he),Be=0;Be<he;Be++)ye[Be]=arguments[Be+2];W.children=ye}return C(x.type,se,W)},Ie.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Ie.createElement=function(x,B,G){var W,se={},he=null;if(B!=null)for(W in B.key!==void 0&&(he=""+B.key),B)w.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(se[W]=B[W]);var ye=arguments.length-2;if(ye===1)se.children=G;else if(1<ye){for(var Be=Array(ye),Oe=0;Oe<ye;Oe++)Be[Oe]=arguments[Oe+2];se.children=Be}if(x&&x.defaultProps)for(W in ye=x.defaultProps,ye)se[W]===void 0&&(se[W]=ye[W]);return C(x,he,se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(x){return{$$typeof:y,render:x}},Ie.isValidElement=O,Ie.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:te}},Ie.memo=function(x,B){return{$$typeof:_,type:x,compare:B===void 0?null:B}},Ie.startTransition=function(x){var B=I.T,G={};I.T=G;try{var W=x(),se=I.S;se!==null&&se(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ke,oe)}catch(he){oe(he)}finally{B!==null&&G.types!==null&&(B.types=G.types),I.T=B}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(x){return I.H.use(x)},Ie.useActionState=function(x,B,G){return I.H.useActionState(x,B,G)},Ie.useCallback=function(x,B){return I.H.useCallback(x,B)},Ie.useContext=function(x){return I.H.useContext(x)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(x,B){return I.H.useDeferredValue(x,B)},Ie.useEffect=function(x,B){return I.H.useEffect(x,B)},Ie.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(x,B,G){return I.H.useImperativeHandle(x,B,G)},Ie.useInsertionEffect=function(x,B){return I.H.useInsertionEffect(x,B)},Ie.useLayoutEffect=function(x,B){return I.H.useLayoutEffect(x,B)},Ie.useMemo=function(x,B){return I.H.useMemo(x,B)},Ie.useOptimistic=function(x,B){return I.H.useOptimistic(x,B)},Ie.useReducer=function(x,B,G){return I.H.useReducer(x,B,G)},Ie.useRef=function(x){return I.H.useRef(x)},Ie.useState=function(x){return I.H.useState(x)},Ie.useSyncExternalStore=function(x,B,G){return I.H.useSyncExternalStore(x,B,G)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.0",Ie}var i_;function jm(){return i_||(i_=1,Pd.exports=lS()),Pd.exports}var Se=jm(),zd={exports:{}},Ro={},qd={exports:{}},Bd={};var s_;function oS(){return s_||(s_=1,(function(s){function e(L,X){var te=L.length;L.push(X);e:for(;0<te;){var oe=te-1>>>1,fe=L[oe];if(0<o(fe,X))L[oe]=X,L[te]=fe,te=oe;else break e}}function i(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var X=L[0],te=L.pop();if(te!==X){L[0]=te;e:for(var oe=0,fe=L.length,x=fe>>>1;oe<x;){var B=2*(oe+1)-1,G=L[B],W=B+1,se=L[W];if(0>o(G,te))W<fe&&0>o(se,G)?(L[oe]=se,L[W]=te,oe=W):(L[oe]=G,L[B]=te,oe=B);else if(W<fe&&0>o(se,te))L[oe]=se,L[W]=te,oe=W;else break e}}return X}function o(L,X){var te=L.sortIndex-X.sortIndex;return te!==0?te:L.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,A=null,M=3,Y=!1,ne=!1,re=!1,ie=!1,_e=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function nt(L){for(var X=i(_);X!==null;){if(X.callback===null)r(_);else if(X.startTime<=L)r(_),X.sortIndex=X.expirationTime,e(v,X);else break;X=i(_)}}function dt(L){if(re=!1,nt(L),!ne)if(i(v)!==null)ne=!0,Ke||(Ke=!0,j());else{var X=i(_);X!==null&&Nt(dt,X.startTime-L)}}var Ke=!1,I=-1,w=5,C=-1;function V(){return ie?!0:!(s.unstable_now()-C<w)}function O(){if(ie=!1,Ke){var L=s.unstable_now();C=L;var X=!0;try{e:{ne=!1,re&&(re=!1,Ce(I),I=-1),Y=!0;var te=M;try{t:{for(nt(L),A=i(v);A!==null&&!(A.expirationTime>L&&V());){var oe=A.callback;if(typeof oe=="function"){A.callback=null,M=A.priorityLevel;var fe=oe(A.expirationTime<=L);if(L=s.unstable_now(),typeof fe=="function"){A.callback=fe,nt(L),X=!0;break t}A===i(v)&&r(v),nt(L)}else r(v);A=i(v)}if(A!==null)X=!0;else{var x=i(_);x!==null&&Nt(dt,x.startTime-L),X=!1}}break e}finally{A=null,M=te,Y=!1}X=void 0}}finally{X?j():Ke=!1}}}var j;if(typeof Ee=="function")j=function(){Ee(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,pt=R.port2;R.port1.onmessage=O,j=function(){pt.postMessage(null)}}else j=function(){_e(O,0)};function Nt(L,X){I=_e(function(){L(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(L){switch(M){case 1:case 2:case 3:var X=3;break;default:X=M}var te=M;M=X;try{return L()}finally{M=te}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var te=M;M=L;try{return X()}finally{M=te}},s.unstable_scheduleCallback=function(L,X,te){var oe=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,L){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=te+fe,L={id:S++,callback:X,priorityLevel:L,startTime:te,expirationTime:fe,sortIndex:-1},te>oe?(L.sortIndex=te,e(_,L),i(v)===null&&L===i(_)&&(re?(Ce(I),I=-1):re=!0,Nt(dt,te-oe))):(L.sortIndex=fe,e(v,L),ne||Y||(ne=!0,Ke||(Ke=!0,j()))),L},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(L){var X=M;return function(){var te=M;M=X;try{return L.apply(this,arguments)}finally{M=te}}}})(Bd)),Bd}var r_;function uS(){return r_||(r_=1,qd.exports=oS()),qd.exports}var Hd={exports:{}},hn={};var a_;function cS(){if(a_)return hn;a_=1;var s=jm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,S)},hn.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},hn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},hn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},hn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:Y}):S==="script"&&r.d.X(v,{crossOrigin:A,integrity:M,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},hn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},hn.requestFormReset=function(v){r.d.r(v)},hn.unstable_batchedUpdates=function(v,_){return v(_)},hn.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var l_;function hS(){if(l_)return Hd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=cS(),Hd.exports}var o_;function fS(){if(o_)return Ro;o_=1;var s=uS(),e=jm(),i=hS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=f;break}if(E===l){g=!0,l=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=h;break}if(E===l){g=!0,l=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case _e:return"Profiler";case ie:return"StrictMode";case dt:return"Suspense";case Ke:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case Ee:return t.displayName||"Context";case Ce:return(t._context.displayName||"Context")+".Consumer";case nt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:pt(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return pt(t(n))}catch{}}return null}var Nt=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},oe=[],fe=-1;function x(t){return{current:t}}function B(t){0>fe||(t.current=oe[fe],oe[fe]=null,fe--)}function G(t,n){fe++,oe[fe]=t.current,t.current=n}var W=x(null),se=x(null),he=x(null),ye=x(null);function Be(t,n){switch(G(he,n),G(se,t),G(W,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?S0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=S0(n),t=A0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(W),G(W,t)}function Oe(){B(W),B(se),B(he)}function Le(t){t.memoizedState!==null&&G(ye,t);var n=W.current,a=A0(n,t.type);n!==a&&(G(se,t),G(W,a))}function rt(t){se.current===t&&(B(W),B(se)),ye.current===t&&(B(ye),To._currentValue=te)}var Qt,Vt;function le(t){if(Qt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Qt=n&&n[1]||"",Vt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+t+Vt}var we=!1;function Re(t,n){if(!t||we)return"";we=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var q=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){q=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){q=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),z=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{we=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?le(a):""}function Ae(t,n){switch(t.tag){case 26:case 27:case 5:return le(t.type);case 16:return le("Lazy");case 13:return t.child!==n&&n!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return Re(t.type,!1);case 11:return Re(t.type.render,!1);case 1:return Re(t.type,!0);case 31:return le("Activity");default:return""}}function it(t){try{var n="",a=null;do n+=Ae(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,ee=s.unstable_scheduleCallback,Ue=s.unstable_cancelCallback,_t=s.unstable_shouldYield,vn=s.unstable_requestPaint,$e=s.unstable_now,gt=s.unstable_getCurrentPriorityLevel,vi=s.unstable_ImmediatePriority,Xi=s.unstable_UserBlockingPriority,qn=s.unstable_NormalPriority,ii=s.unstable_LowPriority,xs=s.unstable_IdlePriority,da=s.log,ma=s.unstable_setDisableYieldValue,In=null,Yt=null;function Bn(t){if(typeof da=="function"&&ma(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(In,t)}catch{}}var Ct=Math.clz32?Math.clz32:ou,lu=Math.log,pa=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(lu(t)/pa|0)|0}var bi=256,Ar=262144,kt=4194304;function Ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Ei(l):(g&=E,g!==0?h=Ei(g):a||(a=E&~t,a!==0&&(h=Ei(a))))):(E=l&~f,E!==0?h=Ei(E):g!==0?h=Ei(g):a||(a=l&~t,a!==0&&(h=Ei(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function si(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function Si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function xr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,a,l,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-Ct(a),Z=1<<Q;E[Q]=0,N[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&wr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function wr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ct(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function wl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ct(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Rl(t,n){var a=n&-n;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Y0(t.type))}function ri(t,n){var a=X.p;try{return X.p=t,n()}finally{X.p=a}}var ai=Math.random().toString(36).slice(2),jt="__reactFiber$"+ai,$t="__reactProps$"+ai,Ai="__reactContainer$"+ai,ga="__reactEvents$"+ai,Hh="__reactListeners$"+ai,hu="__reactHandles$"+ai,fu="__reactResources$"+ai,xi="__reactMarker$"+ai;function ya(t){delete t[jt],delete t[$t],delete t[ga],delete t[Hh],delete t[hu]}function wi(t){var n=t[jt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ai]||a[jt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=D0(t);t!==null;){if(a=t[jt])return a;t=D0(t)}return n}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[jt]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ri(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[xi]=!0}var Nl=new Set,Cl={};function Ni(t,n){Ci(t,n),Ci(t+"Capture",n)}function Ci(t,n){for(Cl[t]=n,t=0;t<n.length;t++)Nl.add(n[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Ol={};function du(t){return be.call(Ol,t)?!0:be.call(Dl,t)?!1:Il.test(t)?Ol[t]=!0:(Dl[t]=!0,!1)}function _a(t,n,a){if(du(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function On(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ut(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ml(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function at(t){if(!t._valueTracker){var n=ws(t)?"checked":"value";t._valueTracker=Ml(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ws(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function bn(t){return t.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(t,n,a,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Vl(t,g,Zt(n)):a!=null?Vl(t,g,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function mu(t,n,a,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){at(t);return}a=a!=null?""+Zt(a):"",n=n!=null?""+Zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),at(t)}function Vl(t,n,a){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Rs(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,a){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Zt(a):""}function Ns(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Nt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Zt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),at(t)}function En(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function jl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&kl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&kl(t,f,n[f])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Ll=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Is=null,Di=null;function Ir(t){var n=Hn(t);if(n&&(t=n.stateNode)){var a=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(r(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Nr(l)}break e;case"textarea":pu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Rs(t,!!a.multiple,n,!1)}}}var Ta=!1;function Ds(t,n,a){if(Ta)return t(n,a);Ta=!0;try{var l=t(n);return l}finally{if(Ta=!1,(Is!==null||Di!==null)&&(cc(),Is&&(n=Is,t=Di,Di=Is=null,Ir(n),t)))for(n=0;n<t.length;n++)Ir(t[n])}}function oi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Gn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Dr=!1}var Oi=null,Ul=null,Or=null;function Pl(){if(Or)return Or;var t,n=Ul,a=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[f-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function Mr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function ui(){return!1}function tn(t){function n(a,l,h,f,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:ui,this.isPropagationStopped=ui,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=tn(Ji),Os=A({},Ji,{view:0,detail:0}),zl=tn(Os),Ms,Sa,Vi,Aa=A({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Ms=t.screenX-Vi.screenX,Sa=t.screenY-Vi.screenY):Sa=Ms=0,Vi=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),ql=tn(Aa),Vr=A({},Aa,{dataTransfer:0}),_u=tn(Vr),vu=A({},Os,{relatedTarget:0}),kr=tn(vu),Bl=A({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=tn(Bl),xa=A({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=tn(xa),Tu=A({},Ji,{data:0}),ki=tn(Tu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xu[t])?!!n[t]:!1}function Vs(){return wu}var gn=A({},Os,{key:function(t){if(t.key){var n=Su[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=tn(gn),Nu=A({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=tn(Nu),u=A({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=tn(u),b=A({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(b),U=A({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=tn(U),ae=A({},Ji,{newState:0,oldState:0}),Me=tn(ae),It=[9,13,27,32],et=Gn&&"CompositionEvent"in window,Tt=null;Gn&&"documentMode"in document&&(Tt=document.documentMode);var Qn=Gn&&"TextEvent"in window&&!Tt,ji=Gn&&(!et||Tt&&8<Tt&&11>=Tt),ci=" ",hi=!1;function jr(t,n){switch(t){case"keyup":return It.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function CE(t,n){switch(t){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function IE(t,n){if(Ra)return t==="compositionend"||!et&&jr(t,n)?(t=Pl(),Or=Ul=Oi=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!DE[t.type]:n==="textarea"}function kp(t,n,a,l){Is?Di?Di.push(l):Di=[l]:Is=l,n=yc(n,"onChange"),0<n.length&&(a=new Mi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Hl=null,Fl=null;function OE(t){y0(t,0)}function Cu(t){var n=Dn(t);if(Nr(n))return t}function jp(t,n){if(t==="change")return n}var Lp=!1;if(Gn){var Fh;if(Gn){var Gh="oninput"in document;if(!Gh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Gh=typeof Up.oninput=="function"}Fh=Gh}else Fh=!1;Lp=Fh&&(!document.documentMode||9<document.documentMode)}function Pp(){Hl&&(Hl.detachEvent("onpropertychange",zp),Fl=Hl=null)}function zp(t){if(t.propertyName==="value"&&Cu(Fl)){var n=[];kp(n,Fl,t,Fn(t)),Ds(OE,n)}}function ME(t,n,a){t==="focusin"?(Pp(),Hl=n,Fl=a,Hl.attachEvent("onpropertychange",zp)):t==="focusout"&&Pp()}function VE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Fl)}function kE(t,n){if(t==="click")return Cu(n)}function jE(t,n){if(t==="input"||t==="change")return Cu(n)}function LE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mn=typeof Object.is=="function"?Object.is:LE;function Gl(t,n){if(Mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!be.call(n,h)||!Mn(t[h],n[h]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,n){var a=qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Hp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ii(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var UE=Gn&&"documentMode"in document&&11>=document.documentMode,Na=null,Yh=null,Ql=null,Kh=!1;function Gp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||Na==null||Na!==Ii(l)||(l=Na,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ql&&Gl(Ql,l)||(Ql=l,l=yc(Yh,"onSelect"),0<l.length&&(n=new Mi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Na)))}function Lr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ca={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Xh={},Qp={};Gn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ur(t){if(Xh[t])return Xh[t];if(!Ca[t])return t;var n=Ca[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qp)return Xh[t]=n[a];return t}var Yp=Ur("animationend"),Kp=Ur("animationiteration"),Xp=Ur("animationstart"),PE=Ur("transitionrun"),zE=Ur("transitionstart"),qE=Ur("transitioncancel"),$p=Ur("transitionend"),Zp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function fi(t,n){Zp.set(t,n),Ni(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Ia=0,Zh=0;function Du(){for(var t=Ia,n=Zh=Ia=0;n<t;){var a=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Jp(a,h,f)}}function Ou(t,n,a,l){Yn[Ia++]=t,Yn[Ia++]=n,Yn[Ia++]=a,Yn[Ia++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,a,l){return Ou(t,n,a,l),Mu(t)}function Pr(t,n){return Ou(t,null,null,n),Mu(t)}function Jp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ct(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Mu(t){if(50<po)throw po=0,od=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Da={};function BE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,a,l){return new BE(t,n,a,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var a=t.alternate;return a===null?(a=Vn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,a,l,h,f){var g=0;if(l=t,typeof t=="function")Wh(t)&&(g=1);else if(typeof t=="string")g=YT(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Vn(31,a,n,h),t.elementType=C,t.lanes=f,t;case re:return zr(a.children,h,f,n);case ie:g=8,h|=24;break;case _e:return t=Vn(12,a,n,h|2),t.elementType=_e,t.lanes=f,t;case dt:return t=Vn(13,a,n,h),t.elementType=dt,t.lanes=f,t;case Ke:return t=Vn(19,a,n,h),t.elementType=Ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:g=10;break e;case Ce:g=9;break e;case nt:g=11;break e;case I:g=14;break e;case w:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Vn(g,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function zr(t,n,a,l){return t=Vn(7,t,l,n),t.lanes=a,t}function ef(t,n,a){return t=Vn(6,t,null,n),t.lanes=a,t}function eg(t){var n=Vn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,a){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var tg=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:it(n)},tg.set(t,n),n)}return{value:t,source:n,stack:it(n)}}var Oa=[],Ma=0,ku=null,Yl=0,Xn=[],$n=0,ks=null,Li=1,Ui="";function ts(t,n){Oa[Ma++]=Yl,Oa[Ma++]=ku,ku=t,Yl=n}function ng(t,n,a){Xn[$n++]=Li,Xn[$n++]=Ui,Xn[$n++]=ks,ks=t;var l=Li;t=Ui;var h=32-Ct(l)-1;l&=~(1<<h),a+=1;var f=32-Ct(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Li=1<<32-Ct(n)+h|a<<h|l,Ui=f+t}else Li=1<<f|a<<h|l,Ui=t}function nf(t){t.return!==null&&(ts(t,1),ng(t,1,0))}function sf(t){for(;t===ku;)ku=Oa[--Ma],Oa[Ma]=null,Yl=Oa[--Ma],Oa[Ma]=null;for(;t===ks;)ks=Xn[--$n],Xn[$n]=null,Ui=Xn[--$n],Xn[$n]=null,Li=Xn[--$n],Xn[$n]=null}function ig(t,n){Xn[$n++]=Li,Xn[$n++]=Ui,Xn[$n++]=ks,Li=n.id,Ui=n.overflow,ks=t}var nn=null,vt=null,Xe=!1,js=null,Zn=!1,rf=Error(r(519));function Ls(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Kn(n,t)),rf}function sg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[jt]=t,n[$t]=l,a){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(a=0;a<yo.length;a++)ze(yo[a],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Ns(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||E0(n.textContent,a)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||Ls(t,!0)}function rg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:nn=nn.return}}function Va(t){if(t!==nn)return!1;if(!Xe)return rg(t),Xe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sd(t.type,t.memoizedProps)),a=!a),a&&vt&&Ls(t),rg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));vt=I0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));vt=I0(t)}else n===27?(n=vt,Zs(t.type)?(t=Nd,Nd=null,vt=t):vt=n):vt=nn?Wn(t.stateNode.nextSibling):null;return!0}function qr(){vt=nn=null,Xe=!1}function af(){var t=js;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),js=null),t}function Kl(t){js===null?js=[t]:js.push(t)}var lf=x(null),Br=null,ns=null;function Us(t,n,a){G(lf,n._currentValue),n._currentValue=a}function is(t){t._currentValue=lf.current,B(lf)}function of(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function uf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),of(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ka(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Mn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ye.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&uf(n,t,a,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hr(t){Br=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return ag(Br,t)}function Lu(t,n){return Br===null&&Hr(t),ag(t,n)}function ag(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ns===null){if(t===null)throw Error(r(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return a}var HE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},FE=s.unstable_scheduleCallback,GE=s.unstable_NormalPriority,Pt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new HE,data:new Map,refCount:0}}function Xl(t){t.refCount--,t.refCount===0&&FE(GE,function(){t.controller.abort()})}var $l=null,hf=0,ja=0,La=null;function QE(t,n){if($l===null){var a=$l=[];hf=0,ja=md(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,n.then(lg,lg),n}function lg(){if(--hf===0&&$l!==null){La!==null&&(La.status="fulfilled");var t=$l;$l=null,ja=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function YE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var og=L.S;L.S=function(t,n){Gy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&QE(t,n),og!==null&&og(t,n)};var Fr=x(null);function ff(){var t=Fr.current;return t!==null?t:mt.pooledCache}function Uu(t,n){n===null?G(Fr,Fr.current):G(Fr,n.pool)}function ug(){var t=ff();return t===null?null:{parent:Pt._currentValue,pool:t}}var Ua=Error(r(460)),df=Error(r(474)),Pu=Error(r(542)),zu={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(li,li),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t}throw Qr=n,Ua}}function Gr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qr=a,Ua):a}}var Qr=null;function fg(){if(Qr===null)throw Error(r(459));var t=Qr;return Qr=null,t}function dg(t){if(t===Ua||t===Pu)throw Error(r(483))}var Pa=null,Zl=0;function qu(t){var n=Zl;return Zl+=1,Pa===null&&(Pa=[]),hg(Pa,t,n)}function Jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=es(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=ef(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function N(k,D,P,K){var pe=P.type;return pe===re?Q(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Gr(pe)===D.type)?(D=h(D,P.props),Jl(D,P),D.return=k,D):(D=Vu(P.type,P.key,P.props,null,k.mode,K),Jl(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=tf(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,K,pe){return D===null||D.tag!==7?(D=zr(P,k.mode,K,pe),D.return=k,D):(D=h(D,P),D.return=k,D)}function Z(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ef(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return P=Vu(D.type,D.key,D.props,null,k.mode,P),Jl(P,D),P.return=k,P;case ne:return D=tf(D,k.mode,P),D.return=k,D;case w:return D=Gr(D),Z(k,D,P)}if(Nt(D)||j(D))return D=zr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Z(k,qu(D),P);if(D.$$typeof===Ee)return Z(k,Lu(k,D),P);Bu(k,D)}return null}function q(k,D,P,K){var pe=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===pe?N(k,D,P,K):null;case ne:return P.key===pe?z(k,D,P,K):null;case w:return P=Gr(P),q(k,D,P,K)}if(Nt(P)||j(P))return pe!==null?null:Q(k,D,P,K,null);if(typeof P.then=="function")return q(k,D,qu(P),K);if(P.$$typeof===Ee)return q(k,D,Lu(k,P),K);Bu(k,P)}return null}function F(k,D,P,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return k=k.get(K.key===null?P:K.key)||null,N(D,k,K,pe);case ne:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,pe);case w:return K=Gr(K),F(k,D,P,K,pe)}if(Nt(K)||j(K))return k=k.get(P)||null,Q(D,k,K,pe,null);if(typeof K.then=="function")return F(k,D,P,qu(K),pe);if(K.$$typeof===Ee)return F(k,D,P,Lu(D,K),pe);Bu(D,K)}return null}function de(k,D,P,K){for(var pe=null,Je=null,me=D,je=D=0,Fe=null;me!==null&&je<P.length;je++){me.index>je?(Fe=me,me=null):Fe=me.sibling;var We=q(k,me,P[je],K);if(We===null){me===null&&(me=Fe);break}t&&me&&We.alternate===null&&n(k,me),D=f(We,D,je),Je===null?pe=We:Je.sibling=We,Je=We,me=Fe}if(je===P.length)return a(k,me),Xe&&ts(k,je),pe;if(me===null){for(;je<P.length;je++)me=Z(k,P[je],K),me!==null&&(D=f(me,D,je),Je===null?pe=me:Je.sibling=me,Je=me);return Xe&&ts(k,je),pe}for(me=l(me);je<P.length;je++)Fe=F(me,k,je,P[je],K),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?je:Fe.key),D=f(Fe,D,je),Je===null?pe=Fe:Je.sibling=Fe,Je=Fe);return t&&me.forEach(function(nr){return n(k,nr)}),Xe&&ts(k,je),pe}function ve(k,D,P,K){if(P==null)throw Error(r(151));for(var pe=null,Je=null,me=D,je=D=0,Fe=null,We=P.next();me!==null&&!We.done;je++,We=P.next()){me.index>je?(Fe=me,me=null):Fe=me.sibling;var nr=q(k,me,We.value,K);if(nr===null){me===null&&(me=Fe);break}t&&me&&nr.alternate===null&&n(k,me),D=f(nr,D,je),Je===null?pe=nr:Je.sibling=nr,Je=nr,me=Fe}if(We.done)return a(k,me),Xe&&ts(k,je),pe;if(me===null){for(;!We.done;je++,We=P.next())We=Z(k,We.value,K),We!==null&&(D=f(We,D,je),Je===null?pe=We:Je.sibling=We,Je=We);return Xe&&ts(k,je),pe}for(me=l(me);!We.done;je++,We=P.next())We=F(me,k,je,We.value,K),We!==null&&(t&&We.alternate!==null&&me.delete(We.key===null?je:We.key),D=f(We,D,je),Je===null?pe=We:Je.sibling=We,Je=We);return t&&me.forEach(function(sS){return n(k,sS)}),Xe&&ts(k,je),pe}function ft(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:e:{for(var pe=P.key;D!==null;){if(D.key===pe){if(pe=P.type,pe===re){if(D.tag===7){a(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break e}}else if(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Gr(pe)===D.type){a(k,D.sibling),K=h(D,P.props),Jl(K,P),K.return=k,k=K;break e}a(k,D);break}else n(k,D);D=D.sibling}P.type===re?(K=zr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Vu(P.type,P.key,P.props,null,k.mode,K),Jl(K,P),K.return=k,k=K)}return g(k);case ne:e:{for(pe=P.key;D!==null;){if(D.key===pe)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break e}else{a(k,D);break}else n(k,D);D=D.sibling}K=tf(P,k.mode,K),K.return=k,k=K}return g(k);case w:return P=Gr(P),ft(k,D,P,K)}if(Nt(P))return de(k,D,P,K);if(j(P)){if(pe=j(P),typeof pe!="function")throw Error(r(150));return P=pe.call(P),ve(k,D,P,K)}if(typeof P.then=="function")return ft(k,D,qu(P),K);if(P.$$typeof===Ee)return ft(k,D,Lu(k,P),K);Bu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,P),K.return=k,k=K):(a(k,D),K=ef(P,k.mode,K),K.return=k,k=K),g(k)):a(k,D)}return function(k,D,P,K){try{Zl=0;var pe=ft(k,D,P,K);return Pa=null,pe}catch(me){if(me===Ua||me===Pu)throw me;var Je=Vn(29,me,null,k.mode);return Je.lanes=K,Je.return=k,Je}finally{}}}var Yr=mg(!0),pg=mg(!1),Ps=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Mu(t),Jp(t,null,a),n}return Ou(t,l,n,a),Mu(t)}function Wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,wl(t,a)}}function gf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var yf=!1;function eo(){if(yf){var t=La;if(t!==null)throw t}}function to(t,n,a,l){yf=!1;var h=t.updateQueue;Ps=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,g===null?f=z:g.next=z,g=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=N))}if(f!==null){var Z=h.baseState;g=0,Q=z=N=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(He&q)===q:(l&q)===q){q!==0&&q===ja&&(yf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var de=t,ve=E;q=n;var ft=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){Z=de.call(ft,Z,q);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,q=typeof de=="function"?de.call(ft,Z,q):de,q==null)break e;Z=A({},Z,q);break e;case 2:Ps=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=F,N=Z):Q=Q.next=F,g|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Qs|=g,t.lanes=g,t.memoizedState=Z}}function gg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function yg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],n)}var za=x(null),Hu=x(0);function _g(t,n){t=fs,G(Hu,t),G(za,n),fs=t|n.baseLanes}function _f(){G(Hu,fs),G(za,za.current)}function vf(){fs=Hu.current,B(za),B(Hu)}var kn=x(null),Jn=null;function Bs(t){var n=t.alternate;G(Dt,Dt.current&1),G(kn,t),Jn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Jn=t)}function bf(t){G(Dt,Dt.current),G(kn,t),Jn===null&&(Jn=t)}function vg(t){t.tag===22?(G(Dt,Dt.current),G(kn,t),Jn===null&&(Jn=t)):Hs()}function Hs(){G(Dt,Dt.current),G(kn,kn.current)}function jn(t){B(kn),Jn===t&&(Jn=null),B(Dt)}var Dt=x(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,Ve=null,ct=null,zt=null,Gu=!1,qa=!1,Kr=!1,Qu=0,no=0,Ba=null,KE=0;function xt(){throw Error(r(321))}function Ef(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Mn(t[a],n[a]))return!1;return!0}function Tf(t,n,a,l,h,f){return ss=f,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?ny:Lf,Kr=!1,f=a(l,h),Kr=!1,qa&&(f=Eg(n,a,l,h)),bg(t),f}function bg(t){L.H=ro;var n=ct!==null&&ct.next!==null;if(ss=0,zt=ct=Ve=null,Gu=!1,no=0,Ba=null,n)throw Error(r(300));t===null||qt||(t=t.dependencies,t!==null&&ju(t)&&(qt=!0))}function Eg(t,n,a,l){Ve=t;var h=0;do{if(qa&&(Ba=null),no=0,qa=!1,25<=h)throw Error(r(301));if(h+=1,zt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=iy,f=n(a,l)}while(qa);return f}function XE(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?io(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Ve.flags|=1024),n}function Sf(){var t=Qu!==0;return Qu=0,t}function Af(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function xf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}ss=0,zt=ct=Ve=null,qa=!1,no=Qu=0,Ba=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ve.memoizedState=zt=t:zt=zt.next=t,zt}function Ot(){if(ct===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=zt===null?Ve.memoizedState:zt.next;if(n!==null)zt=n,ct=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?Ve.memoizedState=zt=t:zt=zt.next=t}return zt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(t){var n=no;return no+=1,Ba===null&&(Ba=[]),t=hg(Ba,t,n),n=Ve,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?ny:Lf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return io(t);if(t.$$typeof===Ee)return sn(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=Ve.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),Ve.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function rs(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=Ot();return Rf(n,ct,t)}function Rf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,N=null,z=n,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(He&Z)===Z:(ss&Z)===Z){var q=z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===ja&&(Q=!0);else if((ss&q)===q){z=z.next,q===ja&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=Z,g=f):N=N.next=Z,Ve.lanes|=q,Qs|=q;Z=z.action,Kr&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else q={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=q,g=f):N=N.next=q,Ve.lanes|=Z,Qs|=Z;z=z.next}while(z!==null&&z!==n);if(N===null?g=f:N.next=E,!Mn(f,t.memoizedState)&&(qt=!0,Q&&(a=La,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var n=Ot(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Mn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Tg(t,n,a){var l=Ve,h=Ot(),f=Xe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Mn((ct||h).memoizedState,a);if(g&&(h.memoizedState=a,qt=!0),h=h.queue,Df(xg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},Ag.bind(null,l,h,a,n),null),mt===null)throw Error(r(349));f||(ss&127)!==0||Sg(l,n,a)}return a}function Sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ve.updateQueue,n===null?(n=Yu(),Ve.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ag(t,n,a,l){n.value=a,n.getSnapshot=l,wg(n)&&Rg(t)}function xg(t,n,a){return a(function(){wg(n)&&Rg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Mn(t,a)}catch{return!0}}function Rg(t){var n=Pr(t,2);n!==null&&wn(n,t,2)}function Cf(t){var n=yn();if(typeof t=="function"){var a=t;if(t=a(),Kr){Bn(!0);try{a()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function Ng(t,n,a,l){return t.baseState=a,Rf(t,ct,typeof l=="function"?l:rs)}function $E(t,n,a,l,h){if(Ju(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Cg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Cg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var E=a(h,l),N=L.S;N!==null&&N(g,E),Ig(t,n,E)}catch(z){If(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=a(h,l),Ig(t,n,f)}catch(z){If(t,n,z)}}function Ig(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dg(t,n,l)},function(l){return If(t,n,l)}):Dg(t,n,a)}function Dg(t,n,a){n.status="fulfilled",n.value=a,Og(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Cg(t,a)))}function If(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==l)}t.action=null}function Og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mg(t,n){return n}function Vg(t,n){if(Xe){var a=mt.formState;if(a!==null){e:{var l=Ve;if(Xe){if(vt){t:{for(var h=vt,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=Wn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(n=a[0])}}return a=yn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},a.queue=l,a=Wg.bind(null,Ve,l),l.dispatch=a,l=Cf(!1),f=jf.bind(null,Ve,!1,l.queue),l=yn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=$E.bind(null,Ve,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function kg(t){var n=Ot();return jg(n,ct,t)}function jg(t,n,a){if(n=Rf(t,n,Mg)[0],t=Xu(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=io(n)}catch(g){throw g===Ua?Pu:g}else l=n;n=Ot();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ve.flags|=2048,Ha(9,{destroy:void 0},ZE.bind(null,h,a),null)),[l,f,t]}function ZE(t,n){t.action=n}function Lg(t){var n=Ot(),a=ct;if(a!==null)return jg(n,a,t);Ot(),n=n.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ha(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Ve.updateQueue,n===null&&(n=Yu(),Ve.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ug(){return Ot().memoizedState}function $u(t,n,a,l){var h=yn();Ve.flags|=t,h.memoizedState=Ha(1|n,{destroy:void 0},a,l===void 0?null:l)}function Zu(t,n,a,l){var h=Ot();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&Ef(l,ct.memoizedState.deps)?h.memoizedState=Ha(n,f,a,l):(Ve.flags|=t,h.memoizedState=Ha(1|n,f,a,l))}function Pg(t,n){$u(8390656,8,t,n)}function Df(t,n){Zu(2048,8,t,n)}function JE(t){Ve.flags|=4;var n=Ve.updateQueue;if(n===null)n=Yu(),Ve.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function zg(t){var n=Ot().memoizedState;return JE({ref:n,nextImpl:t}),function(){if((tt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function qg(t,n){return Zu(4,2,t,n)}function Bg(t,n){return Zu(4,4,t,n)}function Hg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fg(t,n,a){a=a!=null?a.concat([t]):null,Zu(4,4,Hg.bind(null,n,t),a)}function Of(){}function Gg(t,n){var a=Ot();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Qg(t,n){var a=Ot();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),Kr){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,n],l}function Mf(t,n,a){return a===void 0||(ss&1073741824)!==0&&(He&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Yy(),Ve.lanes|=t,Qs|=t,a)}function Yg(t,n,a,l){return Mn(a,n)?a:za.current!==null?(t=Mf(t,a,l),Mn(t,n)||(qt=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(He&261930)===0?(qt=!0,t.memoizedState=a):(t=Yy(),Ve.lanes|=t,Qs|=t,n)}function Kg(t,n,a,l,h){var f=X.p;X.p=f!==0&&8>f?f:8;var g=L.T,E={};L.T=E,jf(t,!1,n,a);try{var N=h(),z=L.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=YE(N,l);so(t,n,Q,Pn(t))}else so(t,n,l,Pn(t))}catch(Z){so(t,n,{then:function(){},status:"rejected",reason:Z},Pn())}finally{X.p=f,g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}function WE(){}function Vf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Xg(t).queue;Kg(t,h,n,te,a===null?WE:function(){return $g(t),a(l)})}function Xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:te},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $g(t){var n=Xg(t);n.next===null&&(n=t.alternate.memoizedState),so(t,n.next.queue,{},Pn())}function kf(){return sn(To)}function Zg(){return Ot().memoizedState}function Jg(){return Ot().memoizedState}function eT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Pn();t=zs(a);var l=qs(n,t,a);l!==null&&(wn(l,n,a),Wl(l,n,a)),n={cache:cf()},t.payload=n;return}n=n.return}}function tT(t,n,a){var l=Pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?ey(n,a):(a=Jh(t,n,a,l),a!==null&&(wn(a,t,l),ty(a,n,l)))}function Wg(t,n,a){var l=Pn();so(t,n,a,l)}function so(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))ey(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Mn(E,g))return Ou(t,n,h,0),mt===null&&Du(),!1}catch{}finally{}if(a=Jh(t,n,h,l),a!==null)return wn(a,t,l),ty(a,n,l),!0}return!1}function jf(t,n,a,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(r(479))}else n=Jh(t,a,l,2),n!==null&&wn(n,t,2)}function Ju(t){var n=t.alternate;return t===Ve||n!==null&&n===Ve}function ey(t,n){qa=Gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ty(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,wl(t,a)}}var ro={readContext:sn,use:Ku,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};ro.useEffectEvent=xt;var ny={readContext:sn,use:Ku,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Pg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Hg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var a=yn();n=n===void 0?null:n;var l=t();if(Kr){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=yn();if(a!==void 0){var h=a(n);if(Kr){Bn(!0);try{a(n)}finally{Bn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=tT.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,a=Wg.bind(null,Ve,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(t,n){var a=yn();return Mf(a,t,n)},useTransition:function(){var t=Cf(!1);return t=Kg.bind(null,Ve,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ve,h=yn();if(Xe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),mt===null)throw Error(r(349));(He&127)!==0||Sg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Pg(xg.bind(null,l,f,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},Ag.bind(null,l,f,a,n),null),a},useId:function(){var t=yn(),n=mt.identifierPrefix;if(Xe){var a=Ui,l=Li;a=(l&~(1<<32-Ct(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=KE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=jf.bind(null,Ve,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return yn().memoizedState=eT.bind(null,Ve)},useEffectEvent:function(t){var n=yn(),a={impl:t};return n.memoizedState=a,function(){if((tt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:sn,use:Ku,useCallback:Gg,useContext:sn,useEffect:Df,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Bg,useMemo:Qg,useReducer:Xu,useRef:Ug,useState:function(){return Xu(rs)},useDebugValue:Of,useDeferredValue:function(t,n){var a=Ot();return Yg(a,ct.memoizedState,t,n)},useTransition:function(){var t=Xu(rs)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:kf,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var a=Ot();return Ng(a,ct,t,n)},useMemoCache:wf,useCacheRefresh:Jg};Lf.useEffectEvent=zg;var iy={readContext:sn,use:Ku,useCallback:Gg,useContext:sn,useEffect:Df,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Bg,useMemo:Qg,useReducer:Nf,useRef:Ug,useState:function(){return Nf(rs)},useDebugValue:Of,useDeferredValue:function(t,n){var a=Ot();return ct===null?Mf(a,t,n):Yg(a,ct.memoizedState,t,n)},useTransition:function(){var t=Nf(rs)[0],n=Ot().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:kf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var a=Ot();return ct!==null?Ng(a,ct,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Jg};iy.useEffectEvent=zg;function Uf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Pn(),h=zs(l);h.payload=n,a!=null&&(h.callback=a),n=qs(t,h,l),n!==null&&(wn(n,t,l),Wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Pn(),h=zs(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=qs(t,h,l),n!==null&&(wn(n,t,l),Wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Pn(),l=zs(a);l.tag=2,n!=null&&(l.callback=n),n=qs(t,l,a),n!==null&&(wn(n,t,a),Wl(n,t,a))}};function sy(t,n,a,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Gl(a,l)||!Gl(h,f):!0}function ry(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Xr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ay(t){Iu(t)}function ly(t){console.error(t)}function oy(t){Iu(t)}function Wu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function uy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,a){return a=zs(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,n)},a}function cy(t){return t=zs(t),t.tag=3,t}function hy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){uy(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){uy(n,a,l),typeof h!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function nT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ka(n,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?hc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),hd(t,l,h)),!1;case 22:return a.flags|=65536,l===zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),hd(t,l,h)),!1}throw Error(r(435,a.tag))}return hd(t,l,h),hc(),!1}if(Xe)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==rf&&(t=Error(r(422),{cause:l}),Kl(Kn(t,a)))):(l!==rf&&(n=Error(r(423),{cause:l}),Kl(Kn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,a),h=zf(t.stateNode,l,h),gf(t,h),wt!==4&&(wt=2)),!1;var f=Error(r(520),{cause:l});if(f=Kn(f,a),mo===null?mo=[f]:mo.push(f),wt!==4&&(wt=2),n===null)return!0;l=Kn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,l,t),gf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ys===null||!Ys.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,t,a,l),gf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(r(461)),qt=!1;function rn(t,n,a,l){n.child=t===null?pg(n,null,a,l):Yr(n,t.child,a,l)}function fy(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Hr(n),l=Tf(t,n,a,g,f,h),E=Sf(),t!==null&&!qt?(Af(t,n,h),as(t,n,h)):(Xe&&E&&nf(n),n.flags|=1,rn(t,n,l,h),n.child)}function dy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,my(t,n,f,l,h)):(t=Vu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Gl,a(g,l)&&t.ref===n.ref)return as(t,n,h)}return n.flags|=1,t=es(f,l),t.ref=n.ref,t.return=n,n.child=t}function my(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Gl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Xf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,as(t,n,h)}return Bf(t,n,a,l,h)}function py(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return gy(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?_g(n,f):_f(),vg(n);else return l=n.lanes=536870912,gy(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Uu(n,f.cachePool),_g(n,f),Hs(),n.memoizedState=null):(t!==null&&Uu(n,null),_f(),Hs());return rn(t,n,h,a),n.child}function ao(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(t,n,a,l,h){var f=ff();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Uu(n,null),_f(),vg(n),t!==null&&ka(t,n,l,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function yy(t,n,a){return Yr(n,t.child,null,a),t=ec(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function iT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Xe){if(l.mode==="hidden")return t=ec(n,l),n.lanes=536870912,ao(null,t);if(bf(n),(t=vt)?(t=C0(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,nn=n,vt=null)):t=null,t===null)throw Ls(n);return n.lanes=536870912,null}return ec(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=yy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(qt||ka(t,n,a,!1),h=(a&t.childLanes)!==0,qt||h){if(l=mt,l!==null&&(g=Rl(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Pr(t,g),wn(l,t,g),qf;hc(),n=yy(t,n,a)}else t=f.treeContext,vt=Wn(g.nextSibling),nn=n,Xe=!0,js=null,Zn=!1,t!==null&&ig(n,t),n=ec(n,l),n.flags|=4096;return n}return t=es(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bf(t,n,a,l,h){return Hr(n),a=Tf(t,n,a,l,void 0,h),l=Sf(),t!==null&&!qt?(Af(t,n,h),as(t,n,h)):(Xe&&l&&nf(n),n.flags|=1,rn(t,n,a,h),n.child)}function _y(t,n,a,l,h,f){return Hr(n),n.updateQueue=null,a=Eg(n,l,a,h),bg(t),l=Sf(),t!==null&&!qt?(Af(t,n,f),as(t,n,f)):(Xe&&l&&nf(n),n.flags|=1,rn(t,n,a,f),n.child)}function vy(t,n,a,l,h){if(Hr(n),n.stateNode===null){var f=Da,g=a.contextType;typeof g=="object"&&g!==null&&(f=sn(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},mf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?sn(g):Da,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),to(n,l,f,h),eo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Xr(a,E);f.props=N;var z=f.context,Q=a.contextType;g=Da,typeof Q=="object"&&Q!==null&&(g=sn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&ry(n,f,l,g),Ps=!1;var q=n.memoizedState;f.state=q,to(n,l,f,h),eo(),z=n.memoizedState,E||q!==z||Ps?(typeof Z=="function"&&(Uf(n,a,Z,l),z=n.memoizedState),(N=Ps||sy(n,a,N,l,q,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,pf(t,n),g=n.memoizedProps,Q=Xr(a,g),f.props=Q,Z=n.pendingProps,q=f.context,z=a.contextType,N=Da,typeof z=="object"&&z!==null&&(N=sn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||q!==N)&&ry(n,f,l,N),Ps=!1,q=n.memoizedState,f.state=q,to(n,l,f,h),eo();var F=n.memoizedState;g!==Z||q!==F||Ps||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Uf(n,a,E,l),F=n.memoizedState),(Q=Ps||sy(n,a,Q,l,q,F,N)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,tc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Yr(n,t.child,null,h),n.child=Yr(n,null,a,h)):rn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=as(t,n,h),t}function by(t,n,a,l){return qr(),n.flags|=256,rn(t,n,a,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:ug()}}function Gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Un),t}function Ey(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xe){if(h?Bs(n):Hs(),(t=vt)?(t=C0(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,nn=n,vt=null)):t=null,t===null)throw Ls(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Hs(),h=n.mode,E=nc({mode:"hidden",children:E},h),l=zr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,g,a),n.memoizedState=Hf,ao(null,l)):(Bs(n),Qf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Bs(n),n.flags&=-257,n=Yf(t,n,a)):n.memoizedState!==null?(Hs(),n.child=t.child,n.flags|=128,n=null):(Hs(),E=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),E=zr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Yr(n,t.child,null,a),l=n.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,g,a),n.memoizedState=Hf,n=ao(null,l));else if(Bs(n),Rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(r(419)),l.stack="",l.digest=g,Kl({value:l,source:null,stack:null}),n=Yf(t,n,a)}else if(qt||ka(t,n,a,!1),g=(a&t.childLanes)!==0,qt||g){if(g=mt,g!==null&&(l=Rl(g,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Pr(t,l),wn(g,t,l),qf;wd(E)||hc(),n=Yf(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,vt=Wn(E.nextSibling),nn=n,Xe=!0,js=null,Zn=!1,t!==null&&ig(n,t),n=Qf(n,l.children),n.flags|=4096);return n}return h?(Hs(),E=l.fallback,h=n.mode,N=t.child,z=N.sibling,l=es(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=es(z,E):(E=zr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,ao(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(N=Pt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ug(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Gf(t,g,a),n.memoizedState=Hf,ao(t.child,l)):(Bs(n),a=t.child,t=a.sibling,a=es(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Qf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Vn(22,t,null,n),t.lanes=0,t}function Yf(t,n,a){return Yr(n,t.child,null,a),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),of(t.return,n,a)}function Kf(t,n,a,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Sy(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Dt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,G(Dt,g),rn(t,n,l,a),l=Xe?Yl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,n);else if(t.tag===19)Ty(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Fu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Kf(n,!0,a,null,f,l);break;case"together":Kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function as(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Qs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ka(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=es(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=es(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function sT(t,n,a){switch(n.tag){case 3:Be(n,n.stateNode.containerInfo),Us(n,Pt,t.memoizedState.cache),qr();break;case 27:case 5:Le(n);break;case 4:Be(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Bs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(t,n,a):(Bs(n),t=as(t,n,a),t!==null?t.sibling:null);Bs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ka(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Sy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(Dt,Dt.current),l)break;return null;case 22:return n.lanes=0,py(t,n,a,n.pendingProps);case 24:Us(n,Pt,t.memoizedState.cache)}return as(t,n,a)}function Ay(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Xf(t,a)&&(n.flags&128)===0)return qt=!1,sT(t,n,a);qt=(t.flags&131072)!==0}else qt=!1,Xe&&(n.flags&1048576)!==0&&ng(n,Yl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Gr(n.elementType),n.type=t,typeof t=="function")Wh(t)?(l=Xr(t,l),n.tag=1,n=vy(null,n,t,l,a)):(n.tag=0,n=Bf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===nt){n.tag=11,n=fy(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=dy(null,n,t,l,a);break e}}throw n=pt(t)||t,Error(r(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Xr(l,n.pendingProps),vy(t,n,l,h,a);case 3:e:{if(Be(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),to(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Us(n,Pt,l),l!==f.cache&&uf(n,[Pt],a,!0),eo(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=by(t,n,l,a);break e}else if(l!==h){h=Kn(Error(r(424)),n),Kl(h),n=by(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=Wn(t.firstChild),nn=n,Xe=!0,js=null,Zn=!0,a=pg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qr(),l===h){n=as(t,n,a);break e}rn(t,n,l,a)}n=n.child}return n;case 26:return tc(t,n),t===null?(a=k0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Xe||(a=n.type,t=n.pendingProps,l=_c(he.current).createElement(a),l[jt]=n,l[$t]=t,an(l,a,t),Lt(l),n.stateNode=l):n.memoizedState=k0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Le(n),t===null&&Xe&&(l=n.stateNode=O0(n.type,n.pendingProps,he.current),nn=n,Zn=!0,h=vt,Zs(n.type)?(Nd=h,vt=Wn(l.firstChild)):vt=h),rn(t,n,n.pendingProps.children,a),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xe&&((h=l=vt)&&(l=VT(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,nn=n,vt=Wn(l.firstChild),Zn=!1,h=!0):h=!1),h||Ls(n)),Le(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Sd(h,f)?l=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,XE,null,null,a),To._currentValue=h),tc(t,n),rn(t,n,l,a),n.child;case 6:return t===null&&Xe&&((t=a=vt)&&(a=kT(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,nn=n,vt=null,t=!0):t=!1),t||Ls(n)),null;case 13:return Ey(t,n,a);case 4:return Be(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Yr(n,null,l,a):rn(t,n,l,a),n.child;case 11:return fy(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Us(n,n.type,l.value),rn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Hr(n),h=sn(h),l=l(h),n.flags|=1,rn(t,n,l,a),n.child;case 14:return dy(t,n,n.type,n.pendingProps,a);case 15:return my(t,n,n.type,n.pendingProps,a);case 19:return Sy(t,n,a);case 31:return iT(t,n,a);case 22:return py(t,n,a,n.pendingProps);case 24:return Hr(n),l=sn(Pt),t===null?(h=ff(),h===null&&(h=mt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},mf(n),Us(n,Pt,h)):((t.lanes&a)!==0&&(pf(t,n),to(n,null,null,a),eo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,Pt,l)):(l=f.cache,Us(n,Pt,l),l!==h.cache&&uf(n,[Pt],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ls(t){t.flags|=4}function $f(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw Qr=zu,df}else t.flags&=-16777217}function xy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z0(n))if(Zy())t.flags|=8192;else throw Qr=zu,df}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,Ya|=n)}function lo(t,n){if(!Xe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function rT(t,n,a){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),is(Pt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ls(n),f!==null?(bt(n),xy(n,f)):(bt(n),$f(n,h,null,l,a))):f?f!==t.memoizedState?(ls(n),bt(n),xy(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ls(n),bt(n),$f(n,h,t,l,a)),null;case 27:if(rt(n),a=he.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return bt(n),null}t=W.current,Va(n)?sg(n):(t=O0(h,l,a),n.stateNode=t,ls(n))}return bt(n),null;case 5:if(rt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return bt(n),null}if(f=W.current,Va(n))sg(n);else{var g=_c(he.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[jt]=n,f[$t]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(an(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ls(n)}}return bt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=he.current,Va(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E0(t.nodeValue,a)),t||Ls(n,!0)}else t=_c(t).createTextNode(l),t[jt]=n,n.stateNode=t}return bt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Va(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[jt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return bt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),bt(n),null);case 4:return Oe(),t===null&&_d(n.stateNode.containerInfo),bt(n),null;case 10:return is(n.type),bt(n),null;case 19:if(B(Dt),l=n.memoizedState,l===null)return bt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)lo(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,lo(l,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Wp(a,t),a=a.sibling;return G(Dt,Dt.current&1|2),Xe&&ts(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$e()>oc&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Xe)return bt(n),null}else 2*$e()-l.renderingStartTime>oc&&a!==536870912&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$e(),t.sibling=null,a=Dt.current,G(Dt,h?a&1|2:a&1),Xe&&ts(n,l.treeForkCount),t):(bt(n),null);case 22:case 23:return jn(n),vf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&B(Fr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),is(Pt),bt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function aT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(Pt),Oe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return rt(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(r(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return B(Dt),null;case 4:return Oe(),null;case 10:return is(n.type),null;case 22:case 23:return jn(n),vf(),t!==null&&B(Fr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(Pt),null;case 25:return null;default:return null}}function wy(t,n){switch(sf(n),n.tag){case 3:is(Pt),Oe();break;case 26:case 27:case 5:rt(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:B(Dt);break;case 10:is(n.type);break;case 22:case 23:jn(n),vf(),t!==null&&B(Fr);break;case 24:is(Pt)}}function oo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){ot(n,n.return,E)}}function Fs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=a,z=E;try{z()}catch(Q){ot(h,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){ot(n,n.return,Q)}}function Ry(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{yg(n,a)}catch(l){ot(t,t.return,l)}}}function Ny(t,n,a){a.props=Xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ot(t,n,l)}}function uo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ot(t,n,h)}}function Pi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ot(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ot(t,n,h)}else a.current=null}function Cy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ot(t,t.return,h)}}function Zf(t,n,a){try{var l=t.stateNode;NT(l,t.type,a,n),l[$t]=n}catch(h){ot(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=li));else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,a),t=t.sibling;t!==null;)Wf(t,n,a),t=t.sibling}function sc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(sc(t,n,a),t=t.sibling;t!==null;)sc(t,n,a),t=t.sibling}function Dy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,l,a),n[jt]=t,n[$t]=a}catch(f){ot(t,t.return,f)}}var os=!1,Bt=!1,ed=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function lT(t,n){if(t=t.containerInfo,Ed=xc,t=Fp(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,N=-1,z=0,Q=0,Z=t,q=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=g+h),Z!==f||l!==0&&Z.nodeType!==3||(N=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(F=Z.firstChild)!==null;)q=Z,Z=F;for(;;){if(Z===t)break t;if(q===a&&++z===h&&(E=g),q===f&&++Q===l&&(N=g),(F=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=F}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},xc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var de=Xr(a.type,h);t=l.getSnapshotBeforeUpdate(de,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){ot(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function My(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cs(t,a),l&4&&oo(5,a);break;case 1:if(cs(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){ot(a,a.return,g)}else{var h=Xr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ot(a,a.return,g)}}l&64&&Ry(a),l&512&&uo(a,a.return);break;case 3:if(cs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yg(t,n)}catch(g){ot(a,a.return,g)}}break;case 27:n===null&&l&4&&Dy(a);case 26:case 5:cs(t,a),n===null&&l&4&&Cy(a),l&512&&uo(a,a.return);break;case 12:cs(t,a);break;case 31:cs(t,a),l&4&&jy(t,a);break;case 13:cs(t,a),l&4&&Ly(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gT.bind(null,a),jT(t,a))));break;case 22:if(l=a.memoizedState!==null||os,!l){n=n!==null&&n.memoizedState!==null||Bt,h=os;var f=Bt;os=l,(Bt=n)&&!f?hs(t,a,(a.subtreeFlags&8772)!==0):cs(t,a),os=h,Bt=f}break;case 30:break;default:cs(t,a)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ya(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,Tn=!1;function us(t,n,a){for(a=a.child;a!==null;)ky(t,n,a),a=a.sibling}function ky(t,n,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(In,a)}catch{}switch(a.tag){case 26:Bt||Pi(a,n),us(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Pi(a,n);var l=St,h=Tn;Zs(a.type)&&(St=a.stateNode,Tn=!1),us(t,n,a),vo(a.stateNode),St=l,Tn=h;break;case 5:Bt||Pi(a,n);case 6:if(l=St,h=Tn,St=null,us(t,n,a),St=l,Tn=h,St!==null)if(Tn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(a.stateNode)}catch(f){ot(a,n,f)}else try{St.removeChild(a.stateNode)}catch(f){ot(a,n,f)}break;case 18:St!==null&&(Tn?(t=St,R0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),tl(t)):R0(St,a.stateNode));break;case 4:l=St,h=Tn,St=a.stateNode.containerInfo,Tn=!0,us(t,n,a),St=l,Tn=h;break;case 0:case 11:case 14:case 15:Fs(2,a,n),Bt||Fs(4,a,n),us(t,n,a);break;case 1:Bt||(Pi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ny(a,n,l)),us(t,n,a);break;case 21:us(t,n,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,us(t,n,a),Bt=l;break;default:us(t,n,a)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{tl(t)}catch(a){ot(n,n.return,a)}}}function Ly(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tl(t)}catch(a){ot(n,n.return,a)}}function oT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Oy),n;default:throw Error(r(435,t.tag))}}function rc(t,n){var a=oT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=yT.bind(null,t,l);l.then(h,h)}})}function Sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Zs(E.type)){St=E.stateNode,Tn=!1;break e}break;case 5:St=E.stateNode,Tn=!1;break e;case 3:case 4:St=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(St===null)throw Error(r(160));ky(f,g,h),St=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,t),n=n.sibling}var di=null;function Uy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),An(t),l&4&&(Fs(3,t,t.return),oo(3,t),Fs(5,t,t.return));break;case 1:Sn(n,t),An(t),l&512&&(Bt||a===null||Pi(a,a.return)),l&64&&os&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=di;if(Sn(n,t),An(t),l&512&&(Bt||a===null||Pi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xi]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,l,a),f[jt]=t,Lt(f),l=f;break e;case"link":var g=U0("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),an(f,l,a),h.head.appendChild(f);break;case"meta":if(g=U0("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(l),an(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[jt]=t,Lt(f),l=f}t.stateNode=l}else P0(h,t.type,t.stateNode);else t.stateNode=L0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?P0(h,t.type,t.stateNode):L0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(n,t),An(t),l&512&&(Bt||a===null||Pi(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(n,t),An(t),l&512&&(Bt||a===null||Pi(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(de){ot(t,t.return,de)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(Sn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){ot(t,t.return,de)}}break;case 3:if(Ec=null,h=di,di=vc(n.containerInfo),Sn(n,t),di=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(de){ot(t,t.return,de)}ed&&(ed=!1,Py(t));break;case 4:l=di,di=vc(t.stateNode.containerInfo),Sn(n,t),An(t),di=l;break;case 12:Sn(n,t),An(t);break;case 31:Sn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:Sn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lc=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=os,Q=Bt;if(os=z||h,Bt=Q||N,Sn(n,t),Bt=Q,os=z,An(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||os||Bt||$r(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var Z=N.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(de){ot(N,N.return,de)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(de){ot(N,N.return,de)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?N0(F,!0):N0(N.stateNode,!1)}catch(de){ot(N,N.return,de)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rc(t,a))));break;case 19:Sn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:Sn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Iy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(t);sc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(En(g,""),a.flags&=-33);var E=Jf(t);sc(t,E,g);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Jf(t);Wf(t,z,N);break;default:throw Error(r(161))}}catch(Q){ot(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)My(t,n.alternate,n),n=n.sibling}function $r(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),$r(n);break;case 1:Pi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ny(n,n.return,a),$r(n);break;case 27:vo(n.stateNode);case 26:case 5:Pi(n,n.return),$r(n);break;case 22:n.memoizedState===null&&$r(n);break;case 30:$r(n);break;default:$r(n)}t=t.sibling}}function hs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,a),oo(4,f);break;case 1:if(hs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ot(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)gg(N[h],E)}catch(z){ot(l,l.return,z)}}a&&g&64&&Ry(f),uo(f,f.return);break;case 27:Dy(f);case 26:case 5:hs(h,f,a),a&&l===null&&g&4&&Cy(f),uo(f,f.return);break;case 12:hs(h,f,a);break;case 31:hs(h,f,a),a&&g&4&&jy(h,f);break;case 13:hs(h,f,a),a&&g&4&&Ly(h,f);break;case 22:f.memoizedState===null&&hs(h,f,a),uo(f,f.return);break;case 30:break;default:hs(h,f,a)}n=n.sibling}}function td(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xl(a))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t))}function mi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zy(t,n,a,l),n=n.sibling}function zy(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,a,l),h&2048&&oo(9,n);break;case 1:mi(t,n,a,l);break;case 3:mi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t)));break;case 12:if(h&2048){mi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ot(n,n.return,N)}}else mi(t,n,a,l);break;case 31:mi(t,n,a,l);break;case 13:mi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,a,l):co(t,n):f._visibility&2?mi(t,n,a,l):(f._visibility|=2,Fa(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(g,n);break;case 24:mi(t,n,a,l),h&2048&&nd(n.alternate,n);break;default:mi(t,n,a,l)}}function Fa(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,N=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(f,g,E,N,h),oo(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Fa(f,g,E,N,h):co(f,g):(Q._visibility|=2,Fa(f,g,E,N,h)),h&&z&2048&&td(g.alternate,g);break;case 24:Fa(f,g,E,N,h),h&&z&2048&&nd(g.alternate,g);break;default:Fa(f,g,E,N,h)}n=n.sibling}}function co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:co(a,l),h&2048&&td(l.alternate,l);break;case 24:co(a,l),h&2048&&nd(l.alternate,l);break;default:co(a,l)}n=n.sibling}}var ho=8192;function Ga(t,n,a){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)qy(t,n,a),t=t.sibling}function qy(t,n,a){switch(t.tag){case 26:Ga(t,n,a),t.flags&ho&&t.memoizedState!==null&&KT(a,di,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,n,a);break;case 3:case 4:var l=di;di=vc(t.stateNode.containerInfo),Ga(t,n,a),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ho,ho=16777216,Ga(t,n,a),ho=l):Ga(t,n,a));break;default:Ga(t,n,a)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,Fy(l,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:fo(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:fo(t);break;case 12:fo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):fo(t);break;default:fo(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,Fy(l,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function Fy(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:Fs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var h=l.sibling,f=l.return;if(Vy(l),l===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var uT={getCacheForType:function(t){var n=sn(Pt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return sn(Pt).controller.signal}},cT=typeof WeakMap=="function"?WeakMap:Map,tt=0,mt=null,Pe=null,He=0,lt=0,Ln=null,Gs=!1,Qa=!1,id=!1,fs=0,wt=0,Qs=0,Zr=0,sd=0,Un=0,Ya=0,mo=null,xn=null,rd=!1,lc=0,Gy=0,oc=1/0,uc=null,Ys=null,Kt=0,Ks=null,Ka=null,ds=0,ad=0,ld=null,Qy=null,po=0,od=null;function Pn(){return(tt&2)!==0&&He!==0?He&-He:L.T!==null?md():cu()}function Yy(){if(Un===0)if((He&536870912)===0||Xe){var t=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),Un=t}else Un=536870912;return t=kn.current,t!==null&&(t.flags|=32),Un}function wn(t,n,a){(t===mt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Xs(t,He,Un,!1)),xr(t,a),((tt&2)===0||t!==mt)&&(t===mt&&((tt&2)===0&&(Zr|=a),wt===4&&Xs(t,He,Un,!1)),zi(t))}function Ky(t,n,a){if((tt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||si(t,n),h=l?dT(t,n):cd(t,n,!0),f=l;do{if(h===0){Qa&&!l&&Xs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!hT(a)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=mo;var N=E.current.memoizedState.isDehydrated;if(N&&(Xa(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!N){E.errorRecoveryDisabledLanes|=f,Zr|=f,h=4;break e}f=xn,xn=h,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Xa(t,0),Xs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,Un,!Gs);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=lc+300-$e(),10<h)){if(Xs(l,n,Un,!Gs),Ti(l,0,!0)!==0)break e;ds=n,l.timeoutHandle=x0(Xy.bind(null,l,a,xn,uc,rd,n,Un,Zr,Ya,Gs,f,"Throttled",-0,0),h);break e}Xy(l,a,xn,uc,rd,n,Un,Zr,Ya,Gs,f,null,-0,0)}}break}while(!0);zi(t)}function Xy(t,n,a,l,h,f,g,E,N,z,Q,Z,q,F){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},qy(n,f,Z);var de=(f&62914560)===f?lc-$e():(f&4194048)===f?Gy-$e():0;if(de=XT(Z,de),de!==null){ds=f,t.cancelPendingCommit=de(i0.bind(null,t,n,f,a,l,h,g,E,N,Q,Z,null,q,F)),Xs(t,f,g,!z);return}}i0(t,n,f,a,l,h,g,E,N)}function hT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Mn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,a,l){n&=~sd,n&=~Zr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ct(h),g=1<<f;l[f]=-1,h&=~g}a!==0&&wr(t,a,n)}function cc(){return(tt&6)===0?(go(0),!1):!0}function ud(){if(Pe!==null){if(lt===0)var t=Pe.return;else t=Pe,ns=Br=null,xf(t),Pa=null,Zl=0,t=Pe;for(;t!==null;)wy(t.alternate,t),t=t.return;Pe=null}}function Xa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ds=0,ud(),mt=t,Pe=a=es(t.current,null),He=n,lt=0,Ln=null,Gs=!1,Qa=si(t,n),id=!1,Ya=Un=sd=Zr=Qs=wt=0,xn=mo=null,rd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ct(l),f=1<<h;n|=t[h],l&=~f}return fs=n,Du(),a}function $y(t,n){Ve=null,L.H=ro,n===Ua||n===Pu?(n=fg(),lt=3):n===df?(n=fg(),lt=4):lt=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Pe===null&&(wt=1,Wu(t,Kn(n,t.current)))}function Zy(){var t=kn.current;return t===null?!0:(He&4194048)===He?Jn===null:(He&62914560)===He||(He&536870912)!==0?t===Jn:!1}function Jy(){var t=L.H;return L.H=ro,t===null?ro:t}function Wy(){var t=L.A;return L.A=uT,t}function hc(){wt=4,Gs||(He&4194048)!==He&&kn.current!==null||(Qa=!0),(Qs&134217727)===0&&(Zr&134217727)===0||mt===null||Xs(mt,He,Un,!1)}function cd(t,n,a){var l=tt;tt|=2;var h=Jy(),f=Wy();(mt!==t||He!==n)&&(uc=null,Xa(t,n)),n=!1;var g=wt;e:do try{if(lt!==0&&Pe!==null){var E=Pe,N=Ln;switch(lt){case 8:ud(),g=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var z=lt;if(lt=0,Ln=null,$a(t,E,N,z),a&&Qa){g=0;break e}break;default:z=lt,lt=0,Ln=null,$a(t,E,N,z)}}fT(),g=wt;break}catch(Q){$y(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ns=Br=null,tt=l,L.H=h,L.A=f,Pe===null&&(mt=null,He=0,Du()),g}function fT(){for(;Pe!==null;)e0(Pe)}function dT(t,n){var a=tt;tt|=2;var l=Jy(),h=Wy();mt!==t||He!==n?(uc=null,oc=$e()+500,Xa(t,n)):Qa=si(t,n);e:do try{if(lt!==0&&Pe!==null){n=Pe;var f=Ln;t:switch(lt){case 1:lt=0,Ln=null,$a(t,n,f,1);break;case 2:case 9:if(cg(f)){lt=0,Ln=null,t0(n);break}n=function(){lt!==2&&lt!==9||mt!==t||(lt=7),zi(t)},f.then(n,n);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:cg(f)?(lt=0,Ln=null,t0(n)):(lt=0,Ln=null,$a(t,n,f,7));break;case 5:var g=null;switch(Pe.tag){case 26:g=Pe.memoizedState;case 5:case 27:var E=Pe;if(g?z0(g):E.stateNode.complete){lt=0,Ln=null;var N=E.sibling;if(N!==null)Pe=N;else{var z=E.return;z!==null?(Pe=z,fc(z)):Pe=null}break t}}lt=0,Ln=null,$a(t,n,f,5);break;case 6:lt=0,Ln=null,$a(t,n,f,6);break;case 8:ud(),wt=6;break e;default:throw Error(r(462))}}mT();break}catch(Q){$y(t,Q)}while(!0);return ns=Br=null,L.H=l,L.A=h,tt=a,Pe!==null?0:(mt=null,He=0,Du(),wt)}function mT(){for(;Pe!==null&&!_t();)e0(Pe)}function e0(t){var n=Ay(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?fc(t):Pe=n}function t0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=_y(a,n,n.pendingProps,n.type,void 0,He);break;case 11:n=_y(a,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:xf(n);default:wy(a,n),n=Pe=Wp(n,fs),n=Ay(a,n,fs)}t.memoizedProps=t.pendingProps,n===null?fc(t):Pe=n}function $a(t,n,a,l){ns=Br=null,xf(n),Pa=null,Zl=0;var h=n.return;try{if(nT(t,h,n,a,He)){wt=1,Wu(t,Kn(a,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;wt=1,Wu(t,Kn(a,t.current)),Pe=null;return}n.flags&32768?(Xe||l===1?t=!0:Qa||(He&536870912)!==0?t=!1:(Gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),n0(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){n0(n,Gs);return}t=n.return;var a=rT(n.alternate,n,fs);if(a!==null){Pe=a;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);wt===0&&(wt=5)}function n0(t,n){do{var a=aT(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);wt=6,Pe=null}function i0(t,n,a,l,h,f,g,E,N){t.cancelPendingCommit=null;do dc();while(Kt!==0);if((tt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zh,Bh(t,a,f,g,E,N),t===mt&&(Pe=mt=null,He=0),Ka=n,Ks=t,ds=a,ad=f,ld=h,Qy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_T(qn,function(){return o0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=X.p,X.p=2,g=tt,tt|=4;try{lT(t,n,a)}finally{tt=g,X.p=h,L.T=l}}Kt=1,s0(),r0(),a0()}}function s0(){if(Kt===1){Kt=0;var t=Ks,n=Ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=X.p;X.p=2;var h=tt;tt|=4;try{Uy(n,t);var f=Td,g=Fp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Hp(E.ownerDocument.documentElement,E)){if(N!==null&&Qh(E)){var z=N.start,Q=N.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var F=q.getSelection(),de=E.textContent.length,ve=Math.min(N.start,de),ft=N.end===void 0?ve:Math.min(N.end,de);!F.extend&&ve>ft&&(g=ft,ft=ve,ve=g);var k=Bp(E,ve),D=Bp(E,ft);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var P=Z.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),ve>ft?(F.addRange(P),F.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),F.addRange(P))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var K=Z[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}xc=!!Ed,Td=Ed=null}finally{tt=h,X.p=l,L.T=a}}t.current=n,Kt=2}}function r0(){if(Kt===2){Kt=0;var t=Ks,n=Ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=X.p;X.p=2;var h=tt;tt|=4;try{My(t,n.alternate,n)}finally{tt=h,X.p=l,L.T=a}}Kt=3}}function a0(){if(Kt===4||Kt===3){Kt=0,vn();var t=Ks,n=Ka,a=ds,l=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Ka=Ks=null,l0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ys=null),$i(a),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(In,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,h=X.p,X.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{L.T=n,X.p=h}}(ds&3)!==0&&dc(),zi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===od?po++:(po=0,od=t):po=0,go(0)}}function l0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xl(n)))}function dc(){return s0(),r0(),a0(),o0()}function o0(){if(Kt!==5)return!1;var t=Ks,n=ad;ad=0;var a=$i(ds),l=L.T,h=X.p;try{X.p=32>a?32:a,L.T=null,a=ld,ld=null;var f=Ks,g=ds;if(Kt=0,Ka=Ks=null,ds=0,(tt&6)!==0)throw Error(r(331));var E=tt;if(tt|=4,Hy(f.current),zy(f,f.current,g,a),tt=E,go(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(In,f)}catch{}return!0}finally{X.p=h,L.T=l,l0(t,n)}}function u0(t,n,a){n=Kn(a,n),n=zf(t.stateNode,n,2),t=qs(t,n,2),t!==null&&(xr(t,2),zi(t))}function ot(t,n,a){if(t.tag===3)u0(t,t,a);else for(;n!==null;){if(n.tag===3){u0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){t=Kn(a,t),a=cy(2),l=qs(n,a,2),l!==null&&(hy(a,l,n,t),xr(l,2),zi(l));break}}n=n.return}}function hd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(id=!0,h.add(a),t=pT.bind(null,t,n,a),n.then(t,t))}function pT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,mt===t&&(He&a)===a&&(wt===4||wt===3&&(He&62914560)===He&&300>$e()-lc?(tt&2)===0&&Xa(t,0):sd|=a,Ya===He&&(Ya=0)),zi(t)}function c0(t,n){n===0&&(n=uu()),t=Pr(t,n),t!==null&&(xr(t,n),zi(t))}function gT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),c0(t,a)}function yT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),c0(t,a)}function _T(t,n){return ee(t,n)}var mc=null,Za=null,fd=!1,pc=!1,dd=!1,$s=0;function zi(t){t!==Za&&t.next===null&&(Za===null?mc=Za=t:Za=Za.next=t),pc=!0,fd||(fd=!0,bT())}function go(t,n){if(!dd&&pc){dd=!0;do for(var a=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ct(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,m0(l,f))}else f=He,f=Ti(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||si(l,f)||(a=!0,m0(l,f));l=l.next}while(a);dd=!1}}function vT(){h0()}function h0(){pc=fd=!1;var t=0;$s!==0&&IT()&&(t=$s);for(var n=$e(),a=null,l=mc;l!==null;){var h=l.next,f=f0(l,n);f===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(Za=a)):(a=l,(t!==0||(f&3)!==0)&&(pc=!0)),l=h}Kt!==0&&Kt!==5||go(t),$s!==0&&($s=0)}function f0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ct(f),E=1<<g,N=h[g];N===-1?((E&a)===0||(E&l)!==0)&&(h[g]=qh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,a=He,a=Ti(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ue(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||si(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ue(l),$i(a)){case 2:case 8:a=Xi;break;case 32:a=qn;break;case 268435456:a=xs;break;default:a=qn}return l=d0.bind(null,t),a=ee(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ue(l),t.callbackPriority=2,t.callbackNode=null,2}function d0(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var l=He;return l=Ti(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ky(t,l,n),f0(t,$e()),t.callbackNode!=null&&t.callbackNode===a?d0.bind(null,t):null)}function m0(t,n){if(dc())return null;Ky(t,n,!0)}function bT(){OT(function(){(tt&6)!==0?ee(vi,vT):h0()})}function md(){if($s===0){var t=ja;t===0&&(t=bi,bi<<=1,(bi&261888)===0&&(bi=256)),$s=t}return $s}function p0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function g0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function ET(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=p0((h[$t]||null).action),g=l.submitter;g&&(n=(n=g[$t]||null)?p0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Mi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var N=g?g0(h,g):new FormData(h);Vf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?g0(h,g):new FormData(h),Vf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],TT=gd.toLowerCase(),ST=gd[0].toUpperCase()+gd.slice(1);fi(TT,"on"+ST)}fi(Yp,"onAnimationEnd"),fi(Kp,"onAnimationIteration"),fi(Xp,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(PE,"onTransitionRun"),fi(zE,"onTransitionStart"),fi(qE,"onTransitionCancel"),fi($p,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function y0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=N}}}}function ze(t,n){var a=n[ga];a===void 0&&(a=n[ga]=new Set);var l=t+"__bubble";a.has(l)||(_0(n,t,2,!1),a.add(l))}function yd(t,n,a){var l=0;n&&(l|=4),_0(a,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[gc]){t[gc]=!0,Nl.forEach(function(a){a!=="selectionchange"&&(AT.has(a)||yd(a,!1,t),yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,yd("selectionchange",!1,n))}}function _0(t,n,a,l){switch(Y0(n)){case 2:var h=JT;break;case 8:h=WT;break;default:h=Md}a=h.bind(null,n,a,t),h=void 0,!Dr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function vd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=wi(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ds(function(){var z=f,Q=Fn(a),Z=[];e:{var q=Zp.get(t);if(q!==void 0){var F=Mi,de=t;switch(t){case"keypress":if(Mr(a)===0)break e;case"keydown":case"keyup":F=Ru;break;case"focusin":de="focus",F=kr;break;case"focusout":de="blur",F=kr;break;case"beforeblur":case"afterblur":F=kr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Yp:case Kp:case Xp:F=bu;break;case $p:F=T;break;case"scroll":case"scrollend":F=zl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Wi;break;case"toggle":case"beforetoggle":F=Me}var ve=(n&4)!==0,ft=!ve&&(t==="scroll"||t==="scrollend"),k=ve?q!==null?q+"Capture":null:q;ve=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=oi(D,k),K!=null&&ve.push(_o(D,K,P))),ft)break;D=D.return}0<ve.length&&(q=new F(q,de,null,a,Q),Z.push({event:q,listeners:ve}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Ll&&(de=a.relatedTarget||a.fromElement)&&(wi(de)||de[Ai]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(de=a.relatedTarget||a.toElement,F=z,de=de?wi(de):null,de!==null&&(ft=c(de),ve=de.tag,de!==ft||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(F=null,de=z),F!==de)){if(ve=ql,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Wi,K="onPointerLeave",k="onPointerEnter",D="pointer"),ft=F==null?q:Dn(F),P=de==null?q:Dn(de),q=new ve(K,D+"leave",F,a,Q),q.target=ft,q.relatedTarget=P,K=null,wi(Q)===z&&(ve=new ve(k,D+"enter",de,a,Q),ve.target=P,ve.relatedTarget=ft,K=ve),ft=K,F&&de)t:{for(ve=xT,k=F,D=de,P=0,K=k;K;K=ve(K))P++;K=0;for(var pe=D;pe;pe=ve(pe))K++;for(;0<P-K;)k=ve(k),P--;for(;0<K-P;)D=ve(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){ve=k;break t}k=ve(k),D=ve(D)}ve=null}else ve=null;F!==null&&v0(Z,q,F,ve,!1),de!==null&&ft!==null&&v0(Z,ft,de,ve,!0)}}e:{if(q=z?Dn(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Je=jp;else if(Vp(q))if(Lp)Je=jE;else{Je=VE;var me=ME}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ba(z.elementType)&&(Je=jp):Je=kE;if(Je&&(Je=Je(t,z))){kp(Z,Je,a,Q);break e}me&&me(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Vl(q,"number",q.value)}switch(me=z?Dn(z):window,t){case"focusin":(Vp(me)||me.contentEditable==="true")&&(Na=me,Yh=z,Ql=null);break;case"focusout":Ql=Yh=Na=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Gp(Z,a,Q);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Gp(Z,a,Q)}var je;if(et)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ra?jr(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(ji&&a.locale!=="ko"&&(Ra||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ra&&(je=Pl()):(Oi=Q,Ul="value"in Oi?Oi.value:Oi.textContent,Ra=!0)),me=yc(z,Fe),0<me.length&&(Fe=new ki(Fe,t,null,a,Q),Z.push({event:Fe,listeners:me}),je?Fe.data=je:(je=wa(a),je!==null&&(Fe.data=je)))),(je=Qn?CE(t,a):IE(t,a))&&(Fe=yc(z,"onBeforeInput"),0<Fe.length&&(me=new ki("onBeforeInput","beforeinput",null,a,Q),Z.push({event:me,listeners:Fe}),me.data=je)),ET(Z,t,z,a,Q)}y0(Z,n)})}function _o(t,n,a){return{instance:t,listener:n,currentTarget:a}}function yc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,a),h!=null&&l.unshift(_o(t,h,f)),h=oi(t,n),h!=null&&l.push(_o(t,h,f))),t.tag===3)return l;t=t.return}return[]}function xT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v0(t,n,a,l,h){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=oi(a,f),z!=null&&g.unshift(_o(a,z,N))):h||(z=oi(a,f),z!=null&&g.push(_o(a,z,N)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var wT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function b0(t){return(typeof t=="string"?t:""+t).replace(wT,`
`).replace(RT,"")}function E0(t,n){return n=b0(n),b0(t)===n}function ht(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(t,""+l);break;case"className":On(t,"class",l);break;case"tabIndex":On(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(t,a,l);break;case"style":jl(t,l,f);break;case"data":if(n!=="object"){On(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,_a(t,a,l))}}function bd(t,n,a,l,h,f){switch(a){case"style":jl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[$t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function an(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,f,g,a,null)}}h&&ht(t,n,"srcSet",a.srcSet,a,null),l&&ht(t,n,"src",a.src,a,null);return;case"input":ze("invalid",t);var E=f=g=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ht(t,n,l,Q,a,null)}}mu(t,f,E,N,z,g,h,!1);return;case"select":ze("invalid",t),l=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ht(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Rs(t,!!l,n,!1):a!=null&&Rs(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ht(t,n,g,E,a,null)}Ns(t,l,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ht(t,n,N,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<yo.length;l++)ze(yo[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,z,l,a,null)}return;default:if(ba(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&bd(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ht(t,n,E,l,a,null))}function NT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,z=null,Q=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(F)||ht(t,n,F,null,l,Z)}}for(var q in l){var F=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(F!=null||Z!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Z&&ht(t,n,q,F,l,Z)}}va(t,g,E,N,z,Q,f,h);return;case"select":F=g=E=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&ht(t,n,h,f,l,N)}n=E,a=g,l=F,q!=null?Rs(t,!!a,q,!1):!!l!=!!a&&(n!=null?Rs(t,!!a,n,!0):Rs(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=a[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ht(t,n,g,h,l,f)}pu(t,q,F);return;case"option":for(var de in a)if(q=a[de],a.hasOwnProperty(de)&&q!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:ht(t,n,de,null,l,q)}for(N in l)if(q=l[N],F=a[N],l.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ht(t,n,N,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&ht(t,n,ve,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ht(t,n,z,q,l,F)}return;default:if(ba(n)){for(var ft in a)q=a[ft],a.hasOwnProperty(ft)&&q!==void 0&&!l.hasOwnProperty(ft)&&bd(t,n,ft,void 0,l,q);for(Q in l)q=l[Q],F=a[Q],!l.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||bd(t,n,Q,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&ht(t,n,k,null,l,q);for(Z in l)q=l[Z],F=a[Z],!l.hasOwnProperty(Z)||q===F||q==null&&F==null||ht(t,n,Z,q,l,F)}function T0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&T0(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>E)break;var Q=N.transferSize,Z=N.initiatorType;Q&&T0(Z)&&(N=N.responseEnd,g+=Q*(N<E?1:(E-z)/(N-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function S0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function IT(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,DT=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,OT=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(MT)}:x0;function MT(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function R0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),tl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vo(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[xi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&vo(t.ownerDocument.body);a=h}while(a);tl(n)}function N0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function VT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function kT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function C0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Nd=null;function I0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Wn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function D0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function O0(t,n,a){switch(n=_c(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ya(t)}var ei=new Map,M0=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=X.d;X.d={f:LT,r:UT,D:PT,C:zT,L:qT,m:BT,X:FT,S:HT,M:GT};function LT(){var t=ms.f(),n=cc();return t||n}function UT(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?$g(n):ms.r(t)}var Ja=typeof document>"u"?null:document;function V0(t,n,a){var l=Ja;if(l&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M0.has(h)||(M0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),an(n,"link",t),Lt(n),l.head.appendChild(n)))}}function PT(t){ms.D(t),V0("dns-prefetch",t,null)}function zT(t,n){ms.C(t,n),V0("preconnect",t,n)}function qT(t,n,a){ms.L(t,n,a);var l=Ja;if(l&&t&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+bn(a.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var f=h;switch(n){case"style":f=Wa(t);break;case"script":f=el(t)}ei.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ei.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(bo(f))||n==="script"&&l.querySelector(Eo(f))||(n=l.createElement("link"),an(n,"link",t),Lt(n),l.head.appendChild(n)))}}function BT(t,n){ms.m(t,n);var a=Ja;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=el(t)}if(!ei.has(f)&&(t=A({rel:"modulepreload",href:t},n),ei.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Eo(f)))return}l=a.createElement("link"),an(l,"link",t),Lt(l),a.head.appendChild(l)}}}function HT(t,n,a){ms.S(t,n,a);var l=Ja;if(l&&t){var h=Ri(l).hoistableStyles,f=Wa(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(bo(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ei.get(f))&&Cd(t,a);var N=g=l.createElement("link");Lt(N),an(N,"link",t),N._p=new Promise(function(z,Q){N.onload=z,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function FT(t,n){ms.X(t,n);var a=Ja;if(a&&t){var l=Ri(a).hoistableScripts,h=el(t),f=l.get(h);f||(f=a.querySelector(Eo(h)),f||(t=A({src:t,async:!0},n),(n=ei.get(h))&&Id(t,n),f=a.createElement("script"),Lt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function GT(t,n){ms.M(t,n);var a=Ja;if(a&&t){var l=Ri(a).hoistableScripts,h=el(t),f=l.get(h);f||(f=a.querySelector(Eo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=ei.get(h))&&Id(t,n),f=a.createElement("script"),Lt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function k0(t,n,a,l){var h=(h=he.current)?vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Wa(a.href),a=Ri(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var f=Ri(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(bo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ei.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ei.set(t,a),f||QT(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=el(a),a=Ri(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Wa(t){return'href="'+bn(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function j0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function QT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),an(n,"link",a),Lt(n),t.head.appendChild(n))}function el(t){return'[src="'+bn(t)+'"]'}function Eo(t){return"script[async]"+t}function L0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),an(l,"style",h),bc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Wa(a.href);var f=t.querySelector(bo(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=j0(a),(h=ei.get(h))&&Cd(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),an(f,"link",l),n.state.loading|=4,bc(f,a.precedence,t),n.instance=f;case"script":return f=el(a.src),(h=t.querySelector(Eo(f)))?(n.instance=h,Lt(h),h):(l=a,(h=ei.get(f))&&(l=A({},a),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),an(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,a.precedence,t));return n.instance}function bc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function U0(t,n,a){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(a,l)}else h=Ec,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[xi]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function P0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function YT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function z0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),f=n.querySelector(bo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Lt(f);return}f=n.ownerDocument||n,l=j0(l),(h=ei.get(h))&&Cd(l,h),f=f.createElement("link"),Lt(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),an(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Tc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function XT(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*CT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,n.forEach($T,t),Sc=null,Tc.call(t))}function $T(t,n){if(!(n.state.loading&4)){var a=Sc.get(t);if(a)var l=a.get(null);else{a=new Map,Sc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,h),a.set(g,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var To={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ZT(t,n,a,l,h,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function q0(t,n,a,l,h,f,g,E,N,z,Q,Z){return t=new ZT(t,n,a,g,N,z,Q,Z,E),n=1,f===!0&&(n|=24),f=Vn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},mf(f),t}function B0(t){return t?(t=Da,t):Da}function H0(t,n,a,l,h,f){h=B0(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=qs(t,l,n),a!==null&&(wn(a,t,n),Wl(a,t,n))}function F0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Od(t,n){F0(t,n),(t=t.alternate)&&F0(t,n)}function G0(t){if(t.tag===13||t.tag===31){var n=Pr(t,67108864);n!==null&&wn(n,t,67108864),Od(t,67108864)}}function Q0(t){if(t.tag===13||t.tag===31){var n=Pn();n=Rr(n);var a=Pr(t,n);a!==null&&wn(a,t,n),Od(t,n)}}var xc=!0;function JT(t,n,a,l){var h=L.T;L.T=null;var f=X.p;try{X.p=2,Md(t,n,a,l)}finally{X.p=f,L.T=h}}function WT(t,n,a,l){var h=L.T;L.T=null;var f=X.p;try{X.p=8,Md(t,n,a,l)}finally{X.p=f,L.T=h}}function Md(t,n,a,l){if(xc){var h=Vd(l);if(h===null)vd(t,n,l,wc,a),K0(t,l);else if(tS(h,t,n,a,l))l.stopPropagation();else if(K0(t,l),n&4&&-1<eS.indexOf(t)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-Ct(g);E.entanglements[1]|=N,g&=~N}zi(f),(tt&6)===0&&(oc=$e()+500,go(0))}}break;case 31:case 13:E=Pr(f,2),E!==null&&wn(E,f,2),cc(),Od(f,2)}if(f=Vd(l),f===null&&vd(t,n,l,wc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else vd(t,n,l,null,a)}}function Vd(t){return t=Fn(t),kd(t)}var wc=null;function kd(t){if(wc=null,t=wi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function Y0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case vi:return 2;case Xi:return 8;case qn:case ii:return 32;case xs:return 268435456;default:return 32}default:return 32}}var jd=!1,Js=null,Ws=null,er=null,So=new Map,Ao=new Map,tr=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K0(t,n){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(n.pointerId)}}function xo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&G0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function tS(t,n,a,l,h){switch(n){case"focusin":return Js=xo(Js,t,n,a,l,h),!0;case"dragenter":return Ws=xo(Ws,t,n,a,l,h),!0;case"mouseover":return er=xo(er,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return So.set(f,xo(So.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ao.set(f,xo(Ao.get(f)||null,t,n,a,l,h)),!0}return!1}function X0(t){var n=wi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ri(t.priority,function(){Q0(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,ri(t.priority,function(){Q0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ll=l,a.target.dispatchEvent(l),Ll=null}else return n=Hn(a),n!==null&&G0(n),t.blockedOn=a,!1;n.shift()}return!0}function $0(t,n,a){Rc(t)&&a.delete(n)}function nS(){jd=!1,Js!==null&&Rc(Js)&&(Js=null),Ws!==null&&Rc(Ws)&&(Ws=null),er!==null&&Rc(er)&&(er=null),So.forEach($0),Ao.forEach($0)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nS)))}var Cc=null;function Z0(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kd(l||a)===null)continue;break}var f=Hn(a);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function tl(t){function n(N){return Nc(N,t)}Js!==null&&Nc(Js,t),Ws!==null&&Nc(Ws,t),er!==null&&Nc(er,t),So.forEach(n),Ao.forEach(n);for(var a=0;a<tr.length;a++){var l=tr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(a=tr[0],a.blockedOn===null);)X0(a),a.blockedOn===null&&tr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],g=h[$t]||null;if(typeof f=="function")g||Z0(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[$t]||null)E=g.formAction;else if(kd(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Z0(a)}}}function J0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Ic.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Pn();H0(a,l,t,n,null,null)},Ic.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;H0(t.current,2,null,t,null,null),cc(),n[Ai]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<tr.length&&n!==0&&n<tr[a].priority;a++);tr.splice(a,0,t),a===0&&X0(t)}};var W0=e.version;if(W0!=="19.2.0")throw Error(r(527,W0,"19.2.0"));X.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var iS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{In=Dc.inject(iS),Yt=Dc}catch{}}return Ro.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=ay,f=ly,g=oy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=q0(t,1,!1,null,null,a,l,null,h,f,g,J0),t[Ai]=n.current,_d(t),new Ld(n)},Ro.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=ay,g=ly,E=oy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=q0(t,1,!0,n,a??null,l,h,N,f,g,E,J0),n.context=B0(null),a=n.current,l=Pn(),l=Rr(l),h=zs(l),h.callback=null,qs(a,h,l),a=l,n.current.lanes=a,xr(n,a),zi(n),t[Ai]=n.current,_d(t),new Ic(n)},Ro.version="19.2.0",Ro}var u_;function dS(){if(u_)return zd.exports;u_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=fS(),zd.exports}var mS=dS();const pS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),c_=s=>{const e=gS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Wv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),yS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vS=Se.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...y},v)=>Se.createElement("svg",{ref:v,..._S,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Wv("lucide",o),...!c&&!yS(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Se.createElement(_,S)),...Array.isArray(c)?c:[c]]));const qe=(s,e)=>{const i=Se.forwardRef(({className:r,...o},c)=>Se.createElement(vS,{ref:c,iconNode:e,className:Wv(`lucide-${pS(c_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=c_(s),i};const bS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ES=qe("arrow-left",bS);const TS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h_=qe("ban",TS);const SS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],f_=qe("box",SS);const AS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Fd=qe("briefcase",AS);const xS=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],wS=qe("calendar-plus",xS);const RS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oc=qe("calendar",RS);const NS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Gd=qe("camera",NS);const CS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],IS=qe("chart-column",CS);const DS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],OS=qe("chart-pie",DS);const MS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],VS=qe("check",MS);const kS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jS=qe("chevron-right",kS);const LS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],US=qe("chevron-left",LS);const PS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d_=qe("circle-alert",PS);const zS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qS=qe("circle-check-big",zS);const BS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],m_=qe("clipboard-list",BS);const HS=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],FS=qe("cpu",HS);const GS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],QS=qe("download",GS);const YS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KS=qe("eye",YS);const XS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],$S=qe("file-x",XS);const ZS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],p_=qe("history",ZS);const JS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],g_=qe("log-in",JS);const WS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],eA=qe("log-out",WS);const tA=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],nA=qe("monitor-play",tA);const iA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],y_=qe("pen-tool",iA);const sA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rA=qe("refresh-cw",sA);const aA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mc=qe("save",aA);const lA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oA=qe("search",lA);const uA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],__=qe("settings",uA);const cA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hA=qe("shield-check",cA);const fA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dA=qe("trending-up",fA);const mA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pA=qe("triangle-alert",mA);const gA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yA=qe("user",gA);const _A=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vA=qe("users",_A);const bA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],v_=qe("utensils",bA);const EA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],b_=qe("video",EA);const TA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qd=qe("x",TA);const SA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AA=qe("zap",SA),xA=()=>{};var E_={};const eb=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},wA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,S=c>>2,A=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(M=64)),r.push(i[S],i[A],i[M],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(eb(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):wA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||A==null)throw new RA;const M=c<<2|y>>4;if(r.push(M),_!==64){const Y=y<<4&240|_>>2;if(r.push(Y),A!==64){const ne=_<<6&192|A;r.push(ne)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NA=function(s){const e=eb(s);return tb.encodeByteArray(e,!0)},$c=function(s){return NA(s).replace(/\./g,"")},nb=function(s){try{return tb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IA=()=>CA().__FIREBASE_DEFAULTS__,DA=()=>{if(typeof process>"u"||typeof E_>"u")return;const s=E_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},OA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nb(s[1]);return e&&JSON.parse(e)},gh=()=>{try{return xA()||IA()||DA()||OA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ib=s=>gh()?.emulatorHosts?.[s],MA=s=>{const e=ib(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},sb=()=>gh()?.config,rb=s=>gh()?.[`_${s}`];class VA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function _l(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ab(s){return(await fetch(s,{credentials:"include"})).ok}function kA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const Vo={};function jA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vo))Vo[e]?s.emulator.push(e):s.prod.push(e);return s}function LA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let T_=!1;function lb(s,e){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||Vo[s]===e||Vo[s]||T_)return;Vo[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=jA().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{T_=!0,d()},M}function S(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=LA(r),Y=i("text"),ne=document.getElementById(Y)||document.createElement("span"),re=i("learnmore"),ie=document.getElementById(re)||document.createElement("a"),_e=i("preprendIcon"),Ce=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;y(Ee),S(ie,re);const nt=_();v(Ce,_e),Ee.append(Ce,ne,ie,nt),document.body.appendChild(Ee)}c?(ne.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function PA(){const s=gh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function FA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GA(){try{return typeof indexedDB=="object"}catch{return!1}}function QA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const YA="FirebaseError";class As extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=YA,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?KA(c,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new As(o,y,r)}}function KA(s,e){return s.replace(XA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const XA=/\{\$([^}]+)}/g;function $A(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function aa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(S_(c)&&S_(d)){if(!aa(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function S_(s){return s!==null&&typeof s=="object"}function $o(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZA(s,e){const i=new JA(s,e);return i.subscribe.bind(i)}class JA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");WA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Yd),o.error===void 0&&(o.error=Yd),o.complete===void 0&&(o.complete=Yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yd(){}function en(s){return s&&s._delegate?s._delegate:s}class la{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class ex{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new VA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nx(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tx(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tx(s){return s===ea?void 0:s}function nx(s){return s.instantiationMode==="EAGER"}class ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ex(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const sx={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},rx=Ge.INFO,ax={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},lx=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=ax[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=rx,this._logHandler=lx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const ox=(s,e)=>e.some(i=>s instanceof i);let A_,x_;function ux(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cx(){return x_||(x_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,cm=new WeakMap,ub=new WeakMap,Kd=new WeakMap,Um=new WeakMap;function hx(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(cr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ob.set(i,s)}).catch(()=>{}),Um.set(e,s),e}function fx(s){if(cm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});cm.set(s,e)}let hm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ub.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function dx(s){hm=s(hm)}function mx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Xd(this),e,...i);return ub.set(r,e.sort?e.sort():[e]),cr(r)}:cx().includes(s)?function(...e){return s.apply(Xd(this),e),cr(ob.get(this))}:function(...e){return cr(s.apply(Xd(this),e))}}function px(s){return typeof s=="function"?mx(s):(s instanceof IDBTransaction&&fx(s),ox(s,ux())?new Proxy(s,hm):s)}function cr(s){if(s instanceof IDBRequest)return hx(s);if(Kd.has(s))return Kd.get(s);const e=px(s);return e!==s&&(Kd.set(s,e),Um.set(e,s)),e}const Xd=s=>Um.get(s);function gx(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=cr(d);return r&&d.addEventListener("upgradeneeded",v=>{r(cr(d.result),v.oldVersion,v.newVersion,cr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const yx=["get","getKey","getAll","getAllKeys","count"],_x=["put","add","delete","clear"],$d=new Map;function w_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=_x.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||yx.includes(i)))return;const c=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return $d.set(e,c),c}dx(s=>({...s,get:(e,i,r)=>w_(e,i)||s.get(e,i,r),has:(e,i)=>!!w_(e,i)||s.has(e,i)}));class vx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bx(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function bx(s){return s.getComponent()?.type==="VERSION"}const fm="@firebase/app",R_="0.14.6";const vs=new Lm("@firebase/app"),Ex="@firebase/app-compat",Tx="@firebase/analytics-compat",Sx="@firebase/analytics",Ax="@firebase/app-check-compat",xx="@firebase/app-check",wx="@firebase/auth",Rx="@firebase/auth-compat",Nx="@firebase/database",Cx="@firebase/data-connect",Ix="@firebase/database-compat",Dx="@firebase/functions",Ox="@firebase/functions-compat",Mx="@firebase/installations",Vx="@firebase/installations-compat",kx="@firebase/messaging",jx="@firebase/messaging-compat",Lx="@firebase/performance",Ux="@firebase/performance-compat",Px="@firebase/remote-config",zx="@firebase/remote-config-compat",qx="@firebase/storage",Bx="@firebase/storage-compat",Hx="@firebase/firestore",Fx="@firebase/ai",Gx="@firebase/firestore-compat",Qx="firebase",Yx="12.6.0";const dm="[DEFAULT]",Kx={[fm]:"fire-core",[Ex]:"fire-core-compat",[Sx]:"fire-analytics",[Tx]:"fire-analytics-compat",[xx]:"fire-app-check",[Ax]:"fire-app-check-compat",[wx]:"fire-auth",[Rx]:"fire-auth-compat",[Nx]:"fire-rtdb",[Cx]:"fire-data-connect",[Ix]:"fire-rtdb-compat",[Dx]:"fire-fn",[Ox]:"fire-fn-compat",[Mx]:"fire-iid",[Vx]:"fire-iid-compat",[kx]:"fire-fcm",[jx]:"fire-fcm-compat",[Lx]:"fire-perf",[Ux]:"fire-perf-compat",[Px]:"fire-rc",[zx]:"fire-rc-compat",[qx]:"fire-gcs",[Bx]:"fire-gcs-compat",[Hx]:"fire-fst",[Gx]:"fire-fst-compat",[Fx]:"fire-vertex","fire-js":"fire-js",[Qx]:"fire-js-all"};const Zc=new Map,Xx=new Map,mm=new Map;function N_(s,e){try{s.container.addComponent(e)}catch(i){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function cl(s){const e=s.name;if(mm.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,s);for(const i of Zc.values())N_(i,s);for(const i of Xx.values())N_(i,s);return!0}function Pm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function pi(s){return s==null?!1:s.settings!==void 0}const $x={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Xo("app","Firebase",$x);class Zx{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const vl=Yx;function cb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=sb()),!i)throw hr.create("no-options");const c=Zc.get(o);if(c){if(aa(i,c.options)&&aa(r,c.config))return c;throw hr.create("duplicate-app",{appName:o})}const d=new ix(o);for(const v of mm.values())d.addComponent(v);const y=new Zx(i,r,d);return Zc.set(o,y),y}function hb(s=dm){const e=Zc.get(s);if(!e&&s===dm&&sb())return cb();if(!e)throw hr.create("no-app",{appName:s});return e}function fr(s,e,i){let r=Kx[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}cl(new la(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Jx="firebase-heartbeat-database",Wx=1,zo="firebase-heartbeat-store";let Zd=null;function fb(){return Zd||(Zd=gx(Jx,Wx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zo)}catch(i){console.warn(i)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function e2(s){try{const i=(await fb()).transaction(zo),r=await i.objectStore(zo).get(db(s));return await i.done,r}catch(e){if(e instanceof As)vs.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(i.message)}}}async function C_(s,e){try{const r=(await fb()).transaction(zo,"readwrite");await r.objectStore(zo).put(e,db(s)),await r.done}catch(i){if(i instanceof As)vs.warn(i.message);else{const r=hr.create("idb-set",{originalErrorMessage:i?.message});vs.warn(r.message)}}}function db(s){return`${s.name}!${s.options.appId}`}const t2=1024,n2=30;class i2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new r2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>n2){const o=a2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I_(),{heartbeatsToSend:i,unsentEntries:r}=s2(this._heartbeatsCache.heartbeats),o=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vs.warn(e),""}}}function I_(){return new Date().toISOString().substring(0,10)}function s2(s,e=t2){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),D_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),D_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class r2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GA()?QA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await e2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function D_(s){return $c(JSON.stringify({version:2,heartbeats:s})).length}function a2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function l2(s){cl(new la("platform-logger",e=>new vx(e),"PRIVATE")),cl(new la("heartbeat",e=>new i2(e),"PRIVATE")),fr(fm,R_,s),fr(fm,R_,"esm2020"),fr("fire-js","")}l2("");var o2="firebase",u2="12.6.0";fr(o2,u2,"app");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,mb;(function(){var s;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,O,j){for(var R=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)R[pt-2]=arguments[pt];return w.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],O=I.g[2];let j=I.g[3],R;R=w+(j^C&(O^j))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=j+(O^w&(C^O))+V[1]+3905402710&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(C^j&(w^C))+V[2]+606105819&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(w^O&(j^w))+V[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(j^C&(O^j))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=j+(O^w&(C^O))+V[5]+1200080426&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(C^j&(w^C))+V[6]+2821735955&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(w^O&(j^w))+V[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(j^C&(O^j))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=j+(O^w&(C^O))+V[9]+2336552879&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(C^j&(w^C))+V[10]+4294925233&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(w^O&(j^w))+V[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(j^C&(O^j))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=j+(O^w&(C^O))+V[13]+4254626195&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(C^j&(w^C))+V[14]+2792965006&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(w^O&(j^w))+V[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(O^j&(C^O))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(w^C))+V[6]+3225465664&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(j^w))+V[11]+643717713&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^w&(O^j))+V[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(C^O))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(w^C))+V[10]+38016083&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(j^w))+V[15]+3634488961&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^w&(O^j))+V[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(C^O))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(w^C))+V[14]+3275163606&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(j^w))+V[3]+4107603335&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^w&(O^j))+V[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(C^O))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(w^C))+V[2]+4243563512&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(j^w))+V[7]+1735328473&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^w&(O^j))+V[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(C^O^j)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=j+(w^C^O)+V[8]+2272392833&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^C)+V[11]+1839030562&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^w)+V[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^j)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=j+(w^C^O)+V[4]+1272893353&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^C)+V[7]+4139469664&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^w)+V[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^j)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=j+(w^C^O)+V[0]+3936430074&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^C)+V[3]+3572445317&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^w)+V[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^j)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=j+(w^C^O)+V[12]+3873151461&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^C)+V[15]+530742520&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^w)+V[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(O^(C|~j))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=j+(C^(w|~O))+V[7]+1126891415&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~C))+V[14]+2878612391&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~w))+V[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~j))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=j+(C^(w|~O))+V[3]+2399980690&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~C))+V[10]+4293915773&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~w))+V[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~j))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=j+(C^(w|~O))+V[15]+4264355552&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~C))+V[6]+2734768916&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~w))+V[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~j))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=j+(C^(w|~O))+V[11]+3174756917&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~C))+V[2]+718787259&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<w;){if(O==0)for(;j<=C;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<w;)if(V[O++]=I.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<w;)if(V[O++]=I[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function c(I,w){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let V=!0;for(let O=I.length-1;O>=0;O--){const j=I[O]|0;V&&j==w||(C[O]=j,V=!1)}this.g=C}var y={};function v(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return ie(_(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new d(w,0)}function S(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return ie(S(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=A;for(let j=0;j<I.length;j+=8){var O=Math.min(8,I.length-j);const R=parseInt(I.substring(j,j+O),w);O<8?(O=_(Math.pow(w,O)),V=V.j(O).add(_(R))):(V=V.j(C),V=V.add(_(R)))}return V}var A=v(0),M=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(re(this))return-ie(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ne(this))return"0";if(re(this))return"-"+ie(this).toString(I);const w=_(Math.pow(I,6));var C=this;let V="";for(;;){const O=nt(C,w).g;C=_e(C,O.j(w));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,ne(C))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ne(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function re(I){return I.h==-1}s.l=function(I){return I=_e(this,I),re(I)?-1:ne(I)?0:1};function ie(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}s.abs=function(){return re(this)?ie(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let O=0;O<=w;O++){let j=V+(this.i(O)&65535)+(I.i(O)&65535),R=(j>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=R>>>16,j&=65535,R&=65535,C[O]=R<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function _e(I,w){return I.add(ie(w))}s.j=function(I){if(ne(this)||ne(I))return A;if(re(this))return re(I)?ie(this).j(ie(I)):ie(ie(this).j(I));if(re(I))return ie(this.j(ie(I)));if(this.l(Y)<0&&I.l(Y)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const j=this.i(V)>>>16,R=this.i(V)&65535,pt=I.i(O)>>>16,Nt=I.i(O)&65535;C[2*V+2*O]+=R*Nt,Ce(C,2*V+2*O),C[2*V+2*O+1]+=j*Nt,Ce(C,2*V+2*O+1),C[2*V+2*O+1]+=R*pt,Ce(C,2*V+2*O+1),C[2*V+2*O+2]+=j*pt,Ce(C,2*V+2*O+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function Ce(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Ee(I,w){this.g=I,this.h=w}function nt(I,w){if(ne(w))throw Error("division by zero");if(ne(I))return new Ee(A,A);if(re(I))return w=nt(ie(I),w),new Ee(ie(w.g),ie(w.h));if(re(w))return w=nt(I,ie(w)),new Ee(ie(w.g),w.h);if(I.g.length>30){if(re(I)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(I)<=0;)C=dt(C),V=dt(V);var O=Ke(C,1),j=Ke(V,1);for(V=Ke(V,2),C=Ke(C,2);!ne(V);){var R=j.add(V);R.l(I)<=0&&(O=O.add(C),j=R),V=Ke(V,1),C=Ke(C,1)}return w=_e(I,O.j(w)),new Ee(O,w)}for(O=A;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(C),R=j.j(w);re(R)||R.l(I)>0;)C-=V,j=_(C),R=j.j(w);ne(j)&&(j=M),O=O.add(j),I=_e(I,R)}return new Ee(O,I)}s.B=function(I){return nt(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function dt(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Ke(I,w){const C=w>>5;w%=32;const V=I.g.length-C,O=[];for(let j=0;j<V;j++)O[j]=w>0?I.i(j+C)>>>w|I.i(j+C+1)<<32-w:I.i(j+C);return new d(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,mb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,dr=d}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pb,Io,gb,zc,pm,yb,_b,vb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var b=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function S(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return m.prototype[U].apply(T,ae)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function ne(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const H=U.length||0;u.length=b+H;for(let ae=0;ae<H;ae++)u[b+ae]=U[ae]}else u.push(U)}}class re{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,b){const T=Ee.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Ee=new re(()=>new nt,u=>u.reset());class nt{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Ke=!1,I=new Ce,w=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(C)}};function C(){for(var u;u=_e();){try{u.h.call(u.g)}catch(b){ie(b)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function pt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(pt,O),pt.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pt.Z.h.call(this)},pt.prototype.h=function(){pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),L=0;function X(u,m,b,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=U,this.key=++L,this.da=this.fa=!1}function te(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oe(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function fe(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function x(u){const m={};for(const b in u)m[b]=u[b];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(u,m){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let H=0;H<B.length;H++)b=B[H],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,b,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ae=he(u,m,T,U);return ae>-1?(m=u[ae],b||(m.fa=!1)):(m=new X(m,this.src,H,!!T,U),m.fa=b,u.push(m)),m};function se(u,m){const b=m.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(te(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function he(u,m,b,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==T)return U}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Be={};function Oe(u,m,b,T,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Oe(u,m[H],b,T,U);return null}return b=it(b),u&&u[Nt]?u.J(m,b,y(T)?!!T.capture:!1,U):Le(u,m,b,!1,T,U)}function Le(u,m,b,T,U,H){if(!m)throw Error("Invalid event type");const ae=y(U)?!!U.capture:!!U;let Me=Re(u);if(Me||(u[ye]=Me=new W(u)),b=Me.add(m,b,T,ae,H),b.proxy)return b;if(T=rt(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)j||(U=ae),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(le(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function rt(){function u(b){return m.call(u.src,u.listener,b)}const m=we;return u}function Qt(u,m,b,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Qt(u,m[H],b,T,U);else T=y(T)?!!T.capture:!!T,b=it(b),u&&u[Nt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],b=he(m,b,T,U),b>-1&&(te(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Re(u))&&(m=u.g[m.toString()],u=-1,m&&(u=he(m,b,T,U)),(b=u>-1?m[u]:null)&&Vt(b))}function Vt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Nt])se(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(le(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=Re(m))?(se(b,u),b.h==0&&(b.src=null,m[ye]=null)):te(u)}}}function le(u){return u in Be?Be[u]:Be[u]="on"+u}function we(u,m){if(u.da)u=!0;else{m=new pt(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&Vt(u),u=b.call(T,m)}return u}function Re(u){return u=u[ye],u instanceof W?u:null}var Ae="__closure_events_fn_"+(Math.random()*1e9>>>0);function it(u){return typeof u=="function"?u:(u[Ae]||(u[Ae]=function(m){return u.handleEvent(m)}),u[Ae])}function be(){V.call(this),this.i=new W(this),this.M=this,this.G=null}A(be,V),be.prototype[Nt]=!0,be.prototype.removeEventListener=function(u,m,b,T){Qt(this,u,m,b,T)};function ee(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),G(m,U)}U=!0;let H,ae;if(b)for(ae=b.length-1;ae>=0;ae--)H=m.g=b[ae],U=Ue(H,T,!0,m)&&U;if(H=m.g=u,U=Ue(H,T,!0,m)&&U,U=Ue(H,T,!1,m)&&U,b)for(ae=0;ae<b.length;ae++)H=m.g=b[ae],U=Ue(H,T,!1,m)&&U}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)te(b[T]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},be.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function Ue(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const ae=m[H];if(ae&&!ae.da&&ae.capture==b){const Me=ae.listener,It=ae.ha||ae.src;ae.fa&&se(u.i,ae),U=Me.call(It,T)!==!1&&U}}return U&&!T.defaultPrevented}function _t(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function vn(u){u.g=_t(()=>{u.g=null,u.i&&(u.i=!1,vn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(u){V.call(this),this.h=u,this.g={}}A(gt,V);var vi=[];function Xi(u){oe(u.g,function(m,b){this.g.hasOwnProperty(b)&&Vt(m)},u),u.g={}}gt.prototype.N=function(){gt.Z.N.call(this),Xi(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=d.JSON.stringify,ii=d.JSON.parse,xs=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function da(){}function ma(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){O.call(this,"d")}A(Yt,O);function Bn(){O.call(this,"c")}A(Bn,O);var Ct={},lu=null;function pa(){return lu=lu||new be}Ct.Ia="serverreachability";function ou(u){O.call(this,Ct.Ia,u)}A(ou,O);function bi(u){const m=pa();ee(m,new ou(m))}Ct.STAT_EVENT="statevent";function Ar(u,m){O.call(this,Ct.STAT_EVENT,u),this.stat=m}A(Ar,O);function kt(u){const m=pa();ee(m,new Ar(m,u))}Ct.Ja="timingevent";function Ei(u,m){O.call(this,Ct.Ja,u),this.size=m}A(Ei,O);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function qh(u,m,b,T,U,H){u.info(function(){if(u.g)if(H){var ae="",Me=H.split("&");for(let et=0;et<Me.length;et++){var It=Me[et].split("=");if(It.length>1){const Tt=It[0];It=It[1];const Qn=Tt.split("_");ae=Qn.length>=2&&Qn[1]=="type"?ae+(Tt+"="+It+"&"):ae+(Tt+"=redacted&")}}}else ae=null;else ae=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+b+`
`+ae})}function uu(u,m,b,T,U,H,ae){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+b+`
`+H+" "+ae})}function Si(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,b)+(T?" "+T:"")})}function xr(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var b=H[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ae=1;ae<T.length;ae++)T[ae]=""}}}}return qn(H)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function Rr(){}A(Rr,da),Rr.prototype.g=function(){return new XMLHttpRequest},Rl=new Rr;function $i(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ri(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new gt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var jt={},$t={};function Ai(u,m,b){u.M=1,u.A=Nr(Ut(m)),u.u=b,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),xi(u),u.B=Ut(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ba(b.i,"t",T),u.C=0,b=u.j.L,u.h=new ai,u.g=xu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(vi[0]=U.toString()),U=vi);for(let H=0;H<U.length;H++){const ae=Oe(b,U[H],T||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),bi(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{const Me=ui(this.g),It=this.g.ya(),et=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Me!=4||It==7||(It==8||et<=0?bi(3):bi(2)),wi(this);var m=this.g.ca();this.X=m;var b=Hh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Me,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)Si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,kt(12),Dn(this),Hn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<b.length;)if(Tt=fu(this,b),Tt==$t){Me==4&&(this.m=4,kt(14),u=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==jt){this.m=4,kt(15),Si(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Si(this.i,this.l,Tt,null),Ri(this,Tt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||b.length!=0||this.h.h||(this.m=1,kt(16),u=!1),this.o=this.o&&u,!u)Si(this.i,this.l,b,"[Invalid Chunked Response]"),Dn(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Bl(ae),ae.P=!0,kt(11))}}else Si(this.i,this.l,b,null),Ri(this,b);Me==4&&Dn(this),this.o&&!this.K&&(Me==4?Eu(this.j,this):(this.o=!1,xi(this)))}else Ji(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Dn(this),Hn(this)}}}catch{}finally{}};function Hh(u){if(!hu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let b="";const T=m.length,U=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),Hn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,b+=u.h.i.decode(m[H],{stream:!(U&&H==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?$t:(b=Number(m.substring(b,T)),isNaN(b)?jt:(T+=1,T+b>m.length?$t:(m=m.slice(T,T+b),u.C=T+b,m)))}ri.prototype.cancel=function(){this.K=!0,Dn(this)};function xi(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(_(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xr(this.i,this.B),this.M!=2&&(bi(),kt(17)),Dn(this),this.m=2,Hn(this)):ya(this,this.T-u)};function Hn(u){u.j.I==0||u.K||Eu(u.j,u)}function Dn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ci(b.h,u))){if(!u.L&&Ci(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)xa(b),Ms(b);else break e;kr(b),kt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ti(_(b.Va,b),6e3));Ni(b.h)<=1&&b.ta&&(b.ta=void 0)}else ki(b,11)}else if((u.L||b.g==u)&&xa(b),!R(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let et=U[m];const Tt=et[0];if(!(Tt<=b.K))if(b.K=Tt,et=et[1],b.I==2)if(et[0]=="c"){b.M=et[1],b.ba=et[2];const Qn=et[3];Qn!=null&&(b.ka=Qn,b.j.info("VER="+b.ka));const ji=et[4];ji!=null&&(b.za=ji,b.j.info("SVER="+b.za));const ci=et[5];ci!=null&&typeof ci=="number"&&ci>0&&(T=1.5*ci,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const hi=u.g;if(hi){const jr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var H=T.h;H.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Il(H,H.h),H.h=null))}if(T.G){const wa=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(T.wa=wa,at(T.J,T.G,wa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ae=u;if(T.na=Au(T,T.L?T.ba:null,T.W),ae.L){Dl(T.h,ae);var Me=ae,It=T.O;It&&(Me.H=It),Me.D&&(wi(Me),xi(Me)),T.g=ae}else vu(T);b.i.length>0&&Vi(b)}else et[0]!="stop"&&et[0]!="close"||ki(b,7);else b.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ki(b,7):zl(b):et[0]!="noop"&&b.l&&b.l.qa(et),b.A=0)}}bi(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function Nl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function Dl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return Y(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,H=null;T>=0?(U=u[b].substring(0,T),H=u[b].substring(T+1)):U=u[b],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function On(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof On?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Ml(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Zt(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),ws(this,m[4]),this.h=Ii(m[5]||"",!0),Ml(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}On.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,va,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,va,!0),"@"),u.push($i(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Cr(b,b.charAt(0)=="/"?Vl:mu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Cr(b,pu)),u.join("")},On.prototype.resolve=function(u){const m=Ut(this);let b=!!u.j;b?Zt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)ws(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ae=0;ae<U.length;){const Me=U[ae++];Me=="."?T&&ae==U.length&&H.push(""):Me==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&ae==U.length&&H.push("")):(H.push(Me),T=!0)}T=H.join("/")}else T=U}return b?m.h=T:b=u.i.toString()!=="",b?Ml(m,yu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ut(u){return new On(u)}function Zt(u,m,b){u.j=b?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ml(u,m,b){m instanceof Ns?(u.i=m,Ea(u.i,u.l)):(b||(m=Cr(m,Rs)),u.i=new Ns(m,u.l))}function at(u,m,b){u.i.set(m,b)}function Nr(u){return at(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,mu=/[#\?:]/g,Vl=/[#\?]/g,Rs=/[#\?@]/g,pu=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Ns.prototype,s.add=function(u,m){En(this),this.i=null,u=Cs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function gu(u,m){En(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kl(u,m){return En(u),m=Cs(u,m),u.g.has(m)}s.forEach=function(u,m){En(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(m,U,T,this)},this)},this)};function jl(u,m){En(u);let b=[];if(typeof m=="string")kl(u,m)&&(b=b.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return En(this),this.i=null,u=Cs(this,u),kl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jl(this,u),u.length>0?String(u[0]):m):m};function ba(u,m,b){gu(u,m),b.length>0&&(u.i=null,u.g.set(Cs(u,m),Y(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const U=$i(b);b=jl(this,b);for(let H=0;H<b.length;H++){let ae=U;b[H]!==""&&(ae+="="+$i(b[H])),u.push(ae)}}return this.i=u.join("&")};function yu(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ea(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(gu(this,T),ba(this,U,b))},u)),u.j=m}function li(u,m){const b=new si;if(d.Image){const T=new Image;T.onload=S(Fn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Fn,b,"TestLoadImage: error",!1,m,T),T.onabort=S(Fn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Fn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ll(u,m){const b=new si,T=new AbortController,U=setTimeout(()=>{T.abort(),Fn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Fn(b,"TestPingServer: ok",!0,m):Fn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Fn(b,"TestPingServer: error",!1,m)})}function Fn(u,m,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Is(){this.g=new xs}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Di,da),Di.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,be),s=Ir.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):oi(this),this.readyState==3&&Ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},s.Na=function(u){this.g&&(this.response=u,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gn(u){let m="";return oe(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Dr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Gn(b),typeof u=="string"?b!=null&&$i(b):at(u,m,b))}function ut(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ut,be);var Oi=/^https?$/i,Ul=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Or(this,H);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())b.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ul,m,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ae]of b)this.g.setRequestHeader(H,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Or(this,H)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Pl(u),Zi(u)}function Pl(u){u.A||(u.A=!0,ee(u,"complete"),ee(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ee(this,"complete"),ee(this,"abort"),Zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},s.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(ee(u,"readystatechange"),ui(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=H===0){let ae=String(u.D).match(du)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),T=!Oi.test(ae?ae.toLowerCase():"")}b=T}if(b)ee(u,"complete"),ee(u,"success");else{u.o=6;try{var U=ui(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Pl(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||ee(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ii(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var b=cu(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=m[U]||[];m[U]=H,H.push(b)}fe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){kt(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Au(this,null,this.W),Vi(this)};function zl(u){if(Sa(u),u.I==3){var m=u.V++,b=Ut(u.J);if(at(b,"SID",u.M),at(b,"RID",m),at(b,"TYPE","terminate"),Vr(u,b),m=new ri(u,u.j,m),m.M=2,m.A=Nr(Ut(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xi(m)}Su(u)}function Ms(u){u.g&&(Bl(u),u.g.cancel(),u.g=null)}function Sa(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!Cl(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||w(),Ke||(dt(),Ke=!0),I.add(m,u),u.D=0}}function Aa(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(_(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ri(this,this.j,u);let H=this.o;if(this.U&&(H?(H=x(H),G(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=_u(this,U,m),b=Ut(this.J),at(b,"RID",u),at(b,"CVER",22),this.G&&at(b,"X-HTTP-Session-Id",this.G),Vr(this,b),H&&(this.R?m="headers="+$i(Gn(H))+"&"+m:this.u&&Dr(b,this.u,H)),Il(this.h,U),this.Ra&&at(b,"TYPE","init"),this.S?(at(b,"$req",m),at(b,"SID","null"),U.U=!0,Ai(U,b,null)):Ai(U,b,m),this.I=2}}else this.I==3&&(u?ql(this,u):this.i.length==0||Cl(this.h)||ql(this))};function ql(u,m){var b;m?b=m.l:b=u.V++;const T=Ut(u.J);at(T,"SID",u.M),at(T,"RID",b),at(T,"AID",u.K),Vr(u,T),u.u&&u.o&&Dr(T,u.u,u.o),b=new ri(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,b),Ai(b,T,m)}function Vr(u,m){u.H&&oe(u.H,function(b,T){at(m,T,b)}),u.l&&oe({},function(b,T){at(m,T,b)})}function _u(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Me=-1;for(;;){const It=["count="+b];Me==-1?b>0?(Me=U[0].g,It.push("ofs="+Me)):Me=0:It.push("ofs="+Me);let et=!0;for(let Tt=0;Tt<b;Tt++){var H=U[Tt].g;const Qn=U[Tt].map;if(H-=Me,H<0)Me=Math.max(0,U[Tt].g-100),et=!1;else try{H="req"+H+"_"||"";try{var ae=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ji,ci]of ae){let hi=ci;y(ci)&&(hi=qn(ci)),It.push(H+ji+"="+encodeURIComponent(hi))}}catch(ji){throw It.push(H+"type="+encodeURIComponent("_badmap")),ji}}catch{T&&T(Qn)}}if(et){ae=It.join("&");break e}}ae=void 0}return u=u.i.splice(0,b),m.G=u,ae}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||w(),Ke||(dt(),Ke=!0),I.add(m,u),u.A=0}}function kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(_(u.Da,u),Tu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Ms(this),bu(this))};function Bl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ut(u.na);at(m,"RID","rpc"),at(m,"SID",u.M),at(m,"AID",u.K),at(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&at(m,"TO",u.ia),at(m,"TYPE","xmlhttp"),Vr(u,m),u.u&&u.o&&Dr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Nr(Ut(m)),b.u=null,b.R=!0,ga(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),kr(this),kt(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var b=null;if(u.g==m){xa(u),Bl(u),u.g=null;var T=2}else if(Ci(u.h,m))b=m.G,Dl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=pa(),ee(T,new Ei(T,b)),Vi(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Aa(u,m)||T==2&&kr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Tu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new On(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zt(T,"https"),Nr(T),U?li(T.toString(),b):Ll(T.toString(),b)}else kt(2);u.I=0,u.l&&u.l.pa(m),Su(u),Sa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Ol(u.h);(m.length!=0||u.i.length!=0)&&(ne(u.ja,m),ne(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,b){var T=b instanceof On?Ut(b):new On(b);if(T.g!="")m&&(T.g=m+"."+T.g),ws(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new On(null);T&&Zt(H,T),m&&(H.g=m),U&&ws(H,U),b&&(H.h=b),T=H}return b=u.G,m=u.wa,b&&m&&at(T,b,m),at(T,"VER",u.ka),Vr(u,T),T}function xu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Di({ab:b})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){be.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}A(gn,be),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){zl(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=qn(u),u=b);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Vi(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,gn.Z.N.call(this)};function Ru(u){Yt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ru,Yt);function Nu(){Bn.call(this),this.status=1}A(Nu,Bn);function Wi(u){this.g=u}A(Wi,wu),Wi.prototype.ra=function(){ee(this.g,"a")},Wi.prototype.qa=function(u){ee(this.g,new Ru(u))},Wi.prototype.pa=function(u){ee(this.g,new Nu)},Wi.prototype.oa=function(){ee(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,vb=function(){return new Vs},_b=function(){return pa()},yb=Ct,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,zc=wr,wl.COMPLETE="complete",gb=wl,ma.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",be.prototype.listen=be.prototype.J,Io=ma,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,pb=ut}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore",V_="4.9.2";class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let bl="12.3.0";const oa=new Lm("@firebase/firestore");function nl(){return oa.logLevel}function ce(s,...e){if(oa.logLevel<=Ge.DEBUG){const i=e.map(zm);oa.debug(`Firestore (${bl}): ${s}`,...i)}}function bs(s,...e){if(oa.logLevel<=Ge.ERROR){const i=e.map(zm);oa.error(`Firestore (${bl}): ${s}`,...i)}}function hl(s,...e){if(oa.logLevel<=Ge.WARN){const i=e.map(zm);oa.warn(`Firestore (${bl}): ${s}`,...i)}}function zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,bb(s,r,i)}function bb(s,e,i){let r=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw bs(r),new Error(r)}function st(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||bb(e,o,r)}function De(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _s{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Eb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class h2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class f2{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){st(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let c=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _s,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _s)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new Eb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class d2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class m2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new d2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){st(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(st(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new k_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function g2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=g2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Qe(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Jd(o)===Jd(c)?Qe(o,c):Jd(o)?1:-1}return Qe(s.length,e.length)}const y2=55296,_2=57343;function Jd(s){const e=s.charCodeAt(0);return e>=y2&&e<=_2}function fl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const j_="__name__";class qi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Te(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=qi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const r=qi.isNumericId(e),o=qi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?qi.extractNumericId(e).compare(qi.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class yt extends qi{construct(e,i,r){return new yt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const v2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends qi{construct(e,i,r){return new un(e,i,r)}static isValidIdentifier(e){return v2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j_}static keyField(){return new un([j_])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ue($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ue($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(c(),o++)}if(c(),d)throw new ue($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(yt.fromString(e))}static fromName(e){return new ge(yt.fromString(e).popFirst(5))}static empty(){return new ge(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new yt(e.slice()))}}function Tb(s,e,i){if(!i)throw new ue($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function b2(s,e,i,r){if(e===!0&&r===!0)throw new ue($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function L_(s){if(!ge.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function U_(s){if(ge.isDocumentKey(s))throw new ue($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Sb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function yh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function Cn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yh(s);throw new ue($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Zo(s,e){if(!Sb(s))throw new ue($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ue($.INVALID_ARGUMENT,i);return!0}const P_=-62135596800,z_=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*z_);return new Et(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<P_)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zo(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Gt("string",Et._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Et(0,0))}static max(){return new Ne(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;function E2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(r===1e9?new Et(i+1,0):new Et(i,r));return new pr(o,ge.empty(),e)}function T2(s){return new pr(s.readTime,s.key,qo)}class pr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new pr(Ne.min(),ge.empty(),qo)}static max(){return new pr(Ne.max(),ge.empty(),qo)}}function S2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}const A2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function El(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==A2)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(v=>r(v)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const c=e.length,d=new Array(c);let y=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++y,y===c&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new J(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function w2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Tl(s){return s.name==="IndexedDbTransactionError"}class _h{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_h.ce=-1;const Bm=-1;function vh(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function R2(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Ab="";function N2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=q_(e)),e=C2(s.get(i),e);return q_(e)}function C2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Ab:i+="";break;default:i+=c}}return i}function q_(s){return s+Ab+""}function B_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Er(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function xb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class At{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new At(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??ln.RED,this.left=o??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new ln(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new zn([])}unionWith(e){let i=new Xt(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wb("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const I2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const i=I2.exec(s);if(st(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(s.seconds),nanos:Mt(s.nanos)}}function Mt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}const Rb="server_timestamp",Nb="__type__",Cb="__previous_value__",Ib="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[Nb]?.stringValue===Rb}function bh(s){const e=s.mapValue.fields[Cb];return Hm(e)?bh(e):e}function Bo(s){const e=gr(s.mapValue.fields[Ib].timestampValue);return new Et(e.seconds,e.nanos)}class D2{constructor(e,i,r,o,c,d,y,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Wc="(default)";class Ho{constructor(e,i){this.projectId=e,this.database=i||Wc}static empty(){return new Ho("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}const Db="__type__",O2="__max__",jc={mapValue:{}},Ob="__vector__",eh="value";function _r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:V2(s)?9007199254740991:M2(s)?10:11:Te(28295,{value:s})}function Yi(s,e){if(s===e)return!0;const i=_r(s);if(i!==_r(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bo(s).isEqual(Bo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=gr(o.timestampValue),y=gr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return yr(o.bytesValue).isEqual(yr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Mt(o.geoPointValue.latitude)===Mt(c.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Mt(o.integerValue)===Mt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Mt(o.doubleValue),y=Mt(c.doubleValue);return d===y?Jc(d)===Jc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return fl(s.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(B_(d)!==B_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Yi(d[v],y[v])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Fo(s,e){return(s.values||[]).find((i=>Yi(i,e)))!==void 0}function dl(s,e){if(s===e)return 0;const i=_r(s),r=_r(e);if(i!==r)return Qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Mt(c.integerValue||c.doubleValue),v=Mt(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return F_(s.timestampValue,e.timestampValue);case 4:return F_(Bo(s),Bo(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=yr(c),v=yr(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Qe(y[_],v[_]);if(S!==0)return S}return Qe(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Qe(Mt(c.latitude),Mt(d.latitude));return y!==0?y:Qe(Mt(c.longitude),Mt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return G_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},v=d.fields||{},_=y[eh]?.arrayValue,S=v[eh]?.arrayValue,A=Qe(_?.values?.length||0,S?.values?.length||0);return A!==0?A:G_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let A=0;A<v.length&&A<S.length;++A){const M=gm(v[A],S[A]);if(M!==0)return M;const Y=dl(y[v[A]],_[S[A]]);if(Y!==0)return Y}return Qe(v.length,S.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function F_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=gr(s),r=gr(e),o=Qe(i.seconds,r.seconds);return o!==0?o:Qe(i.nanos,r.nanos)}function G_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=dl(i[o],r[o]);if(c)return c}return Qe(i.length,r.length)}function ml(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=gr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=ym(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${ym(i.fields[d])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function qc(s){switch(_r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+qc(e):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Er(r.fields,((c,d)=>{o+=c.length+qc(d)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function Q_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function Y_(s){return!!s&&"nullValue"in s}function K_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function M2(s){return(s?.mapValue?.fields||{})[Db]?.stringValue===Ob}function ko(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Er(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ko(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ko(s.arrayValue.values[i]);return e}return{...s}}function V2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===O2}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(i)}setAll(e){let i=un.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=ko(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Er(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Nn(ko(this.value))}}function Mb(s){const e=[];return Er(s.fields,((i,r)=>{const o=new un([i]);if(Bc(r)){const c=Mb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new zn(e)}class mn{constructor(e,i,r,o,c,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new mn(e,0,Ne.min(),Ne.min(),Ne.min(),Nn.empty(),0)}static newFoundDocument(e,i,r,o){return new mn(e,1,i,Ne.min(),r,o,0)}static newNoDocument(e,i){return new mn(e,2,i,Ne.min(),Ne.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Ne.min(),Ne.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,i){this.position=e,this.inclusive=i}}function X_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(d.referenceValue),i.key):r=dl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function $_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yi(s.position[i],e.position[i]))return!1;return!0}class Go{constructor(e,i="asc"){this.field=e,this.dir=i}}function k2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Vb{}class Ft extends Vb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new L2(e,i,r):i==="array-contains"?new z2(e,r):i==="in"?new q2(e,r):i==="not-in"?new B2(e,r):i==="array-contains-any"?new H2(e,r):new Ft(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new U2(e,r):new P2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(dl(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(dl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends Vb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new _i(e,i)}matches(e){return kb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kb(s){return s.op==="and"}function jb(s){return j2(s)&&kb(s)}function j2(s){for(const e of s.filters)if(e instanceof _i)return!1;return!0}function vm(s){if(s instanceof Ft)return s.field.canonicalString()+s.op.toString()+ml(s.value);if(jb(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function Lb(s,e){return s instanceof Ft?(function(r,o){return o instanceof Ft&&r.op===o.op&&r.field.isEqual(o.field)&&Yi(r.value,o.value)})(s,e):s instanceof _i?(function(r,o){return o instanceof _i&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,y)=>c&&Lb(d,o.filters[y])),!0):!1})(s,e):void Te(19439)}function Ub(s){return s instanceof Ft?(function(i){return`${i.field.canonicalString()} ${i.op} ${ml(i.value)}`})(s):s instanceof _i?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ub).join(" ,")+"}"})(s):"Filter"}class L2 extends Ft{constructor(e,i,r){super(e,i,r),this.key=ge.fromName(r.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class U2 extends Ft{constructor(e,i){super(e,"in",i),this.keys=Pb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class P2 extends Ft{constructor(e,i){super(e,"not-in",i),this.keys=Pb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Pb(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class z2 extends Ft{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Fo(i.arrayValue,this.value)}}class q2 extends Ft{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fo(this.value.arrayValue,i)}}class B2 extends Ft{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fo(this.value.arrayValue,i)}}class H2 extends Ft{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Fo(this.value.arrayValue,r)))}}class F2{constructor(e,i=null,r=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Z_(s,e=null,i=[],r=[],o=null,c=null,d=null){return new F2(s,e,i,r,o,c,d)}function Gm(s){const e=De(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>vm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ml(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ml(r))).join(",")),e.Te=i}return e.Te}function Qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!k2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Lb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!$_(s.startAt,e.startAt)&&$_(s.endAt,e.endAt)}function bm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Sl{constructor(e,i=null,r=[],o=[],c=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G2(s,e,i,r,o,c,d,y){return new Sl(s,e,i,r,o,c,d,y)}function Eh(s){return new Sl(s)}function J_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function zb(s){return s.collectionGroup!==null}function jo(s){const e=De(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Xt(un.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Go(c,r))})),i.has(un.keyField().canonicalString())||e.Ie.push(new Go(un.keyField(),r))}return e.Ie}function Bi(s){const e=De(s);return e.Ee||(e.Ee=Q2(e,jo(s))),e.Ee}function Q2(s,e){if(s.limitType==="F")return Z_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Go(o.field,c)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return Z_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Em(s,e){const i=s.filters.concat([e]);return new Sl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Tm(s,e,i){return new Sl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Th(s,e){return Qm(Bi(s),Bi(e))&&s.limitType===e.limitType}function qb(s){return`${Gm(Bi(s))}|lt:${s.limitType}`}function il(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Ub(o))).join(", ")}]`),vh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>ml(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>ml(o))).join(",")),`Target(${r})`})(Bi(s))}; limitType=${s.limitType})`}function Sh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of jo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=X_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,jo(r),o)||r.endAt&&!(function(d,y,v){const _=X_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,jo(r),o))})(s,e)}function Y2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Bb(s){return(e,i)=>{let r=!1;for(const o of jo(s)){const c=K2(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function K2(s,e,i){const r=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,y){const v=d.data.field(c),_=y.data.field(c);return v!==null&&_!==null?dl(v,_):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Er(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return xb(this.inner)}size(){return this.innerSize}}const X2=new At(ge.comparator);function Es(){return X2}const Hb=new At(ge.comparator);function Do(...s){let e=Hb;for(const i of s)e=e.insert(i.key,i);return e}function Fb(s){let e=Hb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function ta(){return Lo()}function Gb(){return Lo()}function Lo(){return new ha((s=>s.toString()),((s,e)=>s.isEqual(e)))}const $2=new At(ge.comparator),Z2=new Xt(ge.comparator);function Ye(...s){let e=Z2;for(const i of s)e=e.add(i);return e}const J2=new Xt(Qe);function W2(){return J2}function Ym(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function Qb(s){return{integerValue:""+s}}function ew(s,e){return R2(e)?Qb(e):Ym(s,e)}class Ah{constructor(){this._=void 0}}function tw(s,e,i){return s instanceof nh?(function(o,c){const d={fields:{[Nb]:{stringValue:Rb},[Ib]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hm(c)&&(c=bh(c)),c&&(d.fields[Cb]=c),{mapValue:d}})(i,e):s instanceof Qo?Kb(s,e):s instanceof Yo?Xb(s,e):(function(o,c){const d=Yb(o,c),y=W_(d)+W_(o.Ae);return _m(d)&&_m(o.Ae)?Qb(y):Ym(o.serializer,y)})(s,e)}function nw(s,e,i){return s instanceof Qo?Kb(s,e):s instanceof Yo?Xb(s,e):i}function Yb(s,e){return s instanceof ih?(function(r){return _m(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class nh extends Ah{}class Qo extends Ah{constructor(e){super(),this.elements=e}}function Kb(s,e){const i=$b(e);for(const r of s.elements)i.some((o=>Yi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Yo extends Ah{constructor(e){super(),this.elements=e}}function Xb(s,e){let i=$b(e);for(const r of s.elements)i=i.filter((o=>!Yi(o,r)));return{arrayValue:{values:i}}}class ih extends Ah{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function W_(s){return Mt(s.integerValue||s.doubleValue)}function $b(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function iw(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Qo&&o instanceof Qo||r instanceof Yo&&o instanceof Yo?fl(r.elements,o.elements,Yi):r instanceof ih&&o instanceof ih?Yi(r.Ae,o.Ae):r instanceof nh&&o instanceof nh})(s.transform,e.transform)}class sw{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class xh{}function Zb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Km(s.key,ni.none()):new Jo(s.key,s.data,ni.none());{const i=s.data,r=Nn.empty();let o=new Xt(un.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Tr(s.key,r,new zn(o.toArray()),ni.none())}}function rw(s,e,i){s instanceof Jo?(function(o,c,d){const y=o.value.clone(),v=tv(o.fieldTransforms,c,d.transformResults);y.setAll(v),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Tr?(function(o,c,d){if(!Hc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=tv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(Jb(o)),v.setAll(y),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Uo(s,e,i,r){return s instanceof Jo?(function(c,d,y,v){if(!Hc(c.precondition,d))return y;const _=c.value.clone(),S=nv(c.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Tr?(function(c,d,y,v){if(!Hc(c.precondition,d))return y;const _=nv(c.fieldTransforms,v,d),S=d.data;return S.setAll(Jb(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,y){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function aw(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=Yb(r.transform,o||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(r.field,c))}return i||null}function ev(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&fl(r,o,((c,d)=>iw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jo extends xh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends xh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Jb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function tv(s,e,i){const r=new Map;st(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);r.set(c.field,nw(d,y,i[o]))}return r}function nv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,tw(c,d,e))}return r}class Km extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lw extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ow{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&rw(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Uo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Uo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Gb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const v=Zb(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((i,r)=>ev(i,r)))&&fl(this.baseMutations,e.baseMutations,((i,r)=>ev(i,r)))}}class Xm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return $2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Xm(e,i,r,o)}}class uw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Ze;function hw(s){switch(s){case $.OK:return Te(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function Wb(s){if(s===void 0)return bs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ht.OK:return $.OK;case Ht.CANCELLED:return $.CANCELLED;case Ht.UNKNOWN:return $.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return $.INTERNAL;case Ht.UNAVAILABLE:return $.UNAVAILABLE;case Ht.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ht.NOT_FOUND:return $.NOT_FOUND;case Ht.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ht.ABORTED:return $.ABORTED;case Ht.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ht.DATA_LOSS:return $.DATA_LOSS;default:return Te(39323,{code:s})}}(Ze=Ht||(Ht={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function fw(){return new TextEncoder}const dw=new dr([4294967295,4294967295],0);function iv(s){const e=fw().encode(s),i=new mb;return i.update(e),new Uint8Array(i.digest())}function sv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new dr([i,r],0),new dr([o,c],0)]}class $m{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Oo(`Invalid padding: ${i}`);if(r<0)throw new Oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(dr.fromNumber(r)));return o.compare(dw)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=iv(e),[r,o]=sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=iv(e),[r,o]=sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Wo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new wh(Ne.min(),o,new At(Qe),Es(),Ye())}}class Wo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Wo(r,i,Ye(),Ye(),Ye())}}class Fc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class e1{constructor(e,i){this.targetId=e,this.Ce=i}}class t1{constructor(e,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class rv{constructor(){this.ve=0,this.Fe=av(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),i=Ye(),r=Ye();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:c})}})),new Wo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=av()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mw{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.Je=Lc(),this.He=Lc(),this.Ye=new At(Qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(bm(c))if(r===0){const d=new ge(c.path);this.et(i,d,mn.newNoDocument(d,Ne.min()))}else st(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=yr(r).toUint8Array()}catch(v){if(v instanceof wb)return hl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new $m(d,o,c)}catch(v){return hl(v instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&bm(y.target)){const v=new ge(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,mn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ye();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new wh(e,i,this.Ye,this.je,r);return this.je=Es(),this.Je=Lc(),this.He=Lc(),this.Ye=new At(Qe),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new rv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Xt(Qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Xt(Qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lc(){return new At(ge.comparator)}function av(){return new At(ge.comparator)}const pw={asc:"ASCENDING",desc:"DESCENDING"},gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yw={and:"AND",or:"OR"};class _w{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(s,e){return s.useProto3Json||vh(e)?e:{value:e}}function sh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function vw(s,e){return sh(s,e.toTimestamp())}function Hi(s){return st(!!s,49232),Ne.fromTimestamp((function(i){const r=gr(i);return new Et(r.seconds,r.nanos)})(s))}function Zm(s,e){return Am(s,e).canonicalString()}function Am(s,e){const i=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function i1(s){const e=yt.fromString(s);return st(o1(e),10190,{key:e.toString()}),e}function xm(s,e){return Zm(s.databaseId,e.path)}function Wd(s,e){const i=i1(e);if(i.get(1)!==s.databaseId.projectId)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(r1(i))}function s1(s,e){return Zm(s.databaseId,e)}function bw(s){const e=i1(s);return e.length===4?yt.emptyPath():r1(e)}function wm(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function r1(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function lv(s,e,i){return{name:xm(s,e),fields:i.value.mapValue.fields}}function Ew(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(st(S===void 0||typeof S=="string",58123),cn.fromBase64String(S||"")):(st(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),cn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:Wb(_.code);return new ue(S,_.message||"")})(d);i=new t1(r,o,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wd(s,r.document.name),c=Hi(r.document.updateTime),d=r.document.createTime?Hi(r.document.createTime):Ne.min(),y=new Nn({mapValue:{fields:r.document.fields}}),v=mn.newFoundDocument(o,c,d,y),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Fc(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Wd(s,r.document),c=r.readTime?Hi(r.readTime):Ne.min(),d=mn.newNoDocument(o,c),y=r.removedTargetIds||[];i=new Fc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Wd(s,r.document),c=r.removedTargetIds||[];i=new Fc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new cw(o,c),y=r.targetId;i=new e1(y,d)}}return i}function Tw(s,e){let i;if(e instanceof Jo)i={update:lv(s,e.key,e.value)};else if(e instanceof Km)i={delete:xm(s,e.key)};else if(e instanceof Tr)i={update:lv(s,e.key,e.data),updateMask:Dw(e.fieldMask)};else{if(!(e instanceof lw))return Te(16599,{Vt:e.type});i={verify:xm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const y=d.transform;if(y instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Qo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ih)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Te(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:vw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function Sw(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Hi(o.updateTime):Hi(c);return d.isEqual(Ne.min())&&(d=Hi(c)),new sw(d,o.transformResults||[])})(i,e)))):[]}function Aw(s,e){return{documents:[s1(s,e.path)]}}function xw(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=s1(s,o);const c=(function(_){if(_.length!==0)return l1(_i.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:sl(M.field),direction:Nw(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Sm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function ww(s){let e=bw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){st(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=a1(A);return M instanceof _i&&jb(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(ne){return new Go(rl(ne.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,vh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(A){const M=!!A.before,Y=A.values||[];return new th(Y,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,Y=A.values||[];return new th(Y,M)})(i.endAt)),G2(e,o,d,c,y,"F",v,_)}function Rw(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function a1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=rl(i.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=rl(i.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=rl(i.unaryFilter.field);return Ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=rl(i.unaryFilter.field);return Ft.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ft.create(rl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return _i.create(i.compositeFilter.filters.map((r=>a1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function Nw(s){return pw[s]}function Cw(s){return gw[s]}function Iw(s){return yw[s]}function sl(s){return{fieldPath:s.canonicalString()}}function rl(s){return un.fromServerFormat(s.fieldPath)}function l1(s){return s instanceof Ft?(function(i){if(i.op==="=="){if(K_(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NAN"}};if(Y_(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(K_(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NAN"}};if(Y_(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(i.field),op:Cw(i.op),value:i.value}}})(s):s instanceof _i?(function(i){const r=i.getFilters().map((o=>l1(o)));return r.length===1?r[0]:{compositeFilter:{op:Iw(i.op),filters:r}}})(s):Te(54877,{filter:s})}function Dw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function o1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ur{constructor(e,i,r,o,c=Ne.min(),d=Ne.min(),y=cn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ow{constructor(e){this.yt=e}}function Mw(s){const e=ww({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Tm(e,e.limit,"L"):e}class Vw{constructor(){this.Cn=new kw}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(pr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class kw{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Xt(yt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Xt(yt.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u1=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(u1,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class pl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pl(0)}static cr(){return new pl(-1)}}const uv="LruGarbageCollector",jw=1048576;function cv([s,e],[i,r]){const o=Qe(s,i);return o===0?Qe(e,r):o}class Lw{constructor(e){this.Ir=e,this.buffer=new Xt(cv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();cv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Uw{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Tl(i)?ce(uv,"Ignoring IndexedDB error during garbage collection: ",i):await El(i)}await this.Vr(3e5)}))}}class Pw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(_h.ce);const r=new Lw(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ov)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,y=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),nl()<=Ge.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function zw(s,e){return new Pw(s,e)}class qw{constructor(){this.changes=new ha((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Hw{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Uo(r.mutation,o,zn.empty(),Et.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ye()){const o=ta();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=Do();return c.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=ta();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ye())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let c=Es();const d=Lo(),y=(function(){return Lo()})();return i.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof Tr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Uo(S.mutation,_,S.mutation.getFieldMask(),Et.now())):d.set(_.key,zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new Bw(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Lo();let o=new At(((d,y)=>d-y)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=r.get(v)||zn.empty();S=y.applyToLocalView(_,S),r.set(v,S);const A=(o.get(y.batchId)||Ye()).add(v);o=o.insert(y.batchId,A)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,A=Gb();S.forEach((M=>{if(!c.has(M)){const Y=Zb(i.get(M),r.get(M));Y!==null&&A.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):zb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):J.resolve(ta());let y=qo,v=c;return d.next((_=>J.forEach(_,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{v=v.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Ye()))).next((S=>({batchId:y,changes:Fb(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((r=>{let o=Do();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=Do();return this.indexManager.getCollectionParents(e,c).next((y=>J.forEach(y,(v=>{const _=(function(A,M){return new Sl(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,mn.newInvalidDocument(S)))}));let y=Do();return d.forEach(((v,_)=>{const S=c.get(v);S!==void 0&&Uo(S.mutation,_,zn.empty(),Et.now()),Sh(i,_)&&(y=y.insert(v,_))})),y}))}}class Fw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Mw(o.bundledQuery),readTime:Hi(o.readTime)}})(i)),J.resolve()}}class Gw{constructor(){this.overlays=new At(ge.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=ta();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=ta(),c=i.length+1,d=new ge(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new At(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=c.get(_.largestBatchId);S===null&&(S=ta(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=ta(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=o)););return J.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new uw(i,r));let c=this.qr.get(i);c===void 0&&(c=Ye(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class Qw{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Jm{constructor(){this.Qr=new Xt(Wt.$r),this.Ur=new Xt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Wt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Wt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ge(new yt([])),r=new Wt(i,e),o=new Wt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new yt([])),r=new Wt(i,e),o=new Wt(i,e+1);let c=Ye();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||Qe(e.Yr,i.Yr)}static Kr(e,i){return Qe(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class Yw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Wt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ow(c,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Wt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Xt(Qe);return i.forEach((o=>{const c=new Wt(o,0),d=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{r=r.add(y.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new ge(c),0);let y=new Xt(Qe);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),J.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){st(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const c=new Wt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Wt(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Kw{constructor(e){this.ri=e,this.docs=(function(){return new At(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let r=Es();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=Es();const d=i.path,y=new ge(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||S2(T2(S),r)<=0||(o.has(S.key)||Sh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Te(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Xw(this)}getSize(e){return J.resolve(this.size)}}class Xw extends qw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class $w{constructor(e){this.persistence=e,this.si=new ha((i=>Gm(i)),Qm),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=pl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new pl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class c1{constructor(e,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new Qw,this.referenceDelegate=e(this),this.Pi=new $w(this),this.indexManager=new Vw,this.remoteDocumentCache=(function(o){return new Kw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Ow(i),this.Ii=new Fw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Gw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Yw(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const o=new Zw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Zw extends x2{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Jm,this.Vi=null}static mi(e){return new Wm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=ge.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rh{constructor(e,i){this.persistence=e,this.pi=new ha((r=>N2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=zw(this,i)}static mi(e,i){return new rh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,c.removeEntry(d,Ne.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ep{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ye(),o=Ye();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ep(e,i.fromCache,r,o)}}class Jw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ww{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FA()?8:w2(pn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Jw;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(nl()<=Ge.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",il(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(nl()<=Ge.DEBUG&&ce("QueryEngine","Query:",il(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(nl()<=Ge.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",il(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(i))):J.resolve())}ys(e,i){if(J_(i))return J.resolve(null);let r=Bi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Tm(i,null,"F"),r=Bi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ye(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Tm(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return J_(i)||o.isEqual(Ne.min())?J.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?J.resolve(null):(nl()<=Ge.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),il(i)),this.vs(e,d,i,E2(o,qo)).next((y=>y)))}))}Ds(e,i){let r=new Xt(Bb(e));return i.forEach(((o,c)=>{Sh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return nl()<=Ge.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",il(i)),this.ps.getDocumentsMatchingQuery(e,i,pr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tp="LocalStore",eR=3e8;class tR{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new At(Qe),this.xs=new ha((c=>Gm(c)),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function nR(s,e,i,r){return new tR(s,e,i,r)}async function h1(s,e){const i=De(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],y=[];let v=Ye();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function iR(s,e){const i=De(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const A=_.batch,M=A.keys();let Y=J.resolve();return M.forEach((ne=>{Y=Y.next((()=>S.getEntry(v,ne))).next((re=>{const ie=_.docVersions.get(ne);st(ie!==null,48541),re.version.compareTo(ie)<0&&(A.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),S.addEntry(re)))}))})),Y.next((()=>y.mutationQueue.removeMutationBatch(v,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Ye();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function f1(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function sR(s,e){const i=De(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((S,A)=>{const M=o.get(A);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let Y=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Y=Y.withResumeToken(cn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):S.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(S.resumeToken,r)),o=o.insert(A,Y),(function(re,ie,_e){return re.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=eR?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(M,Y,S)&&y.push(i.Pi.updateTargetData(c,Y))}));let v=Es(),_=Ye();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(rR(c,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(Ne.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(S)}return J.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function rR(s,e,i){let r=Ye(),o=Ye();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Es();return i.forEach(((y,v)=>{const _=c.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Ne.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ce(tp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function aR(s,e){const i=De(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function lR(s,e){const i=De(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new ur(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Rm(s,e,i){const r=De(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Tl(d))throw d;ce(tp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function hv(s,e,i){const r=De(s);let o=Ne.min(),c=Ye();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const A=De(v),M=A.xs.get(S);return M!==void 0?J.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,S)})(r,d,Bi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Ne.min(),i?c:Ye()))).next((y=>(oR(r,Y2(e),y),{documents:y,Qs:c})))))}function oR(s,e,i){let r=s.Os.get(e)||Ne.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class fv{constructor(){this.activeTargetIds=W2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uR{constructor(){this.Mo=new fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cR{Oo(e){}shutdown(){}}const dv="ConnectivityMonitor";class mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(dv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function Nm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const em="RestConnection",hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=Nm(),y=this.zo(e,i.toUriEncodedString());ce(em,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(y),S=_l(_);return this.Jo(e,y,v,r,S).then((A=>(ce(em,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw hl(em,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",r),A}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=hR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class dR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class mR extends fR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=Nm();return new Promise(((y,v)=>{const _=new pb;_.setWithCredentials(!0),_.listenOnce(gb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zc.NO_ERROR:const A=_.getResponseJson();ce(fn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case zc.TIMEOUT:ce(fn,`RPC '${e}' ${d} timed out`),v(new ue($.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=_.getStatus();if(ce(fn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const ne=Y?.error;if(ne&&ne.status&&ne.message){const re=(function(_e){const Ce=_e.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Ce)>=0?Ce:$.UNKNOWN})(ne.status);v(new ue(re,ne.message))}else v(new ue($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ue($.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(fn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ce(fn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=Nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=vb(),y=_b(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=c.join("");ce(fn,`Creating RPC '${e}' stream ${o}: ${S}`,v);const A=d.createWebChannel(S,v);this.I_(A);let M=!1,Y=!1;const ne=new dR({Yo:ie=>{Y?ce(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,ie):(M||(ce(fn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),M=!0),ce(fn,`RPC '${e}' stream ${o} sending:`,ie),A.send(ie))},Zo:()=>A.close()}),re=(ie,_e,Ce)=>{ie.listen(_e,(Ee=>{try{Ce(Ee)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return re(A,Io.EventType.OPEN,(()=>{Y||(ce(fn,`RPC '${e}' stream ${o} transport opened.`),ne.o_())})),re(A,Io.EventType.CLOSE,(()=>{Y||(Y=!0,ce(fn,`RPC '${e}' stream ${o} transport closed`),ne.a_(),this.E_(A))})),re(A,Io.EventType.ERROR,(ie=>{Y||(Y=!0,hl(fn,`RPC '${e}' stream ${o} transport errored. Name:`,ie.name,"Message:",ie.message),ne.a_(new ue($.UNAVAILABLE,"The operation could not be completed")))})),re(A,Io.EventType.MESSAGE,(ie=>{if(!Y){const _e=ie.data[0];st(!!_e,16349);const Ce=_e,Ee=Ce?.error||Ce[0]?.error;if(Ee){ce(fn,`RPC '${e}' stream ${o} received error:`,Ee);const nt=Ee.status;let dt=(function(w){const C=Ht[w];if(C!==void 0)return Wb(C)})(nt),Ke=Ee.message;dt===void 0&&(dt=$.INTERNAL,Ke="Unknown error status: "+nt+" with message "+Ee.message),Y=!0,ne.a_(new ue(dt,Ke)),A.close()}else ce(fn,`RPC '${e}' stream ${o} received:`,_e),ne.u_(_e)}})),re(y,yb.STAT_EVENT,(ie=>{ie.stat===pm.PROXY?ce(fn,`RPC '${e}' stream ${o} detected buffering proxy`):ie.stat===pm.NOPROXY&&ce(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function tm(){return typeof document<"u"?document:null}function Rh(s){return new _w(s,!0)}class d1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pv="PersistentStream";class m1{constructor(e,i,r,o,c,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ue($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(pv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pR extends m1{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Ew(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ne.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?Hi(d.readTime):Ne.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(c,d){let y;const v=d.target;if(y=bm(v)?{documents:Aw(c,v)}:{query:xw(c,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=n1(c,d.resumeToken);const _=Sm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ne.min())>0){y.readTime=sh(c,d.snapshotVersion.toTimestamp());const _=Sm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=Rw(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.q_(i)}}class gR extends m1{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Sw(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Tw(this.serializer,r)))};this.q_(i)}}class yR{}class _R extends yR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Am(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue($.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Am(i,r),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class bR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{fa(this)&&(ce(ua,"Restarting streams for network reachability change."),await(async function(v){const _=De(v);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new vR(r,o)}}async function Nh(s){if(fa(s))for(const e of s.da)await e(!0)}async function eu(s){for(const e of s.da)await e(!1)}function p1(s,e){const i=De(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rp(i)?sp(i):Al(i).O_()&&ip(i,e))}function np(s,e){const i=De(s),r=Al(i);i.Ia.delete(e),r.O_()&&g1(i,e),i.Ia.size===0&&(r.O_()?r.L_():fa(i)&&i.Ra.set("Unknown"))}function ip(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Al(s).Y_(e)}function g1(s,e){s.Va.Ue(e),Al(s).Z_(e)}function sp(s){s.Va=new mw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Al(s).start(),s.Ra.ua()}function rp(s){return fa(s)&&!Al(s).x_()&&s.Ia.size>0}function fa(s){return De(s).Ea.size===0}function y1(s){s.Va=void 0}async function ER(s){s.Ra.set("Online")}async function TR(s){s.Ia.forEach(((e,i)=>{ip(s,e)}))}async function SR(s,e){y1(s),rp(s)?(s.Ra.ha(e),sp(s)):s.Ra.set("Unknown")}async function AR(s,e,i){if(s.Ra.set("Online"),e instanceof t1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){ce(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(s,r)}else if(e instanceof Fc?s.Va.Ze(e):e instanceof e1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ne.min()))try{const r=await f1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(cn.EMPTY_BYTE_STRING,S.snapshotVersion)),g1(c,v);const A=new ur(S.target,v,_,S.sequenceNumber);ip(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){ce(ua,"Failed to raise snapshot:",r),await ah(s,r)}}async function ah(s,e,i){if(!Tl(e))throw e;s.Ea.add(1),await eu(s),s.Ra.set("Offline"),i||(i=()=>f1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function _1(s,e){return e().catch((i=>ah(s,i,e)))}async function Ch(s){const e=De(s),i=vr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;xR(e);)try{const o=await aR(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,wR(e,o)}catch(o){await ah(e,o)}v1(e)&&b1(e)}function xR(s){return fa(s)&&s.Ta.length<10}function wR(s,e){s.Ta.push(e);const i=vr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function v1(s){return fa(s)&&!vr(s).x_()&&s.Ta.length>0}function b1(s){vr(s).start()}async function RR(s){vr(s).ra()}async function NR(s){const e=vr(s);for(const i of s.Ta)e.ea(i.mutations)}async function CR(s,e,i){const r=s.Ta.shift(),o=Xm.from(r,e,i);await _1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ch(s)}async function IR(s,e){e&&vr(s).X_&&await(async function(r,o){if((function(d){return hw(d)&&d!==$.ABORTED})(o.code)){const c=r.Ta.shift();vr(r).B_(),await _1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(r)}})(s,e),v1(s)&&b1(s)}async function gv(s,e){const i=De(s);i.asyncQueue.verifyOperationInProgress(),ce(ua,"RemoteStore received new credentials");const r=fa(i);i.Ea.add(3),await eu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nh(i)}async function DR(s,e){const i=De(s);e?(i.Ea.delete(2),await Nh(i)):e||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function Al(s){return s.ma||(s.ma=(function(i,r,o){const c=De(i);return c.sa(),new pR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:ER.bind(null,s),t_:TR.bind(null,s),r_:SR.bind(null,s),H_:AR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),rp(s)?sp(s):s.Ra.set("Unknown")):(await s.ma.stop(),y1(s))}))),s.ma}function vr(s){return s.fa||(s.fa=(function(i,r,o){const c=De(i);return c.sa(),new gR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:RR.bind(null,s),r_:IR.bind(null,s),ta:NR.bind(null,s),na:CR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ap{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,y=new ap(e,i,d,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Tl(s))return new ue($.UNAVAILABLE,`${e}: ${s}`);throw s}class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ge.comparator(i.key,r.key):(i,r)=>ge.comparator(i.key,r.key),this.keyedMap=Do(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class yv{constructor(){this.ga=new At(ge.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class gl{constructor(e,i,r,o,c,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new gl(e,i,al.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class OR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MR{constructor(){this.queries=_v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=De(i),c=o.queries;o.queries=_v(),c.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new ue($.ABORTED,"Firestore shutting down"))}}function _v(){return new ha((s=>qb(s)),Th)}async function op(s,e){const i=De(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new OR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=lp(d,`Initialization of query '${il(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cp(i)}async function up(s,e){const i=De(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function VR(s,e){const i=De(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&cp(i)}function kR(s,e,i){const r=De(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function cp(s){s.Ca.forEach((e=>{e.next()}))}var Cm,vv;(vv=Cm||(Cm={})).Ma="default",vv.Cache="cache";class hp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class E1{constructor(e){this.key=e}}class T1{constructor(e){this.key=e}}class jR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=Bb(e),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new yv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,A)=>{const M=o.get(S),Y=Sh(this.query,A)?A:null,ne=!!M&&this.mutatedKeys.has(M.key),re=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ie=!1;M&&Y?M.data.isEqual(Y.data)?ne!==re&&(r.track({type:3,doc:Y}),ie=!0):this.su(M,Y)||(r.track({type:2,doc:Y}),ie=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(y=!0)):!M&&Y?(r.track({type:0,doc:Y}),ie=!0):M&&!Y&&(r.track({type:1,doc:M}),ie=!0,(v||_)&&(y=!0)),ie&&(Y?(d=d.add(Y),c=re?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(Y,ne){const re=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ie})}};return re(Y)-re(ne)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new gl(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new T1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new E1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ye();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class LR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class UR{constructor(e){this.key=e,this.hu=!1}}class PR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((y=>qb(y)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new At(ge.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=pl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zR(s,e,i=!0){const r=N1(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await S1(r,e,i,!0),o}async function qR(s,e){const i=N1(s);await S1(i,e,!0,!1)}async function S1(s,e,i,r){const o=await lR(s.localStore,Bi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return r&&(y=await BR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&p1(s.remoteStore,o),y}async function BR(s,e,i,r,o){s.pu=(A,M,Y)=>(async function(re,ie,_e,Ce){let Ee=ie.view.ru(_e);Ee.Cs&&(Ee=await hv(re.localStore,ie.query,!1).then((({documents:I})=>ie.view.ru(I,Ee))));const nt=Ce&&Ce.targetChanges.get(ie.targetId),dt=Ce&&Ce.targetMismatches.get(ie.targetId)!=null,Ke=ie.view.applyChanges(Ee,re.isPrimaryClient,nt,dt);return Ev(re,ie.targetId,Ke.au),Ke.snapshot})(s,A,M,Y);const c=await hv(s.localStore,e,!0),d=new jR(e,c.Qs),y=d.ru(c.documents),v=Wo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);Ev(s,i,_.au);const S=new LR(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function HR(s,e,i){const r=De(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Th(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&np(r.remoteStore,o.targetId),Im(r,o.targetId)})).catch(El)):(Im(r,o.targetId),await Rm(r.localStore,o.targetId,!0))}async function FR(s,e){const i=De(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),np(i.remoteStore,r.targetId))}async function GR(s,e,i){const r=JR(s);try{const o=await(function(d,y){const v=De(d),_=Et.now(),S=y.reduce(((Y,ne)=>Y.add(ne.key)),Ye());let A,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let ne=Es(),re=Ye();return v.Ns.getEntries(Y,S).next((ie=>{ne=ie,ne.forEach(((_e,Ce)=>{Ce.isValidDocument()||(re=re.add(_e))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,ne))).next((ie=>{A=ie;const _e=[];for(const Ce of y){const Ee=aw(Ce,A.get(Ce.key).overlayedDocument);Ee!=null&&_e.push(new Tr(Ce.key,Ee,Mb(Ee.value.mapValue),ni.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,_e,y)})).next((ie=>{M=ie;const _e=ie.applyToLocalDocumentSet(A,re);return v.documentOverlayCache.saveOverlays(Y,ie.batchId,_e)}))})).then((()=>({batchId:M.batchId,changes:Fb(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new At(Qe)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await tu(r,o.changes),await Ch(r.remoteStore)}catch(o){const c=lp(o,"Failed to persist write");i.reject(c)}}async function A1(s,e){const i=De(s);try{const r=await sR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?st(d.hu,14607):o.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await tu(i,r,e)}catch(r){await El(r)}}function bv(s,e,i){const r=De(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=De(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,A)=>{for(const M of A.Sa)M.va(y)&&(_=!0)})),_&&cp(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QR(s,e,i){const r=De(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new At(ge.comparator);d=d.insert(c,mn.newNoDocument(c,Ne.min()));const y=Ye().add(c),v=new wh(Ne.min(),new Map,new At(Qe),d,y);await A1(r,v),r.du=r.du.remove(c),r.Au.delete(e),dp(r)}else await Rm(r.localStore,e,!1).then((()=>Im(r,e,i))).catch(El)}async function YR(s,e){const i=De(s),r=e.batch.batchId;try{const o=await iR(i.localStore,e);w1(i,r,null),x1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await tu(i,o)}catch(o){await El(o)}}async function KR(s,e,i){const r=De(s);try{const o=await(function(d,y){const v=De(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((A=>(st(A!==null,37113),S=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);w1(r,e,i),x1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await tu(r,o)}catch(o){await El(o)}}function x1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function w1(s,e,i){const r=De(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||R1(s,r)}))}function R1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(np(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),dp(s))}function Ev(s,e,i){for(const r of i)r instanceof E1?(s.Ru.addReference(r.key,e),XR(s,r)):r instanceof T1?(ce(fp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||R1(s,r.key)):Te(19791,{wu:r})}function XR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ce(fp,"New document in limbo: "+i),s.Eu.add(r),dp(s))}function dp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(yt.fromString(e)),r=s.fu.next();s.Au.set(r,new UR(i)),s.du=s.du.insert(i,r),p1(s.remoteStore,new ur(Bi(Eh(i.path)),r,"TargetPurposeLimboResolution",_h.ce))}}async function tu(s,e,i){const r=De(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=ep.As(v.targetId,_);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const S=De(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(M=>J.forEach(M.Es,(Y=>S.persistence.referenceDelegate.addReference(A,M.targetId,Y))).next((()=>J.forEach(M.ds,(Y=>S.persistence.referenceDelegate.removeReference(A,M.targetId,Y)))))))))}catch(A){if(!Tl(A))throw A;ce(tp,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const Y=S.Ms.get(M),ne=Y.snapshotVersion,re=Y.withLastLimboFreeSnapshotVersion(ne);S.Ms=S.Ms.insert(M,re)}}})(r.localStore,c))}async function $R(s,e){const i=De(s);if(!i.currentUser.isEqual(e)){ce(fp,"User change. New user:",e.toKey());const r=await h1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new ue($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(i,r.Ls)}}function ZR(s,e){const i=De(s),r=i.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let o=Ye();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function N1(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=A1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QR.bind(null,e),e.Pu.H_=VR.bind(null,e.eventManager),e.Pu.yu=kR.bind(null,e.eventManager),e}function JR(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KR.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nR(this.persistence,new Ww,e.initialUser,this.serializer)}Cu(e){return new c1(Wm.mi,this.serializer)}Du(e){return new uR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class WR extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){st(this.persistence.referenceDelegate instanceof rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Uw(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new c1((r=>rh.mi(r,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$R.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MR})()}createDatastore(e){const i=Rh(e.databaseInfo.databaseId),r=(function(c){return new mR(c)})(e.databaseInfo);return(function(c,d,y,v){return new _R(c,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,y){return new bR(r,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>bv(this.syncEngine,i,0)),(function(){return mv.v()?new mv:new cR})())}createSyncEngine(e,i){return(function(o,c,d,y,v,_,S){const A=new PR(o,c,d,y,v,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=De(i);ce(ua,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class mp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const br="FirestoreClient";class eN{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ce(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=lp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(br,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await h1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Tv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await tN(s);ce(br,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>gv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>gv(e.remoteStore,o))),s._onlineComponents=e}async function tN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(br,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;hl("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new lh)}}else ce(br,"Using default OfflineComponentProvider"),await nm(s,new WR(void 0));return s._offlineComponents}async function C1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(br,"Using user provided OnlineComponentProvider"),await Tv(s,s._uninitializedComponentsProvider._online)):(ce(br,"Using default OnlineComponentProvider"),await Tv(s,new Dm))),s._onlineComponents}function nN(s){return C1(s).then((e=>e.syncEngine))}async function oh(s){const e=await C1(s),i=e.eventManager;return i.onListen=zR.bind(null,e.syncEngine),i.onUnlisten=HR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=qR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=FR.bind(null,e.syncEngine),i}function iN(s,e,i={}){const r=new _s;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const S=new mp({next:M=>{S.Nu(),d.enqueueAndForget((()=>up(c,A)));const Y=M.docs.has(y);!Y&&M.fromCache?_.reject(new ue($.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&M.fromCache&&v&&v.source==="server"?_.reject(new ue($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new hp(Eh(y.path),S,{includeMetadataChanges:!0,qa:!0});return op(c,A)})(await oh(s),s.asyncQueue,e,i,r))),r.promise}function sN(s,e,i={}){const r=new _s;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const S=new mp({next:M=>{S.Nu(),d.enqueueAndForget((()=>up(c,A))),M.fromCache&&v.source==="server"?_.reject(new ue($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new hp(y,S,{includeMetadataChanges:!0,qa:!0});return op(c,A)})(await oh(s),s.asyncQueue,e,i,r))),r.promise}function I1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Sv=new Map;const D1="firestore.googleapis.com",Av=!0;class xv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D1,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jw)throw new ue($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new c2;switch(r.type){case"firstParty":return new m2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Sv.get(i);r&&(ce("ComponentProvider","Removing Datastore"),Sv.delete(i),r.terminate())})(this),Promise.resolve()}}function rN(s,e,i,r={}){s=Cn(s,Ih);const o=_l(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(ab(`https://${y}`),lb("Firestore",!0)),c.host!==D1&&c.host!==y&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:r};if(!aa(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=dn.MOCK_USER;else{_=kA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ue($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new dn(A)}s._authCredentials=new h2(new Eb(_,S))}}class Sr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sr(this.firestore,e,this._query)}}class Rt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Zo(i,Rt._jsonSchema))return new Rt(e,r||null,new ge(yt.fromString(i.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Gt("string",Rt._jsonSchemaVersion),referencePath:Gt("string")};class mr extends Sr{constructor(e,i,r){super(e,i,Eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ge(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function ir(s,e,...i){if(s=en(s),Tb("collection","path",e),s instanceof Ih){const r=yt.fromString(e,...i);return U_(r),new mr(s,null,r)}{if(!(s instanceof Rt||s instanceof mr))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return U_(r),new mr(s.firestore,null,r)}}function rr(s,e,...i){if(s=en(s),arguments.length===1&&(e=qm.newId()),Tb("doc","path",e),s instanceof Ih){const r=yt.fromString(e,...i);return L_(r),new Rt(s,null,new ge(r))}{if(!(s instanceof Rt||s instanceof mr))throw new ue($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return L_(r),new Rt(s.firestore,s instanceof mr?s.converter:null,new ge(r))}}const wv="AsyncQueue";class Rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d1(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&ce(wv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _s;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Tl(e))throw e;ce(wv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",Nv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ap.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Nv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Cv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ts extends Ih{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Rv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rv(e),this._firestoreClient=void 0,await e}}}function aN(s,e){const i=typeof s=="object"?s:hb(),r=typeof s=="string"?s:Wc,o=Pm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=MA("firestore");c&&rN(o,...c)}return o}function Dh(s){if(s._terminated)throw new ue($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||lN(s),s._firestoreClient}function lN(s){const e=s._freezeSettings(),i=(function(o,c,d,y){return new D2(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,I1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new eN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(cn.fromBase64String(e))}catch(i){throw new ue($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ti(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zo(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Gt("string",ti._jsonSchemaVersion),bytes:Gt("string")};class Oh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pp{constructor(e){this._methodName=e}}class Fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Zo(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Gt("string",Fi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zo(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gi(e.vectorValues);throw new ue($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Gt("string",Gi._jsonSchemaVersion),vectorValues:Gt("object")};const oN=/^__.*__$/;class uN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jo(e,this.data,i,this.fieldTransforms)}}class O1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Tr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function M1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class gp{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(M1(this.Ac)&&oN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Rh(e)}Cc(e,i,r,o=!1){return new gp({Ac:e,methodName:i,Dc:r,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mh(s){const e=s._freezeSettings(),i=Rh(s._databaseId);return new cN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function V1(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);yp("Data must be an object, but it was:",d,r);const y=k1(r,d);let v,_;if(c.merge)v=new zn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=Om(e,A,i);if(!d.contains(M))throw new ue($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);L1(S,M)||S.push(M)}v=new zn(S),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new uN(new Nn(y),v,_)}class Vh extends pp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function hN(s,e,i,r){const o=s.Cc(1,e,i);yp("Data must be an object, but it was:",o,r);const c=[],d=Nn.empty();Er(r,((v,_)=>{const S=_p(e,v,i);_=en(_);const A=o.yc(S);if(_ instanceof Vh)c.push(S);else{const M=nu(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const y=new zn(c);return new O1(d,y,o.fieldTransforms)}function fN(s,e,i,r,o,c){const d=s.Cc(1,e,i),y=[Om(e,r,i)],v=[o];if(c.length%2!=0)throw new ue($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Om(e,c[M])),v.push(c[M+1]);const _=[],S=Nn.empty();for(let M=y.length-1;M>=0;--M)if(!L1(_,y[M])){const Y=y[M];let ne=v[M];ne=en(ne);const re=d.yc(Y);if(ne instanceof Vh)_.push(Y);else{const ie=nu(ne,re);ie!=null&&(_.push(Y),S.set(Y,ie))}}const A=new zn(_);return new O1(S,A,d.fieldTransforms)}function dN(s,e,i,r=!1){return nu(i,s.Cc(r?4:3,e))}function nu(s,e){if(j1(s=en(s)))return yp("Unsupported field value:",e,s),k1(s,e);if(s instanceof pp)return(function(r,o){if(!M1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const y of r){let v=nu(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ew(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Et.fromDate(r);return{timestampValue:sh(o.serializer,c)}}if(r instanceof Et){const c=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(o.serializer,c)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:n1(o.serializer,r._byteString)};if(r instanceof Rt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Gi)return(function(d,y){return{mapValue:{fields:{[Db]:{stringValue:Ob},[eh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Ym(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${yh(r)}`)})(s,e)}function k1(s,e){const i={};return xb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Er(s,((r,o)=>{const c=nu(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function j1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Et||s instanceof Fi||s instanceof ti||s instanceof Rt||s instanceof pp||s instanceof Gi)}function yp(s,e,i){if(!j1(i)||!Sb(i)){const r=yh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Om(s,e,i){if((e=en(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return _p(s,e);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const mN=new RegExp("[~\\*/\\[\\]]");function _p(s,e,i){if(e.search(mN)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Oh(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ue($.INVALID_ARGUMENT,y+s+v)}function L1(s,e){return s.some((i=>i.isEqual(e)))}class U1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(kh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class pN extends U1{data(){return super.data()}}function kh(s,e){return typeof e=="string"?_p(s,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}function P1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class z1 extends vp{}function Jr(s,e,...i){let r=[];e instanceof vp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((v=>v instanceof bp)).length,y=c.filter((v=>v instanceof jh)).length;if(d>1||d>0&&y>0)throw new ue($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class jh extends z1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new jh(e,i,r)}_apply(e){const i=this._parse(e);return q1(e._query,i),new Sr(e.firestore,e.converter,Em(e._query,i))}_parse(e){const i=Mh(e.firestore);return(function(c,d,y,v,_,S,A){let M;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ue($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Ov(A,S);const ne=[];for(const re of A)ne.push(Dv(v,c,re));M={arrayValue:{values:ne}}}else M=Dv(v,c,A)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Ov(A,S),M=dN(y,d,A,S==="in"||S==="not-in");return Ft.create(_,S,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function No(s,e,i){const r=e,o=kh("where",s);return jh._create(o,r,i)}class bp extends vp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:_i.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const y=c.getFlattenedFilters();for(const v of y)q1(d,v),d=Em(d,v)})(e._query,i),new Sr(e.firestore,e.converter,Em(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ep extends z1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ep(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ue($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Go(c,d)})(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Sl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Iv(s,e="asc"){const i=e,r=kh("orderBy",s);return Ep._create(r,i)}function Dv(s,e,i){if(typeof(i=en(i))=="string"){if(i==="")throw new ue($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zb(e)&&i.indexOf("/")!==-1)throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(yt.fromString(i));if(!ge.isDocumentKey(r))throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Q_(s,new ge(r))}if(i instanceof Rt)return Q_(s,i._key);throw new ue($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(i)}.`)}function Ov(s,e){if(!Array.isArray(s)||s.length===0)throw new ue($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q1(s,e){const i=(function(o,c){for(const d of o)for(const y of d.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class gN{convertValue(e,i="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Er(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[eh].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new Gi(i)}convertGeoPoint(e){return new Fi(Mt(e.latitude),Mt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Bo(e));default:return null}}convertTimestamp(e){const i=gr(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=yt.fromString(e);st(o1(r),9688,{name:e});const o=new Ho(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return o.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function B1(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Mo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends U1{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Gt("string",ia._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Gc extends ia{data(e={}){return super.data(e)}}class sa{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Mo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Gc(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Gc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Mo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Gc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Mo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:yN(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}function _N(s){s=Cn(s,Rt);const e=Cn(s.firestore,Ts);return iN(Dh(e),s._key).then((i=>H1(e,s,i)))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Gt("string",sa._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Tp extends gN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,i)}}function Mv(s){s=Cn(s,Sr);const e=Cn(s.firestore,Ts),i=Dh(e),r=new Tp(e);return P1(s._query),sN(i,s._query).then((o=>new sa(e,r,s,o)))}function im(s,e,i){s=Cn(s,Rt);const r=Cn(s.firestore,Ts),o=B1(s.converter,e);return Lh(r,[V1(Mh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ni.none())])}function vN(s,e,i,...r){s=Cn(s,Rt);const o=Cn(s.firestore,Ts),c=Mh(o);let d;return d=typeof(e=en(e))=="string"||e instanceof Oh?fN(c,"updateDoc",s._key,e,i,r):hN(c,"updateDoc",s._key,e),Lh(o,[d.toMutation(s._key,ni.exists(!0))])}function sm(s){return Lh(Cn(s.firestore,Ts),[new Km(s._key,ni.none())])}function bN(s,e){const i=Cn(s.firestore,Ts),r=rr(s),o=B1(s.converter,e);return Lh(i,[V1(Mh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then((()=>r))}function Co(s,...e){s=en(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Cv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Cv(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,d,y;if(s instanceof Rt)d=Cn(s.firestore,Ts),y=Eh(s._key.path),c={next:v=>{e[r]&&e[r](H1(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=Cn(s,Sr);d=Cn(v.firestore,Ts),y=v._query;const _=new Tp(d);c={next:S=>{e[r]&&e[r](new sa(d,_,v,S))},error:e[r+1],complete:e[r+2]},P1(s._query)}return(function(_,S,A,M){const Y=new mp(M),ne=new hp(S,Y,A);return _.asyncQueue.enqueueAndForget((async()=>op(await oh(_),ne))),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget((async()=>up(await oh(_),ne)))}})(Dh(d),y,o,c)}function Lh(s,e){return(function(r,o){const c=new _s;return r.asyncQueue.enqueueAndForget((async()=>GR(await nN(r),o,c))),c.promise})(Dh(s),e)}function H1(s,e,i){const r=i.docs.get(e._key),o=new Tp(s);return new ia(s,o,e._key,r,new Mo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){bl=o})(vl),cl(new la("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),y=new Ts(new f2(r.getProvider("auth-internal")),new p2(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(_.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),fr(M_,V_,e),fr(M_,V_,"esm2020")})();function F1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EN=F1,G1=new Xo("auth","Firebase",F1());const ch=new Lm("@firebase/auth");function TN(s,...e){ch.logLevel<=Ge.WARN&&ch.warn(`Auth (${vl}): ${s}`,...e)}function Qc(s,...e){ch.logLevel<=Ge.ERROR&&ch.error(`Auth (${vl}): ${s}`,...e)}function Ki(s,...e){throw Ap(s,...e)}function yi(s,...e){return Ap(s,...e)}function Sp(s,e,i){const r={...EN(),[e]:i};return new Xo("auth","Firebase",r).create(e,{appName:s.name})}function ra(s){return Sp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SN(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ki(s,"argument-error"),Sp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ap(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return G1.create(s,...e)}function xe(s,e,...i){if(!s)throw Ap(e,...i)}function gs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Qc(e),new Error(e)}function Ss(s,e){s||gs(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function AN(){return Vv()==="http:"||Vv()==="https:"}function Vv(){return typeof self<"u"&&self.location?.protocol||null}function xN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||qA()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class iu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=UA()||BA()}get(){return xN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Q1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CN=new iu(3e4,6e4);function wp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xl(s,e,i,r,o={}){return Y1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const y=$o({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...c};return zA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&_l(s.emulatorConfig.host)&&(_.credentials="include"),Q1.fetch()(await K1(s,s.config.apiHost,i,y),_)})}async function Y1(s,e,i){s._canInitEmulator=!1;const r={...RN,...e};try{const o=new DN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Pc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Pc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Pc(s,"user-disabled",d);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Sp(s,S,_);Ki(s,S)}}catch(o){if(o instanceof As)throw o;Ki(s,"network-request-failed",{message:String(o)})}}async function IN(s,e,i,r,o={}){const c=await xl(s,e,i,r,o);return"mfaPendingCredential"in c&&Ki(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function K1(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?xp(s.config,o):`${s.config.apiScheme}://${o}`;return NN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class DN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),CN.get())})}}function Pc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=yi(s,e,r);return o.customData._tokenResponse=i,o}async function ON(s,e){return xl(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return xl(s,"POST","/v1/accounts:lookup",e)}function Po(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MN(s,e=!1){const i=en(s),r=await i.getIdToken(e),o=Rp(r);xe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Po(rm(o.auth_time)),issuedAtTime:Po(rm(o.iat)),expirationTime:Po(rm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Rp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=nb(i);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function kv(s){const e=Rp(s);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ko(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof As&&VN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function VN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(s){const e=s.auth,i=await s.getIdToken(),r=await Ko(s,hh(e,{idToken:i}));xe(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?X1(o.providerUserInfo):[],d=LN(s.providerData,c),y=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,_=y?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function jN(s){const e=en(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function X1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UN(s,e){const i=await Y1(s,{},async()=>{const r=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await K1(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return s.emulatorConfig&&_l(s.emulatorConfig.host)&&(v.credentials="include"),Q1.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PN(s,e){return xl(s,"POST","/v2/accounts:revokeToken",wp(s,e))}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const i=kv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await UN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new ll;return r&&(xe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(xe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(xe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return gs("not implemented")}}function sr(s,e){xe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return xe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return MN(this,e)}reload(){return jN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ra(this.auth));const e=await this.getIdToken();return await Ko(this,ON(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:Y,providerData:ne,stsTokenManager:re}=i;xe(A&&re,e,"internal-error");const ie=ll.fromJSON(this.name,re);xe(typeof A=="string",e,"internal-error"),sr(r,e.name),sr(o,e.name),xe(typeof M=="boolean",e,"internal-error"),xe(typeof Y=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(y,e.name),sr(v,e.name),sr(_,e.name),sr(S,e.name);const _e=new gi({uid:A,auth:e,email:o,emailVerified:M,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ie,createdAt:_,lastLoginAt:S});return ne&&Array.isArray(ne)&&(_e.providerData=ne.map(Ce=>({...Ce}))),v&&(_e._redirectEventId=v),_e}static async _fromIdTokenResponse(e,i,r=!1){const o=new ll;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await fh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];xe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?X1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new ll;y.updateFromIdToken(r);const v=new gi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const jv=new Map;function ys(s){Ss(s instanceof Function,"Expected a class definition");let e=jv.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,jv.set(s,e),e)}class $1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}$1.type="NONE";const Lv=$1;function Yc(s,e,i){return`firebase:${s}:${e}:${i}`}class ol{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Yc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await hh(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new ol(ys(Lv),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ys(Lv);const d=Yc(r,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await hh(e,{idToken:S}).catch(()=>{});if(!M)break;A=await gi._fromGetAccountInfoResponse(e,M,S)}else A=gi._fromJSON(e,S);_!==c&&(y=A),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new ol(c,e,r):(c=v[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ol(c,e,r))}}function Uv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nE(e))return"Blackberry";if(iE(e))return"Webos";if(J1(e))return"Safari";if((e.includes("chrome/")||W1(e))&&!e.includes("edge/"))return"Chrome";if(tE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Z1(s=pn()){return/firefox\//i.test(s)}function J1(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W1(s=pn()){return/crios\//i.test(s)}function eE(s=pn()){return/iemobile/i.test(s)}function tE(s=pn()){return/android/i.test(s)}function nE(s=pn()){return/blackberry/i.test(s)}function iE(s=pn()){return/webos/i.test(s)}function Np(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function zN(s=pn()){return Np(s)&&!!window.navigator?.standalone}function qN(){return HA()&&document.documentMode===10}function sE(s=pn()){return Np(s)||tE(s)||iE(s)||nE(s)||/windows phone/i.test(s)||eE(s)}function rE(s,e=[]){let i;switch(s){case"Browser":i=Uv(pn());break;case"Worker":i=`${Uv(pn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vl}/${r}`}class BN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,y)=>{try{const v=e(c);d(v)}catch(v){y(v)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function HN(s,e={}){return xl(s,"GET","/v2/passwordPolicy",wp(s,e))}const FN=6;class GN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??FN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class QN{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await hh(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(ra(this));const i=e?en(e):null;return i&&xe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HN(this),i=new GN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await PN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;xe(i,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,r,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Uh(s){return en(s)}class Pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZA(i=>this.observer=i)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YN(s){Cp=s}function KN(s){return Cp.loadJS(s)}function XN(){return Cp.gapiScript}function $N(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ZN(s,e){const i=Pm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(aa(c,e??{}))return o;Ki(o,"already-initialized")}return i.initialize({options:e})}function JN(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function WN(s,e,i){const r=Uh(s);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=aE(e),{host:d,port:y}=eC(e),v=y===null?"":`:${y}`,_={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(aa(_,r.config.emulator)&&aa(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,_l(d)?(ab(`${c}//${d}${v}`),lb("Auth",!0)):tC()}function aE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function eC(s){const e=aE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:zv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:zv(d)}}}function zv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function tC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class lE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function ul(s,e){return IN(s,"POST","/v1/accounts:signInWithIdp",wp(s,e))}const nC="http://localhost";class ca extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ki("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new ca(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ul(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,ul(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ul(e,i)}buildRequest(){const e={requestUri:nC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$o(i)}return e}}class Ip{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends Ip{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends su{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class ps extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ca._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return ps.credential(i,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";class lr extends su{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends su{constructor(){super("twitter.com")}static credential(e,i){return ca._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return or.credential(i,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";class yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await gi._fromIdTokenResponse(e,r,o),d=qv(r);return new yl({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=qv(r);return new yl({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function qv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class dh extends As{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new dh(e,i,r,o)}}function oE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(s,c,e,r):c})}async function iC(s,e,i=!1){const r=await Ko(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return yl._forOperation(s,"link",r)}async function sC(s,e,i=!1){const{auth:r}=s;if(pi(r.app))return Promise.reject(ra(r));const o="reauthenticate";try{const c=await Ko(s,oE(r,o,e,s),i);xe(c.idToken,r,"internal-error");const d=Rp(c.idToken);xe(d,r,"internal-error");const{sub:y}=d;return xe(s.uid===y,r,"user-mismatch"),yl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ki(r,"user-mismatch"),c}}async function rC(s,e,i=!1){if(pi(s.app))return Promise.reject(ra(s));const r="signIn",o=await oE(s,r,e),c=await yl._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function aC(s,e,i,r){return en(s).onIdTokenChanged(e,i,r)}function lC(s,e,i){return en(s).beforeAuthStateChanged(e,i)}function oC(s,e,i,r){return en(s).onAuthStateChanged(e,i,r)}function uC(s){return en(s).signOut()}const mh="__sak";class uE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cC=1e3,hC=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);qN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hC):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}cE.type="LOCAL";const fC=cE;class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}hE.type="SESSION";const fE=hE;function dC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Ph(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),v=await dC(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];function Dp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class mC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,v)=>{const _=Dp("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function pC(s){Qi().location.href=s}function dE(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function gC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yC(){return navigator?.serviceWorker?.controller||null}function _C(){return dE()?self:null}const mE="firebaseLocalStorageDb",vC=1,ph="firebaseLocalStorage",pE="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function zh(s,e){return s.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function bC(){const s=indexedDB.deleteDatabase(mE);return new ru(s).toPromise()}function km(){const s=indexedDB.open(mE,vC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ph,{keyPath:pE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await bC(),e(await km()))})})}async function Bv(s,e,i){const r=zh(s,!0).put({[pE]:e,value:i});return new ru(r).toPromise()}async function EC(s,e){const i=zh(s,!1).get(e),r=await new ru(i).toPromise();return r===void 0?null:r.value}function Hv(s,e){const i=zh(s,!0).delete(e);return new ru(i).toPromise()}const TC=800,SC=3;class gE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>SC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(_C()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gC(),!this.activeServiceWorker)return;this.sender=new mC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await Bv(e,mh,"1"),await Hv(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>EC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Hv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=zh(o,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gE.type="LOCAL";const AC=gE;new iu(3e4,6e4);function yE(s,e){return e?ys(e):(xe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Op extends lE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ul(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function xC(s){return rC(s.auth,new Op(s),s.bypassAuthState)}function wC(s){const{auth:e,user:i}=s;return xe(i,e,"internal-error"),sC(i,new Op(s),s.bypassAuthState)}async function RC(s){const{auth:e,user:i}=s;return xe(i,e,"internal-error"),iC(i,new Op(s),s.bypassAuthState)}class _E{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xC;case"linkViaPopup":case"linkViaRedirect":return RC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:Ki(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NC=new iu(2e3,1e4);async function CC(s,e,i){if(pi(s.app))return Promise.reject(yi(s,"operation-not-supported-in-this-environment"));const r=Uh(s);SN(s,e,Ip);const o=yE(r,i);return new na(r,"signInViaPopup",e,o).executeNotNull()}class na extends _E{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NC.get())};e()}}na.currentPopupAction=null;const IC="pendingRedirect",Kc=new Map;class DC extends _E{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await OC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OC(s,e){const i=kC(e),r=VC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function MC(s,e){Kc.set(s._key(),e)}function VC(s){return ys(s._redirectPersistence)}function kC(s){return Yc(IC,s.config.apiKey,s.name)}async function jC(s,e,i=!1){if(pi(s.app))return Promise.reject(ra(s));const r=Uh(s),o=yE(r,e),d=await new DC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const LC=600*1e3;class UC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!vE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(yi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function vE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function PC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vE(s);default:return!1}}async function zC(s,e={}){return xl(s,"GET","/v1/projects",e)}const qC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BC=/^https?/;async function HC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await zC(s);for(const i of e)try{if(FC(i))return}catch{}Ki(s,"unauthorized-domain")}function FC(s){const e=Mm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!BC.test(i))return!1;if(qC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const GC=new iu(3e4,6e4);function Gv(){const s=Qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function QC(s){return new Promise((e,i)=>{function r(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),i(yi(s,"network-request-failed"))},timeout:GC.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)r();else{const o=$N("iframefcb");return Qi()[o]=()=>{gapi.load?r():i(yi(s,"network-request-failed"))},KN(`${XN()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function YC(s){return Xc=Xc||QC(s),Xc}const KC=new iu(5e3,15e3),XC="__/auth/iframe",$C="emulator/auth/iframe",ZC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WC(s){const e=s.config;xe(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?xp(e,$C):`https://${s.config.authDomain}/${XC}`,r={apiKey:e.apiKey,appName:s.name,v:vl},o=JC.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${$o(r).slice(1)}`}async function eI(s){const e=await YC(s),i=Qi().gapi;return xe(i,s,"internal-error"),e.open({where:document.body,url:WC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=yi(s,"network-request-failed"),y=Qi().setTimeout(()=>{c(d)},KC.get());function v(){Qi().clearTimeout(y),o(r)}r.ping(v).then(v,()=>{c(d)})}))}const tI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nI=500,iI=600,sI="_blank",rI="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aI(s,e,i,r=nI,o=iI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...tI,width:r.toString(),height:o.toString(),top:c,left:d},_=pn().toLowerCase();i&&(y=W1(_)?sI:i),Z1(_)&&(e=e||rI,v.scrollbars="yes");const S=Object.entries(v).reduce((M,[Y,ne])=>`${M}${Y}=${ne},`,"");if(zN(_)&&y!=="_self")return lI(e||"",y),new Qv(null);const A=window.open(e||"",y,S);xe(A,s,"popup-blocked");try{A.focus()}catch{}return new Qv(A)}function lI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const oI="__/auth/handler",uI="emulator/auth/handler",cI=encodeURIComponent("fac");async function Yv(s,e,i,r,o,c){xe(s.config.authDomain,s,"auth-domain-config-required"),xe(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:vl,eventId:o};if(e instanceof Ip){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",$A(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof su){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const v=await s._getAppCheckToken(),_=v?`#${cI}=${encodeURIComponent(v)}`:"";return`${hI(s)}?${$o(y).slice(1)}${_}`}function hI({config:s}){return s.emulator?xp(s,uI):`https://${s.authDomain}/${oI}`}const am="webStorageSupport";class fI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=jC,this._overrideRedirectResult=MC}async _openPopup(e,i,r,o){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Yv(e,i,r,Mm(),o);return aI(e,c,Dp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Yv(e,i,r,Mm(),o);return pC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ss(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await eI(e),r=new UC(e);return i.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(am,{type:am},o=>{const c=o?.[0]?.[am];c!==void 0&&i(!!c),Ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=HC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return sE()||J1()||Np()}}const dI=fI;var Kv="@firebase/auth",Xv="1.11.1";class mI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gI(s){cl(new la("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(s)},_=new QN(r,o,c,v);return JN(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),cl(new la("auth-internal",e=>{const i=Uh(e.getProvider("auth").getImmediate());return(r=>new mI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(Kv,Xv,pI(s)),fr(Kv,Xv,"esm2020")}const yI=300,_I=rb("authIdTokenMaxAge")||yI;let $v=null;const vI=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>_I)return;const o=i?.token;$v!==o&&($v=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bI(s=hb()){const e=Pm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=ZN(s,{popupRedirectResolver:dI,persistence:[AC,fC,fE]}),r=rb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=vI(c.toString());lC(i,d,()=>d(i.currentUser)),aC(i,y=>d(y))}}const o=ib("auth");return o&&WN(i,`http://${o}`),i}function EI(){return document.getElementsByTagName("head")?.[0]??document}YN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=yi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",EI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gI("Browser");const TI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},bE=cb(TI),_n=aN(bE),lm=bI(bE),SI=new ps;class au{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const AI=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},on={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:AI()},Mp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},xI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Mp(s);on.publicKey=i.publicKey,on.blockHeadless=i.blockHeadless,on.storageProvider=i.storageProvider,on.blockList=i.blockList,on.limitRate=i.limitRate,on.origin=i.origin||e},EE=async(s,e,i={})=>{const r=await fetch(on.origin+s,{method:"POST",headers:i,body:e}),o=await r.text(),c=new au(r.status,o);if(r.ok)return c;throw c},TE=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},wI=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},SE=s=>s.webdriver||!s.languages||s.languages.length===0,AE=()=>new au(451,"Unavailable For Headless Browser"),RI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},NI=s=>!s.list?.length||!s.watchVariable,CI=(s,e)=>s instanceof FormData?s.get(e):s[e],xE=(s,e)=>{if(NI(s))return!1;RI(s.list,s.watchVariable);const i=CI(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},wE=()=>new au(403,"Forbidden"),II=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},DI=async(s,e,i)=>{const r=Number(await i.get(s)||0);return e-Date.now()+r},RE=async(s,e,i)=>{if(!e.throttle||!i)return!1;II(e.throttle,e.id);const r=e.id||s;return await DI(r,e.throttle,i)>0?!0:(await i.set(r,Date.now().toString()),!1)},NE=()=>new au(429,"Too Many Requests"),OI=async(s,e,i,r)=>{const o=Mp(r),c=o.publicKey||on.publicKey,d=o.blockHeadless||on.blockHeadless,y=o.storageProvider||on.storageProvider,v={...on.blockList,...o.blockList},_={...on.limitRate,...o.limitRate};return d&&SE(navigator)?Promise.reject(AE()):(TE(c,s,e),wI(i),i&&xE(v,i)?Promise.reject(wE()):await RE(location.pathname,_,y)?Promise.reject(NE()):EE("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},MI=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},VI=s=>typeof s=="string"?document.querySelector(s):s,kI=async(s,e,i,r)=>{const o=Mp(r),c=o.publicKey||on.publicKey,d=o.blockHeadless||on.blockHeadless,y=on.storageProvider||o.storageProvider,v={...on.blockList,...o.blockList},_={...on.limitRate,...o.limitRate};if(d&&SE(navigator))return Promise.reject(AE());const S=VI(i);TE(c,s,e),MI(S);const A=new FormData(S);return xE(v,A)?Promise.reject(wE()):await RE(location.pathname,_,y)?Promise.reject(NE()):(A.append("lib_version","4.4.1"),A.append("service_id",s),A.append("template_id",e),A.append("user_id",c),EE("/api/v1.0/email/send-form",A))},jI={init:xI,send:OI,sendForm:kI,EmailJSResponseStatus:au},LI="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",om={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Zv=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],um={"Cinema Camera Kit *":1,"Gimbal / Stabilizer *":6,"DJI Mic Kit (Wireless)":4,"DJI Flip Drone *":1,Tripod:4,"Lighting Kit":6,"DSLR Camera Body":6,"Zoom Lens (18-55mm)":6,"Telephoto Lens (70-200mm)":2,"Portrait Lens (50mm)":3,"SD Card Reader":5,"Flash Unit":3},ke={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory"},Wr=s=>`salpointe_draft_${s}`,Jv=s=>{jI.send(om.SERVICE_ID,om.TEMPLATE_ID,s,om.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},UI=()=>{const[s,e]=Se.useState("landing"),[i,r]=Se.useState(!1),[o,c]=Se.useState(null),[d,y]=Se.useState(!1),[v,_]=Se.useState(um),[S,A]=Se.useState([]);Se.useEffect(()=>{const L=oC(lm,X=>{X?(c(X),y(Zv.includes(X.email))):(c(null),y(!1))});return()=>L()},[]),Se.useEffect(()=>{(async()=>{const oe=rr(_n,"settings","inventory"),fe=await _N(oe);fe.exists()?_(fe.data()):(await im(oe,um),_(um))})();const X=Jr(ir(_n,"blackout_dates")),te=Co(X,oe=>{const fe=oe.docs.map(x=>x.id);A(fe)});return()=>te()},[]);const M=async()=>{try{await CC(lm,SI),e(ke.DASHBOARD)}catch(L){console.error("Login failed:",L),alert("Login failed.")}},Y=async()=>{await uC(lm),e("landing")},ne=()=>{e("landing"),r(!1)},re=()=>{e(ke.DASHBOARD),r(!1)},ie=[ke.FILM,ke.GRAPHIC,ke.BUSINESS,ke.CULINARY,ke.PHOTO].includes(s);return p.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30",children:[p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),p.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[p.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:ne,children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),p.jsx("img",{src:LI,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",p.jsx("span",{className:"text-red-500",children:"CTE"})]}),p.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),p.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!ie&&s!=="landing"&&s!=="dashboard"&&p.jsxs("button",{onClick:re,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[p.jsx(ES,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s!=="landing"&&p.jsxs("button",{onClick:()=>{e(ke.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ke.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[p.jsx(Oc,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),o?p.jsxs(p.Fragment,{children:[s!=="landing"&&p.jsxs("button",{onClick:()=>{e(ke.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ke.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[p.jsx(p_,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&s!=="landing"&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{e(ke.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ke.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[p.jsx(m_,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),p.jsxs("button",{onClick:()=>{e(ke.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ke.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[p.jsx(IS,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),p.jsxs("button",{onClick:()=>{e(ke.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ke.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[p.jsx(__,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),p.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),p.jsx("button",{onClick:Y,className:"ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all flex items-center gap-2",title:`Logged in as ${o.email}`,children:p.jsx(eA,{size:16})})]}):p.jsxs("button",{onClick:M,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[p.jsx(g_,{size:16})," Login"]})]})]})}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10",children:i?p.jsx(Ce,{onReset:re}):p.jsxs(p.Fragment,{children:[s===ke.LANDING&&p.jsx(_e,{currentUser:o,onLogin:M,onEnter:re}),s===ke.DASHBOARD&&p.jsx(Ee,{onViewChange:e,currentUser:o}),s===ke.FILM&&p.jsx(O,{setSubmitted:r,onCancel:re,currentUser:o,inventory:v,blackouts:S}),s===ke.GRAPHIC&&p.jsx(j,{setSubmitted:r,onCancel:re,currentUser:o}),s===ke.BUSINESS&&p.jsx(R,{setSubmitted:r,onCancel:re,currentUser:o}),s===ke.CULINARY&&p.jsx(pt,{setSubmitted:r,onCancel:re,currentUser:o}),s===ke.PHOTO&&p.jsx(Nt,{setSubmitted:r,onCancel:re,currentUser:o,inventory:v,blackouts:S}),s===ke.CALENDAR&&p.jsx(w,{adminMode:d,blackouts:S}),s===ke.QUEUE&&p.jsx(C,{adminMode:d,setAdminMode:y,ALLOWED_ADMINS:Zv}),s===ke.MY_REQUESTS&&p.jsx(I,{currentUser:o}),s===ke.ANALYTICS&&d&&p.jsx(Ke,{}),s===ke.INVENTORY&&d&&p.jsx(dt,{inventory:v,setInventory:_})]})})]});function _e({currentUser:L,onLogin:X,onEnter:te}){return p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),p.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["The Future of ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Creative Logistics"})]}),p.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Eliminating the friction of paper logs and email chains. A centralized command center for Salpointe's creative technology."}),p.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:L?p.jsxs("button",{onClick:te,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),p.jsx(AA,{size:24,className:"fill-white"}),"Initialize Hub"]}):p.jsxs("button",{onClick:X,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[p.jsx(g_,{size:24}),"Login to Access"]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:p.jsx($S,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(FS,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(hA,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function Ce({onReset:L}){return p.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[p.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:p.jsx(qS,{size:40})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),p.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),p.jsx("button",{onClick:L,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function Ee({onViewChange:L,currentUser:X}){const[te,oe]=Se.useState({});Se.useEffect(()=>{(()=>{const B={},G={[ke.FILM]:"Film",[ke.GRAPHIC]:"Graphic",[ke.BUSINESS]:"Business",[ke.CULINARY]:"Culinary",[ke.PHOTO]:"Photo"};Object.keys(G).forEach(W=>{const se=Wr(G[W]);localStorage.getItem(se)&&(B[W]=!0)}),oe(B)})()},[]);const fe=[{id:ke.FILM,title:"Film & TV",icon:b_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:ke.GRAPHIC,title:"Graphic Design",icon:y_,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:ke.BUSINESS,title:"Business",icon:Fd,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:ke.CULINARY,title:"Culinary Arts",icon:v_,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:ke.PHOTO,title:"Photography",icon:Gd,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"col-span-full mb-4",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:X?`Welcome, ${X.displayName.split(" ")[0]}.`:"Access Granted."}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),fe.map(x=>p.jsxs("div",{onClick:()=>L(x.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${x.bg}`,children:[te[x.id]&&p.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[p.jsx(Mc,{size:12})," RESUME"]}),p.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${x.color} transition-transform group-hover:scale-110 duration-300`,children:p.jsx(x.icon,{size:28})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:x.title}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:x.desc})]},x.id))]})}function nt({initialData:L={},currentUser:X}){const te=X?.displayName||L.fullName||"",oe=X?.email||L.email||"";return p.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[p.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[p.jsx(yA,{size:18})," Identity Verification"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),p.jsx("input",{name:"requestName",type:"text",defaultValue:L.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),p.jsx("input",{name:"fullName",type:"text",defaultValue:te,readOnly:!!X,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${X?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),p.jsx("input",{name:"email",type:"email",defaultValue:oe,readOnly:!!X,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${X?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),p.jsxs("select",{name:"role",defaultValue:L.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[p.jsx("option",{children:"Student"}),p.jsx("option",{children:"Faculty / Staff"}),p.jsx("option",{children:"Club Representative"})]})]})]})]})}function dt({inventory:L,setInventory:X}){const[te,oe]=Se.useState(L),[fe,x]=Se.useState(!1),B=(W,se)=>{oe(he=>({...he,[W]:parseInt(se)||0}))},G=async()=>{x(!0);try{await im(rr(_n,"settings","inventory"),te),X(te),alert("Inventory updated successfully!")}catch(W){console.error("Error saving inventory:",W),alert("Failed to save inventory.")}x(!1)};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6 flex justify-between items-center",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[p.jsx(__,{className:"text-amber-400"})," Inventory Matrix"]})}),p.jsxs("button",{onClick:G,disabled:fe,className:"bg-amber-600 hover:bg-amber-500 text-slate-900 px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50 shadow-[0_0_15px_rgba(245,158,11,0.3)]",children:[fe?p.jsx(rA,{className:"animate-spin",size:18}):p.jsx(Mc,{size:18})," ",fe?"Processing...":"Save"]})]}),p.jsx("div",{className:"p-6",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(te).map(([W,se])=>p.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700 flex justify-between items-center hover:border-slate-600 transition-colors",children:[p.jsx("span",{className:"font-mono text-slate-300 text-sm truncate mr-4",children:W.replace("*","")}),p.jsx("input",{type:"number",min:"0",value:se,onChange:he=>B(W,he.target.value),className:"w-20 p-2 bg-slate-950 border border-slate-700 rounded text-center font-bold text-cyan-400 focus:border-cyan-500 outline-none"})]},W))})})]})}function Ke(){const[L,X]=Se.useState(!0),[te,oe]=Se.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});Se.useEffect(()=>{const x=Jr(ir(_n,"requests")),B=Co(x,G=>{let W=0,se=0,he=0,ye={},Be={};G.forEach(Le=>{const rt=Le.data();W++,(rt.status==="Approved"||rt.status==="Completed")&&se++,rt.status==="Pending Review"&&he++,ye[rt.dept]=(ye[rt.dept]||0)+1,rt.equipment&&(Array.isArray(rt.equipment)?rt.equipment:[rt.equipment]).forEach(Vt=>{Be[Vt]=(Be[Vt]||0)+1})});const Oe=Object.entries(Be).sort(([,Le],[,rt])=>rt-Le).slice(0,5);oe({total:W,approved:se,pending:he,deptCounts:ye,topEquipment:Oe}),X(!1)});return()=>B()},[]);const fe=te.total>0?Math.round(te.approved/te.total*100):0;return p.jsx("div",{className:"space-y-6 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[p.jsx(dA,{className:"text-emerald-400"})," Data Analytics"]})}),p.jsxs("div",{className:"bg-slate-800 border border-slate-700 px-4 py-2 rounded-lg text-cyan-400 font-mono text-sm",children:["Total Requests: ",p.jsx("strong",{children:te.total})]})]}),L?p.jsx("div",{className:"text-center py-12 text-slate-500 font-mono",children:"CALCULATING..."}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-emerald-950/30 rounded-xl p-5 border border-emerald-500/20",children:[p.jsx("h4",{className:"text-emerald-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Approval Rate"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsxs("span",{className:"text-4xl font-bold text-emerald-400 font-mono",children:[fe,"%"]})})]}),p.jsxs("div",{className:"bg-blue-950/30 rounded-xl p-5 border border-blue-500/20",children:[p.jsx("h4",{className:"text-blue-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Completed"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsx("span",{className:"text-4xl font-bold text-blue-400 font-mono",children:te.approved})})]}),p.jsxs("div",{className:"bg-amber-950/30 rounded-xl p-5 border border-amber-500/20",children:[p.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Pending"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsx("span",{className:"text-4xl font-bold text-amber-400 font-mono",children:te.pending})})]}),p.jsxs("div",{className:"md:col-span-2 bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[p.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(OS,{size:16,className:"text-purple-400"})," Requests by Department"]}),p.jsx("div",{className:"space-y-4",children:Object.entries(te.deptCounts).sort(([,x],[,B])=>B-x).map(([x,B])=>{const G=B/te.total*100;return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-xs mb-2 font-mono",children:[p.jsx("span",{className:"text-slate-400",children:x}),p.jsx("span",{className:"text-cyan-400",children:B})]}),p.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:p.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${G}%`}})})]},x)})})]}),p.jsxs("div",{className:"bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[p.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(Gd,{size:16,className:"text-pink-400"})," Top Gear"]}),p.jsx("ul",{className:"space-y-3",children:te.topEquipment.map(([x,B],G)=>p.jsxs("li",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 text-cyan-400 flex items-center justify-center text-xs font-mono border border-slate-700",children:G+1}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:x.replace(" *","")}),p.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[B," uses"]})]})]},x))})]})]})]})})}function I({currentUser:L}){const[X,te]=Se.useState([]),[oe,fe]=Se.useState(!0);Se.useEffect(()=>{if(!L)return;const G=Jr(ir(_n,"requests"),No("email","==",L.email),Iv("createdAt","desc")),W=Co(G,se=>{const he=se.docs.map(ye=>({id:ye.id,...ye.data(),formattedDate:ye.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));te(he),fe(!1)});return()=>W()},[L]);const x=async G=>{window.confirm("Are you sure?")&&await sm(rr(_n,"requests",G))},B=G=>{const W={Approved:"bg-green-950/50 text-green-400 border-green-500/30",Denied:"bg-red-950/50 text-red-400 border-red-500/30",Completed:"bg-slate-800 text-slate-400 border-slate-700",default:"bg-amber-950/50 text-amber-400 border-amber-500/30"};return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${W[G]||W.default}`,children:G})};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[p.jsx("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6",children:p.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[p.jsx(p_,{className:"text-cyan-400"})," My Request History"]})}),p.jsx("div",{className:"overflow-x-auto",children:oe?p.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"LOADING DATA..."}):X.length===0?p.jsx("div",{className:"p-12 text-center text-slate-500",children:"No records found."}):p.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-800/50 border-b border-slate-700 text-xs uppercase text-slate-400 font-mono",children:[p.jsx("th",{className:"p-4",children:"Ref ID"}),p.jsx("th",{className:"p-4",children:"Dept"}),p.jsx("th",{className:"p-4",children:"Project"}),p.jsx("th",{className:"p-4",children:"Date Submitted"}),p.jsx("th",{className:"p-4",children:"Status"}),p.jsx("th",{className:"p-4",children:"Action"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800",children:X.map(G=>p.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[p.jsx("td",{className:"p-4 text-cyan-400 font-mono text-xs",children:G.displayId}),p.jsx("td",{className:"p-4 text-slate-300 text-sm capitalize",children:G.dept}),p.jsx("td",{className:"p-4 font-semibold text-white text-sm",children:G.title}),p.jsx("td",{className:"p-4 text-slate-400 text-sm font-mono",children:G.formattedDate}),p.jsx("td",{className:"p-4",children:B(G.status)}),p.jsx("td",{className:"p-4",children:G.status==="Pending Review"&&p.jsx("button",{onClick:()=>x(G.id),className:"text-xs text-red-400 border border-red-900 hover:bg-red-950/50 px-3 py-1 rounded transition-colors",children:"Cancel"})})]},G.id))})]})})]})}function w({adminMode:L,blackouts:X}){const[te,oe]=Se.useState(new Date),[fe,x]=Se.useState(null),[B,G]=Se.useState("all"),[W,se]=Se.useState([]),[he,ye]=Se.useState(!0),Be=()=>oe(new Date(te.setMonth(te.getMonth()+1))),Oe=()=>oe(new Date(te.setMonth(te.getMonth()-1)));Se.useEffect(()=>{const ee=Jr(ir(_n,"requests")),Ue=Co(ee,_t=>{const vn=_t.docs.map($e=>{const gt=$e.data();let vi=gt.eventDate||gt.checkoutDate||gt.pickupDate||gt.deadline;if(!vi)return null;const[Xi,qn,ii]=vi.split("-").map(Number),xs=new Date(Xi,qn-1,ii);return{id:$e.id,title:gt.title||gt.requestName||"Request",displayId:gt.displayId,dept:gt.dept,type:gt.requestType==="checkout"||gt.dept==="Graphic"?"checkout":"event",status:gt.status,date:xs,...gt}}).filter($e=>$e!==null&&$e.status==="Approved");se(vn),ye(!1)});return()=>Ue()},[]);const Le=async ee=>{const _t=new Date(te.getFullYear(),te.getMonth(),ee).toISOString().split("T")[0];if(L){X.includes(_t)?window.confirm(`Re-open ${_t}?`)&&await sm(rr(_n,"blackout_dates",_t)):window.confirm(`Blackout ${_t}?`)&&await im(rr(_n,"blackout_dates",_t),{reason:"Closed"});return}x(fe===ee?null:ee)},rt=ee=>{const Ue=ee.getFullYear(),_t=ee.getMonth(),vn=new Date(Ue,_t+1,0).getDate(),$e=new Date(Ue,_t,1).getDay();return{days:vn,firstDay:$e,monthName:ee.toLocaleString("default",{month:"long"}),year:Ue}},{days:Qt,firstDay:Vt,monthName:le,year:we}=rt(te),Re=Array.from({length:Qt},(ee,Ue)=>Ue+1),Ae=Array.from({length:Vt},(ee,Ue)=>Ue),it=ee=>W.filter(Ue=>Ue.date.getDate()===ee&&Ue.date.getMonth()===te.getMonth()&&Ue.date.getFullYear()===te.getFullYear()&&(B==="all"||Ue.dept===B)),be=ee=>{const Ue="https://calendar.google.com/calendar/render?action=TEMPLATE",_t=`&text=${encodeURIComponent(`[${ee.dept}] ${ee.title}`)}`,vn=`&details=${encodeURIComponent(`Ref: ${ee.displayId}
Requested by: ${ee.fullName}
Role: ${ee.role}
Details: ${ee.details||ee.brief||ee.description||"N/A"}`)}`,$e=`&location=${encodeURIComponent(ee.location||"Salpointe Catholic High School")}`,gt=ee.date.getFullYear(),vi=String(ee.date.getMonth()+1).padStart(2,"0"),Xi=String(ee.date.getDate()).padStart(2,"0"),qn=`${gt}${vi}${Xi}`,ii=new Date(ee.date);ii.setDate(ii.getDate()+1);const xs=ii.getFullYear(),da=String(ii.getMonth()+1).padStart(2,"0"),ma=String(ii.getDate()).padStart(2,"0"),In=`${xs}${da}${ma}`,Yt=`&dates=${qn}/${In}`;return`${Ue}${_t}${Yt}${vn}${$e}`};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-slate-950/50 p-6 border-b border-slate-800 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsx("div",{children:p.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[p.jsx("button",{onClick:Oe,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:p.jsx(US,{size:24})}),p.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[le," ",p.jsx("span",{className:"text-slate-500",children:we})]}),p.jsx("button",{onClick:Be,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:p.jsx(jS,{size:24})})]})}),p.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",ke.FILM,ke.PHOTO,ke.CULINARY].map(ee=>p.jsx("button",{onClick:()=>G(ee),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${B===ee?"bg-cyan-600 text-white shadow-[0_0_10px_rgba(8,145,178,0.4)]":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:ee==="all"?"All":ee},ee))})]}),p.jsxs("div",{className:"p-6",children:[L&&p.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 border border-slate-700 rounded text-xs text-slate-400 flex items-center gap-2 font-mono",children:[p.jsx(h_,{size:14,className:"text-red-400"})," Admin Mode: Click a date to toggle blackout."]}),p.jsx("div",{className:"overflow-x-auto pb-2",children:he?p.jsx("div",{className:"text-center py-8 text-slate-500 font-mono",children:"LOADING MATRIX..."}):p.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-800 border border-slate-800 rounded-xl overflow-hidden shadow-inner",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ee=>p.jsx("div",{className:"bg-slate-900 p-2 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:ee},ee)),Ae.map(ee=>p.jsx("div",{className:"bg-slate-950/50 min-h-[80px] md:min-h-[100px]"},`empty-${ee}`)),Re.map(ee=>{const Ue=it(ee),_t=ee===new Date().getDate()&&te.getMonth()===new Date().getMonth()&&te.getFullYear()===new Date().getFullYear(),vn=new Date(we,te.getMonth(),ee).toISOString().split("T")[0],$e=X.includes(vn);return p.jsxs("div",{className:`min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-800 relative group cursor-pointer transition-colors ${$e?"bg-slate-900/30":"bg-slate-950/50"} ${fe===ee?"bg-cyan-900/20 border-cyan-500/30":"hover:bg-slate-900"}`,onClick:()=>Le(ee),children:[p.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${_t?"bg-red-600 text-white shadow-[0_0_10px_rgba(220,38,38,0.5)]":"text-slate-400"}`,children:ee}),$e?p.jsx("div",{className:"flex justify-center mt-2",children:p.jsx(h_,{className:"text-red-900/50",size:20})}):p.jsx("div",{className:"space-y-1",children:Ue.map(gt=>p.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${gt.type==="checkout"?"bg-cyan-950/50 text-cyan-400 border-cyan-800/50":"bg-emerald-950/50 text-emerald-400 border-emerald-800/50"}`,children:gt.title},gt.id))})]},ee)})]})}),fe&&!X.includes(new Date(we,te.getMonth(),fe).toISOString().split("T")[0])&&p.jsxs("div",{className:"mt-6 p-4 bg-slate-900/50 rounded-xl border border-slate-800 animate-fade-in",children:[p.jsxs("h4",{className:"font-bold text-white mb-3 flex items-center gap-2",children:[p.jsx(Oc,{size:16,className:"text-cyan-400"})," ",le," ",fe]}),it(fe).length===0?p.jsx("p",{className:"text-slate-500 text-sm",children:"Sector clear. No events."}):p.jsx("div",{className:"space-y-3",children:it(fe).map(ee=>p.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded-lg border border-slate-700 shadow-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-200 text-sm",children:ee.title}),p.jsxs("p",{className:"text-xs text-slate-400 uppercase",children:[ee.dept,"  ",ee.fullName]})]}),p.jsx("a",{href:be(ee),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white transition-colors",children:p.jsx(wS,{size:16})})]},ee.id))})]})]})]})}function C({adminMode:L,setAdminMode:X,ALLOWED_ADMINS:te}){const[oe,fe]=Se.useState([]),[x,B]=Se.useState("all"),[G,W]=Se.useState(!0),[se,he]=Se.useState(null),[ye,Be]=Se.useState("");Se.useEffect(()=>{const le=Jr(ir(_n,"requests"),Iv("createdAt","desc")),we=Co(le,Re=>{const Ae=Re.docs.map(it=>({id:it.id,...it.data(),formattedDate:it.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));fe(Ae),W(!1)});return()=>we()},[]);const Oe=async(le,we)=>{window.confirm(`Confirm status change to: ${we}?`)&&(await vN(rr(_n,"requests",le.id),{status:we}),se&&se.id===le.id&&he(Re=>({...Re,status:we})),Jv({to_name:le.fullName,to_email:le.email,subject:`Request Update: ${le.title}`,title:le.title,status:we,message:`Status updated to ${we}.`}))},Le=async le=>{window.confirm("Delete this record permanently?")&&(await sm(rr(_n,"requests",le)),se&&se.id===le&&he(null))},rt=()=>{const le=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],we=oe.map(be=>[be.displayId,be.dept,`"${be.title}"`,be.fullName,be.email,be.formattedDate,be.status,`"${(be.details||be.brief||be.description||"").replace(/"/g,'""')}"`]),Re="data:text/csv;charset=utf-8,"+[le.join(","),...we.map(be=>be.join(","))].join(`
`),Ae=encodeURI(Re),it=document.createElement("a");it.setAttribute("href",Ae),it.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(it),it.click(),document.body.removeChild(it)},Qt=oe.filter(le=>{const we=x==="all"?!0:le.dept?.toLowerCase().includes(x.toLowerCase()),Re=ye.toLowerCase(),Ae=le.title?.toLowerCase().includes(Re)||le.fullName?.toLowerCase().includes(Re)||le.displayId?.toLowerCase().includes(Re)||le.email?.toLowerCase().includes(Re);return we&&Ae}),Vt=le=>{switch(le){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[se&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),p.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[p.jsxs("span",{children:["ID: ",se.displayId||"N/A"]}),p.jsxs("span",{className:"opacity-50",children:["| Ref: ",se.id]})]})]}),p.jsx("button",{onClick:()=>he(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:p.jsx(Qd,{size:20})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),p.jsx("p",{className:"font-semibold text-white capitalize",children:se.dept})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${Vt(se.status)}`,children:se.status})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),p.jsx("p",{className:"text-slate-200",children:se.fullName})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),p.jsx("p",{className:"text-slate-200 font-mono text-sm",children:se.email})]})]}),p.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[p.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(Fd,{size:16,className:"text-cyan-500"})," Mission Details"]}),p.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(se).map(([le,we])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(le)?null:Array.isArray(we)?p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:le}),p.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:we.map((Re,Ae)=>p.jsx("li",{children:Re},Ae))})]},le):p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:le.replace(/([A-Z])/g," $1").trim()}),p.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:we})]},le))})]}),L&&p.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>Oe(se,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),p.jsx("button",{onClick:()=>Oe(se,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),p.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[p.jsx(m_,{className:"text-purple-400"})," Request Log"]}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[p.jsxs("div",{className:"relative flex-1 lg:w-64",children:[p.jsx(oA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),p.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:ye,onChange:le=>Be(le.target.value)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:x,onChange:le=>B(le.target.value),children:[p.jsx("option",{value:"all",children:"All Sectors"}),p.jsx("option",{value:"film",children:"Film"}),p.jsx("option",{value:"graphic",children:"Graphic"}),p.jsx("option",{value:"business",children:"Business"}),p.jsx("option",{value:"culinary",children:"Culinary"}),p.jsx("option",{value:"photo",children:"Photo"})]}),L&&p.jsxs("button",{onClick:rt,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[p.jsx(QS,{size:16})," ",p.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:G?p.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):p.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[p.jsx("th",{className:"p-4",children:"ID Code"}),p.jsx("th",{className:"p-4",children:"Sector"}),p.jsx("th",{className:"p-4",children:"Objective"}),p.jsx("th",{className:"p-4",children:"Agent"}),p.jsx("th",{className:"p-4",children:"Status"}),p.jsx("th",{className:"p-4",children:"View"}),L&&p.jsx("th",{className:"p-4",children:"Override"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800",children:Qt.map(le=>p.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[p.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:le.displayId}),p.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:le.dept}),p.jsx("td",{className:"p-4 text-white font-medium text-sm",children:le.title}),p.jsx("td",{className:"p-4 text-slate-400 text-sm",children:le.fullName}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${Vt(le.status)}`,children:le.status})}),p.jsx("td",{className:"p-4",children:p.jsx("button",{onClick:()=>he(le),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:p.jsx(KS,{size:20})})}),L&&p.jsxs("td",{className:"p-4 flex gap-2",children:[p.jsx("button",{onClick:()=>Oe(le,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:p.jsx(VS,{size:16})}),p.jsx("button",{onClick:()=>Oe(le,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:p.jsx(Qd,{size:16})}),p.jsx("button",{onClick:()=>Le(le.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:p.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},le.id))})]})})]})}function V({title:L,icon:X,colorClass:te,children:oe,setSubmitted:fe,initialData:x={},onCancel:B,currentUser:G,blackouts:W=[]}){const se=Se.useRef(null),he=Wr(L),[ye,Be]=Se.useState(!1),Oe=()=>{const we=new FormData(se.current),Re={};for(const[Ae,it]of we.entries())Re[Ae]?(Array.isArray(Re[Ae])||(Re[Ae]=[Re[Ae]]),Re[Ae].push(it)):Re[Ae]=it;return localStorage.setItem(he,JSON.stringify(Re)),!0},Le=we=>{we.preventDefault(),Oe(),alert("Draft secured in local cache.")},rt=()=>{Be(!0)},Qt=()=>{Oe(),Be(!1),B()},Vt=()=>{localStorage.removeItem(he),Be(!1),B()},le=async we=>{we.preventDefault();const Re=new FormData(we.target),Ae={};for(const[ee,Ue]of Re.entries())Ae[ee]?(Array.isArray(Ae[ee])||(Ae[ee]=[Ae[ee]]),Ae[ee].push(Ue)):Ae[ee]=Ue;const it=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let be=!1;if(it.forEach(ee=>{Ae[ee]&&W.includes(Ae[ee])&&(be=!0)}),be){alert("Date blocked by admin protocol. Select alternative.");return}try{const ee=Date.now().toString().slice(-4),Ue=Math.floor(1e3+Math.random()*9e3),_t=`REQ-${ee}-${Ue}`;await bN(ir(_n,"requests"),{...Ae,dept:L,displayId:_t,status:"Pending Review",createdAt:new Date,title:Ae.requestName||Ae.eventName||Ae.projectType||Ae.businessName||"New Request"}),Jv({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${Ae.requestName}`,title:Ae.requestName,status:"Pending Review",message:`New request (${_t}) from ${Ae.fullName}.`}),localStorage.removeItem(he),fe(!0)}catch(ee){console.error(ee),alert("Transmission error.")}};return p.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[ye&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:p.jsx(pA,{size:32})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),p.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("button",{onClick:Qt,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[p.jsx(Mc,{size:18})," Secure Draft & Exit"]}),p.jsx("button",{onClick:Vt,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),p.jsx("button",{onClick:()=>Be(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),p.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),p.jsxs("div",{className:"p-5 md:p-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${te.replace("bg-","text-")}`,children:p.jsx(X,{size:28})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[L," Protocol"]}),p.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),p.jsx("button",{type:"button",onClick:rt,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:p.jsx(Qd,{size:24})})]}),p.jsxs("form",{ref:se,onSubmit:le,children:[p.jsx(nt,{initialData:x,currentUser:G}),oe,p.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[p.jsx("button",{type:"button",onClick:rt,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),p.jsxs("button",{type:"button",onClick:Le,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[p.jsx(Mc,{size:18})," Save Draft"]}),p.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function O({setSubmitted:L,onCancel:X,currentUser:te,inventory:oe,blackouts:fe}){const x="Film",B=Wr(x),G=JSON.parse(localStorage.getItem(B)||"{}"),[W,se]=Se.useState(G.requestType||"checkout"),[he,ye]=Se.useState({}),[Be,Oe]=Se.useState(!1),[Le,rt]=Se.useState({start:G.checkoutDate||"",end:G.returnDate||""}),Qt=le=>{const we={...Le,[le.target.name==="checkoutDate"?"start":"end"]:le.target.value};rt(we)};Se.useEffect(()=>{(async()=>{if(!Le.start||!Le.end||W!=="checkout"){Oe(!1);return}Oe(!0);const we=Jr(ir(_n,"requests"),No("dept","==","Film"),No("requestType","==","checkout")),Re=await Mv(we),Ae={};Re.forEach(be=>{const ee=be.data();if(ee.status==="Denied"||ee.status==="Completed")return;const Ue=ee.checkoutDate,_t=ee.returnDate;Ue<=Le.end&&_t>=Le.start&&ee.equipment&&(Array.isArray(ee.equipment)?ee.equipment:[ee.equipment]).forEach($e=>{Ae[$e]=(Ae[$e]||0)+1})});const it={};Object.keys(oe).forEach(be=>{it[be]=Math.max(0,oe[be]-(Ae[be]||0))}),ye(it)})()},[Le,W,oe]);const Vt=Le.start&&Le.end&&Le.start===Le.end;return p.jsxs(V,{title:x,icon:b_,colorClass:"bg-blue-600",setSubmitted:L,initialData:G,onCancel:X,currentUser:te,blackouts:fe,children:[p.jsx("input",{type:"hidden",name:"requestType",value:W}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>se("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${W==="checkout"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(f_,{size:24}),p.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]}),p.jsxs("button",{type:"button",onClick:()=>se("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${W==="service"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(nA,{size:24}),p.jsx("span",{className:"font-bold",children:"Production Team"})]})]})]}),W==="checkout"?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 text-sm text-blue-200 flex items-start gap-3",children:[p.jsx(d_,{className:"shrink-0 mt-0.5 text-blue-400",size:16}),p.jsxs("p",{children:[p.jsx("strong",{children:"Protocol:"})," Equipment return deadline is 0800 hours the following school day."]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),p.jsx("input",{name:"checkoutDate",defaultValue:G.checkoutDate,onChange:Qt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),p.jsx("input",{name:"returnDate",defaultValue:G.returnDate,onChange:Qt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),Vt&&p.jsxs("div",{className:"animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("label",{className:"block text-xs font-mono text-cyan-400 uppercase mb-1",children:"Specific Duration"}),p.jsxs("select",{name:"durationHours",defaultValue:G.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[p.jsx("option",{value:"",children:"Select Duration..."}),p.jsx("option",{value:"1 Hour",children:"1 Hour"}),p.jsx("option",{value:"2 Hours",children:"2 Hours"}),p.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),p.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:["Select Assets ",p.jsx("span",{className:"text-red-500 ml-2 normal-case tracking-normal",children:"* Certification Required"})]}),Be?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Cinema Camera Kit *","Gimbal / Stabilizer *","DJI Mic Kit (Wireless)","DJI Flip Drone *","Tripod","Lighting Kit"].map(le=>{const we=he[le]!==void 0?he[le]:99,Re=we<=0;return p.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${Re?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-cyan-500/50 hover:shadow-[0_0_10px_rgba(8,145,178,0.1)] cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",name:"equipment",value:le,disabled:Re,defaultChecked:G.equipment?.includes(le),className:"w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[le.replace("*","")," ",le.includes("*")&&p.jsx("span",{className:"text-red-400",children:"*"})]}),p.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${Re?"text-red-500":"text-emerald-500"}`,children:Re?"OFFLINE / UNAVAILABLE":`${we} UNITS ACTIVE`})]})]},le)})}):p.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[p.jsx(Oc,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),p.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),p.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[p.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:G.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),p.jsx("input",{name:"startTime",defaultValue:G.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Required"}),p.jsxs("select",{name:"serviceType",defaultValue:G.serviceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[p.jsx("option",{children:"Live Broadcast (Stream)"}),p.jsx("option",{children:"Event Recording (Edited later)"}),p.jsx("option",{children:"Raw Footage Only"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Mission Details"}),p.jsx("textarea",{name:"details",defaultValue:G.details,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none h-24",placeholder:"Describe specific shots, locations, or requirements..."})]})]})]})}function j({setSubmitted:L,onCancel:X,currentUser:te}){const oe="Graphic",fe=Wr(oe),x=JSON.parse(localStorage.getItem(fe)||"{}");return p.jsx(V,{title:oe,icon:y_,colorClass:"bg-purple-600",setSubmitted:L,initialData:x,onCancel:X,currentUser:te,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Type"}),p.jsxs("select",{name:"projectType",defaultValue:x.projectType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",children:[p.jsx("option",{children:"Event Poster / Flyer"}),p.jsx("option",{children:"Logo Design"}),p.jsx("option",{children:"Website Design"}),p.jsx("option",{children:"T-Shirt / Merch"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dimensions"}),p.jsx("input",{name:"dimensions",defaultValue:x.dimensions,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",placeholder:"e.g., 11x17"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Deadline"}),p.jsx("input",{name:"deadline",defaultValue:x.deadline,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Creative Brief"}),p.jsx("textarea",{name:"brief",defaultValue:x.brief,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function R({setSubmitted:L,onCancel:X,currentUser:te}){const oe="Business",fe=Wr(oe),x=JSON.parse(localStorage.getItem(fe)||"{}");return p.jsx(V,{title:oe,icon:Fd,colorClass:"bg-emerald-600",setSubmitted:L,initialData:x,onCancel:X,currentUser:te,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Support Required"}),p.jsxs("select",{name:"assistanceType",defaultValue:x.assistanceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none",children:[p.jsx("option",{children:"Business Plan Review"}),p.jsx("option",{children:"Financial Modeling Help"}),p.jsx("option",{children:"Marketing Strategy"}),p.jsx("option",{children:"General Mentorship"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Concept Overview"}),p.jsx("textarea",{name:"description",defaultValue:x.description,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none h-40",placeholder:"Briefly describe your product or service...",required:!0})]})]})})}function pt({setSubmitted:L,onCancel:X,currentUser:te}){const oe="Culinary",fe=Wr(oe),x=JSON.parse(localStorage.getItem(fe)||"{}");return p.jsx(V,{title:oe,icon:v_,colorClass:"bg-orange-500",setSubmitted:L,initialData:x,onCancel:X,currentUser:te,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:x.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Serve Time"}),p.jsx("input",{name:"serveTime",defaultValue:x.serveTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Guest Count"}),p.jsx("input",{name:"guestCount",defaultValue:x.guestCount,type:"number",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",min:"1",placeholder:"50",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Style"}),p.jsxs("select",{name:"serviceStyle",defaultValue:x.serviceStyle,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",children:[p.jsx("option",{children:"Buffet Style"}),p.jsx("option",{children:"Boxed Lunches"}),p.jsx("option",{children:"Plated Service"}),p.jsx("option",{children:"Appetizers"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dietary Requirements"}),p.jsx("textarea",{name:"menuNotes",defaultValue:x.menuNotes,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none h-24",placeholder:"Preferences, allergies, restrictions...",required:!0})]})]})})}function Nt({setSubmitted:L,onCancel:X,currentUser:te,inventory:oe,blackouts:fe}){const x="Photo",B=Wr(x),G=JSON.parse(localStorage.getItem(B)||"{}"),[W,se]=Se.useState(G.requestType||"service"),[he,ye]=Se.useState({}),[Be,Oe]=Se.useState(!1),[Le,rt]=Se.useState({start:G.pickupDate||"",end:G.returnDate||""}),Qt=le=>{const we={...Le,[le.target.name==="pickupDate"?"start":"end"]:le.target.value};rt(we)};Se.useEffect(()=>{(async()=>{if(!Le.start||!Le.end||W!=="checkout"){Oe(!1);return}Oe(!0);const we=Jr(ir(_n,"requests"),No("dept","==","Photo"),No("requestType","==","checkout")),Re=await Mv(we),Ae={};Re.forEach(be=>{const ee=be.data();if(ee.status==="Denied"||ee.status==="Completed")return;const Ue=ee.pickupDate,_t=ee.returnDate;Ue<=Le.end&&_t>=Le.start&&ee.equipment&&(Array.isArray(ee.equipment)?ee.equipment:[ee.equipment]).forEach($e=>{Ae[$e]=(Ae[$e]||0)+1})});const it={};Object.keys(oe).forEach(be=>{const ee=oe[be],Ue=Ae[be]||0;it[be]=Math.max(0,ee-Ue)}),ye(it)})()},[Le,W,oe]);const Vt=Le.start&&Le.end&&Le.start===Le.end;return p.jsxs(V,{title:x,icon:Gd,colorClass:"bg-pink-600",setSubmitted:L,initialData:G,onCancel:X,currentUser:te,blackouts:fe,children:[p.jsx("input",{type:"hidden",name:"requestType",value:W}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>se("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${W==="service"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(vA,{size:24}),p.jsx("span",{className:"font-bold",children:"Event Coverage"})]}),p.jsxs("button",{type:"button",onClick:()=>se("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${W==="checkout"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(f_,{size:24}),p.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]})]})]}),W==="checkout"?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-pink-900/20 p-4 rounded-lg border border-pink-500/30 text-sm text-pink-200 flex items-start gap-3",children:[p.jsx(d_,{className:"shrink-0 mt-0.5 text-pink-400",size:16}),p.jsxs("p",{children:[p.jsx("strong",{children:"Requirement:"})," Advanced Photo I certification required for DSLR bodies."]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Pickup Date"}),p.jsx("input",{name:"pickupDate",defaultValue:G.pickupDate,onChange:Qt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),p.jsx("input",{name:"returnDate",defaultValue:G.returnDate,onChange:Qt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),Vt&&p.jsxs("div",{className:"mb-4 animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("label",{className:"block text-xs font-mono text-pink-400 uppercase mb-1",children:"Specific Duration"}),p.jsxs("select",{name:"durationHours",defaultValue:G.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",children:[p.jsx("option",{value:"",children:"Select Duration..."}),p.jsx("option",{value:"1 Hour",children:"1 Hour"}),p.jsx("option",{value:"2 Hours",children:"2 Hours"}),p.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),p.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:"Select Assets"}),Be?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["DSLR Camera Body","Zoom Lens (18-55mm)","Telephoto Lens (70-200mm)","Portrait Lens (50mm)","SD Card Reader","Tripod","Flash Unit"].map(le=>{const we=he[le]!==void 0?he[le]:99,Re=we<=0;return p.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${Re?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-pink-500/50 hover:shadow-[0_0_10px_rgba(236,72,153,0.1)] cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",name:"equipment",value:le,disabled:Re,defaultChecked:G.equipment?.includes(le),className:"w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"text-slate-200 text-sm block font-medium",children:le}),p.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${Re?"text-red-500":"text-emerald-500"}`,children:Re?"OFFLINE / UNAVAILABLE":`${we} UNITS ACTIVE`})]})]},le)})}):p.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[p.jsx(Oc,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),p.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),p.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[p.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:G.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),p.jsx("input",{name:"startTime",defaultValue:G.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Location"}),p.jsx("input",{name:"location",defaultValue:G.location,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",placeholder:"e.g., Gym"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Specific Shots"}),p.jsx("textarea",{name:"shotList",defaultValue:G.shotList,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none h-24",placeholder:"Key moments..."})]})]})]})}};mS.createRoot(document.getElementById("root")).render(p.jsx(Se.StrictMode,{children:p.jsx(UI,{})}));
