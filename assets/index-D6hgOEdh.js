(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},wl={};var G0;function iA(){if(G0)return wl;G0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var Q0;function sA(){return Q0||(Q0=1,Od.exports=iA()),Od.exports}var E=sA(),Vd={exports:{}},De={};var Y0;function rA(){if(Y0)return De;Y0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function Q(w){return w===null||typeof w!="object"?null:(w=O&&w[O]||w["@@iterator"],typeof w=="function"?w:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ee={};function fe(w,B,Y){this.props=w,this.context=B,this.refs=ee,this.updater=Y||W}fe.prototype.isReactComponent={},fe.prototype.setState=function(w,B){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,B,"setState")},fe.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function Ie(){}Ie.prototype=fe.prototype;function Ee(w,B,Y){this.props=w,this.context=B,this.refs=ee,this.updater=Y||W}var st=Ee.prototype=new Ie;st.constructor=Ee,re(st,fe.prototype),st.isPureReactComponent=!0;var mt=Array.isArray;function Ke(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(w,B,Y){var J=Y.ref;return{$$typeof:s,type:w,key:B,ref:J!==void 0?J:null,props:Y}}function V(w,B){return I(w.type,B,w.props)}function M(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function L(w){var B={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Y){return B[Y]})}var R=/\/+/g;function yt(w,B){return typeof w=="object"&&w!==null&&w.key!=null?L(""+w.key):B.toString(36)}function Ot(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Ke,Ke):(w.status="pending",w.then(function(B){w.status==="pending"&&(w.status="fulfilled",w.value=B)},function(B){w.status==="pending"&&(w.status="rejected",w.reason=B)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function F(w,B,Y,J,oe){var le=typeof w;(le==="undefined"||le==="boolean")&&(w=null);var ge=!1;if(w===null)ge=!0;else switch(le){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(w.$$typeof){case s:case e:ge=!0;break;case A:return ge=w._init,F(ge(w._payload),B,Y,J,oe)}}if(ge)return oe=oe(w),ge=J===""?"."+yt(w,0):J,mt(oe)?(Y="",ge!=null&&(Y=ge.replace(R,"$&/")+"/"),F(oe,B,Y,"",function(Be){return Be})):oe!=null&&(M(oe)&&(oe=V(oe,Y+(oe.key==null||w&&w.key===oe.key?"":(""+oe.key).replace(R,"$&/")+"/")+ge)),B.push(oe)),1;ge=0;var Ae=J===""?".":J+":";if(mt(w))for(var Ve=0;Ve<w.length;Ve++)J=w[Ve],le=Ae+yt(J,Ve),ge+=F(J,B,Y,le,oe);else if(Ve=Q(w),typeof Ve=="function")for(w=Ve.call(w),Ve=0;!(J=w.next()).done;)J=J.value,le=Ae+yt(J,Ve++),ge+=F(J,B,Y,le,oe);else if(le==="object"){if(typeof w.then=="function")return F(Ot(w),B,Y,J,oe);throw B=String(w),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ie(w,B,Y){if(w==null)return w;var J=[],oe=0;return F(w,J,"","",function(le){return B.call(Y,le,oe++)}),J}function de(w){if(w._status===-1){var B=w._result;B=B(),B.then(function(Y){(w._status===0||w._status===-1)&&(w._status=1,w._result=Y)},function(Y){(w._status===0||w._status===-1)&&(w._status=2,w._result=Y)}),w._status===-1&&(w._status=0,w._result=B)}if(w._status===1)return w._result.default;throw w._result}var Ue=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},tt={map:ie,forEach:function(w,B,Y){ie(w,function(){B.apply(this,arguments)},Y)},count:function(w){var B=0;return ie(w,function(){B++}),B},toArray:function(w){return ie(w,function(B){return B})||[]},only:function(w){if(!M(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return De.Activity=S,De.Children=tt,De.Component=fe,De.Fragment=i,De.Profiler=l,De.PureComponent=Ee,De.StrictMode=a,De.Suspense=_,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,De.__COMPILER_RUNTIME={__proto__:null,c:function(w){return N.H.useMemoCache(w)}},De.cache=function(w){return function(){return w.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(w,B,Y){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var J=re({},w.props),oe=w.key;if(B!=null)for(le in B.key!==void 0&&(oe=""+B.key),B)!x.call(B,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&B.ref===void 0||(J[le]=B[le]);var le=arguments.length-2;if(le===1)J.children=Y;else if(1<le){for(var ge=Array(le),Ae=0;Ae<le;Ae++)ge[Ae]=arguments[Ae+2];J.children=ge}return I(w.type,oe,J)},De.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},De.createElement=function(w,B,Y){var J,oe={},le=null;if(B!=null)for(J in B.key!==void 0&&(le=""+B.key),B)x.call(B,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(oe[J]=B[J]);var ge=arguments.length-2;if(ge===1)oe.children=Y;else if(1<ge){for(var Ae=Array(ge),Ve=0;Ve<ge;Ve++)Ae[Ve]=arguments[Ve+2];oe.children=Ae}if(w&&w.defaultProps)for(J in ge=w.defaultProps,ge)oe[J]===void 0&&(oe[J]=ge[J]);return I(w,le,oe)},De.createRef=function(){return{current:null}},De.forwardRef=function(w){return{$$typeof:g,render:w}},De.isValidElement=M,De.lazy=function(w){return{$$typeof:A,_payload:{_status:-1,_result:w},_init:de}},De.memo=function(w,B){return{$$typeof:y,type:w,compare:B===void 0?null:B}},De.startTransition=function(w){var B=N.T,Y={};N.T=Y;try{var J=w(),oe=N.S;oe!==null&&oe(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ke,Ue)}catch(le){Ue(le)}finally{B!==null&&Y.types!==null&&(B.types=Y.types),N.T=B}},De.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},De.use=function(w){return N.H.use(w)},De.useActionState=function(w,B,Y){return N.H.useActionState(w,B,Y)},De.useCallback=function(w,B){return N.H.useCallback(w,B)},De.useContext=function(w){return N.H.useContext(w)},De.useDebugValue=function(){},De.useDeferredValue=function(w,B){return N.H.useDeferredValue(w,B)},De.useEffect=function(w,B){return N.H.useEffect(w,B)},De.useEffectEvent=function(w){return N.H.useEffectEvent(w)},De.useId=function(){return N.H.useId()},De.useImperativeHandle=function(w,B,Y){return N.H.useImperativeHandle(w,B,Y)},De.useInsertionEffect=function(w,B){return N.H.useInsertionEffect(w,B)},De.useLayoutEffect=function(w,B){return N.H.useLayoutEffect(w,B)},De.useMemo=function(w,B){return N.H.useMemo(w,B)},De.useOptimistic=function(w,B){return N.H.useOptimistic(w,B)},De.useReducer=function(w,B,Y){return N.H.useReducer(w,B,Y)},De.useRef=function(w){return N.H.useRef(w)},De.useState=function(w){return N.H.useState(w)},De.useSyncExternalStore=function(w,B,Y){return N.H.useSyncExternalStore(w,B,Y)},De.useTransition=function(){return N.H.useTransition()},De.version="19.2.0",De}var K0;function Dm(){return K0||(K0=1,Vd.exports=rA()),Vd.exports}var xe=Dm(),kd={exports:{}},xl={},Ld={exports:{}},jd={};var X0;function aA(){return X0||(X0=1,(function(s){function e(F,ie){var de=F.length;F.push(ie);e:for(;0<de;){var Ue=de-1>>>1,tt=F[Ue];if(0<l(tt,ie))F[Ue]=ie,F[de]=tt,de=Ue;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ie=F[0],de=F.pop();if(de!==ie){F[0]=de;e:for(var Ue=0,tt=F.length,w=tt>>>1;Ue<w;){var B=2*(Ue+1)-1,Y=F[B],J=B+1,oe=F[J];if(0>l(Y,de))J<tt&&0>l(oe,Y)?(F[Ue]=oe,F[J]=de,Ue=J):(F[Ue]=Y,F[B]=de,Ue=B);else if(J<tt&&0>l(oe,de))F[Ue]=oe,F[J]=de,Ue=J;else break e}}return ie}function l(F,ie){var de=F.sortIndex-ie.sortIndex;return de!==0?de:F.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,S=null,O=3,Q=!1,W=!1,re=!1,ee=!1,fe=typeof setTimeout=="function"?setTimeout:null,Ie=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function st(F){for(var ie=i(y);ie!==null;){if(ie.callback===null)a(y);else if(ie.startTime<=F)a(y),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(y)}}function mt(F){if(re=!1,st(F),!W)if(i(_)!==null)W=!0,Ke||(Ke=!0,L());else{var ie=i(y);ie!==null&&Ot(mt,ie.startTime-F)}}var Ke=!1,N=-1,x=5,I=-1;function V(){return ee?!0:!(s.unstable_now()-I<x)}function M(){if(ee=!1,Ke){var F=s.unstable_now();I=F;var ie=!0;try{e:{W=!1,re&&(re=!1,Ie(N),N=-1),Q=!0;var de=O;try{t:{for(st(F),S=i(_);S!==null&&!(S.expirationTime>F&&V());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,O=S.priorityLevel;var tt=Ue(S.expirationTime<=F);if(F=s.unstable_now(),typeof tt=="function"){S.callback=tt,st(F),ie=!0;break t}S===i(_)&&a(_),st(F)}else a(_);S=i(_)}if(S!==null)ie=!0;else{var w=i(y);w!==null&&Ot(mt,w.startTime-F),ie=!1}}break e}finally{S=null,O=de,Q=!1}ie=void 0}}finally{ie?L():Ke=!1}}}var L;if(typeof Ee=="function")L=function(){Ee(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,yt=R.port2;R.port1.onmessage=M,L=function(){yt.postMessage(null)}}else L=function(){fe(M,0)};function Ot(F,ie){N=fe(function(){F(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var ie=3;break;default:ie=O}var de=O;O=ie;try{return F()}finally{O=de}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=O;O=F;try{return ie()}finally{O=de}},s.unstable_scheduleCallback=function(F,ie,de){var Ue=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ue+de:Ue):de=Ue,F){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=de+tt,F={id:A++,callback:ie,priorityLevel:F,startTime:de,expirationTime:tt,sortIndex:-1},de>Ue?(F.sortIndex=de,e(y,F),i(_)===null&&F===i(y)&&(re?(Ie(N),N=-1):re=!0,Ot(mt,de-Ue))):(F.sortIndex=tt,e(_,F),W||Q||(W=!0,Ke||(Ke=!0,L()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var ie=O;return function(){var de=O;O=ie;try{return F.apply(this,arguments)}finally{O=de}}}})(jd)),jd}var $0;function oA(){return $0||($0=1,Ld.exports=aA()),Ld.exports}var Ud={exports:{}},pn={};var Z0;function lA(){if(Z0)return pn;Z0=1;var s=Dm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,A)},pn.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},pn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},pn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},pn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:Q}):A==="script"&&a.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},pn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},pn.requestFormReset=function(_){a.d.r(_)},pn.unstable_batchedUpdates=function(_,y){return _(y)},pn.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var J0;function uA(){if(J0)return Ud.exports;J0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=lA(),Ud.exports}var W0;function cA(){if(W0)return xl;W0=1;var s=oA(),e=Dm(),i=uA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,b=h.child;b;){if(b===r){p=!0,r=h,o=f;break}if(b===o){p=!0,o=h,r=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===r){p=!0,r=f,o=h;break}if(b===o){p=!0,o=f,r=h;break}b=b.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),Ie=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case fe:return"Profiler";case ee:return"StrictMode";case mt:return"Suspense";case Ke:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Ee:return t.displayName||"Context";case Ie:return(t._context.displayName||"Context")+".Consumer";case st:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:yt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return yt(t(n))}catch{}}return null}var Ot=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ue=[],tt=-1;function w(t){return{current:t}}function B(t){0>tt||(t.current=Ue[tt],Ue[tt]=null,tt--)}function Y(t,n){tt++,Ue[tt]=t.current,t.current=n}var J=w(null),oe=w(null),le=w(null),ge=w(null);function Ae(t,n){switch(Y(le,n),Y(oe,t),Y(J,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?m0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=m0(n),t=p0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(J),Y(J,t)}function Ve(){B(J),B(oe),B(le)}function Be(t){t.memoizedState!==null&&Y(ge,t);var n=J.current,r=p0(n,t.type);n!==r&&(Y(oe,t),Y(J,r))}function Re(t){oe.current===t&&(B(J),B(oe)),ge.current===t&&(B(ge),bl._currentValue=de)}var Je,pt;function ut(t){if(Je===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Je=n&&n[1]||"",pt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+t+pt}var En=!1;function It(t,n){if(!t||En)return"";En=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){z=H}t.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var C=p.split(`
`),P=b.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{En=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ut(r):""}function Sn(t,n){switch(t.tag){case 26:case 27:case 5:return ut(t.type);case 16:return ut("Lazy");case 13:return t.child!==n&&n!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return It(t.type,!1);case 11:return It(t.type.render,!1);case 1:return It(t.type,!0);case 31:return ut("Activity");default:return""}}function wn(t){try{var n="",r=null;do n+=Sn(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var se=Object.prototype.hasOwnProperty,be=s.unstable_scheduleCallback,Xe=s.unstable_cancelCallback,ye=s.unstable_shouldYield,Oe=s.unstable_requestPaint,_e=s.unstable_now,ne=s.unstable_getCurrentPriorityLevel,Ne=s.unstable_ImmediatePriority,wt=s.unstable_UserBlockingPriority,fn=s.unstable_NormalPriority,dn=s.unstable_LowPriority,xt=s.unstable_IdlePriority,Zi=s.log,ws=s.unstable_setDisableYieldValue,bn=null,vt=null;function mn(t){if(typeof Zi=="function"&&ws(t),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(bn,t)}catch{}}var Rt=Math.clz32?Math.clz32:da,fa=Math.log,xs=Math.LN2;function da(t){return t>>>=0,t===0?32:31-(fa(t)/xs|0)|0}var Ti=256,wr=262144,Ut=4194304;function Ai(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Si(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=Ai(o):(p&=b,p!==0?h=Ai(p):r||(r=b&~t,r!==0&&(h=Ai(r))))):(b=o&~f,b!==0?h=Ai(b):p!==0?h=Ai(p):r||(r=o&~t,r!==0&&(h=Ai(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function oi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function wi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function xr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Rt(r),$=1<<G;b[G]=0,C[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~$}o!==0&&Rr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Rr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Rt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function xo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Rt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Ro(t,n){var r=n&-n;return r=(r&42)!==0?1:Cr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Cr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:U0(t.type))}function li(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var ui=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ui,Zt="__reactProps$"+ui,xi="__reactContainer$"+ui,ma="__reactEvents$"+ui,Uh="__reactListeners$"+ui,ou="__reactHandles$"+ui,lu="__reactResources$"+ui,Ri="__reactMarker$"+ui;function pa(t){delete t[Pt],delete t[Zt],delete t[ma],delete t[Uh],delete t[ou]}function Ci(t){var n=t[Pt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[xi]||r[Pt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=T0(t);t!==null;){if(r=t[Pt])return r;t=T0(t)}return n}t=r,r=t.parentNode}return null}function Gn(t){if(t=t[Pt]||t[xi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ii(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function zt(t){t[Ri]=!0}var Co=new Set,Io={};function Ni(t,n){Di(t,n),Di(t+"Capture",n)}function Di(t,n){for(Io[t]=n,t=0;t<n.length;t++)Co.add(n[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Mo={};function uu(t){return se.call(Mo,t)?!0:se.call(Do,t)?!1:No.test(t)?Mo[t]=!0:(Do[t]=!0,!1)}function ga(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ln(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Bt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function at(t){if(!t._valueTracker){var n=Rs(t)?"checked":"value";t._valueTracker=Oo(t,n,""+t[n])}}function Ir(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Rs(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nr=/[\n"\\]/g;function xn(t){return t.replace(Nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(t,n,r,o,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Jt(n)):t.value!==""+Jt(n)&&(t.value=""+Jt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Vo(t,p,Jt(n)):r!=null?Vo(t,p,Jt(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Jt(b):t.removeAttribute("name")}function cu(t,n,r,o,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){at(t);return}r=r!=null?""+Jt(r):"",n=n!=null?""+Jt(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),at(t)}function Vo(t,n,r){n==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Cs(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,r){if(n!=null&&(n=""+Jt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Jt(r):""}function Is(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ot(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Jt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),at(t)}function Rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Lo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&ko(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(t,f,n[f])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Ns.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var jo=null;function Qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Oi=null;function Dr(t){var n=Gn(t);if(n&&(t=n.stateNode)){var r=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ya(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[Zt]||null;if(!h)throw Error(a(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Ir(o)}break e;case"textarea":hu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Cs(t,!!r.multiple,n,!1)}}}var Ea=!1;function Ms(t,n,r){if(Ea)return t(n,r);Ea=!0;try{var o=t(n);return o}finally{if(Ea=!1,(Ds!==null||Oi!==null)&&(ac(),Ds&&(n=Ds,t=Oi,Oi=Ds=null,Dr(n),t)))for(n=0;n<t.length;n++)Dr(t[n])}}function hi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[Zt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Yn)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Mr=!1}var Vi=null,Uo=null,Or=null;function Po(){if(Or)return Or;var t,n=Uo,r=n.length,o,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Or=h.slice(t,1<o?1-o:void 0)}function Vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function fi(){return!1}function nn(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:fi,this.isPropagationStopped=fi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=nn(es),Os=S({},es,{view:0,detail:0}),zo=nn(Os),Vs,ba,Li,Ta=S({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Vs=t.screenX-Li.screenX,ba=t.screenY-Li.screenY):ba=Vs=0,Li=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Bo=nn(Ta),kr=S({},Ta,{dataTransfer:0}),mu=nn(kr),pu=S({},Os,{relatedTarget:0}),Lr=nn(pu),qo=S({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=nn(qo),Aa=S({},es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=nn(Aa),_u=S({},es,{data:0}),ji=nn(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function ks(){return Tu}var Tn=S({},Os,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=nn(Tn),Su=S({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=nn(Su),u=S({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=nn(u),v=S({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(v),j=S({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=nn(j),te=S({},es,{newState:0,oldState:0}),ke=nn(te),Vt=[9,13,27,32],nt=Yn&&"CompositionEvent"in window,At=null;Yn&&"documentMode"in document&&(At=document.documentMode);var Kn=Yn&&"TextEvent"in window&&!At,Ui=Yn&&(!nt||At&&8<At&&11>=At),di=" ",mi=!1;function jr(t,n){switch(t){case"keyup":return Vt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function Rb(t,n){switch(t){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(mi=!0,di);case"textInput":return t=n.data,t===di&&mi?null:t;default:return null}}function Cb(t,n){if(wa)return t==="compositionend"||!nt&&jr(t,n)?(t=Po(),Or=Uo=Vi=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var Ib={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ib[t.type]:n==="textarea"}function xp(t,n,r,o){Ds?Oi?Oi.push(o):Oi=[o]:Ds=o,n=dc(n,"onChange"),0<n.length&&(r=new ki("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ho=null,Fo=null;function Nb(t){l0(t,0)}function wu(t){var n=kn(t);if(Ir(n))return t}function Rp(t,n){if(t==="change")return n}var Cp=!1;if(Yn){var Ph;if(Yn){var zh="oninput"in document;if(!zh){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),zh=typeof Ip.oninput=="function"}Ph=zh}else Ph=!1;Cp=Ph&&(!document.documentMode||9<document.documentMode)}function Np(){Ho&&(Ho.detachEvent("onpropertychange",Dp),Fo=Ho=null)}function Dp(t){if(t.propertyName==="value"&&wu(Fo)){var n=[];xp(n,Fo,t,Qn(t)),Ms(Nb,n)}}function Db(t,n,r){t==="focusin"?(Np(),Ho=n,Fo=r,Ho.attachEvent("onpropertychange",Dp)):t==="focusout"&&Np()}function Mb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Fo)}function Ob(t,n){if(t==="click")return wu(n)}function Vb(t,n){if(t==="input"||t==="change")return wu(n)}function kb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:kb;function Go(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!se.call(n,h)||!jn(t[h],n[h]))return!1}return!0}function Mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Op(t,n){var r=Mp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mp(r)}}function Vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Mi(t.document)}return n}function Bh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Lb=Yn&&"documentMode"in document&&11>=document.documentMode,xa=null,qh=null,Qo=null,Hh=!1;function Lp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||xa==null||xa!==Mi(o)||(o=xa,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Go(Qo,o)||(Qo=o,o=dc(qh,"onSelect"),0<o.length&&(n=new ki("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=xa)))}function Ur(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ra={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Fh={},jp={};Yn&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Pr(t){if(Fh[t])return Fh[t];if(!Ra[t])return t;var n=Ra[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in jp)return Fh[t]=n[r];return t}var Up=Pr("animationend"),Pp=Pr("animationiteration"),zp=Pr("animationstart"),jb=Pr("transitionrun"),Ub=Pr("transitionstart"),Pb=Pr("transitioncancel"),Bp=Pr("transitionend"),qp=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function pi(t,n){qp.set(t,n),Ni(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Ca=0,Qh=0;function Ru(){for(var t=Ca,n=Qh=Ca=0;n<t;){var r=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Hp(r,h,f)}}function Cu(t,n,r,o){Xn[Ca++]=t,Xn[Ca++]=n,Xn[Ca++]=r,Xn[Ca++]=o,Qh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Yh(t,n,r,o){return Cu(t,n,r,o),Iu(t)}function zr(t,n){return Cu(t,null,null,n),Iu(t)}function Hp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Rt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Iu(t){if(50<ml)throw ml=0,id=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function zb(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,r,o){return new zb(t,n,r,o)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,n){var r=t.alternate;return r===null?(r=Un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Fp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=GT(t,r,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Un(31,r,n,h),t.elementType=I,t.lanes=f,t;case re:return Br(r.children,h,f,n);case ee:p=8,h|=24;break;case fe:return t=Un(12,r,n,h|2),t.elementType=fe,t.lanes=f,t;case mt:return t=Un(13,r,n,h),t.elementType=mt,t.lanes=f,t;case Ke:return t=Un(19,r,n,h),t.elementType=Ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:p=10;break e;case Ie:p=9;break e;case st:p=11;break e;case N:p=14;break e;case x:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Un(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Br(t,n,r,o){return t=Un(7,t,o,n),t.lanes=r,t}function Xh(t,n,r){return t=Un(6,t,null,n),t.lanes=r,t}function Gp(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function $h(t,n,r){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qp=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var r=Qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:wn(n)},Qp.set(t,n),n)}return{value:t,source:n,stack:wn(n)}}var Na=[],Da=0,Du=null,Yo=0,Zn=[],Jn=0,Ls=null,Pi=1,zi="";function is(t,n){Na[Da++]=Yo,Na[Da++]=Du,Du=t,Yo=n}function Yp(t,n,r){Zn[Jn++]=Pi,Zn[Jn++]=zi,Zn[Jn++]=Ls,Ls=t;var o=Pi;t=zi;var h=32-Rt(o)-1;o&=~(1<<h),r+=1;var f=32-Rt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Pi=1<<32-Rt(n)+h|r<<h|o,zi=f+t}else Pi=1<<f|r<<h|o,zi=t}function Zh(t){t.return!==null&&(is(t,1),Yp(t,1,0))}function Jh(t){for(;t===Du;)Du=Na[--Da],Na[Da]=null,Yo=Na[--Da],Na[Da]=null;for(;t===Ls;)Ls=Zn[--Jn],Zn[Jn]=null,zi=Zn[--Jn],Zn[Jn]=null,Pi=Zn[--Jn],Zn[Jn]=null}function Kp(t,n){Zn[Jn++]=Pi,Zn[Jn++]=zi,Zn[Jn++]=Ls,Pi=n.id,zi=n.overflow,Ls=t}var sn=null,Et=null,$e=!1,js=null,Wn=!1,Wh=Error(a(519));function Us(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko($n(n,t)),Wh}function Xp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Pt]=t,n[Zt]=o,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<gl.length;r++)ze(gl[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Is(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||f0(n.textContent,r)?(o.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),o.onScroll!=null&&ze("scroll",n),o.onScrollEnd!=null&&ze("scrollend",n),o.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||Us(t,!0)}function $p(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:sn=sn.return}}function Ma(t){if(t!==sn)return!1;if(!$e)return $p(t),$e=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_d(t.type,t.memoizedProps)),r=!r),r&&Et&&Us(t),$p(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Et=b0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Et=b0(t)}else n===27?(n=Et,Js(t.type)?(t=Ad,Ad=null,Et=t):Et=n):Et=sn?ti(t.stateNode.nextSibling):null;return!0}function qr(){Et=sn=null,$e=!1}function ef(){var t=js;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),js=null),t}function Ko(t){js===null?js=[t]:js.push(t)}var tf=w(null),Hr=null,ss=null;function Ps(t,n,r){Y(tf,n._currentValue),n._currentValue=r}function rs(t){t._currentValue=tf.current,B(tf)}function nf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function sf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var C=0;C<n.length;C++)if(b.context===n[C]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),nf(f.return,r,t),o||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),nf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Oa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var b=h.type;jn(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===ge.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&sf(n,t,r,o),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Hr=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Zp(Hr,t)}function Ou(t,n){return Hr===null&&Fr(t),Zp(t,n)}function Zp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ss===null){if(t===null)throw Error(a(308));ss=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ss=ss.next=n;return r}var Bb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},qb=s.unstable_scheduleCallback,Hb=s.unstable_NormalPriority,qt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new Bb,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&qb(Hb,function(){t.controller.abort()})}var $o=null,af=0,Va=0,ka=null;function Fb(t,n){if($o===null){var r=$o=[];af=0,Va=ud(),ka={status:"pending",value:void 0,then:function(o){r.push(o)}}}return af++,n.then(Jp,Jp),n}function Jp(){if(--af===0&&$o!==null){ka!==null&&(ka.status="fulfilled");var t=$o;$o=null,Va=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Gb(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Wp=F.S;F.S=function(t,n){Ly=_e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Fb(t,n),Wp!==null&&Wp(t,n)};var Gr=w(null);function of(){var t=Gr.current;return t!==null?t:gt.pooledCache}function Vu(t,n){n===null?Y(Gr,Gr.current):Y(Gr,n.pool)}function eg(){var t=of();return t===null?null:{parent:qt._currentValue,pool:t}}var La=Error(a(460)),lf=Error(a(474)),ku=Error(a(542)),Lu={then:function(){}};function tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ng(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ci,ci),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t;default:if(typeof n.status=="string")n.then(ci,ci);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t}throw Yr=n,La}}function Qr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Yr=r,La):r}}var Yr=null;function ig(){if(Yr===null)throw Error(a(459));var t=Yr;return Yr=null,t}function sg(t){if(t===La||t===ku)throw Error(a(483))}var ja=null,Zo=0;function ju(t){var n=Zo;return Zo+=1,ja===null&&(ja=[]),ng(ja,t,n)}function Jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){function n(k,D){if(t){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=ns(k,D),k.index=0,k.sibling=null,k}function f(k,D,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,D,U,K){return D===null||D.tag!==6?(D=Xh(U,k.mode,K),D.return=k,D):(D=h(D,U),D.return=k,D)}function C(k,D,U,K){var me=U.type;return me===re?G(k,D,U.props.children,K,U.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&Qr(me)===D.type)?(D=h(D,U.props),Jo(D,U),D.return=k,D):(D=Nu(U.type,U.key,U.props,null,k.mode,K),Jo(D,U),D.return=k,D)}function P(k,D,U,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=$h(U,k.mode,K),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function G(k,D,U,K,me){return D===null||D.tag!==7?(D=Br(U,k.mode,K,me),D.return=k,D):(D=h(D,U),D.return=k,D)}function $(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Xh(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return U=Nu(D.type,D.key,D.props,null,k.mode,U),Jo(U,D),U.return=k,U;case W:return D=$h(D,k.mode,U),D.return=k,D;case x:return D=Qr(D),$(k,D,U)}if(Ot(D)||L(D))return D=Br(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return $(k,ju(D),U);if(D.$$typeof===Ee)return $(k,Ou(k,D),U);Uu(k,D)}return null}function z(k,D,U,K){var me=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:b(k,D,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return U.key===me?C(k,D,U,K):null;case W:return U.key===me?P(k,D,U,K):null;case x:return U=Qr(U),z(k,D,U,K)}if(Ot(U)||L(U))return me!==null?null:G(k,D,U,K,null);if(typeof U.then=="function")return z(k,D,ju(U),K);if(U.$$typeof===Ee)return z(k,D,Ou(k,U),K);Uu(k,U)}return null}function H(k,D,U,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(U)||null,b(D,k,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?U:K.key)||null,C(D,k,K,me);case W:return k=k.get(K.key===null?U:K.key)||null,P(D,k,K,me);case x:return K=Qr(K),H(k,D,U,K,me)}if(Ot(K)||L(K))return k=k.get(U)||null,G(D,k,K,me,null);if(typeof K.then=="function")return H(k,D,U,ju(K),me);if(K.$$typeof===Ee)return H(k,D,U,Ou(D,K),me);Uu(D,K)}return null}function ce(k,D,U,K){for(var me=null,We=null,he=D,je=D=0,He=null;he!==null&&je<U.length;je++){he.index>je?(He=he,he=null):He=he.sibling;var et=z(k,he,U[je],K);if(et===null){he===null&&(he=He);break}t&&he&&et.alternate===null&&n(k,he),D=f(et,D,je),We===null?me=et:We.sibling=et,We=et,he=He}if(je===U.length)return r(k,he),$e&&is(k,je),me;if(he===null){for(;je<U.length;je++)he=$(k,U[je],K),he!==null&&(D=f(he,D,je),We===null?me=he:We.sibling=he,We=he);return $e&&is(k,je),me}for(he=o(he);je<U.length;je++)He=H(he,k,je,U[je],K),He!==null&&(t&&He.alternate!==null&&he.delete(He.key===null?je:He.key),D=f(He,D,je),We===null?me=He:We.sibling=He,We=He);return t&&he.forEach(function(ir){return n(k,ir)}),$e&&is(k,je),me}function ve(k,D,U,K){if(U==null)throw Error(a(151));for(var me=null,We=null,he=D,je=D=0,He=null,et=U.next();he!==null&&!et.done;je++,et=U.next()){he.index>je?(He=he,he=null):He=he.sibling;var ir=z(k,he,et.value,K);if(ir===null){he===null&&(he=He);break}t&&he&&ir.alternate===null&&n(k,he),D=f(ir,D,je),We===null?me=ir:We.sibling=ir,We=ir,he=He}if(et.done)return r(k,he),$e&&is(k,je),me;if(he===null){for(;!et.done;je++,et=U.next())et=$(k,et.value,K),et!==null&&(D=f(et,D,je),We===null?me=et:We.sibling=et,We=et);return $e&&is(k,je),me}for(he=o(he);!et.done;je++,et=U.next())et=H(he,k,je,et.value,K),et!==null&&(t&&et.alternate!==null&&he.delete(et.key===null?je:et.key),D=f(et,D,je),We===null?me=et:We.sibling=et,We=et);return t&&he.forEach(function(nA){return n(k,nA)}),$e&&is(k,je),me}function dt(k,D,U,K){if(typeof U=="object"&&U!==null&&U.type===re&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:e:{for(var me=U.key;D!==null;){if(D.key===me){if(me=U.type,me===re){if(D.tag===7){r(k,D.sibling),K=h(D,U.props.children),K.return=k,k=K;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===x&&Qr(me)===D.type){r(k,D.sibling),K=h(D,U.props),Jo(K,U),K.return=k,k=K;break e}r(k,D);break}else n(k,D);D=D.sibling}U.type===re?(K=Br(U.props.children,k.mode,K,U.key),K.return=k,k=K):(K=Nu(U.type,U.key,U.props,null,k.mode,K),Jo(K,U),K.return=k,k=K)}return p(k);case W:e:{for(me=U.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(k,D.sibling),K=h(D,U.children||[]),K.return=k,k=K;break e}else{r(k,D);break}else n(k,D);D=D.sibling}K=$h(U,k.mode,K),K.return=k,k=K}return p(k);case x:return U=Qr(U),dt(k,D,U,K)}if(Ot(U))return ce(k,D,U,K);if(L(U)){if(me=L(U),typeof me!="function")throw Error(a(150));return U=me.call(U),ve(k,D,U,K)}if(typeof U.then=="function")return dt(k,D,ju(U),K);if(U.$$typeof===Ee)return dt(k,D,Ou(k,U),K);Uu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(k,D.sibling),K=h(D,U),K.return=k,k=K):(r(k,D),K=Xh(U,k.mode,K),K.return=k,k=K),p(k)):r(k,D)}return function(k,D,U,K){try{Zo=0;var me=dt(k,D,U,K);return ja=null,me}catch(he){if(he===La||he===ku)throw he;var We=Un(29,he,null,k.mode);return We.lanes=K,We.return=k,We}finally{}}}var Kr=rg(!0),ag=rg(!1),zs=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(it&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(t),Hp(t,null,r),n}return Cu(t,o,n,r),Iu(t)}function Wo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,xo(t,r)}}function hf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ff=!1;function el(){if(ff){var t=ka;if(t!==null)throw t}}function tl(t,n,r,o){ff=!1;var h=t.updateQueue;zs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,P=C.next;C.next=null,p===null?f=P:p.next=P,p=C;var G=t.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==p&&(b===null?G.firstBaseUpdate=P:b.next=P,G.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;p=0,G=P=C=null,b=f;do{var z=b.lane&-536870913,H=z!==b.lane;if(H?(qe&z)===z:(o&z)===z){z!==0&&z===Va&&(ff=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,ve=b;z=n;var dt=r;switch(ve.tag){case 1:if(ce=ve.payload,typeof ce=="function"){$=ce.call(dt,$,z);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ve.payload,z=typeof ce=="function"?ce.call(dt,$,z):ce,z==null)break e;$=S({},$,z);break e;case 2:zs=!0}}z=b.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(P=G=H,C=$):G=G.next=H,p|=z;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=$),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ys|=p,t.lanes=p,t.memoizedState=$}}function og(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function lg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)og(r[t],n)}var Ua=w(null),Pu=w(0);function ug(t,n){t=ms,Y(Pu,t),Y(Ua,n),ms=t|n.baseLanes}function df(){Y(Pu,ms),Y(Ua,Ua.current)}function mf(){ms=Pu.current,B(Ua),B(Pu)}var Pn=w(null),ei=null;function Hs(t){var n=t.alternate;Y(kt,kt.current&1),Y(Pn,t),ei===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(ei=t)}function pf(t){Y(kt,kt.current),Y(Pn,t),ei===null&&(ei=t)}function cg(t){t.tag===22?(Y(kt,kt.current),Y(Pn,t),ei===null&&(ei=t)):Fs()}function Fs(){Y(kt,kt.current),Y(Pn,Pn.current)}function zn(t){B(Pn),ei===t&&(ei=null),B(kt)}var kt=w(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bd(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var as=0,Le=null,ht=null,Ht=null,Bu=!1,Pa=!1,Xr=!1,qu=0,nl=0,za=null,Qb=0;function Nt(){throw Error(a(321))}function gf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!jn(t[r],n[r]))return!1;return!0}function yf(t,n,r,o,h,f){return as=f,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Yg:Mf,Xr=!1,f=r(o,h),Xr=!1,Pa&&(f=fg(n,r,o,h)),hg(t),f}function hg(t){F.H=rl;var n=ht!==null&&ht.next!==null;if(as=0,Ht=ht=Le=null,Bu=!1,nl=0,za=null,n)throw Error(a(300));t===null||Ft||(t=t.dependencies,t!==null&&Mu(t)&&(Ft=!0))}function fg(t,n,r,o){Le=t;var h=0;do{if(Pa&&(za=null),nl=0,Pa=!1,25<=h)throw Error(a(301));if(h+=1,Ht=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Kg,f=n(r,o)}while(Pa);return f}function Yb(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(Le.flags|=1024),n}function _f(){var t=qu!==0;return qu=0,t}function vf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ef(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}as=0,Ht=ht=Le=null,Pa=!1,nl=qu=0,za=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Le.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function Lt(){if(ht===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=Ht===null?Le.memoizedState:Ht.next;if(n!==null)Ht=n,ht=t;else{if(t===null)throw Le.alternate===null?Error(a(467)):Error(a(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ht===null?Le.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,za===null&&(za=[]),t=ng(za,t,n),n=Le,(Ht===null?n.memoizedState:Ht.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Yg:Mf),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===Ee)return rn(t)}throw Error(a(438,String(t)))}function bf(t){var n=null,r=Le.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Le.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),Le.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function os(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=Lt();return Tf(n,ht,t)}function Tf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,C=null,P=n,G=!1;do{var $=P.lane&-536870913;if($!==P.lane?(qe&$)===$:(as&$)===$){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Va&&(G=!0);else if((as&z)===z){P=P.next,z===Va&&(G=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(b=C=$,p=f):C=C.next=$,Le.lanes|=z,Ys|=z;$=P.action,Xr&&r(f,$),f=P.hasEagerState?P.eagerState:r(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(b=C=z,p=f):C=C.next=z,Le.lanes|=$,Ys|=$;P=P.next}while(P!==null&&P!==n);if(C===null?p=f:C.next=b,!jn(f,t.memoizedState)&&(Ft=!0,G&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Af(t){var n=Lt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);jn(f,n.memoizedState)||(Ft=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function dg(t,n,r){var o=Le,h=Lt(),f=$e;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!jn((ht||h).memoizedState,r);if(p&&(h.memoizedState=r,Ft=!0),h=h.queue,xf(gg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Ht!==null&&Ht.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},pg.bind(null,o,h,r,n),null),gt===null)throw Error(a(349));f||(as&127)!==0||mg(o,n,r)}return r}function mg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Le.updateQueue,n===null?(n=Hu(),Le.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pg(t,n,r,o){n.value=r,n.getSnapshot=o,yg(n)&&_g(t)}function gg(t,n,r){return r(function(){yg(n)&&_g(t)})}function yg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!jn(t,r)}catch{return!0}}function _g(t){var n=zr(t,2);n!==null&&Mn(n,t,2)}function Sf(t){var n=An();if(typeof t=="function"){var r=t;if(t=r(),Xr){mn(!0);try{r()}finally{mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n}function vg(t,n,r,o){return t.baseState=r,Tf(t,ht,typeof o=="function"?o:os)}function Kb(t,n,r,o,h){if(Ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Eg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Eg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var b=r(h,o),C=F.S;C!==null&&C(p,b),bg(t,n,b)}catch(P){wf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,o),bg(t,n,f)}catch(P){wf(t,n,P)}}function bg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Tg(t,n,o)},function(o){return wf(t,n,o)}):Tg(t,n,r)}function Tg(t,n,r){n.status="fulfilled",n.value=r,Ag(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Eg(t,r)))}function wf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ag(n),n=n.next;while(n!==o)}t.action=null}function Ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sg(t,n){return n}function wg(t,n){if($e){var r=gt.formState;if(r!==null){e:{var o=Le;if($e){if(Et){t:{for(var h=Et,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Et=ti(h.nextSibling),o=h.data==="F!";break e}}Us(o)}o=!1}o&&(n=r[0])}}return r=An(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:n},r.queue=o,r=Fg.bind(null,Le,o),o.dispatch=r,o=Sf(!1),f=Df.bind(null,Le,!1,o.queue),o=An(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=Kb.bind(null,Le,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function xg(t){var n=Lt();return Rg(n,ht,t)}function Rg(t,n,r){if(n=Tf(t,n,Sg)[0],t=Gu(os)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(p){throw p===La?ku:p}else o=n;n=Lt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Le.flags|=2048,Ba(9,{destroy:void 0},Xb.bind(null,h,r),null)),[o,f,t]}function Xb(t,n){t.action=n}function Cg(t){var n=Lt(),r=ht;if(r!==null)return Rg(n,r,t);Lt(),n=n.memoizedState,r=Lt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Ba(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Le.updateQueue,n===null&&(n=Hu(),Le.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Ig(){return Lt().memoizedState}function Qu(t,n,r,o){var h=An();Le.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function Yu(t,n,r,o){var h=Lt();o=o===void 0?null:o;var f=h.memoizedState.inst;ht!==null&&o!==null&&gf(o,ht.memoizedState.deps)?h.memoizedState=Ba(n,f,r,o):(Le.flags|=t,h.memoizedState=Ba(1|n,f,r,o))}function Ng(t,n){Qu(8390656,8,t,n)}function xf(t,n){Yu(2048,8,t,n)}function $b(t){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=Hu(),Le.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Dg(t){var n=Lt().memoizedState;return $b({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Mg(t,n){return Yu(4,2,t,n)}function Og(t,n){return Yu(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kg(t,n,r){r=r!=null?r.concat([t]):null,Yu(4,4,Vg.bind(null,n,t),r)}function Rf(){}function Lg(t,n){var r=Lt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&gf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function jg(t,n){var r=Lt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&gf(n,o[1]))return o[0];if(o=t(),Xr){mn(!0);try{t()}finally{mn(!1)}}return r.memoizedState=[o,n],o}function Cf(t,n,r){return r===void 0||(as&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Uy(),Le.lanes|=t,Ys|=t,r)}function Ug(t,n,r,o){return jn(r,n)?r:Ua.current!==null?(t=Cf(t,r,o),jn(t,n)||(Ft=!0),t):(as&42)===0||(as&1073741824)!==0&&(qe&261930)===0?(Ft=!0,t.memoizedState=r):(t=Uy(),Le.lanes|=t,Ys|=t,n)}function Pg(t,n,r,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var p=F.T,b={};F.T=b,Df(t,!1,n,r);try{var C=h(),P=F.S;if(P!==null&&P(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=Gb(C,o);sl(t,n,G,Hn(t))}else sl(t,n,o,Hn(t))}catch($){sl(t,n,{then:function(){},status:"rejected",reason:$},Hn())}finally{ie.p=f,p!==null&&b.types!==null&&(p.types=b.types),F.T=p}}function Zb(){}function If(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=zg(t).queue;Pg(t,h,n,de,r===null?Zb:function(){return Bg(t),r(o)})}function zg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Bg(t){var n=zg(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},Hn())}function Nf(){return rn(bl)}function qg(){return Lt().memoizedState}function Hg(){return Lt().memoizedState}function Jb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Hn();t=Bs(r);var o=qs(n,t,r);o!==null&&(Mn(o,n,r),Wo(o,n,r)),n={cache:rf()},t.payload=n;return}n=n.return}}function Wb(t,n,r){var o=Hn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Gg(n,r):(r=Yh(t,n,r,o),r!==null&&(Mn(r,t,o),Qg(r,n,o)))}function Fg(t,n,r){var o=Hn();sl(t,n,r,o)}function sl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Gg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,r);if(h.hasEagerState=!0,h.eagerState=b,jn(b,p))return Cu(t,n,h,0),gt===null&&Ru(),!1}catch{}finally{}if(r=Yh(t,n,h,o),r!==null)return Mn(r,t,o),Qg(r,n,o),!0}return!1}function Df(t,n,r,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(a(479))}else n=Yh(t,r,o,2),n!==null&&Mn(n,t,2)}function Ku(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function Gg(t,n){Pa=Bu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Qg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,xo(t,r)}}var rl={readContext:rn,use:Fu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};rl.useEffectEvent=Nt;var Yg={readContext:rn,use:Fu,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Ng,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,Vg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=An();n=n===void 0?null:n;var o=t();if(Xr){mn(!0);try{t()}finally{mn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=An();if(r!==void 0){var h=r(n);if(Xr){mn(!0);try{r(n)}finally{mn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Wb.bind(null,Le,t),[o.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,r=Fg.bind(null,Le,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=An();return Cf(r,t,n)},useTransition:function(){var t=Sf(!1);return t=Pg.bind(null,Le,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Le,h=An();if($e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),gt===null)throw Error(a(349));(qe&127)!==0||mg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ng(gg.bind(null,o,f,t),[t]),o.flags|=2048,Ba(9,{destroy:void 0},pg.bind(null,o,f,r,n),null),r},useId:function(){var t=An(),n=gt.identifierPrefix;if($e){var r=zi,o=Pi;r=(o&~(1<<32-Rt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Qb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nf,useFormState:wg,useActionState:wg,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Df.bind(null,Le,!0,r),r.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return An().memoizedState=Jb.bind(null,Le)},useEffectEvent:function(t){var n=An(),r={impl:t};return n.memoizedState=r,function(){if((it&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:rn,use:Fu,useCallback:Lg,useContext:rn,useEffect:xf,useImperativeHandle:kg,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:jg,useReducer:Gu,useRef:Ig,useState:function(){return Gu(os)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Lt();return Ug(r,ht.memoizedState,t,n)},useTransition:function(){var t=Gu(os)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Nf,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=Lt();return vg(r,ht,t,n)},useMemoCache:bf,useCacheRefresh:Hg};Mf.useEffectEvent=Dg;var Kg={readContext:rn,use:Fu,useCallback:Lg,useContext:rn,useEffect:xf,useImperativeHandle:kg,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:jg,useReducer:Af,useRef:Ig,useState:function(){return Af(os)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Lt();return ht===null?Cf(r,t,n):Ug(r,ht.memoizedState,t,n)},useTransition:function(){var t=Af(os)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Nf,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var r=Lt();return ht!==null?vg(r,ht,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Hg};Kg.useEffectEvent=Dg;function Of(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Hn(),h=Bs(o);h.payload=n,r!=null&&(h.callback=r),n=qs(t,h,o),n!==null&&(Mn(n,t,o),Wo(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Hn(),h=Bs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=qs(t,h,o),n!==null&&(Mn(n,t,o),Wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Hn(),o=Bs(r);o.tag=2,n!=null&&(o.callback=n),n=qs(t,o,r),n!==null&&(Mn(n,t,r),Wo(n,t,r))}};function Xg(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Go(r,o)||!Go(h,f):!0}function $g(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function $r(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Zg(t){xu(t)}function Jg(t){console.error(t)}function Wg(t){xu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ey(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,n,r){return r=Bs(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function ty(t){return t=Bs(t),t.tag=3,t}function ny(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ey(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ey(n,r,o),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function eT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Oa(n,r,h,!0),r=Pn.current,r!==null){switch(r.tag){case 31:case 13:return ei===null?oc():r.alternate===null&&Dt===0&&(Dt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ad(t,o,h)),!1;case 22:return r.flags|=65536,o===Lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ad(t,o,h)),!1}throw Error(a(435,r.tag))}return ad(t,o,h),oc(),!1}if($e)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(t=Error(a(422),{cause:o}),Ko($n(t,r)))):(o!==Wh&&(n=Error(a(423),{cause:o}),Ko($n(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=$n(o,r),h=kf(t.stateNode,o,h),hf(t,h),Dt!==4&&(Dt=2)),!1;var f=Error(a(520),{cause:o});if(f=$n(f,r),dl===null?dl=[f]:dl.push(f),Dt!==4&&(Dt=2),n===null)return!0;o=$n(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=kf(r.stateNode,o,t),hf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ty(h),ny(h,t,r,o),hf(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(a(461)),Ft=!1;function an(t,n,r,o){n.child=t===null?ag(n,null,r,o):Kr(n,t.child,r,o)}function iy(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var b in o)b!=="ref"&&(p[b]=o[b])}else p=o;return Fr(n),o=yf(t,n,r,p,f,h),b=_f(),t!==null&&!Ft?(vf(t,n,h),ls(t,n,h)):($e&&b&&Zh(n),n.flags|=1,an(t,n,o,h),n.child)}function sy(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ry(t,n,f,o,h)):(t=Nu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Go,r(p,o)&&t.ref===n.ref)return ls(t,n,h)}return n.flags|=1,t=ns(f,o),t.ref=n.ref,t.return=n,n.child=t}function ry(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Go(f,o)&&t.ref===n.ref)if(Ft=!1,n.pendingProps=o=f,Ff(t,h))(t.flags&131072)!==0&&(Ft=!0);else return n.lanes=t.lanes,ls(t,n,h)}return jf(t,n,r,o,h)}function ay(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return oy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?ug(n,f):df(),cg(n);else return o=n.lanes=536870912,oy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),ug(n,f),Fs(),n.memoizedState=null):(t!==null&&Vu(n,null),df(),Fs());return an(t,n,h,r),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(t,n,r,o,h){var f=of();return f=f===null?null:{parent:qt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Vu(n,null),df(),cg(n),t!==null&&Oa(t,n,o,!0),n.childLanes=h,null}function $u(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ly(t,n,r){return Kr(n,t.child,null,r),t=$u(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function tT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(o.mode==="hidden")return t=$u(n,o),n.lanes=536870912,al(null,t);if(pf(n),(t=Et)?(t=E0(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:Pi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},r=Gp(t),r.return=n,n.child=r,sn=n,Et=null)):t=null,t===null)throw Us(n);return n.lanes=536870912,null}return $u(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=ly(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ft||Oa(t,n,r,!1),h=(r&t.childLanes)!==0,Ft||h){if(o=gt,o!==null&&(p=Ro(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,zr(t,p),Mn(o,t,p),Lf;oc(),n=ly(t,n,r)}else t=f.treeContext,Et=ti(p.nextSibling),sn=n,$e=!0,js=null,Wn=!1,t!==null&&Kp(n,t),n=$u(n,o),n.flags|=4096;return n}return t=ns(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function jf(t,n,r,o,h){return Fr(n),r=yf(t,n,r,o,void 0,h),o=_f(),t!==null&&!Ft?(vf(t,n,h),ls(t,n,h)):($e&&o&&Zh(n),n.flags|=1,an(t,n,r,h),n.child)}function uy(t,n,r,o,h,f){return Fr(n),n.updateQueue=null,r=fg(n,o,r,h),hg(t),o=_f(),t!==null&&!Ft?(vf(t,n,f),ls(t,n,f)):($e&&o&&Zh(n),n.flags|=1,an(t,n,r,f),n.child)}function cy(t,n,r,o,h){if(Fr(n),n.stateNode===null){var f=Ia,p=r.contextType;typeof p=="object"&&p!==null&&(f=rn(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?rn(p):Ia,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Of(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,C=$r(r,b);f.props=C;var P=f.context,G=r.contextType;p=Ia,typeof G=="object"&&G!==null&&(p=rn(G));var $=r.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||P!==p)&&$g(n,f,o,p),zs=!1;var z=n.memoizedState;f.state=z,tl(n,o,f,h),el(),P=n.memoizedState,b||z!==P||zs?(typeof $=="function"&&(Of(n,r,$,o),P=n.memoizedState),(C=zs||Xg(n,r,C,o,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(t,n),p=n.memoizedProps,G=$r(r,p),f.props=G,$=n.pendingProps,z=f.context,P=r.contextType,C=Ia,typeof P=="object"&&P!==null&&(C=rn(P)),b=r.getDerivedStateFromProps,(P=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||z!==C)&&$g(n,f,o,C),zs=!1,z=n.memoizedState,f.state=z,tl(n,o,f,h),el();var H=n.memoizedState;p!==$||z!==H||zs||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof b=="function"&&(Of(n,r,b,o),H=n.memoizedState),(G=zs||Xg(n,r,G,o,z,H,C)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Kr(n,t.child,null,h),n.child=Kr(n,null,r,h)):an(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ls(t,n,h),t}function hy(t,n,r,o){return qr(),n.flags|=256,an(t,n,r,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:eg()}}function zf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=qn),t}function fy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?Hs(n):Fs(),(t=Et)?(t=E0(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ls!==null?{id:Pi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},r=Gp(t),r.return=n,n.child=r,sn=n,Et=null)):t=null,t===null)throw Us(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Fs(),h=n.mode,b=Ju({mode:"hidden",children:b},h),o=Br(o,h,r,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Pf(r),o.childLanes=zf(t,p,r),n.memoizedState=Uf,al(null,o)):(Hs(n),Bf(n,b))}var C=t.memoizedState;if(C!==null&&(b=C.dehydrated,b!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=qf(t,n,r)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),b=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),b=Br(b,h,r,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Kr(n,t.child,null,r),o=n.child,o.memoizedState=Pf(r),o.childLanes=zf(t,p,r),n.memoizedState=Uf,n=al(null,o));else if(Hs(n),Td(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Ko({value:o,source:null,stack:null}),n=qf(t,n,r)}else if(Ft||Oa(t,n,r,!1),p=(r&t.childLanes)!==0,Ft||p){if(p=gt,p!==null&&(o=Ro(p,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,zr(t,o),Mn(p,t,o),Lf;bd(b)||oc(),n=qf(t,n,r)}else bd(b)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Et=ti(b.nextSibling),sn=n,$e=!0,js=null,Wn=!1,t!==null&&Kp(n,t),n=Bf(n,o.children),n.flags|=4096);return n}return h?(Fs(),b=o.fallback,h=n.mode,C=t.child,P=C.sibling,o=ns(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?b=ns(P,b):(b=Br(b,h,r,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,al(null,o),o=n.child,b=t.child.memoizedState,b===null?b=Pf(r):(h=b.cachePool,h!==null?(C=qt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=eg(),b={baseLanes:b.baseLanes|r,cachePool:h}),o.memoizedState=b,o.childLanes=zf(t,p,r),n.memoizedState=Uf,al(t.child,o)):(Hs(n),r=t.child,t=r.sibling,r=ns(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Bf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function qf(t,n,r){return Kr(n,t.child,null,r),t=Bf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),nf(t.return,n,r)}function Hf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function my(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=kt.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,Y(kt,p),an(t,n,o,r),o=$e?Yo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,r,n);else if(t.tag===19)dy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Hf(n,!0,r,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ls(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Oa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ns(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ns(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function nT(t,n,r){switch(n.tag){case 3:Ae(n,n.stateNode.containerInfo),Ps(n,qt,t.memoizedState.cache),qr();break;case 27:case 5:Be(n);break;case 4:Ae(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Hs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fy(t,n,r):(Hs(n),t=ls(t,n,r),t!==null?t.sibling:null);Hs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Oa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return my(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(kt,kt.current),o)break;return null;case 22:return n.lanes=0,ay(t,n,r,n.pendingProps);case 24:Ps(n,qt,t.memoizedState.cache)}return ls(t,n,r)}function py(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ft=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return Ft=!1,nT(t,n,r);Ft=(t.flags&131072)!==0}else Ft=!1,$e&&(n.flags&1048576)!==0&&Yp(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Qr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(o=$r(t,o),n.tag=1,n=cy(null,n,t,o,r)):(n.tag=0,n=jf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===st){n.tag=11,n=iy(null,n,t,o,r);break e}else if(h===N){n.tag=14,n=sy(null,n,t,o,r);break e}}throw n=yt(t)||t,Error(a(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=$r(o,n.pendingProps),cy(t,n,o,h,r);case 3:e:{if(Ae(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(t,n),tl(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Ps(n,qt,o),o!==f.cache&&sf(n,[qt],r,!0),el(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(t,n,o,r);break e}else if(o!==h){h=$n(Error(a(424)),n),Ko(h),n=hy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=ti(t.firstChild),sn=n,$e=!0,js=null,Wn=!0,r=ag(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(qr(),o===h){n=ls(t,n,r);break e}an(t,n,o,r)}n=n.child}return n;case 26:return Zu(t,n),t===null?(r=x0(n.type,null,n.pendingProps,null))?n.memoizedState=r:$e||(r=n.type,t=n.pendingProps,o=mc(le.current).createElement(r),o[Pt]=n,o[Zt]=t,on(o,r,t),zt(o),n.stateNode=o):n.memoizedState=x0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Be(n),t===null&&$e&&(o=n.stateNode=A0(n.type,n.pendingProps,le.current),sn=n,Wn=!0,h=Et,Js(n.type)?(Ad=h,Et=ti(o.firstChild)):Et=h),an(t,n,n.pendingProps.children,r),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=o=Et)&&(o=MT(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,sn=n,Et=ti(o.firstChild),Wn=!1,h=!0):h=!1),h||Us(n)),Be(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,_d(h,f)?o=null:p!==null&&_d(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(t,n,Yb,null,null,r),bl._currentValue=h),Zu(t,n),an(t,n,o,r),n.child;case 6:return t===null&&$e&&((t=r=Et)&&(r=OT(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,sn=n,Et=null,t=!0):t=!1),t||Us(n)),null;case 13:return fy(t,n,r);case 4:return Ae(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Kr(n,null,o,r):an(t,n,o,r),n.child;case 11:return iy(t,n,n.type,n.pendingProps,r);case 7:return an(t,n,n.pendingProps,r),n.child;case 8:return an(t,n,n.pendingProps.children,r),n.child;case 12:return an(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),an(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fr(n),h=rn(h),o=o(h),n.flags|=1,an(t,n,o,r),n.child;case 14:return sy(t,n,n.type,n.pendingProps,r);case 15:return ry(t,n,n.type,n.pendingProps,r);case 19:return my(t,n,r);case 31:return tT(t,n,r);case 22:return ay(t,n,r,n.pendingProps);case 24:return Fr(n),o=rn(qt),t===null?(h=of(),h===null&&(h=gt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},uf(n),Ps(n,qt,h)):((t.lanes&r)!==0&&(cf(t,n),tl(n,null,null,r),el()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,qt,o)):(o=f.cache,Ps(n,qt,o),o!==h.cache&&sf(n,[qt],r,!0))),an(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function us(t){t.flags|=4}function Gf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(qy())t.flags|=8192;else throw Yr=Lu,lf}else t.flags&=-16777217}function gy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D0(n))if(qy())t.flags|=8192;else throw Yr=Lu,lf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Ga|=n)}function ol(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function iT(t,n,r){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),rs(qt),Ve(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?us(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(us(n),f!==null?(bt(n),gy(n,f)):(bt(n),Gf(n,h,null,o,r))):f?f!==t.memoizedState?(us(n),bt(n),gy(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&us(n),bt(n),Gf(n,h,t,o,r)),null;case 27:if(Re(n),r=le.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return bt(n),null}t=J.current,Ma(n)?Xp(n):(t=A0(h,o,r),n.stateNode=t,us(n))}return bt(n),null;case 5:if(Re(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return bt(n),null}if(f=J.current,Ma(n))Xp(n);else{var p=mc(le.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Pt]=n,f[Zt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(on(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&us(n)}}return bt(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&us(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=le.current,Ma(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||f0(t.nodeValue,r)),t||Us(n,!0)}else t=mc(t).createTextNode(o),t[Pt]=n,n.stateNode=t}return bt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Pt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else r=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return bt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Pt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),bt(n),null);case 4:return Ve(),t===null&&dd(n.stateNode.containerInfo),bt(n),null;case 10:return rs(n.type),bt(n),null;case 19:if(B(kt),o=n.memoizedState,o===null)return bt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,ol(o,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Fp(r,t),r=r.sibling;return Y(kt,kt.current&1|2),$e&&is(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&_e()>sc&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!$e)return bt(n),null}else 2*_e()-o.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_e(),t.sibling=null,r=kt.current,Y(kt,h?r&1|2:r&1),$e&&is(n,o.treeForkCount),t):(bt(n),null);case 22:case 23:return zn(n),mf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&B(Gr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),rs(qt),bt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function sT(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return rs(qt),Ve(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Re(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return B(kt),null;case 4:return Ve(),null;case 10:return rs(n.type),null;case 22:case 23:return zn(n),mf(),t!==null&&B(Gr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return rs(qt),null;case 25:return null;default:return null}}function yy(t,n){switch(Jh(n),n.tag){case 3:rs(qt),Ve();break;case 26:case 27:case 5:Re(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:B(kt);break;case 10:rs(n.type);break;case 22:case 23:zn(n),mf(),t!==null&&B(Gr);break;case 24:rs(qt)}}function ll(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(b){lt(n,n.return,b)}}function Gs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var C=r,P=b;try{P()}catch(G){lt(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){lt(n,n.return,G)}}function _y(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{lg(n,r)}catch(o){lt(t,t.return,o)}}}function vy(t,n,r){r.props=$r(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){lt(t,n,o)}}function ul(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){lt(t,n,h)}}function Bi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){lt(t,n,h)}else r.current=null}function Ey(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){lt(t,t.return,h)}}function Qf(t,n,r){try{var o=t.stateNode;xT(o,t.type,r,n),o[Zt]=n}catch(h){lt(t,t.return,h)}}function by(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||by(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ci));else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function ec(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function Ty(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);on(n,o,r),n[Pt]=t,n[Zt]=r}catch(f){lt(t,t.return,f)}}var cs=!1,Gt=!1,Xf=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function rT(t,n){if(t=t.containerInfo,gd=bc,t=kp(t),Bh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,b=-1,C=-1,P=0,G=0,$=t,z=null;t:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(b=p+h),$!==f||o!==0&&$.nodeType!==3||(C=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===t)break t;if(z===r&&++P===h&&(b=p),z===f&&++G===o&&(C=p),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}r=b===-1||C===-1?null:{start:b,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(yd={focusedElem:t,selectionRange:r},bc=!1,Wt=n;Wt!==null;)if(n=Wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Wt=t;else for(;Wt!==null;){switch(n=Wt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ce=$r(r.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){lt(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ed(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Wt=t;break}Wt=n.return}}function Sy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:fs(t,r),o&4&&ll(5,r);break;case 1:if(fs(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){lt(r,r.return,p)}else{var h=$r(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(r,r.return,p)}}o&64&&_y(r),o&512&&ul(r,r.return);break;case 3:if(fs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{lg(t,n)}catch(p){lt(r,r.return,p)}}break;case 27:n===null&&o&4&&Ty(r);case 26:case 5:fs(t,r),n===null&&o&4&&Ey(r),o&512&&ul(r,r.return);break;case 12:fs(t,r);break;case 31:fs(t,r),o&4&&Ry(t,r);break;case 13:fs(t,r),o&4&&Cy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=mT.bind(null,r),VT(t,r))));break;case 22:if(o=r.memoizedState!==null||cs,!o){n=n!==null&&n.memoizedState!==null||Gt,h=cs;var f=Gt;cs=o,(Gt=n)&&!f?ds(t,r,(r.subtreeFlags&8772)!==0):fs(t,r),cs=h,Gt=f}break;case 30:break;default:fs(t,r)}}function wy(t){var n=t.alternate;n!==null&&(t.alternate=null,wy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,Cn=!1;function hs(t,n,r){for(r=r.child;r!==null;)xy(t,n,r),r=r.sibling}function xy(t,n,r){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(bn,r)}catch{}switch(r.tag){case 26:Gt||Bi(r,n),hs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Gt||Bi(r,n);var o=St,h=Cn;Js(r.type)&&(St=r.stateNode,Cn=!1),hs(t,n,r),_l(r.stateNode),St=o,Cn=h;break;case 5:Gt||Bi(r,n);case 6:if(o=St,h=Cn,St=null,hs(t,n,r),St=o,Cn=h,St!==null)if(Cn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(r.stateNode)}catch(f){lt(r,n,f)}else try{St.removeChild(r.stateNode)}catch(f){lt(r,n,f)}break;case 18:St!==null&&(Cn?(t=St,_0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wa(t)):_0(St,r.stateNode));break;case 4:o=St,h=Cn,St=r.stateNode.containerInfo,Cn=!0,hs(t,n,r),St=o,Cn=h;break;case 0:case 11:case 14:case 15:Gs(2,r,n),Gt||Gs(4,r,n),hs(t,n,r);break;case 1:Gt||(Bi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&vy(r,n,o)),hs(t,n,r);break;case 21:hs(t,n,r);break;case 22:Gt=(o=Gt)||r.memoizedState!==null,hs(t,n,r),Gt=o;break;default:hs(t,n,r)}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(r){lt(n,n.return,r)}}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(r){lt(n,n.return,r)}}function aT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ay),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var r=aT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=pT.bind(null,t,o);o.then(h,h)}})}function In(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(Js(b.type)){St=b.stateNode,Cn=!1;break e}break;case 5:St=b.stateNode,Cn=!1;break e;case 3:case 4:St=b.stateNode.containerInfo,Cn=!0;break e}b=b.return}if(St===null)throw Error(a(160));xy(f,p,h),St=null,Cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,t),n=n.sibling}var gi=null;function Iy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(n,t),Nn(t),o&4&&(Gs(3,t,t.return),ll(3,t),Gs(5,t,t.return));break;case 1:In(n,t),Nn(t),o&512&&(Gt||r===null||Bi(r,r.return)),o&64&&cs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=gi;if(In(n,t),Nn(t),o&512&&(Gt||r===null||Bi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,o,r),f[Pt]=t,zt(f),o=f;break e;case"link":var p=I0("link","href",h).get(o+(r.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(o),on(f,o,r),h.head.appendChild(f);break;case"meta":if(p=I0("meta","content",h).get(o+(r.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(b,1);break t}}f=h.createElement(o),on(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Pt]=t,zt(f),o=f}t.stateNode=o}else N0(h,t.type,t.stateNode);else t.stateNode=C0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?N0(h,t.type,t.stateNode):C0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:In(n,t),Nn(t),o&512&&(Gt||r===null||Bi(r,r.return)),r!==null&&o&4&&Qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(In(n,t),Nn(t),o&512&&(Gt||r===null||Bi(r,r.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(ce){lt(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Qf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(In(n,t),Nn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ce){lt(t,t.return,ce)}}break;case 3:if(yc=null,h=gi,gi=pc(n.containerInfo),In(n,t),gi=h,Nn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ce){lt(t,t.return,ce)}Xf&&(Xf=!1,Ny(t));break;case 4:o=gi,gi=pc(t.stateNode.containerInfo),In(n,t),Nn(t),gi=o;break;case 12:In(n,t),Nn(t);break;case 31:In(n,t),Nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 13:In(n,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=_e()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=cs,G=Gt;if(cs=P||h,Gt=G||C,In(n,t),Gt=G,cs=P,Nn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||cs||Gt||Zr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=C.stateNode;var $=C.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ce){lt(C,C.return,ce)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){lt(C,C.return,ce)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?v0(H,!0):v0(C.stateNode,!1)}catch(ce){lt(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(t,r))));break;case 19:In(n,t),Nn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 30:break;case 21:break;default:In(n,t),Nn(t)}}function Nn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(by(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);ec(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(Rn(p,""),r.flags&=-33);var b=Yf(t);ec(t,b,p);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Yf(t);Kf(t,P,C);break;default:throw Error(a(161))}}catch(G){lt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Zr(n);break;case 1:Bi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&vy(n,n.return,r),Zr(n);break;case 27:_l(n.stateNode);case 26:case 5:Bi(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ds(h,f,r),ll(4,f);break;case 1:if(ds(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){lt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)og(C[h],b)}catch(P){lt(o,o.return,P)}}r&&p&64&&_y(f),ul(f,f.return);break;case 27:Ty(f);case 26:case 5:ds(h,f,r),r&&o===null&&p&4&&Ey(f),ul(f,f.return);break;case 12:ds(h,f,r);break;case 31:ds(h,f,r),r&&p&4&&Ry(h,f);break;case 13:ds(h,f,r),r&&p&4&&Cy(h,f);break;case 22:f.memoizedState===null&&ds(h,f,r),ul(f,f.return);break;case 30:break;default:ds(h,f,r)}n=n.sibling}}function $f(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xo(r))}function Zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t))}function yi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(t,n,r,o),n=n.sibling}function Dy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(t,n,r,o),h&2048&&ll(9,n);break;case 1:yi(t,n,r,o);break;case 3:yi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){yi(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){lt(n,n.return,C)}}else yi(t,n,r,o);break;case 31:yi(t,n,r,o);break;case 13:yi(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?yi(t,n,r,o):cl(t,n):f._visibility&2?yi(t,n,r,o):(f._visibility|=2,qa(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$f(p,n);break;case 24:yi(t,n,r,o),h&2048&&Zf(n.alternate,n);break;default:yi(t,n,r,o)}}function qa(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=r,C=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:qa(f,p,b,C,h),ll(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?qa(f,p,b,C,h):cl(f,p):(G._visibility|=2,qa(f,p,b,C,h)),h&&P&2048&&$f(p.alternate,p);break;case 24:qa(f,p,b,C,h),h&&P&2048&&Zf(p.alternate,p);break;default:qa(f,p,b,C,h)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:cl(r,o),h&2048&&$f(o.alternate,o);break;case 24:cl(r,o),h&2048&&Zf(o.alternate,o);break;default:cl(r,o)}n=n.sibling}}var hl=8192;function Ha(t,n,r){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)My(t,n,r),t=t.sibling}function My(t,n,r){switch(t.tag){case 26:Ha(t,n,r),t.flags&hl&&t.memoizedState!==null&&QT(r,gi,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,r);break;case 3:case 4:var o=gi;gi=pc(t.stateNode.containerInfo),Ha(t,n,r),gi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ha(t,n,r),hl=o):Ha(t,n,r));break;default:Ha(t,n,r)}}function Oy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Wt=o,ky(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):fl(t);break;default:fl(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Wt=o,ky(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function ky(t,n){for(;Wt!==null;){var r=Wt;switch(r.tag){case 0:case 11:case 15:Gs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Wt=o;else e:for(r=t;Wt!==null;){o=Wt;var h=o.sibling,f=o.return;if(wy(o),o===r){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var oT={getCacheForType:function(t){var n=rn(qt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return rn(qt).controller.signal}},lT=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,Pe=null,qe=0,ot=0,Bn=null,Qs=!1,Fa=!1,Jf=!1,ms=0,Dt=0,Ys=0,Jr=0,Wf=0,qn=0,Ga=0,dl=null,Dn=null,ed=!1,ic=0,Ly=0,sc=1/0,rc=null,Ks=null,Xt=0,Xs=null,Qa=null,ps=0,td=0,nd=null,jy=null,ml=0,id=null;function Hn(){return(it&2)!==0&&qe!==0?qe&-qe:F.T!==null?ud():au()}function Uy(){if(qn===0)if((qe&536870912)===0||$e){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),qn=t}else qn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),qn}function Mn(t,n,r){(t===gt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),$s(t,qe,qn,!1)),xr(t,r),((it&2)===0||t!==gt)&&(t===gt&&((it&2)===0&&(Jr|=r),Dt===4&&$s(t,qe,qn,!1)),qi(t))}function Py(t,n,r){if((it&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||oi(t,n),h=o?hT(t,n):rd(t,n,!0),f=o;do{if(h===0){Fa&&!o&&$s(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!uT(r)){h=rd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=dl;var C=b.current.memoizedState.isDehydrated;if(C&&(Ya(b,p).flags|=256),p=rd(b,p,!1),p!==2){if(Jf&&!C){b.errorRecoveryDisabledLanes|=f,Jr|=f,h=4;break e}f=Dn,Dn=h,f!==null&&(Dn===null?Dn=f:Dn.push.apply(Dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ya(t,0),$s(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(o,n,qn,!Qs);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-_e(),10<h)){if($s(o,n,qn,!Qs),Si(o,0,!0)!==0)break e;ps=n,o.timeoutHandle=g0(zy.bind(null,o,r,Dn,rc,ed,n,qn,Jr,Ga,Qs,f,"Throttled",-0,0),h);break e}zy(o,r,Dn,rc,ed,n,qn,Jr,Ga,Qs,f,null,-0,0)}}break}while(!0);qi(t)}function zy(t,n,r,o,h,f,p,b,C,P,G,$,z,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},My(n,f,$);var ce=(f&62914560)===f?ic-_e():(f&4194048)===f?Ly-_e():0;if(ce=YT($,ce),ce!==null){ps=f,t.cancelPendingCommit=ce(Ky.bind(null,t,n,f,r,o,h,p,b,C,G,$,null,z,H)),$s(t,f,p,!P);return}}Ky(t,n,f,r,o,h,p,b,C)}function uT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!jn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,r,o){n&=~Wf,n&=~Jr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Rt(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Rr(t,r,n)}function ac(){return(it&6)===0?(pl(0),!1):!0}function sd(){if(Pe!==null){if(ot===0)var t=Pe.return;else t=Pe,ss=Hr=null,Ef(t),ja=null,Zo=0,t=Pe;for(;t!==null;)yy(t.alternate,t),t=t.return;Pe=null}}function Ya(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,IT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ps=0,sd(),gt=t,Pe=r=ns(t.current,null),qe=n,ot=0,Bn=null,Qs=!1,Fa=oi(t,n),Jf=!1,Ga=qn=Wf=Jr=Ys=Dt=0,Dn=dl=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Rt(o),f=1<<h;n|=t[h],o&=~f}return ms=n,Ru(),r}function By(t,n){Le=null,F.H=rl,n===La||n===ku?(n=ig(),ot=3):n===lf?(n=ig(),ot=4):ot=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,Pe===null&&(Dt=1,Xu(t,$n(n,t.current)))}function qy(){var t=Pn.current;return t===null?!0:(qe&4194048)===qe?ei===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ei:!1}function Hy(){var t=F.H;return F.H=rl,t===null?rl:t}function Fy(){var t=F.A;return F.A=oT,t}function oc(){Dt=4,Qs||(qe&4194048)!==qe&&Pn.current!==null||(Fa=!0),(Ys&134217727)===0&&(Jr&134217727)===0||gt===null||$s(gt,qe,qn,!1)}function rd(t,n,r){var o=it;it|=2;var h=Hy(),f=Fy();(gt!==t||qe!==n)&&(rc=null,Ya(t,n)),n=!1;var p=Dt;e:do try{if(ot!==0&&Pe!==null){var b=Pe,C=Bn;switch(ot){case 8:sd(),p=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var P=ot;if(ot=0,Bn=null,Ka(t,b,C,P),r&&Fa){p=0;break e}break;default:P=ot,ot=0,Bn=null,Ka(t,b,C,P)}}cT(),p=Dt;break}catch(G){By(t,G)}while(!0);return n&&t.shellSuspendCounter++,ss=Hr=null,it=o,F.H=h,F.A=f,Pe===null&&(gt=null,qe=0,Ru()),p}function cT(){for(;Pe!==null;)Gy(Pe)}function hT(t,n){var r=it;it|=2;var o=Hy(),h=Fy();gt!==t||qe!==n?(rc=null,sc=_e()+500,Ya(t,n)):Fa=oi(t,n);e:do try{if(ot!==0&&Pe!==null){n=Pe;var f=Bn;t:switch(ot){case 1:ot=0,Bn=null,Ka(t,n,f,1);break;case 2:case 9:if(tg(f)){ot=0,Bn=null,Qy(n);break}n=function(){ot!==2&&ot!==9||gt!==t||(ot=7),qi(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:tg(f)?(ot=0,Bn=null,Qy(n)):(ot=0,Bn=null,Ka(t,n,f,7));break;case 5:var p=null;switch(Pe.tag){case 26:p=Pe.memoizedState;case 5:case 27:var b=Pe;if(p?D0(p):b.stateNode.complete){ot=0,Bn=null;var C=b.sibling;if(C!==null)Pe=C;else{var P=b.return;P!==null?(Pe=P,lc(P)):Pe=null}break t}}ot=0,Bn=null,Ka(t,n,f,5);break;case 6:ot=0,Bn=null,Ka(t,n,f,6);break;case 8:sd(),Dt=6;break e;default:throw Error(a(462))}}fT();break}catch(G){By(t,G)}while(!0);return ss=Hr=null,F.H=o,F.A=h,it=r,Pe!==null?0:(gt=null,qe=0,Ru(),Dt)}function fT(){for(;Pe!==null&&!ye();)Gy(Pe)}function Gy(t){var n=py(t.alternate,t,ms);t.memoizedProps=t.pendingProps,n===null?lc(t):Pe=n}function Qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=uy(r,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=uy(r,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:Ef(n);default:yy(r,n),n=Pe=Fp(n,ms),n=py(r,n,ms)}t.memoizedProps=t.pendingProps,n===null?lc(t):Pe=n}function Ka(t,n,r,o){ss=Hr=null,Ef(n),ja=null,Zo=0;var h=n.return;try{if(eT(t,h,n,r,qe)){Dt=1,Xu(t,$n(r,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Dt=1,Xu(t,$n(r,t.current)),Pe=null;return}n.flags&32768?($e||o===1?t=!0:Fa||(qe&536870912)!==0?t=!1:(Qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yy(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){Yy(n,Qs);return}t=n.return;var r=iT(n.alternate,n,ms);if(r!==null){Pe=r;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);Dt===0&&(Dt=5)}function Yy(t,n){do{var r=sT(t.alternate,t);if(r!==null){r.flags&=32767,Pe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=r}while(t!==null);Dt=6,Pe=null}function Ky(t,n,r,o,h,f,p,b,C){t.cancelPendingCommit=null;do uc();while(Xt!==0);if((it&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,jh(t,r,f,p,b,C),t===gt&&(Pe=gt=null,qe=0),Qa=n,Xs=t,ps=r,td=f,nd=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gT(fn,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ie.p,ie.p=2,p=it,it|=4;try{rT(t,n,r)}finally{it=p,ie.p=h,F.T=o}}Xt=1,Xy(),$y(),Zy()}}function Xy(){if(Xt===1){Xt=0;var t=Xs,n=Qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=ie.p;ie.p=2;var h=it;it|=4;try{Iy(n,t);var f=yd,p=kp(t.containerInfo),b=f.focusedElem,C=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Vp(b.ownerDocument.documentElement,b)){if(C!==null&&Bh(b)){var P=C.start,G=C.end;if(G===void 0&&(G=P),"selectionStart"in b)b.selectionStart=P,b.selectionEnd=Math.min(G,b.value.length);else{var $=b.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),ce=b.textContent.length,ve=Math.min(C.start,ce),dt=C.end===void 0?ve:Math.min(C.end,ce);!H.extend&&ve>dt&&(p=dt,dt=ve,ve=p);var k=Op(b,ve),D=Op(b,dt);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=$.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),ve>dt?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for($=[],H=b;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var K=$[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bc=!!gd,yd=gd=null}finally{it=h,ie.p=o,F.T=r}}t.current=n,Xt=2}}function $y(){if(Xt===2){Xt=0;var t=Xs,n=Qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=ie.p;ie.p=2;var h=it;it|=4;try{Sy(t,n.alternate,n)}finally{it=h,ie.p=o,F.T=r}}Xt=3}}function Zy(){if(Xt===4||Xt===3){Xt=0,Oe();var t=Xs,n=Qa,r=ps,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Xt=5:(Xt=0,Qa=Xs=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),Ji(r),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var b=o[p];f(b.value,{componentStack:b.stack})}}finally{F.T=n,ie.p=h}}(ps&3)!==0&&uc(),qi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===id?ml++:(ml=0,id=t):ml=0,pl(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xo(n)))}function uc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(Xt!==5)return!1;var t=Xs,n=td;td=0;var r=Ji(ps),o=F.T,h=ie.p;try{ie.p=32>r?32:r,F.T=null,r=nd,nd=null;var f=Xs,p=ps;if(Xt=0,Qa=Xs=null,ps=0,(it&6)!==0)throw Error(a(331));var b=it;if(it|=4,Vy(f.current),Dy(f,f.current,p,r),it=b,pl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(bn,f)}catch{}return!0}finally{ie.p=h,F.T=o,Jy(t,n)}}function e0(t,n,r){n=$n(r,n),n=kf(t.stateNode,n,2),t=qs(t,n,2),t!==null&&(xr(t,2),qi(t))}function lt(t,n,r){if(t.tag===3)e0(t,t,r);else for(;n!==null;){if(n.tag===3){e0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ks===null||!Ks.has(o))){t=$n(r,t),r=ty(2),o=qs(n,r,2),o!==null&&(ny(r,o,n,t),xr(o,2),qi(o));break}}n=n.return}}function ad(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new lT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Jf=!0,h.add(r),t=dT.bind(null,t,n,r),n.then(t,t))}function dT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,gt===t&&(qe&r)===r&&(Dt===4||Dt===3&&(qe&62914560)===qe&&300>_e()-ic?(it&2)===0&&Ya(t,0):Wf|=r,Ga===qe&&(Ga=0)),qi(t)}function t0(t,n){n===0&&(n=ru()),t=zr(t,n),t!==null&&(xr(t,n),qi(t))}function mT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),t0(t,r)}function pT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),t0(t,r)}function gT(t,n){return be(t,n)}var cc=null,Xa=null,od=!1,hc=!1,ld=!1,Zs=0;function qi(t){t!==Xa&&t.next===null&&(Xa===null?cc=Xa=t:Xa=Xa.next=t),hc=!0,od||(od=!0,_T())}function pl(t,n){if(!ld&&hc){ld=!0;do for(var r=!1,o=cc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Rt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,r0(o,f))}else f=qe,f=Si(o,o===gt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||oi(o,f)||(r=!0,r0(o,f));o=o.next}while(r);ld=!1}}function yT(){n0()}function n0(){hc=od=!1;var t=0;Zs!==0&&CT()&&(t=Zs);for(var n=_e(),r=null,o=cc;o!==null;){var h=o.next,f=i0(o,n);f===0?(o.next=null,r===null?cc=h:r.next=h,h===null&&(Xa=r)):(r=o,(t!==0||(f&3)!==0)&&(hc=!0)),o=h}Xt!==0&&Xt!==5||pl(t),Zs!==0&&(Zs=0)}function i0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Rt(f),b=1<<p,C=h[p];C===-1?((b&r)===0||(b&o)!==0)&&(h[p]=Lh(b,n)):C<=n&&(t.expiredLanes|=b),f&=~b}if(n=gt,r=qe,r=Si(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Xe(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||oi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Xe(o),Ji(r)){case 2:case 8:r=wt;break;case 32:r=fn;break;case 268435456:r=xt;break;default:r=fn}return o=s0.bind(null,t),r=be(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Xe(o),t.callbackPriority=2,t.callbackNode=null,2}function s0(t,n){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uc()&&t.callbackNode!==r)return null;var o=qe;return o=Si(t,t===gt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Py(t,o,n),i0(t,_e()),t.callbackNode!=null&&t.callbackNode===r?s0.bind(null,t):null)}function r0(t,n){if(uc())return null;Py(t,n,!0)}function _T(){NT(function(){(it&6)!==0?be(Ne,yT):n0()})}function ud(){if(Zs===0){var t=Va;t===0&&(t=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Zs=t}return Zs}function a0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function o0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function vT(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=a0((h[Zt]||null).action),p=o.submitter;p&&(n=(n=p[Zt]||null)?a0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new ki("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var C=p?o0(h,p):new FormData(h);If(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(b.preventDefault(),C=p?o0(h,p):new FormData(h),If(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var cd=0;cd<Gh.length;cd++){var hd=Gh[cd],ET=hd.toLowerCase(),bT=hd[0].toUpperCase()+hd.slice(1);pi(ET,"on"+bT)}pi(Up,"onAnimationEnd"),pi(Pp,"onAnimationIteration"),pi(zp,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(jb,"onTransitionRun"),pi(Ub,"onTransitionStart"),pi(Pb,"onTransitionCancel"),pi(Bp,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function l0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var b=o[p],C=b.instance,P=b.currentTarget;if(b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(b=o[p],C=b.instance,P=b.currentTarget,b=b.listener,C!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=P;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=C}}}}function ze(t,n){var r=n[ma];r===void 0&&(r=n[ma]=new Set);var o=t+"__bubble";r.has(o)||(u0(n,t,2,!1),r.add(o))}function fd(t,n,r){var o=0;n&&(o|=4),u0(r,t,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[fc]){t[fc]=!0,Co.forEach(function(r){r!=="selectionchange"&&(TT.has(r)||fd(r,!1,t),fd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,fd("selectionchange",!1,n))}}function u0(t,n,r,o){switch(U0(n)){case 2:var h=$T;break;case 8:h=ZT;break;default:h=Cd}r=h.bind(null,n,r,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function md(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var b=o.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=Ci(b),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}b=b.parentNode}}o=o.return}Ms(function(){var P=f,G=Qn(r),$=[];e:{var z=qp.get(t);if(z!==void 0){var H=ki,ce=t;switch(t){case"keypress":if(Vr(r)===0)break e;case"keydown":case"keyup":H=Au;break;case"focusin":ce="focus",H=Lr;break;case"focusout":ce="blur",H=Lr;break;case"beforeblur":case"afterblur":H=Lr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Up:case Pp:case zp:H=gu;break;case Bp:H=T;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ts;break;case"toggle":case"beforetoggle":H=ke}var ve=(n&4)!==0,dt=!ve&&(t==="scroll"||t==="scrollend"),k=ve?z!==null?z+"Capture":null:z;ve=[];for(var D=P,U;D!==null;){var K=D;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||k===null||(K=hi(D,k),K!=null&&ve.push(yl(D,K,U))),dt)break;D=D.return}0<ve.length&&(z=new H(z,ce,null,r,G),$.push({event:z,listeners:ve}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==jo&&(ce=r.relatedTarget||r.fromElement)&&(Ci(ce)||ce[xi]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ce=r.relatedTarget||r.toElement,H=P,ce=ce?Ci(ce):null,ce!==null&&(dt=c(ce),ve=ce.tag,ce!==dt||ve!==5&&ve!==27&&ve!==6)&&(ce=null)):(H=null,ce=P),H!==ce)){if(ve=Bo,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ts,K="onPointerLeave",k="onPointerEnter",D="pointer"),dt=H==null?z:kn(H),U=ce==null?z:kn(ce),z=new ve(K,D+"leave",H,r,G),z.target=dt,z.relatedTarget=U,K=null,Ci(G)===P&&(ve=new ve(k,D+"enter",ce,r,G),ve.target=U,ve.relatedTarget=dt,K=ve),dt=K,H&&ce)t:{for(ve=AT,k=H,D=ce,U=0,K=k;K;K=ve(K))U++;K=0;for(var me=D;me;me=ve(me))K++;for(;0<U-K;)k=ve(k),U--;for(;0<K-U;)D=ve(D),K--;for(;U--;){if(k===D||D!==null&&k===D.alternate){ve=k;break t}k=ve(k),D=ve(D)}ve=null}else ve=null;H!==null&&c0($,z,H,ve,!1),ce!==null&&dt!==null&&c0($,dt,ce,ve,!0)}}e:{if(z=P?kn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var We=Rp;else if(wp(z))if(Cp)We=Vb;else{We=Mb;var he=Db}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&_a(P.elementType)&&(We=Rp):We=Ob;if(We&&(We=We(t,P))){xp($,We,r,G);break e}he&&he(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Vo(z,"number",z.value)}switch(he=P?kn(P):window,t){case"focusin":(wp(he)||he.contentEditable==="true")&&(xa=he,qh=P,Qo=null);break;case"focusout":Qo=qh=xa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Lp($,r,G);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":Lp($,r,G)}var je;if(nt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else wa?jr(t,r)&&(He="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(Ui&&r.locale!=="ko"&&(wa||He!=="onCompositionStart"?He==="onCompositionEnd"&&wa&&(je=Po()):(Vi=G,Uo="value"in Vi?Vi.value:Vi.textContent,wa=!0)),he=dc(P,He),0<he.length&&(He=new ji(He,t,null,r,G),$.push({event:He,listeners:he}),je?He.data=je:(je=Sa(r),je!==null&&(He.data=je)))),(je=Kn?Rb(t,r):Cb(t,r))&&(He=dc(P,"onBeforeInput"),0<He.length&&(he=new ji("onBeforeInput","beforeinput",null,r,G),$.push({event:he,listeners:He}),he.data=je)),vT($,t,P,r,G)}l0($,n)})}function yl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function dc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(t,r),h!=null&&o.unshift(yl(t,h,f)),h=hi(t,n),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function AT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c0(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var b=r,C=b.alternate,P=b.stateNode;if(b=b.tag,C!==null&&C===o)break;b!==5&&b!==26&&b!==27||P===null||(C=P,h?(P=hi(r,f),P!=null&&p.unshift(yl(r,P,C))):h||(P=hi(r,f),P!=null&&p.push(yl(r,P,C)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var ST=/\r\n?/g,wT=/\u0000|\uFFFD/g;function h0(t){return(typeof t=="string"?t:""+t).replace(ST,`
`).replace(wT,"")}function f0(t,n){return n=h0(n),h0(t)===n}function ft(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Rn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Rn(t,""+o);break;case"className":Ln(t,"class",o);break;case"tabIndex":Ln(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(t,r,o);break;case"style":Lo(t,o,f);break;case"data":if(n!=="object"){Ln(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=va(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ft(t,n,"name",h.name,h,null),ft(t,n,"formEncType",h.formEncType,h,null),ft(t,n,"formMethod",h.formMethod,h,null),ft(t,n,"formTarget",h.formTarget,h,null)):(ft(t,n,"encType",h.encType,h,null),ft(t,n,"method",h.method,h,null),ft(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=va(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ci);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":ze("beforetoggle",t),ze("toggle",t),ga(t,"popover",o);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,ga(t,r,o))}}function pd(t,n,r,o,h,f){switch(r){case"style":Lo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Rn(t,o):(typeof o=="number"||typeof o=="bigint")&&Rn(t,""+o);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Zt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ga(t,r,o)}}}function on(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(t,n,f,p,r,null)}}h&&ft(t,n,"srcSet",r.srcSet,r,null),o&&ft(t,n,"src",r.src,r,null);return;case"input":ze("invalid",t);var b=f=p=h=null,C=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":C=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ft(t,n,o,G,r,null)}}cu(t,f,b,C,P,p,h,!1);return;case"select":ze("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":o=b;default:ft(t,n,h,b,r,null)}n=f,r=p,t.multiple=!!o,n!=null?Cs(t,!!o,n,!1):r!=null&&Cs(t,!!o,r,!0);return;case"textarea":ze("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ft(t,n,p,b,r,null)}Is(t,o,h,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ft(t,n,C,o,r,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)ze(gl[o],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(t,n,P,o,r,null)}return;default:if(_a(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&pd(t,n,G,o,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(o=r[b],o!=null&&ft(t,n,b,o,r,null))}function xT(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,C=null,P=null,G=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||ft(t,n,H,null,o,$)}}for(var z in o){var H=o[z];if($=r[z],o.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&ft(t,n,z,H,o,$)}}ya(t,p,b,C,P,G,f,h);return;case"select":H=p=b=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ft(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==C&&ft(t,n,h,f,o,C)}n=b,r=p,o=H,z!=null?Cs(t,!!r,z,!1):!!o!=!!r&&(n!=null?Cs(t,!!r,n,!0):Cs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ft(t,n,b,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ft(t,n,p,h,o,f)}hu(t,z,H);return;case"option":for(var ce in r)if(z=r[ce],r.hasOwnProperty(ce)&&z!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:ft(t,n,ce,null,o,z)}for(C in o)if(z=o[C],H=r[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ft(t,n,C,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)z=r[ve],r.hasOwnProperty(ve)&&z!=null&&!o.hasOwnProperty(ve)&&ft(t,n,ve,null,o,z);for(P in o)if(z=o[P],H=r[P],o.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ft(t,n,P,z,o,H)}return;default:if(_a(n)){for(var dt in r)z=r[dt],r.hasOwnProperty(dt)&&z!==void 0&&!o.hasOwnProperty(dt)&&pd(t,n,dt,void 0,o,z);for(G in o)z=o[G],H=r[G],!o.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||pd(t,n,G,z,o,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&ft(t,n,k,null,o,z);for($ in o)z=o[$],H=r[$],!o.hasOwnProperty($)||z===H||z==null&&H==null||ft(t,n,$,z,o,H)}function d0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&d0(p)){for(p=0,b=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],P=C.startTime;if(P>b)break;var G=C.transferSize,$=C.initiatorType;G&&d0($)&&(C=C.responseEnd,p+=G*(C<b?1:(b-P)/(C-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gd=null,yd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function m0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function CT(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(t){return y0.resolve(null).then(t).catch(DT)}:g0;function DT(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function _0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Wa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")_l(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,_l(r);for(var f=r.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[Ri]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&_l(t.ownerDocument.body);r=h}while(r);Wa(n)}function v0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function Ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ed(r),pa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function MT(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function OT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ti(t.nextSibling),t===null))return null;return t}function E0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ad=null;function b0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ti(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function T0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function A0(t,n,r){switch(n=mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pa(t)}var ni=new Map,S0=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ie.d;ie.d={f:kT,r:LT,D:jT,C:UT,L:PT,m:zT,X:qT,S:BT,M:HT};function kT(){var t=gs.f(),n=ac();return t||n}function LT(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?Bg(n):gs.r(t)}var $a=typeof document>"u"?null:document;function w0(t,n,r){var o=$a;if(o&&typeof n=="string"&&n){var h=xn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),S0.has(h)||(S0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),on(n,"link",t),zt(n),o.head.appendChild(n)))}}function jT(t){gs.D(t),w0("dns-prefetch",t,null)}function UT(t,n){gs.C(t,n),w0("preconnect",t,n)}function PT(t,n,r){gs.L(t,n,r);var o=$a;if(o&&t&&n){var h='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+xn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+xn(r.imageSizes)+'"]')):h+='[href="'+xn(t)+'"]';var f=h;switch(n){case"style":f=Za(t);break;case"script":f=Ja(t)}ni.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ni.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),on(n,"link",t),zt(n),o.head.appendChild(n)))}}function zT(t,n){gs.m(t,n);var r=$a;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xn(o)+'"][href="'+xn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ja(t)}if(!ni.has(f)&&(t=S({rel:"modulepreload",href:t},n),ni.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(El(f)))return}o=r.createElement("link"),on(o,"link",t),zt(o),r.head.appendChild(o)}}}function BT(t,n,r){gs.S(t,n,r);var o=$a;if(o&&t){var h=Ii(o).hoistableStyles,f=Za(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=o.querySelector(vl(f)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ni.get(f))&&Sd(t,r);var C=p=o.createElement("link");zt(C),on(C,"link",t),C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function qT(t,n){gs.X(t,n);var r=$a;if(r&&t){var o=Ii(r).hoistableScripts,h=Ja(t),f=o.get(h);f||(f=r.querySelector(El(h)),f||(t=S({src:t,async:!0},n),(n=ni.get(h))&&wd(t,n),f=r.createElement("script"),zt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HT(t,n){gs.M(t,n);var r=$a;if(r&&t){var o=Ii(r).hoistableScripts,h=Ja(t),f=o.get(h);f||(f=r.querySelector(El(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&wd(t,n),f=r.createElement("script"),zt(f),on(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x0(t,n,r,o){var h=(h=le.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Za(r.href),r=Ii(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Za(r.href);var f=Ii(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(vl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ni.set(t,r),f||FT(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(r),r=Ii(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Za(t){return'href="'+xn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function R0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function FT(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),on(n,"link",r),zt(n),t.head.appendChild(n))}function Ja(t){return'[src="'+xn(t)+'"]'}function El(t){return"script[async]"+t}function C0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+xn(r.href)+'"]');if(o)return n.instance=o,zt(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),zt(o),on(o,"style",h),gc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Za(r.href);var f=t.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,zt(f),f;o=R0(r),(h=ni.get(h))&&Sd(o,h),f=(t.ownerDocument||t).createElement("link"),zt(f);var p=f;return p._p=new Promise(function(b,C){p.onload=b,p.onerror=C}),on(f,"link",o),n.state.loading|=4,gc(f,r.precedence,t),n.instance=f;case"script":return f=Ja(r.src),(h=t.querySelector(El(f)))?(n.instance=h,zt(h),h):(o=r,(h=ni.get(f))&&(o=S({},r),wd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),on(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,t));return n.instance}function gc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var b=o[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function I0(t,n,r){if(yc===null){var o=new Map,h=yc=new Map;h.set(r,o)}else h=yc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ri]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=o.get(p);b?b.push(f):o.set(p,[f])}}return o}function N0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function GT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function QT(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,zt(f);return}f=n.ownerDocument||n,o=R0(o),(h=ni.get(h))&&Sd(o,h),f=f.createElement("link"),zt(f);var p=f;p._p=new Promise(function(b,C){p.onload=b,p.onerror=C}),on(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=_c.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var xd=0;function YT(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&xd===0&&(xd=62500*RT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>xd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(KT,t),vc=null,_c.call(t))}function KT(t,n){if(!(n.state.loading&4)){var r=vc.get(t);if(r)var o=r.get(null);else{r=new Map,vc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function XT(t,n,r,o,h,f,p,b,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function M0(t,n,r,o,h,f,p,b,C,P,G,$){return t=new XT(t,n,r,p,C,P,G,$,b),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},uf(f),t}function O0(t){return t?(t=Ia,t):Ia}function V0(t,n,r,o,h,f){h=O0(h),o.context===null?o.context=h:o.pendingContext=h,o=Bs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=qs(t,o,n),r!==null&&(Mn(r,t,n),Wo(r,t,n))}function k0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){k0(t,n),(t=t.alternate)&&k0(t,n)}function L0(t){if(t.tag===13||t.tag===31){var n=zr(t,67108864);n!==null&&Mn(n,t,67108864),Rd(t,67108864)}}function j0(t){if(t.tag===13||t.tag===31){var n=Hn();n=Cr(n);var r=zr(t,n);r!==null&&Mn(r,t,n),Rd(t,n)}}var bc=!0;function $T(t,n,r,o){var h=F.T;F.T=null;var f=ie.p;try{ie.p=2,Cd(t,n,r,o)}finally{ie.p=f,F.T=h}}function ZT(t,n,r,o){var h=F.T;F.T=null;var f=ie.p;try{ie.p=8,Cd(t,n,r,o)}finally{ie.p=f,F.T=h}}function Cd(t,n,r,o){if(bc){var h=Id(o);if(h===null)md(t,n,o,Tc,r),P0(t,o);else if(WT(h,t,n,r,o))o.stopPropagation();else if(P0(t,o),n&4&&-1<JT.indexOf(t)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ai(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var C=1<<31-Rt(p);b.entanglements[1]|=C,p&=~C}qi(f),(it&6)===0&&(sc=_e()+500,pl(0))}}break;case 31:case 13:b=zr(f,2),b!==null&&Mn(b,f,2),ac(),Rd(f,2)}if(f=Id(o),f===null&&md(t,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(t,n,o,null,r)}}function Id(t){return t=Qn(t),Nd(t)}var Tc=null;function Nd(t){if(Tc=null,t=Ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tc=t,null}function U0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case Ne:return 2;case wt:return 8;case fn:case dn:return 32;case xt:return 268435456;default:return 32}default:return 32}}var Dd=!1,Ws=null,er=null,tr=null,Tl=new Map,Al=new Map,nr=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P0(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function Sl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&L0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function WT(t,n,r,o,h){switch(n){case"focusin":return Ws=Sl(Ws,t,n,r,o,h),!0;case"dragenter":return er=Sl(er,t,n,r,o,h),!0;case"mouseover":return tr=Sl(tr,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Sl(Tl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,Sl(Al.get(f)||null,t,n,r,o,h)),!0}return!1}function z0(t){var n=Ci(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,li(t.priority,function(){j0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,li(t.priority,function(){j0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);jo=o,r.target.dispatchEvent(o),jo=null}else return n=Gn(r),n!==null&&L0(n),t.blockedOn=r,!1;n.shift()}return!0}function B0(t,n,r){Ac(t)&&r.delete(n)}function eA(){Dd=!1,Ws!==null&&Ac(Ws)&&(Ws=null),er!==null&&Ac(er)&&(er=null),tr!==null&&Ac(tr)&&(tr=null),Tl.forEach(B0),Al.forEach(B0)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eA)))}var wc=null;function q0(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Nd(o||r)===null)continue;break}var f=Gn(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Wa(t){function n(C){return Sc(C,t)}Ws!==null&&Sc(Ws,t),er!==null&&Sc(er,t),tr!==null&&Sc(tr,t),Tl.forEach(n),Al.forEach(n);for(var r=0;r<nr.length;r++){var o=nr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)z0(r),r.blockedOn===null&&nr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Zt]||null;if(typeof f=="function")p||q0(r);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Zt]||null)b=p.formAction;else if(Nd(h)!==null)continue}else b=p.action;typeof b=="function"?r[o+1]=b:(r.splice(o,3),o-=3),q0(r)}}}function H0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}xc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Hn();V0(r,o,t,n,null,null)},xc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;V0(t.current,2,null,t,null,null),ac(),n[xi]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<nr.length&&n!==0&&n<nr[r].priority;r++);nr.splice(r,0,t),r===0&&z0(t)}};var F0=e.version;if(F0!=="19.2.0")throw Error(a(527,F0,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var tA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{bn=Rc.inject(tA),vt=Rc}catch{}}return xl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Zg,f=Jg,p=Wg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=M0(t,1,!1,null,null,r,o,null,h,f,p,H0),t[xi]=n.current,dd(t),new Md(n)},xl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Zg,p=Jg,b=Wg,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=M0(t,1,!0,n,r??null,o,h,C,f,p,b,H0),n.context=O0(null),r=n.current,o=Hn(),o=Cr(o),h=Bs(o),h.callback=null,qs(r,h,o),r=o,n.current.lanes=r,xr(n,r),qi(n),t[xi]=n.current,dd(t),new xc(n)},xl.version="19.2.0",xl}var e_;function hA(){if(e_)return kd.exports;e_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=cA(),kd.exports}var fA=hA();const dA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),t_=s=>{const e=mA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Yv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),pA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yA=xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>xe.createElement("svg",{ref:_,...gA,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Yv("lucide",l),...!c&&!pA(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>xe.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Ye=(s,e)=>{const i=xe.forwardRef(({className:a,...l},c)=>xe.createElement(yA,{ref:c,iconNode:e,className:Yv(`lucide-${dA(t_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=t_(s),i};const _A=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vA=Ye("arrow-left",_A);const EA=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n_=Ye("ban",EA);const bA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],TA=Ye("box",bA);const AA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Pd=Ye("briefcase",AA);const SA=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],wA=Ye("calendar-plus",SA);const xA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],i_=Ye("calendar",xA);const RA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],s_=Ye("camera",RA);const CA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],r_=Ye("chart-column",CA);const IA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NA=Ye("check",IA);const DA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],MA=Ye("chevron-right",DA);const OA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],VA=Ye("chevron-left",OA);const kA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LA=Ye("circle-check-big",kA);const jA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],a_=Ye("clipboard-list",jA);const UA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],PA=Ye("cpu",UA);const zA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],BA=Ye("download",zA);const qA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HA=Ye("eye",qA);const FA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],GA=Ye("file-x",FA);const QA=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],YA=Ye("gamepad-2",QA);const KA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],o_=Ye("history",KA);const XA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],l_=Ye("log-in",XA);const $A=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZA=Ye("log-out",$A);const JA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],u_=Ye("message-square",JA);const WA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],c_=Ye("pen-tool",WA);const eS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tS=Ye("plus",eS);const nS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cc=Ye("save",nS);const iS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sS=Ye("search",iS);const rS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aS=Ye("settings",rS);const oS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lS=Ye("shield-check",oS);const uS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cS=Ye("trash-2",uS);const hS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fS=Ye("triangle-alert",hS);const dS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mS=Ye("trophy",dS);const pS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gS=Ye("user",pS);const yS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],h_=Ye("utensils",yS);const _S=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],f_=Ye("video",_S);const vS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zd=Ye("x",vS);const ES=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bS=Ye("zap",ES),TS=()=>{};var d_={};const Kv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},AS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(O=64)),a.push(i[A],i[S],i[O],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Kv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new SS;const O=c<<2|g>>4;if(a.push(O),y!==64){const Q=g<<4&240|y>>2;if(a.push(Q),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class SS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(s){const e=Kv(s);return Xv.encodeByteArray(e,!0)},Yc=function(s){return wS(s).replace(/\./g,"")},$v=function(s){try{return Xv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RS=()=>xS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof d_>"u")return;const s=d_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},IS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&$v(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return TS()||RS()||CS()||IS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Zv=s=>fh()?.emulatorHosts?.[s],NS=s=>{const e=Zv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Jv=()=>fh()?.config,Wv=s=>fh()?.[`_${s}`];class DS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e1(s){return(await fetch(s,{credentials:"include"})).ok}function MS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Ml={};function OS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?s.emulator.push(e):s.prod.push(e);return s}function VS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let m_=!1;function t1(s,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ml[s]===e||Ml[s]||m_)return;Ml[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=OS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{m_=!0,d()},O}function A(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=VS(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),re=i("learnmore"),ee=document.getElementById(re)||document.createElement("a"),fe=i("preprendIcon"),Ie=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Ee=O.element;g(Ee),A(ee,re);const st=y();_(Ie,fe),Ee.append(Ie,W,ee,st),document.body.appendChild(Ee)}c?(W.innerText="Preview backend disconnected.",Ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function LS(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const s=vn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function BS(){return!LS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const FS="FirebaseError";class Ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=FS,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?GS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ss(l,g,a)}}function GS(s,e){return s.replace(QS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const QS=/\{\$([^}]+)}/g;function YS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sa(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(p_(c)&&p_(d)){if(!sa(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function p_(s){return s!==null&&typeof s=="object"}function Kl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function KS(s,e){const i=new XS(s,e);return i.subscribe.bind(i)}class XS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");$S(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $S(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function tn(s){return s&&s._delegate?s._delegate:s}class ra{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wr="[DEFAULT]";class ZS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new DS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WS(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:JS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(s){return s===Wr?void 0:s}function WS(s){return s.instantiationMode==="EAGER"}class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ZS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const t2={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},n2=Fe.INFO,i2={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},s2=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=i2[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=n2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const r2=(s,e)=>e.some(i=>s instanceof i);let g_,y_;function a2(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n1=new WeakMap,sm=new WeakMap,i1=new WeakMap,qd=new WeakMap,Om=new WeakMap;function l2(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(cr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&n1.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function u2(s){if(sm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,e)}let rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return sm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||i1.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function c2(s){rm=s(rm)}function h2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hd(this),e,...i);return i1.set(a,e.sort?e.sort():[e]),cr(a)}:o2().includes(s)?function(...e){return s.apply(Hd(this),e),cr(n1.get(this))}:function(...e){return cr(s.apply(Hd(this),e))}}function f2(s){return typeof s=="function"?h2(s):(s instanceof IDBTransaction&&u2(s),r2(s,a2())?new Proxy(s,rm):s)}function cr(s){if(s instanceof IDBRequest)return l2(s);if(qd.has(s))return qd.get(s);const e=f2(s);return e!==s&&(qd.set(s,e),Om.set(e,s)),e}const Hd=s=>Om.get(s);function d2(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=cr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(cr(d.result),_.oldVersion,_.newVersion,cr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const m2=["get","getKey","getAll","getAllKeys","count"],p2=["put","add","delete","clear"],Fd=new Map;function __(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=p2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||m2.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Fd.set(e,c),c}c2(s=>({...s,get:(e,i,a)=>__(e,i)||s.get(e,i,a),has:(e,i)=>!!__(e,i)||s.has(e,i)}));class g2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(y2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function y2(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",v_="0.14.6";const Es=new Mm("@firebase/app"),_2="@firebase/app-compat",v2="@firebase/analytics-compat",E2="@firebase/analytics",b2="@firebase/app-check-compat",T2="@firebase/app-check",A2="@firebase/auth",S2="@firebase/auth-compat",w2="@firebase/database",x2="@firebase/data-connect",R2="@firebase/database-compat",C2="@firebase/functions",I2="@firebase/functions-compat",N2="@firebase/installations",D2="@firebase/installations-compat",M2="@firebase/messaging",O2="@firebase/messaging-compat",V2="@firebase/performance",k2="@firebase/performance-compat",L2="@firebase/remote-config",j2="@firebase/remote-config-compat",U2="@firebase/storage",P2="@firebase/storage-compat",z2="@firebase/firestore",B2="@firebase/ai",q2="@firebase/firestore-compat",H2="firebase",F2="12.6.0";const om="[DEFAULT]",G2={[am]:"fire-core",[_2]:"fire-core-compat",[E2]:"fire-analytics",[v2]:"fire-analytics-compat",[T2]:"fire-app-check",[b2]:"fire-app-check-compat",[A2]:"fire-auth",[S2]:"fire-auth-compat",[w2]:"fire-rtdb",[x2]:"fire-data-connect",[R2]:"fire-rtdb-compat",[C2]:"fire-fn",[I2]:"fire-fn-compat",[N2]:"fire-iid",[D2]:"fire-iid-compat",[M2]:"fire-fcm",[O2]:"fire-fcm-compat",[V2]:"fire-perf",[k2]:"fire-perf-compat",[L2]:"fire-rc",[j2]:"fire-rc-compat",[U2]:"fire-gcs",[P2]:"fire-gcs-compat",[z2]:"fire-fst",[q2]:"fire-fst-compat",[B2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};const Kc=new Map,Q2=new Map,lm=new Map;function E_(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function uo(s){const e=s.name;if(lm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,s);for(const i of Kc.values())E_(i,s);for(const i of Q2.values())E_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function _i(s){return s==null?!1:s.settings!==void 0}const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Yl("app","Firebase",Y2);class K2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const vo=F2;function s1(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:om,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw hr.create("bad-app-name",{appName:String(l)});if(i||(i=Jv()),!i)throw hr.create("no-options");const c=Kc.get(l);if(c){if(sa(i,c.options)&&sa(a,c.config))return c;throw hr.create("duplicate-app",{appName:l})}const d=new e2(l);for(const _ of lm.values())d.addComponent(_);const g=new K2(i,a,d);return Kc.set(l,g),g}function r1(s=om){const e=Kc.get(s);if(!e&&s===om&&Jv())return s1();if(!e)throw hr.create("no-app",{appName:s});return e}function fr(s,e,i){let a=G2[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}uo(new ra(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const X2="firebase-heartbeat-database",$2=1,Ul="firebase-heartbeat-store";let Gd=null;function a1(){return Gd||(Gd=d2(X2,$2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function Z2(s){try{const i=(await a1()).transaction(Ul),a=await i.objectStore(Ul).get(o1(s));return await i.done,a}catch(e){if(e instanceof Ss)Es.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function b_(s,e){try{const a=(await a1()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(e,o1(s)),await a.done}catch(i){if(i instanceof Ss)Es.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function o1(s){return`${s.name}!${s.options.appId}`}const J2=1024,W2=30;class ew{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=T_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>W2){const l=iw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T_(),{heartbeatsToSend:i,unsentEntries:a}=tw(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function T_(){return new Date().toISOString().substring(0,10)}function tw(s,e=J2){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),A_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),A_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class nw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Z2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function A_(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function iw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function sw(s){uo(new ra("platform-logger",e=>new g2(e),"PRIVATE")),uo(new ra("heartbeat",e=>new ew(e),"PRIVATE")),fr(am,v_,s),fr(am,v_,"esm2020"),fr("fire-js","")}sw("");var rw="firebase",aw="12.6.0";fr(rw,aw,"app");var S_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,l1;(function(){var s;function e(N,x){function I(){}I.prototype=x.prototype,N.F=x.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,M,L){for(var R=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)R[yt-2]=arguments[yt];return x.prototype[M].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,x,I){I||(I=0);const V=Array(16);if(typeof x=="string")for(var M=0;M<16;++M)V[M]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(M=0;M<16;++M)V[M]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=N.g[0],I=N.g[1],M=N.g[2];let L=N.g[3],R;R=x+(L^I&(M^L))+V[0]+3614090360&4294967295,x=I+(R<<7&4294967295|R>>>25),R=L+(M^x&(I^M))+V[1]+3905402710&4294967295,L=x+(R<<12&4294967295|R>>>20),R=M+(I^L&(x^I))+V[2]+606105819&4294967295,M=L+(R<<17&4294967295|R>>>15),R=I+(x^M&(L^x))+V[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=x+(L^I&(M^L))+V[4]+4118548399&4294967295,x=I+(R<<7&4294967295|R>>>25),R=L+(M^x&(I^M))+V[5]+1200080426&4294967295,L=x+(R<<12&4294967295|R>>>20),R=M+(I^L&(x^I))+V[6]+2821735955&4294967295,M=L+(R<<17&4294967295|R>>>15),R=I+(x^M&(L^x))+V[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=x+(L^I&(M^L))+V[8]+1770035416&4294967295,x=I+(R<<7&4294967295|R>>>25),R=L+(M^x&(I^M))+V[9]+2336552879&4294967295,L=x+(R<<12&4294967295|R>>>20),R=M+(I^L&(x^I))+V[10]+4294925233&4294967295,M=L+(R<<17&4294967295|R>>>15),R=I+(x^M&(L^x))+V[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=x+(L^I&(M^L))+V[12]+1804603682&4294967295,x=I+(R<<7&4294967295|R>>>25),R=L+(M^x&(I^M))+V[13]+4254626195&4294967295,L=x+(R<<12&4294967295|R>>>20),R=M+(I^L&(x^I))+V[14]+2792965006&4294967295,M=L+(R<<17&4294967295|R>>>15),R=I+(x^M&(L^x))+V[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=x+(M^L&(I^M))+V[1]+4129170786&4294967295,x=I+(R<<5&4294967295|R>>>27),R=L+(I^M&(x^I))+V[6]+3225465664&4294967295,L=x+(R<<9&4294967295|R>>>23),R=M+(x^I&(L^x))+V[11]+643717713&4294967295,M=L+(R<<14&4294967295|R>>>18),R=I+(L^x&(M^L))+V[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=x+(M^L&(I^M))+V[5]+3593408605&4294967295,x=I+(R<<5&4294967295|R>>>27),R=L+(I^M&(x^I))+V[10]+38016083&4294967295,L=x+(R<<9&4294967295|R>>>23),R=M+(x^I&(L^x))+V[15]+3634488961&4294967295,M=L+(R<<14&4294967295|R>>>18),R=I+(L^x&(M^L))+V[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=x+(M^L&(I^M))+V[9]+568446438&4294967295,x=I+(R<<5&4294967295|R>>>27),R=L+(I^M&(x^I))+V[14]+3275163606&4294967295,L=x+(R<<9&4294967295|R>>>23),R=M+(x^I&(L^x))+V[3]+4107603335&4294967295,M=L+(R<<14&4294967295|R>>>18),R=I+(L^x&(M^L))+V[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=x+(M^L&(I^M))+V[13]+2850285829&4294967295,x=I+(R<<5&4294967295|R>>>27),R=L+(I^M&(x^I))+V[2]+4243563512&4294967295,L=x+(R<<9&4294967295|R>>>23),R=M+(x^I&(L^x))+V[7]+1735328473&4294967295,M=L+(R<<14&4294967295|R>>>18),R=I+(L^x&(M^L))+V[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=x+(I^M^L)+V[5]+4294588738&4294967295,x=I+(R<<4&4294967295|R>>>28),R=L+(x^I^M)+V[8]+2272392833&4294967295,L=x+(R<<11&4294967295|R>>>21),R=M+(L^x^I)+V[11]+1839030562&4294967295,M=L+(R<<16&4294967295|R>>>16),R=I+(M^L^x)+V[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=x+(I^M^L)+V[1]+2763975236&4294967295,x=I+(R<<4&4294967295|R>>>28),R=L+(x^I^M)+V[4]+1272893353&4294967295,L=x+(R<<11&4294967295|R>>>21),R=M+(L^x^I)+V[7]+4139469664&4294967295,M=L+(R<<16&4294967295|R>>>16),R=I+(M^L^x)+V[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=x+(I^M^L)+V[13]+681279174&4294967295,x=I+(R<<4&4294967295|R>>>28),R=L+(x^I^M)+V[0]+3936430074&4294967295,L=x+(R<<11&4294967295|R>>>21),R=M+(L^x^I)+V[3]+3572445317&4294967295,M=L+(R<<16&4294967295|R>>>16),R=I+(M^L^x)+V[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=x+(I^M^L)+V[9]+3654602809&4294967295,x=I+(R<<4&4294967295|R>>>28),R=L+(x^I^M)+V[12]+3873151461&4294967295,L=x+(R<<11&4294967295|R>>>21),R=M+(L^x^I)+V[15]+530742520&4294967295,M=L+(R<<16&4294967295|R>>>16),R=I+(M^L^x)+V[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=x+(M^(I|~L))+V[0]+4096336452&4294967295,x=I+(R<<6&4294967295|R>>>26),R=L+(I^(x|~M))+V[7]+1126891415&4294967295,L=x+(R<<10&4294967295|R>>>22),R=M+(x^(L|~I))+V[14]+2878612391&4294967295,M=L+(R<<15&4294967295|R>>>17),R=I+(L^(M|~x))+V[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=x+(M^(I|~L))+V[12]+1700485571&4294967295,x=I+(R<<6&4294967295|R>>>26),R=L+(I^(x|~M))+V[3]+2399980690&4294967295,L=x+(R<<10&4294967295|R>>>22),R=M+(x^(L|~I))+V[10]+4293915773&4294967295,M=L+(R<<15&4294967295|R>>>17),R=I+(L^(M|~x))+V[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=x+(M^(I|~L))+V[8]+1873313359&4294967295,x=I+(R<<6&4294967295|R>>>26),R=L+(I^(x|~M))+V[15]+4264355552&4294967295,L=x+(R<<10&4294967295|R>>>22),R=M+(x^(L|~I))+V[6]+2734768916&4294967295,M=L+(R<<15&4294967295|R>>>17),R=I+(L^(M|~x))+V[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=x+(M^(I|~L))+V[4]+4149444226&4294967295,x=I+(R<<6&4294967295|R>>>26),R=L+(I^(x|~M))+V[11]+3174756917&4294967295,L=x+(R<<10&4294967295|R>>>22),R=M+(x^(L|~I))+V[2]+718787259&4294967295,M=L+(R<<15&4294967295|R>>>17),R=I+(L^(M|~x))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.v=function(N,x){x===void 0&&(x=N.length);const I=x-this.blockSize,V=this.C;let M=this.h,L=0;for(;L<x;){if(M==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<x;)if(V[M++]=N.charCodeAt(L++),M==this.blockSize){l(this,V),M=0;break}}else for(;L<x;)if(V[M++]=N[L++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=x},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[x++]=this.g[I]>>>V&255;return N};function c(N,x){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=x(N)}function d(N,x){this.h=x;const I=[];let V=!0;for(let M=N.length-1;M>=0;M--){const L=N[M]|0;V&&L==x||(I[M]=L,V=!1)}this.g=I}var g={};function _(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return ee(y(-N));const x=[];let I=1;for(let V=0;N>=I;V++)x[V]=N/I|0,I*=4294967296;return new d(x,0)}function A(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return ee(A(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(x,8));let V=S;for(let L=0;L<N.length;L+=8){var M=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+M),x);M<8?(M=y(Math.pow(x,M)),V=V.j(M).add(y(R))):(V=V.j(I),V=V.add(y(R)))}return V}var S=_(0),O=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(re(this))return-ee(this).m();let N=0,x=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*x,x*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(re(this))return"-"+ee(this).toString(N);const x=y(Math.pow(N,6));var I=this;let V="";for(;;){const M=st(I,x).g;I=fe(I,M.j(x));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=M,W(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function re(N){return N.h==-1}s.l=function(N){return N=fe(this,N),re(N)?-1:W(N)?0:1};function ee(N){const x=N.g.length,I=[];for(let V=0;V<x;V++)I[V]=~N.g[V];return new d(I,~N.h).add(O)}s.abs=function(){return re(this)?ee(this):this},s.add=function(N){const x=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let M=0;M<=x;M++){let L=V+(this.i(M)&65535)+(N.i(M)&65535),R=(L>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=R>>>16,L&=65535,R&=65535,I[M]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function fe(N,x){return N.add(ee(x))}s.j=function(N){if(W(this)||W(N))return S;if(re(this))return re(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(re(N))return ee(this.j(ee(N)));if(this.l(Q)<0&&N.l(Q)<0)return y(this.m()*N.m());const x=this.g.length+N.g.length,I=[];for(var V=0;V<2*x;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<N.g.length;M++){const L=this.i(V)>>>16,R=this.i(V)&65535,yt=N.i(M)>>>16,Ot=N.i(M)&65535;I[2*V+2*M]+=R*Ot,Ie(I,2*V+2*M),I[2*V+2*M+1]+=L*Ot,Ie(I,2*V+2*M+1),I[2*V+2*M+1]+=R*yt,Ie(I,2*V+2*M+1),I[2*V+2*M+2]+=L*yt,Ie(I,2*V+2*M+2)}for(N=0;N<x;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=x;N<2*x;N++)I[N]=0;return new d(I,0)};function Ie(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function Ee(N,x){this.g=N,this.h=x}function st(N,x){if(W(x))throw Error("division by zero");if(W(N))return new Ee(S,S);if(re(N))return x=st(ee(N),x),new Ee(ee(x.g),ee(x.h));if(re(x))return x=st(N,ee(x)),new Ee(ee(x.g),x.h);if(N.g.length>30){if(re(N)||re(x))throw Error("slowDivide_ only works with positive integers.");for(var I=O,V=x;V.l(N)<=0;)I=mt(I),V=mt(V);var M=Ke(I,1),L=Ke(V,1);for(V=Ke(V,2),I=Ke(I,2);!W(V);){var R=L.add(V);R.l(N)<=0&&(M=M.add(I),L=R),V=Ke(V,1),I=Ke(I,1)}return x=fe(N,M.j(x)),new Ee(M,x)}for(M=S;N.l(x)>=0;){for(I=Math.max(1,Math.floor(N.m()/x.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(I),R=L.j(x);re(R)||R.l(N)>0;)I-=V,L=y(I),R=L.j(x);W(L)&&(L=O),M=M.add(L),N=fe(N,R)}return new Ee(M,N)}s.B=function(N){return st(this,N).h},s.and=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},s.or=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},s.xor=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<x;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function mt(N){const x=N.g.length+1,I=[];for(let V=0;V<x;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Ke(N,x){const I=x>>5;x%=32;const V=N.g.length-I,M=[];for(let L=0;L<V;L++)M[L]=x>0?N.i(L+I)>>>x|N.i(L+I+1)<<32-x:N.i(L+I);return new d(M,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,l1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,dr=d}).apply(typeof S_<"u"?S_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var u1,Cl,c1,jc,um,h1,f1,d1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in v))break e;v=v[j]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,j,q){for(var te=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)te[ke-2]=arguments[ke];return m.prototype[j].apply(T,te)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const j=arguments[T];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const q=j.length||0;u.length=v+q;for(let te=0;te<q;te++)u[v+te]=j[te]}else u.push(j)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function fe(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ie{constructor(){this.h=this.g=null}add(m,v){const T=Ee.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Ee=new re(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,Ke=!1,N=new Ie,x=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(I)}};function I(){for(var u;u=fe();){try{u.h.call(u.g)}catch(v){ee(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function yt(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(yt,M),yt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,m,v,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function tt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function w(u){const m={};for(const v in u)m[v]=u[v];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(u,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)u[v]=T[v];for(let q=0;q<B.length;q++)v=B[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function J(u){this.src=u,this.g={},this.h=0}J.prototype.add=function(u,m,v,T,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=le(u,m,T,j);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!T,j),m.fa=v,u.push(m)),m};function oe(u,m){const v=m.type;if(v in u.g){var T=u.g[v],j=Array.prototype.indexOf.call(T,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(T,j,1),q&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function le(u,m,v,T){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return j}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Ae={};function Ve(u,m,v,T,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Ve(u,m[q],v,T,j);return null}return v=wn(v),u&&u[Ot]?u.J(m,v,g(T)?!!T.capture:!1,j):Be(u,m,v,!1,T,j)}function Be(u,m,v,T,j,q){if(!m)throw Error("Invalid event type");const te=g(j)?!!j.capture:!!j;let ke=It(u);if(ke||(u[ge]=ke=new J(u)),v=ke.add(m,v,T,te,q),v.proxy)return v;if(T=Re(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(j=te),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(ut(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Re(){function u(v){return m.call(u.src,u.listener,v)}const m=En;return u}function Je(u,m,v,T,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)Je(u,m[q],v,T,j);else T=g(T)?!!T.capture:!!T,v=wn(v),u&&u[Ot]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=le(m,v,T,j),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=It(u))&&(m=u.g[m.toString()],u=-1,m&&(u=le(m,v,T,j)),(v=u>-1?m[u]:null)&&pt(v))}function pt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ot])oe(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ut(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=It(m))?(oe(v,u),v.h==0&&(v.src=null,m[ge]=null)):de(u)}}}function ut(u){return u in Ae?Ae[u]:Ae[u]="on"+u}function En(u,m){if(u.da)u=!0;else{m=new yt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&pt(u),u=v.call(T,m)}return u}function It(u){return u=u[ge],u instanceof J?u:null}var Sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function wn(u){return typeof u=="function"?u:(u[Sn]||(u[Sn]=function(m){return u.handleEvent(m)}),u[Sn])}function se(){V.call(this),this.i=new J(this),this.M=this,this.G=null}S(se,V),se.prototype[Ot]=!0,se.prototype.removeEventListener=function(u,m,v,T){Je(this,u,m,v,T)};function be(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var j=m;m=new M(T,u),Y(m,j)}j=!0;let q,te;if(v)for(te=v.length-1;te>=0;te--)q=m.g=v[te],j=Xe(q,T,!0,m)&&j;if(q=m.g=u,j=Xe(q,T,!0,m)&&j,j=Xe(q,T,!1,m)&&j,v)for(te=0;te<v.length;te++)q=m.g=v[te],j=Xe(q,T,!1,m)&&j}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)de(v[T]);delete u.g[m],u.h--}}this.G=null},se.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},se.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Xe(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==v){const ke=te.listener,Vt=te.ha||te.src;te.fa&&oe(u.i,te),j=ke.call(Vt,T)!==!1&&j}}return j&&!T.defaultPrevented}function ye(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Oe(u){u.g=ye(()=>{u.g=null,u.i&&(u.i=!1,Oe(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _e extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(u){V.call(this),this.h=u,this.g={}}S(ne,V);var Ne=[];function wt(u){Ue(u.g,function(m,v){this.g.hasOwnProperty(v)&&pt(m)},u),u.g={}}ne.prototype.N=function(){ne.Z.N.call(this),wt(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=d.JSON.stringify,dn=d.JSON.parse,xt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zi(){}function ws(){}var bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vt(){M.call(this,"d")}S(vt,M);function mn(){M.call(this,"c")}S(mn,M);var Rt={},fa=null;function xs(){return fa=fa||new se}Rt.Ia="serverreachability";function da(u){M.call(this,Rt.Ia,u)}S(da,M);function Ti(u){const m=xs();be(m,new da(m))}Rt.STAT_EVENT="statevent";function wr(u,m){M.call(this,Rt.STAT_EVENT,u),this.stat=m}S(wr,M);function Ut(u){const m=xs();be(m,new wr(m,u))}Rt.Ja="timingevent";function Ai(u,m){M.call(this,Rt.Ja,u),this.size=m}S(Ai,M);function Si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function Lh(u,m,v,T,j,q){u.info(function(){if(u.g)if(q){var te="",ke=q.split("&");for(let nt=0;nt<ke.length;nt++){var Vt=ke[nt].split("=");if(Vt.length>1){const At=Vt[0];Vt=Vt[1];const Kn=At.split("_");te=Kn.length>=2&&Kn[1]=="type"?te+(At+"="+Vt+"&"):te+(At+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+te})}function ru(u,m,v,T,j,q,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+q+" "+te})}function wi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(T?" "+T:"")})}function xr(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var j=T[0];if(j!="noop"&&j!="stop"&&j!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return fn(q)}catch{return m}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Cr(){}S(Cr,Zi),Cr.prototype.g=function(){return new XMLHttpRequest},Ro=new Cr;function Ji(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function li(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Pt={},Zt={};function xi(u,m,v){u.M=1,u.A=Ir(Bt(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ri(u),u.B=Bt(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),_a(v.i,"t",T),u.C=0,v=u.j.L,u.h=new ui,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new _e(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ne[0]=j.toString()),j=Ne);for(let q=0;q<j.length;q++){const te=Ve(v,j[q],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ti(),Lh(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&fi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const ke=fi(this.g),Vt=this.g.ya(),nt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||ke!=4||Vt==7||(Vt==8||nt<=0?Ti(3):Ti(2)),Ci(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,j=this.g;if((T=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break t}}q=null}if(u=q)wi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,Ut(12),kn(this),Gn(this);break e}}if(this.R){u=!0;let At;for(;!this.K&&this.C<v.length;)if(At=lu(this,v),At==Zt){ke==4&&(this.m=4,Ut(14),u=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Pt){this.m=4,Ut(15),wi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else wi(this.i,this.l,At,null),Ii(this,At);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,Ut(16),u=!1),this.o=this.o&&u,!u)wi(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(te),te.P=!0,Ut(11))}}else wi(this.i,this.l,v,null),Ii(this,v);ke==4&&kn(this),this.o&&!this.K&&(ke==4?yu(this.j,this):(this.o=!1,Ri(this)))}else es(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),kn(this),Gn(this)}}}catch{}finally{}};function Uh(u){if(!ou(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let v="";const T=m.length,j=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kn(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(j&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Zt:(v=Number(m.substring(v,T)),isNaN(v)?Pt:(T+=1,T+v>m.length?Zt:(m=m.slice(T,T+v),u.C=T+v,m)))}li.prototype.cancel=function(){this.K=!0,kn(this)};function Ri(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Si(y(u.aa,u),m)}function Ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xr(this.i,this.B),this.M!=2&&(Ti(),Ut(17)),kn(this),this.m=2,Gn(this)):pa(this,this.T-u)};function Gn(u){u.j.I==0||u.K||yu(u.j,u)}function kn(u){Ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Di(v.h,u))){if(!u.L&&Di(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Aa(v),Vs(v);else break e;Lr(v),Ut(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Si(y(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((u.L||v.g==u)&&Aa(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let nt=j[m];const At=nt[0];if(!(At<=v.K))if(v.K=At,nt=nt[1],v.I==2)if(nt[0]=="c"){v.M=nt[1],v.ba=nt[2];const Kn=nt[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const Ui=nt[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const di=nt[5];di!=null&&typeof di=="number"&&di>0&&(T=1.5*di,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const mi=u.g;if(mi){const jr=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var q=T.h;q.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(No(q,q.h),q.h=null))}if(T.G){const Sa=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(T.wa=Sa,at(T.J,T.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var te=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),te.L){Do(T.h,te);var ke=te,Vt=T.O;Vt&&(ke.H=Vt),ke.D&&(Ci(ke),Ri(ke)),T.g=te}else pu(T);v.i.length>0&&Li(v)}else nt[0]!="stop"&&nt[0]!="close"||ji(v,7);else v.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ji(v,7):zo(v):nt[0]!="noop"&&v.l&&v.l.qa(nt),v.A=0)}}Ti(4)}catch{}}var zt=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function No(u,m){u.g?u.g.add(m):u.h=m}function Do(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let j,q=null;T>=0?(j=u[v].substring(0,T),q=u[v].substring(T+1)):j=u[v],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ln(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Ln?(this.l=u.l,Jt(this,u.j),this.o=u.o,this.g=u.g,Rs(this,u.u),this.h=u.h,Oo(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Jt(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),Rs(this,m[4]),this.h=Mi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}Ln.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Nr(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nr(m,ya,!0),"@"),u.push(Ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Nr(v,v.charAt(0)=="/"?Vo:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Nr(v,hu)),u.join("")},Ln.prototype.resolve=function(u){const m=Bt(this);let v=!!u.j;v?Jt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var j=m.h.lastIndexOf("/");j!=-1&&(T=m.h.slice(0,j+1)+T)}if(j=T,j==".."||j==".")T="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){T=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let te=0;te<j.length;){const ke=j[te++];ke=="."?T&&te==j.length&&q.push(""):ke==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&te==j.length&&q.push("")):(q.push(ke),T=!0)}T=q.join("/")}else T=j}return v?m.h=T:v=u.i.toString()!=="",v?Oo(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Bt(u){return new Ln(u)}function Jt(u,m,v){u.j=v?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof Is?(u.i=m,va(u.i,u.l)):(v||(m=Nr(m,Cs)),u.i=new Is(m,u.l))}function at(u,m,v){u.i.set(m,v)}function Ir(u){return at(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,xn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,cu=/[#\?:]/g,Vo=/[#\?]/g,Cs=/[#\?@]/g,hu=/#/g;function Is(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Is.prototype,s.add=function(u,m){Rn(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){Rn(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return Rn(u),m=Ns(u,m),u.g.has(m)}s.forEach=function(u,m){Rn(this),this.g.forEach(function(v,T){v.forEach(function(j){u.call(m,j,T,this)},this)},this)};function Lo(u,m){Rn(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Rn(this),this.i=null,u=Ns(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Lo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const j=Ji(v);v=Lo(this,v);for(let q=0;q<v.length;q++){let te=j;v[q]!==""&&(te+="="+Ji(v[q])),u.push(te)}}return this.i=u.join("&")};function du(u){const m=new Is;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(v,T){const j=T.toLowerCase();T!=j&&(fu(this,T),_a(this,j,v))},u)),u.j=m}function ci(u,m){const v=new oi;if(d.Image){const T=new Image;T.onload=A(Qn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Qn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Qn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Qn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function jo(u,m){const v=new oi,T=new AbortController,j=setTimeout(()=>{T.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function Ds(){this.g=new xt}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Oi,Zi),Oi.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(u,m){se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Dr,se),s=Dr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):hi(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},s.Na=function(u){this.g&&(this.response=u,Ms(this))},s.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yn(u){let m="";return Ue(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Mr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Yn(v),typeof u=="string"?v!=null&&Ji(v):at(u,m,v))}function ct(u){se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ct,se);var Vi=/^https?$/i,Uo=["POST","PUT"];s=ct.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Or(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of v)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Or(this,q)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Wi(u)}function Po(u){u.A||(u.A=!0,be(u,"complete"),be(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,be(this,"complete"),be(this,"abort"),Wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},s.Xa=function(){Vr(this)};function Vr(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(be(u,"readystatechange"),fi(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let te=String(u.D).match(uu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!Vi.test(te?te.toLowerCase():"")}v=T}if(v)be(u,"complete"),be(u,"success");else{u.o=6;try{var j=fi(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Po(u)}}finally{Wi(u)}}}}function Wi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||be(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),dn(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[j]||[];m[j]=q,q.push(v)}tt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,u),this.Za=ki("retryDelaySeedMs",1e4,u),this.Ta=ki("forwardChannelMaxRetries",2,u),this.va=ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ut(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Li(this)};function zo(u){if(ba(u),u.I==3){var m=u.V++,v=Bt(u.J);if(at(v,"SID",u.M),at(v,"RID",m),at(v,"TYPE","terminate"),kr(u,v),m=new li(u,u.j,m),m.M=2,m.A=Ir(Bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}vu(u)}function Vs(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function ba(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Li(u){if(!Io(u.h)&&!u.m){u.m=!0;var m=u.Ea;mt||x(),Ke||(mt(),Ke=!0),N.add(m,u),u.D=0}}function Ta(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Si(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new li(this,this.j,u);let q=this.o;if(this.U&&(q?(q=w(q),Y(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=mu(this,j,m),v=Bt(this.J),at(v,"RID",u),at(v,"CVER",22),this.G&&at(v,"X-HTTP-Session-Id",this.G),kr(this,v),q&&(this.R?m="headers="+Ji(Yn(q))+"&"+m:this.u&&Mr(v,this.u,q)),No(this.h,j),this.Ra&&at(v,"TYPE","init"),this.S?(at(v,"$req",m),at(v,"SID","null"),j.U=!0,xi(j,v,null)):xi(j,v,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||Io(this.h)||Bo(this))};function Bo(u,m){var v;m?v=m.l:v=u.V++;const T=Bt(u.J);at(T,"SID",u.M),at(T,"RID",v),at(T,"AID",u.K),kr(u,T),u.u&&u.o&&Mr(T,u.u,u.o),v=new li(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),No(u.h,v),xi(v,T,m)}function kr(u,m){u.H&&Ue(u.H,function(v,T){at(m,T,v)}),u.l&&Ue({},function(v,T){at(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let ke=-1;for(;;){const Vt=["count="+v];ke==-1?v>0?(ke=j[0].g,Vt.push("ofs="+ke)):ke=0:Vt.push("ofs="+ke);let nt=!0;for(let At=0;At<v;At++){var q=j[At].g;const Kn=j[At].map;if(q-=ke,q<0)ke=Math.max(0,j[At].g-100),nt=!1;else try{q="req"+q+"_"||"";try{var te=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Ui,di]of te){let mi=di;g(di)&&(mi=fn(di)),Vt.push(q+Ui+"="+encodeURIComponent(mi))}}catch(Ui){throw Vt.push(q+"type="+encodeURIComponent("_badmap")),Ui}}catch{T&&T(Kn)}}if(nt){te=Vt.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;mt||x(),Ke||(mt(),Ke=!0),N.add(m,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Si(y(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Si(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),Vs(this),gu(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Bt(u.na);at(m,"RID","rpc"),at(m,"SID",u.M),at(m,"AID",u.K),at(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&at(m,"TO",u.ia),at(m,"TYPE","xmlhttp"),kr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ir(Bt(m)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),Lr(this),Ut(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){Aa(u),qo(u),u.g=null;var T=2}else if(Di(u.h,m))v=m.G,Do(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;T=xs(),be(T,new Ai(T,v)),Li(u)}else pu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(T==1&&Ta(u,m)||T==2&&Lr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const j=!T;T=new Ln(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Jt(T,"https"),Ir(T),j?ci(T.toString(),v):jo(T.toString(),v)}else Ut(2);u.I=0,u.l&&u.l.pa(m),vu(u),ba(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof Ln?Bt(v):new Ln(v);if(T.g!="")m&&(T.g=m+"."+T.g),Rs(T,T.u);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new Ln(null);T&&Jt(q,T),m&&(q.g=m),j&&Rs(q,j),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&at(T,v,m),at(T,"VER",u.ka),kr(u,T),T}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ct(new Oi({ab:v})):new ct(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new Tn(u,m)};function Tn(u,m){se.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}S(Tn,se),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){zo(this.g)},Tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fn(u),u=v);m.i.push(new zt(m.Ya++,u)),m.I==3&&Li(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,Tn.Z.N.call(this)};function Au(u){vt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Au,vt);function Su(){mn.call(this),this.status=1}S(Su,mn);function ts(u){this.g=u}S(ts,Tu),ts.prototype.ra=function(){be(this.g,"a")},ts.prototype.qa=function(u){be(this.g,new Au(u))},ts.prototype.pa=function(u){be(this.g,new Su)},ts.prototype.oa=function(){be(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,d1=function(){return new ks},f1=function(){return xs()},h1=Rt,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,jc=Rr,xo.COMPLETE="complete",c1=xo,ws.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",se.prototype.listen=se.prototype.J,Cl=ws,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,u1=ct}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",x_="4.9.2";class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Eo="12.3.0";const aa=new Mm("@firebase/firestore");function eo(){return aa.logLevel}function ue(s,...e){if(aa.logLevel<=Fe.DEBUG){const i=e.map(km);aa.debug(`Firestore (${Eo}): ${s}`,...i)}}function bs(s,...e){if(aa.logLevel<=Fe.ERROR){const i=e.map(km);aa.error(`Firestore (${Eo}): ${s}`,...i)}}function co(s,...e){if(aa.logLevel<=Fe.WARN){const i=e.map(km);aa.warn(`Firestore (${Eo}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,m1(s,a,i)}function m1(s,e,i){let a=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw bs(a),new Error(a)}function rt(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||m1(e,l,a)}function Me(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class p1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ow{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(yn.UNAUTHENTICATED)))}shutdown(){}}class lw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class uw{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){rt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(rt(typeof a.accessToken=="string",31837,{l:a}),new p1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class cw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new cw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){rt(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(rt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=dw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ge(s,e){return s<e?-1:s>e?1:0}function cm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Qd(l)===Qd(c)?Ge(l,c):Qd(l)?1:-1}return Ge(s.length,e.length)}const mw=55296,pw=57343;function Qd(s){const e=s.charCodeAt(0);return e>=mw&&e<=pw}function ho(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const C_="__name__";class Hi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Hi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const a=Hi.isNumericId(e),l=Hi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Hi.extractNumericId(e).compare(Hi.extractNumericId(i)):cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class _t extends Hi{construct(e,i,a){return new _t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const gw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Hi{construct(e,i,a){return new cn(e,i,a)}static isValidIdentifier(e){return gw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new cn([C_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(_t.fromString(e))}static fromName(e){return new pe(_t.fromString(e).popFirst(5))}static empty(){return new pe(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new _t(e.slice()))}}function g1(s,e,i){if(!i)throw new ae(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function yw(s,e,i,a){if(e===!0&&a===!0)throw new ae(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I_(s){if(!pe.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function N_(s){if(pe.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function y1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function ri(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(s);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Xl(s,e){if(!y1(s))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ae(X.INVALID_ARGUMENT,i);return!0}const D_=-62135596800,M_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*M_);return new Tt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<D_)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Kt("string",Tt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Tt(0,0))}static max(){return new Ce(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pl=-1;function _w(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ce.fromTimestamp(a===1e9?new Tt(i+1,0):new Tt(i,a));return new gr(l,pe.empty(),e)}function vw(s){return new gr(s.readTime,s.key,Pl)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(Ce.min(),pe.empty(),Pl)}static max(){return new gr(Ce.max(),pe.empty(),Pl)}}function Ew(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==bw)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((A=>{d[y]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new Z(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Aw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const jm=-1;function ph(s){return s==null}function Xc(s){return s===0&&1/s==-1/0}function Sw(s){return typeof s=="number"&&Number.isInteger(s)&&!Xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const _1="";function ww(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O_(e)),e=xw(s.get(i),e);return O_(e)}function xw(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case _1:i+="";break;default:i+=c}}return i}function O_(s){return s+_1+""}function V_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ar(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function v1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ct{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new Ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??ln.RED,this.left=l??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new ln(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return ln.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new $t(this.comparator);return i.data=e,i}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new $t(cn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new E1("Invalid base64 string: "+c):c}})(e);return new hn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new hn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const Rw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(rt(!!s,39018),typeof s=="string"){let e=0;const i=Rw.exec(s);if(rt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:jt(s.seconds),nanos:jt(s.nanos)}}function jt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?hn.fromBase64String(s):hn.fromUint8Array(s)}const b1="server_timestamp",T1="__type__",A1="__previous_value__",S1="__local_write_time__";function Um(s){return(s?.mapValue?.fields||{})[T1]?.stringValue===b1}function gh(s){const e=s.mapValue.fields[A1];return Um(e)?gh(e):e}function zl(s){const e=yr(s.mapValue.fields[S1].timestampValue);return new Tt(e.seconds,e.nanos)}class Cw{constructor(e,i,a,l,c,d,g,_,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const $c="(default)";class Bl{constructor(e,i){this.projectId=e,this.database=i||$c}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const w1="__type__",Iw="__max__",Dc={mapValue:{}},x1="__vector__",Zc="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:Dw(s)?9007199254740991:Nw(s)?10:11:Te(28295,{value:s})}function Xi(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return zl(s).isEqual(zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=yr(l.timestampValue),g=yr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return _r(l.bytesValue).isEqual(_r(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return jt(l.geoPointValue.latitude)===jt(c.geoPointValue.latitude)&&jt(l.geoPointValue.longitude)===jt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return jt(l.integerValue)===jt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=jt(l.doubleValue),g=jt(c.doubleValue);return d===g?Xc(d)===Xc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ho(s.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(V_(d)!==V_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Xi(d[_],g[_])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function ql(s,e){return(s.values||[]).find((i=>Xi(i,e)))!==void 0}function fo(s,e){if(s===e)return 0;const i=vr(s),a=vr(e);if(i!==a)return Ge(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=jt(c.integerValue||c.doubleValue),_=jt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return L_(s.timestampValue,e.timestampValue);case 4:return L_(zl(s),zl(e));case 5:return cm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=_r(c),_=_r(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=Ge(g[y],_[y]);if(A!==0)return A}return Ge(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ge(jt(c.latitude),jt(d.latitude));return g!==0?g:Ge(jt(c.longitude),jt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Zc]?.arrayValue,A=_[Zc]?.arrayValue,S=Ge(y?.values?.length||0,A?.values?.length||0);return S!==0?S:j_(y,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const O=cm(_[S],A[S]);if(O!==0)return O;const Q=fo(g[_[S]],y[A[S]]);if(Q!==0)return Q}return Ge(_.length,A.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function L_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=yr(s),a=yr(e),l=Ge(i.seconds,a.seconds);return l!==0?l:Ge(i.nanos,a.nanos)}function j_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=fo(i[l],a[l]);if(c)return c}return Ge(i.length,a.length)}function mo(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=hm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Uc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ar(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function U_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function fm(s){return!!s&&"integerValue"in s}function Pm(s){return!!s&&"arrayValue"in s}function P_(s){return!!s&&"nullValue"in s}function z_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function Nw(s){return(s?.mapValue?.fields||{})[w1]?.stringValue===x1}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ar(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ol(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(s.arrayValue.values[i]);return e}return{...s}}function Dw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Iw}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=cn.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Ol(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Ar(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Vn(Ol(this.value))}}function R1(s){const e=[];return Ar(s.fields,((i,a)=>{const l=new cn([i]);if(Pc(a)){const c=R1(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Fn(e)}class _n{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new _n(e,0,Ce.min(),Ce.min(),Ce.min(),Vn.empty(),0)}static newFoundDocument(e,i,a,l){return new _n(e,1,i,Ce.min(),a,l,0)}static newNoDocument(e,i){return new _n(e,2,i,Ce.min(),Ce.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new _n(e,3,i,Ce.min(),Ce.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,i){this.position=e,this.inclusive=i}}function B_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=fo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function q_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Xi(s.position[i],e.position[i]))return!1;return!0}class Hl{constructor(e,i="asc"){this.field=e,this.dir=i}}function Mw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class C1{}class Yt extends C1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Vw(e,i,a):i==="array-contains"?new jw(e,a):i==="in"?new Uw(e,a):i==="not-in"?new Pw(e,a):i==="array-contains-any"?new zw(e,a):new Yt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new kw(e,a):new Lw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends C1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new bi(e,i)}matches(e){return I1(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I1(s){return s.op==="and"}function N1(s){return Ow(s)&&I1(s)}function Ow(s){for(const e of s.filters)if(e instanceof bi)return!1;return!0}function dm(s){if(s instanceof Yt)return s.field.canonicalString()+s.op.toString()+mo(s.value);if(N1(s))return s.filters.map((e=>dm(e))).join(",");{const e=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${e})`}}function D1(s,e){return s instanceof Yt?(function(a,l){return l instanceof Yt&&a.op===l.op&&a.field.isEqual(l.field)&&Xi(a.value,l.value)})(s,e):s instanceof bi?(function(a,l){return l instanceof bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&D1(d,l.filters[g])),!0):!1})(s,e):void Te(19439)}function M1(s){return s instanceof Yt?(function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`})(s):s instanceof bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(M1).join(" ,")+"}"})(s):"Filter"}class Vw extends Yt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class kw extends Yt{constructor(e,i){super(e,"in",i),this.keys=O1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Lw extends Yt{constructor(e,i){super(e,"not-in",i),this.keys=O1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function O1(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class jw extends Yt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pm(i)&&ql(i.arrayValue,this.value)}}class Uw extends Yt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class Pw extends Yt{constructor(e,i){super(e,"not-in",i)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class zw extends Yt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>ql(this.value.arrayValue,a)))}}class Bw{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function H_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new Bw(s,e,i,a,l,c,d)}function zm(s){const e=Me(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>dm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>mo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>mo(a))).join(",")),e.Te=i}return e.Te}function Bm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Mw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!D1(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!q_(s.startAt,e.startAt)&&q_(s.endAt,e.endAt)}function mm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ao{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qw(s,e,i,a,l,c,d,g){return new Ao(s,e,i,a,l,c,d,g)}function yh(s){return new Ao(s)}function F_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function V1(s){return s.collectionGroup!==null}function Vl(s){const e=Me(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new $t(cn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Hl(c,a))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new Hl(cn.keyField(),a))}return e.Ie}function Fi(s){const e=Me(s);return e.Ee||(e.Ee=Hw(e,Vl(s))),e.Ee}function Hw(s,e){if(s.limitType==="F")return H_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Hl(l.field,c)}));const i=s.endAt?new Jc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Jc(s.startAt.position,s.startAt.inclusive):null;return H_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function pm(s,e){const i=s.filters.concat([e]);return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function gm(s,e,i){return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function _h(s,e){return Bm(Fi(s),Fi(e))&&s.limitType===e.limitType}function k1(s){return`${zm(Fi(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>M1(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>mo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>mo(l))).join(",")),`Target(${a})`})(Fi(s))}; limitType=${s.limitType})`}function vh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Vl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=B_(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Vl(a),l)||a.endAt&&!(function(d,g,_){const y=B_(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Vl(a),l))})(s,e)}function Fw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function L1(s){return(e,i)=>{let a=!1;for(const l of Vl(s)){const c=Gw(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Gw(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?fo(_,y):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}const Qw=new Ct(pe.comparator);function Ts(){return Qw}const j1=new Ct(pe.comparator);function Il(...s){let e=j1;for(const i of s)e=e.insert(i.key,i);return e}function U1(s){let e=j1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ea(){return kl()}function P1(){return kl()}function kl(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Yw=new Ct(pe.comparator),Kw=new $t(pe.comparator);function Qe(...s){let e=Kw;for(const i of s)e=e.add(i);return e}const Xw=new $t(Ge);function $w(){return Xw}function qm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function z1(s){return{integerValue:""+s}}function Zw(s,e){return Sw(e)?z1(e):qm(s,e)}class Eh{constructor(){this._=void 0}}function Jw(s,e,i){return s instanceof Wc?(function(l,c){const d={fields:{[T1]:{stringValue:b1},[S1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=gh(c)),c&&(d.fields[A1]=c),{mapValue:d}})(i,e):s instanceof Fl?q1(s,e):s instanceof Gl?H1(s,e):(function(l,c){const d=B1(l,c),g=G_(d)+G_(l.Ae);return fm(d)&&fm(l.Ae)?z1(g):qm(l.serializer,g)})(s,e)}function Ww(s,e,i){return s instanceof Fl?q1(s,e):s instanceof Gl?H1(s,e):i}function B1(s,e){return s instanceof eh?(function(a){return fm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Wc extends Eh{}class Fl extends Eh{constructor(e){super(),this.elements=e}}function q1(s,e){const i=F1(e);for(const a of s.elements)i.some((l=>Xi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Gl extends Eh{constructor(e){super(),this.elements=e}}function H1(s,e){let i=F1(e);for(const a of s.elements)i=i.filter((l=>!Xi(l,a)));return{arrayValue:{values:i}}}class eh extends Eh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function G_(s){return jt(s.integerValue||s.doubleValue)}function F1(s){return Pm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ex(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Fl&&l instanceof Fl||a instanceof Gl&&l instanceof Gl?ho(a.elements,l.elements,Xi):a instanceof eh&&l instanceof eh?Xi(a.Ae,l.Ae):a instanceof Wc&&l instanceof Wc})(s.transform,e.transform)}class tx{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class bh{}function G1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hm(s.key,ai.none()):new $l(s.key,s.data,ai.none());{const i=s.data,a=Vn.empty();let l=new $t(cn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Sr(s.key,a,new Fn(l.toArray()),ai.none())}}function nx(s,e,i){s instanceof $l?(function(l,c,d){const g=l.value.clone(),_=Y_(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Sr?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Y_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(Q1(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ll(s,e,i,a){return s instanceof $l?(function(c,d,g,_){if(!zc(c.precondition,d))return g;const y=c.value.clone(),A=K_(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Sr?(function(c,d,g,_){if(!zc(c.precondition,d))return g;const y=K_(c.fieldTransforms,_,d),A=d.data;return A.setAll(Q1(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function ix(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=B1(a.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function Q_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ho(a,l,((c,d)=>ex(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends bh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sr extends bh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Q1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Y_(s,e,i){const a=new Map;rt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,Ww(d,g,i[l]))}return a}function K_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Jw(c,d,e))}return a}class Hm extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sx extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rx{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&nx(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ll(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=P1();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=G1(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Ce.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((i,a)=>Q_(i,a)))&&ho(this.baseMutations,e.baseMutations,((i,a)=>Q_(i,a)))}}class Fm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){rt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Yw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(e,i,a,l)}}class ax{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ox{constructor(e,i){this.count=e,this.unchangedNames=i}}var Qt,Ze;function lx(s){switch(s){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function Y1(s){if(s===void 0)return bs("GRPC error has no .code"),X.UNKNOWN;switch(s){case Qt.OK:return X.OK;case Qt.CANCELLED:return X.CANCELLED;case Qt.UNKNOWN:return X.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return X.INTERNAL;case Qt.UNAVAILABLE:return X.UNAVAILABLE;case Qt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Qt.NOT_FOUND:return X.NOT_FOUND;case Qt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Qt.ABORTED:return X.ABORTED;case Qt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Qt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:s})}}(Ze=Qt||(Qt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function ux(){return new TextEncoder}const cx=new dr([4294967295,4294967295],0);function X_(s){const e=ux().encode(s),i=new l1;return i.update(e),new Uint8Array(i.digest())}function $_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new dr([i,a],0),new dr([l,c],0)]}class Gm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(dr.fromNumber(a)));return l.compare(cx)===1&&(l=new dr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=X_(e),[a,l]=$_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=X_(e),[a,l]=$_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Th(Ce.min(),l,new Ct(Ge),Ts(),Qe())}}class Zl{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Qe(),Qe(),Qe())}}class Bc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class K1{constructor(e,i){this.targetId=e,this.Ce=i}}class X1{constructor(e,i,a=hn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Z_{constructor(){this.ve=0,this.Fe=J_(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),a=Qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Te(38017,{changeType:c})}})),new Zl(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=J_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=Mc(),this.He=Mc(),this.Ye=new Ct(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(a===0){const d=new pe(c.path);this.et(i,d,_n.newNoDocument(d,Ce.min()))}else rt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=_r(a).toUint8Array()}catch(_){if(_ instanceof E1)return co("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Gm(d,l,c)}catch(_){return co(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const _=new pe(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,_n.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Qe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Th(e,i,this.Ye,this.je,a);return this.je=Ts(),this.Je=Mc(),this.He=Mc(),this.Ye=new Ct(Ge),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Z_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new $t(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new $t(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new Ct(pe.comparator)}function J_(){return new Ct(pe.comparator)}const fx={asc:"ASCENDING",desc:"DESCENDING"},dx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mx={and:"AND",or:"OR"};class px{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(s,e){return s.useProto3Json||ph(e)?e:{value:e}}function th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function gx(s,e){return th(s,e.toTimestamp())}function Gi(s){return rt(!!s,49232),Ce.fromTimestamp((function(i){const a=yr(i);return new Tt(a.seconds,a.nanos)})(s))}function Qm(s,e){return _m(s,e).canonicalString()}function _m(s,e){const i=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Z1(s){const e=_t.fromString(s);return rt(nE(e),10190,{key:e.toString()}),e}function vm(s,e){return Qm(s.databaseId,e.path)}function Yd(s,e){const i=Z1(e);if(i.get(1)!==s.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(W1(i))}function J1(s,e){return Qm(s.databaseId,e)}function yx(s){const e=Z1(s);return e.length===4?_t.emptyPath():W1(e)}function Em(s){return new _t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function W1(s){return rt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function W_(s,e,i){return{name:vm(s,e),fields:i.value.mapValue.fields}}function _x(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(rt(A===void 0||typeof A=="string",58123),hn.fromBase64String(A||"")):(rt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),hn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:Y1(y.code);return new ae(A,y.message||"")})(d);i=new X1(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Yd(s,a.document.name),c=Gi(a.document.updateTime),d=a.document.createTime?Gi(a.document.createTime):Ce.min(),g=new Vn({mapValue:{fields:a.document.fields}}),_=_n.newFoundDocument(l,c,d,g),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Bc(y,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Yd(s,a.document),c=a.readTime?Gi(a.readTime):Ce.min(),d=_n.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Yd(s,a.document),c=a.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new ox(l,c),g=a.targetId;i=new K1(g,d)}}return i}function vx(s,e){let i;if(e instanceof $l)i={update:W_(s,e.key,e.value)};else if(e instanceof Hm)i={delete:vm(s,e.key)};else if(e instanceof Sr)i={update:W_(s,e.key,e.data),updateMask:Cx(e.fieldMask)};else{if(!(e instanceof sx))return Te(16599,{Vt:e.type});i={verify:vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:gx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function Ex(s,e){return s&&s.length>0?(rt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Gi(l.updateTime):Gi(c);return d.isEqual(Ce.min())&&(d=Gi(c)),new tx(d,l.transformResults||[])})(i,e)))):[]}function bx(s,e){return{documents:[J1(s,e.path)]}}function Tx(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=J1(s,l);const c=(function(y){if(y.length!==0)return tE(bi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:no(O.field),direction:wx(O.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function Ax(s){let e=yx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){rt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const O=eE(S);return O instanceof bi&&N1(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(W){return new Hl(io(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,ph(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(S){const O=!!S.before,Q=S.values||[];return new Jc(Q,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,Q=S.values||[];return new Jc(Q,O)})(i.endAt)),qw(e,l,d,c,g,"F",_,y)}function Sx(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function eE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return Yt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return Yt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Yt.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return bi.create(i.compositeFilter.filters.map((a=>eE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function wx(s){return fx[s]}function xx(s){return dx[s]}function Rx(s){return mx[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return cn.fromServerFormat(s.fieldPath)}function tE(s){return s instanceof Yt?(function(i){if(i.op==="=="){if(z_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(z_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:xx(i.op),value:i.value}}})(s):s instanceof bi?(function(i){const a=i.getFilters().map((l=>tE(l)));return a.length===1?a[0]:{compositeFilter:{op:Rx(i.op),filters:a}}})(s):Te(54877,{filter:s})}function Cx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function nE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ur{constructor(e,i,a,l,c=Ce.min(),d=Ce.min(),g=hn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ix{constructor(e){this.yt=e}}function Nx(s){const e=Ax({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(e,e.limit,"L"):e}class Dx{constructor(){this.Cn=new Mx}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(gr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Mx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new $t(_t.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new $t(_t.comparator)).toArray()}}const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iE=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(iE,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const tv="LruGarbageCollector",Ox=1048576;function nv([s,e],[i,a]){const l=Ge(s,i);return l===0?Ge(e,a):l}class Vx{constructor(e){this.Ir=e,this.buffer=new $t(nv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();nv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class kx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?ue(tv,"Ignoring IndexedDB error during garbage collection: ",i):await bo(i)}await this.Vr(3e5)}))}}class Lx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(mh.ce);const a=new Vx(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ev)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),eo()<=Fe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function jx(s,e){return new Lx(s,e)}class Ux{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Px{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class zx{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Ll(a.mutation,l,Fn.empty(),Tt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Qe()){const l=ea();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Il();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ea();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Qe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=Ts();const d=kl(),g=(function(){return kl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Sr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Ll(A.mutation,y,A.mutation.getFieldMask(),Tt.now())):d.set(y.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new Px(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=kl();let l=new Ct(((d,g)=>d-g)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||Fn.empty();A=g.applyToLocalView(y,A),a.set(_,A);const S=(l.get(g.batchId)||Qe()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,S=P1();A.forEach((O=>{if(!c.has(O)){const Q=G1(i.get(O),a.get(O));Q!==null&&S.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):V1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):Z.resolve(ea());let g=Pl,_=c;return d.next((y=>Z.forEach(y,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((O=>{_=_.insert(A,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Qe()))).next((A=>({batchId:g,changes:U1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let l=Il();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(_=>{const y=(function(S,O){return new Ao(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,_n.newInvalidDocument(A)))}));let g=Il();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Ll(A.mutation,y,Fn.empty(),Tt.now()),vh(i,y)&&(g=g.insert(_,y))})),g}))}}class Bx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Gi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Nx(l.bundledQuery),readTime:Gi(l.readTime)}})(i)),Z.resolve()}}class qx{constructor(){this.overlays=new Ct(pe.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ea();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const l=ea(),c=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Ct(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=ea(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=ea(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new ax(i,a));let c=this.qr.get(i);c===void 0&&(c=Qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Hx{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Ym{constructor(){this.Qr=new $t(en.$r),this.Ur=new $t(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new en(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new en(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new _t([])),a=new en(i,e),l=new en(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new _t([])),a=new en(i,e),l=new en(i,e+1);let c=Qe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new en(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class en{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class Fx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new $t(en.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rx(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new en(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new en(i,0),l=new en(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new $t(Ge);return i.forEach((l=>{const c=new en(l,0),d=new en(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new en(new pe(c),0);let g=new $t(Ge);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){rt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new en(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new en(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Gx{constructor(e){this.ri=e,this.docs=(function(){return new Ct(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(i))}getEntries(e,i){let a=Ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():_n.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Ts();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Ew(vw(A),a)<=0||(l.has(A.key)||vh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Te(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Qx(this)}getSize(e){return Z.resolve(this.size)}}class Qx extends Ux{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Yx{constructor(e){this.persistence=e,this.si=new ua((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new po(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class sE{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new Hx,this.referenceDelegate=e(this),this.Pi=new Yx(this),this.indexManager=new Dx,this.remoteDocumentCache=(function(l){return new Gx(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Ix(i),this.Ii=new Bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new qx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Fx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const l=new Kx(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class Kx extends Tw{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ri=new Ym,this.Vi=null}static mi(e){return new Km(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=pe.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ce.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class nh{constructor(e,i){this.persistence=e,this.pi=new ua((a=>ww(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=jx(this,i)}static mi(e,i){return new nh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Ce.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Qe(),l=Qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(e,i.fromCache,a,l)}}class Xx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $x{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return BS()?8:Aw(vn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Xx;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(eo()<=Fe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(eo()<=Fe.DEBUG&&ue("QueryEngine","Query:",to(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(eo()<=Fe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(i))):Z.resolve())}ys(e,i){if(F_(i))return Z.resolve(null);let a=Fi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),a=Fi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Qe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,gm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,l){return F_(i)||l.isEqual(Ce.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(eo()<=Fe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(e,d,i,_w(l,Pl)).next((g=>g)))}))}Ds(e,i){let a=new $t(L1(e));return i.forEach(((l,c)=>{vh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return eo()<=Fe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(e,i,gr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",Zx=3e8;class Jx{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Ct(Ge),this.xs=new ua((c=>zm(c)),Bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Wx(s,e,i,a){return new Jx(s,e,i,a)}async function rE(s,e){const i=Me(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Qe();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function eR(s,e){const i=Me(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const S=y.batch,O=S.keys();let Q=Z.resolve();return O.forEach((W=>{Q=Q.next((()=>A.getEntry(_,W))).next((re=>{const ee=y.docVersions.get(W);rt(ee!==null,48541),re.version.compareTo(ee)<0&&(S.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),A.addEntry(re)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Qe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function aE(s){const e=Me(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function tR(s,e){const i=Me(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((A,S)=>{const O=l.get(S);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(hn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),l=l.insert(S,Q),(function(re,ee,fe){return re.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=Zx?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(O,Q,A)&&g.push(i.Pi.updateTargetData(c,Q))}));let _=Ts(),y=Qe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(nR(c,d,e.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(Ce.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function nR(s,e,i){let a=Qe(),l=Qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ts();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Ce.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ue($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function iR(s,e){const i=Me(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function sR(s,e){const i=Me(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function bm(s,e,i){const a=Me(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;ue($m,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function iv(s,e,i){const a=Me(s);let l=Ce.min(),c=Qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=Me(_),O=S.xs.get(A);return O!==void 0?Z.resolve(S.Ms.get(O)):S.Pi.getTargetData(y,A)})(a,d,Fi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ce.min(),i?c:Qe()))).next((g=>(rR(a,Fw(e),g),{documents:g,Qs:c})))))}function rR(s,e,i){let a=s.Os.get(e)||Ce.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class sv{constructor(){this.activeTargetIds=$w()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aR{constructor(){this.Mo=new sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class oR{Oo(e){}shutdown(){}}const rv="ConnectivityMonitor";class av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(rv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function Tm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Kd="RestConnection",lR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Tm(),g=this.zo(e,i.toUriEncodedString());ue(Kd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),A=_o(y);return this.Jo(e,g,_,a,A).then((S=>(ue(Kd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw co(Kd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=lR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class cR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gn="WebChannelConnection";class hR extends uR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Tm();return new Promise(((g,_)=>{const y=new u1;y.setWithCredentials(!0),y.listenOnce(c1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const S=y.getResponseJson();ue(gn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case jc.TIMEOUT:ue(gn,`RPC '${e}' ${d} timed out`),_(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const O=y.getStatus();if(ue(gn,`RPC '${e}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const re=(function(fe){const Ie=fe.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ie)>=0?Ie:X.UNKNOWN})(W.status);_(new ae(re,W.message))}else _(new ae(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ae(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(gn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ue(gn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=d1(),g=f1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");ue(gn,`Creating RPC '${e}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let O=!1,Q=!1;const W=new cR({Yo:ee=>{Q?ue(gn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(O||(ue(gn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),O=!0),ue(gn,`RPC '${e}' stream ${l} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),re=(ee,fe,Ie)=>{ee.listen(fe,(Ee=>{try{Ie(Ee)}catch(st){setTimeout((()=>{throw st}),0)}}))};return re(S,Cl.EventType.OPEN,(()=>{Q||(ue(gn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),re(S,Cl.EventType.CLOSE,(()=>{Q||(Q=!0,ue(gn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(S))})),re(S,Cl.EventType.ERROR,(ee=>{Q||(Q=!0,co(gn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),re(S,Cl.EventType.MESSAGE,(ee=>{if(!Q){const fe=ee.data[0];rt(!!fe,16349);const Ie=fe,Ee=Ie?.error||Ie[0]?.error;if(Ee){ue(gn,`RPC '${e}' stream ${l} received error:`,Ee);const st=Ee.status;let mt=(function(x){const I=Qt[x];if(I!==void 0)return Y1(I)})(st),Ke=Ee.message;mt===void 0&&(mt=X.INTERNAL,Ke="Unknown error status: "+st+" with message "+Ee.message),Q=!0,W.a_(new ae(mt,Ke)),S.close()}else ue(gn,`RPC '${e}' stream ${l} received:`,fe),W.u_(fe)}})),re(g,h1.STAT_EVENT,(ee=>{ee.stat===um.PROXY?ue(gn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===um.NOPROXY&&ue(gn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xd(){return typeof document<"u"?document:null}function Ah(s){return new px(s,!0)}class oE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ov="PersistentStream";class lE{constructor(e,i,a,l,c,d,g,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ae(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fR extends lE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=_x(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ce.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?Gi(d.readTime):Ce.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=mm(_)?{documents:bx(c,_)}:{query:Tx(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=$1(c,d.resumeToken);const y=ym(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ce.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const y=ym(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=Sx(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Em(this.serializer),i.removeTarget=e,this.q_(i)}}class dR extends lE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Ex(e.writeResults,e.commitTime),a=Gi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Em(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>vx(this.serializer,a)))};this.q_(i)}}class mR{}class pR extends mR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,_m(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(X.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,_m(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class yR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(ue(oa,"Restarting streams for network reachability change."),await(async function(_){const y=Me(_);y.Ea.add(4),await Jl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Sh(y)})(this))}))})),this.Ra=new gR(a,l)}}async function Sh(s){if(ca(s))for(const e of s.da)await e(!0)}async function Jl(s){for(const e of s.da)await e(!1)}function uE(s,e){const i=Me(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ep(i)?Wm(i):So(i).O_()&&Jm(i,e))}function Zm(s,e){const i=Me(s),a=So(i);i.Ia.delete(e),a.O_()&&cE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Ra.set("Unknown"))}function Jm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}So(s).Y_(e)}function cE(s,e){s.Va.Ue(e),So(s).Z_(e)}function Wm(s){s.Va=new hx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Ra.ua()}function ep(s){return ca(s)&&!So(s).x_()&&s.Ia.size>0}function ca(s){return Me(s).Ea.size===0}function hE(s){s.Va=void 0}async function _R(s){s.Ra.set("Online")}async function vR(s){s.Ia.forEach(((e,i)=>{Jm(s,e)}))}async function ER(s,e){hE(s),ep(s)?(s.Ra.ha(e),Wm(s)):s.Ra.set("Unknown")}async function bR(s,e,i){if(s.Ra.set("Online"),e instanceof X1&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(a){ue(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ih(s,a)}else if(e instanceof Bc?s.Va.Ze(e):e instanceof K1?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ce.min()))try{const a=await aE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(hn.EMPTY_BYTE_STRING,A.snapshotVersion)),cE(c,_);const S=new ur(A.target,_,y,A.sequenceNumber);Jm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ue(oa,"Failed to raise snapshot:",a),await ih(s,a)}}async function ih(s,e,i){if(!To(e))throw e;s.Ea.add(1),await Jl(s),s.Ra.set("Offline"),i||(i=()=>aE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function fE(s,e){return e().catch((i=>ih(s,i,e)))}async function wh(s){const e=Me(s),i=Er(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;TR(e);)try{const l=await iR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,AR(e,l)}catch(l){await ih(e,l)}dE(e)&&mE(e)}function TR(s){return ca(s)&&s.Ta.length<10}function AR(s,e){s.Ta.push(e);const i=Er(s);i.O_()&&i.X_&&i.ea(e.mutations)}function dE(s){return ca(s)&&!Er(s).x_()&&s.Ta.length>0}function mE(s){Er(s).start()}async function SR(s){Er(s).ra()}async function wR(s){const e=Er(s);for(const i of s.Ta)e.ea(i.mutations)}async function xR(s,e,i){const a=s.Ta.shift(),l=Fm.from(a,e,i);await fE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await wh(s)}async function RR(s,e){e&&Er(s).X_&&await(async function(a,l){if((function(d){return lx(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();Er(a).B_(),await fE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(s,e),dE(s)&&mE(s)}async function lv(s,e){const i=Me(s);i.asyncQueue.verifyOperationInProgress(),ue(oa,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await Jl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sh(i)}async function CR(s,e){const i=Me(s);e?(i.Ea.delete(2),await Sh(i)):e||(i.Ea.add(2),await Jl(i),i.Ra.set("Unknown"))}function So(s){return s.ma||(s.ma=(function(i,a,l){const c=Me(i);return c.sa(),new fR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:_R.bind(null,s),t_:vR.bind(null,s),r_:ER.bind(null,s),H_:bR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ep(s)?Wm(s):s.Ra.set("Unknown")):(await s.ma.stop(),hE(s))}))),s.ma}function Er(s){return s.fa||(s.fa=(function(i,a,l){const c=Me(i);return c.sa(),new dR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:SR.bind(null,s),r_:RR.bind(null,s),ta:wR.bind(null,s),na:xR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new tp(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(s,e){if(bs("AsyncQueue",`${e}: ${s}`),To(s))return new ae(X.UNAVAILABLE,`${e}: ${s}`);throw s}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Il(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new so;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class uv{constructor(){this.ga=new Ct(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class go{constructor(e,i,a,l,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new go(e,i,so.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class IR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NR{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Me(i),c=l.queries;l.queries=cv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function cv(){return new ua((s=>k1(s)),_h)}async function pE(s,e){const i=Me(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new IR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=np(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ip(i)}async function gE(s,e){const i=Me(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function DR(s,e){const i=Me(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&ip(i)}function MR(s,e,i){const a=Me(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function ip(s){s.Ca.forEach((e=>{e.next()}))}var Am,hv;(hv=Am||(Am={})).Ma="default",hv.Cache="cache";class yE{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new go(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class _E{constructor(e){this.key=e}}class vE{constructor(e){this.key=e}}class OR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=L1(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const O=l.get(A),Q=vh(this.query,S)?S:null,W=!!O&&this.mutatedKeys.has(O.key),re=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;O&&Q?O.data.isEqual(Q.data)?W!==re&&(a.track({type:3,doc:Q}),ee=!0):this.su(O,Q)||(a.track({type:2,doc:Q}),ee=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!O&&Q?(a.track({type:0,doc:Q}),ee=!0):O&&!Q&&(a.track({type:1,doc:O}),ee=!0,(_||y)&&(g=!0)),ee&&(Q?(d=d.add(Q),c=re?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Q,W){const re=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ee})}};return re(Q)-re(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new go(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new vE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new _E(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class VR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class kR{constructor(e){this.key=e,this.hu=!1}}class LR{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>k1(g)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(pe.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jR(s,e,i=!0){const a=wE(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await EE(a,e,i,!0),l}async function UR(s,e){const i=wE(s);await EE(i,e,!0,!1)}async function EE(s,e,i,a){const l=await sR(s.localStore,Fi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await PR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&uE(s.remoteStore,l),g}async function PR(s,e,i,a,l){s.pu=(S,O,Q)=>(async function(re,ee,fe,Ie){let Ee=ee.view.ru(fe);Ee.Cs&&(Ee=await iv(re.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,Ee))));const st=Ie&&Ie.targetChanges.get(ee.targetId),mt=Ie&&Ie.targetMismatches.get(ee.targetId)!=null,Ke=ee.view.applyChanges(Ee,re.isPrimaryClient,st,mt);return dv(re,ee.targetId,Ke.au),Ke.snapshot})(s,S,O,Q);const c=await iv(s.localStore,e,!0),d=new OR(e,c.Qs),g=d.ru(c.documents),_=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);dv(s,i,y.au);const A=new VR(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function zR(s,e,i){const a=Me(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),Sm(a,l.targetId)})).catch(bo)):(Sm(a,l.targetId),await bm(a.localStore,l.targetId,!0))}async function BR(s,e){const i=Me(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function qR(s,e,i){const a=XR(s);try{const l=await(function(d,g){const _=Me(d),y=Tt.now(),A=g.reduce(((Q,W)=>Q.add(W.key)),Qe());let S,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=Ts(),re=Qe();return _.Ns.getEntries(Q,A).next((ee=>{W=ee,W.forEach(((fe,Ie)=>{Ie.isValidDocument()||(re=re.add(fe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,W))).next((ee=>{S=ee;const fe=[];for(const Ie of g){const Ee=ix(Ie,S.get(Ie.key).overlayedDocument);Ee!=null&&fe.push(new Sr(Ie.key,Ee,R1(Ee.value.mapValue),ai.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,fe,g)})).next((ee=>{O=ee;const fe=ee.applyToLocalDocumentSet(S,re);return _.documentOverlayCache.saveOverlays(Q,ee.batchId,fe)}))})).then((()=>({batchId:O.batchId,changes:U1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Ct(Ge)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Wl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=np(l,"Failed to persist write");i.reject(c)}}async function bE(s,e){const i=Me(s);try{const a=await tR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(rt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?rt(d.hu,14607):l.removedDocuments.size>0&&(rt(d.hu,42227),d.hu=!1))})),await Wl(i,a,e)}catch(a){await bo(a)}}function fv(s,e,i){const a=Me(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Me(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,S)=>{for(const O of S.Sa)O.va(g)&&(y=!0)})),y&&ip(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function HR(s,e,i){const a=Me(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Ct(pe.comparator);d=d.insert(c,_n.newNoDocument(c,Ce.min()));const g=Qe().add(c),_=new Th(Ce.min(),new Map,new Ct(Ge),d,g);await bE(a,_),a.du=a.du.remove(c),a.Au.delete(e),rp(a)}else await bm(a.localStore,e,!1).then((()=>Sm(a,e,i))).catch(bo)}async function FR(s,e){const i=Me(s),a=e.batch.batchId;try{const l=await eR(i.localStore,e);AE(i,a,null),TE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wl(i,l)}catch(l){await bo(l)}}async function GR(s,e,i){const a=Me(s);try{const l=await(function(d,g){const _=Me(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(rt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,e);AE(a,e,i),TE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Wl(a,l)}catch(l){await bo(l)}}function TE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function AE(s,e,i){const a=Me(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Sm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||SE(s,a)}))}function SE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Zm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),rp(s))}function dv(s,e,i){for(const a of i)a instanceof _E?(s.Ru.addReference(a.key,e),QR(s,a)):a instanceof vE?(ue(sp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||SE(s,a.key)):Te(19791,{wu:a})}function QR(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ue(sp,"New document in limbo: "+i),s.Eu.add(a),rp(s))}function rp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(_t.fromString(e)),a=s.fu.next();s.Au.set(a,new kR(i)),s.du=s.du.insert(i,a),uE(s.remoteStore,new ur(Fi(yh(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Wl(s,e,i){const a=Me(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Xm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=Me(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(O=>Z.forEach(O.Es,(Q=>A.persistence.referenceDelegate.addReference(S,O.targetId,Q))).next((()=>Z.forEach(O.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,O.targetId,Q)))))))))}catch(S){if(!To(S))throw S;ue($m,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const Q=A.Ms.get(O),W=Q.snapshotVersion,re=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(O,re)}}})(a.localStore,c))}async function YR(s,e){const i=Me(s);if(!i.currentUser.isEqual(e)){ue(sp,"User change. New user:",e.toKey());const a=await rE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ae(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Wl(i,a.Ls)}}function KR(s,e){const i=Me(s),a=i.Au.get(e);if(a&&a.hu)return Qe().add(a.key);{let l=Qe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function wE(s){const e=Me(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=bE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HR.bind(null,e),e.Pu.H_=DR.bind(null,e.eventManager),e.Pu.yu=MR.bind(null,e.eventManager),e}function XR(s){const e=Me(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Wx(this.persistence,new $x,e.initialUser,this.serializer)}Cu(e){return new sE(Km.mi,this.serializer)}Du(e){return new aR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class $R extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){rt(this.persistence.referenceDelegate instanceof nh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new kx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new sE((a=>nh.mi(a,i)),this.serializer)}}class wm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>fv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=YR.bind(null,this.syncEngine),await CR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NR})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=(function(c){return new hR(c)})(e.databaseInfo);return(function(c,d,g,_){return new pR(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new yR(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>fv(this.syncEngine,i,0)),(function(){return av.v()?new av:new oR})())}createSyncEngine(e,i){return(function(l,c,d,g,_,y,A){const S=new LR(l,c,d,g,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Me(i);ue(oa,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class xE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const br="FirestoreClient";class ZR{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=yn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ue(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function $d(s,e){s.asyncQueue.verifyOperationInProgress(),ue(br,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await rE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function mv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await JR(s);ue(br,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>lv(e.remoteStore,l))),s._onlineComponents=e}async function JR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(br,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;co("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new sh)}}else ue(br,"Using default OfflineComponentProvider"),await $d(s,new $R(void 0));return s._offlineComponents}async function RE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(br,"Using user provided OnlineComponentProvider"),await mv(s,s._uninitializedComponentsProvider._online)):(ue(br,"Using default OnlineComponentProvider"),await mv(s,new wm))),s._onlineComponents}function WR(s){return RE(s).then((e=>e.syncEngine))}async function xm(s){const e=await RE(s),i=e.eventManager;return i.onListen=jR.bind(null,e.syncEngine),i.onUnlisten=zR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=UR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=BR.bind(null,e.syncEngine),i}function eC(s,e,i={}){const a=new mr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const A=new xE({next:O=>{A.Nu(),d.enqueueAndForget((()=>gE(c,S)));const Q=O.docs.has(g);!Q&&O.fromCache?y.reject(new ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&O.fromCache&&_&&_.source==="server"?y.reject(new ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new yE(yh(g.path),A,{includeMetadataChanges:!0,qa:!0});return pE(c,S)})(await xm(s),s.asyncQueue,e,i,a))),a.promise}function CE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const pv=new Map;const IE="firestore.googleapis.com",gv=!0;class yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IE,this.ssl=gv}else this.host=e.host,this.ssl=e.ssl??gv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ox)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ow;switch(a.type){case"firstParty":return new hw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=pv.get(i);a&&(ue("ComponentProvider","Removing Datastore"),pv.delete(i),a.terminate())})(this),Promise.resolve()}}function tC(s,e,i,a={}){s=ri(s,xh);const l=_o(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(e1(`https://${g}`),t1("Firestore",!0)),c.host!==IE&&c.host!==g&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!sa(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=yn.MOCK_USER;else{y=MS(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new yn(S)}s._authCredentials=new lw(new p1(y,A))}}class ha{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class Mt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Xl(i,Mt._jsonSchema))return new Mt(e,a||null,new pe(_t.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Kt("string",Mt._jsonSchemaVersion),referencePath:Kt("string")};class pr extends ha{constructor(e,i,a){super(e,i,yh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new pe(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function Rl(s,e,...i){if(s=tn(s),g1("collection","path",e),s instanceof xh){const a=_t.fromString(e,...i);return N_(a),new pr(s,null,a)}{if(!(s instanceof Mt||s instanceof pr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_t.fromString(e,...i));return N_(a),new pr(s.firestore,null,a)}}function rr(s,e,...i){if(s=tn(s),arguments.length===1&&(e=Lm.newId()),g1("doc","path",e),s instanceof xh){const a=_t.fromString(e,...i);return I_(a),new Mt(s,null,new pe(a))}{if(!(s instanceof Mt||s instanceof pr))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_t.fromString(e,...i));return I_(a),new Mt(s.firestore,s instanceof pr?s.converter:null,new pe(a))}}const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oE(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&ue(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ue(_v,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",Ev(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=tp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:Ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Ev(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function bv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Tr extends xh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new vv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function nC(s,e){const i=typeof s=="object"?s:r1(),a=typeof s=="string"?s:$c,l=Vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=NS("firestore");c&&tC(l,...c)}return l}function ap(s){if(s._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||iC(s),s._firestoreClient}function iC(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new Cw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,CE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new ZR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new si(hn.fromBase64String(e))}catch(i){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new si(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,si._jsonSchema))return si.fromBase64String(e.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Kt("string",si._jsonSchemaVersion),bytes:Kt("string")};class Rh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Kt("string",Qi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};class Yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yi(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Kt("string",Yi._jsonSchemaVersion),vectorValues:Kt("object")};const sC=/^__.*__$/;class rC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}class NE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function DE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class lp{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DE(this.Ac)&&sC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}Cc(e,i,a,l=!1){return new lp({Ac:e,methodName:i,Dc:a,path:cn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(s){const e=s._freezeSettings(),i=Ah(s._databaseId);return new aC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function ME(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);up("Data must be an object, but it was:",d,a);const g=OE(a,d);let _,y;if(c.merge)_=new Fn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const O=Rm(e,S,i);if(!d.contains(O))throw new ae(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);kE(A,O)||A.push(O)}_=new Fn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new rC(new Vn(g),_,y)}class Ih extends op{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function oC(s,e,i,a){const l=s.Cc(1,e,i);up("Data must be an object, but it was:",l,a);const c=[],d=Vn.empty();Ar(a,((_,y)=>{const A=cp(e,_,i);y=tn(y);const S=l.yc(A);if(y instanceof Ih)c.push(A);else{const O=eu(y,S);O!=null&&(c.push(A),d.set(A,O))}}));const g=new Fn(c);return new NE(d,g,l.fieldTransforms)}function lC(s,e,i,a,l,c){const d=s.Cc(1,e,i),g=[Rm(e,a,i)],_=[l];if(c.length%2!=0)throw new ae(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(Rm(e,c[O])),_.push(c[O+1]);const y=[],A=Vn.empty();for(let O=g.length-1;O>=0;--O)if(!kE(y,g[O])){const Q=g[O];let W=_[O];W=tn(W);const re=d.yc(Q);if(W instanceof Ih)y.push(Q);else{const ee=eu(W,re);ee!=null&&(y.push(Q),A.set(Q,ee))}}const S=new Fn(y);return new NE(A,S,d.fieldTransforms)}function uC(s,e,i,a=!1){return eu(i,s.Cc(a?4:3,e))}function eu(s,e){if(VE(s=tn(s)))return up("Unsupported field value:",e,s),OE(s,e);if(s instanceof op)return(function(a,l){if(!DE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=eu(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Zw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Tt.fromDate(a);return{timestampValue:th(l.serializer,c)}}if(a instanceof Tt){const c=new Tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:$1(l.serializer,a._byteString)};if(a instanceof Mt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,g){return{mapValue:{fields:{[w1]:{stringValue:x1},[Zc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return qm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${dh(a)}`)})(s,e)}function OE(s,e){const i={};return v1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(s,((a,l)=>{const c=eu(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function VE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Tt||s instanceof Qi||s instanceof si||s instanceof Mt||s instanceof op||s instanceof Yi)}function up(s,e,i){if(!VE(i)||!y1(i)){const a=dh(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Rm(s,e,i){if((e=tn(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return cp(s,e);throw rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const cC=new RegExp("[~\\*/\\[\\]]");function cp(s,e,i){if(e.search(cC)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Rh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ae(X.INVALID_ARGUMENT,g+s+_)}function kE(s,e){return s.some((i=>i.isEqual(e)))}class LE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Nh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class hC extends LE{data(){return super.data()}}function Nh(s,e){return typeof e=="string"?cp(s,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}function fC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class jE extends hp{}function Vc(s,e,...i){let a=[];e instanceof hp&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof fp)).length,g=c.filter((_=>_ instanceof Dh)).length;if(d>1||d>0&&g>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Dh extends jE{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Dh(e,i,a)}_apply(e){const i=this._parse(e);return UE(e._query,i),new ha(e.firestore,e.converter,pm(e._query,i))}_parse(e){const i=Ch(e.firestore);return(function(c,d,g,_,y,A,S){let O;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Sv(S,A);const W=[];for(const re of S)W.push(Av(_,c,re));O={arrayValue:{values:W}}}else O=Av(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Sv(S,A),O=uC(g,d,S,A==="in"||A==="not-in");return Yt.create(y,A,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function dC(s,e,i){const a=e,l=Nh("where",s);return Dh._create(l,a,i)}class fp extends hp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new fp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:bi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)UE(d,_),d=pm(d,_)})(e._query,i),new ha(e.firestore,e.converter,pm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dp extends jE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new dp(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(c,d)})(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ao(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Tv(s,e="asc"){const i=e,a=Nh("orderBy",s);return dp._create(a,i)}function Av(s,e,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V1(e)&&i.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(_t.fromString(i));if(!pe.isDocumentKey(a))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return U_(s,new pe(a))}if(i instanceof Mt)return U_(s,i._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function Sv(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UE(s,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class mC{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ar(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Zc].arrayValue?.values?.map((a=>jt(a.doubleValue)));return new Yi(i)}convertGeoPoint(e){return new Qi(jt(e.latitude),jt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=gh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const i=yr(e);return new Tt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=_t.fromString(e);rt(nE(a),9688,{name:e});const l=new Bl(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return l.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function PE(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends LE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Nh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Kt("string",na._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class qc extends na{data(e={}){return super.data(e)}}class ro{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:pC(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}function gC(s){s=ri(s,Mt);const e=ri(s.firestore,Tr);return eC(ap(e),s._key).then((i=>BE(e,s,i)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Kt("string",ro._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class zE extends mC{constructor(e){super(),this.firestore=e}convertBytes(e){return new si(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}function Zd(s,e,i){s=ri(s,Mt);const a=ri(s.firestore,Tr),l=PE(s.converter,e);return Mh(a,[ME(Ch(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ai.none())])}function yC(s,e,i,...a){s=ri(s,Mt);const l=ri(s.firestore,Tr),c=Ch(l);let d;return d=typeof(e=tn(e))=="string"||e instanceof Rh?lC(c,"updateDoc",s._key,e,i,a):oC(c,"updateDoc",s._key,e),Mh(l,[d.toMutation(s._key,ai.exists(!0))])}function Jd(s){return Mh(ri(s.firestore,Tr),[new Hm(s._key,ai.none())])}function _C(s,e){const i=ri(s.firestore,Tr),a=rr(s),l=PE(s.converter,e);return Mh(i,[ME(Ch(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,ai.exists(!1))]).then((()=>a))}function kc(s,...e){s=tn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||bv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Mt)d=ri(s.firestore,Tr),g=yh(s._key.path),c={next:_=>{e[a]&&e[a](BE(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=ri(s,ha);d=ri(_.firestore,Tr),g=_._query;const y=new zE(d);c={next:A=>{e[a]&&e[a](new ro(d,y,_,A))},error:e[a+1],complete:e[a+2]},fC(s._query)}return(function(y,A,S,O){const Q=new xE(O),W=new yE(A,Q,S);return y.asyncQueue.enqueueAndForget((async()=>pE(await xm(y),W))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>gE(await xm(y),W)))}})(ap(d),g,l,c)}function Mh(s,e){return(function(a,l){const c=new mr;return a.asyncQueue.enqueueAndForget((async()=>qR(await WR(a),l,c))),c.promise})(ap(s),e)}function BE(s,e,i){const a=i.docs.get(e._key),l=new zE(s);return new na(s,l,e._key,a,new Dl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Eo=l})(vo),uo(new ra("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Tr(new uw(a.getProvider("auth-internal")),new fw(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),fr(w_,x_,e),fr(w_,x_,"esm2020")})();function qE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vC=qE,HE=new Yl("auth","Firebase",qE());const ah=new Mm("@firebase/auth");function EC(s,...e){ah.logLevel<=Fe.WARN&&ah.warn(`Auth (${vo}): ${s}`,...e)}function Hc(s,...e){ah.logLevel<=Fe.ERROR&&ah.error(`Auth (${vo}): ${s}`,...e)}function $i(s,...e){throw pp(s,...e)}function Ei(s,...e){return pp(s,...e)}function mp(s,e,i){const a={...vC(),[e]:i};return new Yl("auth","Firebase",a).create(e,{appName:s.name})}function ia(s){return mp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bC(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&$i(s,"argument-error"),mp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pp(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return HE.create(s,...e)}function Se(s,e,...i){if(!s)throw pp(e,...i)}function _s(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function As(s,e){s||_s(e)}function Cm(){return typeof self<"u"&&self.location?.href||""}function TC(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function AC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TC()||US()||"connection"in navigator)?navigator.onLine:!0}function SC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,As(i>e,"Short delay should be less than long delay!"),this.isMobile=kS()||PS()}get(){return AC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gp(s,e){As(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class FE{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RC=new tu(3e4,6e4);function yp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function wo(s,e,i,a,l={}){return GE(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Kl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return jS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(y.credentials="include"),FE.fetch()(await QE(s,s.config.apiHost,i,g),y)})}async function GE(s,e,i){s._canInitEmulator=!1;const a={...wC,...e};try{const l=new IC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Lc(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw mp(s,A,y);$i(s,A)}}catch(l){if(l instanceof Ss)throw l;$i(s,"network-request-failed",{message:String(l)})}}async function CC(s,e,i,a,l={}){const c=await wo(s,e,i,a,l);return"mfaPendingCredential"in c&&$i(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function QE(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?gp(s.config,l):`${s.config.apiScheme}://${l}`;return xC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class IC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),RC.get())})}}function Lc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ei(s,e,a);return l.customData._tokenResponse=i,l}async function NC(s,e){return wo(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return wo(s,"POST","/v1/accounts:lookup",e)}function jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DC(s,e=!1){const i=tn(s),a=await i.getIdToken(e),l=_p(a);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:jl(Wd(l.auth_time)),issuedAtTime:jl(Wd(l.iat)),expirationTime:jl(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function _p(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=$v(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function xv(s){const e=_p(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ss&&MC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function MC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class OC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Im{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,i=await s.getIdToken(),a=await Ql(s,oh(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?YE(l.providerUserInfo):[],d=kC(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Im(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function VC(s){const e=tn(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kC(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function YE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LC(s,e){const i=await GE(s,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await QE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(_.credentials="include"),FE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jC(s,e){return wo(s,"POST","/v2/accounts:revokeToken",yp(s,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=xv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await LC(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ao;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return _s("not implemented")}}function sr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new OC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return DC(this,e)}reload(){return VC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Ql(this,NC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:Q,providerData:W,stsTokenManager:re}=i;Se(S&&re,e,"internal-error");const ee=ao.fromJSON(this.name,re);Se(typeof S=="string",e,"internal-error"),sr(a,e.name),sr(l,e.name),Se(typeof O=="boolean",e,"internal-error"),Se(typeof Q=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(g,e.name),sr(_,e.name),sr(y,e.name),sr(A,e.name);const fe=new vi({uid:S,auth:e,email:l,emailVerified:O,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(fe.providerData=W.map(Ie=>({...Ie}))),_&&(fe._redirectEventId=_),fe}static async _fromIdTokenResponse(e,i,a=!1){const l=new ao;l.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await lh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?YE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ao;g.updateFromIdToken(a);const _=new vi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Rv=new Map;function vs(s){As(s instanceof Function,"Expected a class definition");let e=Rv.get(s);return e?(As(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Rv.set(s,e),e)}class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}KE.type="NONE";const Cv=KE;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class oo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await oh(this.auth,{idToken:e}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new oo(vs(Cv),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||vs(Cv);const d=Fc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const O=await oh(e,{idToken:A}).catch(()=>{});if(!O)break;S=await vi._fromGetAccountInfoResponse(e,O,A)}else S=vi._fromJSON(e,A);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new oo(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new oo(c,e,a))}}function Iv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eb(e))return"Blackberry";if(tb(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||ZE(e))&&!e.includes("edge/"))return"Chrome";if(WE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function XE(s=vn()){return/firefox\//i.test(s)}function $E(s=vn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZE(s=vn()){return/crios\//i.test(s)}function JE(s=vn()){return/iemobile/i.test(s)}function WE(s=vn()){return/android/i.test(s)}function eb(s=vn()){return/blackberry/i.test(s)}function tb(s=vn()){return/webos/i.test(s)}function vp(s=vn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function UC(s=vn()){return vp(s)&&!!window.navigator?.standalone}function PC(){return zS()&&document.documentMode===10}function nb(s=vn()){return vp(s)||WE(s)||tb(s)||eb(s)||/windows phone/i.test(s)||JE(s)}function ib(s,e=[]){let i;switch(s){case"Browser":i=Iv(vn());break;case"Worker":i=`${Iv(vn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${a}`}class zC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function BC(s,e={}){return wo(s,"GET","/v2/passwordPolicy",yp(s,e))}const qC=6;class HC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class FC{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new zC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await oh(this,{idToken:e}),a=await vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_i(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(ia(this));const i=e?tn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BC(this),i=new HC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await jC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&vs(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oh(s){return tn(s)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=KS(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GC(s){Ep=s}function QC(s){return Ep.loadJS(s)}function YC(){return Ep.gapiScript}function KC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function XC(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(sa(c,e??{}))return l;$i(l,"already-initialized")}return i.initialize({options:e})}function $C(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function ZC(s,e,i){const a=Oh(s);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=sb(e),{host:d,port:g}=JC(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(sa(y,a.config.emulator)&&sa(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,_o(d)?(e1(`${c}//${d}${_}`),t1("Auth",!0)):WC()}function sb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function JC(s){const e=sb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Dv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Dv(d)}}}function Dv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function WC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,i){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function lo(s,e){return CC(s,"POST","/v1/accounts:signInWithIdp",yp(s,e))}const eI="http://localhost";class la extends rb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):$i("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new la(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return lo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,lo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,lo(e,i)}buildRequest(){const e={requestUri:eI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Kl(i)}return e}}class bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends nu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class ys extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ys.credential(i,a)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";class or extends nu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class lr extends nu{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await vi._fromIdTokenResponse(e,a,l),d=Mv(a);return new yo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=Mv(a);return new yo({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function Mv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends Ss{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new uh(e,i,a,l)}}function ab(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,a):c})}async function tI(s,e,i=!1){const a=await Ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return yo._forOperation(s,"link",a)}async function nI(s,e,i=!1){const{auth:a}=s;if(_i(a.app))return Promise.reject(ia(a));const l="reauthenticate";try{const c=await Ql(s,ab(a,l,e,s),i);Se(c.idToken,a,"internal-error");const d=_p(c.idToken);Se(d,a,"internal-error");const{sub:g}=d;return Se(s.uid===g,a,"user-mismatch"),yo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&$i(a,"user-mismatch"),c}}async function iI(s,e,i=!1){if(_i(s.app))return Promise.reject(ia(s));const a="signIn",l=await ab(s,a,e),c=await yo._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function sI(s,e,i,a){return tn(s).onIdTokenChanged(e,i,a)}function rI(s,e,i){return tn(s).beforeAuthStateChanged(e,i)}function aI(s,e,i,a){return tn(s).onAuthStateChanged(e,i,a)}function oI(s){return tn(s).signOut()}const ch="__sak";class ob{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lI=1e3,uI=10;class lb extends ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);PC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,uI):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}lb.type="LOCAL";const cI=lb;class ub extends ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ub.type="SESSION";const cb=ub;function hI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await hI(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function Tp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class fI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Tp("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ki(){return window}function dI(s){Ki().location.href=s}function hb(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function mI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pI(){return navigator?.serviceWorker?.controller||null}function gI(){return hb()?self:null}const fb="firebaseLocalStorageDb",yI=1,hh="firebaseLocalStorage",db="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function _I(){const s=indexedDB.deleteDatabase(fb);return new iu(s).toPromise()}function Nm(){const s=indexedDB.open(fb,yI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(hh,{keyPath:db})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(hh)?e(a):(a.close(),await _I(),e(await Nm()))})})}async function Ov(s,e,i){const a=kh(s,!0).put({[db]:e,value:i});return new iu(a).toPromise()}async function vI(s,e){const i=kh(s,!1).get(e),a=await new iu(i).toPromise();return a===void 0?null:a.value}function Vv(s,e){const i=kh(s,!0).delete(e);return new iu(i).toPromise()}const EI=800,bI=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>bI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(gI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mI(),!this.activeServiceWorker)return;this.sender=new fI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await Ov(e,ch,"1"),await Vv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Ov(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>vI(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=kh(l,!1).getAll();return new iu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const TI=mb;new tu(3e4,6e4);function pb(s,e){return e?vs(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ap extends rb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return lo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function AI(s){return iI(s.auth,new Ap(s),s.bypassAuthState)}function SI(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),nI(i,new Ap(s),s.bypassAuthState)}async function wI(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),tI(i,new Ap(s),s.bypassAuthState)}class gb{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AI;case"linkViaPopup":case"linkViaRedirect":return wI;case"reauthViaPopup":case"reauthViaRedirect":return SI;default:$i(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xI=new tu(2e3,1e4);async function RI(s,e,i){if(_i(s.app))return Promise.reject(Ei(s,"operation-not-supported-in-this-environment"));const a=Oh(s);bC(s,e,bp);const l=pb(a,i);return new ta(a,"signInViaPopup",e,l).executeNotNull()}class ta extends gb{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xI.get())};e()}}ta.currentPopupAction=null;const CI="pendingRedirect",Gc=new Map;class II extends gb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await NI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NI(s,e){const i=OI(e),a=MI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function DI(s,e){Gc.set(s._key(),e)}function MI(s){return vs(s._redirectPersistence)}function OI(s){return Fc(CI,s.config.apiKey,s.name)}async function VI(s,e,i=!1){if(_i(s.app))return Promise.reject(ia(s));const a=Oh(s),l=pb(a,e),d=await new II(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const kI=600*1e3;class LI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!yb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kI&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function yb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function jI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yb(s);default:return!1}}async function UI(s,e={}){return wo(s,"GET","/v1/projects",e)}const PI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zI=/^https?/;async function BI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await UI(s);for(const i of e)try{if(qI(i))return}catch{}$i(s,"unauthorized-domain")}function qI(s){const e=Cm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zI.test(i))return!1;if(PI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const HI=new tu(3e4,6e4);function Lv(){const s=Ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function FI(s){return new Promise((e,i)=>{function a(){Lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lv(),i(Ei(s,"network-request-failed"))},timeout:HI.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)a();else{const l=KC("iframefcb");return Ki()[l]=()=>{gapi.load?a():i(Ei(s,"network-request-failed"))},QC(`${YC()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function GI(s){return Qc=Qc||FI(s),Qc}const QI=new tu(5e3,15e3),YI="__/auth/iframe",KI="emulator/auth/iframe",XI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZI(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?gp(e,KI):`https://${s.config.authDomain}/${YI}`,a={apiKey:e.apiKey,appName:s.name,v:vo},l=$I.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function JI(s){const e=await GI(s),i=Ki().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:ZI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(s,"network-request-failed"),g=Ki().setTimeout(()=>{c(d)},QI.get());function _(){Ki().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const WI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eN=500,tN=600,nN="_blank",iN="http://localhost";class jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sN(s,e,i,a=eN,l=tN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...WI,width:a.toString(),height:l.toString(),top:c,left:d},y=vn().toLowerCase();i&&(g=ZE(y)?nN:i),XE(y)&&(e=e||iN,_.scrollbars="yes");const A=Object.entries(_).reduce((O,[Q,W])=>`${O}${Q}=${W},`,"");if(UC(y)&&g!=="_self")return rN(e||"",g),new jv(null);const S=window.open(e||"",g,A);Se(S,s,"popup-blocked");try{S.focus()}catch{}return new jv(S)}function rN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const aN="__/auth/handler",oN="emulator/auth/handler",lN=encodeURIComponent("fac");async function Uv(s,e,i,a,l,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:vo,eventId:l};if(e instanceof bp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",YS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof nu){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await s._getAppCheckToken(),y=_?`#${lN}=${encodeURIComponent(_)}`:"";return`${uN(s)}?${Kl(g).slice(1)}${y}`}function uN({config:s}){return s.emulator?gp(s,oN):`https://${s.authDomain}/${aN}`}const em="webStorageSupport";class cN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=VI,this._overrideRedirectResult=DI}async _openPopup(e,i,a,l){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Uv(e,i,a,Cm(),l);return sN(e,c,Tp())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await Uv(e,i,a,Cm(),l);return dI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(As(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await JI(e),a=new LI(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=BI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return nb()||$E()||vp()}}const hN=cN;var Pv="@firebase/auth",zv="1.11.1";class fN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mN(s){uo(new ra("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ib(s)},y=new FC(a,l,c,_);return $C(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),uo(new ra("auth-internal",e=>{const i=Oh(e.getProvider("auth").getImmediate());return(a=>new fN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(Pv,zv,dN(s)),fr(Pv,zv,"esm2020")}const pN=300,gN=Wv("authIdTokenMaxAge")||pN;let Bv=null;const yN=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>gN)return;const l=i?.token;Bv!==l&&(Bv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function _N(s=r1()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=XC(s,{popupRedirectResolver:hN,persistence:[TI,cI,cb]}),a=Wv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=yN(c.toString());rI(i,d,()=>d(i.currentUser)),sI(i,g=>d(g))}}const l=Zv("auth");return l&&ZC(i,`http://${l}`),i}function vN(){return document.getElementsByTagName("head")?.[0]??document}GC({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Ei("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",vN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mN("Browser");const EN={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},_b=s1(EN),ii=nC(_b),tm=_N(_b),bN=new ys;class su{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const TN=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},un={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:TN()},Sp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},AN=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Sp(s);un.publicKey=i.publicKey,un.blockHeadless=i.blockHeadless,un.storageProvider=i.storageProvider,un.blockList=i.blockList,un.limitRate=i.limitRate,un.origin=i.origin||e},vb=async(s,e,i={})=>{const a=await fetch(un.origin+s,{method:"POST",headers:i,body:e}),l=await a.text(),c=new su(a.status,l);if(a.ok)return c;throw c},Eb=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},SN=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},bb=s=>s.webdriver||!s.languages||s.languages.length===0,Tb=()=>new su(451,"Unavailable For Headless Browser"),wN=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},xN=s=>!s.list?.length||!s.watchVariable,RN=(s,e)=>s instanceof FormData?s.get(e):s[e],Ab=(s,e)=>{if(xN(s))return!1;wN(s.list,s.watchVariable);const i=RN(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},Sb=()=>new su(403,"Forbidden"),CN=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},IN=async(s,e,i)=>{const a=Number(await i.get(s)||0);return e-Date.now()+a},wb=async(s,e,i)=>{if(!e.throttle||!i)return!1;CN(e.throttle,e.id);const a=e.id||s;return await IN(a,e.throttle,i)>0?!0:(await i.set(a,Date.now().toString()),!1)},xb=()=>new su(429,"Too Many Requests"),NN=async(s,e,i,a)=>{const l=Sp(a),c=l.publicKey||un.publicKey,d=l.blockHeadless||un.blockHeadless,g=l.storageProvider||un.storageProvider,_={...un.blockList,...l.blockList},y={...un.limitRate,...l.limitRate};return d&&bb(navigator)?Promise.reject(Tb()):(Eb(c,s,e),SN(i),i&&Ab(_,i)?Promise.reject(Sb()):await wb(location.pathname,y,g)?Promise.reject(xb()):vb("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},DN=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},MN=s=>typeof s=="string"?document.querySelector(s):s,ON=async(s,e,i,a)=>{const l=Sp(a),c=l.publicKey||un.publicKey,d=l.blockHeadless||un.blockHeadless,g=un.storageProvider||l.storageProvider,_={...un.blockList,...l.blockList},y={...un.limitRate,...l.limitRate};if(d&&bb(navigator))return Promise.reject(Tb());const A=MN(i);Eb(c,s,e),DN(A);const S=new FormData(A);return Ab(_,S)?Promise.reject(Sb()):await wb(location.pathname,y,g)?Promise.reject(xb()):(S.append("lib_version","4.4.1"),S.append("service_id",s),S.append("template_id",e),S.append("user_id",c),vb("/api/v1.0/email/send-form",S))},VN={init:AN,send:NN,sendForm:ON,EmailJSResponseStatus:su},qv="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",nm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Hv=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],im={"Cinema Camera Kit":{count:1,category:"film",requiresTraining:!0},"Gimbal / Stabilizer":{count:6,category:"film",requiresTraining:!0},"DJI Mic Kit (Wireless)":{count:4,category:"film",requiresTraining:!1},"DJI Flip Drone":{count:1,category:"film",requiresTraining:!0},"Lighting Kit":{count:6,category:"film",requiresTraining:!1},Tripod:{count:8,category:"general",requiresTraining:!1},"DSLR Camera Body":{count:6,category:"photo",requiresTraining:!0},"Zoom Lens (18-55mm)":{count:6,category:"photo",requiresTraining:!1},"Telephoto Lens (70-200mm)":{count:2,category:"photo",requiresTraining:!1},"Portrait Lens (50mm)":{count:3,category:"photo",requiresTraining:!1},"SD Card Reader":{count:5,category:"photo",requiresTraining:!1},"Flash Unit":{count:3,category:"photo",requiresTraining:!1},"Serving Trays":{count:10,category:"culinary",requiresTraining:!1},"Chafing Dishes":{count:4,category:"culinary",requiresTraining:!1}},we={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory",FEEDBACK:"feedback",GAME:"game"},Fv=s=>`salpointe_draft_${s}`,Gv=s=>{VN.send(nm.SERVICE_ID,nm.TEMPLATE_ID,s,nm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},Qv=s=>{if(!s||!s.toDate)return"N/A";try{return s.toDate().toLocaleDateString()}catch{return"Invalid Date"}},kN=()=>{const[s,e]=xe.useState("landing"),[i,a]=xe.useState(!1),[l,c]=xe.useState(null),[d,g]=xe.useState(!1),[_,y]=xe.useState(im),[A,S]=xe.useState([]),[O,Q]=xe.useState(0);xe.useEffect(()=>{const w=aI(tm,B=>{B?(c(B),g(Hv.includes(B.email))):(c(null),g(!1))});return()=>w()},[]),xe.useEffect(()=>{(async()=>{const J=rr(ii,"settings","inventory_v2"),oe=await gC(J);oe.exists()?y(oe.data()):(await Zd(J,im),y(im))})();const B=Vc(Rl(ii,"blackout_dates")),Y=kc(B,J=>{const oe=J.docs.map(le=>le.id);S(oe)});return()=>Y()},[]);const W=async()=>{try{await RI(tm,bN),e(we.DASHBOARD)}catch(w){console.error("Login failed:",w),alert("Login failed.")}},re=async()=>{await oI(tm),e("landing")},ee=()=>{e("landing"),a(!1)},fe=()=>{e(we.DASHBOARD),a(!1)},Ie=()=>{const w=O+1;Q(w),w===7&&(e(we.GAME),Q(0))},Ee=[we.FILM,we.GRAPHIC,we.BUSINESS,we.CULINARY,we.PHOTO].includes(s);return E.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30 flex flex-col",children:[E.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),E.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),E.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[E.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:ee,children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),E.jsx("img",{src:qv,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),E.jsxs("div",{children:[E.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",E.jsx("span",{className:"text-red-500",children:"CTE"})]}),E.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),E.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!Ee&&s!=="landing"&&s!=="dashboard"&&E.jsxs("button",{onClick:fe,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[E.jsx(vA,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s!=="landing"&&E.jsxs("button",{onClick:()=>{e(we.CALENDAR),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===we.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[E.jsx(i_,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),l?E.jsxs(E.Fragment,{children:[s!=="landing"&&E.jsxs("button",{onClick:()=>{e(we.MY_REQUESTS),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===we.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[E.jsx(o_,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&s!=="landing"&&E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:()=>{e(we.QUEUE),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===we.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[E.jsx(a_,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),E.jsxs("button",{onClick:()=>{e(we.ANALYTICS),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===we.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[E.jsx(r_,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),E.jsxs("button",{onClick:()=>{e(we.INVENTORY),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===we.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[E.jsx(aS,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),E.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),E.jsx("button",{onClick:re,className:"ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all flex items-center gap-2",title:`Logged in as ${l.email}`,children:E.jsx(ZA,{size:16})})]}):E.jsxs("button",{onClick:W,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[E.jsx(l_,{size:16})," Login"]})]})]})}),E.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10 flex-grow w-full",children:i?E.jsx(mt,{onReset:fe}):E.jsxs(E.Fragment,{children:[s===we.LANDING&&E.jsx(st,{currentUser:l,onLogin:W,onEnter:fe}),s===we.DASHBOARD&&E.jsx(Ke,{onViewChange:e,currentUser:l}),s===we.FILM&&E.jsx(R,{setSubmitted:a,onCancel:fe,currentUser:l,inventory:_,blackouts:A}),s===we.GRAPHIC&&E.jsx(yt,{setSubmitted:a,onCancel:fe,currentUser:l}),s===we.BUSINESS&&E.jsx(Ot,{setSubmitted:a,onCancel:fe,currentUser:l}),s===we.CULINARY&&E.jsx(F,{setSubmitted:a,onCancel:fe,currentUser:l}),s===we.PHOTO&&E.jsx(ie,{setSubmitted:a,onCancel:fe,currentUser:l,inventory:_,blackouts:A}),s===we.CALENDAR&&E.jsx(I,{adminMode:d,blackouts:A}),s===we.QUEUE&&E.jsx(V,{adminMode:d,setAdminMode:g,ALLOWED_ADMINS:Hv}),s===we.MY_REQUESTS&&E.jsx(x,{currentUser:l}),s===we.ANALYTICS&&d&&E.jsx(L,{}),s===we.INVENTORY&&d&&E.jsx(M,{inventory:_,setInventory:y}),s===we.FEEDBACK&&E.jsx(de,{currentUser:l,adminMode:d,setSubmitted:a,onCancel:fe}),s===we.GAME&&E.jsx(tt,{onExit:fe})]})}),E.jsx("footer",{className:"text-center py-8 px-4 border-t border-slate-800/50 mt-auto relative z-10 bg-slate-900/50",children:E.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-60 hover:opacity-100 transition-opacity duration-500",children:[E.jsx("img",{src:qv,alt:"Salpointe Catholic High School",className:"w-8 h-8 opacity-80 grayscale hover:grayscale-0 transition-all"}),E.jsxs("p",{onClick:Ie,className:"text-slate-500 text-xs font-mono tracking-widest uppercase cursor-default select-none",children:[" ",new Date().getFullYear()," Salpointe Catholic High School ",E.jsx("span",{className:"text-slate-700 mx-2",children:"|"})," CTE Department"]}),E.jsxs("button",{onClick:()=>e(we.FEEDBACK),className:"text-xs text-cyan-600 hover:text-cyan-400 flex items-center gap-1 transition-colors mt-2",children:[E.jsx(u_,{size:12})," Feedback & Support"]})]})})]});function st({currentUser:w,onLogin:B,onEnter:Y}){return E.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[E.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[E.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),E.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["Master the Tools. ",E.jsx("br",{}),E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Create Without Limits."})]}),E.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Your direct link to the CTE professional inventory. Secure the assets you need to build your portfoliofrom cinema cameras to culinary prep. If you can dream it, you can reserve it."}),E.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:w?E.jsxs("button",{onClick:Y,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),E.jsx(bS,{size:24,className:"fill-white"})," Initialize Hub"]}):E.jsxs("button",{onClick:B,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[E.jsx(l_,{size:24})," Login to Access"]})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[E.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[E.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:E.jsx(GA,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),E.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[E.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:E.jsx(PA,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),E.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[E.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:E.jsx(lS,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function mt({onReset:w}){return E.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[E.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:E.jsx(LA,{size:40})}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),E.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),E.jsx("button",{onClick:w,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function Ke({onViewChange:w,currentUser:B}){const[Y,J]=xe.useState({});xe.useEffect(()=>{(()=>{const ge={},Ae={[we.FILM]:"Film",[we.GRAPHIC]:"Graphic",[we.BUSINESS]:"Business",[we.CULINARY]:"Culinary",[we.PHOTO]:"Photo"};Object.keys(Ae).forEach(Ve=>{const Be=Fv(Ae[Ve]);localStorage.getItem(Be)&&(ge[Ve]=!0)}),J(ge)})()},[]);const oe=[{id:we.FILM,title:"Film & TV",icon:f_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:we.GRAPHIC,title:"Graphic Design",icon:c_,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:we.BUSINESS,title:"Business",icon:Pd,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:we.CULINARY,title:"Culinary Arts",icon:h_,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:we.PHOTO,title:"Photography",icon:s_,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"col-span-full mb-4",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:B?`Welcome, ${B.displayName.split(" ")[0]}.`:"Access Granted."}),E.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),oe.map(le=>E.jsxs("div",{onClick:()=>w(le.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${le.bg}`,children:[Y[le.id]&&E.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[E.jsx(Cc,{size:12})," RESUME"]}),E.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${le.color} transition-transform group-hover:scale-110 duration-300`,children:E.jsx(le.icon,{size:28})}),E.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:le.title}),E.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:le.desc})]},le.id))]})}function N({initialData:w={},currentUser:B}){const Y=B?.displayName||w.fullName||"",J=B?.email||w.email||"";return E.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[E.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[E.jsx(gS,{size:18})," Identity Verification"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),E.jsx("input",{name:"requestName",type:"text",defaultValue:w.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),E.jsx("input",{name:"fullName",type:"text",defaultValue:Y,readOnly:!!B,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${B?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),E.jsx("input",{name:"email",type:"email",defaultValue:J,readOnly:!!B,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${B?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),E.jsxs("select",{name:"role",defaultValue:w.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[E.jsx("option",{children:"Student"}),E.jsx("option",{children:"Faculty / Staff"}),E.jsx("option",{children:"Club Representative"})]})]})]})]})}function x({currentUser:w}){const[B,Y]=xe.useState([]),[J,oe]=xe.useState(!0);xe.useEffect(()=>{if(!w)return;const Ae=Vc(Rl(ii,"requests"),dC("email","==",w.email),Tv("createdAt","desc")),Ve=kc(Ae,Be=>{const Re=Be.docs.map(Je=>({id:Je.id,...Je.data(),formattedDate:Qv(Je.data().createdAt)}));Y(Re),oe(!1)});return()=>Ve()},[w]);const le=async Ae=>{window.confirm("Are you sure?")&&await Jd(rr(ii,"requests",Ae))},ge=Ae=>{const Ve={Approved:"bg-green-950/50 text-green-400 border-green-500/30",Denied:"bg-red-950/50 text-red-400 border-red-500/30",Completed:"bg-slate-800 text-slate-400 border-slate-700",default:"bg-amber-950/50 text-amber-400 border-amber-500/30"};return E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${Ve[Ae]||Ve.default}`,children:Ae})};return E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[E.jsx("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6",children:E.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[E.jsx(o_,{className:"text-cyan-400"})," My Request History"]})}),E.jsx("div",{className:"overflow-x-auto",children:J?E.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"LOADING DATA..."}):B.length===0?E.jsx("div",{className:"p-12 text-center text-slate-500",children:"No records found."}):E.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-800/50 border-b border-slate-700 text-xs uppercase text-slate-400 font-mono",children:[E.jsx("th",{className:"p-4",children:"Ref ID"}),E.jsx("th",{className:"p-4",children:"Dept"}),E.jsx("th",{className:"p-4",children:"Project"}),E.jsx("th",{className:"p-4",children:"Date Submitted"}),E.jsx("th",{className:"p-4",children:"Status"}),E.jsx("th",{className:"p-4",children:"Action"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-800",children:B.map(Ae=>E.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[E.jsx("td",{className:"p-4 text-cyan-400 font-mono text-xs",children:Ae.displayId}),E.jsx("td",{className:"p-4 text-slate-300 text-sm capitalize",children:Ae.dept}),E.jsx("td",{className:"p-4 font-semibold text-white text-sm",children:Ae.title}),E.jsx("td",{className:"p-4 text-slate-400 text-sm font-mono",children:Ae.formattedDate}),E.jsx("td",{className:"p-4",children:ge(Ae.status)}),E.jsx("td",{className:"p-4",children:Ae.status==="Pending Review"&&E.jsx("button",{onClick:()=>le(Ae.id),className:"text-xs text-red-400 border border-red-900 hover:bg-red-950/50 px-3 py-1 rounded transition-colors",children:"Cancel"})})]},Ae.id))})]})})]})}function I({adminMode:w,blackouts:B}){const[Y,J]=xe.useState(new Date),[oe,le]=xe.useState(null),[ge,Ae]=xe.useState("all"),[Ve,Be]=xe.useState([]),[Re,Je]=xe.useState(!0),pt=()=>J(new Date(Y.setMonth(Y.getMonth()+1))),ut=()=>J(new Date(Y.setMonth(Y.getMonth()-1)));xe.useEffect(()=>{const ne=Vc(Rl(ii,"requests")),Ne=kc(ne,wt=>{const fn=wt.docs.map(dn=>{const xt=dn.data();let Zi=xt.eventDate||xt.checkoutDate||xt.pickupDate||xt.deadline;if(!Zi)return null;const[ws,bn,vt]=Zi.split("-").map(Number),mn=new Date(ws,bn-1,vt);return{id:dn.id,title:xt.title||xt.requestName||"Request",displayId:xt.displayId,dept:xt.dept,type:xt.requestType==="checkout"||xt.dept==="Graphic"?"checkout":"event",status:xt.status,date:mn,...xt}}).filter(dn=>dn!==null&&dn.status==="Approved");Be(fn),Je(!1)});return()=>Ne()},[]);const En=async ne=>{const wt=new Date(Y.getFullYear(),Y.getMonth(),ne).toISOString().split("T")[0];if(w){B.includes(wt)?window.confirm(`Re-open ${wt}?`)&&await Jd(rr(ii,"blackout_dates",wt)):window.confirm(`Blackout ${wt}?`)&&await Zd(rr(ii,"blackout_dates",wt),{reason:"Closed"});return}le(oe===ne?null:ne)},It=ne=>{const Ne=ne.getFullYear(),wt=ne.getMonth(),fn=new Date(Ne,wt+1,0).getDate(),dn=new Date(Ne,wt,1).getDay();return{days:fn,firstDay:dn,monthName:ne.toLocaleString("default",{month:"long"}),year:Ne}},{days:Sn,firstDay:wn,monthName:se,year:be}=It(Y),Xe=Array.from({length:Sn},(ne,Ne)=>Ne+1),ye=Array.from({length:wn},(ne,Ne)=>Ne),Oe=ne=>Ve.filter(Ne=>Ne.date.getDate()===ne&&Ne.date.getMonth()===Y.getMonth()&&Ne.date.getFullYear()===Y.getFullYear()&&(ge==="all"||Ne.dept===ge)),_e=ne=>{const Ne="https://calendar.google.com/calendar/render?action=TEMPLATE",wt=`&text=${encodeURIComponent(`[${ne.dept}] ${ne.title}`)}`,fn=`&details=${encodeURIComponent(`Ref: ${ne.displayId}
Requested by: ${ne.fullName}
Role: ${ne.role}
Details: ${ne.details||ne.brief||ne.description||"N/A"}`)}`,dn=`&location=${encodeURIComponent(ne.location||"Salpointe Catholic High School")}`,xt=ne.date.getFullYear(),Zi=String(ne.date.getMonth()+1).padStart(2,"0"),ws=String(ne.date.getDate()).padStart(2,"0"),bn=`${xt}${Zi}${ws}`,vt=new Date(ne.date);vt.setDate(vt.getDate()+1);const mn=vt.getFullYear(),Rt=String(vt.getMonth()+1).padStart(2,"0"),fa=String(vt.getDate()).padStart(2,"0"),xs=`${mn}${Rt}${fa}`,da=`&dates=${bn}/${xs}`;return`${Ne}${wt}${da}${fn}${dn}`};return E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[E.jsxs("div",{className:"bg-slate-950/50 p-6 border-b border-slate-800 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsx("div",{children:E.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[E.jsx("button",{onClick:ut,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:E.jsx(VA,{size:24})}),E.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[se," ",E.jsx("span",{className:"text-slate-500",children:be})]}),E.jsx("button",{onClick:pt,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:E.jsx(MA,{size:24})})]})}),E.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",we.FILM,we.PHOTO,we.CULINARY].map(ne=>E.jsx("button",{onClick:()=>Ae(ne),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${ge===ne?"bg-cyan-600 text-white shadow-[0_0_10px_rgba(8,145,178,0.4)]":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:ne==="all"?"All":ne},ne))})]}),E.jsxs("div",{className:"p-6",children:[w&&E.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 border border-slate-700 rounded text-xs text-slate-400 flex items-center gap-2 font-mono",children:[E.jsx(n_,{size:14,className:"text-red-400"})," Admin Mode: Click a date to toggle blackout."]}),E.jsx("div",{className:"overflow-x-auto pb-2",children:Re?E.jsx("div",{className:"text-center py-8 text-slate-500 font-mono",children:"LOADING MATRIX..."}):E.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-800 border border-slate-800 rounded-xl overflow-hidden shadow-inner",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ne=>E.jsx("div",{className:"bg-slate-900 p-2 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:ne},ne)),ye.map(ne=>E.jsx("div",{className:"bg-slate-950/50 min-h-[80px] md:min-h-[100px]"},`empty-${ne}`)),Xe.map(ne=>{const Ne=Oe(ne),wt=ne===new Date().getDate()&&Y.getMonth()===new Date().getMonth()&&Y.getFullYear()===new Date().getFullYear(),fn=new Date(be,Y.getMonth(),ne).toISOString().split("T")[0],dn=B.includes(fn);return E.jsxs("div",{className:`min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-800 relative group cursor-pointer transition-colors ${dn?"bg-slate-900/30":"bg-slate-950/50"} ${oe===ne?"bg-cyan-900/20 border-cyan-500/30":"hover:bg-slate-900"}`,onClick:()=>En(ne),children:[E.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${wt?"bg-red-600 text-white shadow-[0_0_10px_rgba(220,38,38,0.5)]":"text-slate-400"}`,children:ne}),dn?E.jsx("div",{className:"flex justify-center mt-2",children:E.jsx(n_,{className:"text-red-900/50",size:20})}):E.jsx("div",{className:"space-y-1",children:Ne.map(xt=>E.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${xt.type==="checkout"?"bg-cyan-950/50 text-cyan-400 border-cyan-800/50":"bg-emerald-950/50 text-emerald-400 border-emerald-800/50"}`,children:xt.title},xt.id))})]},ne)})]})}),oe&&!B.includes(new Date(be,Y.getMonth(),oe).toISOString().split("T")[0])&&E.jsxs("div",{className:"mt-6 p-4 bg-slate-900/50 rounded-xl border border-slate-800 animate-fade-in",children:[E.jsxs("h4",{className:"font-bold text-white mb-3 flex items-center gap-2",children:[E.jsx(i_,{size:16,className:"text-cyan-400"})," ",se," ",oe]}),Oe(oe).length===0?E.jsx("p",{className:"text-slate-500 text-sm",children:"Sector clear. No events."}):E.jsx("div",{className:"space-y-3",children:Oe(oe).map(ne=>E.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded-lg border border-slate-700 shadow-sm",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-slate-200 text-sm",children:ne.title}),E.jsxs("p",{className:"text-xs text-slate-400 uppercase",children:[ne.dept,"  ",ne.fullName]})]}),E.jsx("a",{href:_e(ne),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white transition-colors",children:E.jsx(wA,{size:16})})]},ne.id))})]})]})]})}function V({adminMode:w,setAdminMode:B,ALLOWED_ADMINS:Y}){const[J,oe]=xe.useState([]),[le,ge]=xe.useState("all"),[Ae,Ve]=xe.useState(!0),[Be,Re]=xe.useState(null),[Je,pt]=xe.useState("");xe.useEffect(()=>{const se=Vc(Rl(ii,"requests"),Tv("createdAt","desc")),be=kc(se,Xe=>{const ye=Xe.docs.map(Oe=>({id:Oe.id,...Oe.data(),formattedDate:Qv(Oe.data().createdAt)}));oe(ye),Ve(!1)});return()=>be()},[]);const ut=async(se,be)=>{window.confirm(`Confirm status change to: ${be}?`)&&(await yC(rr(ii,"requests",se.id),{status:be}),Be&&Be.id===se.id&&Re(Xe=>({...Xe,status:be})),Gv({to_name:se.fullName,to_email:se.email,subject:`Request Update: ${se.title}`,title:se.title,status:be,message:`Status updated to ${be}.`}))},En=async se=>{window.confirm("Delete this record permanently?")&&(await Jd(rr(ii,"requests",se)),Be&&Be.id===se&&Re(null))},It=()=>{const se=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],be=J.map(_e=>[_e.displayId,_e.dept,`"${_e.title}"`,_e.fullName,_e.email,_e.formattedDate,_e.status,`"${(_e.details||_e.brief||_e.description||"").replace(/"/g,'""')}"`]),Xe="data:text/csv;charset=utf-8,"+[se.join(","),...be.map(_e=>_e.join(","))].join(`
`),ye=encodeURI(Xe),Oe=document.createElement("a");Oe.setAttribute("href",ye),Oe.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe)},Sn=J.filter(se=>{const be=le==="all"?!0:se.dept?.toLowerCase().includes(le.toLowerCase()),Xe=Je.toLowerCase(),ye=se.title&&se.title.toLowerCase().includes(Xe)||se.fullName&&se.fullName.toLowerCase().includes(Xe)||se.displayId&&se.displayId.toLowerCase().includes(Xe)||se.email&&se.email.toLowerCase().includes(Xe);return be&&ye}),wn=se=>{switch(se){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[Be&&E.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),E.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[E.jsxs("span",{children:["ID: ",Be.displayId||"N/A"]}),E.jsxs("span",{className:"opacity-50",children:["| Ref: ",Be.id]})]})]}),E.jsx("button",{onClick:()=>Re(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:E.jsx(zd,{size:20})})]}),E.jsxs("div",{className:"p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),E.jsx("p",{className:"font-semibold text-white capitalize",children:Be.dept})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${wn(Be.status)}`,children:Be.status})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),E.jsx("p",{className:"text-slate-200",children:Be.fullName})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),E.jsx("p",{className:"text-slate-200 font-mono text-sm",children:Be.email})]})]}),E.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[E.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[E.jsx(Pd,{size:16,className:"text-cyan-500"})," Mission Details"]}),E.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(Be).map(([se,be])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(se)?null:Array.isArray(be)?E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:se}),E.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:be.map((Xe,ye)=>E.jsx("li",{children:Xe},ye))})]},se):E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:se.replace(/([A-Z])/g," $1").trim()}),E.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:be})]},se))})]}),w&&E.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[E.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>ut(Be,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),E.jsx("button",{onClick:()=>ut(Be,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),E.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[E.jsx(a_,{className:"text-purple-400"})," Request Log"]}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[E.jsxs("div",{className:"relative flex-1 lg:w-64",children:[E.jsx(sS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),E.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:Je,onChange:se=>pt(se.target.value)})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:le,onChange:se=>ge(se.target.value),children:[E.jsx("option",{value:"all",children:"All Sectors"}),E.jsx("option",{value:"film",children:"Film"}),E.jsx("option",{value:"graphic",children:"Graphic"}),E.jsx("option",{value:"business",children:"Business"}),E.jsx("option",{value:"culinary",children:"Culinary"}),E.jsx("option",{value:"photo",children:"Photo"})]}),w&&E.jsxs("button",{onClick:It,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[E.jsx(BA,{size:16})," ",E.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),E.jsx("div",{className:"overflow-x-auto",children:Ae?E.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):E.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[E.jsx("th",{className:"p-4",children:"ID Code"}),E.jsx("th",{className:"p-4",children:"Sector"}),E.jsx("th",{className:"p-4",children:"Objective"}),E.jsx("th",{className:"p-4",children:"Agent"}),E.jsx("th",{className:"p-4",children:"Status"}),E.jsx("th",{className:"p-4",children:"View"}),w&&E.jsx("th",{className:"p-4",children:"Override"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-800",children:Sn.map(se=>E.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[E.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:se.displayId}),E.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:se.dept}),E.jsx("td",{className:"p-4 text-white font-medium text-sm",children:se.title}),E.jsx("td",{className:"p-4 text-slate-400 text-sm",children:se.fullName}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${wn(se.status)}`,children:se.status})}),E.jsx("td",{className:"p-4",children:E.jsx("button",{onClick:()=>Re(se),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:E.jsx(HA,{size:20})})}),w&&E.jsxs("td",{className:"p-4 flex gap-2",children:[E.jsx("button",{onClick:()=>ut(se,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:E.jsx(NA,{size:16})}),E.jsx("button",{onClick:()=>ut(se,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:E.jsx(zd,{size:16})}),E.jsx("button",{onClick:()=>En(se.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:E.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},se.id))})]})})]})}function M({inventory:w,setInventory:B}){const[Y,J]=xe.useState({name:"",count:1,category:"general",requiresTraining:!1}),[oe,le]=xe.useState(!1),ge=(Re,Je,pt)=>{const ut={...w,[Re]:{...w[Re],[Je]:pt}};B(ut),le(!0)},Ae=Re=>{if(!window.confirm(`Permanently remove ${Re} from inventory?`))return;const Je={...w};delete Je[Re],B(Je),le(!0)},Ve=()=>{if(!Y.name)return;const Re={...w,[Y.name]:{count:Y.count,category:Y.category,requiresTraining:Y.requiresTraining}};B(Re),J({name:"",count:1,category:"general",requiresTraining:!1}),le(!0)},Be=async()=>{try{await Zd(rr(ii,"settings","inventory_v2"),w),le(!1),alert("Inventory database updated.")}catch(Re){console.error(Re),alert("Save failed.")}};return E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl max-w-5xl mx-auto",children:[E.jsxs("div",{className:"bg-slate-950/50 p-6 border-b border-slate-800 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[E.jsx(TA,{className:"text-amber-400"})," Inventory Control"]}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Manage asset availability and restrictions."})]}),oe&&E.jsxs("button",{onClick:Be,className:"bg-amber-600 hover:bg-amber-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 animate-pulse",children:[E.jsx(Cc,{size:18})," Save Changes"]})]}),E.jsxs("div",{className:"p-6 space-y-8",children:[E.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-wrap gap-4 items-end",children:[E.jsxs("div",{className:"flex-grow",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Item Name"}),E.jsx("input",{type:"text",value:Y.name,onChange:Re=>J({...Y,name:Re.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm",placeholder:"e.g. GoPro Hero 10"})]}),E.jsxs("div",{className:"w-24",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Qty"}),E.jsx("input",{type:"number",value:Y.count,onChange:Re=>J({...Y,count:parseInt(Re.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"})]}),E.jsxs("div",{className:"w-32",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Category"}),E.jsxs("select",{value:Y.category,onChange:Re=>J({...Y,category:Re.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm",children:[E.jsx("option",{value:"general",children:"General"}),E.jsx("option",{value:"film",children:"Film"}),E.jsx("option",{value:"photo",children:"Photo"}),E.jsx("option",{value:"culinary",children:"Culinary"})]})]}),E.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[E.jsx("input",{type:"checkbox",checked:Y.requiresTraining,onChange:Re=>J({...Y,requiresTraining:Re.target.checked}),className:"w-4 h-4 rounded bg-slate-700 border-slate-600"}),E.jsx("label",{className:"text-xs text-slate-300",children:"Requires Training"})]}),E.jsx("button",{onClick:Ve,className:"bg-cyan-600 hover:bg-cyan-500 text-white p-2.5 rounded-lg",children:E.jsx(tS,{size:20})})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-slate-700 text-xs uppercase text-slate-500 font-mono",children:[E.jsx("th",{className:"p-3",children:"Asset Name"}),E.jsx("th",{className:"p-3",children:"Category"}),E.jsx("th",{className:"p-3",children:"Training?"}),E.jsx("th",{className:"p-3 w-24",children:"Stock"}),E.jsx("th",{className:"p-3 w-16"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-800",children:Object.entries(w).sort().map(([Re,Je])=>E.jsxs("tr",{className:"hover:bg-slate-800/30 group",children:[E.jsx("td",{className:"p-3 font-medium text-slate-200",children:Re}),E.jsx("td",{className:"p-3",children:E.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] uppercase bg-slate-800 text-slate-400 border border-slate-700",children:Je.category})}),E.jsx("td",{className:"p-3",children:E.jsx("input",{type:"checkbox",checked:Je.requiresTraining,onChange:pt=>ge(Re,"requiresTraining",pt.target.checked),className:"rounded bg-slate-900 border-slate-700"})}),E.jsx("td",{className:"p-3",children:E.jsx("input",{type:"number",value:Je.count,onChange:pt=>ge(Re,"count",parseInt(pt.target.value)),className:"w-16 bg-slate-900 border border-slate-700 rounded p-1 text-center text-white text-sm"})}),E.jsx("td",{className:"p-3 text-right",children:E.jsx("button",{onClick:()=>Ae(Re),className:"text-slate-600 hover:text-red-400 transition-colors",children:E.jsx(cS,{size:16})})})]},Re))})]})})]})]})}function L(){return E.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-8 text-center",children:[E.jsx(r_,{className:"mx-auto text-emerald-500 mb-4",size:48}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Analytics Module"}),E.jsx("p",{className:"text-slate-400",children:"Data visualization protocols are currently under development."})]})}function de({onCancel:w}){return E.jsxs("div",{className:"max-w-xl mx-auto bg-slate-900 p-8 rounded-xl border border-slate-800 text-center",children:[E.jsx(u_,{className:"mx-auto text-cyan-400 mb-4",size:32}),E.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Feedback System"}),E.jsx("p",{className:"text-slate-400 mb-6",children:"Contact erivers@salpointe.org for system bugs."}),E.jsx("button",{onClick:w,className:"text-slate-400 hover:text-white underline",children:"Return"})]})}function Ue({title:w,icon:B,colorClass:Y,children:J,setSubmitted:oe,initialData:le={},onCancel:ge,currentUser:Ae,blackouts:Ve=[]}){const Be=xe.useRef(null),Re=Fv(w),[Je,pt]=xe.useState(!1),ut=()=>{const be=new FormData(Be.current),Xe={};for(const[ye,Oe]of be.entries())Xe[ye]?(Array.isArray(Xe[ye])||(Xe[ye]=[Xe[ye]]),Xe[ye].push(Oe)):Xe[ye]=Oe;return localStorage.setItem(Re,JSON.stringify(Xe)),!0},En=be=>{be.preventDefault(),ut(),alert("Draft secured in local cache.")},It=()=>{pt(!0)},Sn=()=>{ut(),pt(!1),ge()},wn=()=>{localStorage.removeItem(Re),pt(!1),ge()},se=async be=>{be.preventDefault();const Xe=new FormData(be.target),ye={};for(const[ne,Ne]of Xe.entries())ye[ne]?(Array.isArray(ye[ne])||(ye[ne]=[ye[ne]]),ye[ne].push(Ne)):ye[ne]=Ne;const Oe=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let _e=!1;if(Oe.forEach(ne=>{ye[ne]&&Ve.includes(ye[ne])&&(_e=!0)}),_e){alert("Date blocked by admin protocol. Select alternative.");return}try{const ne=Date.now().toString().slice(-4),Ne=Math.floor(1e3+Math.random()*9e3),wt=`REQ-${ne}-${Ne}`;await _C(Rl(ii,"requests"),{...ye,dept:w,displayId:wt,status:"Pending Review",createdAt:new Date,title:ye.requestName||ye.eventName||ye.projectType||ye.businessName||"New Request"}),Gv({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${ye.requestName}`,title:ye.requestName,status:"Pending Review",message:`New request (${wt}) from ${ye.fullName}.`}),localStorage.removeItem(Re),oe(!0)}catch(ne){console.error(ne),alert("Transmission error.")}};return E.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[Je&&E.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:E.jsx(fS,{size:32})}),E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),E.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsxs("button",{onClick:Sn,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[E.jsx(Cc,{size:18})," Secure Draft & Exit"]}),E.jsx("button",{onClick:wn,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),E.jsx("button",{onClick:()=>pt(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),E.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),E.jsxs("div",{className:"p-5 md:p-8",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${Y.replace("bg-","text-")}`,children:E.jsx(B,{size:28})}),E.jsxs("div",{children:[E.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[w," Protocol"]}),E.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),E.jsx("button",{type:"button",onClick:It,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:E.jsx(zd,{size:24})})]}),E.jsxs("form",{ref:Be,onSubmit:se,children:[E.jsx(N,{initialData:le,currentUser:Ae}),J,E.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[E.jsx("button",{type:"button",onClick:It,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),E.jsxs("button",{type:"button",onClick:En,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[E.jsx(Cc,{size:18})," Save Draft"]}),E.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function tt({onExit:w}){const B=xe.useRef(null),[Y,J]=xe.useState("start"),[oe,le]=xe.useState(0),[ge,Ae]=xe.useState(parseInt(localStorage.getItem("lancer_highscore")||"0")),Ve=.6,Be=-10,Re=5,Je=50,pt=xe.useRef({x:50,y:200,vy:0,width:40,height:40,isJumping:!1}),ut=xe.useRef([]),En=xe.useRef(0),It=xe.useRef(0),Sn=xe.useRef(null),wn=()=>{pt.current.isJumping||(pt.current.vy=Be,pt.current.isJumping=!0)},se=()=>{J("playing"),le(0),It.current=0,pt.current={x:50,y:200,vy:0,width:40,height:40,isJumping:!1},ut.current=[],En.current=0,be()},be=()=>{const ye=B.current;if(!ye)return;const Oe=ye.getContext("2d");Oe.fillStyle="#0f172a",Oe.fillRect(0,0,ye.width,ye.height),Oe.strokeStyle="#22d3ee",Oe.lineWidth=2,Oe.beginPath(),Oe.moveTo(0,ye.height-Je),Oe.lineTo(ye.width,ye.height-Je),Oe.stroke();const _e=pt.current;if(_e.vy+=Ve,_e.y+=_e.vy,_e.y>ye.height-Je-_e.height&&(_e.y=ye.height-Je-_e.height,_e.vy=0,_e.isJumping=!1),Oe.font="32px Arial",Oe.fillText("",_e.x,_e.y+32),En.current++,En.current%100===0){const ne=Math.random()>.5?"":"F";ut.current.push({x:ye.width,y:ye.height-Je-30,width:30,height:30,type:ne})}for(let ne=ut.current.length-1;ne>=0;ne--){const Ne=ut.current[ne];if(Ne.x-=Re,Oe.fillStyle=Ne.type==="F"?"#ef4444":"#fbbf24",Oe.font="28px Arial",Oe.fillText(Ne.type,Ne.x,Ne.y+28),_e.x<Ne.x+Ne.width&&_e.x+_e.width>Ne.x&&_e.y<Ne.y+Ne.height&&_e.y+_e.height>Ne.y){Xe();return}Ne.x+Ne.width<0&&(ut.current.splice(ne,1),It.current+=10,le(It.current))}Oe.fillStyle="#fff",Oe.font="16px monospace",Oe.fillText(`SCORE: ${It.current}`,10,20),Sn.current=requestAnimationFrame(be)},Xe=()=>{cancelAnimationFrame(Sn.current),J("gameover"),It.current>ge&&(Ae(It.current),localStorage.setItem("lancer_highscore",It.current.toString()))};return xe.useEffect(()=>{const ye=Oe=>{(Oe.code==="Space"||Oe.code==="ArrowUp")&&(Y==="playing"?wn():Y!=="playing"&&se())};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[Y]),E.jsxs("div",{className:"max-w-3xl mx-auto bg-black border-4 border-slate-700 rounded-xl overflow-hidden font-mono shadow-2xl relative animate-fade-in select-none",children:[E.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-10 pointer-events-none bg-[length:100%_2px,3px_100%]"}),E.jsxs("div",{className:"bg-slate-900 p-4 border-b-4 border-slate-700 flex justify-between items-center relative z-20",children:[E.jsxs("div",{className:"text-green-400 text-xs flex items-center gap-2",children:[E.jsx(YA,{size:14})," LANCER_RUN.EXE"]}),E.jsxs("div",{className:"text-yellow-400 text-xs flex items-center gap-2",children:[E.jsx(mS,{size:14})," HI-SCORE: ",ge]}),E.jsx("button",{onClick:w,className:"text-red-500 hover:text-red-400 text-xs uppercase font-bold",children:"[ EXIT SYSTEM ]"})]}),E.jsxs("div",{className:"relative bg-slate-950",style:{height:"300px"},children:[E.jsx("canvas",{ref:B,width:700,height:300,className:"w-full h-full block"}),Y==="start"&&E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 z-20",children:[E.jsx("h2",{className:"text-4xl font-bold text-cyan-400 mb-4 tracking-widest glitch-text",children:"LANCER RUN"}),E.jsx("p",{className:"text-slate-300 text-sm mb-6",children:"Space/Up to Jump. Avoid the F's!"}),E.jsx("button",{onClick:se,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded blink-anim",children:"INSERT COIN (START)"})]}),Y==="gameover"&&E.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-900/40 z-20 backdrop-blur-sm",children:[E.jsx("h2",{className:"text-4xl font-bold text-red-500 mb-2",children:"CRITICAL FAILURE"}),E.jsxs("p",{className:"text-white text-xl mb-6",children:["FINAL SCORE: ",oe]}),E.jsx("button",{onClick:se,className:"px-6 py-2 bg-white text-black font-bold rounded hover:bg-slate-200",children:"RETRY MISSION"})]})]})]})}};fA.createRoot(document.getElementById("root")).render(E.jsx(xe.StrictMode,{children:E.jsx(kN,{})}));
