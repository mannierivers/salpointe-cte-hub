(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ld={exports:{}},To={};var J_;function nS(){if(J_)return To;J_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return To.Fragment=e,To.jsx=i,To.jsxs=i,To}var Z_;function iS(){return Z_||(Z_=1,Ld.exports=nS()),Ld.exports}var y=iS(),Ud={exports:{}},Ce={};var W_;function sS(){if(W_)return Ce;W_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function Y(R){return R===null||typeof R!="object"?null:(R=O&&R[O]||R["@@iterator"],typeof R=="function"?R:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,ne={};function be(R,F,W){this.props=R,this.context=F,this.refs=ne,this.updater=W||te}be.prototype.isReactComponent={},be.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},be.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Ne(){}Ne.prototype=be.prototype;function Te(R,F,W){this.props=R,this.context=F,this.refs=ne,this.updater=W||te}var tt=Te.prototype=new Ne;tt.constructor=Te,ae(tt,be.prototype),tt.isPureReactComponent=!0;var ht=Array.isArray;function ke(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(R,F,W){var ie=W.ref;return{$$typeof:s,type:R,key:F,ref:ie!==void 0?ie:null,props:W}}function k(R,F){return C(R.type,F,R.props)}function V(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function I(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return F[W]})}var A=/\/+/g;function ce(R,F){return typeof R=="object"&&R!==null&&R.key!=null?I(""+R.key):F.toString(36)}function ve(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ke,ke):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function z(R,F,W,ie,le){var ge=typeof R;(ge==="undefined"||ge==="boolean")&&(R=null);var ee=!1;if(R===null)ee=!0;else switch(ge){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(R.$$typeof){case s:case e:ee=!0;break;case S:return ee=R._init,z(ee(R._payload),F,W,ie,le)}}if(ee)return le=le(R),ee=ie===""?"."+ce(R,0):ie,ht(le)?(W="",ee!=null&&(W=ee.replace(A,"$&/")+"/"),z(le,F,W,"",function(Ke){return Ke})):le!=null&&(V(le)&&(le=k(le,W+(le.key==null||R&&R.key===le.key?"":(""+le.key).replace(A,"$&/")+"/")+ee)),F.push(le)),1;ee=0;var Ve=ie===""?".":ie+":";if(ht(R))for(var me=0;me<R.length;me++)ie=R[me],ge=Ve+ce(ie,me),ee+=z(ie,F,W,ge,le);else if(me=Y(R),typeof me=="function")for(R=me.call(R),me=0;!(ie=R.next()).done;)ie=ie.value,ge=Ve+ce(ie,me++),ee+=z(ie,F,W,ge,le);else if(ge==="object"){if(typeof R.then=="function")return z(ve(R),F,W,ie,le);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ee}function G(R,F,W){if(R==null)return R;var ie=[],le=0;return z(R,ie,"","",function(ge){return F.call(W,ge,le++)}),ie}function Z(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},pe={map:G,forEach:function(R,F,W){G(R,function(){F.apply(this,arguments)},W)},count:function(R){var F=0;return G(R,function(){F++}),F},toArray:function(R){return G(R,function(F){return F})||[]},only:function(R){if(!V(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ce.Activity=w,Ce.Children=pe,Ce.Component=be,Ce.Fragment=i,Ce.Profiler=o,Ce.PureComponent=Te,Ce.StrictMode=r,Ce.Suspense=v,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(R){return D.H.useMemoCache(R)}},Ce.cache=function(R){return function(){return R.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(R,F,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ie=ae({},R.props),le=R.key;if(F!=null)for(ge in F.key!==void 0&&(le=""+F.key),F)!x.call(F,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&F.ref===void 0||(ie[ge]=F[ge]);var ge=arguments.length-2;if(ge===1)ie.children=W;else if(1<ge){for(var ee=Array(ge),Ve=0;Ve<ge;Ve++)ee[Ve]=arguments[Ve+2];ie.children=ee}return C(R.type,le,ie)},Ce.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Ce.createElement=function(R,F,W){var ie,le={},ge=null;if(F!=null)for(ie in F.key!==void 0&&(ge=""+F.key),F)x.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(le[ie]=F[ie]);var ee=arguments.length-2;if(ee===1)le.children=W;else if(1<ee){for(var Ve=Array(ee),me=0;me<ee;me++)Ve[me]=arguments[me+2];le.children=Ve}if(R&&R.defaultProps)for(ie in ee=R.defaultProps,ee)le[ie]===void 0&&(le[ie]=ee[ie]);return C(R,ge,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(R){return{$$typeof:g,render:R}},Ce.isValidElement=V,Ce.lazy=function(R){return{$$typeof:S,_payload:{_status:-1,_result:R},_init:Z}},Ce.memo=function(R,F){return{$$typeof:_,type:R,compare:F===void 0?null:F}},Ce.startTransition=function(R){var F=D.T,W={};D.T=W;try{var ie=R(),le=D.S;le!==null&&le(W,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ke,re)}catch(ge){re(ge)}finally{F!==null&&W.types!==null&&(F.types=W.types),D.T=F}},Ce.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ce.use=function(R){return D.H.use(R)},Ce.useActionState=function(R,F,W){return D.H.useActionState(R,F,W)},Ce.useCallback=function(R,F){return D.H.useCallback(R,F)},Ce.useContext=function(R){return D.H.useContext(R)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(R,F){return D.H.useDeferredValue(R,F)},Ce.useEffect=function(R,F){return D.H.useEffect(R,F)},Ce.useEffectEvent=function(R){return D.H.useEffectEvent(R)},Ce.useId=function(){return D.H.useId()},Ce.useImperativeHandle=function(R,F,W){return D.H.useImperativeHandle(R,F,W)},Ce.useInsertionEffect=function(R,F){return D.H.useInsertionEffect(R,F)},Ce.useLayoutEffect=function(R,F){return D.H.useLayoutEffect(R,F)},Ce.useMemo=function(R,F){return D.H.useMemo(R,F)},Ce.useOptimistic=function(R,F){return D.H.useOptimistic(R,F)},Ce.useReducer=function(R,F,W){return D.H.useReducer(R,F,W)},Ce.useRef=function(R){return D.H.useRef(R)},Ce.useState=function(R){return D.H.useState(R)},Ce.useSyncExternalStore=function(R,F,W){return D.H.useSyncExternalStore(R,F,W)},Ce.useTransition=function(){return D.H.useTransition()},Ce.version="19.2.0",Ce}var e0;function Mm(){return e0||(e0=1,Ud.exports=sS()),Ud.exports}var xe=Mm(),Pd={exports:{}},So={},zd={exports:{}},qd={};var t0;function rS(){return t0||(t0=1,(function(s){function e(z,G){var Z=z.length;z.push(G);e:for(;0<Z;){var re=Z-1>>>1,pe=z[re];if(0<o(pe,G))z[re]=G,z[Z]=pe,Z=re;else break e}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],Z=z.pop();if(Z!==G){z[0]=Z;e:for(var re=0,pe=z.length,R=pe>>>1;re<R;){var F=2*(re+1)-1,W=z[F],ie=F+1,le=z[ie];if(0>o(W,Z))ie<pe&&0>o(le,W)?(z[re]=le,z[ie]=Z,re=ie):(z[re]=W,z[F]=Z,re=F);else if(ie<pe&&0>o(le,Z))z[re]=le,z[ie]=Z,re=ie;else break e}}return G}function o(z,G){var Z=z.sortIndex-G.sortIndex;return Z!==0?Z:z.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],S=1,w=null,O=3,Y=!1,te=!1,ae=!1,ne=!1,be=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function tt(z){for(var G=i(_);G!==null;){if(G.callback===null)r(_);else if(G.startTime<=z)r(_),G.sortIndex=G.expirationTime,e(v,G);else break;G=i(_)}}function ht(z){if(ae=!1,tt(z),!te)if(i(v)!==null)te=!0,ke||(ke=!0,I());else{var G=i(_);G!==null&&ve(ht,G.startTime-z)}}var ke=!1,D=-1,x=5,C=-1;function k(){return ne?!0:!(s.unstable_now()-C<x)}function V(){if(ne=!1,ke){var z=s.unstable_now();C=z;var G=!0;try{e:{te=!1,ae&&(ae=!1,Ne(D),D=-1),Y=!0;var Z=O;try{t:{for(tt(z),w=i(v);w!==null&&!(w.expirationTime>z&&k());){var re=w.callback;if(typeof re=="function"){w.callback=null,O=w.priorityLevel;var pe=re(w.expirationTime<=z);if(z=s.unstable_now(),typeof pe=="function"){w.callback=pe,tt(z),G=!0;break t}w===i(v)&&r(v),tt(z)}else r(v);w=i(v)}if(w!==null)G=!0;else{var R=i(_);R!==null&&ve(ht,R.startTime-z),G=!1}}break e}finally{w=null,O=Z,Y=!1}G=void 0}}finally{G?I():ke=!1}}}var I;if(typeof Te=="function")I=function(){Te(V)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ce=A.port2;A.port1.onmessage=V,I=function(){ce.postMessage(null)}}else I=function(){be(V,0)};function ve(z,G){D=be(function(){z(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(z){switch(O){case 1:case 2:case 3:var G=3;break;default:G=O}var Z=O;O=G;try{return z()}finally{O=Z}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=O;O=z;try{return G()}finally{O=Z}},s.unstable_scheduleCallback=function(z,G,Z){var re=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?re+Z:re):Z=re,z){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Z+pe,z={id:S++,callback:G,priorityLevel:z,startTime:Z,expirationTime:pe,sortIndex:-1},Z>re?(z.sortIndex=Z,e(_,z),i(v)===null&&z===i(_)&&(ae?(Ne(D),D=-1):ae=!0,ve(ht,Z-re))):(z.sortIndex=pe,e(v,z),te||Y||(te=!0,ke||(ke=!0,I()))),z},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(z){var G=O;return function(){var Z=O;O=G;try{return z.apply(this,arguments)}finally{O=Z}}}})(qd)),qd}var n0;function aS(){return n0||(n0=1,zd.exports=rS()),zd.exports}var Bd={exports:{}},on={};var i0;function lS(){if(i0)return on;i0=1;var s=Mm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,S)},on.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},on.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},on.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},on.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=g(S,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:Y}):S==="script"&&r.d.X(v,{crossOrigin:w,integrity:O,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},on.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},on.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=g(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},on.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=g(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},on.requestFormReset=function(v){r.d.r(v)},on.unstable_batchedUpdates=function(v,_){return v(_)},on.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.0",on}var s0;function oS(){if(s0)return Bd.exports;s0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=lS(),Bd.exports}var r0;function uS(){if(r0)return So;r0=1;var s=aS(),e=Mm(),i=oS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,l=f;break}if(E===l){p=!0,l=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,l=h;break}if(E===l){p=!0,l=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Ne=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case be:return"Profiler";case ne:return"StrictMode";case ht:return"Suspense";case ke:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case Te:return t.displayName||"Context";case Ne:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ce(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ce(t(n))}catch{}}return null}var ve=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},re=[],pe=-1;function R(t){return{current:t}}function F(t){0>pe||(t.current=re[pe],re[pe]=null,pe--)}function W(t,n){pe++,re[pe]=t.current,t.current=n}var ie=R(null),le=R(null),ge=R(null),ee=R(null);function Ve(t,n){switch(W(ge,n),W(le,t),W(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=b_(n),t=E_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ie),W(ie,t)}function me(){F(ie),F(le),F(ge)}function Ke(t){t.memoizedState!==null&&W(ee,t);var n=ie.current,a=E_(n,t.type);n!==a&&(W(le,t),W(ie,a))}function je(t){le.current===t&&(F(ie),F(le)),ee.current===t&&(F(ee),_o._currentValue=Z)}var Le,oe;function we(t){if(Le===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Le=n&&n[1]||"",oe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+t+oe}var Pe=!1;function vt(t,n){if(!t||Pe)return"";Pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var q=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){q=H}t.call($.prototype)}}else{try{throw Error()}catch(H){q=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),P=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===P.length)for(l=N.length-1,h=P.length-1;1<=l&&0<=h&&N[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==P[h]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Pe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?we(a):""}function Bt(t,n){switch(t.tag){case 26:case 27:case 5:return we(t.type);case 16:return we("Lazy");case 13:return t.child!==n&&n!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return vt(t.type,!1);case 11:return vt(t.type.render,!1);case 1:return vt(t.type,!0);case 31:return we("Activity");default:return""}}function Tt(t){try{var n="",a=null;do n+=Bt(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ze=Object.prototype.hasOwnProperty,bt=s.unstable_scheduleCallback,kn=s.unstable_cancelCallback,Zn=s.unstable_shouldYield,bs=s.unstable_requestPaint,$t=s.unstable_now,Fi=s.unstable_getCurrentPriorityLevel,_r=s.unstable_ImmediatePriority,vr=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,Ph=s.unstable_LowPriority,nu=s.unstable_IdlePriority,iu=s.log,su=s.unstable_setDisableYieldValue,Wn=null,Jt=null;function jn(t){if(typeof iu=="function"&&su(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Wn,t)}catch{}}var xt=Math.clz32?Math.clz32:au,ru=Math.log,ua=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(ru(t)/ua|0)|0}var pi=256,br=262144,Dt=4194304;function gi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yi(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=gi(l):(p&=E,p!==0?h=gi(p):a||(a=E&~t,a!==0&&(h=gi(a))))):(E=l&~f,E!==0?h=gi(E):p!==0?h=gi(p):a||(a=l&~t,a!==0&&(h=gi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ei(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),t}function _i(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Er(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,n,a,l,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var Q=31-xt(a),$=1<<Q;E[Q]=0,N[Q]=-1;var q=P[Q];if(q!==null)for(P[Q]=null,Q=0;Q<q.length;Q++){var H=q[Q];H!==null&&(H.lane&=-536870913)}a&=~$}l!==0&&Tr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Tr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-xt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Tl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-xt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Sl(t,n){var a=n&-n;return a=(a&42)!==0?1:Sr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:F_(t.type))}function ti(t,n){var a=G.p;try{return G.p=t,n()}finally{G.p=a}}var ni=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ni,Gt="__reactProps$"+ni,vi="__reactContainer$"+ni,ca="__reactEvents$"+ni,Bh="__reactListeners$"+ni,uu="__reactHandles$"+ni,cu="__reactResources$"+ni,bi="__reactMarker$"+ni;function ha(t){delete t[Ot],delete t[Gt],delete t[ca],delete t[Bh],delete t[uu]}function Ei(t){var n=t[Ot];if(n)return n;for(var a=t.parentNode;a;){if(n=a[vi]||a[Ot]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[Ot])return a;t=N_(t)}return n}t=a,a=t.parentNode}return null}function Ln(t){if(t=t[Ot]||t[vi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function wn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ti(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(t){t[bi]=!0}var Al=new Set,wl={};function Si(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(wl[t]=n,t=0;t<n.length;t++)Al.add(n[t])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Nl={};function hu(t){return Ze.call(Nl,t)?!0:Ze.call(Rl,t)?!1:xl.test(t)?Nl[t]=!0:(Rl[t]=!0,!1)}function fa(t,n,a){if(hu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function xn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Vt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ts(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Ts(t)?"checked":"value";t._valueTracker=Cl(t,n,""+t[n])}}function Ar(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ts(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wr=/[\n"\\]/g;function pn(t){return t.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(t,n,a,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Il(t,p,Qt(n)):a!=null?Il(t,p,Qt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Qt(E):t.removeAttribute("name")}function fu(t,n,a,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}a=a!=null?""+Qt(a):"",n=n!=null?""+Qt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),st(t)}function Il(t,n,a){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,a){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Qt(a):""}function As(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Qt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||mu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ol(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Dl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(t,f,n[f])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Ml=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,xi=null;function xr(t){var n=Ln(t);if(n&&(t=n.stateNode)){var a=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Gt]||null;if(!h)throw Error(r(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ar(l)}break e;case"textarea":du(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ss(t,!!a.multiple,n,!1)}}}var ga=!1;function Rs(t,n,a){if(ga)return t(n,a);ga=!0;try{var l=t(n);return l}finally{if(ga=!1,(xs!==null||xi!==null)&&(oc(),xs&&(n=xs,t=xi,xi=xs=null,xr(n),t)))for(n=0;n<t.length;n++)xr(t[n])}}function si(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Gt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Pn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Rr=!1}var Ri=null,Vl=null,Nr=null;function kl(){if(Nr)return Nr;var t,n=Vl,a=n.length,l,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===h[f-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function Cr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ri(){return!1}function Zt(t){function n(a,l,h,f,p){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:ri,this.isPropagationStopped=ri,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Zt(Yi),Ns=w({},Yi,{view:0,detail:0}),jl=Zt(Ns),Cs,ya,Ci,_a=w({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Cs=t.screenX-Ci.screenX,ya=t.screenY-Ci.screenY):ya=Cs=0,Ci=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Ll=Zt(_a),Ir=w({},_a,{dataTransfer:0}),gu=Zt(Ir),yu=w({},Ns,{relatedTarget:0}),Dr=Zt(yu),Ul=w({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Zt(Ul),va=w({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=Zt(va),bu=w({},Yi,{data:0}),Ii=Zt(bu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Is(){return Au}var dn=w({},Ns,{key:function(t){if(t.key){var n=Eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Zt(dn),xu=w({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Zt(xu),u=w({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),m=Zt(u),b=w({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Zt(b),L=w({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Zt(L),se=w({},Yi,{newState:0,oldState:0}),De=Zt(se),Rt=[9,13,27,32],We=Pn&&"CompositionEvent"in window,yt=null;Pn&&"documentMode"in document&&(yt=document.documentMode);var zn=Pn&&"TextEvent"in window&&!yt,Di=Pn&&(!We||yt&&8<yt&&11>=yt),ai=" ",li=!1;function Or(t,n){switch(t){case"keyup":return Rt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function xT(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(li=!0,ai);case"textInput":return t=n.data,t===ai&&li?null:t;default:return null}}function RT(t,n){if(Ea)return t==="compositionend"||!We&&Or(t,n)?(t=kl(),Nr=Vl=Ri=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var NT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!NT[t.type]:n==="textarea"}function Op(t,n,a,l){xs?xi?xi.push(l):xi=[l]:xs=l,n=pc(n,"onChange"),0<n.length&&(a=new Ni("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Pl=null,zl=null;function CT(t){m_(t,0)}function Ru(t){var n=wn(t);if(Ar(n))return t}function Mp(t,n){if(t==="change")return n}var Vp=!1;if(Pn){var Hh;if(Pn){var Fh="oninput"in document;if(!Fh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Fh=typeof kp.oninput=="function"}Hh=Fh}else Hh=!1;Vp=Hh&&(!document.documentMode||9<document.documentMode)}function jp(){Pl&&(Pl.detachEvent("onpropertychange",Lp),zl=Pl=null)}function Lp(t){if(t.propertyName==="value"&&Ru(zl)){var n=[];Op(n,zl,t,Un(t)),Rs(CT,n)}}function IT(t,n,a){t==="focusin"?(jp(),Pl=n,zl=a,Pl.attachEvent("onpropertychange",Lp)):t==="focusout"&&jp()}function DT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(zl)}function OT(t,n){if(t==="click")return Ru(n)}function MT(t,n){if(t==="input"||t==="change")return Ru(n)}function VT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rn=typeof Object.is=="function"?Object.is:VT;function ql(t,n){if(Rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ze.call(n,h)||!Rn(t[h],n[h]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,n){var a=Up(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Up(a)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=wi(t.document)}return n}function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var kT=Pn&&"documentMode"in document&&11>=document.documentMode,Ta=null,Qh=null,Bl=null,Yh=!1;function Bp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Ta==null||Ta!==wi(l)||(l=Ta,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bl&&ql(Bl,l)||(Bl=l,l=pc(Qh,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ta)))}function Mr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Sa={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Kh={},Hp={};Pn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Vr(t){if(Kh[t])return Kh[t];if(!Sa[t])return t;var n=Sa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hp)return Kh[t]=n[a];return t}var Fp=Vr("animationend"),Gp=Vr("animationiteration"),Qp=Vr("animationstart"),jT=Vr("transitionrun"),LT=Vr("transitionstart"),UT=Vr("transitioncancel"),Yp=Vr("transitionend"),Kp=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function oi(t,n){Kp.set(t,n),Si(n,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],Aa=0,$h=0;function Cu(){for(var t=Aa,n=$h=Aa=0;n<t;){var a=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Xp(a,h,f)}}function Iu(t,n,a,l){qn[Aa++]=t,qn[Aa++]=n,qn[Aa++]=a,qn[Aa++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,a,l){return Iu(t,n,a,l),Du(t)}function kr(t,n){return Iu(t,null,null,n),Du(t)}function Xp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-xt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Du(t){if(50<co)throw co=0,ld=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function PT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,n,a,l){return new PT(t,n,a,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,n){var a=t.alternate;return a===null?(a=Nn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $p(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,a,l,h,f){var p=0;if(l=t,typeof t=="function")Zh(t)&&(p=1);else if(typeof t=="string")p=F1(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Nn(31,a,n,h),t.elementType=C,t.lanes=f,t;case ae:return jr(a.children,h,f,n);case ne:p=8,h|=24;break;case be:return t=Nn(12,a,n,h|2),t.elementType=be,t.lanes=f,t;case ht:return t=Nn(13,a,n,h),t.elementType=ht,t.lanes=f,t;case ke:return t=Nn(19,a,n,h),t.elementType=ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:p=10;break e;case Ne:p=9;break e;case tt:p=11;break e;case D:p=14;break e;case x:p=16,l=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Nn(p,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function jr(t,n,a,l){return t=Nn(7,t,l,n),t.lanes=a,t}function Wh(t,n,a){return t=Nn(6,t,null,n),t.lanes=a,t}function Jp(t){var n=Nn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,a){return n=Nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zp=new WeakMap;function Bn(t,n){if(typeof t=="object"&&t!==null){var a=Zp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Tt(n)},Zp.set(t,n),n)}return{value:t,source:n,stack:Tt(n)}}var xa=[],Ra=0,Mu=null,Hl=0,Hn=[],Fn=0,Ds=null,Oi=1,Mi="";function $i(t,n){xa[Ra++]=Hl,xa[Ra++]=Mu,Mu=t,Hl=n}function Wp(t,n,a){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Ds,Ds=t;var l=Oi;t=Mi;var h=32-xt(l)-1;l&=~(1<<h),a+=1;var f=32-xt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Oi=1<<32-xt(n)+h|a<<h|l,Mi=f+t}else Oi=1<<f|a<<h|l,Mi=t}function tf(t){t.return!==null&&($i(t,1),Wp(t,1,0))}function nf(t){for(;t===Mu;)Mu=xa[--Ra],xa[Ra]=null,Hl=xa[--Ra],xa[Ra]=null;for(;t===Ds;)Ds=Hn[--Fn],Hn[Fn]=null,Mi=Hn[--Fn],Hn[Fn]=null,Oi=Hn[--Fn],Hn[Fn]=null}function eg(t,n){Hn[Fn++]=Oi,Hn[Fn++]=Mi,Hn[Fn++]=Ds,Oi=n.id,Mi=n.overflow,Ds=t}var Wt=null,mt=null,Ye=!1,Os=null,Gn=!1,sf=Error(r(519));function Ms(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Bn(n,t)),sf}function tg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ot]=t,n[Gt]=l,a){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(a=0;a<fo.length;a++)qe(fo[a],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":qe("invalid",n),fu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",n);break;case"textarea":qe("invalid",n),As(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||__(n.textContent,a)?(l.popover!=null&&(qe("beforetoggle",n),qe("toggle",n)),l.onScroll!=null&&qe("scroll",n),l.onScrollEnd!=null&&qe("scrollend",n),l.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Ms(t,!0)}function ng(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Wt=Wt.return}}function Na(t){if(t!==Wt)return!1;if(!Ye)return ng(t),Ye=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&mt&&Ms(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=R_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=R_(t)}else n===27?(n=mt,Ys(t.type)?(t=Rd,Rd=null,mt=t):mt=n):mt=Wt?Yn(t.stateNode.nextSibling):null;return!0}function Lr(){mt=Wt=null,Ye=!1}function rf(){var t=Os;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Os=null),t}function Fl(t){Os===null?Os=[t]:Os.push(t)}var af=R(null),Ur=null,Ji=null;function Vs(t,n,a){W(af,n._currentValue),n._currentValue=a}function Zi(t){t._currentValue=af.current,F(af)}function lf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),lf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ca(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;Rn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ee.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_o):t=[_o])}h=h.return}t!==null&&of(n,t,a,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){Ur=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return ig(Ur,t)}function ku(t,n){return Ur===null&&Pr(t),ig(t,n)}function ig(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(r(308));Ji=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ji=Ji.next=n;return a}var zT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},qT=s.unstable_scheduleCallback,BT=s.unstable_NormalPriority,kt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new zT,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&qT(BT,function(){t.controller.abort()})}var Ql=null,cf=0,Ia=0,Da=null;function HT(t,n){if(Ql===null){var a=Ql=[];cf=0,Ia=dd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,n.then(sg,sg),n}function sg(){if(--cf===0&&Ql!==null){Da!==null&&(Da.status="fulfilled");var t=Ql;Ql=null,Ia=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function FT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var rg=z.S;z.S=function(t,n){By=$t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&HT(t,n),rg!==null&&rg(t,n)};var zr=R(null);function hf(){var t=zr.current;return t!==null?t:ft.pooledCache}function ju(t,n){n===null?W(zr,zr.current):W(zr,n.pool)}function ag(){var t=hf();return t===null?null:{parent:kt._currentValue,pool:t}}var Oa=Error(r(460)),ff=Error(r(474)),Lu=Error(r(542)),Uu={then:function(){}};function lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function og(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ii,ii),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(ii,ii);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw Br=n,Oa}}function qr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,Oa):a}}var Br=null;function ug(){if(Br===null)throw Error(r(459));var t=Br;return Br=null,t}function cg(t){if(t===Oa||t===Lu)throw Error(r(483))}var Ma=null,Yl=0;function Pu(t){var n=Yl;return Yl+=1,Ma===null&&(Ma=[]),og(Ma,t,n)}function Kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){function n(j,M){if(t){var U=j.deletions;U===null?(j.deletions=[M],j.flags|=16):U.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Xi(j,M),j.index=0,j.sibling=null,j}function f(j,M,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<M?(j.flags|=67108866,M):U):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function p(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,M,U,K){return M===null||M.tag!==6?(M=Wh(U,j.mode,K),M.return=j,M):(M=h(M,U),M.return=j,M)}function N(j,M,U,K){var ye=U.type;return ye===ae?Q(j,M,U.props.children,K,U.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&qr(ye)===M.type)?(M=h(M,U.props),Kl(M,U),M.return=j,M):(M=Ou(U.type,U.key,U.props,null,j.mode,K),Kl(M,U),M.return=j,M)}function P(j,M,U,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=ef(U,j.mode,K),M.return=j,M):(M=h(M,U.children||[]),M.return=j,M)}function Q(j,M,U,K,ye){return M===null||M.tag!==7?(M=jr(U,j.mode,K,ye),M.return=j,M):(M=h(M,U),M.return=j,M)}function $(j,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Wh(""+M,j.mode,U),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:return U=Ou(M.type,M.key,M.props,null,j.mode,U),Kl(U,M),U.return=j,U;case te:return M=ef(M,j.mode,U),M.return=j,M;case x:return M=qr(M),$(j,M,U)}if(ve(M)||I(M))return M=jr(M,j.mode,U,null),M.return=j,M;if(typeof M.then=="function")return $(j,Pu(M),U);if(M.$$typeof===Te)return $(j,ku(j,M),U);zu(j,M)}return null}function q(j,M,U,K){var ye=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:E(j,M,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:return U.key===ye?N(j,M,U,K):null;case te:return U.key===ye?P(j,M,U,K):null;case x:return U=qr(U),q(j,M,U,K)}if(ve(U)||I(U))return ye!==null?null:Q(j,M,U,K,null);if(typeof U.then=="function")return q(j,M,Pu(U),K);if(U.$$typeof===Te)return q(j,M,ku(j,U),K);zu(j,U)}return null}function H(j,M,U,K,ye){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(U)||null,E(M,j,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Y:return j=j.get(K.key===null?U:K.key)||null,N(M,j,K,ye);case te:return j=j.get(K.key===null?U:K.key)||null,P(M,j,K,ye);case x:return K=qr(K),H(j,M,U,K,ye)}if(ve(K)||I(K))return j=j.get(U)||null,Q(M,j,K,ye,null);if(typeof K.then=="function")return H(j,M,U,Pu(K),ye);if(K.$$typeof===Te)return H(j,M,U,ku(M,K),ye);zu(M,K)}return null}function fe(j,M,U,K){for(var ye=null,$e=null,de=M,Me=M=0,He=null;de!==null&&Me<U.length;Me++){de.index>Me?(He=de,de=null):He=de.sibling;var Je=q(j,de,U[Me],K);if(Je===null){de===null&&(de=He);break}t&&de&&Je.alternate===null&&n(j,de),M=f(Je,M,Me),$e===null?ye=Je:$e.sibling=Je,$e=Je,de=He}if(Me===U.length)return a(j,de),Ye&&$i(j,Me),ye;if(de===null){for(;Me<U.length;Me++)de=$(j,U[Me],K),de!==null&&(M=f(de,M,Me),$e===null?ye=de:$e.sibling=de,$e=de);return Ye&&$i(j,Me),ye}for(de=l(de);Me<U.length;Me++)He=H(de,j,Me,U[Me],K),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?Me:He.key),M=f(He,M,Me),$e===null?ye=He:$e.sibling=He,$e=He);return t&&de.forEach(function(Zs){return n(j,Zs)}),Ye&&$i(j,Me),ye}function Ee(j,M,U,K){if(U==null)throw Error(r(151));for(var ye=null,$e=null,de=M,Me=M=0,He=null,Je=U.next();de!==null&&!Je.done;Me++,Je=U.next()){de.index>Me?(He=de,de=null):He=de.sibling;var Zs=q(j,de,Je.value,K);if(Zs===null){de===null&&(de=He);break}t&&de&&Zs.alternate===null&&n(j,de),M=f(Zs,M,Me),$e===null?ye=Zs:$e.sibling=Zs,$e=Zs,de=He}if(Je.done)return a(j,de),Ye&&$i(j,Me),ye;if(de===null){for(;!Je.done;Me++,Je=U.next())Je=$(j,Je.value,K),Je!==null&&(M=f(Je,M,Me),$e===null?ye=Je:$e.sibling=Je,$e=Je);return Ye&&$i(j,Me),ye}for(de=l(de);!Je.done;Me++,Je=U.next())Je=H(de,j,Me,Je.value,K),Je!==null&&(t&&Je.alternate!==null&&de.delete(Je.key===null?Me:Je.key),M=f(Je,M,Me),$e===null?ye=Je:$e.sibling=Je,$e=Je);return t&&de.forEach(function(tS){return n(j,tS)}),Ye&&$i(j,Me),ye}function ct(j,M,U,K){if(typeof U=="object"&&U!==null&&U.type===ae&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:e:{for(var ye=U.key;M!==null;){if(M.key===ye){if(ye=U.type,ye===ae){if(M.tag===7){a(j,M.sibling),K=h(M,U.props.children),K.return=j,j=K;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&qr(ye)===M.type){a(j,M.sibling),K=h(M,U.props),Kl(K,U),K.return=j,j=K;break e}a(j,M);break}else n(j,M);M=M.sibling}U.type===ae?(K=jr(U.props.children,j.mode,K,U.key),K.return=j,j=K):(K=Ou(U.type,U.key,U.props,null,j.mode,K),Kl(K,U),K.return=j,j=K)}return p(j);case te:e:{for(ye=U.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(j,M.sibling),K=h(M,U.children||[]),K.return=j,j=K;break e}else{a(j,M);break}else n(j,M);M=M.sibling}K=ef(U,j.mode,K),K.return=j,j=K}return p(j);case x:return U=qr(U),ct(j,M,U,K)}if(ve(U))return fe(j,M,U,K);if(I(U)){if(ye=I(U),typeof ye!="function")throw Error(r(150));return U=ye.call(U),Ee(j,M,U,K)}if(typeof U.then=="function")return ct(j,M,Pu(U),K);if(U.$$typeof===Te)return ct(j,M,ku(j,U),K);zu(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(j,M.sibling),K=h(M,U),K.return=j,j=K):(a(j,M),K=Wh(U,j.mode,K),K.return=j,j=K),p(j)):a(j,M)}return function(j,M,U,K){try{Yl=0;var ye=ct(j,M,U,K);return Ma=null,ye}catch(de){if(de===Oa||de===Lu)throw de;var $e=Nn(29,de,null,j.mode);return $e.lanes=K,$e.return=j,$e}finally{}}}var Hr=hg(!0),fg=hg(!1),ks=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Du(t),Xp(t,null,a),n}return Iu(t,l,n,a),Du(t)}function Xl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Tl(t,a)}}function pf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gf=!1;function $l(){if(gf){var t=Da;if(t!==null)throw t}}function Jl(t,n,a,l){gf=!1;var h=t.updateQueue;ks=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,P=N.next;N.next=null,p===null?f=P:p.next=P,p=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=N))}if(f!==null){var $=h.baseState;p=0,Q=P=N=null,E=f;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(Be&q)===q:(l&q)===q){q!==0&&q===Ia&&(gf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,Ee=E;q=n;var ct=a;switch(Ee.tag){case 1:if(fe=Ee.payload,typeof fe=="function"){$=fe.call(ct,$,q);break e}$=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ee.payload,q=typeof fe=="function"?fe.call(ct,$,q):fe,q==null)break e;$=w({},$,q);break e;case 2:ks=!0}}q=E.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=H,N=$):Q=Q.next=H,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(N=$),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Bs|=p,t.lanes=p,t.memoizedState=$}}function dg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function mg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dg(a[t],n)}var Va=R(null),qu=R(0);function pg(t,n){t=ls,W(qu,t),W(Va,n),ls=t|n.baseLanes}function yf(){W(qu,ls),W(Va,Va.current)}function _f(){ls=qu.current,F(Va),F(qu)}var Cn=R(null),Qn=null;function Us(t){var n=t.alternate;W(Nt,Nt.current&1),W(Cn,t),Qn===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(Qn=t)}function vf(t){W(Nt,Nt.current),W(Cn,t),Qn===null&&(Qn=t)}function gg(t){t.tag===22?(W(Nt,Nt.current),W(Cn,t),Qn===null&&(Qn=t)):Ps()}function Ps(){W(Nt,Nt.current),W(Cn,Cn.current)}function In(t){F(Cn),Qn===t&&(Qn=null),F(Nt)}var Nt=R(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||xd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wi=0,Oe=null,ot=null,jt=null,Hu=!1,ka=!1,Fr=!1,Fu=0,Zl=0,ja=null,GT=0;function St(){throw Error(r(321))}function bf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Rn(t[a],n[a]))return!1;return!0}function Ef(t,n,a,l,h,f){return Wi=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?Wg:jf,Fr=!1,f=a(l,h),Fr=!1,ka&&(f=_g(n,a,l,h)),yg(t),f}function yg(t){z.H=to;var n=ot!==null&&ot.next!==null;if(Wi=0,jt=ot=Oe=null,Hu=!1,Zl=0,ja=null,n)throw Error(r(300));t===null||Lt||(t=t.dependencies,t!==null&&Vu(t)&&(Lt=!0))}function _g(t,n,a,l){Oe=t;var h=0;do{if(ka&&(ja=null),Zl=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,jt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=ey,f=n(a,l)}while(ka);return f}function QT(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?Wl(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Tf(){var t=Fu!==0;return Fu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}Wi=0,jt=ot=Oe=null,ka=!1,Zl=Fu=0,ja=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Oe.memoizedState=jt=t:jt=jt.next=t,jt}function Ct(){if(ot===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=jt===null?Oe.memoizedState:jt.next;if(n!==null)jt=n,ot=t;else{if(t===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},jt===null?Oe.memoizedState=jt=t:jt=jt.next=t}return jt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var n=Zl;return Zl+=1,ja===null&&(ja=[]),t=og(ja,t,n),n=Oe,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?Wg:jf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===Te)return en(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=Oe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gu(),Oe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function es(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=Ct();return xf(n,ot,t)}function xf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,N=null,P=n,Q=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Be&$)===$:(Wi&$)===$){var q=P.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Ia&&(Q=!0);else if((Wi&q)===q){P=P.next,q===Ia&&(Q=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=$,p=f):N=N.next=$,Oe.lanes|=q,Bs|=q;$=P.action,Fr&&a(f,$),f=P.hasEagerState?P.eagerState:a(f,$)}else q={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=q,p=f):N=N.next=q,Oe.lanes|=$,Bs|=$;P=P.next}while(P!==null&&P!==n);if(N===null?p=f:N.next=E,!Rn(f,t.memoizedState)&&(Lt=!0,Q&&(a=Da,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=Ct(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Rn(f,n.memoizedState)||(Lt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function vg(t,n,a){var l=Oe,h=Ct(),f=Ye;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!Rn((ot||h).memoizedState,a);if(p&&(h.memoizedState=a,Lt=!0),h=h.queue,If(Tg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Eg.bind(null,l,h,a,n),null),ft===null)throw Error(r(349));f||(Wi&127)!==0||bg(l,n,a)}return a}function bg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Oe.updateQueue,n===null?(n=Gu(),Oe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Eg(t,n,a,l){n.value=a,n.getSnapshot=l,Sg(n)&&Ag(t)}function Tg(t,n,a){return a(function(){Sg(n)&&Ag(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Rn(t,a)}catch{return!0}}function Ag(t){var n=kr(t,2);n!==null&&En(n,t,2)}function Nf(t){var n=mn();if(typeof t=="function"){var a=t;if(t=a(),Fr){jn(!0);try{a()}finally{jn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},n}function wg(t,n,a,l){return t.baseState=a,xf(t,ot,typeof l=="function"?l:es)}function YT(t,n,a,l,h){if($u(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};z.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,xg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function xg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=z.T,p={};z.T=p;try{var E=a(h,l),N=z.S;N!==null&&N(p,E),Rg(t,n,E)}catch(P){Cf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),z.T=f}}else try{f=a(h,l),Rg(t,n,f)}catch(P){Cf(t,n,P)}}function Rg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ng(t,n,l)},function(l){return Cf(t,n,l)}):Ng(t,n,a)}function Ng(t,n,a){n.status="fulfilled",n.value=a,Cg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,xg(t,a)))}function Cf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Cg(n),n=n.next;while(n!==l)}t.action=null}function Cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function Dg(t,n){if(Ye){var a=ft.formState;if(a!==null){e:{var l=Oe;if(Ye){if(mt){t:{for(var h=mt,f=Gn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=Yn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(n=a[0])}}return a=mn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},a.queue=l,a=$g.bind(null,Oe,l),l.dispatch=a,l=Nf(!1),f=kf.bind(null,Oe,!1,l.queue),l=mn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=YT.bind(null,Oe,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Og(t){var n=Ct();return Mg(n,ot,t)}function Mg(t,n,a){if(n=xf(t,n,Ig)[0],t=Yu(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wl(n)}catch(p){throw p===Oa?Lu:p}else l=n;n=Ct();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Oe.flags|=2048,La(9,{destroy:void 0},KT.bind(null,h,a),null)),[l,f,t]}function KT(t,n){t.action=n}function Vg(t){var n=Ct(),a=ot;if(a!==null)return Mg(n,a,t);Ct(),n=n.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function La(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Gu(),Oe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function kg(){return Ct().memoizedState}function Ku(t,n,a,l){var h=mn();Oe.flags|=t,h.memoizedState=La(1|n,{destroy:void 0},a,l===void 0?null:l)}function Xu(t,n,a,l){var h=Ct();l=l===void 0?null:l;var f=h.memoizedState.inst;ot!==null&&l!==null&&bf(l,ot.memoizedState.deps)?h.memoizedState=La(n,f,a,l):(Oe.flags|=t,h.memoizedState=La(1|n,f,a,l))}function jg(t,n){Ku(8390656,8,t,n)}function If(t,n){Xu(2048,8,t,n)}function XT(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Gu(),Oe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lg(t){var n=Ct().memoizedState;return XT({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ug(t,n){return Xu(4,2,t,n)}function Pg(t,n){return Xu(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qg(t,n,a){a=a!=null?a.concat([t]):null,Xu(4,4,zg.bind(null,n,t),a)}function Df(){}function Bg(t,n){var a=Ct();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&bf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Hg(t,n){var a=Ct();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&bf(n,l[1]))return l[0];if(l=t(),Fr){jn(!0);try{t()}finally{jn(!1)}}return a.memoizedState=[l,n],l}function Of(t,n,a){return a===void 0||(Wi&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Fy(),Oe.lanes|=t,Bs|=t,a)}function Fg(t,n,a,l){return Rn(a,n)?a:Va.current!==null?(t=Of(t,a,l),Rn(t,n)||(Lt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Be&261930)===0?(Lt=!0,t.memoizedState=a):(t=Fy(),Oe.lanes|=t,Bs|=t,n)}function Gg(t,n,a,l,h){var f=G.p;G.p=f!==0&&8>f?f:8;var p=z.T,E={};z.T=E,kf(t,!1,n,a);try{var N=h(),P=z.S;if(P!==null&&P(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=FT(N,l);eo(t,n,Q,Mn(t))}else eo(t,n,l,Mn(t))}catch($){eo(t,n,{then:function(){},status:"rejected",reason:$},Mn())}finally{G.p=f,p!==null&&E.types!==null&&(p.types=E.types),z.T=p}}function $T(){}function Mf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Qg(t).queue;Gg(t,h,n,Z,a===null?$T:function(){return Yg(t),a(l)})}function Qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:Z},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Yg(t){var n=Qg(t);n.next===null&&(n=t.alternate.memoizedState),eo(t,n.next.queue,{},Mn())}function Vf(){return en(_o)}function Kg(){return Ct().memoizedState}function Xg(){return Ct().memoizedState}function JT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Mn();t=js(a);var l=Ls(n,t,a);l!==null&&(En(l,n,a),Xl(l,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function ZT(t,n,a){var l=Mn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(t)?Jg(n,a):(a=Jh(t,n,a,l),a!==null&&(En(a,t,l),Zg(a,n,l)))}function $g(t,n,a){var l=Mn();eo(t,n,a,l)}function eo(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(t))Jg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,Rn(E,p))return Iu(t,n,h,0),ft===null&&Cu(),!1}catch{}finally{}if(a=Jh(t,n,h,l),a!==null)return En(a,t,l),Zg(a,n,l),!0}return!1}function kf(t,n,a,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(r(479))}else n=Jh(t,a,l,2),n!==null&&En(n,t,2)}function $u(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Jg(t,n){ka=Hu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Zg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Tl(t,a)}}var to={readContext:en,use:Qu,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};to.useEffectEvent=St;var Wg={readContext:en,use:Qu,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:en,useEffect:jg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,zg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var a=mn();n=n===void 0?null:n;var l=t();if(Fr){jn(!0);try{t()}finally{jn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=mn();if(a!==void 0){var h=a(n);if(Fr){jn(!0);try{a(n)}finally{jn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ZT.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,a=$g.bind(null,Oe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,n){var a=mn();return Of(a,t,n)},useTransition:function(){var t=Nf(!1);return t=Gg.bind(null,Oe,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Oe,h=mn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ft===null)throw Error(r(349));(Be&127)!==0||bg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,jg(Tg.bind(null,l,f,t),[t]),l.flags|=2048,La(9,{destroy:void 0},Eg.bind(null,l,f,a,n),null),a},useId:function(){var t=mn(),n=ft.identifierPrefix;if(Ye){var a=Mi,l=Oi;a=(l&~(1<<32-xt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Fu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=GT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var n=mn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,Oe,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return mn().memoizedState=JT.bind(null,Oe)},useEffectEvent:function(t){var n=mn(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},jf={readContext:en,use:Qu,useCallback:Bg,useContext:en,useEffect:If,useImperativeHandle:qg,useInsertionEffect:Ug,useLayoutEffect:Pg,useMemo:Hg,useReducer:Yu,useRef:kg,useState:function(){return Yu(es)},useDebugValue:Df,useDeferredValue:function(t,n){var a=Ct();return Fg(a,ot.memoizedState,t,n)},useTransition:function(){var t=Yu(es)[0],n=Ct().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:vg,useId:Kg,useHostTransitionStatus:Vf,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var a=Ct();return wg(a,ot,t,n)},useMemoCache:wf,useCacheRefresh:Xg};jf.useEffectEvent=Lg;var ey={readContext:en,use:Qu,useCallback:Bg,useContext:en,useEffect:If,useImperativeHandle:qg,useInsertionEffect:Ug,useLayoutEffect:Pg,useMemo:Hg,useReducer:Rf,useRef:kg,useState:function(){return Rf(es)},useDebugValue:Df,useDeferredValue:function(t,n){var a=Ct();return ot===null?Of(a,t,n):Fg(a,ot.memoizedState,t,n)},useTransition:function(){var t=Rf(es)[0],n=Ct().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:vg,useId:Kg,useHostTransitionStatus:Vf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var a=Ct();return ot!==null?wg(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Xg};ey.useEffectEvent=Lg;function Lf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Mn(),h=js(l);h.payload=n,a!=null&&(h.callback=a),n=Ls(t,h,l),n!==null&&(En(n,t,l),Xl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Mn(),h=js(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ls(t,h,l),n!==null&&(En(n,t,l),Xl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Mn(),l=js(a);l.tag=2,n!=null&&(l.callback=n),n=Ls(t,l,a),n!==null&&(En(n,t,a),Xl(n,t,a))}};function ty(t,n,a,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!ql(a,l)||!ql(h,f):!0}function ny(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function Gr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function iy(t){Nu(t)}function sy(t){console.error(t)}function ry(t){Nu(t)}function Ju(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ay(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,n)},a}function ly(t){return t=js(t),t.tag=3,t}function oy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ay(n,a,l),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function WT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ca(n,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?uc():a.alternate===null&&At===0&&(At=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return a.flags|=65536,l===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),cd(t,l,h)),!1}throw Error(r(435,a.tag))}return cd(t,l,h),uc(),!1}if(Ye)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(r(422),{cause:l}),Fl(Bn(t,a)))):(l!==sf&&(n=Error(r(423),{cause:l}),Fl(Bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Bn(l,a),h=Pf(t.stateNode,l,h),pf(t,h),At!==4&&(At=2)),!1;var f=Error(r(520),{cause:l});if(f=Bn(f,a),uo===null?uo=[f]:uo.push(f),At!==4&&(At=2),n===null)return!0;l=Bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pf(a.stateNode,l,t),pf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ly(h),oy(h,t,a,l),pf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(r(461)),Lt=!1;function tn(t,n,a,l){n.child=t===null?fg(n,null,a,l):Hr(n,t.child,a,l)}function uy(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Pr(n),l=Ef(t,n,a,p,f,h),E=Tf(),t!==null&&!Lt?(Sf(t,n,h),ts(t,n,h)):(Ye&&E&&tf(n),n.flags|=1,tn(t,n,l,h),n.child)}function cy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hy(t,n,f,l,h)):(t=Ou(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:ql,a(p,l)&&t.ref===n.ref)return ts(t,n,h)}return n.flags|=1,t=Xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(ql(f,l)&&t.ref===n.ref)if(Lt=!1,n.pendingProps=l=f,Kf(t,h))(t.flags&131072)!==0&&(Lt=!0);else return n.lanes=t.lanes,ts(t,n,h)}return qf(t,n,a,l,h)}function fy(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return dy(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?pg(n,f):yf(),gg(n);else return l=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ju(n,f.cachePool),pg(n,f),Ps(),n.memoizedState=null):(t!==null&&ju(n,null),yf(),Ps());return tn(t,n,h,a),n.child}function no(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,a,l,h){var f=hf();return f=f===null?null:{parent:kt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&ju(n,null),yf(),gg(n),t!==null&&Ca(t,n,l,!0),n.childLanes=h,null}function Zu(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,a){return Hr(n,t.child,null,a),t=Zu(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function e1(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=Zu(n,l),n.lanes=536870912,no(null,t);if(vf(n),(t=mt)?(t=x_(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Jp(t),a.return=n,n.child=a,Wt=n,mt=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return Zu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Lt||Ca(t,n,a,!1),h=(a&t.childLanes)!==0,Lt||h){if(l=ft,l!==null&&(p=Sl(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,kr(t,p),En(l,t,p),zf;uc(),n=my(t,n,a)}else t=f.treeContext,mt=Yn(p.nextSibling),Wt=n,Ye=!0,Os=null,Gn=!1,t!==null&&eg(n,t),n=Zu(n,l),n.flags|=4096;return n}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function qf(t,n,a,l,h){return Pr(n),a=Ef(t,n,a,l,void 0,h),l=Tf(),t!==null&&!Lt?(Sf(t,n,h),ts(t,n,h)):(Ye&&l&&tf(n),n.flags|=1,tn(t,n,a,h),n.child)}function py(t,n,a,l,h,f){return Pr(n),n.updateQueue=null,a=_g(n,l,a,h),yg(t),l=Tf(),t!==null&&!Lt?(Sf(t,n,f),ts(t,n,f)):(Ye&&l&&tf(n),n.flags|=1,tn(t,n,a,f),n.child)}function gy(t,n,a,l,h){if(Pr(n),n.stateNode===null){var f=wa,p=a.contextType;typeof p=="object"&&p!==null&&(f=en(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?en(p):wa,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Lf(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Jl(n,l,f,h),$l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Gr(a,E);f.props=N;var P=f.context,Q=a.contextType;p=wa,typeof Q=="object"&&Q!==null&&(p=en(Q));var $=a.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&ny(n,f,l,p),ks=!1;var q=n.memoizedState;f.state=q,Jl(n,l,f,h),$l(),P=n.memoizedState,E||q!==P||ks?(typeof $=="function"&&(Lf(n,a,$,l),P=n.memoizedState),(N=ks||ty(n,a,N,l,q,P,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),p=n.memoizedProps,Q=Gr(a,p),f.props=Q,$=n.pendingProps,q=f.context,P=a.contextType,N=wa,typeof P=="object"&&P!==null&&(N=en(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||q!==N)&&ny(n,f,l,N),ks=!1,q=n.memoizedState,f.state=q,Jl(n,l,f,h),$l();var H=n.memoizedState;p!==$||q!==H||ks||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Lf(n,a,E,l),H=n.memoizedState),(Q=ks||ty(n,a,Q,l,q,H,N)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Hr(n,t.child,null,h),n.child=Hr(n,null,a,h)):tn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ts(t,n,h),t}function yy(t,n,a,l){return Lr(),n.flags|=256,tn(t,n,a,l),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:ag()}}function Ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=On),t}function _y(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?Us(n):Ps(),(t=mt)?(t=x_(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Jp(t),a.return=n,n.child=a,Wt=n,mt=null)):t=null,t===null)throw Ms(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ps(),h=n.mode,E=ec({mode:"hidden",children:E},h),l=jr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Hf(a),l.childLanes=Ff(t,p,a),n.memoizedState=Bf,no(null,l)):(Us(n),Gf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Qf(t,n,a)):n.memoizedState!==null?(Ps(),n.child=t.child,n.flags|=128,n=null):(Ps(),E=l.fallback,h=n.mode,l=ec({mode:"visible",children:l.children},h),E=jr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Hr(n,t.child,null,a),l=n.child,l.memoizedState=Hf(a),l.childLanes=Ff(t,p,a),n.memoizedState=Bf,n=no(null,l));else if(Us(n),xd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(r(419)),l.stack="",l.digest=p,Fl({value:l,source:null,stack:null}),n=Qf(t,n,a)}else if(Lt||Ca(t,n,a,!1),p=(a&t.childLanes)!==0,Lt||p){if(p=ft,p!==null&&(l=Sl(p,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,kr(t,l),En(p,t,l),zf;wd(E)||uc(),n=Qf(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,mt=Yn(E.nextSibling),Wt=n,Ye=!0,Os=null,Gn=!1,t!==null&&eg(n,t),n=Gf(n,l.children),n.flags|=4096);return n}return h?(Ps(),E=l.fallback,h=n.mode,N=t.child,P=N.sibling,l=Xi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,P!==null?E=Xi(P,E):(E=jr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,no(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(N=kt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ag(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Ff(t,p,a),n.memoizedState=Bf,no(t.child,l)):(Us(n),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Gf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Nn(22,t,null,n),t.lanes=0,t}function Qf(t,n,a){return Hr(n,t.child,null,a),t=Gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,a)}function Yf(t,n,a,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function by(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Nt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,W(Nt,p),tn(t,n,l,a),l=Ye?Hl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,a,n);else if(t.tag===19)vy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Bu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,f,l);break;case"together":Yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ts(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Bs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ca(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Xi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function t1(t,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),Vs(n,kt,t.memoizedState.cache),Lr();break;case 27:case 5:Ke(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_y(t,n,a):(Us(n),t=ts(t,n,a),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ca(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return by(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Nt,Nt.current),l)break;return null;case 22:return n.lanes=0,fy(t,n,a,n.pendingProps);case 24:Vs(n,kt,t.memoizedState.cache)}return ts(t,n,a)}function Ey(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Lt=!0;else{if(!Kf(t,a)&&(n.flags&128)===0)return Lt=!1,t1(t,n,a);Lt=(t.flags&131072)!==0}else Lt=!1,Ye&&(n.flags&1048576)!==0&&Wp(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=qr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=Gr(t,l),n.tag=1,n=gy(null,n,t,l,a)):(n.tag=0,n=qf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===tt){n.tag=11,n=uy(null,n,t,l,a);break e}else if(h===D){n.tag=14,n=cy(null,n,t,l,a);break e}}throw n=ce(t)||t,Error(r(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Gr(l,n.pendingProps),gy(t,n,l,h,a);case 3:e:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),Jl(n,l,null,a);var p=n.memoizedState;if(l=p.cache,Vs(n,kt,l),l!==f.cache&&of(n,[kt],a,!0),$l(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,l,a);break e}else if(l!==h){h=Bn(Error(r(424)),n),Fl(h),n=yy(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=Yn(t.firstChild),Wt=n,Ye=!0,Os=null,Gn=!0,a=fg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Lr(),l===h){n=ts(t,n,a);break e}tn(t,n,l,a)}n=n.child}return n;case 26:return Wu(t,n),t===null?(a=O_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ye||(a=n.type,t=n.pendingProps,l=gc(ge.current).createElement(a),l[Ot]=n,l[Gt]=t,nn(l,a,t),Mt(l),n.stateNode=l):n.memoizedState=O_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ke(n),t===null&&Ye&&(l=n.stateNode=C_(n.type,n.pendingProps,ge.current),Wt=n,Gn=!0,h=mt,Ys(n.type)?(Rd=h,mt=Yn(l.firstChild)):mt=h),tn(t,n,n.pendingProps.children,a),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=l=mt)&&(l=D1(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Wt=n,mt=Yn(l.firstChild),Gn=!1,h=!0):h=!1),h||Ms(n)),Ke(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Td(h,f)?l=null:p!==null&&Td(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,QT,null,null,a),_o._currentValue=h),Wu(t,n),tn(t,n,l,a),n.child;case 6:return t===null&&Ye&&((t=a=mt)&&(a=O1(a,n.pendingProps,Gn),a!==null?(n.stateNode=a,Wt=n,mt=null,t=!0):t=!1),t||Ms(n)),null;case 13:return _y(t,n,a);case 4:return Ve(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Hr(n,null,l,a):tn(t,n,l,a),n.child;case 11:return uy(t,n,n.type,n.pendingProps,a);case 7:return tn(t,n,n.pendingProps,a),n.child;case 8:return tn(t,n,n.pendingProps.children,a),n.child;case 12:return tn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Vs(n,n.type,l.value),tn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Pr(n),h=en(h),l=l(h),n.flags|=1,tn(t,n,l,a),n.child;case 14:return cy(t,n,n.type,n.pendingProps,a);case 15:return hy(t,n,n.type,n.pendingProps,a);case 19:return by(t,n,a);case 31:return e1(t,n,a);case 22:return fy(t,n,a,n.pendingProps);case 24:return Pr(n),l=en(kt),t===null?(h=hf(),h===null&&(h=ft,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},df(n),Vs(n,kt,h)):((t.lanes&a)!==0&&(mf(t,n),Jl(n,null,null,a),$l()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,kt,l)):(l=f.cache,Vs(n,kt,l),l!==h.cache&&of(n,[kt],a,!0))),tn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ns(t){t.flags|=4}function Xf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ky())t.flags|=8192;else throw Br=Uu,ff}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(n))if(Ky())t.flags|=8192;else throw Br=Uu,ff}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lu():536870912,t.lanes|=n,qa|=n)}function io(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function n1(t,n,a){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Zi(kt),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(n)?ns(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),pt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ns(n),f!==null?(pt(n),Ty(n,f)):(pt(n),Xf(n,h,null,l,a))):f?f!==t.memoizedState?(ns(n),pt(n),Ty(n,f)):(pt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ns(n),pt(n),Xf(n,h,t,l,a)),null;case 27:if(je(n),a=ge.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return pt(n),null}t=ie.current,Na(n)?tg(n):(t=C_(h,l,a),n.stateNode=t,ns(n))}return pt(n),null;case 5:if(je(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return pt(n),null}if(f=ie.current,Na(n))tg(n);else{var p=gc(ge.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ot]=n,f[Gt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(nn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ns(n)}}return pt(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ns(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ge.current,Na(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ot]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||__(t.nodeValue,a)),t||Ms(n,!0)}else t=gc(t).createTextNode(l),t[Ot]=n,n.stateNode=t}return pt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Na(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ot]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),t=!1}else a=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(r(558))}return pt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ot]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),pt(n),null);case 4:return me(),t===null&&yd(n.stateNode.containerInfo),pt(n),null;case 10:return Zi(n.type),pt(n),null;case 19:if(F(Nt),l=n.memoizedState,l===null)return pt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)io(l,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,io(l,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)$p(a,t),a=a.sibling;return W(Nt,Nt.current&1|2),Ye&&$i(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$t()>ac&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),io(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return pt(n),null}else 2*$t()-l.renderingStartTime>ac&&a!==536870912&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$t(),t.sibling=null,a=Nt.current,W(Nt,h?a&1|2:a&1),Ye&&$i(n,l.treeForkCount),t):(pt(n),null);case 22:case 23:return In(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&F(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zi(kt),pt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function i1(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Zi(kt),me(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return je(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(r(340));Lr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Lr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(Nt),null;case 4:return me(),null;case 10:return Zi(n.type),null;case 22:case 23:return In(n),_f(),t!==null&&F(zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Zi(kt),null;case 25:return null;default:return null}}function Sy(t,n){switch(nf(n),n.tag){case 3:Zi(kt),me();break;case 26:case 27:case 5:je(n);break;case 4:me();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:F(Nt);break;case 10:Zi(n.type);break;case 22:case 23:In(n),_f(),t!==null&&F(zr);break;case 24:Zi(kt)}}function so(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==h)}}catch(E){at(n,n.return,E)}}function zs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var N=a,P=E;try{P()}catch(Q){at(h,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){at(n,n.return,Q)}}function Ay(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{mg(n,a)}catch(l){at(t,t.return,l)}}}function wy(t,n,a){a.props=Gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,n,l)}}function ro(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,n,h)}}function Vi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,n,h)}else a.current=null}function xy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function $f(t,n,a){try{var l=t.stateNode;w1(l,t.type,a,n),l[Gt]=n}catch(h){at(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ii));else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,a),t=t.sibling;t!==null;)Zf(t,n,a),t=t.sibling}function nc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nc(t,n,a),t=t.sibling;t!==null;)nc(t,n,a),t=t.sibling}function Ny(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,l,a),n[Ot]=t,n[Gt]=a}catch(f){at(t,t.return,f)}}var is=!1,Ut=!1,Wf=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function s1(t,n){if(t=t.containerInfo,bd=Sc,t=qp(t),Gh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,E=-1,N=-1,P=0,Q=0,$=t,q=null;t:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=p+h),$!==f||l!==0&&$.nodeType!==3||(N=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)q=$,$=H;for(;;){if($===t)break t;if(q===a&&++P===h&&(E=p),q===f&&++Q===l&&(N=p),(H=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=H}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:t,selectionRange:a},Sc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var fe=Gr(a.type,h);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){at(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function Iy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rs(t,a),l&4&&so(5,a);break;case 1:if(rs(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){at(a,a.return,p)}else{var h=Gr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){at(a,a.return,p)}}l&64&&Ay(a),l&512&&ro(a,a.return);break;case 3:if(rs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mg(t,n)}catch(p){at(a,a.return,p)}}break;case 27:n===null&&l&4&&Ny(a);case 26:case 5:rs(t,a),n===null&&l&4&&xy(a),l&512&&ro(a,a.return);break;case 12:rs(t,a);break;case 31:rs(t,a),l&4&&My(t,a);break;case 13:rs(t,a),l&4&&Vy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=d1.bind(null,a),M1(t,a))));break;case 22:if(l=a.memoizedState!==null||is,!l){n=n!==null&&n.memoizedState!==null||Ut,h=is;var f=Ut;is=l,(Ut=n)&&!f?as(t,a,(a.subtreeFlags&8772)!==0):rs(t,a),is=h,Ut=f}break;case 30:break;default:rs(t,a)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,yn=!1;function ss(t,n,a){for(a=a.child;a!==null;)Oy(t,n,a),a=a.sibling}function Oy(t,n,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:Ut||Vi(a,n),ss(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Vi(a,n);var l=_t,h=yn;Ys(a.type)&&(_t=a.stateNode,yn=!1),ss(t,n,a),po(a.stateNode),_t=l,yn=h;break;case 5:Ut||Vi(a,n);case 6:if(l=_t,h=yn,_t=null,ss(t,n,a),_t=l,yn=h,_t!==null)if(yn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(f){at(a,n,f)}else try{_t.removeChild(a.stateNode)}catch(f){at(a,n,f)}break;case 18:_t!==null&&(yn?(t=_t,A_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):A_(_t,a.stateNode));break;case 4:l=_t,h=yn,_t=a.stateNode.containerInfo,yn=!0,ss(t,n,a),_t=l,yn=h;break;case 0:case 11:case 14:case 15:zs(2,a,n),Ut||zs(4,a,n),ss(t,n,a);break;case 1:Ut||(Vi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wy(a,n,l)),ss(t,n,a);break;case 21:ss(t,n,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,ss(t,n,a),Ut=l;break;default:ss(t,n,a)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){at(n,n.return,a)}}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){at(n,n.return,a)}}function r1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cy),n;default:throw Error(r(435,t.tag))}}function ic(t,n){var a=r1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=m1.bind(null,t,l);l.then(h,h)}})}function _n(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){_t=E.stateNode,yn=!1;break e}break;case 5:_t=E.stateNode,yn=!1;break e;case 3:case 4:_t=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(_t===null)throw Error(r(160));Oy(f,p,h),_t=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var ui=null;function ky(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(n,t),vn(t),l&4&&(zs(3,t,t.return),so(3,t),zs(5,t,t.return));break;case 1:_n(n,t),vn(t),l&512&&(Ut||a===null||Vi(a,a.return)),l&64&&is&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ui;if(_n(n,t),vn(t),l&512&&(Ut||a===null||Vi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[Ot]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,l,a),f[Ot]=t,Mt(f),l=f;break e;case"link":var p=k_("link","href",h).get(l+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),nn(f,l,a),h.head.appendChild(f);break;case"meta":if(p=k_("meta","content",h).get(l+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}f=h.createElement(l),nn(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ot]=t,Mt(f),l=f}t.stateNode=l}else j_(h,t.type,t.stateNode);else t.stateNode=V_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?j_(h,t.type,t.stateNode):V_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(n,t),vn(t),l&512&&(Ut||a===null||Vi(a,a.return)),a!==null&&l&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(n,t),vn(t),l&512&&(Ut||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(fe){at(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(_n(n,t),vn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){at(t,t.return,fe)}}break;case 3:if(vc=null,h=ui,ui=yc(n.containerInfo),_n(n,t),ui=h,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(fe){at(t,t.return,fe)}Wf&&(Wf=!1,jy(t));break;case 4:l=ui,ui=yc(t.stateNode.containerInfo),_n(n,t),vn(t),ui=l;break;case 12:_n(n,t),vn(t);break;case 31:_n(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:_n(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=$t()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,P=is,Q=Ut;if(is=P||h,Ut=Q||N,_n(n,t),Ut=Q,is=P,vn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||is||Ut||Qr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var $=N.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){at(N,N.return,fe)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){at(N,N.return,fe)}}}else if(n.tag===18){if(a===null){N=n;try{var H=N.stateNode;h?w_(H,!0):w_(N.stateNode,!1)}catch(fe){at(N,N.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ic(t,a))));break;case 19:_n(n,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:_n(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ry(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(t);nc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(gn(p,""),a.flags&=-33);var E=Jf(t);nc(t,E,p);break;case 3:case 4:var N=a.stateNode.containerInfo,P=Jf(t);Zf(t,P,N);break;default:throw Error(r(161))}}catch(Q){at(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;jy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function Qr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Qr(n);break;case 1:Vi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wy(n,n.return,a),Qr(n);break;case 27:po(n.stateNode);case 26:case 5:Vi(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}t=t.sibling}}function as(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:as(h,f,a),so(4,f);break;case 1:if(as(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){at(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)dg(N[h],E)}catch(P){at(l,l.return,P)}}a&&p&64&&Ay(f),ro(f,f.return);break;case 27:Ny(f);case 26:case 5:as(h,f,a),a&&l===null&&p&4&&xy(f),ro(f,f.return);break;case 12:as(h,f,a);break;case 31:as(h,f,a),a&&p&4&&My(h,f);break;case 13:as(h,f,a),a&&p&4&&Vy(h,f);break;case 22:f.memoizedState===null&&as(h,f,a),ro(f,f.return);break;case 30:break;default:as(h,f,a)}n=n.sibling}}function ed(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Gl(a))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t))}function ci(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,l),n=n.sibling}function Ly(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n,a,l),h&2048&&so(9,n);break;case 1:ci(t,n,a,l);break;case 3:ci(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t)));break;case 12:if(h&2048){ci(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){at(n,n.return,N)}}else ci(t,n,a,l);break;case 31:ci(t,n,a,l);break;case 13:ci(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ci(t,n,a,l):ao(t,n):f._visibility&2?ci(t,n,a,l):(f._visibility|=2,Ua(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(p,n);break;case 24:ci(t,n,a,l),h&2048&&td(n.alternate,n);break;default:ci(t,n,a,l)}}function Ua(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=a,N=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ua(f,p,E,N,h),so(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Ua(f,p,E,N,h):ao(f,p):(Q._visibility|=2,Ua(f,p,E,N,h)),h&&P&2048&&ed(p.alternate,p);break;case 24:Ua(f,p,E,N,h),h&&P&2048&&td(p.alternate,p);break;default:Ua(f,p,E,N,h)}n=n.sibling}}function ao(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:ao(a,l),h&2048&&ed(l.alternate,l);break;case 24:ao(a,l),h&2048&&td(l.alternate,l);break;default:ao(a,l)}n=n.sibling}}var lo=8192;function Pa(t,n,a){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)Uy(t,n,a),t=t.sibling}function Uy(t,n,a){switch(t.tag){case 26:Pa(t,n,a),t.flags&lo&&t.memoizedState!==null&&G1(a,ui,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,n,a);break;case 3:case 4:var l=ui;ui=yc(t.stateNode.containerInfo),Pa(t,n,a),ui=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,Pa(t,n,a),lo=l):Pa(t,n,a));break;default:Pa(t,n,a)}}function Py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Yt=l,qy(l,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&zs(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):oo(t);break;default:oo(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Yt=l,qy(l,t)}Py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zs(8,n,n.return),sc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function qy(t,n){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:zs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=t;Yt!==null;){l=Yt;var h=l.sibling,f=l.return;if(Dy(l),l===a){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var a1={getCacheForType:function(t){var n=en(kt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return en(kt).controller.signal}},l1=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,ze=null,Be=0,rt=0,Dn=null,qs=!1,za=!1,nd=!1,ls=0,At=0,Bs=0,Yr=0,id=0,On=0,qa=0,uo=null,bn=null,sd=!1,rc=0,By=0,ac=1/0,lc=null,Hs=null,Ht=0,Fs=null,Ba=null,os=0,rd=0,ad=null,Hy=null,co=0,ld=null;function Mn(){return(et&2)!==0&&Be!==0?Be&-Be:z.T!==null?dd():ou()}function Fy(){if(On===0)if((Be&536870912)===0||Ye){var t=br;br<<=1,(br&3932160)===0&&(br=262144),On=t}else On=536870912;return t=Cn.current,t!==null&&(t.flags|=32),On}function En(t,n,a){(t===ft&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Gs(t,Be,On,!1)),Er(t,a),((et&2)===0||t!==ft)&&(t===ft&&((et&2)===0&&(Yr|=a),At===4&&Gs(t,Be,On,!1)),ki(t))}function Gy(t,n,a){if((et&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ei(t,n),h=l?c1(t,n):ud(t,n,!0),f=l;do{if(h===0){za&&!l&&Gs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!o1(a)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=uo;var N=E.current.memoizedState.isDehydrated;if(N&&(Ha(E,p).flags|=256),p=ud(E,p,!1),p!==2){if(nd&&!N){E.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break e}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ha(t,0),Gs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Gs(l,n,On,!qs);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=rc+300-$t(),10<h)){if(Gs(l,n,On,!qs),yi(l,0,!0)!==0)break e;os=n,l.timeoutHandle=T_(Qy.bind(null,l,a,bn,lc,sd,n,On,Yr,qa,qs,f,"Throttled",-0,0),h);break e}Qy(l,a,bn,lc,sd,n,On,Yr,qa,qs,f,null,-0,0)}}break}while(!0);ki(t)}function Qy(t,n,a,l,h,f,p,E,N,P,Q,$,q,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Uy(n,f,$);var fe=(f&62914560)===f?rc-$t():(f&4194048)===f?By-$t():0;if(fe=Q1($,fe),fe!==null){os=f,t.cancelPendingCommit=fe(e_.bind(null,t,n,f,a,l,h,p,E,N,Q,$,null,q,H)),Gs(t,f,p,!P);return}}e_(t,n,f,a,l,h,p,E,N)}function o1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(t,n,a,l){n&=~id,n&=~Yr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-xt(h),p=1<<f;l[f]=-1,h&=~p}a!==0&&Tr(t,a,n)}function oc(){return(et&6)===0?(ho(0),!1):!0}function od(){if(ze!==null){if(rt===0)var t=ze.return;else t=ze,Ji=Ur=null,Af(t),Ma=null,Yl=0,t=ze;for(;t!==null;)Sy(t.alternate,t),t=t.return;ze=null}}function Ha(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,N1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),os=0,od(),ft=t,ze=a=Xi(t.current,null),Be=n,rt=0,Dn=null,qs=!1,za=ei(t,n),nd=!1,qa=On=id=Yr=Bs=At=0,bn=uo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-xt(l),f=1<<h;n|=t[h],l&=~f}return ls=n,Cu(),a}function Yy(t,n){Oe=null,z.H=to,n===Oa||n===Lu?(n=ug(),rt=3):n===ff?(n=ug(),rt=4):rt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,ze===null&&(At=1,Ju(t,Bn(n,t.current)))}function Ky(){var t=Cn.current;return t===null?!0:(Be&4194048)===Be?Qn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Qn:!1}function Xy(){var t=z.H;return z.H=to,t===null?to:t}function $y(){var t=z.A;return z.A=a1,t}function uc(){At=4,qs||(Be&4194048)!==Be&&Cn.current!==null||(za=!0),(Bs&134217727)===0&&(Yr&134217727)===0||ft===null||Gs(ft,Be,On,!1)}function ud(t,n,a){var l=et;et|=2;var h=Xy(),f=$y();(ft!==t||Be!==n)&&(lc=null,Ha(t,n)),n=!1;var p=At;e:do try{if(rt!==0&&ze!==null){var E=ze,N=Dn;switch(rt){case 8:od(),p=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var P=rt;if(rt=0,Dn=null,Fa(t,E,N,P),a&&za){p=0;break e}break;default:P=rt,rt=0,Dn=null,Fa(t,E,N,P)}}u1(),p=At;break}catch(Q){Yy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ji=Ur=null,et=l,z.H=h,z.A=f,ze===null&&(ft=null,Be=0,Cu()),p}function u1(){for(;ze!==null;)Jy(ze)}function c1(t,n){var a=et;et|=2;var l=Xy(),h=$y();ft!==t||Be!==n?(lc=null,ac=$t()+500,Ha(t,n)):za=ei(t,n);e:do try{if(rt!==0&&ze!==null){n=ze;var f=Dn;t:switch(rt){case 1:rt=0,Dn=null,Fa(t,n,f,1);break;case 2:case 9:if(lg(f)){rt=0,Dn=null,Zy(n);break}n=function(){rt!==2&&rt!==9||ft!==t||(rt=7),ki(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:lg(f)?(rt=0,Dn=null,Zy(n)):(rt=0,Dn=null,Fa(t,n,f,7));break;case 5:var p=null;switch(ze.tag){case 26:p=ze.memoizedState;case 5:case 27:var E=ze;if(p?L_(p):E.stateNode.complete){rt=0,Dn=null;var N=E.sibling;if(N!==null)ze=N;else{var P=E.return;P!==null?(ze=P,cc(P)):ze=null}break t}}rt=0,Dn=null,Fa(t,n,f,5);break;case 6:rt=0,Dn=null,Fa(t,n,f,6);break;case 8:od(),At=6;break e;default:throw Error(r(462))}}h1();break}catch(Q){Yy(t,Q)}while(!0);return Ji=Ur=null,z.H=l,z.A=h,et=a,ze!==null?0:(ft=null,Be=0,Cu(),At)}function h1(){for(;ze!==null&&!Zn();)Jy(ze)}function Jy(t){var n=Ey(t.alternate,t,ls);t.memoizedProps=t.pendingProps,n===null?cc(t):ze=n}function Zy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=py(a,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=py(a,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:Af(n);default:Sy(a,n),n=ze=$p(n,ls),n=Ey(a,n,ls)}t.memoizedProps=t.pendingProps,n===null?cc(t):ze=n}function Fa(t,n,a,l){Ji=Ur=null,Af(n),Ma=null,Yl=0;var h=n.return;try{if(WT(t,h,n,a,Be)){At=1,Ju(t,Bn(a,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;At=1,Ju(t,Bn(a,t.current)),ze=null;return}n.flags&32768?(Ye||l===1?t=!0:za||(Be&536870912)!==0?t=!1:(qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wy(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,qs);return}t=n.return;var a=n1(n.alternate,n,ls);if(a!==null){ze=a;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);At===0&&(At=5)}function Wy(t,n){do{var a=i1(t.alternate,t);if(a!==null){a.flags&=32767,ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=a}while(t!==null);At=6,ze=null}function e_(t,n,a,l,h,f,p,E,N){t.cancelPendingCommit=null;do hc();while(Ht!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,qh(t,a,f,p,E,N),t===ft&&(ze=ft=null,Be=0),Ba=n,Fs=t,os=a,rd=f,ad=h,Hy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,p1(Es,function(){return r_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,h=G.p,G.p=2,p=et,et|=4;try{s1(t,n,a)}finally{et=p,G.p=h,z.T=l}}Ht=1,t_(),n_(),i_()}}function t_(){if(Ht===1){Ht=0;var t=Fs,n=Ba,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=G.p;G.p=2;var h=et;et|=4;try{ky(n,t);var f=Ed,p=qp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&zp(E.ownerDocument.documentElement,E)){if(N!==null&&Gh(E)){var P=N.start,Q=N.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var H=q.getSelection(),fe=E.textContent.length,Ee=Math.min(N.start,fe),ct=N.end===void 0?Ee:Math.min(N.end,fe);!H.extend&&Ee>ct&&(p=ct,ct=Ee,Ee=p);var j=Pp(E,Ee),M=Pp(E,ct);if(j&&M&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var U=$.createRange();U.setStart(j.node,j.offset),H.removeAllRanges(),Ee>ct?(H.addRange(U),H.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),H.addRange(U))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Sc=!!bd,Ed=bd=null}finally{et=h,G.p=l,z.T=a}}t.current=n,Ht=2}}function n_(){if(Ht===2){Ht=0;var t=Fs,n=Ba,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=G.p;G.p=2;var h=et;et|=4;try{Iy(t,n.alternate,n)}finally{et=h,G.p=l,z.T=a}}Ht=3}}function i_(){if(Ht===4||Ht===3){Ht=0,bs();var t=Fs,n=Ba,a=os,l=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ht=5:(Ht=0,Ba=Fs=null,s_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hs=null),Gi(a),n=n.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Wn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,h=G.p,G.p=2,z.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{z.T=n,G.p=h}}(os&3)!==0&&hc(),ki(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ld?co++:(co=0,ld=t):co=0,ho(0)}}function s_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Gl(n)))}function hc(){return t_(),n_(),i_(),r_()}function r_(){if(Ht!==5)return!1;var t=Fs,n=rd;rd=0;var a=Gi(os),l=z.T,h=G.p;try{G.p=32>a?32:a,z.T=null,a=ad,ad=null;var f=Fs,p=os;if(Ht=0,Ba=Fs=null,os=0,(et&6)!==0)throw Error(r(331));var E=et;if(et|=4,zy(f.current),Ly(f,f.current,p,a),et=E,ho(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{G.p=h,z.T=l,s_(t,n)}}function a_(t,n,a){n=Bn(a,n),n=Pf(t.stateNode,n,2),t=Ls(t,n,2),t!==null&&(Er(t,2),ki(t))}function at(t,n,a){if(t.tag===3)a_(t,t,a);else for(;n!==null;){if(n.tag===3){a_(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hs===null||!Hs.has(l))){t=Bn(a,t),a=ly(2),l=Ls(n,a,2),l!==null&&(oy(a,l,n,t),Er(l,2),ki(l));break}}n=n.return}}function cd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new l1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(nd=!0,h.add(a),t=f1.bind(null,t,n,a),n.then(t,t))}function f1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(Be&a)===a&&(At===4||At===3&&(Be&62914560)===Be&&300>$t()-rc?(et&2)===0&&Ha(t,0):id|=a,qa===Be&&(qa=0)),ki(t)}function l_(t,n){n===0&&(n=lu()),t=kr(t,n),t!==null&&(Er(t,n),ki(t))}function d1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),l_(t,a)}function m1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),l_(t,a)}function p1(t,n){return bt(t,n)}var fc=null,Ga=null,hd=!1,dc=!1,fd=!1,Qs=0;function ki(t){t!==Ga&&t.next===null&&(Ga===null?fc=Ga=t:Ga=Ga.next=t),dc=!0,hd||(hd=!0,y1())}function ho(t,n){if(!fd&&dc){fd=!0;do for(var a=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-xt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h_(l,f))}else f=Be,f=yi(l,l===ft?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ei(l,f)||(a=!0,h_(l,f));l=l.next}while(a);fd=!1}}function g1(){o_()}function o_(){dc=hd=!1;var t=0;Qs!==0&&R1()&&(t=Qs);for(var n=$t(),a=null,l=fc;l!==null;){var h=l.next,f=u_(l,n);f===0?(l.next=null,a===null?fc=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(f&3)!==0)&&(dc=!0)),l=h}Ht!==0&&Ht!==5||ho(t),Qs!==0&&(Qs=0)}function u_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-xt(f),E=1<<p,N=h[p];N===-1?((E&a)===0||(E&l)!==0)&&(h[p]=zh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=ft,a=Be,a=yi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&kn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&kn(l),Gi(a)){case 2:case 8:a=vr;break;case 32:a=Es;break;case 268435456:a=nu;break;default:a=Es}return l=c_.bind(null,t),a=bt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&kn(l),t.callbackPriority=2,t.callbackNode=null,2}function c_(t,n){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hc()&&t.callbackNode!==a)return null;var l=Be;return l=yi(t,t===ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Gy(t,l,n),u_(t,$t()),t.callbackNode!=null&&t.callbackNode===a?c_.bind(null,t):null)}function h_(t,n){if(hc())return null;Gy(t,n,!0)}function y1(){C1(function(){(et&6)!==0?bt(_r,g1):o_()})}function dd(){if(Qs===0){var t=Ia;t===0&&(t=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Qs=t}return Qs}function f_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function d_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function _1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=f_((h[Gt]||null).action),p=l.submitter;p&&(n=(n=p[Gt]||null)?f_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Ni("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var N=p?d_(h,p):new FormData(h);Mf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?d_(h,p):new FormData(h),Mf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var pd=Xh[md],v1=pd.toLowerCase(),b1=pd[0].toUpperCase()+pd.slice(1);oi(v1,"on"+b1)}oi(Fp,"onAnimationEnd"),oi(Gp,"onAnimationIteration"),oi(Qp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(jT,"onTransitionRun"),oi(LT,"onTransitionStart"),oi(UT,"onTransitionCancel"),oi(Yp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function m_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],N=E.instance,P=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(E=l[p],N=E.instance,P=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=N}}}}function qe(t,n){var a=n[ca];a===void 0&&(a=n[ca]=new Set);var l=t+"__bubble";a.has(l)||(p_(n,t,2,!1),a.add(l))}function gd(t,n,a){var l=0;n&&(l|=4),p_(a,t,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[mc]){t[mc]=!0,Al.forEach(function(a){a!=="selectionchange"&&(E1.has(a)||gd(a,!1,t),gd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,gd("selectionchange",!1,n))}}function p_(t,n,a,l){switch(F_(n)){case 2:var h=X1;break;case 8:h=$1;break;default:h=Od}a=h.bind(null,n,a,t),h=void 0,!Rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function _d(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ei(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}E=E.parentNode}}l=l.return}Rs(function(){var P=f,Q=Un(a),$=[];e:{var q=Kp.get(t);if(q!==void 0){var H=Ni,fe=t;switch(t){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":H=wu;break;case"focusin":fe="focus",H=Dr;break;case"focusout":fe="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fp:case Gp:case Qp:H=_u;break;case Yp:H=T;break;case"scroll":case"scrollend":H=jl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ki;break;case"toggle":case"beforetoggle":H=De}var Ee=(n&4)!==0,ct=!Ee&&(t==="scroll"||t==="scrollend"),j=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var M=P,U;M!==null;){var K=M;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||j===null||(K=si(M,j),K!=null&&Ee.push(mo(M,K,U))),ct)break;M=M.return}0<Ee.length&&(q=new H(q,fe,null,a,Q),$.push({event:q,listeners:Ee}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Ml&&(fe=a.relatedTarget||a.fromElement)&&(Ei(fe)||fe[vi]))break e;if((H||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,H?(fe=a.relatedTarget||a.toElement,H=P,fe=fe?Ei(fe):null,fe!==null&&(ct=c(fe),Ee=fe.tag,fe!==ct||Ee!==5&&Ee!==27&&Ee!==6)&&(fe=null)):(H=null,fe=P),H!==fe)){if(Ee=Ll,K="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Ki,K="onPointerLeave",j="onPointerEnter",M="pointer"),ct=H==null?q:wn(H),U=fe==null?q:wn(fe),q=new Ee(K,M+"leave",H,a,Q),q.target=ct,q.relatedTarget=U,K=null,Ei(Q)===P&&(Ee=new Ee(j,M+"enter",fe,a,Q),Ee.target=U,Ee.relatedTarget=ct,K=Ee),ct=K,H&&fe)t:{for(Ee=T1,j=H,M=fe,U=0,K=j;K;K=Ee(K))U++;K=0;for(var ye=M;ye;ye=Ee(ye))K++;for(;0<U-K;)j=Ee(j),U--;for(;0<K-U;)M=Ee(M),K--;for(;U--;){if(j===M||M!==null&&j===M.alternate){Ee=j;break t}j=Ee(j),M=Ee(M)}Ee=null}else Ee=null;H!==null&&g_($,q,H,Ee,!1),fe!==null&&ct!==null&&g_($,ct,fe,Ee,!0)}}e:{if(q=P?wn(P):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var $e=Mp;else if(Dp(q))if(Vp)$e=MT;else{$e=DT;var de=IT}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&ma(P.elementType)&&($e=Mp):$e=OT;if($e&&($e=$e(t,P))){Op($,$e,a,Q);break e}de&&de(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Il(q,"number",q.value)}switch(de=P?wn(P):window,t){case"focusin":(Dp(de)||de.contentEditable==="true")&&(Ta=de,Qh=P,Bl=null);break;case"focusout":Bl=Qh=Ta=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Bp($,a,Q);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":Bp($,a,Q)}var Me;if(We)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ea?Or(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Di&&a.locale!=="ko"&&(Ea||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ea&&(Me=kl()):(Ri=Q,Vl="value"in Ri?Ri.value:Ri.textContent,Ea=!0)),de=pc(P,He),0<de.length&&(He=new Ii(He,t,null,a,Q),$.push({event:He,listeners:de}),Me?He.data=Me:(Me=ba(a),Me!==null&&(He.data=Me)))),(Me=zn?xT(t,a):RT(t,a))&&(He=pc(P,"onBeforeInput"),0<He.length&&(de=new Ii("onBeforeInput","beforeinput",null,a,Q),$.push({event:de,listeners:He}),de.data=Me)),_1($,t,P,a,Q)}m_($,n)})}function mo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function pc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(t,a),h!=null&&l.unshift(mo(t,h,f)),h=si(t,n),h!=null&&l.push(mo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function T1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g_(t,n,a,l,h){for(var f=n._reactName,p=[];a!==null&&a!==l;){var E=a,N=E.alternate,P=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||P===null||(N=P,h?(P=si(a,f),P!=null&&p.unshift(mo(a,P,N))):h||(P=si(a,f),P!=null&&p.push(mo(a,P,N)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var S1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function y_(t){return(typeof t=="string"?t:""+t).replace(S1,`
`).replace(A1,"")}function __(t,n){return n=y_(n),y_(t)===n}function ut(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":xn(t,"class",l);break;case"tabIndex":xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(t,a,l);break;case"style":Ol(t,l,f);break;case"data":if(n!=="object"){xn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ii);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),fa(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,fa(t,a,l))}}function vd(t,n,a,l,h,f){switch(a){case"style":Ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fa(t,a,l)}}}function nn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,f,p,a,null)}}h&&ut(t,n,"srcSet",a.srcSet,a,null),l&&ut(t,n,"src",a.src,a,null);return;case"input":qe("invalid",t);var E=f=p=h=null,N=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":N=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:ut(t,n,l,Q,a,null)}}fu(t,f,E,N,P,p,h,!1);return;case"select":qe("invalid",t),l=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ut(t,n,h,E,a,null)}n=f,a=p,t.multiple=!!l,n!=null?Ss(t,!!l,n,!1):a!=null&&Ss(t,!!l,a,!0);return;case"textarea":qe("invalid",t),f=h=l=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ut(t,n,p,E,a,null)}As(t,l,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,n,N,l,a,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<fo.length;l++)qe(fo[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,P,l,a,null)}return;default:if(ma(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&vd(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ut(t,n,E,l,a,null))}function w1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,N=null,P=null,Q=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=$;default:l.hasOwnProperty(H)||ut(t,n,H,null,l,$)}}for(var q in l){var H=l[q];if($=a[q],l.hasOwnProperty(q)&&(H!=null||$!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&ut(t,n,q,H,l,$)}}da(t,p,E,N,P,Q,f,h);return;case"select":H=p=E=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:l.hasOwnProperty(f)||ut(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&ut(t,n,h,f,l,N)}n=E,a=p,l=H,q!=null?Ss(t,!!a,q,!1):!!l!=!!a&&(n!=null?Ss(t,!!a,n,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=a[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ut(t,n,p,h,l,f)}du(t,q,H);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:ut(t,n,fe,null,l,q)}for(N in l)if(q=l[N],H=a[N],l.hasOwnProperty(N)&&q!==H&&(q!=null||H!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ut(t,n,N,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee)&&ut(t,n,Ee,null,l,q);for(P in l)if(q=l[P],H=a[P],l.hasOwnProperty(P)&&q!==H&&(q!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ut(t,n,P,q,l,H)}return;default:if(ma(n)){for(var ct in a)q=a[ct],a.hasOwnProperty(ct)&&q!==void 0&&!l.hasOwnProperty(ct)&&vd(t,n,ct,void 0,l,q);for(Q in l)q=l[Q],H=a[Q],!l.hasOwnProperty(Q)||q===H||q===void 0&&H===void 0||vd(t,n,Q,q,l,H);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&ut(t,n,j,null,l,q);for($ in l)q=l[$],H=a[$],!l.hasOwnProperty($)||q===H||q==null&&H==null||ut(t,n,$,q,l,H)}function v_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&v_(p)){for(p=0,E=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],P=N.startTime;if(P>E)break;var Q=N.transferSize,$=N.initiatorType;Q&&v_($)&&(N=N.responseEnd,p+=Q*(N<E?1:(E-P)/(N-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Ed=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function R1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(I1)}:T_;function I1(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function A_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xa(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")po(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,po(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[bi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&po(t.ownerDocument.body);a=h}while(a);Xa(n)}function w_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function D1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function O1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function x_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Yn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function M1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function R_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Yn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function C_(t,n,a){switch(n=gc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function po(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ha(t)}var Kn=new Map,I_=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=G.d;G.d={f:V1,r:k1,D:j1,C:L1,L:U1,m:P1,X:q1,S:z1,M:B1};function V1(){var t=us.f(),n=oc();return t||n}function k1(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Yg(n):us.r(t)}var Qa=typeof document>"u"?null:document;function D_(t,n,a){var l=Qa;if(l&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),I_.has(h)||(I_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),nn(n,"link",t),Mt(n),l.head.appendChild(n)))}}function j1(t){us.D(t),D_("dns-prefetch",t,null)}function L1(t,n){us.C(t,n),D_("preconnect",t,n)}function U1(t,n,a){us.L(t,n,a);var l=Qa;if(l&&t&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pn(a.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var f=h;switch(n){case"style":f=Ya(t);break;case"script":f=Ka(t)}Kn.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Kn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(go(f))||n==="script"&&l.querySelector(yo(f))||(n=l.createElement("link"),nn(n,"link",t),Mt(n),l.head.appendChild(n)))}}function P1(t,n){us.m(t,n);var a=Qa;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(t)}if(!Kn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Kn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yo(f)))return}l=a.createElement("link"),nn(l,"link",t),Mt(l),a.head.appendChild(l)}}}function z1(t,n,a){us.S(t,n,a);var l=Qa;if(l&&t){var h=Ti(l).hoistableStyles,f=Ya(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(go(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Kn.get(f))&&Nd(t,a);var N=p=l.createElement("link");Mt(N),nn(N,"link",t),N._p=new Promise(function(P,Q){N.onload=P,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function q1(t,n){us.X(t,n);var a=Qa;if(a&&t){var l=Ti(a).hoistableScripts,h=Ka(t),f=l.get(h);f||(f=a.querySelector(yo(h)),f||(t=w({src:t,async:!0},n),(n=Kn.get(h))&&Cd(t,n),f=a.createElement("script"),Mt(f),nn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function B1(t,n){us.M(t,n);var a=Qa;if(a&&t){var l=Ti(a).hoistableScripts,h=Ka(t),f=l.get(h);f||(f=a.querySelector(yo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Kn.get(h))&&Cd(t,n),f=a.createElement("script"),Mt(f),nn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function O_(t,n,a,l){var h=(h=ge.current)?yc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ya(a.href),a=Ti(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var f=Ti(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(go(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),f||H1(h,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(a),a=Ti(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+pn(t)+'"'}function go(t){return'link[rel="stylesheet"]['+t+"]"}function M_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function H1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),nn(n,"link",a),Mt(n),t.head.appendChild(n))}function Ka(t){return'[src="'+pn(t)+'"]'}function yo(t){return"script[async]"+t}function V_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pn(a.href)+'"]');if(l)return n.instance=l,Mt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Mt(l),nn(l,"style",h),_c(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ya(a.href);var f=t.querySelector(go(h));if(f)return n.state.loading|=4,n.instance=f,Mt(f),f;l=M_(a),(h=Kn.get(h))&&Nd(l,h),f=(t.ownerDocument||t).createElement("link"),Mt(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),nn(f,"link",l),n.state.loading|=4,_c(f,a.precedence,t),n.instance=f;case"script":return f=Ka(a.src),(h=t.querySelector(yo(f)))?(n.instance=h,Mt(h),h):(l=a,(h=Kn.get(f))&&(l=w({},a),Cd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Mt(h),nn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_c(l,a.precedence,t));return n.instance}function _c(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function k_(t,n,a){if(vc===null){var l=new Map,h=vc=new Map;h.set(a,l)}else h=vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[bi]||f[Ot]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function j_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function F1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function G1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),f=n.querySelector(go(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Mt(f);return}f=n.ownerDocument||n,l=M_(l),(h=Kn.get(h))&&Nd(l,h),f=f.createElement("link"),Mt(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),nn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Id=0;function Q1(t,n){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*x1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function Tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,n.forEach(Y1,t),Ec=null,bc.call(t))}function Y1(t,n){if(!(n.state.loading&4)){var a=Ec.get(t);if(a)var l=a.get(null);else{a=new Map,Ec.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,h),a.set(p,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _o={$$typeof:Te,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function K1(t,n,a,l,h,f,p,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function U_(t,n,a,l,h,f,p,E,N,P,Q,$){return t=new K1(t,n,a,p,N,P,Q,$,E),n=1,f===!0&&(n|=24),f=Nn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},df(f),t}function P_(t){return t?(t=wa,t):wa}function z_(t,n,a,l,h,f){h=P_(h),l.context===null?l.context=h:l.pendingContext=h,l=js(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ls(t,l,n),a!==null&&(En(a,t,n),Xl(a,t,n))}function q_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Dd(t,n){q_(t,n),(t=t.alternate)&&q_(t,n)}function B_(t){if(t.tag===13||t.tag===31){var n=kr(t,67108864);n!==null&&En(n,t,67108864),Dd(t,67108864)}}function H_(t){if(t.tag===13||t.tag===31){var n=Mn();n=Sr(n);var a=kr(t,n);a!==null&&En(a,t,n),Dd(t,n)}}var Sc=!0;function X1(t,n,a,l){var h=z.T;z.T=null;var f=G.p;try{G.p=2,Od(t,n,a,l)}finally{G.p=f,z.T=h}}function $1(t,n,a,l){var h=z.T;z.T=null;var f=G.p;try{G.p=8,Od(t,n,a,l)}finally{G.p=f,z.T=h}}function Od(t,n,a,l){if(Sc){var h=Md(l);if(h===null)_d(t,n,l,Ac,a),G_(t,l);else if(Z1(h,t,n,a,l))l.stopPropagation();else if(G_(t,l),n&4&&-1<J1.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=gi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-xt(p);E.entanglements[1]|=N,p&=~N}ki(f),(et&6)===0&&(ac=$t()+500,ho(0))}}break;case 31:case 13:E=kr(f,2),E!==null&&En(E,f,2),oc(),Dd(f,2)}if(f=Md(l),f===null&&_d(t,n,l,Ac,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,a)}}function Md(t){return t=Un(t),Vd(t)}var Ac=null;function Vd(t){if(Ac=null,t=Ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function F_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fi()){case _r:return 2;case vr:return 8;case Es:case Ph:return 32;case nu:return 268435456;default:return 32}default:return 32}}var kd=!1,Ks=null,Xs=null,$s=null,vo=new Map,bo=new Map,Js=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(t,n){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function Eo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&B_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Z1(t,n,a,l,h){switch(n){case"focusin":return Ks=Eo(Ks,t,n,a,l,h),!0;case"dragenter":return Xs=Eo(Xs,t,n,a,l,h),!0;case"mouseover":return $s=Eo($s,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return vo.set(f,Eo(vo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,bo.set(f,Eo(bo.get(f)||null,t,n,a,l,h)),!0}return!1}function Q_(t){var n=Ei(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ti(t.priority,function(){H_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,ti(t.priority,function(){H_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Md(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ml=l,a.target.dispatchEvent(l),Ml=null}else return n=Ln(a),n!==null&&B_(n),t.blockedOn=a,!1;n.shift()}return!0}function Y_(t,n,a){wc(t)&&a.delete(n)}function W1(){kd=!1,Ks!==null&&wc(Ks)&&(Ks=null),Xs!==null&&wc(Xs)&&(Xs=null),$s!==null&&wc($s)&&($s=null),vo.forEach(Y_),bo.forEach(Y_)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,W1)))}var Rc=null;function K_(t){Rc!==t&&(Rc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var f=Ln(a);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(t){function n(N){return xc(N,t)}Ks!==null&&xc(Ks,t),Xs!==null&&xc(Xs,t),$s!==null&&xc($s,t),vo.forEach(n),bo.forEach(n);for(var a=0;a<Js.length;a++){var l=Js[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],p=h[Gt]||null;if(typeof f=="function")p||K_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Gt]||null)E=p.formAction;else if(Vd(h)!==null)continue}else E=p.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),K_(a)}}}function X_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Nc.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Mn();z_(a,l,t,n,null,null)},Nc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z_(t.current,2,null,t,null,null),oc(),n[vi]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,t),a===0&&Q_(t)}};var $_=e.version;if($_!=="19.2.0")throw Error(r(527,$_,"19.2.0"));G.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var eS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Wn=Cc.inject(eS),Jt=Cc}catch{}}return So.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=iy,f=sy,p=ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=U_(t,1,!1,null,null,a,l,null,h,f,p,X_),t[vi]=n.current,yd(t),new jd(n)},So.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=iy,p=sy,E=ry,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=U_(t,1,!0,n,a??null,l,h,N,f,p,E,X_),n.context=P_(null),a=n.current,l=Mn(),l=Sr(l),h=js(l),h.callback=null,Ls(a,h,l),a=l,n.current.lanes=a,Er(n,a),ki(n),t[vi]=n.current,yd(t),new Nc(n)},So.version="19.2.0",So}var a0;function cS(){if(a0)return Pd.exports;a0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=uS(),Pd.exports}var hS=cS();const fS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),l0=s=>{const e=dS(s);return e.charAt(0).toUpperCase()+e.slice(1)},$v=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),mS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gS=xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...g},v)=>xe.createElement("svg",{ref:v,...pS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:$v("lucide",o),...!c&&!mS(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,S])=>xe.createElement(_,S)),...Array.isArray(c)?c:[c]]));const it=(s,e)=>{const i=xe.forwardRef(({className:r,...o},c)=>xe.createElement(gS,{ref:c,iconNode:e,className:$v(`lucide-${fS(l0(s))}`,`lucide-${s}`,r),...o}));return i.displayName=l0(s),i};const yS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_S=it("arrow-left",yS);const vS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],o0=it("box",vS);const bS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Hd=it("briefcase",bS);const ES=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],TS=it("calendar-plus",ES);const SS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],AS=it("calendar",SS);const wS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Fd=it("camera",wS);const xS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],RS=it("chart-column",xS);const NS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],CS=it("chart-pie",NS);const IS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DS=it("check",IS);const OS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],MS=it("chevron-right",OS);const VS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kS=it("chevron-left",VS);const jS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],u0=it("circle-alert",jS);const LS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],US=it("circle-check-big",LS);const PS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],c0=it("clipboard-list",PS);const zS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qS=it("eye",zS);const BS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],h0=it("history",BS);const HS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],FS=it("log-in",HS);const GS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QS=it("log-out",GS);const YS=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],KS=it("monitor-play",YS);const XS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],f0=it("pen-tool",XS);const $S=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JS=it("refresh-cw",$S);const ZS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ic=it("save",ZS);const WS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d0=it("settings",WS);const eA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tA=it("trending-up",eA);const nA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],iA=it("triangle-alert",nA);const sA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rA=it("user",sA);const aA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lA=it("users",aA);const oA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],m0=it("utensils",oA);const uA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],p0=it("video",uA);const cA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gd=it("x",cA),hA=()=>{};var g0={};const Jv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},fA=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,S=c>>2,w=(c&3)<<4|g>>4;let O=(g&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(O=64)),r.push(i[S],i[w],i[O],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Jv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):fA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||w==null)throw new dA;const O=c<<2|g>>4;if(r.push(O),_!==64){const Y=g<<4&240|_>>2;if(r.push(Y),w!==64){const te=_<<6&192|w;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mA=function(s){const e=Jv(s);return Zv.encodeByteArray(e,!0)},Kc=function(s){return mA(s).replace(/\./g,"")},Wv=function(s){try{return Zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gA=()=>pA().__FIREBASE_DEFAULTS__,yA=()=>{if(typeof process>"u"||typeof g0>"u")return;const s=g0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_A=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Wv(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return hA()||gA()||yA()||_A()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},eb=s=>mh()?.emulatorHosts?.[s],vA=s=>{const e=eb(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},tb=()=>mh()?.config,nb=s=>mh()?.[`_${s}`];class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function ml(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(s){return(await fetch(s,{credentials:"include"})).ok}function EA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Co={};function TA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Co))Co[e]?s.emulator.push(e):s.prod.push(e);return s}function SA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let y0=!1;function sb(s,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Co[s]===e||Co[s]||y0)return;Co[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=TA().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,Y){O.setAttribute("width","24"),O.setAttribute("id",Y),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{y0=!0,d()},O}function S(O,Y){O.setAttribute("id",Y),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=SA(r),Y=i("text"),te=document.getElementById(Y)||document.createElement("span"),ae=i("learnmore"),ne=document.getElementById(ae)||document.createElement("a"),be=i("preprendIcon"),Ne=document.getElementById(be)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Te=O.element;g(Te),S(ne,ae);const tt=_();v(Ne,be),Te.append(Ne,te,ne,tt),document.body.appendChild(Te)}c?(te.innerText="Preview backend disconnected.",Ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function wA(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CA(){const s=fn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function IA(){return!wA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DA(){try{return typeof indexedDB=="object"}catch{return!1}}function OA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const MA="FirebaseError";class vs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=MA,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?VA(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new vs(o,g,r)}}function VA(s,e){return s.replace(kA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const kA=/\{\$([^}]+)}/g;function jA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function na(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(_0(c)&&_0(d)){if(!na(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function _0(s){return s!==null&&typeof s=="object"}function Go(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LA(s,e){const i=new UA(s,e);return i.subscribe.bind(i)}class UA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");PA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Qd(){}function Xt(s){return s&&s._delegate?s._delegate:s}class ia{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class zA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new bA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BA(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qA(s){return s===$r?void 0:s}function BA(s){return s.instantiationMode==="EAGER"}class HA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new zA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const FA={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},GA=Fe.INFO,QA={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},YA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=QA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=GA,this._logHandler=YA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const KA=(s,e)=>e.some(i=>s instanceof i);let v0,b0;function XA(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $A(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rb=new WeakMap,lm=new WeakMap,ab=new WeakMap,Yd=new WeakMap,km=new WeakMap;function JA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(sr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&rb.set(i,s)}).catch(()=>{}),km.set(e,s),e}function ZA(s){if(lm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});lm.set(s,e)}let om={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return lm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ab.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return sr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function WA(s){om=s(om)}function ew(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Kd(this),e,...i);return ab.set(r,e.sort?e.sort():[e]),sr(r)}:$A().includes(s)?function(...e){return s.apply(Kd(this),e),sr(rb.get(this))}:function(...e){return sr(s.apply(Kd(this),e))}}function tw(s){return typeof s=="function"?ew(s):(s instanceof IDBTransaction&&ZA(s),KA(s,XA())?new Proxy(s,om):s)}function sr(s){if(s instanceof IDBRequest)return JA(s);if(Yd.has(s))return Yd.get(s);const e=tw(s);return e!==s&&(Yd.set(s,e),km.set(e,s)),e}const Kd=s=>km.get(s);function nw(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=sr(d);return r&&d.addEventListener("upgradeneeded",v=>{r(sr(d.result),v.oldVersion,v.newVersion,sr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const iw=["get","getKey","getAll","getAllKeys","count"],sw=["put","add","delete","clear"],Xd=new Map;function E0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=sw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iw.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Xd.set(e,c),c}WA(s=>({...s,get:(e,i,r)=>E0(e,i)||s.get(e,i,r),has:(e,i)=>!!E0(e,i)||s.has(e,i)}));class rw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(aw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function aw(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",T0="0.14.6";const ms=new Vm("@firebase/app"),lw="@firebase/app-compat",ow="@firebase/analytics-compat",uw="@firebase/analytics",cw="@firebase/app-check-compat",hw="@firebase/app-check",fw="@firebase/auth",dw="@firebase/auth-compat",mw="@firebase/database",pw="@firebase/data-connect",gw="@firebase/database-compat",yw="@firebase/functions",_w="@firebase/functions-compat",vw="@firebase/installations",bw="@firebase/installations-compat",Ew="@firebase/messaging",Tw="@firebase/messaging-compat",Sw="@firebase/performance",Aw="@firebase/performance-compat",ww="@firebase/remote-config",xw="@firebase/remote-config-compat",Rw="@firebase/storage",Nw="@firebase/storage-compat",Cw="@firebase/firestore",Iw="@firebase/ai",Dw="@firebase/firestore-compat",Ow="firebase",Mw="12.6.0";const cm="[DEFAULT]",Vw={[um]:"fire-core",[lw]:"fire-core-compat",[uw]:"fire-analytics",[ow]:"fire-analytics-compat",[hw]:"fire-app-check",[cw]:"fire-app-check-compat",[fw]:"fire-auth",[dw]:"fire-auth-compat",[mw]:"fire-rtdb",[pw]:"fire-data-connect",[gw]:"fire-rtdb-compat",[yw]:"fire-fn",[_w]:"fire-fn-compat",[vw]:"fire-iid",[bw]:"fire-iid-compat",[Ew]:"fire-fcm",[Tw]:"fire-fcm-compat",[Sw]:"fire-perf",[Aw]:"fire-perf-compat",[ww]:"fire-rc",[xw]:"fire-rc-compat",[Rw]:"fire-gcs",[Nw]:"fire-gcs-compat",[Cw]:"fire-fst",[Dw]:"fire-fst-compat",[Iw]:"fire-vertex","fire-js":"fire-js",[Ow]:"fire-js-all"};const Xc=new Map,kw=new Map,hm=new Map;function S0(s,e){try{s.container.addComponent(e)}catch(i){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function al(s){const e=s.name;if(hm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,s);for(const i of Xc.values())S0(i,s);for(const i of kw.values())S0(i,s);return!0}function jm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function hi(s){return s==null?!1:s.settings!==void 0}const jw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Fo("app","Firebase",jw);class Lw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const pl=Mw;function lb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:cm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw rr.create("bad-app-name",{appName:String(o)});if(i||(i=tb()),!i)throw rr.create("no-options");const c=Xc.get(o);if(c){if(na(i,c.options)&&na(r,c.config))return c;throw rr.create("duplicate-app",{appName:o})}const d=new HA(o);for(const v of hm.values())d.addComponent(v);const g=new Lw(i,r,d);return Xc.set(o,g),g}function ob(s=cm){const e=Xc.get(s);if(!e&&s===cm&&tb())return lb();if(!e)throw rr.create("no-app",{appName:s});return e}function ar(s,e,i){let r=Vw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}al(new ia(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Uw="firebase-heartbeat-database",Pw=1,ko="firebase-heartbeat-store";let $d=null;function ub(){return $d||($d=nw(Uw,Pw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ko)}catch(i){console.warn(i)}}}}).catch(s=>{throw rr.create("idb-open",{originalErrorMessage:s.message})})),$d}async function zw(s){try{const i=(await ub()).transaction(ko),r=await i.objectStore(ko).get(cb(s));return await i.done,r}catch(e){if(e instanceof vs)ms.warn(e.message);else{const i=rr.create("idb-get",{originalErrorMessage:e?.message});ms.warn(i.message)}}}async function A0(s,e){try{const r=(await ub()).transaction(ko,"readwrite");await r.objectStore(ko).put(e,cb(s)),await r.done}catch(i){if(i instanceof vs)ms.warn(i.message);else{const r=rr.create("idb-set",{originalErrorMessage:i?.message});ms.warn(r.message)}}}function cb(s){return`${s.name}!${s.options.appId}`}const qw=1024,Bw=30;class Hw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Gw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=w0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Bw){const o=Qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=w0(),{heartbeatsToSend:i,unsentEntries:r}=Fw(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ms.warn(e),""}}}function w0(){return new Date().toISOString().substring(0,10)}function Fw(s,e=qw){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),x0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),x0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Gw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DA()?OA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function x0(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function Qw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Yw(s){al(new ia("platform-logger",e=>new rw(e),"PRIVATE")),al(new ia("heartbeat",e=>new Hw(e),"PRIVATE")),ar(um,T0,s),ar(um,T0,"esm2020"),ar("fire-js","")}Yw("");var Kw="firebase",Xw="12.6.0";ar(Kw,Xw,"app");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,hb;(function(){var s;function e(D,x){function C(){}C.prototype=x.prototype,D.F=x.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(k,V,I){for(var A=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)A[ce-2]=arguments[ce];return x.prototype[V].apply(k,A)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,x,C){C||(C=0);const k=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)k[V]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(V=0;V<16;++V)k[V]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=D.g[0],C=D.g[1],V=D.g[2];let I=D.g[3],A;A=x+(I^C&(V^I))+k[0]+3614090360&4294967295,x=C+(A<<7&4294967295|A>>>25),A=I+(V^x&(C^V))+k[1]+3905402710&4294967295,I=x+(A<<12&4294967295|A>>>20),A=V+(C^I&(x^C))+k[2]+606105819&4294967295,V=I+(A<<17&4294967295|A>>>15),A=C+(x^V&(I^x))+k[3]+3250441966&4294967295,C=V+(A<<22&4294967295|A>>>10),A=x+(I^C&(V^I))+k[4]+4118548399&4294967295,x=C+(A<<7&4294967295|A>>>25),A=I+(V^x&(C^V))+k[5]+1200080426&4294967295,I=x+(A<<12&4294967295|A>>>20),A=V+(C^I&(x^C))+k[6]+2821735955&4294967295,V=I+(A<<17&4294967295|A>>>15),A=C+(x^V&(I^x))+k[7]+4249261313&4294967295,C=V+(A<<22&4294967295|A>>>10),A=x+(I^C&(V^I))+k[8]+1770035416&4294967295,x=C+(A<<7&4294967295|A>>>25),A=I+(V^x&(C^V))+k[9]+2336552879&4294967295,I=x+(A<<12&4294967295|A>>>20),A=V+(C^I&(x^C))+k[10]+4294925233&4294967295,V=I+(A<<17&4294967295|A>>>15),A=C+(x^V&(I^x))+k[11]+2304563134&4294967295,C=V+(A<<22&4294967295|A>>>10),A=x+(I^C&(V^I))+k[12]+1804603682&4294967295,x=C+(A<<7&4294967295|A>>>25),A=I+(V^x&(C^V))+k[13]+4254626195&4294967295,I=x+(A<<12&4294967295|A>>>20),A=V+(C^I&(x^C))+k[14]+2792965006&4294967295,V=I+(A<<17&4294967295|A>>>15),A=C+(x^V&(I^x))+k[15]+1236535329&4294967295,C=V+(A<<22&4294967295|A>>>10),A=x+(V^I&(C^V))+k[1]+4129170786&4294967295,x=C+(A<<5&4294967295|A>>>27),A=I+(C^V&(x^C))+k[6]+3225465664&4294967295,I=x+(A<<9&4294967295|A>>>23),A=V+(x^C&(I^x))+k[11]+643717713&4294967295,V=I+(A<<14&4294967295|A>>>18),A=C+(I^x&(V^I))+k[0]+3921069994&4294967295,C=V+(A<<20&4294967295|A>>>12),A=x+(V^I&(C^V))+k[5]+3593408605&4294967295,x=C+(A<<5&4294967295|A>>>27),A=I+(C^V&(x^C))+k[10]+38016083&4294967295,I=x+(A<<9&4294967295|A>>>23),A=V+(x^C&(I^x))+k[15]+3634488961&4294967295,V=I+(A<<14&4294967295|A>>>18),A=C+(I^x&(V^I))+k[4]+3889429448&4294967295,C=V+(A<<20&4294967295|A>>>12),A=x+(V^I&(C^V))+k[9]+568446438&4294967295,x=C+(A<<5&4294967295|A>>>27),A=I+(C^V&(x^C))+k[14]+3275163606&4294967295,I=x+(A<<9&4294967295|A>>>23),A=V+(x^C&(I^x))+k[3]+4107603335&4294967295,V=I+(A<<14&4294967295|A>>>18),A=C+(I^x&(V^I))+k[8]+1163531501&4294967295,C=V+(A<<20&4294967295|A>>>12),A=x+(V^I&(C^V))+k[13]+2850285829&4294967295,x=C+(A<<5&4294967295|A>>>27),A=I+(C^V&(x^C))+k[2]+4243563512&4294967295,I=x+(A<<9&4294967295|A>>>23),A=V+(x^C&(I^x))+k[7]+1735328473&4294967295,V=I+(A<<14&4294967295|A>>>18),A=C+(I^x&(V^I))+k[12]+2368359562&4294967295,C=V+(A<<20&4294967295|A>>>12),A=x+(C^V^I)+k[5]+4294588738&4294967295,x=C+(A<<4&4294967295|A>>>28),A=I+(x^C^V)+k[8]+2272392833&4294967295,I=x+(A<<11&4294967295|A>>>21),A=V+(I^x^C)+k[11]+1839030562&4294967295,V=I+(A<<16&4294967295|A>>>16),A=C+(V^I^x)+k[14]+4259657740&4294967295,C=V+(A<<23&4294967295|A>>>9),A=x+(C^V^I)+k[1]+2763975236&4294967295,x=C+(A<<4&4294967295|A>>>28),A=I+(x^C^V)+k[4]+1272893353&4294967295,I=x+(A<<11&4294967295|A>>>21),A=V+(I^x^C)+k[7]+4139469664&4294967295,V=I+(A<<16&4294967295|A>>>16),A=C+(V^I^x)+k[10]+3200236656&4294967295,C=V+(A<<23&4294967295|A>>>9),A=x+(C^V^I)+k[13]+681279174&4294967295,x=C+(A<<4&4294967295|A>>>28),A=I+(x^C^V)+k[0]+3936430074&4294967295,I=x+(A<<11&4294967295|A>>>21),A=V+(I^x^C)+k[3]+3572445317&4294967295,V=I+(A<<16&4294967295|A>>>16),A=C+(V^I^x)+k[6]+76029189&4294967295,C=V+(A<<23&4294967295|A>>>9),A=x+(C^V^I)+k[9]+3654602809&4294967295,x=C+(A<<4&4294967295|A>>>28),A=I+(x^C^V)+k[12]+3873151461&4294967295,I=x+(A<<11&4294967295|A>>>21),A=V+(I^x^C)+k[15]+530742520&4294967295,V=I+(A<<16&4294967295|A>>>16),A=C+(V^I^x)+k[2]+3299628645&4294967295,C=V+(A<<23&4294967295|A>>>9),A=x+(V^(C|~I))+k[0]+4096336452&4294967295,x=C+(A<<6&4294967295|A>>>26),A=I+(C^(x|~V))+k[7]+1126891415&4294967295,I=x+(A<<10&4294967295|A>>>22),A=V+(x^(I|~C))+k[14]+2878612391&4294967295,V=I+(A<<15&4294967295|A>>>17),A=C+(I^(V|~x))+k[5]+4237533241&4294967295,C=V+(A<<21&4294967295|A>>>11),A=x+(V^(C|~I))+k[12]+1700485571&4294967295,x=C+(A<<6&4294967295|A>>>26),A=I+(C^(x|~V))+k[3]+2399980690&4294967295,I=x+(A<<10&4294967295|A>>>22),A=V+(x^(I|~C))+k[10]+4293915773&4294967295,V=I+(A<<15&4294967295|A>>>17),A=C+(I^(V|~x))+k[1]+2240044497&4294967295,C=V+(A<<21&4294967295|A>>>11),A=x+(V^(C|~I))+k[8]+1873313359&4294967295,x=C+(A<<6&4294967295|A>>>26),A=I+(C^(x|~V))+k[15]+4264355552&4294967295,I=x+(A<<10&4294967295|A>>>22),A=V+(x^(I|~C))+k[6]+2734768916&4294967295,V=I+(A<<15&4294967295|A>>>17),A=C+(I^(V|~x))+k[13]+1309151649&4294967295,C=V+(A<<21&4294967295|A>>>11),A=x+(V^(C|~I))+k[4]+4149444226&4294967295,x=C+(A<<6&4294967295|A>>>26),A=I+(C^(x|~V))+k[11]+3174756917&4294967295,I=x+(A<<10&4294967295|A>>>22),A=V+(x^(I|~C))+k[2]+718787259&4294967295,V=I+(A<<15&4294967295|A>>>17),A=C+(I^(V|~x))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+I&4294967295}r.prototype.v=function(D,x){x===void 0&&(x=D.length);const C=x-this.blockSize,k=this.C;let V=this.h,I=0;for(;I<x;){if(V==0)for(;I<=C;)o(this,D,I),I+=this.blockSize;if(typeof D=="string"){for(;I<x;)if(k[V++]=D.charCodeAt(I++),V==this.blockSize){o(this,k),V=0;break}}else for(;I<x;)if(k[V++]=D[I++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=x},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)D[x++]=this.g[C]>>>k&255;return D};function c(D,x){var C=g;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=x(D)}function d(D,x){this.h=x;const C=[];let k=!0;for(let V=D.length-1;V>=0;V--){const I=D[V]|0;k&&I==x||(C[V]=I,k=!1)}this.g=C}var g={};function v(D){return-128<=D&&D<128?c(D,function(x){return new d([x|0],x<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return ne(_(-D));const x=[];let C=1;for(let k=0;D>=C;k++)x[k]=D/C|0,C*=4294967296;return new d(x,0)}function S(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return ne(S(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(x,8));let k=w;for(let I=0;I<D.length;I+=8){var V=Math.min(8,D.length-I);const A=parseInt(D.substring(I,I+V),x);V<8?(V=_(Math.pow(x,V)),k=k.j(V).add(_(A))):(k=k.j(C),k=k.add(_(A)))}return k}var w=v(0),O=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(ae(this))return-ne(this).m();let D=0,x=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);D+=(k>=0?k:4294967296+k)*x,x*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(te(this))return"0";if(ae(this))return"-"+ne(this).toString(D);const x=_(Math.pow(D,6));var C=this;let k="";for(;;){const V=tt(C,x).g;C=be(C,V.j(x));let I=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=V,te(C))return I+k;for(;I.length<6;)I="0"+I;k=I+k}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function te(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function ae(D){return D.h==-1}s.l=function(D){return D=be(this,D),ae(D)?-1:te(D)?0:1};function ne(D){const x=D.g.length,C=[];for(let k=0;k<x;k++)C[k]=~D.g[k];return new d(C,~D.h).add(O)}s.abs=function(){return ae(this)?ne(this):this},s.add=function(D){const x=Math.max(this.g.length,D.g.length),C=[];let k=0;for(let V=0;V<=x;V++){let I=k+(this.i(V)&65535)+(D.i(V)&65535),A=(I>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);k=A>>>16,I&=65535,A&=65535,C[V]=A<<16|I}return new d(C,C[C.length-1]&-2147483648?-1:0)};function be(D,x){return D.add(ne(x))}s.j=function(D){if(te(this)||te(D))return w;if(ae(this))return ae(D)?ne(this).j(ne(D)):ne(ne(this).j(D));if(ae(D))return ne(this.j(ne(D)));if(this.l(Y)<0&&D.l(Y)<0)return _(this.m()*D.m());const x=this.g.length+D.g.length,C=[];for(var k=0;k<2*x;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let V=0;V<D.g.length;V++){const I=this.i(k)>>>16,A=this.i(k)&65535,ce=D.i(V)>>>16,ve=D.i(V)&65535;C[2*k+2*V]+=A*ve,Ne(C,2*k+2*V),C[2*k+2*V+1]+=I*ve,Ne(C,2*k+2*V+1),C[2*k+2*V+1]+=A*ce,Ne(C,2*k+2*V+1),C[2*k+2*V+2]+=I*ce,Ne(C,2*k+2*V+2)}for(D=0;D<x;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=x;D<2*x;D++)C[D]=0;return new d(C,0)};function Ne(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function Te(D,x){this.g=D,this.h=x}function tt(D,x){if(te(x))throw Error("division by zero");if(te(D))return new Te(w,w);if(ae(D))return x=tt(ne(D),x),new Te(ne(x.g),ne(x.h));if(ae(x))return x=tt(D,ne(x)),new Te(ne(x.g),x.h);if(D.g.length>30){if(ae(D)||ae(x))throw Error("slowDivide_ only works with positive integers.");for(var C=O,k=x;k.l(D)<=0;)C=ht(C),k=ht(k);var V=ke(C,1),I=ke(k,1);for(k=ke(k,2),C=ke(C,2);!te(k);){var A=I.add(k);A.l(D)<=0&&(V=V.add(C),I=A),k=ke(k,1),C=ke(C,1)}return x=be(D,V.j(x)),new Te(V,x)}for(V=w;D.l(x)>=0;){for(C=Math.max(1,Math.floor(D.m()/x.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),I=_(C),A=I.j(x);ae(A)||A.l(D)>0;)C-=k,I=_(C),A=I.j(x);te(I)&&(I=O),V=V.add(I),D=be(D,A)}return new Te(V,D)}s.B=function(D){return tt(this,D).h},s.and=function(D){const x=Math.max(this.g.length,D.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)&D.i(k);return new d(C,this.h&D.h)},s.or=function(D){const x=Math.max(this.g.length,D.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)|D.i(k);return new d(C,this.h|D.h)},s.xor=function(D){const x=Math.max(this.g.length,D.g.length),C=[];for(let k=0;k<x;k++)C[k]=this.i(k)^D.i(k);return new d(C,this.h^D.h)};function ht(D){const x=D.g.length+1,C=[];for(let k=0;k<x;k++)C[k]=D.i(k)<<1|D.i(k-1)>>>31;return new d(C,D.h)}function ke(D,x){const C=x>>5;x%=32;const k=D.g.length-C,V=[];for(let I=0;I<k;I++)V[I]=x>0?D.i(I+C)>>>x|D.i(I+C+1)<<32-x:D.i(I+C);return new d(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,lr=d}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fb,wo,db,Uc,fm,mb,pb,gb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var b=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in b))break e;b=b[L]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function S(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var se=Array(arguments.length-2),De=2;De<arguments.length;De++)se[De-2]=arguments[De];return m.prototype[L].apply(T,se)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function te(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var b=typeof L;if(b=b!="object"?b:L?Array.isArray(L)?"array":b:"null",b=="array"||b=="object"&&typeof L.length=="number"){b=u.length||0;const B=L.length||0;u.length=b+B;for(let se=0;se<B;se++)u[b+se]=L[se]}else u.push(L)}}class ae{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function be(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,b){const T=Te.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new ae(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ke=!1,D=new Ne,x=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(C)}};function C(){for(var u;u=be();){try{u.h.call(u.g)}catch(b){ne(b)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ke=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function A(u){return/^[\s\xa0]*$/.test(u)}function ce(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ce,V),ce.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),z=0;function G(u,m,b,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=L,this.key=++z,this.da=this.fa=!1}function Z(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function re(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function pe(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function R(u){const m={};for(const b in u)m[b]=u[b];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let b,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(b in T)u[b]=T[b];for(let B=0;B<F.length;B++)b=F[B],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,m,b,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const se=ge(u,m,T,L);return se>-1?(m=u[se],b||(m.fa=!1)):(m=new G(m,this.src,B,!!T,L),m.fa=b,u.push(m)),m};function le(u,m){const b=m.type;if(b in u.g){var T=u.g[b],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(Z(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function ge(u,m,b,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==T)return L}return-1}var ee="closure_lm_"+(Math.random()*1e6|0),Ve={};function me(u,m,b,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)me(u,m[B],b,T,L);return null}return b=Tt(b),u&&u[ve]?u.J(m,b,g(T)?!!T.capture:!1,L):Ke(u,m,b,!1,T,L)}function Ke(u,m,b,T,L,B){if(!m)throw Error("Invalid event type");const se=g(L)?!!L.capture:!!L;let De=vt(u);if(De||(u[ee]=De=new ie(u)),b=De.add(m,b,T,se,B),b.proxy)return b;if(T=je(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)I||(L=se),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(we(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function je(){function u(b){return m.call(u.src,u.listener,b)}const m=Pe;return u}function Le(u,m,b,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Le(u,m[B],b,T,L);else T=g(T)?!!T.capture:!!T,b=Tt(b),u&&u[ve]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=ge(m,b,T,L),b>-1&&(Z(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=vt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ge(m,b,T,L)),(b=u>-1?m[u]:null)&&oe(b))}function oe(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])le(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(we(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=vt(m))?(le(b,u),b.h==0&&(b.src=null,m[ee]=null)):Z(u)}}}function we(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function Pe(u,m){if(u.da)u=!0;else{m=new ce(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&oe(u),u=b.call(T,m)}return u}function vt(u){return u=u[ee],u instanceof ie?u:null}var Bt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tt(u){return typeof u=="function"?u:(u[Bt]||(u[Bt]=function(m){return u.handleEvent(m)}),u[Bt])}function Ze(){k.call(this),this.i=new ie(this),this.M=this,this.G=null}w(Ze,k),Ze.prototype[ve]=!0,Ze.prototype.removeEventListener=function(u,m,b,T){Le(this,u,m,b,T)};function bt(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(T,u),W(m,L)}L=!0;let B,se;if(b)for(se=b.length-1;se>=0;se--)B=m.g=b[se],L=kn(B,T,!0,m)&&L;if(B=m.g=u,L=kn(B,T,!0,m)&&L,L=kn(B,T,!1,m)&&L,b)for(se=0;se<b.length;se++)B=m.g=b[se],L=kn(B,T,!1,m)&&L}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)Z(b[T]);delete u.g[m],u.h--}}this.G=null},Ze.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},Ze.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function kn(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const se=m[B];if(se&&!se.da&&se.capture==b){const De=se.listener,Rt=se.ha||se.src;se.fa&&le(u.i,se),L=De.call(Rt,T)!==!1&&L}}return L&&!T.defaultPrevented}function Zn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function bs(u){u.g=Zn(()=>{u.g=null,u.i&&(u.i=!1,bs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $t extends k{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(u){k.call(this),this.h=u,this.g={}}w(Fi,k);var _r=[];function vr(u){re(u.g,function(m,b){this.g.hasOwnProperty(b)&&oe(m)},u),u.g={}}Fi.prototype.N=function(){Fi.Z.N.call(this),vr(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=d.JSON.stringify,Ph=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){V.call(this,"d")}w(Jt,V);function jn(){V.call(this,"c")}w(jn,V);var xt={},ru=null;function ua(){return ru=ru||new Ze}xt.Ia="serverreachability";function au(u){V.call(this,xt.Ia,u)}w(au,V);function pi(u){const m=ua();bt(m,new au(m))}xt.STAT_EVENT="statevent";function br(u,m){V.call(this,xt.STAT_EVENT,u),this.stat=m}w(br,V);function Dt(u){const m=ua();bt(m,new br(m,u))}xt.Ja="timingevent";function gi(u,m){V.call(this,xt.Ja,u),this.size=m}w(gi,V);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function zh(u,m,b,T,L,B){u.info(function(){if(u.g)if(B){var se="",De=B.split("&");for(let We=0;We<De.length;We++){var Rt=De[We].split("=");if(Rt.length>1){const yt=Rt[0];Rt=Rt[1];const zn=yt.split("_");se=zn.length>=2&&zn[1]=="type"?se+(yt+"="+Rt+"&"):se+(yt+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+b+`
`+se})}function lu(u,m,b,T,L,B,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+b+`
`+B+" "+se})}function _i(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,b)+(T?" "+T:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}ei.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return Es(B)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function Sr(){}w(Sr,iu),Sr.prototype.g=function(){return new XMLHttpRequest},Sl=new Sr;function Gi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ti(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new Fi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Ot={},Gt={};function vi(u,m,b){u.M=1,u.A=Ar(Vt(m)),u.u=b,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),bi(u),u.B=Vt(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ma(b.i,"t",T),u.C=0,b=u.j.L,u.h=new ni,u.g=Su(u.j,b?m:null,!u.u),u.P>0&&(u.O=new $t(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(_r[0]=L.toString()),L=_r);for(let B=0;B<L.length;B++){const se=me(b,L[B],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?R(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pi(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)e:{const De=ri(this.g),Rt=this.g.ya(),We=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||De!=4||Rt==7||(Rt==8||We<=0?pi(3):pi(2)),Ei(this);var m=this.g.ca();this.X=m;var b=Bh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var B=T;break t}}B=null}if(u=B)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Dt(12),wn(this),Ln(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<b.length;)if(yt=cu(this,b),yt==Gt){De==4&&(this.m=4,Dt(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ot){this.m=4,Dt(15),_i(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,yt,null),Ti(this,yt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||b.length!=0||this.h.h||(this.m=1,Dt(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,b,"[Invalid Chunked Response]"),wn(this),Ln(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ul(se),se.P=!0,Dt(11))}}else _i(this.i,this.l,b,null),Ti(this,b);De==4&&wn(this),this.o&&!this.K&&(De==4?vu(this.j,this):(this.o=!1,bi(this)))}else Yi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),wn(this),Ln(this)}}}catch{}finally{}};function Bh(u){if(!uu(u))return u.g.la();const m=Zt(u.g);if(m==="")return"";let b="";const T=m.length,L=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?Gt:(b=Number(m.substring(b,T)),isNaN(b)?Ot:(T+=1,T+b>m.length?Gt:(m=m.slice(T,T+b),u.C=T+b,m)))}ti.prototype.cancel=function(){this.K=!0,wn(this)};function bi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(_(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(pi(),Dt(17)),wn(this),this.m=2,Ln(this)):ha(this,this.T-u)};function Ln(u){u.j.I==0||u.K||vu(u.j,u)}function wn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ai(b.h,u))){if(!u.L&&Ai(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)va(b),Cs(b);else break e;Dr(b),Dt(18)}}else b.xa=L[1],0<b.xa-b.K&&L[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=yi(_(b.Va,b),6e3));Si(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((u.L||b.g==u)&&va(b),!A(m))for(L=b.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const yt=We[0];if(!(yt<=b.K))if(b.K=yt,We=We[1],b.I==2)if(We[0]=="c"){b.M=We[1],b.ba=We[2];const zn=We[3];zn!=null&&(b.ka=zn,b.j.info("VER="+b.ka));const Di=We[4];Di!=null&&(b.za=Di,b.j.info("SVER="+b.za));const ai=We[5];ai!=null&&typeof ai=="number"&&ai>0&&(T=1.5*ai,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const li=u.g;if(li){const Or=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var B=T.h;B.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(xl(B,B.h),B.h=null))}if(T.G){const ba=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,st(T.J,T.G,ba))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var se=u;if(T.na=Tu(T,T.L?T.ba:null,T.W),se.L){Rl(T.h,se);var De=se,Rt=T.O;Rt&&(De.H=Rt),De.D&&(Ei(De),bi(De)),T.g=se}else yu(T);b.i.length>0&&Ci(b)}else We[0]!="stop"&&We[0]!="close"||Ii(b,7);else b.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ii(b,7):jl(b):We[0]!="noop"&&b.l&&b.l.qa(We),b.A=0)}}pi(4)}catch{}}var Mt=class{constructor(u,m){this.g=u,this.map=m}};function Al(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xl(u,m){u.g?u.g.add(m):u.h=m}function Rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Al.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return Y(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let L,B=null;T>=0?(L=u[b].substring(0,T),B=u[b].substring(T+1)):L=u[b],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,Qt(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,Cl(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),Ts(this,m[4]),this.h=wi(m[5]||"",!0),Cl(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(wr(m,da,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wr(m,da,!0),"@"),u.push(Gi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(wr(b,b.charAt(0)=="/"?Il:fu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",wr(b,du)),u.join("")},xn.prototype.resolve=function(u){const m=Vt(this);let b=!!u.j;b?Qt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)Ts(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let se=0;se<L.length;){const De=L[se++];De=="."?T&&se==L.length&&B.push(""):De==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&se==L.length&&B.push("")):(B.push(De),T=!0)}T=B.join("/")}else T=L}return b?m.h=T:b=u.i.toString()!=="",b?Cl(m,pu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Vt(u){return new xn(u)}function Qt(u,m,b){u.j=b?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Cl(u,m,b){m instanceof As?(u.i=m,pa(u.i,u.l)):(b||(m=wr(m,Ss)),u.i=new As(m,u.l))}function st(u,m,b){u.i.set(m,b)}function Ar(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,fu=/[#\?:]/g,Il=/[#\?]/g,Ss=/[#\?@]/g,du=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=As.prototype,s.add=function(u,m){gn(this),this.i=null,u=ws(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function mu(u,m){gn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dl(u,m){return gn(u),m=ws(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(b,T){b.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ol(u,m){gn(u);let b=[];if(typeof m=="string")Dl(u,m)&&(b=b.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return gn(this),this.i=null,u=ws(this,u),Dl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ol(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,b){mu(u,m),b.length>0&&(u.i=null,u.g.set(ws(u,m),Y(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const L=Gi(b);b=Ol(this,b);for(let B=0;B<b.length;B++){let se=L;b[B]!==""&&(se+="="+Gi(b[B])),u.push(se)}}return this.i=u.join("&")};function pu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(b,T){const L=T.toLowerCase();T!=L&&(mu(this,T),ma(this,L,b))},u)),u.j=m}function ii(u,m){const b=new ei;if(d.Image){const T=new Image;T.onload=S(Un,b,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Un,b,"TestLoadImage: error",!1,m,T),T.onabort=S(Un,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Un,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ml(u,m){const b=new ei,T=new AbortController,L=setTimeout(()=>{T.abort(),Un(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Un(b,"TestPingServer: ok",!0,m):Un(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Un(b,"TestPingServer: error",!1,m)})}function Un(u,m,b,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(b)}catch{}}function xs(){this.g=new nu}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(xi,iu),xi.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,m){Ze.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(xr,Ze),s=xr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Rs(this):si(this),this.readyState==3&&ga(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return re(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Rr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Pn(b),typeof u=="string"?b!=null&&Gi(b):st(u,m,b))}function lt(u){Ze.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(lt,Ze);var Ri=/^https?$/i,Vl=["POST","PUT"];s=lt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)b.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vl,m,void 0)>=0)||T||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of b)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,kl(u),Qi(u)}function kl(u){u.A||(u.A=!0,bt(u,"complete"),bt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,bt(this,"complete"),bt(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(bt(u,"readystatechange"),ri(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=B===0){let se=String(u.D).match(hu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!Ri.test(se?se.toLowerCase():"")}b=T}if(b)bt(u,"complete"),bt(u,"success");else{u.o=6;try{var L=ri(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",kl(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||bt(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function Zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(A(u[T]))continue;var b=ou(u[T]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[L]||[];m[L]=B,B.push(b)}pe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(u&&u.concurrentRequestLimit),this.Ba=new xs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){Dt(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Tu(this,null,this.W),Ci(this)};function jl(u){if(ya(u),u.I==3){var m=u.V++,b=Vt(u.J);if(st(b,"SID",u.M),st(b,"RID",m),st(b,"TYPE","terminate"),Ir(u,b),m=new ti(u,u.j,m),m.M=2,m.A=Ar(Vt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}Eu(u)}function Cs(u){u.g&&(Ul(u),u.g.cancel(),u.g=null)}function ya(u){Cs(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ci(u){if(!wl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ht||x(),ke||(ht(),ke=!0),D.add(m,u),u.D=0}}function _a(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ti(this,this.j,u);let B=this.o;if(this.U&&(B?(B=R(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=gu(this,L,m),b=Vt(this.J),st(b,"RID",u),st(b,"CVER",22),this.G&&st(b,"X-HTTP-Session-Id",this.G),Ir(this,b),B&&(this.R?m="headers="+Gi(Pn(B))+"&"+m:this.u&&Rr(b,this.u,B)),xl(this.h,L),this.Ra&&st(b,"TYPE","init"),this.S?(st(b,"$req",m),st(b,"SID","null"),L.U=!0,vi(L,b,null)):vi(L,b,m),this.I=2}}else this.I==3&&(u?Ll(this,u):this.i.length==0||wl(this.h)||Ll(this))};function Ll(u,m){var b;m?b=m.l:b=u.V++;const T=Vt(u.J);st(T,"SID",u.M),st(T,"RID",b),st(T,"AID",u.K),Ir(u,T),u.u&&u.o&&Rr(T,u.u,u.o),b=new ti(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xl(u.h,b),vi(b,T,m)}function Ir(u,m){u.H&&re(u.H,function(b,T){st(m,T,b)}),u.l&&re({},function(b,T){st(m,T,b)})}function gu(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let De=-1;for(;;){const Rt=["count="+b];De==-1?b>0?(De=L[0].g,Rt.push("ofs="+De)):De=0:Rt.push("ofs="+De);let We=!0;for(let yt=0;yt<b;yt++){var B=L[yt].g;const zn=L[yt].map;if(B-=De,B<0)De=Math.max(0,L[yt].g-100),We=!1;else try{B="req"+B+"_"||"";try{var se=zn instanceof Map?zn:Object.entries(zn);for(const[Di,ai]of se){let li=ai;g(ai)&&(li=Es(ai)),Rt.push(B+Di+"="+encodeURIComponent(li))}}catch(Di){throw Rt.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{T&&T(zn)}}if(We){se=Rt.join("&");break e}}se=void 0}return u=u.i.splice(0,b),m.G=u,se}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ht||x(),ke||(ht(),ke=!0),D.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),Cs(this),_u(this))};function Ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Vt(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),Ir(u,m),u.u&&u.o&&Rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Ar(Vt(m)),b.u=null,b.R=!0,ca(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Dr(this),Dt(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var b=null;if(u.g==m){va(u),Ul(u),u.g=null;var T=2}else if(Ai(u.h,m))b=m.G,Rl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ua(),bt(T,new gi(T,b)),Ci(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&_a(u,m)||T==2&&Dr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),L){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function bu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const L=!T;T=new xn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(T,"https"),Ar(T),L?ii(T.toString(),b):Ml(T.toString(),b)}else Dt(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ya(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,b){var T=b instanceof xn?Vt(b):new xn(b);if(T.g!="")m&&(T.g=m+"."+T.g),Ts(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new xn(null);T&&Qt(B,T),m&&(B.g=m),L&&Ts(B,L),b&&(B.h=b),T=B}return b=u.G,m=u.wa,b&&m&&st(T,b,m),st(T,"VER",u.ka),Ir(u,T),T}function Su(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new xi({ab:b})):new lt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){Ze.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!A(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!A(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ki(this)}w(dn,Ze),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){jl(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Es(u),u=b);m.i.push(new Mt(m.Ya++,u)),m.I==3&&Ci(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,dn.Z.N.call(this)};function wu(u){Jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(wu,Jt);function xu(){jn.call(this),this.status=1}w(xu,jn);function Ki(u){this.g=u}w(Ki,Au),Ki.prototype.ra=function(){bt(this.g,"a")},Ki.prototype.qa=function(u){bt(this.g,new wu(u))},Ki.prototype.pa=function(u){bt(this.g,new xu)},Ki.prototype.oa=function(){bt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,gb=function(){return new Is},pb=function(){return ua()},mb=xt,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Uc=Tr,Tl.COMPLETE="complete",db=Tl,su.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,wo=su,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,fb=lt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",C0="4.9.2";class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let gl="12.3.0";const sa=new Vm("@firebase/firestore");function Ja(){return sa.logLevel}function he(s,...e){if(sa.logLevel<=Fe.DEBUG){const i=e.map(Lm);sa.debug(`Firestore (${gl}): ${s}`,...i)}}function ps(s,...e){if(sa.logLevel<=Fe.ERROR){const i=e.map(Lm);sa.error(`Firestore (${gl}): ${s}`,...i)}}function ll(s,...e){if(sa.logLevel<=Fe.WARN){const i=e.map(Lm);sa.warn(`Firestore (${gl}): ${s}`,...i)}}function Lm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Se(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,yb(s,r,i)}function yb(s,e,i){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ps(r),new Error(r)}function nt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||yb(e,o,r)}function Ie(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ds{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class _b{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class Jw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Zw{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let c=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ds,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ds)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string",31837,{l:r}),new _b(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class Ww{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ex{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Ww(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new I0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=nx(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function dm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Jd(o)===Jd(c)?Ge(o,c):Jd(o)?1:-1}return Ge(s.length,e.length)}const ix=55296,sx=57343;function Jd(s){const e=s.charCodeAt(0);return e>=ix&&e<=sx}function ol(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const D0="__name__";class ji{constructor(e,i,r){i===void 0?i=0:i>e.length&&Se(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Se(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=ji.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const r=ji.isNumericId(e),o=ji.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ji.extractNumericId(e).compare(ji.extractNumericId(i)):dm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class dt extends ji{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const rx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends ji{construct(e,i,r){return new an(e,i,r)}static isValidIdentifier(e){return rx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new an([D0])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(dt.fromString(e))}static fromName(e){return new _e(dt.fromString(e).popFirst(5))}static empty(){return new _e(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new dt(e.slice()))}}function vb(s,e,i){if(!i)throw new ue(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ax(s,e,i,r){if(e===!0&&r===!0)throw new ue(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function O0(s){if(!_e.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function M0(s){if(_e.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function bb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ph(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function An(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ph(s);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function qt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Qo(s,e){if(!bb(s))throw new ue(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ue(X.INVALID_ARGUMENT,i);return!0}const V0=-62135596800,k0=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*k0);return new gt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<V0)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qo(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:qt("string",gt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new gt(0,0))}static max(){return new Re(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jo=-1;function lx(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(r===1e9?new gt(i+1,0):new gt(i,r));return new ur(o,_e.empty(),e)}function ox(s){return new ur(s.readTime,s.key,jo)}class ur{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ur(Re.min(),_e.empty(),jo)}static max(){return new ur(Re.max(),_e.empty(),jo)}}function ux(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yl(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==cx)throw s;he("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>r(v)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++g,g===c&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new J(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function fx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _l(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const Pm=-1;function yh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function dx(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Eb="";function mx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=j0(e)),e=px(s.get(i),e);return j0(e)}function px(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Eb:i+="";break;default:i+=c}}return i}function j0(s){return s+Eb+""}function L0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function pr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Tb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Et{constructor(e,i){this.comparator=e,this.root=i||sn.EMPTY}insert(e,i){return new Et(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new sn(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new sn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Vn([])}unionWith(e){let i=new Ft(an.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Sb("Invalid base64 string: "+c):c}})(e);return new ln(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new ln(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const i=gx.exec(s);if(nt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(s.seconds),nanos:It(s.nanos)}}function It(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hr(s){return typeof s=="string"?ln.fromBase64String(s):ln.fromUint8Array(s)}const Ab="server_timestamp",wb="__type__",xb="__previous_value__",Rb="__local_write_time__";function zm(s){return(s?.mapValue?.fields||{})[wb]?.stringValue===Ab}function _h(s){const e=s.mapValue.fields[xb];return zm(e)?_h(e):e}function Lo(s){const e=cr(s.mapValue.fields[Rb].timestampValue);return new gt(e.seconds,e.nanos)}class yx{constructor(e,i,r,o,c,d,g,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Jc="(default)";class Uo{constructor(e,i){this.projectId=e,this.database=i||Jc}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof Uo&&e.projectId===this.projectId&&e.database===this.database}}const Nb="__type__",_x="__max__",Mc={mapValue:{}},Cb="__vector__",Zc="value";function fr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zm(s)?4:bx(s)?9007199254740991:vx(s)?10:11:Se(28295,{value:s})}function Bi(s,e){if(s===e)return!0;const i=fr(s);if(i!==fr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Lo(s).isEqual(Lo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=cr(o.timestampValue),g=cr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return hr(o.bytesValue).isEqual(hr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return It(o.geoPointValue.latitude)===It(c.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return It(o.integerValue)===It(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=It(o.doubleValue),g=It(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ol(s.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(L0(d)!==L0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Bi(d[v],g[v])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function Po(s,e){return(s.values||[]).find((i=>Bi(i,e)))!==void 0}function ul(s,e){if(s===e)return 0;const i=fr(s),r=fr(e);if(i!==r)return Ge(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=It(c.integerValue||c.doubleValue),v=It(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,e);case 3:return P0(s.timestampValue,e.timestampValue);case 4:return P0(Lo(s),Lo(e));case 5:return dm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=hr(c),v=hr(d);return g.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const S=Ge(g[_],v[_]);if(S!==0)return S}return Ge(g.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ge(It(c.latitude),It(d.latitude));return g!==0?g:Ge(It(c.longitude),It(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return z0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},_=g[Zc]?.arrayValue,S=v[Zc]?.arrayValue,w=Ge(_?.values?.length||0,S?.values?.length||0);return w!==0?w:z0(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let w=0;w<v.length&&w<S.length;++w){const O=dm(v[w],S[w]);if(O!==0)return O;const Y=ul(g[v[w]],_[S[w]]);if(Y!==0)return Y}return Ge(v.length,S.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:i})}}function P0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=cr(s),r=cr(e),o=Ge(i.seconds,r.seconds);return o!==0?o:Ge(i.nanos,r.nanos)}function z0(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=ul(i[o],r[o]);if(c)return c}return Ge(i.length,r.length)}function cl(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=cr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return hr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=mm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${mm(i.fields[d])}`;return o+"}"})(s.mapValue):Se(61005,{value:s})}function Pc(s){switch(fr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(s);return e?16+Pc(e):16;case 5:return 2*s.stringValue.length;case 6:return hr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return pr(r.fields,((c,d)=>{o+=c.length+Pc(d)})),o})(s.mapValue);default:throw Se(13486,{value:s})}}function q0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function pm(s){return!!s&&"integerValue"in s}function qm(s){return!!s&&"arrayValue"in s}function B0(s){return!!s&&"nullValue"in s}function H0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function vx(s){return(s?.mapValue?.fields||{})[Nb]?.stringValue===Cb}function Io(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return pr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Io(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Io(s.arrayValue.values[i]);return e}return{...s}}function bx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_x}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Io(i)}setAll(e){let i=an.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Io(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){pr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Sn(Io(this.value))}}function Ib(s){const e=[];return pr(s.fields,((i,r)=>{const o=new an([i]);if(zc(r)){const c=Ib(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Vn(e)}class hn{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new hn(e,0,Re.min(),Re.min(),Re.min(),Sn.empty(),0)}static newFoundDocument(e,i,r,o){return new hn(e,1,i,Re.min(),r,o,0)}static newNoDocument(e,i){return new hn(e,2,i,Re.min(),Re.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,Re.min(),Re.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(e,i){this.position=e,this.inclusive=i}}function F0(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=ul(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function G0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Bi(s.position[i],e.position[i]))return!1;return!0}class zo{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ex(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Db{}class zt extends Db{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Sx(e,i,r):i==="array-contains"?new xx(e,r):i==="in"?new Rx(e,r):i==="not-in"?new Nx(e,r):i==="array-contains-any"?new Cx(e,r):new zt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Ax(e,r):new wx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ul(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(ul(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends Db{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new mi(e,i)}matches(e){return Ob(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ob(s){return s.op==="and"}function Mb(s){return Tx(s)&&Ob(s)}function Tx(s){for(const e of s.filters)if(e instanceof mi)return!1;return!0}function gm(s){if(s instanceof zt)return s.field.canonicalString()+s.op.toString()+cl(s.value);if(Mb(s))return s.filters.map((e=>gm(e))).join(",");{const e=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${e})`}}function Vb(s,e){return s instanceof zt?(function(r,o){return o instanceof zt&&r.op===o.op&&r.field.isEqual(o.field)&&Bi(r.value,o.value)})(s,e):s instanceof mi?(function(r,o){return o instanceof mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&Vb(d,o.filters[g])),!0):!1})(s,e):void Se(19439)}function kb(s){return s instanceof zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${cl(i.value)}`})(s):s instanceof mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(kb).join(" ,")+"}"})(s):"Filter"}class Sx extends zt{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class Ax extends zt{constructor(e,i){super(e,"in",i),this.keys=jb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class wx extends zt{constructor(e,i){super(e,"not-in",i),this.keys=jb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function jb(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class xx extends zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&Po(i.arrayValue,this.value)}}class Rx extends zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Po(this.value.arrayValue,i)}}class Nx extends zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Po(this.value.arrayValue,i)}}class Cx extends zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Po(this.value.arrayValue,r)))}}class Ix{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Q0(s,e=null,i=[],r=[],o=null,c=null,d=null){return new Ix(s,e,i,r,o,c,d)}function Bm(s){const e=Ie(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>gm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),yh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>cl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>cl(r))).join(",")),e.Te=i}return e.Te}function Hm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Ex(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Vb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!G0(s.startAt,e.startAt)&&G0(s.endAt,e.endAt)}function ym(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class vl{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dx(s,e,i,r,o,c,d,g){return new vl(s,e,i,r,o,c,d,g)}function vh(s){return new vl(s)}function Y0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Lb(s){return s.collectionGroup!==null}function Do(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ft(an.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new zo(c,r))})),i.has(an.keyField().canonicalString())||e.Ie.push(new zo(an.keyField(),r))}return e.Ie}function Li(s){const e=Ie(s);return e.Ee||(e.Ee=Ox(e,Do(s))),e.Ee}function Ox(s,e){if(s.limitType==="F")return Q0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new zo(o.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return Q0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function _m(s,e){const i=s.filters.concat([e]);return new vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function vm(s,e,i){return new vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function bh(s,e){return Hm(Li(s),Li(e))&&s.limitType===e.limitType}function Ub(s){return`${Bm(Li(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>kb(o))).join(", ")}]`),yh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>cl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>cl(o))).join(",")),`Target(${r})`})(Li(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Do(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,v){const _=F0(d,g,v);return d.inclusive?_<=0:_<0})(r.startAt,Do(r),o)||r.endAt&&!(function(d,g,v){const _=F0(d,g,v);return d.inclusive?_>=0:_>0})(r.endAt,Do(r),o))})(s,e)}function Mx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Pb(s){return(e,i)=>{let r=!1;for(const o of Do(s)){const c=Vx(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Vx(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,g){const v=d.data.field(c),_=g.data.field(c);return v!==null&&_!==null?ul(v,_):Se(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}class la{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Tb(this.inner)}size(){return this.innerSize}}const kx=new Et(_e.comparator);function gs(){return kx}const zb=new Et(_e.comparator);function xo(...s){let e=zb;for(const i of s)e=e.insert(i.key,i);return e}function qb(s){let e=zb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Jr(){return Oo()}function Bb(){return Oo()}function Oo(){return new la((s=>s.toString()),((s,e)=>s.isEqual(e)))}const jx=new Et(_e.comparator),Lx=new Ft(_e.comparator);function Qe(...s){let e=Lx;for(const i of s)e=e.add(i);return e}const Ux=new Ft(Ge);function Px(){return Ux}function Fm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function Hb(s){return{integerValue:""+s}}function zx(s,e){return dx(e)?Hb(e):Fm(s,e)}class Th{constructor(){this._=void 0}}function qx(s,e,i){return s instanceof eh?(function(o,c){const d={fields:{[wb]:{stringValue:Ab},[Rb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&zm(c)&&(c=_h(c)),c&&(d.fields[xb]=c),{mapValue:d}})(i,e):s instanceof qo?Gb(s,e):s instanceof Bo?Qb(s,e):(function(o,c){const d=Fb(o,c),g=K0(d)+K0(o.Ae);return pm(d)&&pm(o.Ae)?Hb(g):Fm(o.serializer,g)})(s,e)}function Bx(s,e,i){return s instanceof qo?Gb(s,e):s instanceof Bo?Qb(s,e):i}function Fb(s,e){return s instanceof th?(function(r){return pm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class eh extends Th{}class qo extends Th{constructor(e){super(),this.elements=e}}function Gb(s,e){const i=Yb(e);for(const r of s.elements)i.some((o=>Bi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Bo extends Th{constructor(e){super(),this.elements=e}}function Qb(s,e){let i=Yb(e);for(const r of s.elements)i=i.filter((o=>!Bi(o,r)));return{arrayValue:{values:i}}}class th extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function K0(s){return It(s.integerValue||s.doubleValue)}function Yb(s){return qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Hx(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof qo&&o instanceof qo||r instanceof Bo&&o instanceof Bo?ol(r.elements,o.elements,Bi):r instanceof th&&o instanceof th?Bi(r.Ae,o.Ae):r instanceof eh&&o instanceof eh})(s.transform,e.transform)}class Fx{constructor(e,i){this.version=e,this.transformResults=i}}class Jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Sh{}function Kb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Gm(s.key,Jn.none()):new Yo(s.key,s.data,Jn.none());{const i=s.data,r=Sn.empty();let o=new Ft(an.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new gr(s.key,r,new Vn(o.toArray()),Jn.none())}}function Gx(s,e,i){s instanceof Yo?(function(o,c,d){const g=o.value.clone(),v=$0(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof gr?(function(o,c,d){if(!qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=$0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(Xb(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Mo(s,e,i,r){return s instanceof Yo?(function(c,d,g,v){if(!qc(c.precondition,d))return g;const _=c.value.clone(),S=J0(c.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof gr?(function(c,d,g,v){if(!qc(c.precondition,d))return g;const _=J0(c.fieldTransforms,v,d),S=d.data;return S.setAll(Xb(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(c,d,g){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Qx(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=Fb(r.transform,o||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,c))}return i||null}function X0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ol(r,o,((c,d)=>Hx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yo extends Sh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gr extends Sh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Xb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function $0(s,e,i){const r=new Map;nt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,Bx(d,g,i[o]))}return r}function J0(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,qx(c,d,e))}return r}class Gm extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Kx{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Gx(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Mo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Mo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Bb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=Kb(d,g);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((i,r)=>X0(i,r)))&&ol(this.baseMutations,e.baseMutations,((i,r)=>X0(i,r)))}}class Qm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){nt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return jx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Qm(e,i,r,o)}}class Xx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $x{constructor(e,i){this.count=e,this.unchangedNames=i}}var Pt,Xe;function Jx(s){switch(s){case X.OK:return Se(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function $b(s){if(s===void 0)return ps("GRPC error has no .code"),X.UNKNOWN;switch(s){case Pt.OK:return X.OK;case Pt.CANCELLED:return X.CANCELLED;case Pt.UNKNOWN:return X.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return X.INTERNAL;case Pt.UNAVAILABLE:return X.UNAVAILABLE;case Pt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Pt.NOT_FOUND:return X.NOT_FOUND;case Pt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Pt.ABORTED:return X.ABORTED;case Pt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Pt.DATA_LOSS:return X.DATA_LOSS;default:return Se(39323,{code:s})}}(Xe=Pt||(Pt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function Zx(){return new TextEncoder}const Wx=new lr([4294967295,4294967295],0);function Z0(s){const e=Zx().encode(s),i=new hb;return i.update(e),new Uint8Array(i.digest())}function W0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new lr([i,r],0),new lr([o,c],0)]}class Ym{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ro(`Invalid padding: ${i}`);if(r<0)throw new Ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=lr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(lr.fromNumber(r)));return o.compare(Wx)===1&&(o=new lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Z0(e),[r,o]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ym(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Z0(e),[r,o]=W0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ah(Re.min(),o,new Et(Ge),gs(),Qe())}}class Ko{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Ko(r,i,Qe(),Qe(),Qe())}}class Bc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Jb{constructor(e,i){this.targetId=e,this.Ce=i}}class Zb{constructor(e,i,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class ev{constructor(){this.ve=0,this.Fe=tv(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),r=Qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:c})}})),new Ko(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=tv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class e2{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.Je=Vc(),this.He=Vc(),this.Ye=new Et(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(ym(c))if(r===0){const d=new _e(c.path);this.et(i,d,hn.newNoDocument(d,Re.min()))}else nt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=hr(r).toUint8Array()}catch(v){if(v instanceof Sb)return ll("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ym(d,o,c)}catch(v){return ll(v instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&ym(g.target)){const v=new _e(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,hn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Qe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ah(e,i,this.Ye,this.je,r);return this.je=gs(),this.Je=Vc(),this.He=Vc(),this.Ye=new Et(Ge),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new ev,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ft(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ft(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||he("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ev),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new Et(_e.comparator)}function tv(){return new Et(_e.comparator)}const t2={asc:"ASCENDING",desc:"DESCENDING"},n2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"};class s2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(s,e){return s.useProto3Json||yh(e)?e:{value:e}}function nh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function r2(s,e){return nh(s,e.toTimestamp())}function Ui(s){return nt(!!s,49232),Re.fromTimestamp((function(i){const r=cr(i);return new gt(r.seconds,r.nanos)})(s))}function Km(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function eE(s){const e=dt.fromString(s);return nt(rE(e),10190,{key:e.toString()}),e}function Tm(s,e){return Km(s.databaseId,e.path)}function Zd(s,e){const i=eE(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(nE(i))}function tE(s,e){return Km(s.databaseId,e)}function a2(s){const e=eE(s);return e.length===4?dt.emptyPath():nE(e)}function Sm(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function nE(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nv(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function l2(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Se(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(nt(S===void 0||typeof S=="string",58123),ln.fromBase64String(S||"")):(nt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),ln.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?X.UNKNOWN:$b(_.code);return new ue(S,_.message||"")})(d);i=new Zb(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Zd(s,r.document.name),c=Ui(r.document.updateTime),d=r.document.createTime?Ui(r.document.createTime):Re.min(),g=new Sn({mapValue:{fields:r.document.fields}}),v=hn.newFoundDocument(o,c,d,g),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Bc(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Zd(s,r.document),c=r.readTime?Ui(r.readTime):Re.min(),d=hn.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Zd(s,r.document),c=r.removedTargetIds||[];i=new Bc([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new $x(o,c),g=r.targetId;i=new Jb(g,d)}}return i}function o2(s,e){let i;if(e instanceof Yo)i={update:nv(s,e.key,e.value)};else if(e instanceof Gm)i={delete:Tm(s,e.key)};else if(e instanceof gr)i={update:nv(s,e.key,e.data),updateMask:y2(e.fieldMask)};else{if(!(e instanceof Yx))return Se(16599,{Vt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof qo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof th)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:r2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),i}function u2(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ui(o.updateTime):Ui(c);return d.isEqual(Re.min())&&(d=Ui(c)),new Fx(d,o.transformResults||[])})(i,e)))):[]}function c2(s,e){return{documents:[tE(s,e.path)]}}function h2(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=tE(s,o);const c=(function(_){if(_.length!==0)return sE(mi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(O){return{field:Wa(O.field),direction:m2(O.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=bm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function f2(s){let e=a2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){nt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const O=iE(w);return O instanceof mi&&Mb(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(te){return new zo(el(te.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let O;return O=typeof w=="object"?w.value:w,yh(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(w){const O=!!w.before,Y=w.values||[];return new Wc(Y,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const O=!w.before,Y=w.values||[];return new Wc(Y,O)})(i.endAt)),Dx(e,o,d,c,g,"F",v,_)}function d2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function iE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=el(i.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=el(i.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=el(i.unaryFilter.field);return zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=el(i.unaryFilter.field);return zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(i){return zt.create(el(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return mi.create(i.compositeFilter.filters.map((r=>iE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(i.compositeFilter.op))})(s):Se(30097,{filter:s})}function m2(s){return t2[s]}function p2(s){return n2[s]}function g2(s){return i2[s]}function Wa(s){return{fieldPath:s.canonicalString()}}function el(s){return an.fromServerFormat(s.fieldPath)}function sE(s){return s instanceof zt?(function(i){if(i.op==="=="){if(H0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(B0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(B0(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:p2(i.op),value:i.value}}})(s):s instanceof mi?(function(i){const r=i.getFilters().map((o=>sE(o)));return r.length===1?r[0]:{compositeFilter:{op:g2(i.op),filters:r}}})(s):Se(54877,{filter:s})}function y2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function rE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ir{constructor(e,i,r,o,c=Re.min(),d=Re.min(),g=ln.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _2{constructor(e){this.yt=e}}function v2(s){const e=f2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(e,e.limit,"L"):e}class b2{constructor(){this.Cn=new E2}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(ur.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class E2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ft(dt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ft(dt.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aE=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(aE,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}const sv="LruGarbageCollector",T2=1048576;function rv([s,e],[i,r]){const o=Ge(s,i);return o===0?Ge(e,r):o}class S2{constructor(e){this.Ir=e,this.buffer=new Ft(rv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();rv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(sv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_l(i)?he(sv,"Ignoring IndexedDB error during garbage collection: ",i):await yl(i)}await this.Vr(3e5)}))}}class w2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(gh.ce);const r=new S2(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(iv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,g,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,g=Date.now(),this.removeTargets(e,r,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),Ja()<=Fe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function x2(s,e){return new w2(s,e)}class R2{constructor(){this.changes=new la((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class C2{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Mo(r.mutation,o,Vn.empty(),gt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Qe()){const o=Jr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=xo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Jr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Qe())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=gs();const d=Oo(),g=(function(){return Oo()})();return i.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof gr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Mo(S.mutation,_,S.mutation.getFieldMask(),gt.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new N2(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Oo();let o=new Et(((d,g)=>d-g)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=r.get(v)||Vn.empty();S=g.applyToLocalView(_,S),r.set(v,S);const w=(o.get(g.batchId)||Qe()).add(v);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,S=v.value,w=Bb();S.forEach((O=>{if(!c.has(O)){const Y=Kb(i.get(O),r.get(O));Y!==null&&w.set(O,Y),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Lb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):J.resolve(Jr());let g=jo,v=c;return d.next((_=>J.forEach(_,((S,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((O=>{v=v.insert(S,O)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Qe()))).next((S=>({batchId:g,changes:qb(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let o=xo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=xo();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(v=>{const _=(function(w,O){return new vl(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((S=>{S.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,hn.newInvalidDocument(S)))}));let g=xo();return d.forEach(((v,_)=>{const S=c.get(v);S!==void 0&&Mo(S.mutation,_,Vn.empty(),gt.now()),Eh(i,_)&&(g=g.insert(v,_))})),g}))}}class I2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:v2(o.bundledQuery),readTime:Ui(o.readTime)}})(i)),J.resolve()}}class D2{constructor(){this.overlays=new Et(_e.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Jr();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=Jr(),c=i.length+1,d=new _e(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Et(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=c.get(_.largestBatchId);S===null&&(S=Jr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Jr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=o)););return J.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Xx(i,r));let c=this.qr.get(i);c===void 0&&(c=Qe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class O2{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Xm{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Kt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Kt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _e(new dt([])),r=new Kt(i,e),o=new Kt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new dt([])),r=new Kt(i,e),o=new Kt(i,e+1);let c=Qe();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Kt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class M2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Kx(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Kt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ft(Ge);return i.forEach((o=>{const c=new Kt(o,0),d=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new Kt(new _e(c),0);let g=new Ft(Ge);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){nt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const c=new Kt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Kt(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class V2{constructor(e){this.ri=e,this.docs=(function(){return new Et(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let r=gs();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():hn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=gs();const d=i.path,g=new _e(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ux(ox(S),r)<=0||(o.has(S.key)||Eh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Se(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new k2(this)}getSize(e){return J.resolve(this.size)}}class k2 extends R2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class j2{constructor(e){this.persistence=e,this.si=new la((i=>Bm(i)),Hm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=hl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new hl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class lE{constructor(e,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new O2,this.referenceDelegate=e(this),this.Pi=new j2(this),this.indexManager=new b2,this.remoteDocumentCache=(function(o){return new V2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _2(i),this.Ii=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new D2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new M2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){he("MemoryPersistence","Starting transaction:",e);const o=new L2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class L2 extends hx{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=_e.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ih{constructor(e,i){this.persistence=e,this.pi=new la((r=>mx(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=x2(this,i)}static mi(e,i){return new ih(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Pc(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Qe(),o=Qe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jm(e,i.fromCache,r,o)}}class U2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class P2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IA()?8:fx(fn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new U2;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(Ja()<=Fe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ja()<=Fe.DEBUG&&he("QueryEngine","Query:",Za(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ja()<=Fe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(i))):J.resolve())}ys(e,i){if(Y0(i))return J.resolve(null);let r=Li(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=vm(i,null,"F"),r=Li(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Qe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,vm(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return Y0(i)||o.isEqual(Re.min())?J.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?J.resolve(null):(Ja()<=Fe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(i)),this.vs(e,d,i,lx(o,jo)).next((g=>g)))}))}Ds(e,i){let r=new Ft(Pb(e));return i.forEach(((o,c)=>{Eh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return Ja()<=Fe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(e,i,ur.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",z2=3e8;class q2{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Et(Ge),this.xs=new la((c=>Bm(c)),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function B2(s,e,i,r){return new q2(s,e,i,r)}async function oE(s,e){const i=Ie(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let v=Qe();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function H2(s,e){const i=Ie(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,S){const w=_.batch,O=w.keys();let Y=J.resolve();return O.forEach((te=>{Y=Y.next((()=>S.getEntry(v,te))).next((ae=>{const ne=_.docVersions.get(te);nt(ne!==null,48541),ae.version.compareTo(ne)<0&&(w.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),S.addEntry(ae)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=Qe();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function uE(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function F2(s,e){const i=Ie(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((S,w)=>{const O=o.get(w);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,w))));let Y=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?Y=Y.withResumeToken(ln.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):S.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(S.resumeToken,r)),o=o.insert(w,Y),(function(ae,ne,be){return ae.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=z2?!0:be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0})(O,Y,S)&&g.push(i.Pi.updateTargetData(c,Y))}));let v=gs(),_=Qe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(G2(c,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(Re.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(S)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function G2(s,e,i){let r=Qe(),o=Qe();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=gs();return i.forEach(((g,v)=>{const _=c.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Re.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):he(Zm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Q2(s,e){const i=Ie(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Y2(s,e){const i=Ie(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new ir(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Am(s,e,i){const r=Ie(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!_l(d))throw d;he(Zm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function av(s,e,i){const r=Ie(s);let o=Re.min(),c=Qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const w=Ie(v),O=w.xs.get(S);return O!==void 0?J.resolve(w.Ms.get(O)):w.Pi.getTargetData(_,S)})(r,d,Li(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Re.min(),i?c:Qe()))).next((g=>(K2(r,Mx(e),g),{documents:g,Qs:c})))))}function K2(s,e,i){let r=s.Os.get(e)||Re.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class lv{constructor(){this.activeTargetIds=Px()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X2{constructor(){this.Mo=new lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $2{Oo(e){}shutdown(){}}const ov="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function wm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Wd="RestConnection",J2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Jc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=wm(),g=this.zo(e,i.toUriEncodedString());he(Wd,`Sending RPC '${e}' ${d}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(g),S=ml(_);return this.Jo(e,g,v,r,S).then((w=>(he(Wd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ll(Wd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",r),w}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=J2[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class W2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const un="WebChannelConnection";class eR extends Z2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=wm();return new Promise(((g,v)=>{const _=new fb;_.setWithCredentials(!0),_.listenOnce(db.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const w=_.getResponseJson();he(un,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Uc.TIMEOUT:he(un,`RPC '${e}' ${d} timed out`),v(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const O=_.getStatus();if(he(un,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const te=Y?.error;if(te&&te.status&&te.message){const ae=(function(be){const Ne=be.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ne)>=0?Ne:X.UNKNOWN})(te.status);v(new ue(ae,te.message))}else v(new ue(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ue(X.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{he(un,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);he(un,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=gb(),g=pb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=c.join("");he(un,`Creating RPC '${e}' stream ${o}: ${S}`,v);const w=d.createWebChannel(S,v);this.I_(w);let O=!1,Y=!1;const te=new W2({Yo:ne=>{Y?he(un,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(O||(he(un,`Opening RPC '${e}' stream ${o} transport.`),w.open(),O=!0),he(un,`RPC '${e}' stream ${o} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),ae=(ne,be,Ne)=>{ne.listen(be,(Te=>{try{Ne(Te)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return ae(w,wo.EventType.OPEN,(()=>{Y||(he(un,`RPC '${e}' stream ${o} transport opened.`),te.o_())})),ae(w,wo.EventType.CLOSE,(()=>{Y||(Y=!0,he(un,`RPC '${e}' stream ${o} transport closed`),te.a_(),this.E_(w))})),ae(w,wo.EventType.ERROR,(ne=>{Y||(Y=!0,ll(un,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),te.a_(new ue(X.UNAVAILABLE,"The operation could not be completed")))})),ae(w,wo.EventType.MESSAGE,(ne=>{if(!Y){const be=ne.data[0];nt(!!be,16349);const Ne=be,Te=Ne?.error||Ne[0]?.error;if(Te){he(un,`RPC '${e}' stream ${o} received error:`,Te);const tt=Te.status;let ht=(function(x){const C=Pt[x];if(C!==void 0)return $b(C)})(tt),ke=Te.message;ht===void 0&&(ht=X.INTERNAL,ke="Unknown error status: "+tt+" with message "+Te.message),Y=!0,te.a_(new ue(ht,ke)),w.close()}else he(un,`RPC '${e}' stream ${o} received:`,be),te.u_(be)}})),ae(g,mb.STAT_EVENT,(ne=>{ne.stat===fm.PROXY?he(un,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===fm.NOPROXY&&he(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function em(){return typeof document<"u"?document:null}function wh(s){return new s2(s,!0)}class cE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class hE{constructor(e,i,r,o,c,d,g,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ps(i.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ue(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(cv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(he(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tR extends hE{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=l2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Ui(d.readTime):Re.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=ym(v)?{documents:c2(c,v)}:{query:h2(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Wb(c,d.resumeToken);const _=bm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Re.min())>0){g.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=bm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=d2(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Sm(this.serializer),i.removeTarget=e,this.q_(i)}}class nR extends hE{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=u2(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Sm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>o2(this.serializer,r)))};this.q_(i)}}class iR{}class sR extends iR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Em(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(X.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Em(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class aR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{oa(this)&&(he(ra,"Restarting streams for network reachability change."),await(async function(v){const _=Ie(v);_.Ea.add(4),await Xo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await xh(_)})(this))}))})),this.Ra=new rR(r,o)}}async function xh(s){if(oa(s))for(const e of s.da)await e(!0)}async function Xo(s){for(const e of s.da)await e(!1)}function fE(s,e){const i=Ie(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),np(i)?tp(i):bl(i).O_()&&ep(i,e))}function Wm(s,e){const i=Ie(s),r=bl(i);i.Ia.delete(e),r.O_()&&dE(i,e),i.Ia.size===0&&(r.O_()?r.L_():oa(i)&&i.Ra.set("Unknown"))}function ep(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bl(s).Y_(e)}function dE(s,e){s.Va.Ue(e),bl(s).Z_(e)}function tp(s){s.Va=new e2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),bl(s).start(),s.Ra.ua()}function np(s){return oa(s)&&!bl(s).x_()&&s.Ia.size>0}function oa(s){return Ie(s).Ea.size===0}function mE(s){s.Va=void 0}async function lR(s){s.Ra.set("Online")}async function oR(s){s.Ia.forEach(((e,i)=>{ep(s,e)}))}async function uR(s,e){mE(s),np(s)?(s.Ra.ha(e),tp(s)):s.Ra.set("Unknown")}async function cR(s,e,i){if(s.Ra.set("Online"),e instanceof Zb&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(r){he(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(s,r)}else if(e instanceof Bc?s.Va.Ze(e):e instanceof Jb?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const r=await uE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(ln.EMPTY_BYTE_STRING,S.snapshotVersion)),dE(c,v);const w=new ir(S.target,v,_,S.sequenceNumber);ep(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){he(ra,"Failed to raise snapshot:",r),await sh(s,r)}}async function sh(s,e,i){if(!_l(e))throw e;s.Ea.add(1),await Xo(s),s.Ra.set("Offline"),i||(i=()=>uE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(ra,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await xh(s)}))}function pE(s,e){return e().catch((i=>sh(s,i,e)))}async function Rh(s){const e=Ie(s),i=dr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pm;for(;hR(e);)try{const o=await Q2(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,fR(e,o)}catch(o){await sh(e,o)}gE(e)&&yE(e)}function hR(s){return oa(s)&&s.Ta.length<10}function fR(s,e){s.Ta.push(e);const i=dr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function gE(s){return oa(s)&&!dr(s).x_()&&s.Ta.length>0}function yE(s){dr(s).start()}async function dR(s){dr(s).ra()}async function mR(s){const e=dr(s);for(const i of s.Ta)e.ea(i.mutations)}async function pR(s,e,i){const r=s.Ta.shift(),o=Qm.from(r,e,i);await pE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Rh(s)}async function gR(s,e){e&&dr(s).X_&&await(async function(r,o){if((function(d){return Jx(d)&&d!==X.ABORTED})(o.code)){const c=r.Ta.shift();dr(r).B_(),await pE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(r)}})(s,e),gE(s)&&yE(s)}async function hv(s,e){const i=Ie(s);i.asyncQueue.verifyOperationInProgress(),he(ra,"RemoteStore received new credentials");const r=oa(i);i.Ea.add(3),await Xo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xh(i)}async function yR(s,e){const i=Ie(s);e?(i.Ea.delete(2),await xh(i)):e||(i.Ea.add(2),await Xo(i),i.Ra.set("Unknown"))}function bl(s){return s.ma||(s.ma=(function(i,r,o){const c=Ie(i);return c.sa(),new tR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:lR.bind(null,s),t_:oR.bind(null,s),r_:uR.bind(null,s),H_:cR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),np(s)?tp(s):s.Ra.set("Unknown")):(await s.ma.stop(),mE(s))}))),s.ma}function dr(s){return s.fa||(s.fa=(function(i,r,o){const c=Ie(i);return c.sa(),new nR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:dR.bind(null,s),r_:gR.bind(null,s),ta:mR.bind(null,s),na:pR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(he(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ip{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new ip(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(s,e){if(ps("AsyncQueue",`${e}: ${s}`),_l(s))return new ue(X.UNAVAILABLE,`${e}: ${s}`);throw s}class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=xo(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class fv{constructor(){this.ga=new Et(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class fl{constructor(e,i,r,o,c,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new fl(e,i,nl.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class _R{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vR{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ie(i),c=o.queries;o.queries=dv(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function dv(){return new la((s=>Ub(s)),bh)}async function rp(s,e){const i=Ie(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new _R,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=sp(d,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&lp(i)}async function ap(s,e){const i=Ie(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function bR(s,e){const i=Ie(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&lp(i)}function ER(s,e,i){const r=Ie(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function lp(s){s.Ca.forEach((e=>{e.next()}))}var xm,mv;(mv=xm||(xm={})).Ma="default",mv.Cache="cache";class op{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xm.Cache}}class _E{constructor(e){this.key=e}}class vE{constructor(e){this.key=e}}class TR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=Pb(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new fv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const O=o.get(S),Y=Eh(this.query,w)?w:null,te=!!O&&this.mutatedKeys.has(O.key),ae=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ne=!1;O&&Y?O.data.isEqual(Y.data)?te!==ae&&(r.track({type:3,doc:Y}),ne=!0):this.su(O,Y)||(r.track({type:2,doc:Y}),ne=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(g=!0)):!O&&Y?(r.track({type:0,doc:Y}),ne=!0):O&&!Y&&(r.track({type:1,doc:O}),ne=!0,(v||_)&&(g=!0)),ne&&(Y?(d=d.add(Y),c=ae?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(Y,te){const ae=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:ne})}};return ae(Y)-ae(te)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new fl(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new vE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new _E(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const up="SyncEngine";class SR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class AR{constructor(e){this.key=e,this.hu=!1}}class wR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((g=>Ub(g)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new Et(_e.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xR(s,e,i=!0){const r=wE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await bE(r,e,i,!0),o}async function RR(s,e){const i=wE(s);await bE(i,e,!0,!1)}async function bE(s,e,i,r){const o=await Y2(s.localStore,Li(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await NR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&fE(s.remoteStore,o),g}async function NR(s,e,i,r,o){s.pu=(w,O,Y)=>(async function(ae,ne,be,Ne){let Te=ne.view.ru(be);Te.Cs&&(Te=await av(ae.localStore,ne.query,!1).then((({documents:D})=>ne.view.ru(D,Te))));const tt=Ne&&Ne.targetChanges.get(ne.targetId),ht=Ne&&Ne.targetMismatches.get(ne.targetId)!=null,ke=ne.view.applyChanges(Te,ae.isPrimaryClient,tt,ht);return gv(ae,ne.targetId,ke.au),ke.snapshot})(s,w,O,Y);const c=await av(s.localStore,e,!0),d=new TR(e,c.Qs),g=d.ru(c.documents),v=Ko.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,v);gv(s,i,_.au);const S=new SR(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function CR(s,e,i){const r=Ie(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Wm(r.remoteStore,o.targetId),Rm(r,o.targetId)})).catch(yl)):(Rm(r,o.targetId),await Am(r.localStore,o.targetId,!0))}async function IR(s,e){const i=Ie(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(i.remoteStore,r.targetId))}async function DR(s,e,i){const r=UR(s);try{const o=await(function(d,g){const v=Ie(d),_=gt.now(),S=g.reduce(((Y,te)=>Y.add(te.key)),Qe());let w,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let te=gs(),ae=Qe();return v.Ns.getEntries(Y,S).next((ne=>{te=ne,te.forEach(((be,Ne)=>{Ne.isValidDocument()||(ae=ae.add(be))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,te))).next((ne=>{w=ne;const be=[];for(const Ne of g){const Te=Qx(Ne,w.get(Ne.key).overlayedDocument);Te!=null&&be.push(new gr(Ne.key,Te,Ib(Te.value.mapValue),Jn.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,be,g)})).next((ne=>{O=ne;const be=ne.applyToLocalDocumentSet(w,ae);return v.documentOverlayCache.saveOverlays(Y,ne.batchId,be)}))})).then((()=>({batchId:O.batchId,changes:qb(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new Et(Ge)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await $o(r,o.changes),await Rh(r.remoteStore)}catch(o){const c=sp(o,"Failed to persist write");i.reject(c)}}async function EE(s,e){const i=Ie(s);try{const r=await F2(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?nt(d.hu,14607):o.removedDocuments.size>0&&(nt(d.hu,42227),d.hu=!1))})),await $o(i,r,e)}catch(r){await yl(r)}}function pv(s,e,i){const r=Ie(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Ie(d);v.onlineState=g;let _=!1;v.queries.forEach(((S,w)=>{for(const O of w.Sa)O.va(g)&&(_=!0)})),_&&lp(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OR(s,e,i){const r=Ie(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Et(_e.comparator);d=d.insert(c,hn.newNoDocument(c,Re.min()));const g=Qe().add(c),v=new Ah(Re.min(),new Map,new Et(Ge),d,g);await EE(r,v),r.du=r.du.remove(c),r.Au.delete(e),cp(r)}else await Am(r.localStore,e,!1).then((()=>Rm(r,e,i))).catch(yl)}async function MR(s,e){const i=Ie(s),r=e.batch.batchId;try{const o=await H2(i.localStore,e);SE(i,r,null),TE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await $o(i,o)}catch(o){await yl(o)}}async function VR(s,e,i){const r=Ie(s);try{const o=await(function(d,g){const v=Ie(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,g).next((w=>(nt(w!==null,37113),S=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);SE(r,e,i),TE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await $o(r,o)}catch(o){await yl(o)}}function TE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function SE(s,e,i){const r=Ie(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Rm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||AE(s,r)}))}function AE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Wm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),cp(s))}function gv(s,e,i){for(const r of i)r instanceof _E?(s.Ru.addReference(r.key,e),kR(s,r)):r instanceof vE?(he(up,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||AE(s,r.key)):Se(19791,{wu:r})}function kR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(he(up,"New document in limbo: "+i),s.Eu.add(r),cp(s))}function cp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new AR(i)),s.du=s.du.insert(i,r),fE(s.remoteStore,new ir(Li(vh(i.path)),r,"TargetPurposeLimboResolution",gh.ce))}}async function $o(s,e,i){const r=Ie(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Jm.As(v.targetId,_);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const S=Ie(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(O=>J.forEach(O.Es,(Y=>S.persistence.referenceDelegate.addReference(w,O.targetId,Y))).next((()=>J.forEach(O.ds,(Y=>S.persistence.referenceDelegate.removeReference(w,O.targetId,Y)))))))))}catch(w){if(!_l(w))throw w;he(Zm,"Failed to update sequence numbers: "+w)}for(const w of _){const O=w.targetId;if(!w.fromCache){const Y=S.Ms.get(O),te=Y.snapshotVersion,ae=Y.withLastLimboFreeSnapshotVersion(te);S.Ms=S.Ms.insert(O,ae)}}})(r.localStore,c))}async function jR(s,e){const i=Ie(s);if(!i.currentUser.isEqual(e)){he(up,"User change. New user:",e.toKey());const r=await oE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new ue(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $o(i,r.Ls)}}function LR(s,e){const i=Ie(s),r=i.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let o=Qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function wE(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=EE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OR.bind(null,e),e.Pu.H_=bR.bind(null,e.eventManager),e.Pu.yu=ER.bind(null,e.eventManager),e}function UR(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VR.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return B2(this.persistence,new P2,e.initialUser,this.serializer)}Cu(e){return new lE($m.mi,this.serializer)}Du(e){return new X2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class PR extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new lE((r=>ih.mi(r,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jR.bind(null,this.syncEngine),await yR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vR})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),r=(function(c){return new eR(c)})(e.databaseInfo);return(function(c,d,g,v){return new sR(c,d,g,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new aR(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new $2})())}createSyncEngine(e,i){return(function(o,c,d,g,v,_,S){const w=new wR(o,c,d,g,v,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ie(i);he(ra,"RemoteStore shutting down."),r.Ea.add(5),await Xo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const mr="FirestoreClient";class zR{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{he(mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(he(mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=sp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),he(mr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await oE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function yv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await qR(s);he(mr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>hv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>hv(e.remoteStore,o))),s._onlineComponents=e}async function qR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(mr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ll("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new rh)}}else he(mr,"Using default OfflineComponentProvider"),await tm(s,new PR(void 0));return s._offlineComponents}async function xE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(mr,"Using user provided OnlineComponentProvider"),await yv(s,s._uninitializedComponentsProvider._online)):(he(mr,"Using default OnlineComponentProvider"),await yv(s,new Nm))),s._onlineComponents}function BR(s){return xE(s).then((e=>e.syncEngine))}async function ah(s){const e=await xE(s),i=e.eventManager;return i.onListen=xR.bind(null,e.syncEngine),i.onUnlisten=CR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=RR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=IR.bind(null,e.syncEngine),i}function HR(s,e,i={}){const r=new ds;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,_){const S=new hp({next:O=>{S.Nu(),d.enqueueAndForget((()=>ap(c,w)));const Y=O.docs.has(g);!Y&&O.fromCache?_.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&O.fromCache&&v&&v.source==="server"?_.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),w=new op(vh(g.path),S,{includeMetadataChanges:!0,qa:!0});return rp(c,w)})(await ah(s),s.asyncQueue,e,i,r))),r.promise}function FR(s,e,i={}){const r=new ds;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,_){const S=new hp({next:O=>{S.Nu(),d.enqueueAndForget((()=>ap(c,w))),O.fromCache&&v.source==="server"?_.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),w=new op(g,S,{includeMetadataChanges:!0,qa:!0});return rp(c,w)})(await ah(s),s.asyncQueue,e,i,r))),r.promise}function RE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const _v=new Map;const NE="firestore.googleapis.com",vv=!0;class bv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NE,this.ssl=vv}else this.host=e.host,this.ssl=e.ssl??vv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T2)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ax("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $w;switch(r.type){case"firstParty":return new ex(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=_v.get(i);r&&(he("ComponentProvider","Removing Datastore"),_v.delete(i),r.terminate())})(this),Promise.resolve()}}function GR(s,e,i,r={}){s=An(s,Nh);const o=ml(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(ib(`https://${g}`),sb("Firestore",!0)),c.host!==NE&&c.host!==g&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:r};if(!na(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=cn.MOCK_USER;else{_=EA(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new cn(w)}s._authCredentials=new Jw(new _b(_,S))}}class yr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class wt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Qo(i,wt._jsonSchema))return new wt(e,r||null,new _e(dt.fromString(i.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:qt("string",wt._jsonSchemaVersion),referencePath:qt("string")};class or extends yr{constructor(e,i,r){super(e,i,vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new _e(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function Kr(s,e,...i){if(s=Xt(s),vb("collection","path",e),s instanceof Nh){const r=dt.fromString(e,...i);return M0(r),new or(s,null,r)}{if(!(s instanceof wt||s instanceof or))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return M0(r),new or(s.firestore,null,r)}}function tl(s,e,...i){if(s=Xt(s),arguments.length===1&&(e=Um.newId()),vb("doc","path",e),s instanceof Nh){const r=dt.fromString(e,...i);return O0(r),new wt(s,null,new _e(r))}{if(!(s instanceof wt||s instanceof or))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return O0(r),new wt(s.firestore,s instanceof or?s.converter:null,new _e(r))}}const Ev="AsyncQueue";class Tv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cE(this,"async_queue_retry"),this._c=()=>{const r=em();r&&he(Ev,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ds;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;he(Ev,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Sv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ip.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Sv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Av(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ys extends Nh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Tv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tv(e),this._firestoreClient=void 0,await e}}}function QR(s,e){const i=typeof s=="object"?s:ob(),r=typeof s=="string"?s:Jc,o=jm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=vA("firestore");c&&GR(o,...c)}return o}function Ch(s){if(s._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||YR(s),s._firestoreClient}function YR(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new yx(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,RE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new zR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(ln.fromBase64String(e))}catch(i){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qo(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:qt("string",$n._jsonSchemaVersion),bytes:qt("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fp{constructor(e){this._methodName=e}}class Pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Qo(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:qt("string",Pi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class zi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qo(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new zi(e.vectorValues);throw new ue(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:qt("string",zi._jsonSchemaVersion),vectorValues:qt("object")};const KR=/^__.*__$/;class XR{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yo(e,this.data,i,this.fieldTransforms)}}class CE{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new gr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function IE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class dp{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IE(this.Ac)&&KR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $R{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||wh(e)}Cc(e,i,r,o=!1){return new dp({Ac:e,methodName:i,Dc:r,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dh(s){const e=s._freezeSettings(),i=wh(s._databaseId);return new $R(s._databaseId,!!e.ignoreUndefinedProperties,i)}function DE(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);mp("Data must be an object, but it was:",d,r);const g=OE(r,d);let v,_;if(c.merge)v=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const O=Cm(e,w,i);if(!d.contains(O))throw new ue(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);VE(S,O)||S.push(O)}v=new Vn(S),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new XR(new Sn(g),v,_)}class Oh extends fp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function JR(s,e,i,r){const o=s.Cc(1,e,i);mp("Data must be an object, but it was:",o,r);const c=[],d=Sn.empty();pr(r,((v,_)=>{const S=pp(e,v,i);_=Xt(_);const w=o.yc(S);if(_ instanceof Oh)c.push(S);else{const O=Jo(_,w);O!=null&&(c.push(S),d.set(S,O))}}));const g=new Vn(c);return new CE(d,g,o.fieldTransforms)}function ZR(s,e,i,r,o,c){const d=s.Cc(1,e,i),g=[Cm(e,r,i)],v=[o];if(c.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(Cm(e,c[O])),v.push(c[O+1]);const _=[],S=Sn.empty();for(let O=g.length-1;O>=0;--O)if(!VE(_,g[O])){const Y=g[O];let te=v[O];te=Xt(te);const ae=d.yc(Y);if(te instanceof Oh)_.push(Y);else{const ne=Jo(te,ae);ne!=null&&(_.push(Y),S.set(Y,ne))}}const w=new Vn(_);return new CE(S,w,d.fieldTransforms)}function WR(s,e,i,r=!1){return Jo(i,s.Cc(r?4:3,e))}function Jo(s,e){if(ME(s=Xt(s)))return mp("Unsupported field value:",e,s),OE(s,e);if(s instanceof fp)return(function(r,o){if(!IE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let v=Jo(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=gt.fromDate(r);return{timestampValue:nh(o.serializer,c)}}if(r instanceof gt){const c=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(o.serializer,c)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:Wb(o.serializer,r._byteString)};if(r instanceof wt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof zi)return(function(d,g){return{mapValue:{fields:{[Nb]:{stringValue:Cb},[Zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Fm(g.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ph(r)}`)})(s,e)}function OE(s,e){const i={};return Tb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pr(s,((r,o)=>{const c=Jo(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function ME(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Pi||s instanceof $n||s instanceof wt||s instanceof fp||s instanceof zi)}function mp(s,e,i){if(!ME(i)||!bb(i)){const r=ph(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Cm(s,e,i){if((e=Xt(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return pp(s,e);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const eN=new RegExp("[~\\*/\\[\\]]");function pp(s,e,i){if(e.search(eN)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ue(X.INVALID_ARGUMENT,g+s+v)}function VE(s,e){return s.some((i=>i.isEqual(e)))}class kE{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Mh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tN extends kE{data(){return super.data()}}function Mh(s,e){return typeof e=="string"?pp(s,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function jE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class LE extends gp{}function $a(s,e,...i){let r=[];e instanceof gp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((v=>v instanceof yp)).length,g=c.filter((v=>v instanceof Vh)).length;if(d>1||d>0&&g>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Vh extends LE{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Vh(e,i,r)}_apply(e){const i=this._parse(e);return UE(e._query,i),new yr(e.firestore,e.converter,_m(e._query,i))}_parse(e){const i=Dh(e.firestore);return(function(c,d,g,v,_,S,w){let O;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Rv(w,S);const te=[];for(const ae of w)te.push(xv(v,c,ae));O={arrayValue:{values:te}}}else O=xv(v,c,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Rv(w,S),O=WR(g,d,w,S==="in"||S==="not-in");return zt.create(_,S,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Ao(s,e,i){const r=e,o=Mh("where",s);return Vh._create(o,r,i)}class yp extends gp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new yp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:mi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const v of g)UE(d,v),d=_m(d,v)})(e._query,i),new yr(e.firestore,e.converter,_m(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _p extends LE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new _p(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zo(c,d)})(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new vl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function wv(s,e="asc"){const i=e,r=Mh("orderBy",s);return _p._create(r,i)}function xv(s,e,i){if(typeof(i=Xt(i))=="string"){if(i==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lb(e)&&i.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(dt.fromString(i));if(!_e.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q0(s,new _e(r))}if(i instanceof wt)return q0(s,i._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(i)}.`)}function Rv(s,e){if(!Array.isArray(s)||s.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UE(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class nN{convertValue(e,i="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return pr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Zc].arrayValue?.values?.map((r=>It(r.doubleValue)));return new zi(i)}convertGeoPoint(e){return new Pi(It(e.latitude),It(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=_h(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Lo(e));default:return null}}convertTimestamp(e){const i=cr(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);nt(rE(r),9688,{name:e});const o=new Uo(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return o.isEqual(i)||ps(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function PE(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class No{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends kE{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Mh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:qt("string",Wr._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Hc extends Wr{data(e={}){return super.data(e)}}class ea{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Hc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new No(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Hc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new No(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:iN(g.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}function sN(s){s=An(s,wt);const e=An(s.firestore,ys);return HR(Ch(e),s._key).then((i=>zE(e,s,i)))}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:qt("string",ea._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class vp extends nN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,i)}}function Nv(s){s=An(s,yr);const e=An(s.firestore,ys),i=Ch(e),r=new vp(e);return jE(s._query),FR(i,s._query).then((o=>new ea(e,r,s,o)))}function Cv(s,e,i){s=An(s,wt);const r=An(s.firestore,ys),o=PE(s.converter,e);return kh(r,[DE(Dh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Jn.none())])}function rN(s,e,i,...r){s=An(s,wt);const o=An(s.firestore,ys),c=Dh(o);let d;return d=typeof(e=Xt(e))=="string"||e instanceof Ih?ZR(c,"updateDoc",s._key,e,i,r):JR(c,"updateDoc",s._key,e),kh(o,[d.toMutation(s._key,Jn.exists(!0))])}function Iv(s){return kh(An(s.firestore,ys),[new Gm(s._key,Jn.none())])}function aN(s,e){const i=An(s.firestore,ys),r=tl(s),o=PE(s.converter,e);return kh(i,[DE(Dh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then((()=>r))}function jc(s,...e){s=Xt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Av(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Av(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,d,g;if(s instanceof wt)d=An(s.firestore,ys),g=vh(s._key.path),c={next:v=>{e[r]&&e[r](zE(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=An(s,yr);d=An(v.firestore,ys),g=v._query;const _=new vp(d);c={next:S=>{e[r]&&e[r](new ea(d,_,v,S))},error:e[r+1],complete:e[r+2]},jE(s._query)}return(function(_,S,w,O){const Y=new hp(O),te=new op(S,Y,w);return _.asyncQueue.enqueueAndForget((async()=>rp(await ah(_),te))),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget((async()=>ap(await ah(_),te)))}})(Ch(d),g,o,c)}function kh(s,e){return(function(r,o){const c=new ds;return r.asyncQueue.enqueueAndForget((async()=>DR(await BR(r),o,c))),c.promise})(Ch(s),e)}function zE(s,e,i){const r=i.docs.get(e._key),o=new vp(s);return new Wr(s,o,e._key,r,new No(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){gl=o})(pl),al(new ia("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ys(new Zw(r.getProvider("auth-internal")),new tx(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(_.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ar(N0,C0,e),ar(N0,C0,"esm2020")})();function qE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lN=qE,BE=new Fo("auth","Firebase",qE());const oh=new Vm("@firebase/auth");function oN(s,...e){oh.logLevel<=Fe.WARN&&oh.warn(`Auth (${pl}): ${s}`,...e)}function Fc(s,...e){oh.logLevel<=Fe.ERROR&&oh.error(`Auth (${pl}): ${s}`,...e)}function Hi(s,...e){throw Ep(s,...e)}function di(s,...e){return Ep(s,...e)}function bp(s,e,i){const r={...lN(),[e]:i};return new Fo("auth","Firebase",r).create(e,{appName:s.name})}function ta(s){return bp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uN(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hi(s,"argument-error"),bp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return BE.create(s,...e)}function Ae(s,e,...i){if(!s)throw Ep(e,...i)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Fc(e),new Error(e)}function _s(s,e){s||hs(e)}function Im(){return typeof self<"u"&&self.location?.href||""}function cN(){return Dv()==="http:"||Dv()==="https:"}function Dv(){return typeof self<"u"&&self.location?.protocol||null}function hN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cN()||RA()||"connection"in navigator)?navigator.onLine:!0}function fN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=AA()||NA()}get(){return hN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(s,e){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class HE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pN=new Zo(3e4,6e4);function Sp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function El(s,e,i,r,o={}){return FE(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Go({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...c};return xA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ml(s.emulatorConfig.host)&&(_.credentials="include"),HE.fetch()(await GE(s,s.config.apiHost,i,g),_)})}async function FE(s,e,i){s._canInitEmulator=!1;const r={...dN,...e};try{const o=new yN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Lc(s,"user-disabled",d);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw bp(s,S,_);Hi(s,S)}}catch(o){if(o instanceof vs)throw o;Hi(s,"network-request-failed",{message:String(o)})}}async function gN(s,e,i,r,o={}){const c=await El(s,e,i,r,o);return"mfaPendingCredential"in c&&Hi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function GE(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Tp(s.config,o):`${s.config.apiScheme}://${o}`;return mN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class yN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),pN.get())})}}function Lc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=di(s,e,r);return o.customData._tokenResponse=i,o}async function _N(s,e){return El(s,"POST","/v1/accounts:delete",e)}async function uh(s,e){return El(s,"POST","/v1/accounts:lookup",e)}function Vo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vN(s,e=!1){const i=Xt(s),r=await i.getIdToken(e),o=Ap(r);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Vo(nm(o.auth_time)),issuedAtTime:Vo(nm(o.iat)),expirationTime:Vo(nm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function nm(s){return Number(s)*1e3}function Ap(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Wv(i);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ov(s){const e=Ap(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ho(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof vs&&bN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function bN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class EN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(s){const e=s.auth,i=await s.getIdToken(),r=await Ho(s,uh(e,{idToken:i}));Ae(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?QE(o.providerUserInfo):[],d=SN(s.providerData,c),g=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,_=g?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function TN(s){const e=Xt(s);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function QE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function AN(s,e){const i=await FE(s,{},async()=>{const r=Go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await GE(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:r};return s.emulatorConfig&&ml(s.emulatorConfig.host)&&(v.credentials="include"),HE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function wN(s,e){return El(s,"POST","/v2/accounts:revokeToken",Sp(s,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=Ov(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await AN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new il;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ae(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return hs("not implemented")}}function Ws(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new EN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return vN(this,e)}reload(){return TN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Ho(this,_N(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:Y,providerData:te,stsTokenManager:ae}=i;Ae(w&&ae,e,"internal-error");const ne=il.fromJSON(this.name,ae);Ae(typeof w=="string",e,"internal-error"),Ws(r,e.name),Ws(o,e.name),Ae(typeof O=="boolean",e,"internal-error"),Ae(typeof Y=="boolean",e,"internal-error"),Ws(c,e.name),Ws(d,e.name),Ws(g,e.name),Ws(v,e.name),Ws(_,e.name),Ws(S,e.name);const be=new fi({uid:w,auth:e,email:o,emailVerified:O,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ne,createdAt:_,lastLoginAt:S});return te&&Array.isArray(te)&&(be.providerData=te.map(Ne=>({...Ne}))),v&&(be._redirectEventId=v),be}static async _fromIdTokenResponse(e,i,r=!1){const o=new il;o.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ch(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?QE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new il;g.updateFromIdToken(r);const v=new fi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Mv=new Map;function fs(s){_s(s instanceof Function,"Expected a class definition");let e=Mv.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Mv.set(s,e),e)}class YE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}YE.type="NONE";const Vv=YE;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class sl{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await uh(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new sl(fs(Vv),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||fs(Vv);const d=Gc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const O=await uh(e,{idToken:S}).catch(()=>{});if(!O)break;w=await fi._fromGetAccountInfoResponse(e,O,S)}else w=fi._fromJSON(e,S);_!==c&&(g=w),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new sl(c,e,r):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new sl(c,e,r))}}function kv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(eT(e))return"Webos";if(XE(e))return"Safari";if((e.includes("chrome/")||$E(e))&&!e.includes("edge/"))return"Chrome";if(ZE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function KE(s=fn()){return/firefox\//i.test(s)}function XE(s=fn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $E(s=fn()){return/crios\//i.test(s)}function JE(s=fn()){return/iemobile/i.test(s)}function ZE(s=fn()){return/android/i.test(s)}function WE(s=fn()){return/blackberry/i.test(s)}function eT(s=fn()){return/webos/i.test(s)}function wp(s=fn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function xN(s=fn()){return wp(s)&&!!window.navigator?.standalone}function RN(){return CA()&&document.documentMode===10}function tT(s=fn()){return wp(s)||ZE(s)||eT(s)||WE(s)||/windows phone/i.test(s)||JE(s)}function nT(s,e=[]){let i;switch(s){case"Browser":i=kv(fn());break;case"Worker":i=`${kv(fn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${pl}/${r}`}class NN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const v=e(c);d(v)}catch(v){g(v)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function CN(s,e={}){return El(s,"GET","/v2/passwordPolicy",Sp(s,e))}const IN=6;class DN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??IN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ON{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new NN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await uh(this,{idToken:e}),r=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(ta(this));const i=e?Xt(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CN(this),i=new DN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fo("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await wN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&fs(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,r,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jh(s){return Xt(s)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=LA(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MN(s){xp=s}function VN(s){return xp.loadJS(s)}function kN(){return xp.gapiScript}function jN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function LN(s,e){const i=jm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(na(c,e??{}))return o;Hi(o,"already-initialized")}return i.initialize({options:e})}function UN(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(fs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function PN(s,e,i){const r=jh(s);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=iT(e),{host:d,port:g}=zN(e),v=g===null?"":`:${g}`,_={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(na(_,r.config.emulator)&&na(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,ml(d)?(ib(`${c}//${d}${v}`),sb("Auth",!0)):qN()}function iT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function zN(s){const e=iT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Lv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Lv(d)}}}function Lv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function qN(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class sT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,i){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function rl(s,e){return gN(s,"POST","/v1/accounts:signInWithIdp",Sp(s,e))}const BN="http://localhost";class aa extends sT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new aa(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return rl(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,rl(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,rl(e,i)}buildRequest(){const e={requestUri:BN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Go(i)}return e}}class Rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wo extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class er extends Wo{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class cs extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return aa._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return cs.credential(i,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";class tr extends Wo{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class nr extends Wo{constructor(){super("twitter.com")}static credential(e,i){return aa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return nr.credential(i,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await fi._fromIdTokenResponse(e,r,o),d=Uv(r);return new dl({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=Uv(r);return new dl({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function Uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class hh extends vs{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new hh(e,i,r,o)}}function rT(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,c,e,r):c})}async function HN(s,e,i=!1){const r=await Ho(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return dl._forOperation(s,"link",r)}async function FN(s,e,i=!1){const{auth:r}=s;if(hi(r.app))return Promise.reject(ta(r));const o="reauthenticate";try{const c=await Ho(s,rT(r,o,e,s),i);Ae(c.idToken,r,"internal-error");const d=Ap(c.idToken);Ae(d,r,"internal-error");const{sub:g}=d;return Ae(s.uid===g,r,"user-mismatch"),dl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Hi(r,"user-mismatch"),c}}async function GN(s,e,i=!1){if(hi(s.app))return Promise.reject(ta(s));const r="signIn",o=await rT(s,r,e),c=await dl._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function QN(s,e,i,r){return Xt(s).onIdTokenChanged(e,i,r)}function YN(s,e,i){return Xt(s).beforeAuthStateChanged(e,i)}function KN(s,e,i,r){return Xt(s).onAuthStateChanged(e,i,r)}function XN(s){return Xt(s).signOut()}const fh="__sak";class aT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $N=1e3,JN=10;class lT extends aT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);RN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JN):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},$N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}lT.type="LOCAL";const ZN=lT;class oT extends aT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}oT.type="SESSION";const uT=oT;function WN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),v=await WN(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];function Np(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class eC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const _=Np("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(w){const O=w;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function tC(s){qi().location.href=s}function cT(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function nC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iC(){return navigator?.serviceWorker?.controller||null}function sC(){return cT()?self:null}const hT="firebaseLocalStorageDb",rC=1,dh="firebaseLocalStorage",fT="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Uh(s,e){return s.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function aC(){const s=indexedDB.deleteDatabase(hT);return new eu(s).toPromise()}function Om(){const s=indexedDB.open(hT,rC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(dh,{keyPath:fT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await aC(),e(await Om()))})})}async function Pv(s,e,i){const r=Uh(s,!0).put({[fT]:e,value:i});return new eu(r).toPromise()}async function lC(s,e){const i=Uh(s,!1).get(e),r=await new eu(i).toPromise();return r===void 0?null:r.value}function zv(s,e){const i=Uh(s,!0).delete(e);return new eu(i).toPromise()}const oC=800,uC=3;class dT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>uC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(sC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new eC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await Pv(e,fh,"1"),await zv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>lC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>zv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Uh(o,!1).getAll();return new eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dT.type="LOCAL";const cC=dT;new Zo(3e4,6e4);function mT(s,e){return e?fs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Cp extends sT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return rl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function hC(s){return GN(s.auth,new Cp(s),s.bypassAuthState)}function fC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),FN(i,new Cp(s),s.bypassAuthState)}async function dC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),HN(i,new Cp(s),s.bypassAuthState)}class pT{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hC;case"linkViaPopup":case"linkViaRedirect":return dC;case"reauthViaPopup":case"reauthViaRedirect":return fC;default:Hi(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mC=new Zo(2e3,1e4);async function pC(s,e,i){if(hi(s.app))return Promise.reject(di(s,"operation-not-supported-in-this-environment"));const r=jh(s);uN(s,e,Rp);const o=mT(r,i);return new Zr(r,"signInViaPopup",e,o).executeNotNull()}class Zr extends pT{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mC.get())};e()}}Zr.currentPopupAction=null;const gC="pendingRedirect",Qc=new Map;class yC extends pT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await _C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _C(s,e){const i=EC(e),r=bC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function vC(s,e){Qc.set(s._key(),e)}function bC(s){return fs(s._redirectPersistence)}function EC(s){return Gc(gC,s.config.apiKey,s.name)}async function TC(s,e,i=!1){if(hi(s.app))return Promise.reject(ta(s));const r=jh(s),o=mT(r,e),d=await new yC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const SC=600*1e3;class AC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!gT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(di(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SC&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function gT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function wC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gT(s);default:return!1}}async function xC(s,e={}){return El(s,"GET","/v1/projects",e)}const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NC=/^https?/;async function CC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await xC(s);for(const i of e)try{if(IC(i))return}catch{}Hi(s,"unauthorized-domain")}function IC(s){const e=Im(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!NC.test(i))return!1;if(RC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const DC=new Zo(3e4,6e4);function Bv(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function OC(s){return new Promise((e,i)=>{function r(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),i(di(s,"network-request-failed"))},timeout:DC.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const o=jN("iframefcb");return qi()[o]=()=>{gapi.load?r():i(di(s,"network-request-failed"))},VN(`${kN()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function MC(s){return Yc=Yc||OC(s),Yc}const VC=new Zo(5e3,15e3),kC="__/auth/iframe",jC="emulator/auth/iframe",LC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PC(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Tp(e,jC):`https://${s.config.authDomain}/${kC}`,r={apiKey:e.apiKey,appName:s.name,v:pl},o=UC.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Go(r).slice(1)}`}async function zC(s){const e=await MC(s),i=qi().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:PC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=di(s,"network-request-failed"),g=qi().setTimeout(()=>{c(d)},VC.get());function v(){qi().clearTimeout(g),o(r)}r.ping(v).then(v,()=>{c(d)})}))}const qC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BC=500,HC=600,FC="_blank",GC="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QC(s,e,i,r=BC,o=HC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const v={...qC,width:r.toString(),height:o.toString(),top:c,left:d},_=fn().toLowerCase();i&&(g=$E(_)?FC:i),KE(_)&&(e=e||GC,v.scrollbars="yes");const S=Object.entries(v).reduce((O,[Y,te])=>`${O}${Y}=${te},`,"");if(xN(_)&&g!=="_self")return YC(e||"",g),new Hv(null);const w=window.open(e||"",g,S);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new Hv(w)}function YC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const KC="__/auth/handler",XC="emulator/auth/handler",$C=encodeURIComponent("fac");async function Fv(s,e,i,r,o,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:pl,eventId:o};if(e instanceof Rp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",jA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof Wo){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await s._getAppCheckToken(),_=v?`#${$C}=${encodeURIComponent(v)}`:"";return`${JC(s)}?${Go(g).slice(1)}${_}`}function JC({config:s}){return s.emulator?Tp(s,XC):`https://${s.authDomain}/${KC}`}const im="webStorageSupport";class ZC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uT,this._completeRedirectFn=TC,this._overrideRedirectResult=vC}async _openPopup(e,i,r,o){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Fv(e,i,r,Im(),o);return QC(e,c,Np())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Fv(e,i,r,Im(),o);return tC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(_s(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await zC(e),r=new AC(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(im,{type:im},o=>{const c=o?.[0]?.[im];c!==void 0&&i(!!c),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=CC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return tT()||XE()||wp()}}const WC=ZC;var Gv="@firebase/auth",Qv="1.11.1";class eI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nI(s){al(new ia("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nT(s)},_=new ON(r,o,c,v);return UN(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),al(new ia("auth-internal",e=>{const i=jh(e.getProvider("auth").getImmediate());return(r=>new eI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(Gv,Qv,tI(s)),ar(Gv,Qv,"esm2020")}const iI=300,sI=nb("authIdTokenMaxAge")||iI;let Yv=null;const rI=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>sI)return;const o=i?.token;Yv!==o&&(Yv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aI(s=ob()){const e=jm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=LN(s,{popupRedirectResolver:WC,persistence:[cC,ZN,uT]}),r=nb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=rI(c.toString());YN(i,d,()=>d(i.currentUser)),QN(i,g=>d(g))}}const o=eb("auth");return o&&PN(i,`http://${o}`),i}function lI(){return document.getElementsByTagName("head")?.[0]??document}MN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=di("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",lI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nI("Browser");const oI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},yT=lb(oI),Xn=QR(yT),sm=aI(yT),uI=new cs;class tu{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const cI=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},rn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:cI()},Ip=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},hI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Ip(s);rn.publicKey=i.publicKey,rn.blockHeadless=i.blockHeadless,rn.storageProvider=i.storageProvider,rn.blockList=i.blockList,rn.limitRate=i.limitRate,rn.origin=i.origin||e},_T=async(s,e,i={})=>{const r=await fetch(rn.origin+s,{method:"POST",headers:i,body:e}),o=await r.text(),c=new tu(r.status,o);if(r.ok)return c;throw c},vT=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},fI=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},bT=s=>s.webdriver||!s.languages||s.languages.length===0,ET=()=>new tu(451,"Unavailable For Headless Browser"),dI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},mI=s=>!s.list?.length||!s.watchVariable,pI=(s,e)=>s instanceof FormData?s.get(e):s[e],TT=(s,e)=>{if(mI(s))return!1;dI(s.list,s.watchVariable);const i=pI(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},ST=()=>new tu(403,"Forbidden"),gI=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},yI=async(s,e,i)=>{const r=Number(await i.get(s)||0);return e-Date.now()+r},AT=async(s,e,i)=>{if(!e.throttle||!i)return!1;gI(e.throttle,e.id);const r=e.id||s;return await yI(r,e.throttle,i)>0?!0:(await i.set(r,Date.now().toString()),!1)},wT=()=>new tu(429,"Too Many Requests"),_I=async(s,e,i,r)=>{const o=Ip(r),c=o.publicKey||rn.publicKey,d=o.blockHeadless||rn.blockHeadless,g=o.storageProvider||rn.storageProvider,v={...rn.blockList,...o.blockList},_={...rn.limitRate,...o.limitRate};return d&&bT(navigator)?Promise.reject(ET()):(vT(c,s,e),fI(i),i&&TT(v,i)?Promise.reject(ST()):await AT(location.pathname,_,g)?Promise.reject(wT()):_T("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},vI=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},bI=s=>typeof s=="string"?document.querySelector(s):s,EI=async(s,e,i,r)=>{const o=Ip(r),c=o.publicKey||rn.publicKey,d=o.blockHeadless||rn.blockHeadless,g=rn.storageProvider||o.storageProvider,v={...rn.blockList,...o.blockList},_={...rn.limitRate,...o.limitRate};if(d&&bT(navigator))return Promise.reject(ET());const S=bI(i);vT(c,s,e),vI(S);const w=new FormData(S);return TT(v,w)?Promise.reject(ST()):await AT(location.pathname,_,g)?Promise.reject(wT()):(w.append("lib_version","4.4.1"),w.append("service_id",s),w.append("template_id",e),w.append("user_id",c),_T("/api/v1.0/email/send-form",w))},TI={init:hI,send:_I,sendForm:EI,EmailJSResponseStatus:tu},SI="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",rm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Kv=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","erivers@salpointe.org"],am={"Cinema Camera Kit *":1,"Gimbal / Stabilizer *":6,"DJI Mic Kit (Wireless)":4,"DJI Flip Drone *":1,Tripod:4,"Lighting Kit":6,"DSLR Camera Body":6,"Zoom Lens (18-55mm)":6,"Telephoto Lens (70-200mm)":2,"Portrait Lens (50mm)":3,"SD Card Reader":5,"Flash Unit":3},Ue={FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory"},Xr=s=>`salpointe_draft_${s}`,Xv=s=>{TI.send(rm.SERVICE_ID,rm.TEMPLATE_ID,s,rm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},AI=()=>{const[s,e]=xe.useState("home"),[i,r]=xe.useState(!1),[o,c]=xe.useState(null),[d,g]=xe.useState(!1),[v,_]=xe.useState(am);xe.useEffect(()=>{const I=KN(sm,A=>{A?(c(A),g(Kv.includes(A.email))):(c(null),g(!1))});return()=>I()},[]),xe.useEffect(()=>{(async()=>{const A=tl(Xn,"settings","inventory"),ce=await sN(A);ce.exists()?_(ce.data()):(await Cv(A,am),_(am))})()},[]);const S=async()=>{try{await pC(sm,uI)}catch(I){console.error("Login failed:",I),alert("Login failed.")}},w=async()=>{await XN(sm),O()},O=()=>{e("home"),r(!1)},Y=["home",Ue.FILM,Ue.GRAPHIC,Ue.BUSINESS,Ue.CULINARY,Ue.PHOTO].includes(s);return y.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-slate-800",children:[y.jsx("header",{className:"bg-red-900 text-white shadow-lg sticky top-0 z-50",children:y.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3",children:[y.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:O,children:[y.jsx("img",{src:SI,alt:"Salpointe Catholic Logo",className:"w-9 h-9 md:w-10 md:h-10 object-contain group-hover:scale-105 transition-transform"}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-lg md:text-xl font-bold tracking-wide leading-tight",children:"Salpointe Catholic"}),y.jsx("p",{className:"text-[10px] md:text-xs text-red-200 uppercase tracking-wider",children:"CTE Request Hub"})]})]}),y.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!Y&&s!=="home"&&y.jsxs("button",{onClick:O,className:"text-xs md:text-sm bg-red-800 hover:bg-red-700 text-white px-3 py-2 rounded-lg transition-colors flex items-center gap-2 mr-1",children:[y.jsx(_S,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),y.jsxs("button",{onClick:()=>{e(Ue.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Ue.CALENDAR?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(AS,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),o?y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{e(Ue.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Ue.MY_REQUESTS?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(h0,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{e(Ue.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Ue.QUEUE?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(c0,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),y.jsxs("button",{onClick:()=>{e(Ue.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Ue.ANALYTICS?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(RS,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),y.jsxs("button",{onClick:()=>{e(Ue.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Ue.INVENTORY?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(d0,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),y.jsx("button",{onClick:w,className:"ml-2 text-xs md:text-sm font-medium px-3 py-2 rounded-lg bg-red-950/50 hover:bg-red-950 text-red-200 hover:text-white transition-colors flex items-center gap-2",title:`Logged in as ${o.email}`,children:y.jsx(QS,{size:16})})]}):y.jsxs("button",{onClick:S,className:"ml-2 text-xs md:text-sm font-bold bg-white text-red-900 px-4 py-2 rounded-lg hover:bg-amber-50 transition-colors flex items-center gap-2 shadow-sm",children:[y.jsx(FS,{size:16})," Login"]})]})]})}),y.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:i?y.jsx(te,{onReset:O}):y.jsxs(y.Fragment,{children:[s==="home"&&y.jsx(ae,{onViewChange:e,currentUser:o}),s===Ue.FILM&&y.jsx(D,{setSubmitted:r,onCancel:O,currentUser:o,inventory:v}),s===Ue.GRAPHIC&&y.jsx(x,{setSubmitted:r,onCancel:O,currentUser:o}),s===Ue.BUSINESS&&y.jsx(C,{setSubmitted:r,onCancel:O,currentUser:o}),s===Ue.CULINARY&&y.jsx(k,{setSubmitted:r,onCancel:O,currentUser:o}),s===Ue.PHOTO&&y.jsx(V,{setSubmitted:r,onCancel:O,currentUser:o,inventory:v}),s===Ue.CALENDAR&&y.jsx(tt,{}),s===Ue.QUEUE&&y.jsx(ht,{adminMode:d,setAdminMode:g,ALLOWED_ADMINS:Kv}),s===Ue.MY_REQUESTS&&y.jsx(Te,{currentUser:o}),s===Ue.ANALYTICS&&d&&y.jsx(Ne,{}),s===Ue.INVENTORY&&d&&y.jsx(be,{inventory:v,setInventory:_})]})}),y.jsxs("footer",{className:"text-center text-slate-400 text-xs md:text-sm py-8 px-4",children:[" ",new Date().getFullYear()," Salpointe Catholic High School CTE Department"]})]});function te({onReset:I}){return y.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded-xl shadow-md p-6 md:p-8 text-center animate-fade-in-up mt-8 md:mt-16",children:[y.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600",children:y.jsx(US,{size:32,className:"md:w-10 md:h-10"})}),y.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mb-2",children:"Request Received!"}),y.jsx("p",{className:"text-slate-600 mb-8 text-sm md:text-base",children:"Your request has been saved to the database and the department head has been notified."}),y.jsx("button",{onClick:I,className:"bg-red-900 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg hover:shadow-xl w-full text-sm md:text-base",children:"Submit Another Request"})]})}function ae({onViewChange:I,currentUser:A}){const[ce,ve]=xe.useState({});xe.useEffect(()=>{(()=>{const Z={},re={[Ue.FILM]:"Film",[Ue.GRAPHIC]:"Graphic",[Ue.BUSINESS]:"Business",[Ue.CULINARY]:"Culinary",[Ue.PHOTO]:"Photo"};Object.keys(re).forEach(pe=>{const R=Xr(re[pe]);localStorage.getItem(R)&&(Z[pe]=!0)}),ve(Z)})()},[]);const z=[{id:Ue.FILM,title:"Film & TV",icon:p0,desc:"Checkout equipment (cameras, drones) or request event recording/broadcasting.",color:"bg-blue-50 text-blue-700 border-blue-200"},{id:Ue.GRAPHIC,title:"Graphic Design",icon:f0,desc:"Request creative assets like logos, posters, flyers, or website designs.",color:"bg-purple-50 text-purple-700 border-purple-200"},{id:Ue.BUSINESS,title:"Business",icon:Hd,desc:"Submit business plans for review or request consultation for student startups.",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{id:Ue.CULINARY,title:"Culinary Arts",icon:m0,desc:"Request catering services for school clubs, faculty meetings, or special events.",color:"bg-orange-50 text-orange-700 border-orange-200"},{id:Ue.PHOTO,title:"Photography",icon:Fd,desc:"Reserve cameras/lenses or request a photographer for your event.",color:"bg-pink-50 text-pink-700 border-pink-200"}];return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[y.jsxs("div",{className:"col-span-full mb-2 md:mb-4",children:[y.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:A?`Welcome, ${A.displayName.split(" ")[0]}.`:"Welcome, Lancer."}),y.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Select a department below to start your request."})]}),z.map(G=>y.jsxs("div",{onClick:()=>I(G.id),className:"group relative bg-white rounded-xl shadow-sm hover:shadow-md border border-slate-200 p-5 md:p-6 cursor-pointer transition-all hover:-translate-y-1 flex flex-col h-full active:scale-95 md:active:scale-100",children:[ce[G.id]&&y.jsxs("span",{className:"absolute top-4 right-4 bg-amber-100 text-amber-800 border border-amber-200 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-sm z-10",children:[y.jsx(Ic,{size:12})," Resume Draft"]}),y.jsx("div",{className:`w-12 h-12 rounded-lg ${G.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:y.jsx(G.icon,{size:24})}),y.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:G.title}),y.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:G.desc})]},G.id))]})}function ne({initialData:I={},currentUser:A}){const ce=A?.displayName||I.fullName||"",ve=A?.email||I.email||"";return y.jsxs("div",{className:"bg-slate-50 p-5 md:p-6 rounded-lg border border-slate-200 mb-6",children:[y.jsxs("h3",{className:"text-base md:text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(rA,{size:18})," Contact Information"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Project / Request Name"}),y.jsx("input",{name:"requestName",type:"text",defaultValue:I.requestName||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"e.g. Football Video, Catering for NHS",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Full Name"}),y.jsx("input",{name:"fullName",type:"text",defaultValue:ce,readOnly:!!A,className:`w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm ${A?"bg-slate-100 text-slate-500 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Salpointe Email"}),y.jsx("input",{name:"email",type:"email",defaultValue:ve,readOnly:!!A,className:`w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm ${A?"bg-slate-100 text-slate-500 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Role"}),y.jsxs("select",{name:"role",defaultValue:I.role||"Student",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm bg-white",children:[y.jsx("option",{children:"Student"}),y.jsx("option",{children:"Faculty / Staff"}),y.jsx("option",{children:"Club Representative"})]})]})]})]})}function be({inventory:I,setInventory:A}){const[ce,ve]=xe.useState(I),[z,G]=xe.useState(!1),Z=(pe,R)=>{ve(F=>({...F,[pe]:parseInt(R)||0}))},re=async()=>{G(!0);try{await Cv(tl(Xn,"settings","inventory"),ce),A(ce),alert("Inventory updated successfully!")}catch(pe){console.error("Error saving inventory:",pe),alert("Failed to save inventory.")}G(!1)};return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[y.jsxs("div",{className:"bg-slate-800 text-white p-6 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[y.jsx(d0,{className:"text-amber-400"})," Inventory Manager"]}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Update Total Equipment Counts"})]}),y.jsxs("button",{onClick:re,disabled:z,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50",children:[z?y.jsx(JS,{className:"animate-spin",size:18}):y.jsx(Ic,{size:18})," ",z?"Saving...":"Save Changes"]})]}),y.jsx("div",{className:"p-6",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(ce).map(([pe,R])=>y.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 flex justify-between items-center",children:[y.jsx("span",{className:"font-medium text-slate-700 text-sm",children:pe.replace("*","")}),y.jsx("input",{type:"number",min:"0",value:R,onChange:F=>Z(pe,F.target.value),className:"w-20 p-2 border border-slate-300 rounded text-center font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]},pe))})})]})}function Ne(){const[I,A]=xe.useState(!0),[ce,ve]=xe.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});xe.useEffect(()=>{const G=$a(Kr(Xn,"requests")),Z=jc(G,re=>{let pe=0,R=0,F=0,W={},ie={};re.forEach(ge=>{const ee=ge.data();pe++,(ee.status==="Approved"||ee.status==="Completed")&&R++,ee.status==="Pending Review"&&F++,W[ee.dept]=(W[ee.dept]||0)+1,ee.equipment&&(Array.isArray(ee.equipment)?ee.equipment:[ee.equipment]).forEach(me=>{ie[me]=(ie[me]||0)+1})});const le=Object.entries(ie).sort(([,ge],[,ee])=>ee-ge).slice(0,5);ve({total:pe,approved:R,pending:F,deptCounts:W,topEquipment:le}),A(!1)});return()=>Z()},[]);const z=ce.total>0?Math.round(ce.approved/ce.total*100):0;return y.jsx("div",{className:"space-y-6 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(tA,{className:"text-emerald-600"})," CTE Insights"]}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Real-time usage metrics and trends."})]}),y.jsxs("div",{className:"bg-slate-100 px-4 py-2 rounded-lg text-slate-600 font-mono text-sm",children:["Total Requests: ",y.jsx("strong",{children:ce.total})]})]}),I?y.jsx("div",{className:"text-center py-12 text-slate-400",children:"Crunching numbers..."}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-emerald-50 rounded-xl p-5 border border-emerald-100",children:[y.jsx("h4",{className:"text-emerald-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Approval Rate"}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsxs("span",{className:"text-4xl font-bold text-emerald-600",children:[z,"%"]}),y.jsx("span",{className:"text-emerald-500 text-sm mb-1",children:"of all requests"})]})]}),y.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-100",children:[y.jsx("h4",{className:"text-blue-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Completed / Approved"}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("span",{className:"text-4xl font-bold text-blue-600",children:ce.approved}),y.jsx("span",{className:"text-blue-500 text-sm mb-1",children:"projects greenlit"})]})]}),y.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-100",children:[y.jsx("h4",{className:"text-amber-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Pending Review"}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("span",{className:"text-4xl font-bold text-amber-600",children:ce.pending}),y.jsx("span",{className:"text-amber-500 text-sm mb-1",children:"awaiting action"})]})]}),y.jsxs("div",{className:"md:col-span-2 bg-white rounded-xl border border-slate-200 p-5 shadow-sm",children:[y.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(CS,{size:18,className:"text-slate-400"})," Requests by Department"]}),y.jsx("div",{className:"space-y-4",children:Object.entries(ce.deptCounts).sort(([,G],[,Z])=>Z-G).map(([G,Z])=>{const re=Z/ce.total*100;return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[y.jsx("span",{className:"font-medium text-slate-700",children:G}),y.jsxs("span",{className:"text-slate-500",children:[Z," requests"]})]}),y.jsx("div",{className:"w-full bg-slate-100 rounded-full h-3 overflow-hidden",children:y.jsx("div",{className:"bg-red-800 h-3 rounded-full",style:{width:`${re}%`}})})]},G)})})]}),y.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 shadow-sm",children:[y.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(Fd,{size:18,className:"text-slate-400"})," Top Equipment"]}),y.jsx("ul",{className:"space-y-3",children:ce.topEquipment.map(([G,Z],re)=>y.jsxs("li",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold",children:re+1}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-medium text-slate-700 truncate",children:G.replace(" *","")}),y.jsxs("p",{className:"text-xs text-slate-400",children:[Z," checkouts"]})]})]},G))})]})]})]})})}function Te({currentUser:I}){const[A,ce]=xe.useState([]),[ve,z]=xe.useState(!0);xe.useEffect(()=>{if(!I)return;const re=$a(Kr(Xn,"requests"),Ao("email","==",I.email),wv("createdAt","desc")),pe=jc(re,R=>{const F=R.docs.map(W=>({id:W.id,...W.data(),formattedDate:W.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));ce(F),z(!1)});return()=>pe()},[I]);const G=async re=>{window.confirm("Are you sure?")&&await Iv(tl(Xn,"requests",re))},Z=re=>{switch(re){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[y.jsx("div",{className:"bg-red-900 text-white p-6",children:y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[y.jsx(h0,{className:"text-amber-400"})," My Request History"]})}),y.jsx("div",{className:"overflow-x-auto",children:ve?y.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading..."}):A.length===0?y.jsx("div",{className:"p-12 text-center text-slate-500",children:"No requests found."}):y.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-50 border-b text-xs uppercase text-slate-500",children:[y.jsx("th",{className:"p-4",children:"ID"}),y.jsx("th",{className:"p-4",children:"Dept"}),y.jsx("th",{className:"p-4",children:"Request"}),y.jsx("th",{className:"p-4",children:"Date"}),y.jsx("th",{className:"p-4",children:"Status"}),y.jsx("th",{className:"p-4",children:"Action"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100",children:A.map(re=>y.jsxs("tr",{className:"hover:bg-slate-50",children:[y.jsx("td",{className:"p-4 text-slate-400 font-mono text-xs",children:re.displayId}),y.jsx("td",{className:"p-4 capitalize text-sm",children:re.dept}),y.jsx("td",{className:"p-4 font-semibold text-sm",children:re.title}),y.jsx("td",{className:"p-4 text-sm",children:re.formattedDate}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${Z(re.status)}`,children:re.status})}),y.jsx("td",{className:"p-4",children:re.status==="Pending Review"&&y.jsx("button",{onClick:()=>G(re.id),className:"text-xs text-red-600 border border-red-200 px-3 py-1 rounded hover:bg-red-50",children:"Cancel"})})]},re.id))})]})})]})}function tt(){const[I,A]=xe.useState(new Date),[ce,ve]=xe.useState(null),[z,G]=xe.useState("all"),[Z,re]=xe.useState([]),[pe,R]=xe.useState(!0),F=()=>A(new Date(I.setMonth(I.getMonth()+1))),W=()=>A(new Date(I.setMonth(I.getMonth()-1)));xe.useEffect(()=>{const oe=$a(Kr(Xn,"requests")),we=jc(oe,Pe=>{const vt=Pe.docs.map(Bt=>{const Tt=Bt.data();let Ze=Tt.eventDate||Tt.checkoutDate||Tt.pickupDate||Tt.deadline;if(!Ze)return null;const[bt,kn,Zn]=Ze.split("-").map(Number),bs=new Date(bt,kn-1,Zn);return{id:Bt.id,title:Tt.title||Tt.requestName||"Request",displayId:Tt.displayId,dept:Tt.dept,type:Tt.requestType==="checkout"||Tt.dept==="Graphic"?"checkout":"event",status:Tt.status,date:bs,...Tt}}).filter(Bt=>Bt!==null&&Bt.status==="Approved");re(vt),R(!1)});return()=>we()},[]);const ie=oe=>{const we=oe.getFullYear(),Pe=oe.getMonth(),vt=new Date(we,Pe+1,0).getDate(),Bt=new Date(we,Pe,1).getDay();return{days:vt,firstDay:Bt,monthName:oe.toLocaleString("default",{month:"long"}),year:we}},{days:le,firstDay:ge,monthName:ee,year:Ve}=ie(I),me=Array.from({length:le},(oe,we)=>we+1),Ke=Array.from({length:ge},(oe,we)=>we),je=oe=>Z.filter(we=>we.date.getDate()===oe&&we.date.getMonth()===I.getMonth()&&we.date.getFullYear()===I.getFullYear()&&(z==="all"||we.dept===z)),Le=oe=>{const we="https://calendar.google.com/calendar/render?action=TEMPLATE",Pe=`&text=${encodeURIComponent(`[${oe.dept}] ${oe.title}`)}`,vt=`&details=${encodeURIComponent(`Ref: ${oe.displayId}
Requested by: ${oe.fullName}
Role: ${oe.role}
Details: ${oe.details||oe.brief||oe.description||"N/A"}`)}`,Bt=`&location=${encodeURIComponent(oe.location||"Salpointe Catholic High School")}`,Tt=oe.date.getFullYear(),Ze=String(oe.date.getMonth()+1).padStart(2,"0"),bt=String(oe.date.getDate()).padStart(2,"0"),kn=`${Tt}${Ze}${bt}`,Zn=new Date(oe.date);Zn.setDate(Zn.getDate()+1);const bs=Zn.getFullYear(),$t=String(Zn.getMonth()+1).padStart(2,"0"),Fi=String(Zn.getDate()).padStart(2,"0"),_r=`${bs}${$t}${Fi}`,vr=`&dates=${kn}/${_r}`;return`${we}${Pe}${vr}${vt}${Bt}`};return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[y.jsxs("div",{className:"bg-red-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[y.jsx("button",{onClick:W,className:"p-1 hover:bg-red-800 rounded-full transition-colors",children:y.jsx(kS,{size:24})}),y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[ee," ",Ve]}),y.jsx("button",{onClick:F,className:"p-1 hover:bg-red-800 rounded-full transition-colors",children:y.jsx(MS,{size:24})})]}),y.jsx("p",{className:"text-red-200 text-sm ml-1",children:"Approved requests and checkouts"})]}),y.jsx("div",{className:"flex bg-red-800 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",Ue.FILM,Ue.PHOTO,Ue.CULINARY].map(oe=>y.jsx("button",{onClick:()=>G(oe),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${z===oe?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:oe==="all"?"All":oe},oe))})]}),y.jsxs("div",{className:"p-4 md:p-6",children:[y.jsx("div",{className:"overflow-x-auto pb-2",children:pe?y.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading schedule..."}):y.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(oe=>y.jsx("div",{className:"bg-slate-50 p-2 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider",children:oe},oe)),Ke.map(oe=>y.jsx("div",{className:"bg-white min-h-[80px] md:min-h-[100px]"},`empty-${oe}`)),me.map(oe=>{const we=je(oe),Pe=oe===new Date().getDate()&&I.getMonth()===new Date().getMonth()&&I.getFullYear()===new Date().getFullYear();return y.jsxs("div",{className:`bg-white min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-100 relative group cursor-pointer transition-colors ${ce===oe?"bg-red-50":"hover:bg-slate-50"}`,onClick:()=>ve(ce===oe?null:oe),children:[y.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${Pe?"bg-red-900 text-white":"text-slate-700"}`,children:oe}),y.jsx("div",{className:"space-y-1",children:we.map(vt=>y.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${vt.type==="checkout"?"bg-blue-50 border-blue-100 text-blue-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:vt.title},vt.id))})]},oe)})]})}),ce&&y.jsxs("div",{className:"mt-4 md:mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200 animate-fade-in",children:[y.jsxs("h4",{className:"font-bold text-slate-800 mb-3",children:["Events for ",ee," ",ce]}),je(ce).length===0?y.jsx("p",{className:"text-slate-500 text-sm",children:"No approved events."}):y.jsx("div",{className:"space-y-3",children:je(ce).map(oe=>y.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded border border-slate-200 shadow-sm",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-800 text-sm",children:oe.title}),y.jsxs("p",{className:"text-xs text-slate-500 uppercase",children:[oe.dept,"  ",oe.fullName]})]}),y.jsx("a",{href:Le(oe),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-50 hover:bg-slate-100 p-2 rounded text-slate-600",children:y.jsx(TS,{size:16})})]},oe.id))})]})]})]})}function ht({adminMode:I,setAdminMode:A,ALLOWED_ADMINS:ce}){const[ve,z]=xe.useState([]),[G,Z]=xe.useState("all"),[re,pe]=xe.useState(!0),[R,F]=xe.useState(null);xe.useEffect(()=>{const ee=$a(Kr(Xn,"requests"),wv("createdAt","desc")),Ve=jc(ee,me=>{const Ke=me.docs.map(je=>({id:je.id,...je.data(),formattedDate:je.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));z(Ke),pe(!1)});return()=>Ve()},[]);const W=async(ee,Ve)=>{window.confirm(`Mark as ${Ve}?`)&&(await rN(tl(Xn,"requests",ee.id),{status:Ve}),R&&R.id===ee.id&&F(me=>({...me,status:Ve})),Xv({to_name:ee.fullName,to_email:ee.email,subject:`Request Update: ${ee.title}`,title:ee.title,status:Ve,message:`Status updated to ${Ve}.`}))},ie=async ee=>{window.confirm("Delete request?")&&(await Iv(tl(Xn,"requests",ee)),R&&R.id===ee&&F(null))},le=G==="all"?ve:ve.filter(ee=>ee.dept?.toLowerCase().includes(G.toLowerCase())),ge=ee=>{switch(ee){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden relative",children:[R&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[y.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start sticky top-0 bg-white z-10",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Request Details"}),y.jsxs("p",{className:"text-xs text-slate-400 font-mono mt-1",children:["ID: ",R.displayId]})]}),y.jsx("button",{onClick:()=>F(null),className:"text-slate-400 hover:text-slate-600 bg-slate-100 p-2 rounded-full",children:y.jsx(Gd,{size:20})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Department"}),y.jsx("p",{className:"font-semibold text-slate-800 capitalize",children:R.dept})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Status"}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${ge(R.status)}`,children:R.status})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Submitted By"}),y.jsx("p",{className:"text-slate-800",children:R.fullName})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Contact"}),y.jsx("p",{className:"text-slate-800",children:R.email})]})]}),y.jsx("hr",{className:"border-slate-100"}),y.jsxs("div",{children:[y.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(Hd,{size:18,className:"text-slate-400"})," Details"]}),y.jsx("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 border border-slate-100",children:Object.entries(R).map(([ee,Ve])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(ee)?null:Array.isArray(Ve)?y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ee}),y.jsx("ul",{className:"list-disc list-inside text-sm bg-white p-2 rounded border",children:Ve.map((me,Ke)=>y.jsx("li",{children:me},Ke))})]},ee):y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ee.replace(/([A-Z])/g," $1").trim()}),y.jsx("p",{className:"text-slate-700 text-sm",children:Ve})]},ee))})]}),I&&y.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[y.jsx("h4",{className:"font-bold text-indigo-900 mb-2 text-sm",children:"Admin Actions"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>W(R,"Approved"),className:"flex-1 py-2 bg-green-600 text-white rounded text-sm",children:"Approve"}),y.jsx("button",{onClick:()=>W(R,"Denied"),className:"flex-1 py-2 bg-red-600 text-white rounded text-sm",children:"Deny"})]})]})]})]})}),y.jsxs("div",{className:"bg-indigo-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[y.jsx(c0,{className:"text-indigo-300"})," All Requests"]}),y.jsx("p",{className:"text-indigo-200 text-sm",children:"Live Admin Queue"})]}),y.jsxs("select",{className:"bg-indigo-800 text-white border border-indigo-700 rounded-lg px-4 py-2 text-sm",value:G,onChange:ee=>Z(ee.target.value),children:[y.jsx("option",{value:"all",children:"All Departments"}),y.jsx("option",{value:"film",children:"Film"}),y.jsx("option",{value:"graphic",children:"Graphic"}),y.jsx("option",{value:"business",children:"Business"}),y.jsx("option",{value:"culinary",children:"Culinary"}),y.jsx("option",{value:"photo",children:"Photo"})]})]}),y.jsx("div",{className:"overflow-x-auto",children:re?y.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading..."}):y.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-50 border-b text-xs uppercase text-slate-500",children:[y.jsx("th",{className:"p-4",children:"ID"}),y.jsx("th",{className:"p-4",children:"Dept"}),y.jsx("th",{className:"p-4",children:"Request"}),y.jsx("th",{className:"p-4",children:"User"}),y.jsx("th",{className:"p-4",children:"Status"}),y.jsx("th",{className:"p-4",children:"View"}),I&&y.jsx("th",{className:"p-4",children:"Action"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100",children:le.map(ee=>y.jsxs("tr",{className:"hover:bg-slate-50",children:[y.jsx("td",{className:"p-4 text-slate-400 font-mono text-xs",children:ee.displayId}),y.jsx("td",{className:"p-4 text-slate-700 text-sm capitalize",children:ee.dept}),y.jsx("td",{className:"p-4 text-slate-800 font-semibold text-sm",children:ee.title}),y.jsx("td",{className:"p-4 text-slate-600 text-sm",children:ee.fullName}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${ge(ee.status)}`,children:ee.status})}),y.jsx("td",{className:"p-4",children:y.jsx("button",{onClick:()=>F(ee),className:"text-slate-400 hover:text-indigo-600 p-2",children:y.jsx(qS,{size:20})})}),I&&y.jsxs("td",{className:"p-4 flex gap-2",children:[y.jsx("button",{onClick:()=>W(ee,"Approved"),className:"p-1 bg-green-100 text-green-700 rounded",children:y.jsx(DS,{size:16})}),y.jsx("button",{onClick:()=>W(ee,"Denied"),className:"p-1 bg-red-100 text-red-700 rounded",children:y.jsx(Gd,{size:16})}),y.jsx("button",{onClick:()=>ie(ee.id),className:"p-1 bg-slate-100 text-slate-700 rounded",children:y.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},ee.id))})]})})]})}function ke({title:I,icon:A,colorClass:ce,children:ve,setSubmitted:z,initialData:G={},onCancel:Z,currentUser:re}){const pe=xe.useRef(null),R=Xr(I),[F,W]=xe.useState(!1),ie=()=>{const Ke=new FormData(pe.current),je={};for(const[Le,oe]of Ke.entries())je[Le]?(Array.isArray(je[Le])||(je[Le]=[je[Le]]),je[Le].push(oe)):je[Le]=oe;return localStorage.setItem(R,JSON.stringify(je)),!0},le=Ke=>{Ke.preventDefault(),ie(),alert("Draft saved!")},ge=()=>{W(!0)},ee=()=>{ie(),W(!1),Z()},Ve=()=>{localStorage.removeItem(R),W(!1),Z()},me=async Ke=>{Ke.preventDefault();const je=new FormData(Ke.target),Le={};for(const[oe,we]of je.entries())Le[oe]?(Array.isArray(Le[oe])||(Le[oe]=[Le[oe]]),Le[oe].push(we)):Le[oe]=we;try{const oe=Date.now().toString().slice(-4),we=Math.floor(1e3+Math.random()*9e3),Pe=`REQ-${oe}-${we}`;await aN(Kr(Xn,"requests"),{...Le,dept:I,displayId:Pe,status:"Pending Review",createdAt:new Date,title:Le.requestName||Le.eventName||Le.projectType||Le.businessName||"New Request"}),Xv({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${Le.requestName}`,title:Le.requestName,status:"Pending Review",message:`New request (${Pe}) from ${Le.fullName}.`}),localStorage.removeItem(R),z(!0)}catch(oe){console.error(oe),alert("Error submitting.")}};return y.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden relative",children:[F&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-yellow-600",children:y.jsx(iA,{size:32})}),y.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Unsaved Changes"}),y.jsx("p",{className:"text-slate-600 mb-6",children:"Do you want to save your draft?"}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("button",{onClick:ee,className:"w-full bg-slate-800 text-white py-3 rounded-lg font-semibold hover:bg-slate-900 flex items-center justify-center gap-2",children:[y.jsx(Ic,{size:18})," Save Draft & Exit"]}),y.jsx("button",{onClick:Ve,className:"w-full bg-white border border-red-200 text-red-600 py-3 rounded-lg font-semibold hover:bg-red-50",children:"Discard Changes"}),y.jsx("button",{onClick:()=>W(!1),className:"w-full text-slate-400 py-2 hover:text-slate-600 text-sm",children:"Keep Editing"})]})]})}),y.jsx("div",{className:`h-2 ${ce}`}),y.jsxs("div",{className:"p-5 md:p-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-100",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-3 rounded-lg ${ce} bg-opacity-10 text-opacity-100`,children:y.jsx(A,{size:24,className:`md:w-7 md:h-7 ${ce.replace("bg-","text-")}`})}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:[I," Request"]}),y.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Please fill out all details accurately."})]})]}),y.jsx("button",{type:"button",onClick:ge,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 p-2 rounded-full transition-colors",children:y.jsx(Gd,{size:24})})]}),y.jsxs("form",{ref:pe,onSubmit:me,children:[y.jsx(ne,{initialData:G,currentUser:re}),ve,y.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3",children:[y.jsx("button",{type:"button",onClick:ge,className:"flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-500 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 hover:text-slate-700 transition-colors",children:"Cancel"}),y.jsxs("button",{type:"button",onClick:le,className:"flex items-center justify-center gap-2 bg-white border border-slate-300 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors",children:[y.jsx(Ic,{size:18})," Save Draft"]}),y.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-red-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg active:scale-95 md:active:scale-100",children:"Submit Request"})]})]})]})]})}function D({setSubmitted:I,onCancel:A,currentUser:ce,inventory:ve}){const z="Film",G=Xr(z),Z=JSON.parse(localStorage.getItem(G)||"{}"),[re,pe]=xe.useState(Z.requestType||"checkout"),[R,F]=xe.useState({}),[W,ie]=xe.useState(!1),[le,ge]=xe.useState({start:Z.checkoutDate||"",end:Z.returnDate||""}),ee=me=>{const Ke={...le,[me.target.name==="checkoutDate"?"start":"end"]:me.target.value};ge(Ke)};xe.useEffect(()=>{(async()=>{if(!le.start||!le.end||re!=="checkout"){ie(!1);return}ie(!0);const Ke=$a(Kr(Xn,"requests"),Ao("dept","==","Film"),Ao("requestType","==","checkout")),je=await Nv(Ke),Le={};je.forEach(we=>{const Pe=we.data();if(Pe.status==="Denied"||Pe.status==="Completed")return;const vt=Pe.checkoutDate,Bt=Pe.returnDate;vt<=le.end&&Bt>=le.start&&Pe.equipment&&(Array.isArray(Pe.equipment)?Pe.equipment:[Pe.equipment]).forEach(Ze=>{Le[Ze]=(Le[Ze]||0)+1})});const oe={};Object.keys(ve).forEach(we=>{oe[we]=Math.max(0,ve[we]-(Le[we]||0))}),F(oe)})()},[le,re,ve]);const Ve=le.start&&le.end&&le.start===le.end;return y.jsxs(ke,{title:z,icon:p0,colorClass:"bg-blue-600",setSubmitted:I,initialData:Z,onCancel:A,currentUser:ce,children:[y.jsx("input",{type:"hidden",name:"requestType",value:re}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("button",{type:"button",onClick:()=>pe("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${re==="checkout"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[y.jsx(o0,{className:"mx-auto mb-2"})," Equipment Checkout"]}),y.jsxs("button",{type:"button",onClick:()=>pe("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${re==="service"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[y.jsx(KS,{className:"mx-auto mb-2"})," Broadcasting/Recording Team"]})]})]}),re==="checkout"?y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100 text-sm text-blue-800 mb-4",children:[y.jsx("strong",{children:"Note:"})," Equipment must be returned by 8:00 AM the following school day."]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Checkout Date"}),y.jsx("input",{name:"checkoutDate",defaultValue:Z.checkoutDate,onChange:ee,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),y.jsx("input",{name:"returnDate",defaultValue:Z.returnDate,onChange:ee,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),Ve&&y.jsxs("div",{className:"mb-4 animate-fade-in bg-blue-50 p-4 rounded-lg border border-blue-100",children:[y.jsx("label",{className:"block text-sm font-bold text-blue-800 mb-1",children:"Duration / Specific Hours"}),y.jsxs("select",{name:"durationHours",defaultValue:Z.durationHours,className:"w-full rounded-md border-blue-300 border p-2.5 text-sm bg-white",children:[y.jsx("option",{value:"",children:"Select Duration..."}),y.jsx("option",{value:"1 Hour",children:"1 Hour"}),y.jsx("option",{value:"2 Hours",children:"2 Hours"}),y.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),y.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),y.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Select Equipment Needed: ",y.jsx("span",{className:"text-red-500 text-xs font-normal ml-1",children:"* Requires Training"})]}),W?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Cinema Camera Kit *","Gimbal / Stabilizer *","DJI Mic Kit (Wireless)","DJI Flip Drone *","Tripod","Lighting Kit"].map(me=>{const Ke=R[me]!==void 0?R[me]:99,je=Ke<=0;return y.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-colors ${je?"bg-gray-100 opacity-60 cursor-not-allowed":"hover:bg-slate-50 cursor-pointer active:bg-blue-50"}`,children:[y.jsx("input",{type:"checkbox",name:"equipment",value:me,disabled:je,defaultChecked:Z.equipment?.includes(me),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-slate-700 text-sm block",children:me}),y.jsx("span",{className:`text-xs ${je?"text-red-600 font-bold":"text-green-600"}`,children:je?"Unavailable for dates":`${Ke} available`})]})]},me)})}):y.jsxs("div",{className:"p-4 bg-slate-100 rounded text-center text-slate-500 text-sm",children:[y.jsx(u0,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Please select dates above to check equipment availability."]}),y.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:y.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[y.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),y.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[y.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),y.jsx("input",{name:"eventDate",defaultValue:Z.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),y.jsx("input",{name:"startTime",defaultValue:Z.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Needed"}),y.jsxs("select",{name:"serviceType",defaultValue:Z.serviceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm bg-white",children:[y.jsx("option",{children:"Live Broadcast (Stream)"}),y.jsx("option",{children:"Event Recording (Edited later)"}),y.jsx("option",{children:"Raw Footage Only"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Details"}),y.jsx("textarea",{name:"details",defaultValue:Z.details,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Describe specifics..."})]})]})]})}function x({setSubmitted:I,onCancel:A,currentUser:ce}){const ve="Graphic",z=Xr(ve),G=JSON.parse(localStorage.getItem(z)||"{}");return y.jsx(ke,{title:ve,icon:f0,colorClass:"bg-purple-600",setSubmitted:I,initialData:G,onCancel:A,currentUser:ce,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Type"}),y.jsxs("select",{name:"projectType",defaultValue:G.projectType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[y.jsx("option",{children:"Event Poster / Flyer"}),y.jsx("option",{children:"Logo Design"}),y.jsx("option",{children:"Website Design"}),y.jsx("option",{children:"T-Shirt / Merch"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dimensions"}),y.jsx("input",{name:"dimensions",defaultValue:G.dimensions,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., 11x17"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Deadline"}),y.jsx("input",{name:"deadline",defaultValue:G.deadline,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Design Brief"}),y.jsx("textarea",{name:"brief",defaultValue:G.brief,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function C({setSubmitted:I,onCancel:A,currentUser:ce}){const ve="Business",z=Xr(ve),G=JSON.parse(localStorage.getItem(z)||"{}");return y.jsx(ke,{title:ve,icon:Hd,colorClass:"bg-emerald-600",setSubmitted:I,initialData:G,onCancel:A,currentUser:ce,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assistance Needed"}),y.jsxs("select",{name:"assistanceType",defaultValue:G.assistanceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[y.jsx("option",{children:"Business Plan Review"}),y.jsx("option",{children:"Financial Modeling Help"}),y.jsx("option",{children:"Marketing Strategy"}),y.jsx("option",{children:"General Mentorship"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Idea Description"}),y.jsx("textarea",{name:"description",defaultValue:G.description,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-40",placeholder:"Briefly describe your product...",required:!0})]})]})})}function k({setSubmitted:I,onCancel:A,currentUser:ce}){const ve="Culinary",z=Xr(ve),G=JSON.parse(localStorage.getItem(z)||"{}");return y.jsx(ke,{title:ve,icon:m0,colorClass:"bg-orange-500",setSubmitted:I,initialData:G,onCancel:A,currentUser:ce,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Date"}),y.jsx("input",{name:"eventDate",defaultValue:G.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Serve Time"}),y.jsx("input",{name:"serveTime",defaultValue:G.serveTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Guest Count"}),y.jsx("input",{name:"guestCount",defaultValue:G.guestCount,type:"number",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",min:"1",placeholder:"50",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Style"}),y.jsxs("select",{name:"serviceStyle",defaultValue:G.serviceStyle,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[y.jsx("option",{children:"Buffet Style"}),y.jsx("option",{children:"Boxed Lunches"}),y.jsx("option",{children:"Plated Service"}),y.jsx("option",{children:"Appetizers"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Menu/Dietary Notes"}),y.jsx("textarea",{name:"menuNotes",defaultValue:G.menuNotes,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Preferences, allergies...",required:!0})]})]})})}function V({setSubmitted:I,onCancel:A,currentUser:ce,inventory:ve}){const z="Photo",G=Xr(z),Z=JSON.parse(localStorage.getItem(G)||"{}"),[re,pe]=xe.useState(Z.requestType||"service"),[R,F]=xe.useState({}),[W,ie]=xe.useState(!1),[le,ge]=xe.useState({start:Z.pickupDate||"",end:Z.returnDate||""}),ee=me=>{const Ke={...le,[me.target.name==="pickupDate"?"start":"end"]:me.target.value};ge(Ke)};xe.useEffect(()=>{(async()=>{if(!le.start||!le.end||re!=="checkout"){ie(!1);return}ie(!0);const Ke=$a(Kr(Xn,"requests"),Ao("dept","==","Photo"),Ao("requestType","==","checkout")),je=await Nv(Ke),Le={};je.forEach(we=>{const Pe=we.data();if(Pe.status==="Denied"||Pe.status==="Completed")return;const vt=Pe.pickupDate,Bt=Pe.returnDate;vt<=le.end&&Bt>=le.start&&Pe.equipment&&(Array.isArray(Pe.equipment)?Pe.equipment:[Pe.equipment]).forEach(Ze=>{Le[Ze]=(Le[Ze]||0)+1})});const oe={};Object.keys(ve).forEach(we=>{const Pe=ve[we],vt=Le[we]||0;oe[we]=Math.max(0,Pe-vt)}),F(oe)})()},[le,re,ve]);const Ve=le.start&&le.end&&le.start===le.end;return y.jsxs(ke,{title:z,icon:Fd,colorClass:"bg-pink-600",setSubmitted:I,initialData:Z,onCancel:A,currentUser:ce,children:[y.jsx("input",{type:"hidden",name:"requestType",value:re}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("button",{type:"button",onClick:()=>pe("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${re==="service"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[y.jsx(lA,{className:"mx-auto mb-2"})," Event Coverage"]}),y.jsxs("button",{type:"button",onClick:()=>pe("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${re==="checkout"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[y.jsx(o0,{className:"mx-auto mb-2"})," Equipment Checkout"]})]})]}),re==="checkout"?y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"bg-pink-50 p-4 rounded-md border border-pink-100 text-sm text-pink-800 mb-4",children:[y.jsx("strong",{children:"Requirement:"})," Photo I completion required."]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Pickup Date"}),y.jsx("input",{name:"pickupDate",defaultValue:Z.pickupDate,onChange:ee,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),y.jsx("input",{name:"returnDate",defaultValue:Z.returnDate,onChange:ee,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),Ve&&y.jsxs("div",{className:"mb-4 animate-fade-in bg-pink-50 p-4 rounded-lg border border-pink-100",children:[y.jsx("label",{className:"block text-sm font-bold text-pink-800 mb-1",children:"Duration / Specific Hours"}),y.jsxs("select",{name:"durationHours",defaultValue:Z.durationHours,className:"w-full rounded-md border-pink-300 border p-2.5 text-sm bg-white",children:[y.jsx("option",{value:"",children:"Select Duration..."}),y.jsx("option",{value:"1 Hour",children:"1 Hour"}),y.jsx("option",{value:"2 Hours",children:"2 Hours"}),y.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),y.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),y.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Select Equipment Needed:"}),W?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["DSLR Camera Body","Zoom Lens (18-55mm)","Telephoto Lens (70-200mm)","Portrait Lens (50mm)","SD Card Reader","Tripod","Flash Unit"].map(me=>{const Ke=R[me]!==void 0?R[me]:99,je=Ke<=0;return y.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-colors ${je?"bg-gray-100 opacity-60 cursor-not-allowed":"hover:bg-slate-50 cursor-pointer active:bg-pink-50"}`,children:[y.jsx("input",{type:"checkbox",name:"equipment",value:me,disabled:je,defaultChecked:Z.equipment?.includes(me),className:"w-5 h-5 text-pink-600 rounded focus:ring-pink-500"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-slate-700 text-sm block",children:me}),y.jsx("span",{className:`text-xs ${je?"text-red-600 font-bold":"text-green-600"}`,children:je?"Unavailable for dates":`${Ke} available`})]})]},me)})}):y.jsxs("div",{className:"p-4 bg-slate-100 rounded text-center text-slate-500 text-sm",children:[y.jsx(u0,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Please select dates above to check equipment availability."]}),y.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:y.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[y.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-pink-600 rounded focus:ring-pink-500 border-gray-300"}),y.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[y.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),y.jsx("input",{name:"eventDate",defaultValue:Z.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),y.jsx("input",{name:"startTime",defaultValue:Z.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),y.jsx("input",{name:"location",defaultValue:Z.location,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Gym"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Specific Shots"}),y.jsx("textarea",{name:"shotList",defaultValue:Z.shotList,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Key moments..."})]})]})]})}};hS.createRoot(document.getElementById("root")).render(y.jsx(xe.StrictMode,{children:y.jsx(AI,{})}));
