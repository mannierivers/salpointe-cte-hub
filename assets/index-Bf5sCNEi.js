(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ld={exports:{}},bo={};var J0;function iA(){if(J0)return bo;J0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return bo.Fragment=e,bo.jsx=i,bo.jsxs=i,bo}var W0;function sA(){return W0||(W0=1,Ld.exports=iA()),Ld.exports}var p=sA(),Ud={exports:{}},Ve={};var e_;function rA(){if(e_)return Ve;e_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function Q(w){return w===null||typeof w!="object"?null:(w=V&&w[V]||w["@@iterator"],typeof w=="function"?w:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,ne={};function Te(w,H,J){this.props=w,this.context=H,this.refs=ne,this.updater=J||ee}Te.prototype.isReactComponent={},Te.prototype.setState=function(w,H){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,H,"setState")},Te.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function Oe(){}Oe.prototype=Te.prototype;function Se(w,H,J){this.props=w,this.context=H,this.refs=ne,this.updater=J||ee}var st=Se.prototype=new Oe;st.constructor=Se,ie(st,Te.prototype),st.isPureReactComponent=!0;var gt=Array.isArray;function Ye(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(w,H,J){var W=J.ref;return{$$typeof:s,type:w,key:H,ref:W!==void 0?W:null,props:J}}function M(w,H){return C(w.type,H,w.props)}function O(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function j(w){var H={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(J){return H[J]})}var R=/\/+/g;function ue(w,H){return typeof w=="object"&&w!==null&&w.key!=null?j(""+w.key):H.toString(36)}function ve(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Ye,Ye):(w.status="pending",w.then(function(H){w.status==="pending"&&(w.status="fulfilled",w.value=H)},function(H){w.status==="pending"&&(w.status="rejected",w.reason=H)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function L(w,H,J,W,ce){var de=typeof w;(de==="undefined"||de==="boolean")&&(w=null);var Ee=!1;if(w===null)Ee=!0;else switch(de){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(w.$$typeof){case s:case e:Ee=!0;break;case A:return Ee=w._init,L(Ee(w._payload),H,J,W,ce)}}if(Ee)return ce=ce(w),Ee=W===""?"."+ue(w,0):W,gt(ce)?(J="",Ee!=null&&(J=Ee.replace(R,"$&/")+"/"),L(ce,H,J,"",function(xt){return xt})):ce!=null&&(O(ce)&&(ce=M(ce,J+(ce.key==null||w&&w.key===ce.key?"":(""+ce.key).replace(R,"$&/")+"/")+Ee)),H.push(ce)),1;Ee=0;var be=W===""?".":W+":";if(gt(w))for(var xe=0;xe<w.length;xe++)W=w[xe],de=be+ue(W,xe),Ee+=L(W,H,J,de,ce);else if(xe=Q(w),typeof xe=="function")for(w=xe.call(w),xe=0;!(W=w.next()).done;)W=W.value,de=be+ue(W,xe++),Ee+=L(W,H,J,de,ce);else if(de==="object"){if(typeof w.then=="function")return L(ve(w),H,J,W,ce);throw H=String(w),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Y(w,H,J){if(w==null)return w;var W=[],ce=0;return L(w,W,"","",function(de){return H.call(J,de,ce++)}),W}function re(w){if(w._status===-1){var H=w._result;H=H(),H.then(function(J){(w._status===0||w._status===-1)&&(w._status=1,w._result=J)},function(J){(w._status===0||w._status===-1)&&(w._status=2,w._result=J)}),w._status===-1&&(w._status=0,w._result=H)}if(w._status===1)return w._result.default;throw w._result}var te=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ge={map:Y,forEach:function(w,H,J){Y(w,function(){H.apply(this,arguments)},J)},count:function(w){var H=0;return Y(w,function(){H++}),H},toArray:function(w){return Y(w,function(H){return H})||[]},only:function(w){if(!O(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Ve.Activity=S,Ve.Children=ge,Ve.Component=Te,Ve.Fragment=i,Ve.Profiler=o,Ve.PureComponent=Se,Ve.StrictMode=r,Ve.Suspense=v,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(w){return I.H.useMemoCache(w)}},Ve.cache=function(w){return function(){return w.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(w,H,J){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var W=ie({},w.props),ce=w.key;if(H!=null)for(de in H.key!==void 0&&(ce=""+H.key),H)!x.call(H,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&H.ref===void 0||(W[de]=H[de]);var de=arguments.length-2;if(de===1)W.children=J;else if(1<de){for(var Ee=Array(de),be=0;be<de;be++)Ee[be]=arguments[be+2];W.children=Ee}return C(w.type,ce,W)},Ve.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},Ve.createElement=function(w,H,J){var W,ce={},de=null;if(H!=null)for(W in H.key!==void 0&&(de=""+H.key),H)x.call(H,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ce[W]=H[W]);var Ee=arguments.length-2;if(Ee===1)ce.children=J;else if(1<Ee){for(var be=Array(Ee),xe=0;xe<Ee;xe++)be[xe]=arguments[xe+2];ce.children=be}if(w&&w.defaultProps)for(W in Ee=w.defaultProps,Ee)ce[W]===void 0&&(ce[W]=Ee[W]);return C(w,de,ce)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(w){return{$$typeof:y,render:w}},Ve.isValidElement=O,Ve.lazy=function(w){return{$$typeof:A,_payload:{_status:-1,_result:w},_init:re}},Ve.memo=function(w,H){return{$$typeof:_,type:w,compare:H===void 0?null:H}},Ve.startTransition=function(w){var H=I.T,J={};I.T=J;try{var W=w(),ce=I.S;ce!==null&&ce(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ye,te)}catch(de){te(de)}finally{H!==null&&J.types!==null&&(H.types=J.types),I.T=H}},Ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ve.use=function(w){return I.H.use(w)},Ve.useActionState=function(w,H,J){return I.H.useActionState(w,H,J)},Ve.useCallback=function(w,H){return I.H.useCallback(w,H)},Ve.useContext=function(w){return I.H.useContext(w)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(w,H){return I.H.useDeferredValue(w,H)},Ve.useEffect=function(w,H){return I.H.useEffect(w,H)},Ve.useEffectEvent=function(w){return I.H.useEffectEvent(w)},Ve.useId=function(){return I.H.useId()},Ve.useImperativeHandle=function(w,H,J){return I.H.useImperativeHandle(w,H,J)},Ve.useInsertionEffect=function(w,H){return I.H.useInsertionEffect(w,H)},Ve.useLayoutEffect=function(w,H){return I.H.useLayoutEffect(w,H)},Ve.useMemo=function(w,H){return I.H.useMemo(w,H)},Ve.useOptimistic=function(w,H){return I.H.useOptimistic(w,H)},Ve.useReducer=function(w,H,J){return I.H.useReducer(w,H,J)},Ve.useRef=function(w){return I.H.useRef(w)},Ve.useState=function(w){return I.H.useState(w)},Ve.useSyncExternalStore=function(w,H,J){return I.H.useSyncExternalStore(w,H,J)},Ve.useTransition=function(){return I.H.useTransition()},Ve.version="19.2.0",Ve}var t_;function Mm(){return t_||(t_=1,Ud.exports=rA()),Ud.exports}var Ie=Mm(),Pd={exports:{}},Eo={},zd={exports:{}},qd={};var n_;function aA(){return n_||(n_=1,(function(s){function e(L,Y){var re=L.length;L.push(Y);e:for(;0<re;){var te=re-1>>>1,ge=L[te];if(0<o(ge,Y))L[te]=Y,L[re]=ge,re=te;else break e}}function i(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var Y=L[0],re=L.pop();if(re!==Y){L[0]=re;e:for(var te=0,ge=L.length,w=ge>>>1;te<w;){var H=2*(te+1)-1,J=L[H],W=H+1,ce=L[W];if(0>o(J,re))W<ge&&0>o(ce,J)?(L[te]=ce,L[W]=re,te=W):(L[te]=J,L[H]=re,te=H);else if(W<ge&&0>o(ce,re))L[te]=ce,L[W]=re,te=W;else break e}}return Y}function o(L,Y){var re=L.sortIndex-Y.sortIndex;return re!==0?re:L.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,S=null,V=3,Q=!1,ee=!1,ie=!1,ne=!1,Te=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;function st(L){for(var Y=i(_);Y!==null;){if(Y.callback===null)r(_);else if(Y.startTime<=L)r(_),Y.sortIndex=Y.expirationTime,e(v,Y);else break;Y=i(_)}}function gt(L){if(ie=!1,st(L),!ee)if(i(v)!==null)ee=!0,Ye||(Ye=!0,j());else{var Y=i(_);Y!==null&&ve(gt,Y.startTime-L)}}var Ye=!1,I=-1,x=5,C=-1;function M(){return ne?!0:!(s.unstable_now()-C<x)}function O(){if(ne=!1,Ye){var L=s.unstable_now();C=L;var Y=!0;try{e:{ee=!1,ie&&(ie=!1,Oe(I),I=-1),Q=!0;var re=V;try{t:{for(st(L),S=i(v);S!==null&&!(S.expirationTime>L&&M());){var te=S.callback;if(typeof te=="function"){S.callback=null,V=S.priorityLevel;var ge=te(S.expirationTime<=L);if(L=s.unstable_now(),typeof ge=="function"){S.callback=ge,st(L),Y=!0;break t}S===i(v)&&r(v),st(L)}else r(v);S=i(v)}if(S!==null)Y=!0;else{var w=i(_);w!==null&&ve(gt,w.startTime-L),Y=!1}}break e}finally{S=null,V=re,Q=!1}Y=void 0}}finally{Y?j():Ye=!1}}}var j;if(typeof Se=="function")j=function(){Se(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=O,j=function(){ue.postMessage(null)}}else j=function(){Te(O,0)};function ve(L,Y){I=Te(function(){L(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(L){switch(V){case 1:case 2:case 3:var Y=3;break;default:Y=V}var re=V;V=Y;try{return L()}finally{V=re}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=V;V=L;try{return Y()}finally{V=re}},s.unstable_scheduleCallback=function(L,Y,re){var te=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?te+re:te):re=te,L){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=re+ge,L={id:A++,callback:Y,priorityLevel:L,startTime:re,expirationTime:ge,sortIndex:-1},re>te?(L.sortIndex=re,e(_,L),i(v)===null&&L===i(_)&&(ie?(Oe(I),I=-1):ie=!0,ve(gt,re-te))):(L.sortIndex=ge,e(v,L),ee||Q||(ee=!0,Ye||(Ye=!0,j()))),L},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(L){var Y=V;return function(){var re=V;V=Y;try{return L.apply(this,arguments)}finally{V=re}}}})(qd)),qd}var i_;function lA(){return i_||(i_=1,zd.exports=aA()),zd.exports}var Bd={exports:{}},fn={};var s_;function oA(){if(s_)return fn;s_=1;var s=Mm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,A)},fn.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},fn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},fn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},fn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:Q}):A==="script"&&r.d.X(v,{crossOrigin:S,integrity:V,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},fn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},fn.requestFormReset=function(v){r.d.r(v)},fn.unstable_batchedUpdates=function(v,_){return v(_)},fn.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var r_;function uA(){if(r_)return Bd.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=oA(),Bd.exports}var a_;function cA(){if(a_)return Eo;a_=1;var s=lA(),e=Mm(),i=uA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=f;break}if(E===l){g=!0,l=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=h;break}if(E===l){g=!0,l=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Oe=Symbol.for("react.consumer"),Se=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case Te:return"Profiler";case ne:return"StrictMode";case gt:return"Suspense";case Ye:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Se:return t.displayName||"Context";case Oe:return(t._context.displayName||"Context")+".Consumer";case st:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ue(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ue(t(n))}catch{}}return null}var ve=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},te=[],ge=-1;function w(t){return{current:t}}function H(t){0>ge||(t.current=te[ge],te[ge]=null,ge--)}function J(t,n){ge++,te[ge]=t.current,t.current=n}var W=w(null),ce=w(null),de=w(null),Ee=w(null);function be(t,n){switch(J(de,n),J(ce,t),J(W,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?E0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=E0(n),t=T0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(W),J(W,t)}function xe(){H(W),H(ce),H(de)}function xt(t){t.memoizedState!==null&&J(Ee,t);var n=W.current,a=T0(n,t.type);n!==a&&(J(ce,t),J(W,a))}function wt(t){ce.current===t&&(H(W),H(ce)),Ee.current===t&&(H(Ee),go._currentValue=re)}var me,he;function pe(t){if(me===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);me=n&&n[1]||"",he=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+t+he}var we=!1;function ke(t,n){if(!t||we)return"";we=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),z=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var G=`
`+N[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{we=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?pe(a):""}function We(t,n){switch(t.tag){case 26:case 27:case 5:return pe(t.type);case 16:return pe("Lazy");case 13:return t.child!==n&&n!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return ke(t.type,!1);case 11:return ke(t.type.render,!1);case 1:return ke(t.type,!0);case 31:return pe("Activity");default:return""}}function Xe(t){try{var n="",a=null;do n+=We(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ne=Object.prototype.hasOwnProperty,lt=s.unstable_scheduleCallback,Xt=s.unstable_cancelCallback,Ze=s.unstable_shouldYield,ot=s.unstable_requestPaint,rt=s.unstable_now,Qt=s.unstable_getCurrentPriorityLevel,ei=s.unstable_ImmediatePriority,vl=s.unstable_UserBlockingPriority,Ts=s.unstable_NormalPriority,Ph=s.unstable_LowPriority,tu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,ti=null,tn=null;function Pn(t){if(typeof nu=="function"&&iu(t),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ti,t)}catch{}}var It=Math.clz32?Math.clz32:ru,su=Math.log,la=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(su(t)/la|0)|0}var yi=256,vr=262144,kt=4194304;function _i(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=_i(l):(g&=E,g!==0?h=_i(g):a||(a=E&~t,a!==0&&(h=_i(a))))):(E=l&~f,E!==0?h=_i(E):g!==0?h=_i(g):a||(a=l&~t,a!==0&&(h=_i(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ni(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function bi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function br(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,n,a,l,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-It(a),$=1<<G;E[G]=0,N[G]=-1;var q=z[G];if(q!==null)for(z[G]=null,G=0;G<q.length;G++){var F=q[G];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&Er(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Er(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-It(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function bl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-It(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function El(t,n){var a=n&-n;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:G0(t.type))}function ii(t,n){var a=Y.p;try{return Y.p=t,n()}finally{Y.p=a}}var si=Math.random().toString(36).slice(2),jt="__reactFiber$"+si,$t="__reactProps$"+si,Ei="__reactContainer$"+si,oa="__reactEvents$"+si,Bh="__reactListeners$"+si,ou="__reactHandles$"+si,uu="__reactResources$"+si,Ti="__reactMarker$"+si;function ua(t){delete t[jt],delete t[$t],delete t[oa],delete t[Bh],delete t[ou]}function Ai(t){var n=t[jt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ei]||a[jt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=C0(t);t!==null;){if(a=t[jt])return a;t=C0(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[jt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Si(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Ti]=!0}var Tl=new Set,Al={};function xi(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Al[t]=n,t=0;t<n.length;t++)Tl.add(n[t])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},wl={};function cu(t){return Ne.call(wl,t)?!0:Ne.call(xl,t)?!1:Sl.test(t)?wl[t]=!0:(xl[t]=!0,!1)}function ca(t,n,a){if(cu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function In(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ut(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ut(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Rl(t,n,""+t[n])}}function Ar(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=As(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function vn(t){return t.replace(Sr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(t,n,a,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Nl(t,g,Zt(n)):a!=null?Nl(t,g,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function hu(t,n,a,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ut(t);return}a=a!=null?""+Zt(a):"",n=n!=null?""+Zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ut(t)}function Nl(t,n,a){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,a){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Zt(a):""}function xs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ve(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Zt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ut(t)}function bn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Il(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Cl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Cl(t,f,n[f])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ri(){}var Dl=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ni=null;function xr(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(r(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ar(l)}break e;case"textarea":fu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ss(t,!!a.multiple,n,!1)}}}var ma=!1;function Ns(t,n,a){if(ma)return t(n,a);ma=!0;try{var l=t(n);return l}finally{if(ma=!1,(Rs!==null||Ni!==null)&&(lc(),Rs&&(n=Rs,t=Ni,Ni=Rs=null,xr(n),t)))for(n=0;n<t.length;n++)xr(t[n])}}function ai(t,n){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(Bn)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){wr=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{wr=!1}var Ci=null,Ol=null,Rr=null;function Vl(){if(Rr)return Rr;var t,n=Ol,a=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[f-l];l++);return Rr=h.slice(t,1<l?1-l:void 0)}function Nr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function li(){return!1}function nn(t){function n(a,l,h,f,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:li,this.isPropagationStopped=li,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=nn(Xi),Cs=S({},Xi,{view:0,detail:0}),Ml=nn(Cs),Is,pa,Di,ga=S({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Is=t.screenX-Di.screenX,pa=t.screenY-Di.screenY):pa=Is=0,Di=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),kl=nn(ga),Cr=S({},ga,{dataTransfer:0}),pu=nn(Cr),gu=S({},Cs,{relatedTarget:0}),Ir=nn(gu),jl=S({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=nn(jl),ya=S({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=nn(ya),vu=S({},Xi,{data:0}),Oi=nn(vu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function Ds(){return Au}var yn=S({},Cs,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=nn(yn),xu=S({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=nn(xu),u=S({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=nn(u),b=S({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(b),U=S({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=nn(U),se=S({},Xi,{newState:0,oldState:0}),je=nn(se),Dt=[9,13,27,32],nt=Bn&&"CompositionEvent"in window,Tt=null;Bn&&"documentMode"in document&&(Tt=document.documentMode);var Hn=Bn&&"TextEvent"in window&&!Tt,Vi=Bn&&(!nt||Tt&&8<Tt&&11>=Tt),oi=" ",ui=!1;function Dr(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function RE(t,n){switch(t){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:(ui=!0,oi);case"textInput":return t=n.data,t===oi&&ui?null:t;default:return null}}function NE(t,n){if(va)return t==="compositionend"||!nt&&Dr(t,n)?(t=Vl(),Rr=Ol=Ci=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var CE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!CE[t.type]:n==="textarea"}function Vp(t,n,a,l){Rs?Ni?Ni.push(l):Ni=[l]:Rs=l,n=mc(n,"onChange"),0<n.length&&(a=new Ii("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ll=null,Ul=null;function IE(t){p0(t,0)}function wu(t){var n=Cn(t);if(Ar(n))return t}function Mp(t,n){if(t==="change")return n}var kp=!1;if(Bn){var Hh;if(Bn){var Fh="oninput"in document;if(!Fh){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Fh=typeof jp.oninput=="function"}Hh=Fh}else Hh=!1;kp=Hh&&(!document.documentMode||9<document.documentMode)}function Lp(){Ll&&(Ll.detachEvent("onpropertychange",Up),Ul=Ll=null)}function Up(t){if(t.propertyName==="value"&&wu(Ul)){var n=[];Vp(n,Ul,t,qn(t)),Ns(IE,n)}}function DE(t,n,a){t==="focusin"?(Lp(),Ll=n,Ul=a,Ll.attachEvent("onpropertychange",Up)):t==="focusout"&&Lp()}function OE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Ul)}function VE(t,n){if(t==="click")return wu(n)}function ME(t,n){if(t==="input"||t==="change")return wu(n)}function kE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:kE;function Pl(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ne.call(n,h)||!Dn(t[h],n[h]))return!1}return!0}function Pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zp(t,n){var a=Pp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pp(a)}}function qp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ri(t.document)}return n}function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var jE=Bn&&"documentMode"in document&&11>=document.documentMode,ba=null,Qh=null,zl=null,Kh=!1;function Hp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||ba==null||ba!==Ri(l)||(l=ba,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zl&&Pl(zl,l)||(zl=l,l=mc(Qh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ba)))}function Or(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ea={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Yh={},Fp={};Bn&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Vr(t){if(Yh[t])return Yh[t];if(!Ea[t])return t;var n=Ea[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Fp)return Yh[t]=n[a];return t}var Gp=Vr("animationend"),Qp=Vr("animationiteration"),Kp=Vr("animationstart"),LE=Vr("transitionrun"),UE=Vr("transitionstart"),PE=Vr("transitioncancel"),Yp=Vr("transitionend"),Xp=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function ci(t,n){Xp.set(t,n),xi(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Ta=0,$h=0;function Nu(){for(var t=Ta,n=$h=Ta=0;n<t;){var a=Fn[n];Fn[n++]=null;var l=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&$p(a,h,f)}}function Cu(t,n,a,l){Fn[Ta++]=t,Fn[Ta++]=n,Fn[Ta++]=a,Fn[Ta++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,n,a,l){return Cu(t,n,a,l),Iu(t)}function Mr(t,n){return Cu(t,null,null,n),Iu(t)}function $p(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-It(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Iu(t){if(50<oo)throw oo=0,ld=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Aa={};function zE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,a,l){return new zE(t,n,a,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var a=t.alternate;return a===null?(a=On(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,a,l,h,f){var g=0;if(l=t,typeof t=="function")Jh(t)&&(g=1);else if(typeof t=="string")g=GT(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=On(31,a,n,h),t.elementType=C,t.lanes=f,t;case ie:return kr(a.children,h,f,n);case ne:g=8,h|=24;break;case Te:return t=On(12,a,n,h|2),t.elementType=Te,t.lanes=f,t;case gt:return t=On(13,a,n,h),t.elementType=gt,t.lanes=f,t;case Ye:return t=On(19,a,n,h),t.elementType=Ye,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Se:g=10;break e;case Oe:g=9;break e;case st:g=11;break e;case I:g=14;break e;case x:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=On(g,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function kr(t,n,a,l){return t=On(7,t,l,n),t.lanes=a,t}function Wh(t,n,a){return t=On(6,t,null,n),t.lanes=a,t}function Jp(t){var n=On(18,null,null,0);return n.stateNode=t,n}function ef(t,n,a){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Wp=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var a=Wp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Xe(n)},Wp.set(t,n),n)}return{value:t,source:n,stack:Xe(n)}}var Sa=[],xa=0,Ou=null,ql=0,Qn=[],Kn=0,Os=null,Mi=1,ki="";function Ji(t,n){Sa[xa++]=ql,Sa[xa++]=Ou,Ou=t,ql=n}function eg(t,n,a){Qn[Kn++]=Mi,Qn[Kn++]=ki,Qn[Kn++]=Os,Os=t;var l=Mi;t=ki;var h=32-It(l)-1;l&=~(1<<h),a+=1;var f=32-It(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Mi=1<<32-It(n)+h|a<<h|l,ki=f+t}else Mi=1<<f|a<<h|l,ki=t}function tf(t){t.return!==null&&(Ji(t,1),eg(t,1,0))}function nf(t){for(;t===Ou;)Ou=Sa[--xa],Sa[xa]=null,ql=Sa[--xa],Sa[xa]=null;for(;t===Os;)Os=Qn[--Kn],Qn[Kn]=null,ki=Qn[--Kn],Qn[Kn]=null,Mi=Qn[--Kn],Qn[Kn]=null}function tg(t,n){Qn[Kn++]=Mi,Qn[Kn++]=ki,Qn[Kn++]=Os,Mi=n.id,ki=n.overflow,Os=t}var sn=null,vt=null,$e=!1,Vs=null,Yn=!1,sf=Error(r(519));function Ms(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Gn(n,t)),sf}function ng(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[jt]=t,n[$t]=l,a){case"dialog":qe("cancel",n),qe("close",n);break;case"iframe":case"object":case"embed":qe("load",n);break;case"video":case"audio":for(a=0;a<co.length;a++)qe(co[a],n);break;case"source":qe("error",n);break;case"img":case"image":case"link":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"input":qe("invalid",n),hu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",n);break;case"textarea":qe("invalid",n),xs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||v0(n.textContent,a)?(l.popover!=null&&(qe("beforetoggle",n),qe("toggle",n)),l.onScroll!=null&&qe("scroll",n),l.onScrollEnd!=null&&qe("scrollend",n),l.onClick!=null&&(n.onclick=ri),n=!0):n=!1,n||Ms(t,!0)}function ig(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:sn=sn.return}}function wa(t){if(t!==sn)return!1;if(!$e)return ig(t),$e=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&vt&&Ms(t),ig(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));vt=N0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));vt=N0(t)}else n===27?(n=vt,Ys(t.type)?(t=Rd,Rd=null,vt=t):vt=n):vt=sn?$n(t.stateNode.nextSibling):null;return!0}function jr(){vt=sn=null,$e=!1}function rf(){var t=Vs;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Vs=null),t}function Bl(t){Vs===null?Vs=[t]:Vs.push(t)}var af=w(null),Lr=null,Wi=null;function ks(t,n,a){J(af,n._currentValue),n._currentValue=a}function es(t){t._currentValue=af.current,H(af)}function lf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),lf(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Dn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ee.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(go):t=[go])}h=h.return}t!==null&&of(n,t,a,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ur(t){Lr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return sg(Lr,t)}function Mu(t,n){return Lr===null&&Ur(t),sg(t,n)}function sg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return a}var qE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},BE=s.unstable_scheduleCallback,HE=s.unstable_NormalPriority,Pt={$$typeof:Se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new qE,data:new Map,refCount:0}}function Hl(t){t.refCount--,t.refCount===0&&BE(HE,function(){t.controller.abort()})}var Fl=null,cf=0,Na=0,Ca=null;function FE(t,n){if(Fl===null){var a=Fl=[];cf=0,Na=dd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,n.then(rg,rg),n}function rg(){if(--cf===0&&Fl!==null){Ca!==null&&(Ca.status="fulfilled");var t=Fl;Fl=null,Na=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function GE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ag=L.S;L.S=function(t,n){Hy=rt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&FE(t,n),ag!==null&&ag(t,n)};var Pr=w(null);function hf(){var t=Pr.current;return t!==null?t:yt.pooledCache}function ku(t,n){n===null?J(Pr,Pr.current):J(Pr,n.pool)}function lg(){var t=hf();return t===null?null:{parent:Pt._currentValue,pool:t}}var Ia=Error(r(460)),ff=Error(r(474)),ju=Error(r(542)),Lu={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ug(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ri,ri),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hg(t),t;default:if(typeof n.status=="string")n.then(ri,ri);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hg(t),t}throw qr=n,Ia}}function zr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qr=a,Ia):a}}var qr=null;function cg(){if(qr===null)throw Error(r(459));var t=qr;return qr=null,t}function hg(t){if(t===Ia||t===ju)throw Error(r(483))}var Da=null,Gl=0;function Uu(t){var n=Gl;return Gl+=1,Da===null&&(Da=[]),ug(Da,t,n)}function Ql(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===V?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function fg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Zi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,K){return D===null||D.tag!==6?(D=Wh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function N(k,D,P,K){var ye=P.type;return ye===ie?G(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&zr(ye)===D.type)?(D=h(D,P.props),Ql(D,P),D.return=k,D):(D=Du(P.type,P.key,P.props,null,k.mode,K),Ql(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=ef(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function G(k,D,P,K,ye){return D===null||D.tag!==7?(D=kr(P,k.mode,K,ye),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Wh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Du(D.type,D.key,D.props,null,k.mode,P),Ql(P,D),P.return=k,P;case ee:return D=ef(D,k.mode,P),D.return=k,D;case x:return D=zr(D),$(k,D,P)}if(ve(D)||j(D))return D=kr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,Uu(D),P);if(D.$$typeof===Se)return $(k,Mu(k,D),P);Pu(k,D)}return null}function q(k,D,P,K){var ye=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:E(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ye?N(k,D,P,K):null;case ee:return P.key===ye?z(k,D,P,K):null;case x:return P=zr(P),q(k,D,P,K)}if(ve(P)||j(P))return ye!==null?null:G(k,D,P,K,null);if(typeof P.then=="function")return q(k,D,Uu(P),K);if(P.$$typeof===Se)return q(k,D,Mu(k,P),K);Pu(k,P)}return null}function F(k,D,P,K,ye){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(D,k,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?P:K.key)||null,N(D,k,K,ye);case ee:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,ye);case x:return K=zr(K),F(k,D,P,K,ye)}if(ve(K)||j(K))return k=k.get(P)||null,G(D,k,K,ye,null);if(typeof K.then=="function")return F(k,D,P,Uu(K),ye);if(K.$$typeof===Se)return F(k,D,P,Mu(D,K),ye);Pu(D,K)}return null}function oe(k,D,P,K){for(var ye=null,et=null,fe=D,Ue=D=0,He=null;fe!==null&&Ue<P.length;Ue++){fe.index>Ue?(He=fe,fe=null):He=fe.sibling;var tt=q(k,fe,P[Ue],K);if(tt===null){fe===null&&(fe=He);break}t&&fe&&tt.alternate===null&&n(k,fe),D=f(tt,D,Ue),et===null?ye=tt:et.sibling=tt,et=tt,fe=He}if(Ue===P.length)return a(k,fe),$e&&Ji(k,Ue),ye;if(fe===null){for(;Ue<P.length;Ue++)fe=$(k,P[Ue],K),fe!==null&&(D=f(fe,D,Ue),et===null?ye=fe:et.sibling=fe,et=fe);return $e&&Ji(k,Ue),ye}for(fe=l(fe);Ue<P.length;Ue++)He=F(fe,k,Ue,P[Ue],K),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?Ue:He.key),D=f(He,D,Ue),et===null?ye=He:et.sibling=He,et=He);return t&&fe.forEach(function(Ws){return n(k,Ws)}),$e&&Ji(k,Ue),ye}function Ae(k,D,P,K){if(P==null)throw Error(r(151));for(var ye=null,et=null,fe=D,Ue=D=0,He=null,tt=P.next();fe!==null&&!tt.done;Ue++,tt=P.next()){fe.index>Ue?(He=fe,fe=null):He=fe.sibling;var Ws=q(k,fe,tt.value,K);if(Ws===null){fe===null&&(fe=He);break}t&&fe&&Ws.alternate===null&&n(k,fe),D=f(Ws,D,Ue),et===null?ye=Ws:et.sibling=Ws,et=Ws,fe=He}if(tt.done)return a(k,fe),$e&&Ji(k,Ue),ye;if(fe===null){for(;!tt.done;Ue++,tt=P.next())tt=$(k,tt.value,K),tt!==null&&(D=f(tt,D,Ue),et===null?ye=tt:et.sibling=tt,et=tt);return $e&&Ji(k,Ue),ye}for(fe=l(fe);!tt.done;Ue++,tt=P.next())tt=F(fe,k,Ue,tt.value,K),tt!==null&&(t&&tt.alternate!==null&&fe.delete(tt.key===null?Ue:tt.key),D=f(tt,D,Ue),et===null?ye=tt:et.sibling=tt,et=tt);return t&&fe.forEach(function(nA){return n(k,nA)}),$e&&Ji(k,Ue),ye}function pt(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===ie&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var ye=P.key;D!==null;){if(D.key===ye){if(ye=P.type,ye===ie){if(D.tag===7){a(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break e}}else if(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&zr(ye)===D.type){a(k,D.sibling),K=h(D,P.props),Ql(K,P),K.return=k,k=K;break e}a(k,D);break}else n(k,D);D=D.sibling}P.type===ie?(K=kr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Du(P.type,P.key,P.props,null,k.mode,K),Ql(K,P),K.return=k,k=K)}return g(k);case ee:e:{for(ye=P.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break e}else{a(k,D);break}else n(k,D);D=D.sibling}K=ef(P,k.mode,K),K.return=k,k=K}return g(k);case x:return P=zr(P),pt(k,D,P,K)}if(ve(P))return oe(k,D,P,K);if(j(P)){if(ye=j(P),typeof ye!="function")throw Error(r(150));return P=ye.call(P),Ae(k,D,P,K)}if(typeof P.then=="function")return pt(k,D,Uu(P),K);if(P.$$typeof===Se)return pt(k,D,Mu(k,P),K);Pu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,P),K.return=k,k=K):(a(k,D),K=Wh(P,k.mode,K),K.return=k,k=K),g(k)):a(k,D)}return function(k,D,P,K){try{Gl=0;var ye=pt(k,D,P,K);return Da=null,ye}catch(fe){if(fe===Ia||fe===ju)throw fe;var et=On(29,fe,null,k.mode);return et.lanes=K,et.return=k,et}finally{}}}var Br=fg(!0),dg=fg(!1),js=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),$p(t,null,a),n}return Cu(t,l,n,a),Iu(t)}function Kl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,bl(t,a)}}function pf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gf=!1;function Yl(){if(gf){var t=Ca;if(t!==null)throw t}}function Xl(t,n,a,l){gf=!1;var h=t.updateQueue;js=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,g===null?f=z:g.next=z,g=N;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=N))}if(f!==null){var $=h.baseState;g=0,G=z=N=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Be&q)===q:(l&q)===q){q!==0&&q===Na&&(gf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,Ae=E;q=n;var pt=a;switch(Ae.tag){case 1:if(oe=Ae.payload,typeof oe=="function"){$=oe.call(pt,$,q);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=Ae.payload,q=typeof oe=="function"?oe.call(pt,$,q):oe,q==null)break e;$=S({},$,q);break e;case 2:js=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=F,N=$):G=G.next=F,g|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(N=$),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Hs|=g,t.lanes=g,t.memoizedState=$}}function mg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function pg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)mg(a[t],n)}var Oa=w(null),zu=w(0);function gg(t,n){t=us,J(zu,t),J(Oa,n),us=t|n.baseLanes}function yf(){J(zu,us),J(Oa,Oa.current)}function _f(){us=zu.current,H(Oa),H(zu)}var Vn=w(null),Xn=null;function Ps(t){var n=t.alternate;J(Ot,Ot.current&1),J(Vn,t),Xn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Xn=t)}function vf(t){J(Ot,Ot.current),J(Vn,t),Xn===null&&(Xn=t)}function yg(t){t.tag===22?(J(Ot,Ot.current),J(Vn,t),Xn===null&&(Xn=t)):zs()}function zs(){J(Ot,Ot.current),J(Vn,Vn.current)}function Mn(t){H(Vn),Xn===t&&(Xn=null),H(Ot)}var Ot=w(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Le=null,dt=null,zt=null,Bu=!1,Va=!1,Hr=!1,Hu=0,$l=0,Ma=null,QE=0;function Rt(){throw Error(r(321))}function bf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Dn(t[a],n[a]))return!1;return!0}function Ef(t,n,a,l,h,f){return ts=f,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?ey:jf,Hr=!1,f=a(l,h),Hr=!1,Va&&(f=vg(n,a,l,h)),_g(t),f}function _g(t){L.H=Wl;var n=dt!==null&&dt.next!==null;if(ts=0,zt=dt=Le=null,Bu=!1,$l=0,Ma=null,n)throw Error(r(300));t===null||qt||(t=t.dependencies,t!==null&&Vu(t)&&(qt=!0))}function vg(t,n,a,l){Le=t;var h=0;do{if(Va&&(Ma=null),$l=0,Va=!1,25<=h)throw Error(r(301));if(h+=1,zt=dt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=ty,f=n(a,l)}while(Va);return f}function KE(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?Zl(n):n,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Le.flags|=1024),n}function Tf(){var t=Hu!==0;return Hu=0,t}function Af(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Sf(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}ts=0,zt=dt=Le=null,Va=!1,$l=Hu=0,Ma=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Le.memoizedState=zt=t:zt=zt.next=t,zt}function Vt(){if(dt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var n=zt===null?Le.memoizedState:zt.next;if(n!==null)zt=n,dt=t;else{if(t===null)throw Le.alternate===null?Error(r(467)):Error(r(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},zt===null?Le.memoizedState=zt=t:zt=zt.next=t}return zt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(t){var n=$l;return $l+=1,Ma===null&&(Ma=[]),t=ug(Ma,t,n),n=Le,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?ey:jf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zl(t);if(t.$$typeof===Se)return rn(t)}throw Error(r(438,String(t)))}function xf(t){var n=null,a=Le.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),Le.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function ns(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=Vt();return wf(n,dt,t)}function wf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,N=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Be&$)===$:(ts&$)===$){var q=z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Na&&(G=!0);else if((ts&q)===q){z=z.next,q===Na&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=$,g=f):N=N.next=$,Le.lanes|=q,Hs|=q;$=z.action,Hr&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else q={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=q,g=f):N=N.next=q,Le.lanes|=$,Hs|=$;z=z.next}while(z!==null&&z!==n);if(N===null?g=f:N.next=E,!Dn(f,t.memoizedState)&&(qt=!0,G&&(a=Ca,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=Vt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Dn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function bg(t,n,a){var l=Le,h=Vt(),f=$e;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Dn((dt||h).memoizedState,a);if(g&&(h.memoizedState=a,qt=!0),h=h.queue,If(Ag.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Tg.bind(null,l,h,a,n),null),yt===null)throw Error(r(349));f||(ts&127)!==0||Eg(l,n,a)}return a}function Eg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Le.updateQueue,n===null?(n=Fu(),Le.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Tg(t,n,a,l){n.value=a,n.getSnapshot=l,Sg(n)&&xg(t)}function Ag(t,n,a){return a(function(){Sg(n)&&xg(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Dn(t,a)}catch{return!0}}function xg(t){var n=Mr(t,2);n!==null&&xn(n,t,2)}function Nf(t){var n=_n();if(typeof t=="function"){var a=t;if(t=a(),Hr){Pn(!0);try{a()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function wg(t,n,a,l){return t.baseState=a,wf(t,dt,typeof l=="function"?l:ns)}function YE(t,n,a,l,h){if(Xu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Rg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Rg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var E=a(h,l),N=L.S;N!==null&&N(g,E),Ng(t,n,E)}catch(z){Cf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=a(h,l),Ng(t,n,f)}catch(z){Cf(t,n,z)}}function Ng(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Cg(t,n,l)},function(l){return Cf(t,n,l)}):Cg(t,n,a)}function Cg(t,n,a){n.status="fulfilled",n.value=a,Ig(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Rg(t,a)))}function Cf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ig(n),n=n.next;while(n!==l)}t.action=null}function Ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dg(t,n){return n}function Og(t,n){if($e){var a=yt.formState;if(a!==null){e:{var l=Le;if($e){if(vt){t:{for(var h=vt,f=Yn;h.nodeType!==8;){if(!f){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=$n(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(n=a[0])}}return a=_n(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},a.queue=l,a=Zg.bind(null,Le,l),l.dispatch=a,l=Nf(!1),f=kf.bind(null,Le,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=YE.bind(null,Le,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Vg(t){var n=Vt();return Mg(n,dt,t)}function Mg(t,n,a){if(n=wf(t,n,Dg)[0],t=Qu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Zl(n)}catch(g){throw g===Ia?ju:g}else l=n;n=Vt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Le.flags|=2048,ka(9,{destroy:void 0},XE.bind(null,h,a),null)),[l,f,t]}function XE(t,n){t.action=n}function kg(t){var n=Vt(),a=dt;if(a!==null)return Mg(n,a,t);Vt(),n=n.memoizedState,a=Vt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ka(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Le.updateQueue,n===null&&(n=Fu(),Le.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function jg(){return Vt().memoizedState}function Ku(t,n,a,l){var h=_n();Le.flags|=t,h.memoizedState=ka(1|n,{destroy:void 0},a,l===void 0?null:l)}function Yu(t,n,a,l){var h=Vt();l=l===void 0?null:l;var f=h.memoizedState.inst;dt!==null&&l!==null&&bf(l,dt.memoizedState.deps)?h.memoizedState=ka(n,f,a,l):(Le.flags|=t,h.memoizedState=ka(1|n,f,a,l))}function Lg(t,n){Ku(8390656,8,t,n)}function If(t,n){Yu(2048,8,t,n)}function $E(t){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=Fu(),Le.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ug(t){var n=Vt().memoizedState;return $E({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Pg(t,n){return Yu(4,2,t,n)}function zg(t,n){return Yu(4,4,t,n)}function qg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bg(t,n,a){a=a!=null?a.concat([t]):null,Yu(4,4,qg.bind(null,n,t),a)}function Df(){}function Hg(t,n){var a=Vt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&bf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Fg(t,n){var a=Vt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&bf(n,l[1]))return l[0];if(l=t(),Hr){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,n],l}function Of(t,n,a){return a===void 0||(ts&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Gy(),Le.lanes|=t,Hs|=t,a)}function Gg(t,n,a,l){return Dn(a,n)?a:Oa.current!==null?(t=Of(t,a,l),Dn(t,n)||(qt=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Be&261930)===0?(qt=!0,t.memoizedState=a):(t=Gy(),Le.lanes|=t,Hs|=t,n)}function Qg(t,n,a,l,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var g=L.T,E={};L.T=E,kf(t,!1,n,a);try{var N=h(),z=L.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=GE(N,l);Jl(t,n,G,Ln(t))}else Jl(t,n,l,Ln(t))}catch($){Jl(t,n,{then:function(){},status:"rejected",reason:$},Ln())}finally{Y.p=f,g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}function ZE(){}function Vf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Kg(t).queue;Qg(t,h,n,re,a===null?ZE:function(){return Yg(t),a(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:re},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Yg(t){var n=Kg(t);n.next===null&&(n=t.alternate.memoizedState),Jl(t,n.next.queue,{},Ln())}function Mf(){return rn(go)}function Xg(){return Vt().memoizedState}function $g(){return Vt().memoizedState}function JE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ln();t=Ls(a);var l=Us(n,t,a);l!==null&&(xn(l,n,a),Kl(l,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function WE(t,n,a){var l=Ln();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Jg(n,a):(a=Zh(t,n,a,l),a!==null&&(xn(a,t,l),Wg(a,n,l)))}function Zg(t,n,a){var l=Ln();Jl(t,n,a,l)}function Jl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Jg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Dn(E,g))return Cu(t,n,h,0),yt===null&&Nu(),!1}catch{}finally{}if(a=Zh(t,n,h,l),a!==null)return xn(a,t,l),Wg(a,n,l),!0}return!1}function kf(t,n,a,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(r(479))}else n=Zh(t,a,l,2),n!==null&&xn(n,t,2)}function Xu(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function Jg(t,n){Va=Bu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Wg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,bl(t,a)}}var Wl={readContext:rn,use:Gu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};Wl.useEffectEvent=Rt;var ey={readContext:rn,use:Gu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Lg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,qg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var a=_n();n=n===void 0?null:n;var l=t();if(Hr){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=_n();if(a!==void 0){var h=a(n);if(Hr){Pn(!0);try{a(n)}finally{Pn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WE.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,a=Zg.bind(null,Le,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,n){var a=_n();return Of(a,t,n)},useTransition:function(){var t=Nf(!1);return t=Qg.bind(null,Le,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Le,h=_n();if($e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),yt===null)throw Error(r(349));(Be&127)!==0||Eg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Lg(Ag.bind(null,l,f,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},Tg.bind(null,l,f,a,n),null),a},useId:function(){var t=_n(),n=yt.identifierPrefix;if($e){var a=ki,l=Mi;a=(l&~(1<<32-It(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=QE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Og,useActionState:Og,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,Le,!0,a),a.dispatch=n,[t,n]},useMemoCache:xf,useCacheRefresh:function(){return _n().memoizedState=JE.bind(null,Le)},useEffectEvent:function(t){var n=_n(),a={impl:t};return n.memoizedState=a,function(){if((it&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},jf={readContext:rn,use:Gu,useCallback:Hg,useContext:rn,useEffect:If,useImperativeHandle:Bg,useInsertionEffect:Pg,useLayoutEffect:zg,useMemo:Fg,useReducer:Qu,useRef:jg,useState:function(){return Qu(ns)},useDebugValue:Df,useDeferredValue:function(t,n){var a=Vt();return Gg(a,dt.memoizedState,t,n)},useTransition:function(){var t=Qu(ns)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:Zl(t),n]},useSyncExternalStore:bg,useId:Xg,useHostTransitionStatus:Mf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var a=Vt();return wg(a,dt,t,n)},useMemoCache:xf,useCacheRefresh:$g};jf.useEffectEvent=Ug;var ty={readContext:rn,use:Gu,useCallback:Hg,useContext:rn,useEffect:If,useImperativeHandle:Bg,useInsertionEffect:Pg,useLayoutEffect:zg,useMemo:Fg,useReducer:Rf,useRef:jg,useState:function(){return Rf(ns)},useDebugValue:Df,useDeferredValue:function(t,n){var a=Vt();return dt===null?Of(a,t,n):Gg(a,dt.memoizedState,t,n)},useTransition:function(){var t=Rf(ns)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:Zl(t),n]},useSyncExternalStore:bg,useId:Xg,useHostTransitionStatus:Mf,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var a=Vt();return dt!==null?wg(a,dt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xf,useCacheRefresh:$g};ty.useEffectEvent=Ug;function Lf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Ln(),h=Ls(l);h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,l),n!==null&&(xn(n,t,l),Kl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Ln(),h=Ls(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,l),n!==null&&(xn(n,t,l),Kl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Ln(),l=Ls(a);l.tag=2,n!=null&&(l.callback=n),n=Us(t,l,a),n!==null&&(xn(n,t,a),Kl(n,t,a))}};function ny(t,n,a,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Pl(a,l)||!Pl(h,f):!0}function iy(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function Fr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function sy(t){Ru(t)}function ry(t){console.error(t)}function ay(t){Ru(t)}function $u(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,n)},a}function oy(t){return t=Ls(t),t.tag=3,t}function uy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ly(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){ly(n,a,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function eT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ra(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Xn===null?oc():a.alternate===null&&Nt===0&&(Nt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return a.flags|=65536,l===Lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),cd(t,l,h)),!1}throw Error(r(435,a.tag))}return cd(t,l,h),oc(),!1}if($e)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(r(422),{cause:l}),Bl(Gn(t,a)))):(l!==sf&&(n=Error(r(423),{cause:l}),Bl(Gn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,a),h=Pf(t.stateNode,l,h),pf(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(r(520),{cause:l});if(f=Gn(f,a),lo===null?lo=[f]:lo.push(f),Nt!==4&&(Nt=2),n===null)return!0;l=Gn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pf(a.stateNode,l,t),pf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),uy(h,t,a,l),pf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(r(461)),qt=!1;function an(t,n,a,l){n.child=t===null?dg(n,null,a,l):Br(n,t.child,a,l)}function cy(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Ur(n),l=Ef(t,n,a,g,f,h),E=Tf(),t!==null&&!qt?(Af(t,n,h),is(t,n,h)):($e&&E&&tf(n),n.flags|=1,an(t,n,l,h),n.child)}function hy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,fy(t,n,f,l,h)):(t=Du(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Pl,a(g,l)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Zi(f,l),t.ref=n.ref,t.return=n,n.child=t}function fy(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Pl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Yf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,is(t,n,h)}return qf(t,n,a,l,h)}function dy(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return my(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?gg(n,f):yf(),yg(n);else return l=n.lanes=536870912,my(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ku(n,f.cachePool),gg(n,f),zs(),n.memoizedState=null):(t!==null&&ku(n,null),yf(),zs());return an(t,n,h,a),n.child}function eo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function my(t,n,a,l,h){var f=hf();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&ku(n,null),yf(),yg(n),t!==null&&Ra(t,n,l,!0),n.childLanes=h,null}function Zu(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function py(t,n,a){return Br(n,t.child,null,a),t=Zu(n,n.pendingProps),t.flags|=2,Mn(n),n.memoizedState=null,t}function tT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(l.mode==="hidden")return t=Zu(n,l),n.lanes=536870912,eo(null,t);if(vf(n),(t=vt)?(t=R0(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Jp(t),a.return=n,n.child=a,sn=n,vt=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return Zu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=py(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(qt||Ra(t,n,a,!1),h=(a&t.childLanes)!==0,qt||h){if(l=yt,l!==null&&(g=El(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Mr(t,g),xn(l,t,g),zf;oc(),n=py(t,n,a)}else t=f.treeContext,vt=$n(g.nextSibling),sn=n,$e=!0,Vs=null,Yn=!1,t!==null&&tg(n,t),n=Zu(n,l),n.flags|=4096;return n}return t=Zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function qf(t,n,a,l,h){return Ur(n),a=Ef(t,n,a,l,void 0,h),l=Tf(),t!==null&&!qt?(Af(t,n,h),is(t,n,h)):($e&&l&&tf(n),n.flags|=1,an(t,n,a,h),n.child)}function gy(t,n,a,l,h,f){return Ur(n),n.updateQueue=null,a=vg(n,l,a,h),_g(t),l=Tf(),t!==null&&!qt?(Af(t,n,f),is(t,n,f)):($e&&l&&tf(n),n.flags|=1,an(t,n,a,f),n.child)}function yy(t,n,a,l,h){if(Ur(n),n.stateNode===null){var f=Aa,g=a.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?rn(g):Aa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Lf(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Xl(n,l,f,h),Yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Fr(a,E);f.props=N;var z=f.context,G=a.contextType;g=Aa,typeof G=="object"&&G!==null&&(g=rn(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&iy(n,f,l,g),js=!1;var q=n.memoizedState;f.state=q,Xl(n,l,f,h),Yl(),z=n.memoizedState,E||q!==z||js?(typeof $=="function"&&(Lf(n,a,$,l),z=n.memoizedState),(N=js||ny(n,a,N,l,q,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),g=n.memoizedProps,G=Fr(a,g),f.props=G,$=n.pendingProps,q=f.context,z=a.contextType,N=Aa,typeof z=="object"&&z!==null&&(N=rn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||q!==N)&&iy(n,f,l,N),js=!1,q=n.memoizedState,f.state=q,Xl(n,l,f,h),Yl();var F=n.memoizedState;g!==$||q!==F||js||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Lf(n,a,E,l),F=n.memoizedState),(G=js||ny(n,a,G,l,q,F,N)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Br(n,t.child,null,h),n.child=Br(n,null,a,h)):an(t,n,a,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function _y(t,n,a,l){return jr(),n.flags|=256,an(t,n,a,l),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:lg()}}function Ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=jn),t}function vy(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?Ps(n):zs(),(t=vt)?(t=R0(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=Jp(t),a.return=n,n.child=a,sn=n,vt=null)):t=null,t===null)throw Ms(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(zs(),h=n.mode,E=Wu({mode:"hidden",children:E},h),l=kr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Hf(a),l.childLanes=Ff(t,g,a),n.memoizedState=Bf,eo(null,l)):(Ps(n),Gf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Qf(t,n,a)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),E=l.fallback,h=n.mode,l=Wu({mode:"visible",children:l.children},h),E=kr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Br(n,t.child,null,a),l=n.child,l.memoizedState=Hf(a),l.childLanes=Ff(t,g,a),n.memoizedState=Bf,n=eo(null,l));else if(Ps(n),wd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(r(419)),l.stack="",l.digest=g,Bl({value:l,source:null,stack:null}),n=Qf(t,n,a)}else if(qt||Ra(t,n,a,!1),g=(a&t.childLanes)!==0,qt||g){if(g=yt,g!==null&&(l=El(g,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Mr(t,l),xn(g,t,l),zf;xd(E)||oc(),n=Qf(t,n,a)}else xd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,vt=$n(E.nextSibling),sn=n,$e=!0,Vs=null,Yn=!1,t!==null&&tg(n,t),n=Gf(n,l.children),n.flags|=4096);return n}return h?(zs(),E=l.fallback,h=n.mode,N=t.child,z=N.sibling,l=Zi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=Zi(z,E):(E=kr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,eo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(N=Pt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=lg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Ff(t,g,a),n.memoizedState=Bf,eo(t.child,l)):(Ps(n),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Gf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=On(22,t,null,n),t.lanes=0,t}function Qf(t,n,a){return Br(n,t.child,null,a),t=Gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function by(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,a)}function Kf(t,n,a,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ey(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Ot.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(Ot,g),an(t,n,l,a),l=$e?ql:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&by(t,a,n);else if(t.tag===19)by(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Kf(n,!0,a,null,f,l);break;case"together":Kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function is(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ra(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function nT(t,n,a){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),ks(n,Pt,t.memoizedState.cache),jr();break;case 27:case 5:xt(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(n),n.flags|=128,null):(a&n.child.childLanes)!==0?vy(t,n,a):(Ps(n),t=is(t,n,a),t!==null?t.sibling:null);Ps(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ra(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ey(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ot,Ot.current),l)break;return null;case 22:return n.lanes=0,dy(t,n,a,n.pendingProps);case 24:ks(n,Pt,t.memoizedState.cache)}return is(t,n,a)}function Ty(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Yf(t,a)&&(n.flags&128)===0)return qt=!1,nT(t,n,a);qt=(t.flags&131072)!==0}else qt=!1,$e&&(n.flags&1048576)!==0&&eg(n,ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=zr(n.elementType),n.type=t,typeof t=="function")Jh(t)?(l=Fr(t,l),n.tag=1,n=yy(null,n,t,l,a)):(n.tag=0,n=qf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===st){n.tag=11,n=cy(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=hy(null,n,t,l,a);break e}}throw n=ue(t)||t,Error(r(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Fr(l,n.pendingProps),yy(t,n,l,h,a);case 3:e:{if(be(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),Xl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ks(n,Pt,l),l!==f.cache&&of(n,[Pt],a,!0),Yl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_y(t,n,l,a);break e}else if(l!==h){h=Gn(Error(r(424)),n),Bl(h),n=_y(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=$n(t.firstChild),sn=n,$e=!0,Vs=null,Yn=!0,a=dg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jr(),l===h){n=is(t,n,a);break e}an(t,n,l,a)}n=n.child}return n;case 26:return Ju(t,n),t===null?(a=V0(n.type,null,n.pendingProps,null))?n.memoizedState=a:$e||(a=n.type,t=n.pendingProps,l=pc(de.current).createElement(a),l[jt]=n,l[$t]=t,ln(l,a,t),Lt(l),n.stateNode=l):n.memoizedState=V0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xt(n),t===null&&$e&&(l=n.stateNode=I0(n.type,n.pendingProps,de.current),sn=n,Yn=!0,h=vt,Ys(n.type)?(Rd=h,vt=$n(l.firstChild)):vt=h),an(t,n,n.pendingProps.children,a),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=l=vt)&&(l=OT(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,sn=n,vt=$n(l.firstChild),Yn=!1,h=!0):h=!1),h||Ms(n)),xt(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Td(h,f)?l=null:g!==null&&Td(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,KE,null,null,a),go._currentValue=h),Ju(t,n),an(t,n,l,a),n.child;case 6:return t===null&&$e&&((t=a=vt)&&(a=VT(a,n.pendingProps,Yn),a!==null?(n.stateNode=a,sn=n,vt=null,t=!0):t=!1),t||Ms(n)),null;case 13:return vy(t,n,a);case 4:return be(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Br(n,null,l,a):an(t,n,l,a),n.child;case 11:return cy(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ks(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ur(n),h=rn(h),l=l(h),n.flags|=1,an(t,n,l,a),n.child;case 14:return hy(t,n,n.type,n.pendingProps,a);case 15:return fy(t,n,n.type,n.pendingProps,a);case 19:return Ey(t,n,a);case 31:return tT(t,n,a);case 22:return dy(t,n,a,n.pendingProps);case 24:return Ur(n),l=rn(Pt),t===null?(h=hf(),h===null&&(h=yt,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},df(n),ks(n,Pt,h)):((t.lanes&a)!==0&&(mf(t,n),Xl(n,null,null,a),Yl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,Pt,l)):(l=f.cache,ks(n,Pt,l),l!==h.cache&&of(n,[Pt],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ss(t){t.flags|=4}function Xf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xy())t.flags|=8192;else throw qr=Lu,ff}else t.flags&=-16777217}function Ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U0(n))if(Xy())t.flags|=8192;else throw qr=Lu,ff}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Pa|=n)}function to(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function iT(t,n,a){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),es(Pt),xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wa(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(bt(n),Ay(n,f)):(bt(n),Xf(n,h,null,l,a))):f?f!==t.memoizedState?(ss(n),bt(n),Ay(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ss(n),bt(n),Xf(n,h,t,l,a)),null;case 27:if(wt(n),a=de.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return bt(n),null}t=W.current,wa(n)?ng(n):(t=I0(h,l,a),n.stateNode=t,ss(n))}return bt(n),null;case 5:if(wt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return bt(n),null}if(f=W.current,wa(n))ng(n);else{var g=pc(de.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[jt]=n,f[$t]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(ln(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ss(n)}}return bt(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=de.current,wa(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||v0(t.nodeValue,a)),t||Ms(n,!0)}else t=pc(t).createTextNode(l),t[jt]=n,n.stateNode=t}return bt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=wa(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[jt]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else a=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return bt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),bt(n),null);case 4:return xe(),t===null&&yd(n.stateNode.containerInfo),bt(n),null;case 10:return es(n.type),bt(n),null;case 19:if(H(Ot),l=n.memoizedState,l===null)return bt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)to(l,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,to(l,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Zp(a,t),a=a.sibling;return J(Ot,Ot.current&1|2),$e&&Ji(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&rt()>rc&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),to(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!$e)return bt(n),null}else 2*rt()-l.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,to(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rt(),t.sibling=null,a=Ot.current,J(Ot,h?a&1|2:a&1),$e&&Ji(n,l.treeForkCount),t):(bt(n),null);case 22:case 23:return Mn(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&H(Pr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),es(Pt),bt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sT(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(Pt),xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return wt(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(r(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return H(Ot),null;case 4:return xe(),null;case 10:return es(n.type),null;case 22:case 23:return Mn(n),_f(),t!==null&&H(Pr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(Pt),null;case 25:return null;default:return null}}function Sy(t,n){switch(nf(n),n.tag){case 3:es(Pt),xe();break;case 26:case 27:case 5:wt(n);break;case 4:xe();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:H(Ot);break;case 10:es(n.type);break;case 22:case 23:Mn(n),_f(),t!==null&&H(Pr);break;case 24:es(Pt)}}function no(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){ht(n,n.return,E)}}function qs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=a,z=E;try{z()}catch(G){ht(h,N,G)}}}l=l.next}while(l!==f)}}catch(G){ht(n,n.return,G)}}function xy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{pg(n,a)}catch(l){ht(t,t.return,l)}}}function wy(t,n,a){a.props=Fr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ht(t,n,l)}}function io(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ht(t,n,h)}}function ji(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ht(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ht(t,n,h)}else a.current=null}function Ry(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ht(t,t.return,h)}}function $f(t,n,a){try{var l=t.stateNode;wT(l,t.type,a,n),l[$t]=n}catch(h){ht(t,t.return,h)}}function Ny(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ny(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ri));else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,a),t=t.sibling;t!==null;)Jf(t,n,a),t=t.sibling}function tc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(tc(t,n,a),t=t.sibling;t!==null;)tc(t,n,a),t=t.sibling}function Cy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,l,a),n[jt]=t,n[$t]=a}catch(f){ht(t,t.return,f)}}var rs=!1,Bt=!1,Wf=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function rT(t,n){if(t=t.containerInfo,bd=Tc,t=Bp(t),Gh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,N=-1,z=0,G=0,$=t,q=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||l!==0&&$.nodeType!==3||(N=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===a&&++z===h&&(E=g),q===f&&++G===l&&(N=g),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:t,selectionRange:a},Tc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var oe=Fr(a.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ht(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Sd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Dy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ls(t,a),l&4&&no(5,a);break;case 1:if(ls(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){ht(a,a.return,g)}else{var h=Fr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ht(a,a.return,g)}}l&64&&xy(a),l&512&&io(a,a.return);break;case 3:if(ls(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pg(t,n)}catch(g){ht(a,a.return,g)}}break;case 27:n===null&&l&4&&Cy(a);case 26:case 5:ls(t,a),n===null&&l&4&&Ry(a),l&512&&io(a,a.return);break;case 12:ls(t,a);break;case 31:ls(t,a),l&4&&My(t,a);break;case 13:ls(t,a),l&4&&ky(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mT.bind(null,a),MT(t,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){n=n!==null&&n.memoizedState!==null||Bt,h=rs;var f=Bt;rs=l,(Bt=n)&&!f?os(t,a,(a.subtreeFlags&8772)!==0):ls(t,a),rs=h,Bt=f}break;case 30:break;default:ls(t,a)}}function Oy(t){var n=t.alternate;n!==null&&(t.alternate=null,Oy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ua(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,En=!1;function as(t,n,a){for(a=a.child;a!==null;)Vy(t,n,a),a=a.sibling}function Vy(t,n,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 26:Bt||ji(a,n),as(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||ji(a,n);var l=At,h=En;Ys(a.type)&&(At=a.stateNode,En=!1),as(t,n,a),fo(a.stateNode),At=l,En=h;break;case 5:Bt||ji(a,n);case 6:if(l=At,h=En,At=null,as(t,n,a),At=l,En=h,At!==null)if(En)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(f){ht(a,n,f)}else try{At.removeChild(a.stateNode)}catch(f){ht(a,n,f)}break;case 18:At!==null&&(En?(t=At,x0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):x0(At,a.stateNode));break;case 4:l=At,h=En,At=a.stateNode.containerInfo,En=!0,as(t,n,a),At=l,En=h;break;case 0:case 11:case 14:case 15:qs(2,a,n),Bt||qs(4,a,n),as(t,n,a);break;case 1:Bt||(ji(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wy(a,n,l)),as(t,n,a);break;case 21:as(t,n,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,as(t,n,a),Bt=l;break;default:as(t,n,a)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){ht(n,n.return,a)}}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){ht(n,n.return,a)}}function aT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Iy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Iy),n;default:throw Error(r(435,t.tag))}}function nc(t,n){var a=aT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=pT.bind(null,t,l);l.then(h,h)}})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){At=E.stateNode,En=!1;break e}break;case 5:At=E.stateNode,En=!1;break e;case 3:case 4:At=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(At===null)throw Error(r(160));Vy(f,g,h),At=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,t),n=n.sibling}var hi=null;function jy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),An(t),l&4&&(qs(3,t,t.return),no(3,t),qs(5,t,t.return));break;case 1:Tn(n,t),An(t),l&512&&(Bt||a===null||ji(a,a.return)),l&64&&rs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=hi;if(Tn(n,t),An(t),l&512&&(Bt||a===null||ji(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,l,a),f[jt]=t,Lt(f),l=f;break e;case"link":var g=j0("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),ln(f,l,a),h.head.appendChild(f);break;case"meta":if(g=j0("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(l),ln(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[jt]=t,Lt(f),l=f}t.stateNode=l}else L0(h,t.type,t.stateNode);else t.stateNode=k0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?L0(h,t.type,t.stateNode):k0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),An(t),l&512&&(Bt||a===null||ji(a,a.return)),a!==null&&l&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),An(t),l&512&&(Bt||a===null||ji(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(oe){ht(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(Tn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(oe){ht(t,t.return,oe)}}break;case 3:if(_c=null,h=hi,hi=gc(n.containerInfo),Tn(n,t),hi=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(n.containerInfo)}catch(oe){ht(t,t.return,oe)}Wf&&(Wf=!1,Ly(t));break;case 4:l=hi,hi=gc(t.stateNode.containerInfo),Tn(n,t),An(t),hi=l;break;case 12:Tn(n,t),An(t);break;case 31:Tn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 13:Tn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=rt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=rs,G=Bt;if(rs=z||h,Bt=G||N,Tn(n,t),Bt=G,rs=z,An(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||rs||Bt||Gr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var $=N.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(oe){ht(N,N.return,oe)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(oe){ht(N,N.return,oe)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?w0(F,!0):w0(N.stateNode,!1)}catch(oe){ht(N,N.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nc(t,a))));break;case 19:Tn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 30:break;case 21:break;default:Tn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ny(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(t);tc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(bn(g,""),a.flags&=-33);var E=Zf(t);tc(t,E,g);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Zf(t);Jf(t,z,N);break;default:throw Error(r(161))}}catch(G){ht(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ls(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dy(t,n.alternate,n),n=n.sibling}function Gr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Gr(n);break;case 1:ji(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wy(n,n.return,a),Gr(n);break;case 27:fo(n.stateNode);case 26:case 5:ji(n,n.return),Gr(n);break;case 22:n.memoizedState===null&&Gr(n);break;case 30:Gr(n);break;default:Gr(n)}t=t.sibling}}function os(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,a),no(4,f);break;case 1:if(os(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ht(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)mg(N[h],E)}catch(z){ht(l,l.return,z)}}a&&g&64&&xy(f),io(f,f.return);break;case 27:Cy(f);case 26:case 5:os(h,f,a),a&&l===null&&g&4&&Ry(f),io(f,f.return);break;case 12:os(h,f,a);break;case 31:os(h,f,a),a&&g&4&&My(h,f);break;case 13:os(h,f,a),a&&g&4&&ky(h,f);break;case 22:f.memoizedState===null&&os(h,f,a),io(f,f.return);break;case 30:break;default:os(h,f,a)}n=n.sibling}}function ed(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Hl(a))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Hl(t))}function fi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(t,n,a,l),n=n.sibling}function Uy(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n,a,l),h&2048&&no(9,n);break;case 1:fi(t,n,a,l);break;case 3:fi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Hl(t)));break;case 12:if(h&2048){fi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ht(n,n.return,N)}}else fi(t,n,a,l);break;case 31:fi(t,n,a,l);break;case 13:fi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?fi(t,n,a,l):so(t,n):f._visibility&2?fi(t,n,a,l):(f._visibility|=2,ja(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(g,n);break;case 24:fi(t,n,a,l),h&2048&&td(n.alternate,n);break;default:fi(t,n,a,l)}}function ja(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,N=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:ja(f,g,E,N,h),no(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?ja(f,g,E,N,h):so(f,g):(G._visibility|=2,ja(f,g,E,N,h)),h&&z&2048&&ed(g.alternate,g);break;case 24:ja(f,g,E,N,h),h&&z&2048&&td(g.alternate,g);break;default:ja(f,g,E,N,h)}n=n.sibling}}function so(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:so(a,l),h&2048&&ed(l.alternate,l);break;case 24:so(a,l),h&2048&&td(l.alternate,l);break;default:so(a,l)}n=n.sibling}}var ro=8192;function La(t,n,a){if(t.subtreeFlags&ro)for(t=t.child;t!==null;)Py(t,n,a),t=t.sibling}function Py(t,n,a){switch(t.tag){case 26:La(t,n,a),t.flags&ro&&t.memoizedState!==null&&QT(a,hi,t.memoizedState,t.memoizedProps);break;case 5:La(t,n,a);break;case 3:case 4:var l=hi;hi=gc(t.stateNode.containerInfo),La(t,n,a),hi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ro,ro=16777216,La(t,n,a),ro=l):La(t,n,a));break;default:La(t,n,a)}}function zy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ao(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,By(l,t)}zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:ao(t),t.flags&2048&&qs(9,t,t.return);break;case 3:ao(t);break;case 12:ao(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):ao(t);break;default:ao(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,By(l,t)}zy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function By(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:qs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var h=l.sibling,f=l.return;if(Oy(l),l===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var lT={getCacheForType:function(t){var n=rn(Pt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return rn(Pt).controller.signal}},oT=typeof WeakMap=="function"?WeakMap:Map,it=0,yt=null,ze=null,Be=0,ct=0,kn=null,Bs=!1,Ua=!1,nd=!1,us=0,Nt=0,Hs=0,Qr=0,id=0,jn=0,Pa=0,lo=null,Sn=null,sd=!1,sc=0,Hy=0,rc=1/0,ac=null,Fs=null,Kt=0,Gs=null,za=null,cs=0,rd=0,ad=null,Fy=null,oo=0,ld=null;function Ln(){return(it&2)!==0&&Be!==0?Be&-Be:L.T!==null?dd():lu()}function Gy(){if(jn===0)if((Be&536870912)===0||$e){var t=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),jn=t}else jn=536870912;return t=Vn.current,t!==null&&(t.flags|=32),jn}function xn(t,n,a){(t===yt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Qs(t,Be,jn,!1)),br(t,a),((it&2)===0||t!==yt)&&(t===yt&&((it&2)===0&&(Qr|=a),Nt===4&&Qs(t,Be,jn,!1)),Li(t))}function Qy(t,n,a){if((it&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ni(t,n),h=l?hT(t,n):ud(t,n,!0),f=l;do{if(h===0){Ua&&!l&&Qs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!uT(a)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=lo;var N=E.current.memoizedState.isDehydrated;if(N&&(qa(E,g).flags|=256),g=ud(E,g,!1),g!==2){if(nd&&!N){E.errorRecoveryDisabledLanes|=f,Qr|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){qa(t,0),Qs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Qs(l,n,jn,!Bs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sc+300-rt(),10<h)){if(Qs(l,n,jn,!Bs),vi(l,0,!0)!==0)break e;cs=n,l.timeoutHandle=A0(Ky.bind(null,l,a,Sn,ac,sd,n,jn,Qr,Pa,Bs,f,"Throttled",-0,0),h);break e}Ky(l,a,Sn,ac,sd,n,jn,Qr,Pa,Bs,f,null,-0,0)}}break}while(!0);Li(t)}function Ky(t,n,a,l,h,f,g,E,N,z,G,$,q,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},Py(n,f,$);var oe=(f&62914560)===f?sc-rt():(f&4194048)===f?Hy-rt():0;if(oe=KT($,oe),oe!==null){cs=f,t.cancelPendingCommit=oe(t0.bind(null,t,n,f,a,l,h,g,E,N,G,$,null,q,F)),Qs(t,f,g,!z);return}}t0(t,n,f,a,l,h,g,E,N)}function uT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,a,l){n&=~id,n&=~Qr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-It(h),g=1<<f;l[f]=-1,h&=~g}a!==0&&Er(t,a,n)}function lc(){return(it&6)===0?(uo(0),!1):!0}function od(){if(ze!==null){if(ct===0)var t=ze.return;else t=ze,Wi=Lr=null,Sf(t),Da=null,Gl=0,t=ze;for(;t!==null;)Sy(t.alternate,t),t=t.return;ze=null}}function qa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cs=0,od(),yt=t,ze=a=Zi(t.current,null),Be=n,ct=0,kn=null,Bs=!1,Ua=ni(t,n),nd=!1,Pa=jn=id=Qr=Hs=Nt=0,Sn=lo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-It(l),f=1<<h;n|=t[h],l&=~f}return us=n,Nu(),a}function Yy(t,n){Le=null,L.H=Wl,n===Ia||n===ju?(n=cg(),ct=3):n===ff?(n=cg(),ct=4):ct=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kn=n,ze===null&&(Nt=1,$u(t,Gn(n,t.current)))}function Xy(){var t=Vn.current;return t===null?!0:(Be&4194048)===Be?Xn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Xn:!1}function $y(){var t=L.H;return L.H=Wl,t===null?Wl:t}function Zy(){var t=L.A;return L.A=lT,t}function oc(){Nt=4,Bs||(Be&4194048)!==Be&&Vn.current!==null||(Ua=!0),(Hs&134217727)===0&&(Qr&134217727)===0||yt===null||Qs(yt,Be,jn,!1)}function ud(t,n,a){var l=it;it|=2;var h=$y(),f=Zy();(yt!==t||Be!==n)&&(ac=null,qa(t,n)),n=!1;var g=Nt;e:do try{if(ct!==0&&ze!==null){var E=ze,N=kn;switch(ct){case 8:od(),g=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=ct;if(ct=0,kn=null,Ba(t,E,N,z),a&&Ua){g=0;break e}break;default:z=ct,ct=0,kn=null,Ba(t,E,N,z)}}cT(),g=Nt;break}catch(G){Yy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Wi=Lr=null,it=l,L.H=h,L.A=f,ze===null&&(yt=null,Be=0,Nu()),g}function cT(){for(;ze!==null;)Jy(ze)}function hT(t,n){var a=it;it|=2;var l=$y(),h=Zy();yt!==t||Be!==n?(ac=null,rc=rt()+500,qa(t,n)):Ua=ni(t,n);e:do try{if(ct!==0&&ze!==null){n=ze;var f=kn;t:switch(ct){case 1:ct=0,kn=null,Ba(t,n,f,1);break;case 2:case 9:if(og(f)){ct=0,kn=null,Wy(n);break}n=function(){ct!==2&&ct!==9||yt!==t||(ct=7),Li(t)},f.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:og(f)?(ct=0,kn=null,Wy(n)):(ct=0,kn=null,Ba(t,n,f,7));break;case 5:var g=null;switch(ze.tag){case 26:g=ze.memoizedState;case 5:case 27:var E=ze;if(g?U0(g):E.stateNode.complete){ct=0,kn=null;var N=E.sibling;if(N!==null)ze=N;else{var z=E.return;z!==null?(ze=z,uc(z)):ze=null}break t}}ct=0,kn=null,Ba(t,n,f,5);break;case 6:ct=0,kn=null,Ba(t,n,f,6);break;case 8:od(),Nt=6;break e;default:throw Error(r(462))}}fT();break}catch(G){Yy(t,G)}while(!0);return Wi=Lr=null,L.H=l,L.A=h,it=a,ze!==null?0:(yt=null,Be=0,Nu(),Nt)}function fT(){for(;ze!==null&&!Ze();)Jy(ze)}function Jy(t){var n=Ty(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?uc(t):ze=n}function Wy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=gy(a,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=gy(a,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:Sf(n);default:Sy(a,n),n=ze=Zp(n,us),n=Ty(a,n,us)}t.memoizedProps=t.pendingProps,n===null?uc(t):ze=n}function Ba(t,n,a,l){Wi=Lr=null,Sf(n),Da=null,Gl=0;var h=n.return;try{if(eT(t,h,n,a,Be)){Nt=1,$u(t,Gn(a,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;Nt=1,$u(t,Gn(a,t.current)),ze=null;return}n.flags&32768?($e||l===1?t=!0:Ua||(Be&536870912)!==0?t=!1:(Bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),e0(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){e0(n,Bs);return}t=n.return;var a=iT(n.alternate,n,us);if(a!==null){ze=a;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);Nt===0&&(Nt=5)}function e0(t,n){do{var a=sT(t.alternate,t);if(a!==null){a.flags&=32767,ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=a}while(t!==null);Nt=6,ze=null}function t0(t,n,a,l,h,f,g,E,N){t.cancelPendingCommit=null;do cc();while(Kt!==0);if((it&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,qh(t,a,f,g,E,N),t===yt&&(ze=yt=null,Be=0),za=n,Gs=t,cs=a,rd=f,ad=h,Fy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gT(Ts,function(){return a0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=Y.p,Y.p=2,g=it,it|=4;try{rT(t,n,a)}finally{it=g,Y.p=h,L.T=l}}Kt=1,n0(),i0(),s0()}}function n0(){if(Kt===1){Kt=0;var t=Gs,n=za,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=Y.p;Y.p=2;var h=it;it|=4;try{jy(n,t);var f=Ed,g=Bp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&qp(E.ownerDocument.documentElement,E)){if(N!==null&&Gh(E)){var z=N.start,G=N.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),oe=E.textContent.length,Ae=Math.min(N.start,oe),pt=N.end===void 0?Ae:Math.min(N.end,oe);!F.extend&&Ae>pt&&(g=pt,pt=Ae,Ae=g);var k=zp(E,Ae),D=zp(E,pt);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),Ae>pt?(F.addRange(P),F.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),F.addRange(P))}}}}for($=[],F=E;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!bd,Ed=bd=null}finally{it=h,Y.p=l,L.T=a}}t.current=n,Kt=2}}function i0(){if(Kt===2){Kt=0;var t=Gs,n=za,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=Y.p;Y.p=2;var h=it;it|=4;try{Dy(t,n.alternate,n)}finally{it=h,Y.p=l,L.T=a}}Kt=3}}function s0(){if(Kt===4||Kt===3){Kt=0,ot();var t=Gs,n=za,a=cs,l=Fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,za=Gs=null,r0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Ki(a),n=n.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ti,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,h=Y.p,Y.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{L.T=n,Y.p=h}}(cs&3)!==0&&cc(),Li(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ld?oo++:(oo=0,ld=t):oo=0,uo(0)}}function r0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Hl(n)))}function cc(){return n0(),i0(),s0(),a0()}function a0(){if(Kt!==5)return!1;var t=Gs,n=rd;rd=0;var a=Ki(cs),l=L.T,h=Y.p;try{Y.p=32>a?32:a,L.T=null,a=ad,ad=null;var f=Gs,g=cs;if(Kt=0,za=Gs=null,cs=0,(it&6)!==0)throw Error(r(331));var E=it;if(it|=4,qy(f.current),Uy(f,f.current,g,a),it=E,uo(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ti,f)}catch{}return!0}finally{Y.p=h,L.T=l,r0(t,n)}}function l0(t,n,a){n=Gn(a,n),n=Pf(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(br(t,2),Li(t))}function ht(t,n,a){if(t.tag===3)l0(t,t,a);else for(;n!==null;){if(n.tag===3){l0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=Gn(a,t),a=oy(2),l=Us(n,a,2),l!==null&&(uy(a,l,n,t),br(l,2),Li(l));break}}n=n.return}}function cd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(nd=!0,h.add(a),t=dT.bind(null,t,n,a),n.then(t,t))}function dT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,yt===t&&(Be&a)===a&&(Nt===4||Nt===3&&(Be&62914560)===Be&&300>rt()-sc?(it&2)===0&&qa(t,0):id|=a,Pa===Be&&(Pa=0)),Li(t)}function o0(t,n){n===0&&(n=au()),t=Mr(t,n),t!==null&&(br(t,n),Li(t))}function mT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),o0(t,a)}function pT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),o0(t,a)}function gT(t,n){return lt(t,n)}var hc=null,Ha=null,hd=!1,fc=!1,fd=!1,Ks=0;function Li(t){t!==Ha&&t.next===null&&(Ha===null?hc=Ha=t:Ha=Ha.next=t),fc=!0,hd||(hd=!0,_T())}function uo(t,n){if(!fd&&fc){fd=!0;do for(var a=!1,l=hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-It(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,f0(l,f))}else f=Be,f=vi(l,l===yt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ni(l,f)||(a=!0,f0(l,f));l=l.next}while(a);fd=!1}}function yT(){u0()}function u0(){fc=hd=!1;var t=0;Ks!==0&&NT()&&(t=Ks);for(var n=rt(),a=null,l=hc;l!==null;){var h=l.next,f=c0(l,n);f===0?(l.next=null,a===null?hc=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(f&3)!==0)&&(fc=!0)),l=h}Kt!==0&&Kt!==5||uo(t),Ks!==0&&(Ks=0)}function c0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-It(f),E=1<<g,N=h[g];N===-1?((E&a)===0||(E&l)!==0)&&(h[g]=zh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=yt,a=Be,a=vi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ni(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Xt(l),Ki(a)){case 2:case 8:a=vl;break;case 32:a=Ts;break;case 268435456:a=tu;break;default:a=Ts}return l=h0.bind(null,t),a=lt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Xt(l),t.callbackPriority=2,t.callbackNode=null,2}function h0(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(cc()&&t.callbackNode!==a)return null;var l=Be;return l=vi(t,t===yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qy(t,l,n),c0(t,rt()),t.callbackNode!=null&&t.callbackNode===a?h0.bind(null,t):null)}function f0(t,n){if(cc())return null;Qy(t,n,!0)}function _T(){IT(function(){(it&6)!==0?lt(ei,yT):u0()})}function dd(){if(Ks===0){var t=Na;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Ks=t}return Ks}function d0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function m0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function vT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=d0((h[$t]||null).action),g=l.submitter;g&&(n=(n=g[$t]||null)?d0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ii("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var N=g?m0(h,g):new FormData(h);Vf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?m0(h,g):new FormData(h),Vf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var pd=Xh[md],bT=pd.toLowerCase(),ET=pd[0].toUpperCase()+pd.slice(1);ci(bT,"on"+ET)}ci(Gp,"onAnimationEnd"),ci(Qp,"onAnimationIteration"),ci(Kp,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(LE,"onTransitionRun"),ci(UE,"onTransitionStart"),ci(PE,"onTransitionCancel"),ci(Yp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function p0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=N}}}}function qe(t,n){var a=n[oa];a===void 0&&(a=n[oa]=new Set);var l=t+"__bubble";a.has(l)||(g0(n,t,2,!1),a.add(l))}function gd(t,n,a){var l=0;n&&(l|=4),g0(a,t,l,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[dc]){t[dc]=!0,Tl.forEach(function(a){a!=="selectionchange"&&(TT.has(a)||gd(a,!1,t),gd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,gd("selectionchange",!1,n))}}function g0(t,n,a,l){switch(G0(n)){case 2:var h=$T;break;case 8:h=ZT;break;default:h=Od}a=h.bind(null,n,a,t),h=void 0,!wr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function _d(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ai(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ns(function(){var z=f,G=qn(a),$=[];e:{var q=Xp.get(t);if(q!==void 0){var F=Ii,oe=t;switch(t){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":F=Su;break;case"focusin":oe="focus",F=Ir;break;case"focusout":oe="blur",F=Ir;break;case"beforeblur":case"afterblur":F=Ir;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Gp:case Qp:case Kp:F=yu;break;case Yp:F=T;break;case"scroll":case"scrollend":F=Ml;break;case"wheel":F=B;break;case"copy":case"cut":case"paste":F=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=$i;break;case"toggle":case"beforetoggle":F=je}var Ae=(n&4)!==0,pt=!Ae&&(t==="scroll"||t==="scrollend"),k=Ae?q!==null?q+"Capture":null:q;Ae=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=ai(D,k),K!=null&&Ae.push(ho(D,K,P))),pt)break;D=D.return}0<Ae.length&&(q=new F(q,oe,null,a,G),$.push({event:q,listeners:Ae}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Dl&&(oe=a.relatedTarget||a.fromElement)&&(Ai(oe)||oe[Ei]))break e;if((F||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,F?(oe=a.relatedTarget||a.toElement,F=z,oe=oe?Ai(oe):null,oe!==null&&(pt=c(oe),Ae=oe.tag,oe!==pt||Ae!==5&&Ae!==27&&Ae!==6)&&(oe=null)):(F=null,oe=z),F!==oe)){if(Ae=kl,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=$i,K="onPointerLeave",k="onPointerEnter",D="pointer"),pt=F==null?q:Cn(F),P=oe==null?q:Cn(oe),q=new Ae(K,D+"leave",F,a,G),q.target=pt,q.relatedTarget=P,K=null,Ai(G)===z&&(Ae=new Ae(k,D+"enter",oe,a,G),Ae.target=P,Ae.relatedTarget=pt,K=Ae),pt=K,F&&oe)t:{for(Ae=AT,k=F,D=oe,P=0,K=k;K;K=Ae(K))P++;K=0;for(var ye=D;ye;ye=Ae(ye))K++;for(;0<P-K;)k=Ae(k),P--;for(;0<K-P;)D=Ae(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){Ae=k;break t}k=Ae(k),D=Ae(D)}Ae=null}else Ae=null;F!==null&&y0($,q,F,Ae,!1),oe!==null&&pt!==null&&y0($,pt,oe,Ae,!0)}}e:{if(q=z?Cn(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var et=Mp;else if(Op(q))if(kp)et=ME;else{et=OE;var fe=DE}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&fa(z.elementType)&&(et=Mp):et=VE;if(et&&(et=et(t,z))){Vp($,et,a,G);break e}fe&&fe(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Nl(q,"number",q.value)}switch(fe=z?Cn(z):window,t){case"focusin":(Op(fe)||fe.contentEditable==="true")&&(ba=fe,Qh=z,zl=null);break;case"focusout":zl=Qh=ba=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Hp($,a,G);break;case"selectionchange":if(jE)break;case"keydown":case"keyup":Hp($,a,G)}var Ue;if(nt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else va?Dr(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Vi&&a.locale!=="ko"&&(va||He!=="onCompositionStart"?He==="onCompositionEnd"&&va&&(Ue=Vl()):(Ci=G,Ol="value"in Ci?Ci.value:Ci.textContent,va=!0)),fe=mc(z,He),0<fe.length&&(He=new Oi(He,t,null,a,G),$.push({event:He,listeners:fe}),Ue?He.data=Ue:(Ue=_a(a),Ue!==null&&(He.data=Ue)))),(Ue=Hn?RE(t,a):NE(t,a))&&(He=mc(z,"onBeforeInput"),0<He.length&&(fe=new Oi("onBeforeInput","beforeinput",null,a,G),$.push({event:fe,listeners:He}),fe.data=Ue)),vT($,t,z,a,G)}p0($,n)})}function ho(t,n,a){return{instance:t,listener:n,currentTarget:a}}function mc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ai(t,a),h!=null&&l.unshift(ho(t,h,f)),h=ai(t,n),h!=null&&l.push(ho(t,h,f))),t.tag===3)return l;t=t.return}return[]}function AT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y0(t,n,a,l,h){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=ai(a,f),z!=null&&g.unshift(ho(a,z,N))):h||(z=ai(a,f),z!=null&&g.push(ho(a,z,N)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var ST=/\r\n?/g,xT=/\u0000|\uFFFD/g;function _0(t){return(typeof t=="string"?t:""+t).replace(ST,`
`).replace(xT,"")}function v0(t,n){return n=_0(n),_0(t)===n}function mt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,a,l);break;case"style":Il(t,l,f);break;case"data":if(n!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&mt(t,n,"name",h.name,h,null),mt(t,n,"formEncType",h.formEncType,h,null),mt(t,n,"formMethod",h.formMethod,h,null),mt(t,n,"formTarget",h.formTarget,h,null)):(mt(t,n,"encType",h.encType,h,null),mt(t,n,"method",h.method,h,null),mt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ri);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,ca(t,a,l))}}function vd(t,n,a,l,h,f){switch(a){case"style":Il(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[$t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function ln(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:mt(t,n,f,g,a,null)}}h&&mt(t,n,"srcSet",a.srcSet,a,null),l&&mt(t,n,"src",a.src,a,null);return;case"input":qe("invalid",t);var E=f=g=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":N=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:mt(t,n,l,G,a,null)}}hu(t,f,E,N,z,g,h,!1);return;case"select":qe("invalid",t),l=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:mt(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Ss(t,!!l,n,!1):a!=null&&Ss(t,!!l,a,!0);return;case"textarea":qe("invalid",t),f=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:mt(t,n,g,E,a,null)}xs(t,l,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(t,n,N,l,a,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<co.length;l++)qe(co[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:mt(t,n,z,l,a,null)}return;default:if(fa(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&vd(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&mt(t,n,E,l,a,null))}function wT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,z=null,G=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=$;default:l.hasOwnProperty(F)||mt(t,n,F,null,l,$)}}for(var q in l){var F=l[q];if($=a[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&mt(t,n,q,F,l,$)}}ha(t,g,E,N,z,G,f,h);return;case"select":F=g=E=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||mt(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&mt(t,n,h,f,l,N)}n=E,a=g,l=F,q!=null?Ss(t,!!a,q,!1):!!l!=!!a&&(n!=null?Ss(t,!!a,n,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:mt(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=a[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&mt(t,n,g,h,l,f)}fu(t,q,F);return;case"option":for(var oe in a)if(q=a[oe],a.hasOwnProperty(oe)&&q!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:mt(t,n,oe,null,l,q)}for(N in l)if(q=l[N],F=a[N],l.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:mt(t,n,N,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!l.hasOwnProperty(Ae)&&mt(t,n,Ae,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:mt(t,n,z,q,l,F)}return;default:if(fa(n)){for(var pt in a)q=a[pt],a.hasOwnProperty(pt)&&q!==void 0&&!l.hasOwnProperty(pt)&&vd(t,n,pt,void 0,l,q);for(G in l)q=l[G],F=a[G],!l.hasOwnProperty(G)||q===F||q===void 0&&F===void 0||vd(t,n,G,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&mt(t,n,k,null,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||mt(t,n,$,q,l,F)}function b0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&b0(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>E)break;var G=N.transferSize,$=N.initiatorType;G&&b0($)&&(N=N.responseEnd,g+=G*(N<E?1:(E-z)/(N-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Ed=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function E0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function NT(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(t){return S0.resolve(null).then(t).catch(DT)}:A0;function DT(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function x0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ka(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")fo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,fo(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&fo(t.ownerDocument.body);a=h}while(a);Ka(n)}function w0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Sd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function VT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function R0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function xd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function N0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return $n(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function C0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function I0(t,n,a){switch(n=pc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function fo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ua(t)}var Zn=new Map,D0=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=Y.d;Y.d={f:kT,r:jT,D:LT,C:UT,L:PT,m:zT,X:BT,S:qT,M:HT};function kT(){var t=hs.f(),n=lc();return t||n}function jT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Yg(n):hs.r(t)}var Fa=typeof document>"u"?null:document;function O0(t,n,a){var l=Fa;if(l&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D0.has(h)||(D0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ln(n,"link",t),Lt(n),l.head.appendChild(n)))}}function LT(t){hs.D(t),O0("dns-prefetch",t,null)}function UT(t,n){hs.C(t,n),O0("preconnect",t,n)}function PT(t,n,a){hs.L(t,n,a);var l=Fa;if(l&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=Ga(t);break;case"script":f=Qa(t)}Zn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Zn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(mo(f))||n==="script"&&l.querySelector(po(f))||(n=l.createElement("link"),ln(n,"link",t),Lt(n),l.head.appendChild(n)))}}function zT(t,n){hs.m(t,n);var a=Fa;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(t)}if(!Zn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Zn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(po(f)))return}l=a.createElement("link"),ln(l,"link",t),Lt(l),a.head.appendChild(l)}}}function qT(t,n,a){hs.S(t,n,a);var l=Fa;if(l&&t){var h=Si(l).hoistableStyles,f=Ga(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(mo(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Zn.get(f))&&Nd(t,a);var N=g=l.createElement("link");Lt(N),ln(N,"link",t),N._p=new Promise(function(z,G){N.onload=z,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function BT(t,n){hs.X(t,n);var a=Fa;if(a&&t){var l=Si(a).hoistableScripts,h=Qa(t),f=l.get(h);f||(f=a.querySelector(po(h)),f||(t=S({src:t,async:!0},n),(n=Zn.get(h))&&Cd(t,n),f=a.createElement("script"),Lt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function HT(t,n){hs.M(t,n);var a=Fa;if(a&&t){var l=Si(a).hoistableScripts,h=Qa(t),f=l.get(h);f||(f=a.querySelector(po(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Zn.get(h))&&Cd(t,n),f=a.createElement("script"),Lt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function V0(t,n,a,l){var h=(h=de.current)?gc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ga(a.href),a=Si(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var f=Si(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(mo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),f||FT(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(a),a=Si(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ga(t){return'href="'+vn(t)+'"'}function mo(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function FT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",a),Lt(n),t.head.appendChild(n))}function Qa(t){return'[src="'+vn(t)+'"]'}function po(t){return"script[async]"+t}function k0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),ln(l,"style",h),yc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ga(a.href);var f=t.querySelector(mo(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=M0(a),(h=Zn.get(h))&&Nd(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),ln(f,"link",l),n.state.loading|=4,yc(f,a.precedence,t),n.instance=f;case"script":return f=Qa(a.src),(h=t.querySelector(po(f)))?(n.instance=h,Lt(h),h):(l=a,(h=Zn.get(f))&&(l=S({},a),Cd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),ln(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yc(l,a.precedence,t));return n.instance}function yc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function j0(t,n,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ti]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function L0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function GT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function QT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),f=n.querySelector(mo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Lt(f);return}f=n.ownerDocument||n,l=M0(l),(h=Zn.get(h))&&Nd(l,h),f=f.createElement("link"),Lt(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),ln(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=vc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Id=0;function KT(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*RT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(YT,t),bc=null,vc.call(t))}function YT(t,n){if(!(n.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,h),a.set(g,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var go={$$typeof:Se,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function XT(t,n,a,l,h,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function P0(t,n,a,l,h,f,g,E,N,z,G,$){return t=new XT(t,n,a,g,N,z,G,$,E),n=1,f===!0&&(n|=24),f=On(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},df(f),t}function z0(t){return t?(t=Aa,t):Aa}function q0(t,n,a,l,h,f){h=z0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ls(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Us(t,l,n),a!==null&&(xn(a,t,n),Kl(a,t,n))}function B0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Dd(t,n){B0(t,n),(t=t.alternate)&&B0(t,n)}function H0(t){if(t.tag===13||t.tag===31){var n=Mr(t,67108864);n!==null&&xn(n,t,67108864),Dd(t,67108864)}}function F0(t){if(t.tag===13||t.tag===31){var n=Ln();n=Tr(n);var a=Mr(t,n);a!==null&&xn(a,t,n),Dd(t,n)}}var Tc=!0;function $T(t,n,a,l){var h=L.T;L.T=null;var f=Y.p;try{Y.p=2,Od(t,n,a,l)}finally{Y.p=f,L.T=h}}function ZT(t,n,a,l){var h=L.T;L.T=null;var f=Y.p;try{Y.p=8,Od(t,n,a,l)}finally{Y.p=f,L.T=h}}function Od(t,n,a,l){if(Tc){var h=Vd(l);if(h===null)_d(t,n,l,Ac,a),Q0(t,l);else if(WT(h,t,n,a,l))l.stopPropagation();else if(Q0(t,l),n&4&&-1<JT.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=_i(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-It(g);E.entanglements[1]|=N,g&=~N}Li(f),(it&6)===0&&(rc=rt()+500,uo(0))}}break;case 31:case 13:E=Mr(f,2),E!==null&&xn(E,f,2),lc(),Dd(f,2)}if(f=Vd(l),f===null&&_d(t,n,l,Ac,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,a)}}function Vd(t){return t=qn(t),Md(t)}var Ac=null;function Md(t){if(Ac=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function G0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case ei:return 2;case vl:return 8;case Ts:case Ph:return 32;case tu:return 268435456;default:return 32}default:return 32}}var kd=!1,Xs=null,$s=null,Zs=null,yo=new Map,_o=new Map,Js=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q0(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":yo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(n.pointerId)}}function vo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&H0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function WT(t,n,a,l,h){switch(n){case"focusin":return Xs=vo(Xs,t,n,a,l,h),!0;case"dragenter":return $s=vo($s,t,n,a,l,h),!0;case"mouseover":return Zs=vo(Zs,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return yo.set(f,vo(yo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,_o.set(f,vo(_o.get(f)||null,t,n,a,l,h)),!0}return!1}function K0(t){var n=Ai(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ii(t.priority,function(){F0(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,ii(t.priority,function(){F0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Dl=l,a.target.dispatchEvent(l),Dl=null}else return n=zn(a),n!==null&&H0(n),t.blockedOn=a,!1;n.shift()}return!0}function Y0(t,n,a){Sc(t)&&a.delete(n)}function eA(){kd=!1,Xs!==null&&Sc(Xs)&&(Xs=null),$s!==null&&Sc($s)&&($s=null),Zs!==null&&Sc(Zs)&&(Zs=null),yo.forEach(Y0),_o.forEach(Y0)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eA)))}var wc=null;function X0(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Md(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(t){function n(N){return xc(N,t)}Xs!==null&&xc(Xs,t),$s!==null&&xc($s,t),Zs!==null&&xc(Zs,t),yo.forEach(n),_o.forEach(n);for(var a=0;a<Js.length;a++){var l=Js[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)K0(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],g=h[$t]||null;if(typeof f=="function")g||X0(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[$t]||null)E=g.formAction;else if(Md(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),X0(a)}}}function $0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Rc.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Ln();q0(a,l,t,n,null,null)},Rc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;q0(t.current,2,null,t,null,null),lc(),n[Ei]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,t),a===0&&K0(t)}};var Z0=e.version;if(Z0!=="19.2.0")throw Error(r(527,Z0,"19.2.0"));Y.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var tA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ti=Nc.inject(tA),tn=Nc}catch{}}return Eo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=sy,f=ry,g=ay;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=P0(t,1,!1,null,null,a,l,null,h,f,g,$0),t[Ei]=n.current,yd(t),new jd(n)},Eo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=sy,g=ry,E=ay,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=P0(t,1,!0,n,a??null,l,h,N,f,g,E,$0),n.context=z0(null),a=n.current,l=Ln(),l=Tr(l),h=Ls(l),h.callback=null,Us(a,h,l),a=l,n.current.lanes=a,br(n,a),Li(n),t[Ei]=n.current,yd(t),new Rc(n)},Eo.version="19.2.0",Eo}var l_;function hA(){if(l_)return Pd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=cA(),Pd.exports}var fA=hA();const dA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),o_=s=>{const e=mA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Zv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),pA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yA=Ie.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...y},v)=>Ie.createElement("svg",{ref:v,...gA,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Zv("lucide",o),...!c&&!pA(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Ie.createElement(_,A)),...Array.isArray(c)?c:[c]]));const Ke=(s,e)=>{const i=Ie.forwardRef(({className:r,...o},c)=>Ie.createElement(yA,{ref:c,iconNode:e,className:Zv(`lucide-${dA(o_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=o_(s),i};const _A=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vA=Ke("arrow-left",_A);const bA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],u_=Ke("box",bA);const EA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Hd=Ke("briefcase",EA);const TA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fd=Ke("calendar",TA);const AA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Gd=Ke("camera",AA);const SA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xA=Ke("chart-column",SA);const wA=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],RA=Ke("chart-pie",wA);const NA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],c_=Ke("check",NA);const CA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],h_=Ke("circle-alert",CA);const IA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DA=Ke("circle-check-big",IA);const OA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],f_=Ke("clipboard-list",OA);const VA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],MA=Ke("cpu",VA);const kA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jA=Ke("download",kA);const LA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UA=Ke("eye",LA);const PA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],zA=Ke("file-x",PA);const qA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],BA=Ke("history",qA);const HA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],d_=Ke("log-in",HA);const FA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GA=Ke("log-out",FA);const QA=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],KA=Ke("monitor-play",QA);const YA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],m_=Ke("pen-tool",YA);const XA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$A=Ke("pen",XA);const ZA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JA=Ke("plus",ZA);const WA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eS=Ke("refresh-cw",WA);const tS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cc=Ke("save",tS);const nS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],iS=Ke("search",nS);const sS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p_=Ke("settings",sS);const rS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aS=Ke("shield-check",rS);const lS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oS=Ke("trash-2",lS);const uS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],cS=Ke("trending-up",uS);const hS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fS=Ke("triangle-alert",hS);const dS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mS=Ke("user",dS);const pS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gS=Ke("users",pS);const yS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],g_=Ke("utensils",yS);const _S=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],y_=Ke("video",_S);const vS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ic=Ke("x",vS);const bS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ES=Ke("zap",bS),TS=()=>{};var __={};const Jv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},AS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let V=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(V=64)),r.push(i[A],i[S],i[V],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Jv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):AS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||S==null)throw new SS;const V=c<<2|y>>4;if(r.push(V),_!==64){const Q=y<<4&240|_>>2;if(r.push(Q),S!==64){const ee=_<<6&192|S;r.push(ee)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class SS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(s){const e=Jv(s);return Wv.encodeByteArray(e,!0)},Yc=function(s){return xS(s).replace(/\./g,"")},eb=function(s){try{return Wv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const RS=()=>wS().__FIREBASE_DEFAULTS__,NS=()=>{if(typeof process>"u"||typeof __>"u")return;const s=__.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},CS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&eb(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return TS()||RS()||NS()||CS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},tb=s=>mh()?.emulatorHosts?.[s],IS=s=>{const e=tb(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},nb=()=>mh()?.config,ib=s=>mh()?.[`_${s}`];class DS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function hl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(s){return(await fetch(s,{credentials:"include"})).ok}function OS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const No={};function VS(){const s={prod:[],emulator:[]};for(const e of Object.keys(No))No[e]?s.emulator.push(e):s.prod.push(e);return s}function MS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let v_=!1;function rb(s,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||No[s]===e||No[s]||v_)return;No[s]=e;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=VS().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function y(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{v_=!0,d()},V}function A(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=MS(r),Q=i("text"),ee=document.getElementById(Q)||document.createElement("span"),ie=i("learnmore"),ne=document.getElementById(ie)||document.createElement("a"),Te=i("preprendIcon"),Oe=document.getElementById(Te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const Se=V.element;y(Se),A(ne,ie);const st=_();v(Oe,Te),Se.append(Oe,ee,ne,st),document.body.appendChild(Se)}c?(ee.innerText="Preview backend disconnected.",Oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function jS(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function PS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zS(){const s=gn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qS(){return!jS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const FS="FirebaseError";class Es extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=FS,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?GS(c,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Es(o,y,r)}}function GS(s,e){return s.replace(QS,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QS=/\{\$([^}]+)}/g;function KS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ea(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(b_(c)&&b_(d)){if(!ea(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function b_(s){return s!==null&&typeof s=="object"}function Fo(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YS(s,e){const i=new XS(s,e);return i.subscribe.bind(i)}class XS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");$S(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $S(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Qd(){}function en(s){return s&&s._delegate?s._delegate:s}class ta{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Yr="[DEFAULT]";class ZS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new DS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WS(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JS(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(s){return s===Yr?void 0:s}function WS(s){return s.instantiationMode==="EAGER"}class ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ZS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const tx={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},nx=Fe.INFO,ix={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},sx=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=ix[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=nx,this._logHandler=sx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const rx=(s,e)=>e.some(i=>s instanceof i);let E_,T_;function ax(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lx(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,om=new WeakMap,lb=new WeakMap,Kd=new WeakMap,jm=new WeakMap;function ox(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(rr(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ab.set(i,s)}).catch(()=>{}),jm.set(e,s),e}function ux(s){if(om.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let um={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function cx(s){um=s(um)}function hx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Yd(this),e,...i);return lb.set(r,e.sort?e.sort():[e]),rr(r)}:lx().includes(s)?function(...e){return s.apply(Yd(this),e),rr(ab.get(this))}:function(...e){return rr(s.apply(Yd(this),e))}}function fx(s){return typeof s=="function"?hx(s):(s instanceof IDBTransaction&&ux(s),rx(s,ax())?new Proxy(s,um):s)}function rr(s){if(s instanceof IDBRequest)return ox(s);if(Kd.has(s))return Kd.get(s);const e=fx(s);return e!==s&&(Kd.set(s,e),jm.set(e,s)),e}const Yd=s=>jm.get(s);function dx(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=rr(d);return r&&d.addEventListener("upgradeneeded",v=>{r(rr(d.result),v.oldVersion,v.newVersion,rr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const mx=["get","getKey","getAll","getAllKeys","count"],px=["put","add","delete","clear"],Xd=new Map;function A_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=px.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||mx.includes(i)))return;const c=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Xd.set(e,c),c}cx(s=>({...s,get:(e,i,r)=>A_(e,i)||s.get(e,i,r),has:(e,i)=>!!A_(e,i)||s.has(e,i)}));class gx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yx(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function yx(s){return s.getComponent()?.type==="VERSION"}const cm="@firebase/app",S_="0.14.6";const gs=new km("@firebase/app"),_x="@firebase/app-compat",vx="@firebase/analytics-compat",bx="@firebase/analytics",Ex="@firebase/app-check-compat",Tx="@firebase/app-check",Ax="@firebase/auth",Sx="@firebase/auth-compat",xx="@firebase/database",wx="@firebase/data-connect",Rx="@firebase/database-compat",Nx="@firebase/functions",Cx="@firebase/functions-compat",Ix="@firebase/installations",Dx="@firebase/installations-compat",Ox="@firebase/messaging",Vx="@firebase/messaging-compat",Mx="@firebase/performance",kx="@firebase/performance-compat",jx="@firebase/remote-config",Lx="@firebase/remote-config-compat",Ux="@firebase/storage",Px="@firebase/storage-compat",zx="@firebase/firestore",qx="@firebase/ai",Bx="@firebase/firestore-compat",Hx="firebase",Fx="12.6.0";const hm="[DEFAULT]",Gx={[cm]:"fire-core",[_x]:"fire-core-compat",[bx]:"fire-analytics",[vx]:"fire-analytics-compat",[Tx]:"fire-app-check",[Ex]:"fire-app-check-compat",[Ax]:"fire-auth",[Sx]:"fire-auth-compat",[xx]:"fire-rtdb",[wx]:"fire-data-connect",[Rx]:"fire-rtdb-compat",[Nx]:"fire-fn",[Cx]:"fire-fn-compat",[Ix]:"fire-iid",[Dx]:"fire-iid-compat",[Ox]:"fire-fcm",[Vx]:"fire-fcm-compat",[Mx]:"fire-perf",[kx]:"fire-perf-compat",[jx]:"fire-rc",[Lx]:"fire-rc-compat",[Ux]:"fire-gcs",[Px]:"fire-gcs-compat",[zx]:"fire-fst",[Bx]:"fire-fst-compat",[qx]:"fire-vertex","fire-js":"fire-js",[Hx]:"fire-js-all"};const Xc=new Map,Qx=new Map,fm=new Map;function x_(s,e){try{s.container.addComponent(e)}catch(i){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function il(s){const e=s.name;if(fm.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,s);for(const i of Xc.values())x_(i,s);for(const i of Qx.values())x_(i,s);return!0}function Lm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function di(s){return s==null?!1:s.settings!==void 0}const Kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Ho("app","Firebase",Kx);class Yx{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const fl=Fx;function ob(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:hm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ar.create("bad-app-name",{appName:String(o)});if(i||(i=nb()),!i)throw ar.create("no-options");const c=Xc.get(o);if(c){if(ea(i,c.options)&&ea(r,c.config))return c;throw ar.create("duplicate-app",{appName:o})}const d=new ex(o);for(const v of fm.values())d.addComponent(v);const y=new Yx(i,r,d);return Xc.set(o,y),y}function ub(s=hm){const e=Xc.get(s);if(!e&&s===hm&&nb())return ob();if(!e)throw ar.create("no-app",{appName:s});return e}function lr(s,e,i){let r=Gx[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}il(new ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Xx="firebase-heartbeat-database",$x=1,Mo="firebase-heartbeat-store";let $d=null;function cb(){return $d||($d=dx(Xx,$x,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Mo)}catch(i){console.warn(i)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),$d}async function Zx(s){try{const i=(await cb()).transaction(Mo),r=await i.objectStore(Mo).get(hb(s));return await i.done,r}catch(e){if(e instanceof Es)gs.warn(e.message);else{const i=ar.create("idb-get",{originalErrorMessage:e?.message});gs.warn(i.message)}}}async function w_(s,e){try{const r=(await cb()).transaction(Mo,"readwrite");await r.objectStore(Mo).put(e,hb(s)),await r.done}catch(i){if(i instanceof Es)gs.warn(i.message);else{const r=ar.create("idb-set",{originalErrorMessage:i?.message});gs.warn(r.message)}}}function hb(s){return`${s.name}!${s.options.appId}`}const Jx=1024,Wx=30;class e2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new n2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Wx){const o=i2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R_(),{heartbeatsToSend:i,unsentEntries:r}=t2(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gs.warn(e),""}}}function R_(){return new Date().toISOString().substring(0,10)}function t2(s,e=Jx){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),N_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),N_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class n2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Zx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N_(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function i2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function s2(s){il(new ta("platform-logger",e=>new gx(e),"PRIVATE")),il(new ta("heartbeat",e=>new e2(e),"PRIVATE")),lr(cm,S_,s),lr(cm,S_,"esm2020"),lr("fire-js","")}s2("");var r2="firebase",a2="12.6.0";lr(r2,a2,"app");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,fb;(function(){var s;function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,O,j){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return x.prototype[O].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)M[O]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],O=I.g[2];let j=I.g[3],R;R=x+(j^C&(O^j))+M[0]+3614090360&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(O^x&(C^O))+M[1]+3905402710&4294967295,j=x+(R<<12&4294967295|R>>>20),R=O+(C^j&(x^C))+M[2]+606105819&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(x^O&(j^x))+M[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(j^C&(O^j))+M[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(O^x&(C^O))+M[5]+1200080426&4294967295,j=x+(R<<12&4294967295|R>>>20),R=O+(C^j&(x^C))+M[6]+2821735955&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(x^O&(j^x))+M[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(j^C&(O^j))+M[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(O^x&(C^O))+M[9]+2336552879&4294967295,j=x+(R<<12&4294967295|R>>>20),R=O+(C^j&(x^C))+M[10]+4294925233&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(x^O&(j^x))+M[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(j^C&(O^j))+M[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=j+(O^x&(C^O))+M[13]+4254626195&4294967295,j=x+(R<<12&4294967295|R>>>20),R=O+(C^j&(x^C))+M[14]+2792965006&4294967295,O=j+(R<<17&4294967295|R>>>15),R=C+(x^O&(j^x))+M[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(O^j&(C^O))+M[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(x^C))+M[6]+3225465664&4294967295,j=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(j^x))+M[11]+643717713&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(O^j))+M[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^j&(C^O))+M[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(x^C))+M[10]+38016083&4294967295,j=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(j^x))+M[15]+3634488961&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(O^j))+M[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^j&(C^O))+M[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(x^C))+M[14]+3275163606&4294967295,j=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(j^x))+M[3]+4107603335&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(O^j))+M[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^j&(C^O))+M[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=j+(C^O&(x^C))+M[2]+4243563512&4294967295,j=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(j^x))+M[7]+1735328473&4294967295,O=j+(R<<14&4294967295|R>>>18),R=C+(j^x&(O^j))+M[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(C^O^j)+M[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^O)+M[8]+2272392833&4294967295,j=x+(R<<11&4294967295|R>>>21),R=O+(j^x^C)+M[11]+1839030562&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^x)+M[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^j)+M[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^O)+M[4]+1272893353&4294967295,j=x+(R<<11&4294967295|R>>>21),R=O+(j^x^C)+M[7]+4139469664&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^x)+M[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^j)+M[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^O)+M[0]+3936430074&4294967295,j=x+(R<<11&4294967295|R>>>21),R=O+(j^x^C)+M[3]+3572445317&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^x)+M[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^j)+M[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=j+(x^C^O)+M[12]+3873151461&4294967295,j=x+(R<<11&4294967295|R>>>21),R=O+(j^x^C)+M[15]+530742520&4294967295,O=j+(R<<16&4294967295|R>>>16),R=C+(O^j^x)+M[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(O^(C|~j))+M[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~O))+M[7]+1126891415&4294967295,j=x+(R<<10&4294967295|R>>>22),R=O+(x^(j|~C))+M[14]+2878612391&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~x))+M[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~j))+M[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~O))+M[3]+2399980690&4294967295,j=x+(R<<10&4294967295|R>>>22),R=O+(x^(j|~C))+M[10]+4293915773&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~x))+M[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~j))+M[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~O))+M[15]+4264355552&4294967295,j=x+(R<<10&4294967295|R>>>22),R=O+(x^(j|~C))+M[6]+2734768916&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~x))+M[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~j))+M[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=j+(C^(x|~O))+M[11]+3174756917&4294967295,j=x+(R<<10&4294967295|R>>>22),R=O+(x^(j|~C))+M[2]+718787259&4294967295,O=j+(R<<15&4294967295|R>>>17),R=C+(j^(O|~x))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,M=this.C;let O=this.h,j=0;for(;j<x;){if(O==0)for(;j<=C;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<x;)if(M[O++]=I.charCodeAt(j++),O==this.blockSize){o(this,M),O=0;break}}else for(;j<x;)if(M[O++]=I[j++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[x++]=this.g[C]>>>M&255;return I};function c(I,x){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function d(I,x){this.h=x;const C=[];let M=!0;for(let O=I.length-1;O>=0;O--){const j=I[O]|0;M&&j==x||(C[O]=j,M=!1)}this.g=C}var y={};function v(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return ne(_(-I));const x=[];let C=1;for(let M=0;I>=C;M++)x[M]=I/C|0,C*=4294967296;return new d(x,0)}function A(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return ne(A(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(x,8));let M=S;for(let j=0;j<I.length;j+=8){var O=Math.min(8,I.length-j);const R=parseInt(I.substring(j,j+O),x);O<8?(O=_(Math.pow(x,O)),M=M.j(O).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var S=v(0),V=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(ie(this))return-ne(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(ee(this))return"0";if(ie(this))return"-"+ne(this).toString(I);const x=_(Math.pow(I,6));var C=this;let M="";for(;;){const O=st(C,x).g;C=Te(C,O.j(x));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,ee(C))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function ee(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function ie(I){return I.h==-1}s.l=function(I){return I=Te(this,I),ie(I)?-1:ee(I)?0:1};function ne(I){const x=I.g.length,C=[];for(let M=0;M<x;M++)C[M]=~I.g[M];return new d(C,~I.h).add(V)}s.abs=function(){return ie(this)?ne(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let O=0;O<=x;O++){let j=M+(this.i(O)&65535)+(I.i(O)&65535),R=(j>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=R>>>16,j&=65535,R&=65535,C[O]=R<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function Te(I,x){return I.add(ne(x))}s.j=function(I){if(ee(this)||ee(I))return S;if(ie(this))return ie(I)?ne(this).j(ne(I)):ne(ne(this).j(I));if(ie(I))return ne(this.j(ne(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const j=this.i(M)>>>16,R=this.i(M)&65535,ue=I.i(O)>>>16,ve=I.i(O)&65535;C[2*M+2*O]+=R*ve,Oe(C,2*M+2*O),C[2*M+2*O+1]+=j*ve,Oe(C,2*M+2*O+1),C[2*M+2*O+1]+=R*ue,Oe(C,2*M+2*O+1),C[2*M+2*O+2]+=j*ue,Oe(C,2*M+2*O+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new d(C,0)};function Oe(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function Se(I,x){this.g=I,this.h=x}function st(I,x){if(ee(x))throw Error("division by zero");if(ee(I))return new Se(S,S);if(ie(I))return x=st(ne(I),x),new Se(ne(x.g),ne(x.h));if(ie(x))return x=st(I,ne(x)),new Se(ne(x.g),x.h);if(I.g.length>30){if(ie(I)||ie(x))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=x;M.l(I)<=0;)C=gt(C),M=gt(M);var O=Ye(C,1),j=Ye(M,1);for(M=Ye(M,2),C=Ye(C,2);!ee(M);){var R=j.add(M);R.l(I)<=0&&(O=O.add(C),j=R),M=Ye(M,1),C=Ye(C,1)}return x=Te(I,O.j(x)),new Se(O,x)}for(O=S;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=_(C),R=j.j(x);ie(R)||R.l(I)>0;)C-=M,j=_(C),R=j.j(x);ee(j)&&(j=V),O=O.add(j),I=Te(I,R)}return new Se(O,I)}s.B=function(I){return st(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&I.i(M);return new d(C,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|I.i(M);return new d(C,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^I.i(M);return new d(C,this.h^I.h)};function gt(I){const x=I.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(C,I.h)}function Ye(I,x){const C=x>>5;x%=32;const M=I.g.length-C,O=[];for(let j=0;j<M;j++)O[j]=x>0?I.i(j+C)>>>x|I.i(j+C+1)<<32-x:I.i(j+C);return new d(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,or=d}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var db,Ao,mb,Uc,dm,pb,gb,yb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var b=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function A(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var se=Array(arguments.length-2),je=2;je<arguments.length;je++)se[je-2]=arguments[je];return m.prototype[U].apply(T,se)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function ee(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const B=U.length||0;u.length=b+B;for(let se=0;se<B;se++)u[b+se]=U[se]}else u.push(U)}}class ie{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function Te(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,b){const T=Se.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Se=new ie(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,Ye=!1,I=new Oe,x=()=>{const u=Promise.resolve(void 0);gt=()=>{u.then(C)}};function C(){for(var u;u=Te();){try{u.h.call(u.g)}catch(b){ne(b)}var m=Se;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ye=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ue,O),ue.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),L=0;function Y(u,m,b,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=U,this.key=++L,this.da=this.fa=!1}function re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function te(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function ge(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function w(u){const m={};for(const b in u)m[b]=u[b];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let B=0;B<H.length;B++)b=H[B],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,b,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const se=de(u,m,T,U);return se>-1?(m=u[se],b||(m.fa=!1)):(m=new Y(m,this.src,B,!!T,U),m.fa=b,u.push(m)),m};function ce(u,m){const b=m.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(re(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function de(u,m,b,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==T)return U}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),be={};function xe(u,m,b,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)xe(u,m[B],b,T,U);return null}return b=Xe(b),u&&u[ve]?u.J(m,b,y(T)?!!T.capture:!1,U):xt(u,m,b,!1,T,U)}function xt(u,m,b,T,U,B){if(!m)throw Error("Invalid event type");const se=y(U)?!!U.capture:!!U;let je=ke(u);if(je||(u[Ee]=je=new W(u)),b=je.add(m,b,T,se,B),b.proxy)return b;if(T=wt(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)j||(U=se),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(pe(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function wt(){function u(b){return m.call(u.src,u.listener,b)}const m=we;return u}function me(u,m,b,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)me(u,m[B],b,T,U);else T=y(T)?!!T.capture:!!T,b=Xe(b),u&&u[ve]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=de(m,b,T,U),b>-1&&(re(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ke(u))&&(m=u.g[m.toString()],u=-1,m&&(u=de(m,b,T,U)),(b=u>-1?m[u]:null)&&he(b))}function he(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ve])ce(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(pe(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=ke(m))?(ce(b,u),b.h==0&&(b.src=null,m[Ee]=null)):re(u)}}}function pe(u){return u in be?be[u]:be[u]="on"+u}function we(u,m){if(u.da)u=!0;else{m=new ue(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&he(u),u=b.call(T,m)}return u}function ke(u){return u=u[Ee],u instanceof W?u:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xe(u){return typeof u=="function"?u:(u[We]||(u[We]=function(m){return u.handleEvent(m)}),u[We])}function Ne(){M.call(this),this.i=new W(this),this.M=this,this.G=null}S(Ne,M),Ne.prototype[ve]=!0,Ne.prototype.removeEventListener=function(u,m,b,T){me(this,u,m,b,T)};function lt(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),J(m,U)}U=!0;let B,se;if(b)for(se=b.length-1;se>=0;se--)B=m.g=b[se],U=Xt(B,T,!0,m)&&U;if(B=m.g=u,U=Xt(B,T,!0,m)&&U,U=Xt(B,T,!1,m)&&U,b)for(se=0;se<b.length;se++)B=m.g=b[se],U=Xt(B,T,!1,m)&&U}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)re(b[T]);delete u.g[m],u.h--}}this.G=null},Ne.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},Ne.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function Xt(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const se=m[B];if(se&&!se.da&&se.capture==b){const je=se.listener,Dt=se.ha||se.src;se.fa&&ce(u.i,se),U=je.call(Dt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ze(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ot(u){u.g=Ze(()=>{u.g=null,u.i&&(u.i=!1,ot(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rt extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(u){M.call(this),this.h=u,this.g={}}S(Qt,M);var ei=[];function vl(u){te(u.g,function(m,b){this.g.hasOwnProperty(b)&&he(m)},u),u.g={}}Qt.prototype.N=function(){Qt.Z.N.call(this),vl(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=d.JSON.stringify,Ph=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){O.call(this,"d")}S(tn,O);function Pn(){O.call(this,"c")}S(Pn,O);var It={},su=null;function la(){return su=su||new Ne}It.Ia="serverreachability";function ru(u){O.call(this,It.Ia,u)}S(ru,O);function yi(u){const m=la();lt(m,new ru(m))}It.STAT_EVENT="statevent";function vr(u,m){O.call(this,It.STAT_EVENT,u),this.stat=m}S(vr,O);function kt(u){const m=la();lt(m,new vr(m,u))}It.Ja="timingevent";function _i(u,m){O.call(this,It.Ja,u),this.size=m}S(_i,O);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function zh(u,m,b,T,U,B){u.info(function(){if(u.g)if(B){var se="",je=B.split("&");for(let nt=0;nt<je.length;nt++){var Dt=je[nt].split("=");if(Dt.length>1){const Tt=Dt[0];Dt=Dt[1];const Hn=Tt.split("_");se=Hn.length>=2&&Hn[1]=="type"?se+(Tt+"="+Dt+"&"):se+(Tt+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+b+`
`+se})}function au(u,m,b,T,U,B,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+b+`
`+B+" "+se})}function bi(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,b)+(T?" "+T:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}ni.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return Ts(B)}catch{return m}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function Tr(){}S(Tr,nu),Tr.prototype.g=function(){return new XMLHttpRequest},El=new Tr;function Ki(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ii(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new Qt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var jt={},$t={};function Ei(u,m,b){u.M=1,u.A=Ar(Ut(m)),u.u=b,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),Ti(u),u.B=Ut(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),fa(b.i,"t",T),u.C=0,b=u.j.L,u.h=new si,u.g=Tu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new rt(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ei[0]=U.toString()),U=ei);for(let B=0;B<U.length;B++){const se=xe(b,U[B],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}ii.prototype.ba=function(u){u=u.target;const m=this.O;m&&li(u)==3?m.j():this.Y(u)},ii.prototype.Y=function(u){try{if(u==this.g)e:{const je=li(this.g),Dt=this.g.ya(),nt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||je!=4||Dt==7||(Dt==8||nt<=0?yi(3):yi(2)),Ai(this);var m=this.g.ca();this.X=m;var b=Bh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,je,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break t}}B=null}if(u=B)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,kt(12),Cn(this),zn(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<b.length;)if(Tt=uu(this,b),Tt==$t){je==4&&(this.m=4,kt(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==jt){this.m=4,kt(15),bi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,Tt,null),Si(this,Tt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||b.length!=0||this.h.h||(this.m=1,kt(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),jl(se),se.P=!0,kt(11))}}else bi(this.i,this.l,b,null),Si(this,b);je==4&&Cn(this),this.o&&!this.K&&(je==4?_u(this.j,this):(this.o=!1,Ti(this)))}else Xi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Cn(this),zn(this)}}}catch{}finally{}};function Bh(u){if(!ou(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let b="";const T=m.length,U=li(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),zn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?$t:(b=Number(m.substring(b,T)),isNaN(b)?jt:(T+=1,T+b>m.length?$t:(m=m.slice(T,T+b),u.C=T+b,m)))}ii.prototype.cancel=function(){this.K=!0,Cn(this)};function Ti(u){u.T=Date.now()+u.H,ua(u,u.H)}function ua(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(_(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ii.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(yi(),kt(17)),Cn(this),this.m=2,zn(this)):ua(this,this.T-u)};function zn(u){u.j.I==0||u.K||_u(u.j,u)}function Cn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||wi(b.h,u))){if(!u.L&&wi(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ya(b),Is(b);else break e;Ir(b),kt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=vi(_(b.Va,b),6e3));xi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Oi(b,11)}else if((u.L||b.g==u)&&ya(b),!R(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let nt=U[m];const Tt=nt[0];if(!(Tt<=b.K))if(b.K=Tt,nt=nt[1],b.I==2)if(nt[0]=="c"){b.M=nt[1],b.ba=nt[2];const Hn=nt[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Vi=nt[4];Vi!=null&&(b.za=Vi,b.j.info("SVER="+b.za));const oi=nt[5];oi!=null&&typeof oi=="number"&&oi>0&&(T=1.5*oi,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const ui=u.g;if(ui){const Dr=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var B=T.h;B.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Sl(B,B.h),B.h=null))}if(T.G){const _a=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(T.wa=_a,ut(T.J,T.G,_a))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var se=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),se.L){xl(T.h,se);var je=se,Dt=T.O;Dt&&(je.H=Dt),je.D&&(Ai(je),Ti(je)),T.g=se}else gu(T);b.i.length>0&&Di(b)}else nt[0]!="stop"&&nt[0]!="close"||Oi(b,7);else b.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Oi(b,7):Ml(b):nt[0]!="noop"&&b.l&&b.l.qa(nt),b.A=0)}}yi(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function Tl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sl(u,m){u.g?u.g.add(m):u.h=m}function xl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Tl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return Q(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,B=null;T>=0?(U=u[b].substring(0,T),B=u[b].substring(T+1)):U=u[b],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function In(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof In?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Rl(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Zt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),As(this,m[4]),this.h=Ri(m[5]||"",!0),Rl(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}In.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Sr(m,ha,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Sr(m,ha,!0),"@"),u.push(Ki(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Sr(b,b.charAt(0)=="/"?Nl:hu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Sr(b,fu)),u.join("")},In.prototype.resolve=function(u){const m=Ut(this);let b=!!u.j;b?Zt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)As(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let se=0;se<U.length;){const je=U[se++];je=="."?T&&se==U.length&&B.push(""):je==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&se==U.length&&B.push("")):(B.push(je),T=!0)}T=B.join("/")}else T=U}return b?m.h=T:b=u.i.toString()!=="",b?Rl(m,mu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ut(u){return new In(u)}function Zt(u,m,b){u.j=b?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Rl(u,m,b){m instanceof xs?(u.i=m,da(u.i,u.l)):(b||(m=Sr(m,Ss)),u.i=new xs(m,u.l))}function ut(u,m,b){u.i.set(m,b)}function Ar(u){return ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ha=/[#\/\?@]/g,hu=/[#\?:]/g,Nl=/[#\?]/g,Ss=/[#\?@]/g,fu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=xs.prototype,s.add=function(u,m){bn(this),this.i=null,u=ws(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function du(u,m){bn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cl(u,m){return bn(u),m=ws(u,m),u.g.has(m)}s.forEach=function(u,m){bn(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Il(u,m){bn(u);let b=[];if(typeof m=="string")Cl(u,m)&&(b=b.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return bn(this),this.i=null,u=ws(this,u),Cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Il(this,u),u.length>0?String(u[0]):m):m};function fa(u,m,b){du(u,m),b.length>0&&(u.i=null,u.g.set(ws(u,m),Q(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const U=Ki(b);b=Il(this,b);for(let B=0;B<b.length;B++){let se=U;b[B]!==""&&(se+="="+Ki(b[B])),u.push(se)}}return this.i=u.join("&")};function mu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function da(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(du(this,T),fa(this,U,b))},u)),u.j=m}function ri(u,m){const b=new ni;if(d.Image){const T=new Image;T.onload=A(qn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=A(qn,b,"TestLoadImage: error",!1,m,T),T.onabort=A(qn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(qn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dl(u,m){const b=new ni,T=new AbortController,U=setTimeout(()=>{T.abort(),qn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?qn(b,"TestPingServer: ok",!0,m):qn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),qn(b,"TestPingServer: error",!1,m)})}function qn(u,m,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Rs(){this.g=new tu}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ni,nu),Ni.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,m){Ne.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(xr,Ne),s=xr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ai(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):ai(this),this.readyState==3&&ma(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ai(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return te(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function wr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Bn(b),typeof u=="string"?b!=null&&Ki(b):ut(u,m,b))}function ft(u){Ne.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ft,Ne);var Ci=/^https?$/i,Ol=["POST","PUT"];s=ft.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Rr(this,B);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ol,m,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of b)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Rr(this,B)}};function Rr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vl(u),Yi(u)}function Vl(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ft.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&li(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),li(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=B===0){let se=String(u.D).match(cu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!Ci.test(se?se.toLowerCase():"")}b=T}if(b)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var U=li(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Vl(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||lt(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function li(u){return u.g?u.g.readyState:0}s.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&li(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var b=lu(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[U]||[];m[U]=B,B.push(b)}ge(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){kt(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Di(this)};function Ml(u){if(pa(u),u.I==3){var m=u.V++,b=Ut(u.J);if(ut(b,"SID",u.M),ut(b,"RID",m),ut(b,"TYPE","terminate"),Cr(u,b),m=new ii(u,u.j,m),m.M=2,m.A=Ar(Ut(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}bu(u)}function Is(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function pa(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Al(u.h)&&!u.m){u.m=!0;var m=u.Ea;gt||x(),Ye||(gt(),Ye=!0),I.add(m,u),u.D=0}}function ga(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ii(this,this.j,u);let B=this.o;if(this.U&&(B?(B=w(B),J(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=pu(this,U,m),b=Ut(this.J),ut(b,"RID",u),ut(b,"CVER",22),this.G&&ut(b,"X-HTTP-Session-Id",this.G),Cr(this,b),B&&(this.R?m="headers="+Ki(Bn(B))+"&"+m:this.u&&wr(b,this.u,B)),Sl(this.h,U),this.Ra&&ut(b,"TYPE","init"),this.S?(ut(b,"$req",m),ut(b,"SID","null"),U.U=!0,Ei(U,b,null)):Ei(U,b,m),this.I=2}}else this.I==3&&(u?kl(this,u):this.i.length==0||Al(this.h)||kl(this))};function kl(u,m){var b;m?b=m.l:b=u.V++;const T=Ut(u.J);ut(T,"SID",u.M),ut(T,"RID",b),ut(T,"AID",u.K),Cr(u,T),u.u&&u.o&&wr(T,u.u,u.o),b=new ii(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Sl(u.h,b),Ei(b,T,m)}function Cr(u,m){u.H&&te(u.H,function(b,T){ut(m,T,b)}),u.l&&te({},function(b,T){ut(m,T,b)})}function pu(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let je=-1;for(;;){const Dt=["count="+b];je==-1?b>0?(je=U[0].g,Dt.push("ofs="+je)):je=0:Dt.push("ofs="+je);let nt=!0;for(let Tt=0;Tt<b;Tt++){var B=U[Tt].g;const Hn=U[Tt].map;if(B-=je,B<0)je=Math.max(0,U[Tt].g-100),nt=!1;else try{B="req"+B+"_"||"";try{var se=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Vi,oi]of se){let ui=oi;y(oi)&&(ui=Ts(oi)),Dt.push(B+Vi+"="+encodeURIComponent(ui))}}catch(Vi){throw Dt.push(B+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Hn)}}if(nt){se=Dt.join("&");break e}}se=void 0}return u=u.i.splice(0,b),m.G=u,se}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;gt||x(),Ye||(gt(),Ye=!0),I.add(m,u),u.A=0}}function Ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(_(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Is(this),yu(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new ii(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ut(u.na);ut(m,"RID","rpc"),ut(m,"SID",u.M),ut(m,"AID",u.K),ut(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ut(m,"TO",u.ia),ut(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&wr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Ar(Ut(m)),b.u=null,b.R=!0,oa(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Ir(this),kt(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var b=null;if(u.g==m){ya(u),jl(u),u.g=null;var T=2}else if(wi(u.h,m))b=m.G,xl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=la(),lt(T,new _i(T,b)),Di(u)}else gu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ga(u,m)||T==2&&Ir(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function vu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new In(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zt(T,"https"),Ar(T),U?ri(T.toString(),b):Dl(T.toString(),b)}else kt(2);u.I=0,u.l&&u.l.pa(m),bu(u),pa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=wl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,b){var T=b instanceof In?Ut(b):new In(b);if(T.g!="")m&&(T.g=m+"."+T.g),As(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new In(null);T&&Zt(B,T),m&&(B.g=m),U&&As(B,U),b&&(B.h=b),T=B}return b=u.G,m=u.wa,b&&m&&ut(T,b,m),ut(T,"VER",u.ka),Cr(u,T),T}function Tu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ft(new Ni({ab:b})):new ft(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){Ne.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}S(yn,Ne),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ml(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Ts(u),u=b);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Di(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,yn.Z.N.call(this)};function Su(u){tn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,tn);function xu(){Pn.call(this),this.status=1}S(xu,Pn);function $i(u){this.g=u}S($i,Au),$i.prototype.ra=function(){lt(this.g,"a")},$i.prototype.qa=function(u){lt(this.g,new Su(u))},$i.prototype.pa=function(u){lt(this.g,new xu)},$i.prototype.oa=function(){lt(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,yb=function(){return new Ds},gb=function(){return la()},pb=It,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,Uc=Er,bl.COMPLETE="complete",mb=bl,iu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,Ao=iu,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,db=ft}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",D_="4.9.2";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let dl="12.3.0";const na=new km("@firebase/firestore");function Xa(){return na.logLevel}function le(s,...e){if(na.logLevel<=Fe.DEBUG){const i=e.map(Um);na.debug(`Firestore (${dl}): ${s}`,...i)}}function ys(s,...e){if(na.logLevel<=Fe.ERROR){const i=e.map(Um);na.error(`Firestore (${dl}): ${s}`,...i)}}function sl(s,...e){if(na.logLevel<=Fe.WARN){const i=e.map(Um);na.warn(`Firestore (${dl}): ${s}`,...i)}}function Um(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Re(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,_b(s,r,i)}function _b(s,e,i){let r=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ys(r),new Error(r)}function at(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||_b(e,o,r)}function Me(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ps{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class vb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class o2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class u2{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let c=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ps,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ps)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new vb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class c2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new c2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function d2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=d2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Ge(s,e){return s<e?-1:s>e?1:0}function mm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Zd(o)===Zd(c)?Ge(o,c):Zd(o)?1:-1}return Ge(s.length,e.length)}const m2=55296,p2=57343;function Zd(s){const e=s.charCodeAt(0);return e>=m2&&e<=p2}function rl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const V_="__name__";class Pi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Re(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Re(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Pi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const r=Pi.isNumericId(e),o=Pi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class _t extends Pi{construct(e,i,r){return new _t(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new _t(i)}static emptyPath(){return new _t([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Pi{construct(e,i,r){return new cn(e,i,r)}static isValidIdentifier(e){return g2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new cn([V_])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(c(),o++)}if(c(),d)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(_t.fromString(e))}static fromName(e){return new _e(_t.fromString(e).popFirst(5))}static empty(){return new _e(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return _t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new _t(e.slice()))}}function bb(s,e,i){if(!i)throw new ae(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function y2(s,e,i,r){if(e===!0&&r===!0)throw new ae(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function M_(s){if(!_e.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function k_(s){if(_e.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Eb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ph(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re(12329,{type:typeof s})}function Nn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ph(s);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Go(s,e){if(!Eb(s))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ae(X.INVALID_ARGUMENT,i);return!0}const j_=-62135596800,L_=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*L_);return new Et(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<j_)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Go(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Gt("string",Et._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Et(0,0))}static max(){return new De(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function _2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new Et(i+1,0):new Et(i,r));return new cr(o,_e.empty(),e)}function v2(s){return new cr(s.readTime,s.key,ko)}class cr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new cr(De.min(),_e.empty(),ko)}static max(){return new cr(De.max(),_e.empty(),ko)}}function b2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==E2)throw s;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(v=>r(v)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const c=e.length,d=new Array(c);let y=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===c&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function A2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function pl(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const zm=-1;function yh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function S2(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Tb="";function x2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=U_(e)),e=w2(s.get(i),e);return U_(e)}function w2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Tb:i+="";break;default:i+=c}}return i}function U_(s){return s+Tb+""}function P_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function gr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Ab(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new on(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Yt(this.comparator);return i.data=e,i}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Yt(cn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Sb("Invalid base64 string: "+c):c}})(e);return new hn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new hn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(at(!!s,39018),typeof s=="string"){let e=0;const i=R2.exec(s);if(at(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(s.seconds),nanos:Mt(s.nanos)}}function Mt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function fr(s){return typeof s=="string"?hn.fromBase64String(s):hn.fromUint8Array(s)}const xb="server_timestamp",wb="__type__",Rb="__previous_value__",Nb="__local_write_time__";function qm(s){return(s?.mapValue?.fields||{})[wb]?.stringValue===xb}function _h(s){const e=s.mapValue.fields[Rb];return qm(e)?_h(e):e}function jo(s){const e=hr(s.mapValue.fields[Nb].timestampValue);return new Et(e.seconds,e.nanos)}class N2{constructor(e,i,r,o,c,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Zc="(default)";class Lo{constructor(e,i){this.projectId=e,this.database=i||Zc}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const Cb="__type__",C2="__max__",Vc={mapValue:{}},Ib="__vector__",Jc="value";function dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qm(s)?4:D2(s)?9007199254740991:I2(s)?10:11:Re(28295,{value:s})}function Gi(s,e){if(s===e)return!0;const i=dr(s);if(i!==dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jo(s).isEqual(jo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=hr(o.timestampValue),y=hr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return fr(o.bytesValue).isEqual(fr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Mt(o.geoPointValue.latitude)===Mt(c.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Mt(o.integerValue)===Mt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Mt(o.doubleValue),y=Mt(c.doubleValue);return d===y?$c(d)===$c(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return rl(s.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(P_(d)!==P_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Gi(d[v],y[v])))return!1;return!0})(s,e);default:return Re(52216,{left:s})}}function Uo(s,e){return(s.values||[]).find((i=>Gi(i,e)))!==void 0}function al(s,e){if(s===e)return 0;const i=dr(s),r=dr(e);if(i!==r)return Ge(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Mt(c.integerValue||c.doubleValue),v=Mt(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return q_(s.timestampValue,e.timestampValue);case 4:return q_(jo(s),jo(e));case 5:return mm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=fr(c),v=fr(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Ge(y[_],v[_]);if(A!==0)return A}return Ge(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ge(Mt(c.latitude),Mt(d.latitude));return y!==0?y:Ge(Mt(c.longitude),Mt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return B_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},v=d.fields||{},_=y[Jc]?.arrayValue,A=v[Jc]?.arrayValue,S=Ge(_?.values?.length||0,A?.values?.length||0);return S!==0?S:B_(_,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const V=mm(v[S],A[S]);if(V!==0)return V;const Q=al(y[v[S]],_[A[S]]);if(Q!==0)return Q}return Ge(v.length,A.length)})(s.mapValue,e.mapValue);default:throw Re(23264,{he:i})}}function q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=hr(s),r=hr(e),o=Ge(i.seconds,r.seconds);return o!==0?o:Ge(i.nanos,r.nanos)}function B_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=al(i[o],r[o]);if(c)return c}return Ge(i.length,r.length)}function ll(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=hr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return fr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=pm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${pm(i.fields[d])}`;return o+"}"})(s.mapValue):Re(61005,{value:s})}function Pc(s){switch(dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(s);return e?16+Pc(e):16;case 5:return 2*s.stringValue.length;case 6:return fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return gr(r.fields,((c,d)=>{o+=c.length+Pc(d)})),o})(s.mapValue);default:throw Re(13486,{value:s})}}function H_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function gm(s){return!!s&&"integerValue"in s}function Bm(s){return!!s&&"arrayValue"in s}function F_(s){return!!s&&"nullValue"in s}function G_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function I2(s){return(s?.mapValue?.fields||{})[Cb]?.stringValue===Ib}function Co(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return gr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Co(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Co(s.arrayValue.values[i]);return e}return{...s}}function D2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===C2}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!zc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(i)}setAll(e){let i=cn.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Co(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){gr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Rn(Co(this.value))}}function Db(s){const e=[];return gr(s.fields,((i,r)=>{const o=new cn([i]);if(zc(r)){const c=Db(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Un(e)}class pn{constructor(e,i,r,o,c,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new pn(e,0,De.min(),De.min(),De.min(),Rn.empty(),0)}static newFoundDocument(e,i,r,o){return new pn(e,1,i,De.min(),r,o,0)}static newNoDocument(e,i){return new pn(e,2,i,De.min(),De.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,De.min(),De.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(e,i){this.position=e,this.inclusive=i}}function Q_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=al(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function K_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],e.position[i]))return!1;return!0}class Po{constructor(e,i="asc"){this.field=e,this.dir=i}}function O2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Ob{}class Ft extends Ob{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new M2(e,i,r):i==="array-contains"?new L2(e,r):i==="in"?new U2(e,r):i==="not-in"?new P2(e,r):i==="array-contains-any"?new z2(e,r):new Ft(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new k2(e,r):new j2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(al(i,this.value)):i!==null&&dr(this.value)===dr(i)&&this.matchesComparison(al(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends Ob{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new gi(e,i)}matches(e){return Vb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vb(s){return s.op==="and"}function Mb(s){return V2(s)&&Vb(s)}function V2(s){for(const e of s.filters)if(e instanceof gi)return!1;return!0}function ym(s){if(s instanceof Ft)return s.field.canonicalString()+s.op.toString()+ll(s.value);if(Mb(s))return s.filters.map((e=>ym(e))).join(",");{const e=s.filters.map((i=>ym(i))).join(",");return`${s.op}(${e})`}}function kb(s,e){return s instanceof Ft?(function(r,o){return o instanceof Ft&&r.op===o.op&&r.field.isEqual(o.field)&&Gi(r.value,o.value)})(s,e):s instanceof gi?(function(r,o){return o instanceof gi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,y)=>c&&kb(d,o.filters[y])),!0):!1})(s,e):void Re(19439)}function jb(s){return s instanceof Ft?(function(i){return`${i.field.canonicalString()} ${i.op} ${ll(i.value)}`})(s):s instanceof gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(jb).join(" ,")+"}"})(s):"Filter"}class M2 extends Ft{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class k2 extends Ft{constructor(e,i){super(e,"in",i),this.keys=Lb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class j2 extends Ft{constructor(e,i){super(e,"not-in",i),this.keys=Lb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Lb(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class L2 extends Ft{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Bm(i)&&Uo(i.arrayValue,this.value)}}class U2 extends Ft{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Uo(this.value.arrayValue,i)}}class P2 extends Ft{constructor(e,i){super(e,"not-in",i)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Uo(this.value.arrayValue,i)}}class z2 extends Ft{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Uo(this.value.arrayValue,r)))}}class q2{constructor(e,i=null,r=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function Y_(s,e=null,i=[],r=[],o=null,c=null,d=null){return new q2(s,e,i,r,o,c,d)}function Hm(s){const e=Me(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>ym(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),yh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ll(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ll(r))).join(",")),e.Te=i}return e.Te}function Fm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!O2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!kb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!K_(s.startAt,e.startAt)&&K_(s.endAt,e.endAt)}function _m(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class gl{constructor(e,i=null,r=[],o=[],c=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B2(s,e,i,r,o,c,d,y){return new gl(s,e,i,r,o,c,d,y)}function vh(s){return new gl(s)}function X_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Ub(s){return s.collectionGroup!==null}function Io(s){const e=Me(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Yt(cn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Po(c,r))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new Po(cn.keyField(),r))}return e.Ie}function zi(s){const e=Me(s);return e.Ee||(e.Ee=H2(e,Io(s))),e.Ee}function H2(s,e){if(s.limitType==="F")return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Po(o.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return Y_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function vm(s,e){const i=s.filters.concat([e]);return new gl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function bm(s,e,i){return new gl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function bh(s,e){return Fm(zi(s),zi(e))&&s.limitType===e.limitType}function Pb(s){return`${Hm(zi(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>jb(o))).join(", ")}]`),yh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>ll(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>ll(o))).join(",")),`Target(${r})`})(zi(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Io(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=Q_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Io(r),o)||r.endAt&&!(function(d,y,v){const _=Q_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Io(r),o))})(s,e)}function F2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function zb(s){return(e,i)=>{let r=!1;for(const o of Io(s)){const c=G2(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function G2(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,y){const v=d.data.field(c),_=y.data.field(c);return v!==null&&_!==null?al(v,_):Re(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:s.dir})}}class ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Ab(this.inner)}size(){return this.innerSize}}const Q2=new St(_e.comparator);function _s(){return Q2}const qb=new St(_e.comparator);function So(...s){let e=qb;for(const i of s)e=e.insert(i.key,i);return e}function Bb(s){let e=qb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Xr(){return Do()}function Hb(){return Do()}function Do(){return new ra((s=>s.toString()),((s,e)=>s.isEqual(e)))}const K2=new St(_e.comparator),Y2=new Yt(_e.comparator);function Qe(...s){let e=Y2;for(const i of s)e=e.add(i);return e}const X2=new Yt(Ge);function $2(){return X2}function Gm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function Fb(s){return{integerValue:""+s}}function Z2(s,e){return S2(e)?Fb(e):Gm(s,e)}class Th{constructor(){this._=void 0}}function J2(s,e,i){return s instanceof eh?(function(o,c){const d={fields:{[wb]:{stringValue:xb},[Nb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qm(c)&&(c=_h(c)),c&&(d.fields[Rb]=c),{mapValue:d}})(i,e):s instanceof zo?Qb(s,e):s instanceof qo?Kb(s,e):(function(o,c){const d=Gb(o,c),y=$_(d)+$_(o.Ae);return gm(d)&&gm(o.Ae)?Fb(y):Gm(o.serializer,y)})(s,e)}function W2(s,e,i){return s instanceof zo?Qb(s,e):s instanceof qo?Kb(s,e):i}function Gb(s,e){return s instanceof th?(function(r){return gm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class eh extends Th{}class zo extends Th{constructor(e){super(),this.elements=e}}function Qb(s,e){const i=Yb(e);for(const r of s.elements)i.some((o=>Gi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class qo extends Th{constructor(e){super(),this.elements=e}}function Kb(s,e){let i=Yb(e);for(const r of s.elements)i=i.filter((o=>!Gi(o,r)));return{arrayValue:{values:i}}}class th extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $_(s){return Mt(s.integerValue||s.doubleValue)}function Yb(s){return Bm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ew(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof zo&&o instanceof zo||r instanceof qo&&o instanceof qo?rl(r.elements,o.elements,Gi):r instanceof th&&o instanceof th?Gi(r.Ae,o.Ae):r instanceof eh&&o instanceof eh})(s.transform,e.transform)}class tw{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ah{}function Xb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Qm(s.key,Wn.none()):new Qo(s.key,s.data,Wn.none());{const i=s.data,r=Rn.empty();let o=new Yt(cn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new yr(s.key,r,new Un(o.toArray()),Wn.none())}}function nw(s,e,i){s instanceof Qo?(function(o,c,d){const y=o.value.clone(),v=J_(o.fieldTransforms,c,d.transformResults);y.setAll(v),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof yr?(function(o,c,d){if(!qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=J_(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll($b(o)),v.setAll(y),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Oo(s,e,i,r){return s instanceof Qo?(function(c,d,y,v){if(!qc(c.precondition,d))return y;const _=c.value.clone(),A=W_(c.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof yr?(function(c,d,y,v){if(!qc(c.precondition,d))return y;const _=W_(c.fieldTransforms,v,d),A=d.data;return A.setAll($b(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,y){return qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function iw(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=Gb(r.transform,o||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(r.field,c))}return i||null}function Z_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&rl(r,o,((c,d)=>ew(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Qo extends Ah{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends Ah{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $b(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function J_(s,e,i){const r=new Map;at(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);r.set(c.field,W2(d,y,i[o]))}return r}function W_(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,J2(c,d,e))}return r}class Qm extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sw extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rw{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&nw(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Oo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Oo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Hb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const v=Xb(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,((i,r)=>Z_(i,r)))&&rl(this.baseMutations,e.baseMutations,((i,r)=>Z_(i,r)))}}class Km{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return K2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Km(e,i,r,o)}}class aw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class lw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Je;function ow(s){switch(s){case X.OK:return Re(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Re(15467,{code:s})}}function Zb(s){if(s===void 0)return ys("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ht.OK:return X.OK;case Ht.CANCELLED:return X.CANCELLED;case Ht.UNKNOWN:return X.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return X.INTERNAL;case Ht.UNAVAILABLE:return X.UNAVAILABLE;case Ht.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ht.NOT_FOUND:return X.NOT_FOUND;case Ht.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ht.ABORTED:return X.ABORTED;case Ht.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ht.DATA_LOSS:return X.DATA_LOSS;default:return Re(39323,{code:s})}}(Je=Ht||(Ht={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function uw(){return new TextEncoder}const cw=new or([4294967295,4294967295],0);function ev(s){const e=uw().encode(s),i=new fb;return i.update(e),new Uint8Array(i.digest())}function tv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new or([i,r],0),new or([o,c],0)]}class Ym{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new xo(`Invalid padding: ${i}`);if(r<0)throw new xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new xo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=or.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(or.fromNumber(r)));return o.compare(cw)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ev(e),[r,o]=tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ym(c,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=ev(e),[r,o]=tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Sh(De.min(),o,new St(Ge),_s(),Qe())}}class Ko{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Ko(r,i,Qe(),Qe(),Qe())}}class Bc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Jb{constructor(e,i){this.targetId=e,this.Ce=i}}class Wb{constructor(e,i,r=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class nv{constructor(){this.ve=0,this.Fe=iv(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),r=Qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:c})}})),new Ko(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=iv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hw{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.Je=Mc(),this.He=Mc(),this.Ye=new St(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(_m(c))if(r===0){const d=new _e(c.path);this.et(i,d,pn.newNoDocument(d,De.min()))}else at(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=fr(r).toUint8Array()}catch(v){if(v instanceof Sb)return sl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Ym(d,o,c)}catch(v){return sl(v instanceof xo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&_m(y.target)){const v=new _e(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,pn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Qe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Sh(e,i,this.Ye,this.je,r);return this.je=_s(),this.Je=Mc(),this.He=Mc(),this.Ye=new St(Ge),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new nv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Yt(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Yt(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new St(_e.comparator)}function iv(){return new St(_e.comparator)}const fw={asc:"ASCENDING",desc:"DESCENDING"},dw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mw={and:"AND",or:"OR"};class pw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Em(s,e){return s.useProto3Json||yh(e)?e:{value:e}}function nh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function gw(s,e){return nh(s,e.toTimestamp())}function qi(s){return at(!!s,49232),De.fromTimestamp((function(i){const r=hr(i);return new Et(r.seconds,r.nanos)})(s))}function Xm(s,e){return Tm(s,e).canonicalString()}function Tm(s,e){const i=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function t1(s){const e=_t.fromString(s);return at(a1(e),10190,{key:e.toString()}),e}function Am(s,e){return Xm(s.databaseId,e.path)}function Jd(s,e){const i=t1(e);if(i.get(1)!==s.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(i1(i))}function n1(s,e){return Xm(s.databaseId,e)}function yw(s){const e=t1(s);return e.length===4?_t.emptyPath():i1(e)}function Sm(s){return new _t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function i1(s){return at(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function sv(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function _w(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Re(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(at(A===void 0||typeof A=="string",58123),hn.fromBase64String(A||"")):(at(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),hn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:Zb(_.code);return new ae(A,_.message||"")})(d);i=new Wb(r,o,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jd(s,r.document.name),c=qi(r.document.updateTime),d=r.document.createTime?qi(r.document.createTime):De.min(),y=new Rn({mapValue:{fields:r.document.fields}}),v=pn.newFoundDocument(o,c,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Bc(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Jd(s,r.document),c=r.readTime?qi(r.readTime):De.min(),d=pn.newNoDocument(o,c),y=r.removedTargetIds||[];i=new Bc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Jd(s,r.document),c=r.removedTargetIds||[];i=new Bc([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new lw(o,c),y=r.targetId;i=new Jb(y,d)}}return i}function vw(s,e){let i;if(e instanceof Qo)i={update:sv(s,e.key,e.value)};else if(e instanceof Qm)i={delete:Am(s,e.key)};else if(e instanceof yr)i={update:sv(s,e.key,e.data),updateMask:Nw(e.fieldMask)};else{if(!(e instanceof sw))return Re(16599,{Vt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const y=d.transform;if(y instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof qo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof th)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Re(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:gw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)})(s,e.precondition)),i}function bw(s,e){return s&&s.length>0?(at(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?qi(o.updateTime):qi(c);return d.isEqual(De.min())&&(d=qi(c)),new tw(d,o.transformResults||[])})(i,e)))):[]}function Ew(s,e){return{documents:[n1(s,e.path)]}}function Tw(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=n1(s,o);const c=(function(_){if(_.length!==0)return r1(gi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:Za(V.field),direction:xw(V.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Em(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Aw(s){let e=yw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){at(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=s1(S);return V instanceof gi&&Mb(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(ee){return new Po(Ja(ee.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(V)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let V;return V=typeof S=="object"?S.value:S,yh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(S){const V=!!S.before,Q=S.values||[];return new Wc(Q,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,Q=S.values||[];return new Wc(Q,V)})(i.endAt)),B2(e,o,d,c,y,"F",v,_)}function Sw(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function s1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ja(i.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(i.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ja(i.unaryFilter.field);return Ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ja(i.unaryFilter.field);return Ft.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ft.create(Ja(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return gi.create(i.compositeFilter.filters.map((r=>s1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(i.compositeFilter.op))})(s):Re(30097,{filter:s})}function xw(s){return fw[s]}function ww(s){return dw[s]}function Rw(s){return mw[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Ja(s){return cn.fromServerFormat(s.fieldPath)}function r1(s){return s instanceof Ft?(function(i){if(i.op==="=="){if(G_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(i.field),op:ww(i.op),value:i.value}}})(s):s instanceof gi?(function(i){const r=i.getFilters().map((o=>r1(o)));return r.length===1?r[0]:{compositeFilter:{op:Rw(i.op),filters:r}}})(s):Re(54877,{filter:s})}function Nw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function a1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class sr{constructor(e,i,r,o,c=De.min(),d=De.min(),y=hn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cw{constructor(e){this.yt=e}}function Iw(s){const e=Aw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(e,e.limit,"L"):e}class Dw{constructor(){this.Cn=new Ow}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(cr.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Ow{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Yt(_t.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Yt(_t.comparator)).toArray()}}const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l1=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(l1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const av="LruGarbageCollector",Vw=1048576;function lv([s,e],[i,r]){const o=Ge(s,i);return o===0?Ge(e,r):o}class Mw{constructor(e){this.Ir=e,this.buffer=new Yt(lv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();lv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class kw{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(av,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){pl(i)?le(av,"Ignoring IndexedDB error during garbage collection: ",i):await ml(i)}await this.Vr(3e5)}))}}class jw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(gh.ce);const r=new Mw(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(rv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,y=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),Xa()<=Fe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function Lw(s,e){return new jw(s,e)}class Uw{constructor(){this.changes=new ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Pw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class zw{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Oo(r.mutation,o,Un.empty(),Et.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Qe()){const o=Xr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=So();return c.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Xr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Qe())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let c=_s();const d=Do(),y=(function(){return Do()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof yr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Oo(A.mutation,_,A.mutation.getFieldMask(),Et.now())):d.set(_.key,Un.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new Pw(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Do();let o=new St(((d,y)=>d-y)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||Un.empty();A=y.applyToLocalView(_,A),r.set(v,A);const S=(o.get(y.batchId)||Qe()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,S=Hb();A.forEach((V=>{if(!c.has(V)){const Q=Xb(i.get(V),r.get(V));Q!==null&&S.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Ub(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):Z.resolve(Xr());let y=ko,v=c;return d.next((_=>Z.forEach(_,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Qe()))).next((A=>({batchId:y,changes:Bb(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let o=So();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=So();return this.indexManager.getCollectionParents(e,c).next((y=>Z.forEach(y,(v=>{const _=(function(S,V){return new gl(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,pn.newInvalidDocument(A)))}));let y=So();return d.forEach(((v,_)=>{const A=c.get(v);A!==void 0&&Oo(A.mutation,_,Un.empty(),Et.now()),Eh(i,_)&&(y=y.insert(v,_))})),y}))}}class qw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Iw(o.bundledQuery),readTime:qi(o.readTime)}})(i)),Z.resolve()}}class Bw{constructor(){this.overlays=new St(_e.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Xr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=Xr(),c=i.length+1,d=new _e(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new St(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=Xr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=Xr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new aw(i,r));let c=this.qr.get(i);c===void 0&&(c=Qe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class Hw{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class $m{constructor(){this.Qr=new Yt(Wt.$r),this.Ur=new Yt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Wt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Wt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _e(new _t([])),r=new Wt(i,e),o=new Wt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new _t([])),r=new Wt(i,e),o=new Wt(i,e+1);let c=Qe();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class Fw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Wt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new rw(c,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Wt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Yt(Ge);return i.forEach((o=>{const c=new Wt(o,0),d=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{r=r.add(y.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new _e(c),0);let y=new Yt(Ge);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Wt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Wt(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Gw{constructor(e){this.ri=e,this.docs=(function(){return new St(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let r=_s();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=_s();const d=i.path,y=new _e(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||b2(v2(A),r)<=0||(o.has(A.key)||Eh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Re(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Qw(this)}getSize(e){return Z.resolve(this.size)}}class Qw extends Uw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Kw{constructor(e){this.persistence=e,this.si=new ra((i=>Hm(i)),Fm),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ol(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class o1{constructor(e,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new Hw,this.referenceDelegate=e(this),this.Pi=new Kw(this),this.indexManager=new Dw,this.remoteDocumentCache=(function(o){return new Gw(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Cw(i),this.Ii=new qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Bw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Fw(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){le("MemoryPersistence","Starting transaction:",e);const o=new Yw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Yw extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=_e.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ih{constructor(e,i){this.persistence=e,this.pi=new ra((r=>x2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Lw(this,i)}static mi(e,i){return new ih(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,c.removeEntry(d,De.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Pc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Qe(),o=Qe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jm(e,i.fromCache,r,o)}}class Xw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $w{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:A2(gn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Xw;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(Xa()<=Fe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Xa()<=Fe.DEBUG&&le("QueryEngine","Query:",$a(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Xa()<=Fe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):Z.resolve())}ys(e,i){if(X_(i))return Z.resolve(null);let r=zi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bm(i,null,"F"),r=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Qe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,bm(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return X_(i)||o.isEqual(De.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?Z.resolve(null):(Xa()<=Fe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(i)),this.vs(e,d,i,_2(o,ko)).next((y=>y)))}))}Ds(e,i){let r=new Yt(zb(e));return i.forEach(((o,c)=>{Eh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return Xa()<=Fe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",$a(i)),this.ps.getDocumentsMatchingQuery(e,i,cr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",Zw=3e8;class Jw{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new St(Ge),this.xs=new ra((c=>Hm(c)),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Ww(s,e,i,r){return new Jw(s,e,i,r)}async function u1(s,e){const i=Me(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],y=[];let v=Qe();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function eR(s,e){const i=Me(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const S=_.batch,V=S.keys();let Q=Z.resolve();return V.forEach((ee=>{Q=Q.next((()=>A.getEntry(v,ee))).next((ie=>{const ne=_.docVersions.get(ee);at(ne!==null,48541),ie.version.compareTo(ne)<0&&(S.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),A.addEntry(ie)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Qe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function c1(s){const e=Me(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function tR(s,e){const i=Me(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,S)=>{const V=o.get(S);if(!V)return;y.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(hn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),o=o.insert(S,Q),(function(ie,ne,Te){return ie.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=Zw?!0:Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0})(V,Q,A)&&y.push(i.Pi.updateTargetData(c,Q))}));let v=_s(),_=Qe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(nR(c,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(De.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(A)}return Z.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function nR(s,e,i){let r=Qe(),o=Qe();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=_s();return i.forEach(((y,v)=>{const _=c.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(De.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):le(Wm,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function iR(s,e){const i=Me(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sR(s,e){const i=Me(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new sr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function xm(s,e,i){const r=Me(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!pl(d))throw d;le(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function ov(s,e,i){const r=Me(s);let o=De.min(),c=Qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=Me(v),V=S.xs.get(A);return V!==void 0?Z.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,A)})(r,d,zi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:De.min(),i?c:Qe()))).next((y=>(rR(r,F2(e),y),{documents:y,Qs:c})))))}function rR(s,e,i){let r=s.Os.get(e)||De.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class uv{constructor(){this.activeTargetIds=$2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aR{constructor(){this.Mo=new uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lR{Oo(e){}shutdown(){}}const cv="ConnectivityMonitor";class hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(cv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function wm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Wd="RestConnection",oR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=wm(),y=this.zo(e,i.toUriEncodedString());le(Wd,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(y),A=hl(_);return this.Jo(e,y,v,r,A).then((S=>(le(Wd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw sl(Wd,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",r),S}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=oR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class cR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class hR extends uR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=wm();return new Promise(((y,v)=>{const _=new db;_.setWithCredentials(!0),_.listenOnce(mb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const S=_.getResponseJson();le(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Uc.TIMEOUT:le(dn,`RPC '${e}' ${d} timed out`),v(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const V=_.getStatus();if(le(dn,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ee=Q?.error;if(ee&&ee.status&&ee.message){const ie=(function(Te){const Oe=Te.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Oe)>=0?Oe:X.UNKNOWN})(ee.status);v(new ae(ie,ee.message))}else v(new ae(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ae(X.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(dn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);le(dn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yb(),y=gb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=c.join("");le(dn,`Creating RPC '${e}' stream ${o}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let V=!1,Q=!1;const ee=new cR({Yo:ne=>{Q?le(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(V||(le(dn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),V=!0),le(dn,`RPC '${e}' stream ${o} sending:`,ne),S.send(ne))},Zo:()=>S.close()}),ie=(ne,Te,Oe)=>{ne.listen(Te,(Se=>{try{Oe(Se)}catch(st){setTimeout((()=>{throw st}),0)}}))};return ie(S,Ao.EventType.OPEN,(()=>{Q||(le(dn,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),ie(S,Ao.EventType.CLOSE,(()=>{Q||(Q=!0,le(dn,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(S))})),ie(S,Ao.EventType.ERROR,(ne=>{Q||(Q=!0,sl(dn,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),ee.a_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),ie(S,Ao.EventType.MESSAGE,(ne=>{if(!Q){const Te=ne.data[0];at(!!Te,16349);const Oe=Te,Se=Oe?.error||Oe[0]?.error;if(Se){le(dn,`RPC '${e}' stream ${o} received error:`,Se);const st=Se.status;let gt=(function(x){const C=Ht[x];if(C!==void 0)return Zb(C)})(st),Ye=Se.message;gt===void 0&&(gt=X.INTERNAL,Ye="Unknown error status: "+st+" with message "+Se.message),Q=!0,ee.a_(new ae(gt,Ye)),S.close()}else le(dn,`RPC '${e}' stream ${o} received:`,Te),ee.u_(Te)}})),ie(y,pb.STAT_EVENT,(ne=>{ne.stat===dm.PROXY?le(dn,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===dm.NOPROXY&&le(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function em(){return typeof document<"u"?document:null}function xh(s){return new pw(s,!0)}class h1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const fv="PersistentStream";class f1{constructor(e,i,r,o,c,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fR extends f1{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=_w(this.serializer,e),r=(function(c){if(!("targetChange"in c))return De.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?De.min():d.readTime?qi(d.readTime):De.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let y;const v=d.target;if(y=_m(v)?{documents:Ew(c,v)}:{query:Tw(c,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=e1(c,d.resumeToken);const _=Em(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(De.min())>0){y.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=Em(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=Sw(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Sm(this.serializer),i.removeTarget=e,this.q_(i)}}class dR extends f1{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=bw(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Sm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>vw(this.serializer,r)))};this.q_(i)}}class mR{}class pR extends mR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Tm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(X.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Tm(i,r),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class yR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{aa(this)&&(le(ia,"Restarting streams for network reachability change."),await(async function(v){const _=Me(v);_.Ea.add(4),await Yo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Ra=new gR(r,o)}}async function wh(s){if(aa(s))for(const e of s.da)await e(!0)}async function Yo(s){for(const e of s.da)await e(!1)}function d1(s,e){const i=Me(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ip(i)?np(i):yl(i).O_()&&tp(i,e))}function ep(s,e){const i=Me(s),r=yl(i);i.Ia.delete(e),r.O_()&&m1(i,e),i.Ia.size===0&&(r.O_()?r.L_():aa(i)&&i.Ra.set("Unknown"))}function tp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}yl(s).Y_(e)}function m1(s,e){s.Va.Ue(e),yl(s).Z_(e)}function np(s){s.Va=new hw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),yl(s).start(),s.Ra.ua()}function ip(s){return aa(s)&&!yl(s).x_()&&s.Ia.size>0}function aa(s){return Me(s).Ea.size===0}function p1(s){s.Va=void 0}async function _R(s){s.Ra.set("Online")}async function vR(s){s.Ia.forEach(((e,i)=>{tp(s,e)}))}async function bR(s,e){p1(s),ip(s)?(s.Ra.ha(e),np(s)):s.Ra.set("Unknown")}async function ER(s,e,i){if(s.Ra.set("Online"),e instanceof Wb&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){le(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(s,r)}else if(e instanceof Bc?s.Va.Ze(e):e instanceof Jb?s.Va.st(e):s.Va.tt(e),!i.isEqual(De.min()))try{const r=await c1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(hn.EMPTY_BYTE_STRING,A.snapshotVersion)),m1(c,v);const S=new sr(A.target,v,_,A.sequenceNumber);tp(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){le(ia,"Failed to raise snapshot:",r),await sh(s,r)}}async function sh(s,e,i){if(!pl(e))throw e;s.Ea.add(1),await Yo(s),s.Ra.set("Offline"),i||(i=()=>c1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function g1(s,e){return e().catch((i=>sh(s,i,e)))}async function Rh(s){const e=Me(s),i=mr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zm;for(;TR(e);)try{const o=await iR(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,AR(e,o)}catch(o){await sh(e,o)}y1(e)&&_1(e)}function TR(s){return aa(s)&&s.Ta.length<10}function AR(s,e){s.Ta.push(e);const i=mr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function y1(s){return aa(s)&&!mr(s).x_()&&s.Ta.length>0}function _1(s){mr(s).start()}async function SR(s){mr(s).ra()}async function xR(s){const e=mr(s);for(const i of s.Ta)e.ea(i.mutations)}async function wR(s,e,i){const r=s.Ta.shift(),o=Km.from(r,e,i);await g1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Rh(s)}async function RR(s,e){e&&mr(s).X_&&await(async function(r,o){if((function(d){return ow(d)&&d!==X.ABORTED})(o.code)){const c=r.Ta.shift();mr(r).B_(),await g1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(r)}})(s,e),y1(s)&&_1(s)}async function dv(s,e){const i=Me(s);i.asyncQueue.verifyOperationInProgress(),le(ia,"RemoteStore received new credentials");const r=aa(i);i.Ea.add(3),await Yo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function NR(s,e){const i=Me(s);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await Yo(i),i.Ra.set("Unknown"))}function yl(s){return s.ma||(s.ma=(function(i,r,o){const c=Me(i);return c.sa(),new fR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:_R.bind(null,s),t_:vR.bind(null,s),r_:bR.bind(null,s),H_:ER.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ip(s)?np(s):s.Ra.set("Unknown")):(await s.ma.stop(),p1(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(i,r,o){const c=Me(i);return c.sa(),new dR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:SR.bind(null,s),r_:RR.bind(null,s),ta:xR.bind(null,s),na:wR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Rh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class sp{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,y=new sp(e,i,d,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(s,e){if(ys("AsyncQueue",`${e}: ${s}`),pl(s))return new ae(X.UNAVAILABLE,`${e}: ${s}`);throw s}class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=So(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class mv{constructor(){this.ga=new St(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class ul{constructor(e,i,r,o,c,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new ul(e,i,Wa.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class CR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IR{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Me(i),c=o.queries;o.queries=pv(),c.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function pv(){return new ra((s=>Pb(s)),bh)}async function ap(s,e){const i=Me(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new CR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=rp(d,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&op(i)}async function lp(s,e){const i=Me(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function DR(s,e){const i=Me(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&op(i)}function OR(s,e,i){const r=Me(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function op(s){s.Ca.forEach((e=>{e.next()}))}var Rm,gv;(gv=Rm||(Rm={})).Ma="default",gv.Cache="cache";class up{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}class v1{constructor(e){this.key=e}}class b1{constructor(e){this.key=e}}class VR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=zb(e),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new mv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,S)=>{const V=o.get(A),Q=Eh(this.query,S)?S:null,ee=!!V&&this.mutatedKeys.has(V.key),ie=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ne=!1;V&&Q?V.data.isEqual(Q.data)?ee!==ie&&(r.track({type:3,doc:Q}),ne=!0):this.su(V,Q)||(r.track({type:2,doc:Q}),ne=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!V&&Q?(r.track({type:0,doc:Q}),ne=!0):V&&!Q&&(r.track({type:1,doc:V}),ne=!0,(v||_)&&(y=!0)),ne&&(Q?(d=d.add(Q),c=ie?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Q,ee){const ie=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:ne})}};return ie(Q)-ie(ee)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new ul(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new b1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new v1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class MR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class kR{constructor(e){this.key=e,this.hu=!1}}class jR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ra((y=>Pb(y)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new St(_e.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LR(s,e,i=!0){const r=w1(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await E1(r,e,i,!0),o}async function UR(s,e){const i=w1(s);await E1(i,e,!0,!1)}async function E1(s,e,i,r){const o=await sR(s.localStore,zi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return r&&(y=await PR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&d1(s.remoteStore,o),y}async function PR(s,e,i,r,o){s.pu=(S,V,Q)=>(async function(ie,ne,Te,Oe){let Se=ne.view.ru(Te);Se.Cs&&(Se=await ov(ie.localStore,ne.query,!1).then((({documents:I})=>ne.view.ru(I,Se))));const st=Oe&&Oe.targetChanges.get(ne.targetId),gt=Oe&&Oe.targetMismatches.get(ne.targetId)!=null,Ye=ne.view.applyChanges(Se,ie.isPrimaryClient,st,gt);return _v(ie,ne.targetId,Ye.au),Ye.snapshot})(s,S,V,Q);const c=await ov(s.localStore,e,!0),d=new VR(e,c.Qs),y=d.ru(c.documents),v=Ko.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);_v(s,i,_.au);const A=new MR(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function zR(s,e,i){const r=Me(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!bh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&ep(r.remoteStore,o.targetId),Nm(r,o.targetId)})).catch(ml)):(Nm(r,o.targetId),await xm(r.localStore,o.targetId,!0))}async function qR(s,e){const i=Me(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ep(i.remoteStore,r.targetId))}async function BR(s,e,i){const r=XR(s);try{const o=await(function(d,y){const v=Me(d),_=Et.now(),A=y.reduce(((Q,ee)=>Q.add(ee.key)),Qe());let S,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let ee=_s(),ie=Qe();return v.Ns.getEntries(Q,A).next((ne=>{ee=ne,ee.forEach(((Te,Oe)=>{Oe.isValidDocument()||(ie=ie.add(Te))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,ee))).next((ne=>{S=ne;const Te=[];for(const Oe of y){const Se=iw(Oe,S.get(Oe.key).overlayedDocument);Se!=null&&Te.push(new yr(Oe.key,Se,Db(Se.value.mapValue),Wn.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,Te,y)})).next((ne=>{V=ne;const Te=ne.applyToLocalDocumentSet(S,ie);return v.documentOverlayCache.saveOverlays(Q,ne.batchId,Te)}))})).then((()=>({batchId:V.batchId,changes:Bb(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new St(Ge)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await Xo(r,o.changes),await Rh(r.remoteStore)}catch(o){const c=rp(o,"Failed to persist write");i.reject(c)}}async function T1(s,e){const i=Me(s);try{const r=await tR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?at(d.hu,14607):o.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await Xo(i,r,e)}catch(r){await ml(r)}}function yv(s,e,i){const r=Me(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Me(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(y)&&(_=!0)})),_&&op(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HR(s,e,i){const r=Me(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new St(_e.comparator);d=d.insert(c,pn.newNoDocument(c,De.min()));const y=Qe().add(c),v=new Sh(De.min(),new Map,new St(Ge),d,y);await T1(r,v),r.du=r.du.remove(c),r.Au.delete(e),hp(r)}else await xm(r.localStore,e,!1).then((()=>Nm(r,e,i))).catch(ml)}async function FR(s,e){const i=Me(s),r=e.batch.batchId;try{const o=await eR(i.localStore,e);S1(i,r,null),A1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Xo(i,o)}catch(o){await ml(o)}}async function GR(s,e,i){const r=Me(s);try{const o=await(function(d,y){const v=Me(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(at(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);S1(r,e,i),A1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Xo(r,o)}catch(o){await ml(o)}}function A1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function S1(s,e,i){const r=Me(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Nm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||x1(s,r)}))}function x1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ep(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),hp(s))}function _v(s,e,i){for(const r of i)r instanceof v1?(s.Ru.addReference(r.key,e),QR(s,r)):r instanceof b1?(le(cp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||x1(s,r.key)):Re(19791,{wu:r})}function QR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(le(cp,"New document in limbo: "+i),s.Eu.add(r),hp(s))}function hp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(_t.fromString(e)),r=s.fu.next();s.Au.set(r,new kR(i)),s.du=s.du.insert(i,r),d1(s.remoteStore,new sr(zi(vh(i.path)),r,"TargetPurposeLimboResolution",gh.ce))}}async function Xo(s,e,i){const r=Me(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Jm.As(v.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=Me(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(V=>Z.forEach(V.Es,(Q=>A.persistence.referenceDelegate.addReference(S,V.targetId,Q))).next((()=>Z.forEach(V.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,V.targetId,Q)))))))))}catch(S){if(!pl(S))throw S;le(Wm,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const Q=A.Ms.get(V),ee=Q.snapshotVersion,ie=Q.withLastLimboFreeSnapshotVersion(ee);A.Ms=A.Ms.insert(V,ie)}}})(r.localStore,c))}async function KR(s,e){const i=Me(s);if(!i.currentUser.isEqual(e)){le(cp,"User change. New user:",e.toKey());const r=await u1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new ae(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xo(i,r.Ls)}}function YR(s,e){const i=Me(s),r=i.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let o=Qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function w1(s){const e=Me(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HR.bind(null,e),e.Pu.H_=DR.bind(null,e.eventManager),e.Pu.yu=OR.bind(null,e.eventManager),e}function XR(s){const e=Me(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Ww(this.persistence,new $w,e.initialUser,this.serializer)}Cu(e){return new o1(Zm.mi,this.serializer)}Du(e){return new aR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class $R extends rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new kw(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new o1((r=>ih.mi(r,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KR.bind(null,this.syncEngine),await NR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IR})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),r=(function(c){return new hR(c)})(e.databaseInfo);return(function(c,d,y,v){return new pR(c,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,y){return new yR(r,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>yv(this.syncEngine,i,0)),(function(){return hv.v()?new hv:new lR})())}createSyncEngine(e,i){return(function(o,c,d,y,v,_,A){const S=new jR(o,c,d,y,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Me(i);le(ia,"RemoteStore shutting down."),r.Ea.add(5),await Yo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class fp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const pr="FirestoreClient";class ZR{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{le(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=rp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),le(pr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await u1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function vv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await JR(s);le(pr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>dv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>dv(e.remoteStore,o))),s._onlineComponents=e}async function JR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(pr,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;sl("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new rh)}}else le(pr,"Using default OfflineComponentProvider"),await tm(s,new $R(void 0));return s._offlineComponents}async function R1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(pr,"Using user provided OnlineComponentProvider"),await vv(s,s._uninitializedComponentsProvider._online)):(le(pr,"Using default OnlineComponentProvider"),await vv(s,new Cm))),s._onlineComponents}function WR(s){return R1(s).then((e=>e.syncEngine))}async function ah(s){const e=await R1(s),i=e.eventManager;return i.onListen=LR.bind(null,e.syncEngine),i.onUnlisten=zR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=UR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=qR.bind(null,e.syncEngine),i}function eN(s,e,i={}){const r=new ps;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const A=new fp({next:V=>{A.Nu(),d.enqueueAndForget((()=>lp(c,S)));const Q=V.docs.has(y);!Q&&V.fromCache?_.reject(new ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&V.fromCache&&v&&v.source==="server"?_.reject(new ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),S=new up(vh(y.path),A,{includeMetadataChanges:!0,qa:!0});return ap(c,S)})(await ah(s),s.asyncQueue,e,i,r))),r.promise}function tN(s,e,i={}){const r=new ps;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const A=new fp({next:V=>{A.Nu(),d.enqueueAndForget((()=>lp(c,S))),V.fromCache&&v.source==="server"?_.reject(new ae(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),S=new up(y,A,{includeMetadataChanges:!0,qa:!0});return ap(c,S)})(await ah(s),s.asyncQueue,e,i,r))),r.promise}function N1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const bv=new Map;const C1="firestore.googleapis.com",Ev=!0;class Tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C1,this.ssl=Ev}else this.host=e.host,this.ssl=e.ssl??Ev;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Vw)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new l2;switch(r.type){case"firstParty":return new h2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=bv.get(i);r&&(le("ComponentProvider","Removing Datastore"),bv.delete(i),r.terminate())})(this),Promise.resolve()}}function nN(s,e,i,r={}){s=Nn(s,Nh);const o=hl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(sb(`https://${y}`),rb("Firestore",!0)),c.host!==C1&&c.host!==y&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:r};if(!ea(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=mn.MOCK_USER;else{_=OS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new mn(S)}s._authCredentials=new o2(new vb(_,A))}}class _r{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _r(this.firestore,e,this._query)}}class Ct{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Go(i,Ct._jsonSchema))return new Ct(e,r||null,new _e(_t.fromString(i.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Gt("string",Ct._jsonSchemaVersion),referencePath:Gt("string")};class ur extends _r{constructor(e,i,r){super(e,i,vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new _e(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function Ya(s,e,...i){if(s=en(s),bb("collection","path",e),s instanceof Nh){const r=_t.fromString(e,...i);return k_(r),new ur(s,null,r)}{if(!(s instanceof Ct||s instanceof ur))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(_t.fromString(e,...i));return k_(r),new ur(s.firestore,null,r)}}function wo(s,e,...i){if(s=en(s),arguments.length===1&&(e=Pm.newId()),bb("doc","path",e),s instanceof Nh){const r=_t.fromString(e,...i);return M_(r),new Ct(s,null,new _e(r))}{if(!(s instanceof Ct||s instanceof ur))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(_t.fromString(e,...i));return M_(r),new Ct(s.firestore,s instanceof ur?s.converter:null,new _e(r))}}const Av="AsyncQueue";class Sv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h1(this,"async_queue_retry"),this._c=()=>{const r=em();r&&le(Av,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;le(Av,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=sp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function xv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function wv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class vs extends Nh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Sv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sv(e),this._firestoreClient=void 0,await e}}}function iN(s,e){const i=typeof s=="object"?s:ub(),r=typeof s=="string"?s:Zc,o=Lm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=IS("firestore");c&&nN(o,...c)}return o}function Ch(s){if(s._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||sN(s),s._firestoreClient}function sN(s){const e=s._freezeSettings(),i=(function(o,c,d,y){return new N2(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,N1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new ZR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(hn.fromBase64String(e))}catch(i){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Jn(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Go(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Gt("string",Jn._jsonSchemaVersion),bytes:Gt("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dp{constructor(e){this._methodName=e}}class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Go(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Gt("string",Bi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Hi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Go(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Hi(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Gt("string",Hi._jsonSchemaVersion),vectorValues:Gt("object")};const rN=/^__.*__$/;class aN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Qo(e,this.data,i,this.fieldTransforms)}}class I1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new yr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function D1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:s})}}class mp{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(D1(this.Ac)&&rN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||xh(e)}Cc(e,i,r,o=!1){return new mp({Ac:e,methodName:i,Dc:r,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dh(s){const e=s._freezeSettings(),i=xh(s._databaseId);return new lN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function O1(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);pp("Data must be an object, but it was:",d,r);const y=V1(r,d);let v,_;if(c.merge)v=new Un(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=Im(e,S,i);if(!d.contains(V))throw new ae(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);k1(A,V)||A.push(V)}v=new Un(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new aN(new Rn(y),v,_)}class Oh extends dp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function oN(s,e,i,r){const o=s.Cc(1,e,i);pp("Data must be an object, but it was:",o,r);const c=[],d=Rn.empty();gr(r,((v,_)=>{const A=gp(e,v,i);_=en(_);const S=o.yc(A);if(_ instanceof Oh)c.push(A);else{const V=$o(_,S);V!=null&&(c.push(A),d.set(A,V))}}));const y=new Un(c);return new I1(d,y,o.fieldTransforms)}function uN(s,e,i,r,o,c){const d=s.Cc(1,e,i),y=[Im(e,r,i)],v=[o];if(c.length%2!=0)throw new ae(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)y.push(Im(e,c[V])),v.push(c[V+1]);const _=[],A=Rn.empty();for(let V=y.length-1;V>=0;--V)if(!k1(_,y[V])){const Q=y[V];let ee=v[V];ee=en(ee);const ie=d.yc(Q);if(ee instanceof Oh)_.push(Q);else{const ne=$o(ee,ie);ne!=null&&(_.push(Q),A.set(Q,ne))}}const S=new Un(_);return new I1(A,S,d.fieldTransforms)}function cN(s,e,i,r=!1){return $o(i,s.Cc(r?4:3,e))}function $o(s,e){if(M1(s=en(s)))return pp("Unsupported field value:",e,s),V1(s,e);if(s instanceof dp)return(function(r,o){if(!D1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const y of r){let v=$o(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Et.fromDate(r);return{timestampValue:nh(o.serializer,c)}}if(r instanceof Et){const c=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(o.serializer,c)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:e1(o.serializer,r._byteString)};if(r instanceof Ct){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Hi)return(function(d,y){return{mapValue:{fields:{[Cb]:{stringValue:Ib},[Jc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Gm(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ph(r)}`)})(s,e)}function V1(s,e){const i={};return Ab(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(s,((r,o)=>{const c=$o(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function M1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Et||s instanceof Bi||s instanceof Jn||s instanceof Ct||s instanceof dp||s instanceof Hi)}function pp(s,e,i){if(!M1(i)||!Eb(i)){const r=ph(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Im(s,e,i){if((e=en(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return gp(s,e);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const hN=new RegExp("[~\\*/\\[\\]]");function gp(s,e,i){if(e.search(hN)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ae(X.INVALID_ARGUMENT,y+s+v)}function k1(s,e){return s.some((i=>i.isEqual(e)))}class j1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Vh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fN extends j1{data(){return super.data()}}function Vh(s,e){return typeof e=="string"?gp(s,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function L1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yp{}class U1 extends yp{}function To(s,e,...i){let r=[];e instanceof yp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((v=>v instanceof _p)).length,y=c.filter((v=>v instanceof Mh)).length;if(d>1||d>0&&y>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Mh extends U1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Mh(e,i,r)}_apply(e){const i=this._parse(e);return P1(e._query,i),new _r(e.firestore,e.converter,vm(e._query,i))}_parse(e){const i=Dh(e.firestore);return(function(c,d,y,v,_,A,S){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Nv(S,A);const ee=[];for(const ie of S)ee.push(Rv(v,c,ie));V={arrayValue:{values:ee}}}else V=Rv(v,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Nv(S,A),V=cN(y,d,S,A==="in"||A==="not-in");return Ft.create(_,A,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function jc(s,e,i){const r=e,o=Vh("where",s);return Mh._create(o,r,i)}class _p extends yp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new _p(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:gi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const y=c.getFlattenedFilters();for(const v of y)P1(d,v),d=vm(d,v)})(e._query,i),new _r(e.firestore,e.converter,vm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vp extends U1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new vp(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Po(c,d)})(e._query,this._field,this._direction);return new _r(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new gl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function dN(s,e="asc"){const i=e,r=Vh("orderBy",s);return vp._create(r,i)}function Rv(s,e,i){if(typeof(i=en(i))=="string"){if(i==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ub(e)&&i.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(_t.fromString(i));if(!_e.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H_(s,new _e(r))}if(i instanceof Ct)return H_(s,i._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(i)}.`)}function Nv(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P1(s,e){const i=(function(o,c){for(const d of o)for(const y of d.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class mN{convertValue(e,i="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return gr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Jc].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new Hi(i)}convertGeoPoint(e){return new Bi(Mt(e.latitude),Mt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=_h(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const i=hr(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=_t.fromString(e);at(a1(r),9688,{name:e});const o=new Lo(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return o.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function z1(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Ro{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zr extends j1{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Vh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zr._jsonSchema={type:Gt("string",Zr._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Hc extends Zr{data(e={}){return super.data(e)}}class Jr{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Hc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ro(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Hc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ro(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:pN(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:s})}}function gN(s){s=Nn(s,Ct);const e=Nn(s.firestore,vs);return eN(Ch(e),s._key).then((i=>q1(e,s,i)))}Jr._jsonSchemaVersion="firestore/querySnapshot/1.0",Jr._jsonSchema={type:Gt("string",Jr._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class bp extends mN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,i)}}function Cv(s){s=Nn(s,_r);const e=Nn(s.firestore,vs),i=Ch(e),r=new bp(e);return L1(s._query),tN(i,s._query).then((o=>new Jr(e,r,s,o)))}function Iv(s,e,i){s=Nn(s,Ct);const r=Nn(s.firestore,vs),o=z1(s.converter,e);return kh(r,[O1(Dh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Wn.none())])}function yN(s,e,i,...r){s=Nn(s,Ct);const o=Nn(s.firestore,vs),c=Dh(o);let d;return d=typeof(e=en(e))=="string"||e instanceof Ih?uN(c,"updateDoc",s._key,e,i,r):oN(c,"updateDoc",s._key,e),kh(o,[d.toMutation(s._key,Wn.exists(!0))])}function _N(s){return kh(Nn(s.firestore,vs),[new Qm(s._key,Wn.none())])}function vN(s,e){const i=Nn(s.firestore,vs),r=wo(s),o=z1(s.converter,e);return kh(i,[O1(Dh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then((()=>r))}function nm(s,...e){s=en(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(wv(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,d,y;if(s instanceof Ct)d=Nn(s.firestore,vs),y=vh(s._key.path),c={next:v=>{e[r]&&e[r](q1(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=Nn(s,_r);d=Nn(v.firestore,vs),y=v._query;const _=new bp(d);c={next:A=>{e[r]&&e[r](new Jr(d,_,v,A))},error:e[r+1],complete:e[r+2]},L1(s._query)}return(function(_,A,S,V){const Q=new fp(V),ee=new up(A,Q,S);return _.asyncQueue.enqueueAndForget((async()=>ap(await ah(_),ee))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>lp(await ah(_),ee)))}})(Ch(d),y,o,c)}function kh(s,e){return(function(r,o){const c=new ps;return r.asyncQueue.enqueueAndForget((async()=>BR(await WR(r),o,c))),c.promise})(Ch(s),e)}function q1(s,e,i){const r=i.docs.get(e._key),o=new bp(s);return new Zr(s,o,e._key,r,new Ro(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){dl=o})(fl),il(new ta("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),y=new vs(new u2(r.getProvider("auth-internal")),new f2(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),lr(I_,D_,e),lr(I_,D_,"esm2020")})();function B1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bN=B1,H1=new Ho("auth","Firebase",B1());const oh=new km("@firebase/auth");function EN(s,...e){oh.logLevel<=Fe.WARN&&oh.warn(`Auth (${fl}): ${s}`,...e)}function Fc(s,...e){oh.logLevel<=Fe.ERROR&&oh.error(`Auth (${fl}): ${s}`,...e)}function Qi(s,...e){throw Tp(s,...e)}function pi(s,...e){return Tp(s,...e)}function Ep(s,e,i){const r={...bN(),[e]:i};return new Ho("auth","Firebase",r).create(e,{appName:s.name})}function Wr(s){return Ep(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TN(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qi(s,"argument-error"),Ep(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return H1.create(s,...e)}function Ce(s,e,...i){if(!s)throw Tp(e,...i)}function ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Fc(e),new Error(e)}function bs(s,e){s||ds(e)}function Dm(){return typeof self<"u"&&self.location?.href||""}function AN(){return Dv()==="http:"||Dv()==="https:"}function Dv(){return typeof self<"u"&&self.location?.protocol||null}function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||US()||"connection"in navigator)?navigator.onLine:!0}function xN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=kS()||PS()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(s,e){bs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class F1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NN=new Zo(3e4,6e4);function Sp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function _l(s,e,i,r,o={}){return G1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const y=Fo({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...c};return LS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&hl(s.emulatorConfig.host)&&(_.credentials="include"),F1.fetch()(await Q1(s,s.config.apiHost,i,y),_)})}async function G1(s,e,i){s._canInitEmulator=!1;const r={...wN,...e};try{const o=new IN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Lc(s,"user-disabled",d);const A=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Ep(s,A,_);Qi(s,A)}}catch(o){if(o instanceof Es)throw o;Qi(s,"network-request-failed",{message:String(o)})}}async function CN(s,e,i,r,o={}){const c=await _l(s,e,i,r,o);return"mfaPendingCredential"in c&&Qi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Q1(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Ap(s.config,o):`${s.config.apiScheme}://${o}`;return RN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class IN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),NN.get())})}}function Lc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=pi(s,e,r);return o.customData._tokenResponse=i,o}async function DN(s,e){return _l(s,"POST","/v1/accounts:delete",e)}async function uh(s,e){return _l(s,"POST","/v1/accounts:lookup",e)}function Vo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ON(s,e=!1){const i=en(s),r=await i.getIdToken(e),o=xp(r);Ce(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Vo(im(o.auth_time)),issuedAtTime:Vo(im(o.iat)),expirationTime:Vo(im(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function im(s){return Number(s)*1e3}function xp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=eb(i);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ov(s){const e=xp(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Es&&VN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function VN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(s){const e=s.auth,i=await s.getIdToken(),r=await Bo(s,uh(e,{idToken:i}));Ce(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?K1(o.providerUserInfo):[],d=jN(s.providerData,c),y=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,_=y?v:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function kN(s){const e=en(s);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function K1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LN(s,e){const i=await G1(s,{},async()=>{const r=Fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Q1(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return s.emulatorConfig&&hl(s.emulatorConfig.host)&&(v.credentials="include"),F1.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function UN(s,e){return _l(s,"POST","/v2/accounts:revokeToken",Sp(s,e))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const i=Ov(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await LN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new el;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ce(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return ds("not implemented")}}function er(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ON(this,e)}reload(){return kN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Bo(this,DN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:Q,providerData:ee,stsTokenManager:ie}=i;Ce(S&&ie,e,"internal-error");const ne=el.fromJSON(this.name,ie);Ce(typeof S=="string",e,"internal-error"),er(r,e.name),er(o,e.name),Ce(typeof V=="boolean",e,"internal-error"),Ce(typeof Q=="boolean",e,"internal-error"),er(c,e.name),er(d,e.name),er(y,e.name),er(v,e.name),er(_,e.name),er(A,e.name);const Te=new mi({uid:S,auth:e,email:o,emailVerified:V,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ne,createdAt:_,lastLoginAt:A});return ee&&Array.isArray(ee)&&(Te.providerData=ee.map(Oe=>({...Oe}))),v&&(Te._redirectEventId=v),Te}static async _fromIdTokenResponse(e,i,r=!1){const o=new el;o.updateFromServerResponse(i);const c=new mi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ch(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?K1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new el;y.updateFromIdToken(r);const v=new mi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Vv=new Map;function ms(s){bs(s instanceof Function,"Expected a class definition");let e=Vv.get(s);return e?(bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Vv.set(s,e),e)}class Y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Y1.type="NONE";const Mv=Y1;function Gc(s,e,i){return`firebase:${s}:${e}:${i}`}class tl{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await uh(this.auth,{idToken:e}).catch(()=>{});return i?mi._fromGetAccountInfoResponse(this.auth,i,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new tl(ms(Mv),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ms(Mv);const d=Gc(r,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const V=await uh(e,{idToken:A}).catch(()=>{});if(!V)break;S=await mi._fromGetAccountInfoResponse(e,V,A)}else S=mi._fromJSON(e,A);_!==c&&(y=S),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new tl(c,e,r):(c=v[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new tl(c,e,r))}}function kv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eE(e))return"Blackberry";if(tE(e))return"Webos";if($1(e))return"Safari";if((e.includes("chrome/")||Z1(e))&&!e.includes("edge/"))return"Chrome";if(W1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function X1(s=gn()){return/firefox\//i.test(s)}function $1(s=gn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z1(s=gn()){return/crios\//i.test(s)}function J1(s=gn()){return/iemobile/i.test(s)}function W1(s=gn()){return/android/i.test(s)}function eE(s=gn()){return/blackberry/i.test(s)}function tE(s=gn()){return/webos/i.test(s)}function wp(s=gn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function PN(s=gn()){return wp(s)&&!!window.navigator?.standalone}function zN(){return zS()&&document.documentMode===10}function nE(s=gn()){return wp(s)||W1(s)||tE(s)||eE(s)||/windows phone/i.test(s)||J1(s)}function iE(s,e=[]){let i;switch(s){case"Browser":i=kv(gn());break;case"Worker":i=`${kv(gn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${fl}/${r}`}class qN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,y)=>{try{const v=e(c);d(v)}catch(v){y(v)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function BN(s,e={}){return _l(s,"GET","/v2/passwordPolicy",Sp(s,e))}const HN=6;class FN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class GN{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new qN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await uh(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Wr(this));const i=e?en(e):null;return i&&Ce(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BN(this),i=new FN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await UN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ms(e)||this._popupRedirectResolver;Ce(i,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,r,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function jh(s){return en(s)}class jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=YS(i=>this.observer=i)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QN(s){Rp=s}function KN(s){return Rp.loadJS(s)}function YN(){return Rp.gapiScript}function XN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function $N(s,e){const i=Lm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ea(c,e??{}))return o;Qi(o,"already-initialized")}return i.initialize({options:e})}function ZN(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function JN(s,e,i){const r=jh(s);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=sE(e),{host:d,port:y}=WN(e),v=y===null?"":`:${y}`,_={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(ea(_,r.config.emulator)&&ea(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,hl(d)?(sb(`${c}//${d}${v}`),rb("Auth",!0)):eC()}function sE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function WN(s){const e=sE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Lv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Lv(d)}}}function Lv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function eC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,i){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function nl(s,e){return CN(s,"POST","/v1/accounts:signInWithIdp",Sp(s,e))}const tC="http://localhost";class sa extends rE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Qi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new sa(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return nl(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,nl(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,nl(e,i)}buildRequest(){const e={requestUri:tC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Fo(i)}return e}}class Np{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jo extends Np{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends Jo{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class fs extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return sa._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return fs.credential(i,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";class nr extends Jo{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends Jo{constructor(){super("twitter.com")}static credential(e,i){return sa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ir.credential(i,r)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await mi._fromIdTokenResponse(e,r,o),d=Uv(r);return new cl({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=Uv(r);return new cl({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function Uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class hh extends Es{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new hh(e,i,r,o)}}function aE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,c,e,r):c})}async function nC(s,e,i=!1){const r=await Bo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return cl._forOperation(s,"link",r)}async function iC(s,e,i=!1){const{auth:r}=s;if(di(r.app))return Promise.reject(Wr(r));const o="reauthenticate";try{const c=await Bo(s,aE(r,o,e,s),i);Ce(c.idToken,r,"internal-error");const d=xp(c.idToken);Ce(d,r,"internal-error");const{sub:y}=d;return Ce(s.uid===y,r,"user-mismatch"),cl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qi(r,"user-mismatch"),c}}async function sC(s,e,i=!1){if(di(s.app))return Promise.reject(Wr(s));const r="signIn",o=await aE(s,r,e),c=await cl._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function rC(s,e,i,r){return en(s).onIdTokenChanged(e,i,r)}function aC(s,e,i){return en(s).beforeAuthStateChanged(e,i)}function lC(s,e,i,r){return en(s).onAuthStateChanged(e,i,r)}function oC(s){return en(s).signOut()}const fh="__sak";class lE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uC=1e3,cC=10;class oE extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);zN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cC):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const hC=oE;class uE extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}uE.type="SESSION";const cE=uE;function fC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),v=await fC(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];function Cp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class dC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,v)=>{const _=Cp("",20);o.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(V.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function mC(s){Fi().location.href=s}function hE(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function pC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gC(){return navigator?.serviceWorker?.controller||null}function yC(){return hE()?self:null}const fE="firebaseLocalStorageDb",_C=1,dh="firebaseLocalStorage",dE="fbase_key";class Wo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Uh(s,e){return s.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function vC(){const s=indexedDB.deleteDatabase(fE);return new Wo(s).toPromise()}function Vm(){const s=indexedDB.open(fE,_C);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(dh,{keyPath:dE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await vC(),e(await Vm()))})})}async function Pv(s,e,i){const r=Uh(s,!0).put({[dE]:e,value:i});return new Wo(r).toPromise()}async function bC(s,e){const i=Uh(s,!1).get(e),r=await new Wo(i).toPromise();return r===void 0?null:r.value}function zv(s,e){const i=Uh(s,!0).delete(e);return new Wo(i).toPromise()}const EC=800,TC=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>TC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(yC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await Pv(e,fh,"1"),await zv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>bC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>zv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Uh(o,!1).getAll();return new Wo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const AC=mE;new Zo(3e4,6e4);function pE(s,e){return e?ms(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ip extends rE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return nl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function SC(s){return sC(s.auth,new Ip(s),s.bypassAuthState)}function xC(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),iC(i,new Ip(s),s.bypassAuthState)}async function wC(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),nC(i,new Ip(s),s.bypassAuthState)}class gE{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SC;case"linkViaPopup":case"linkViaRedirect":return wC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:Qi(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RC=new Zo(2e3,1e4);async function NC(s,e,i){if(di(s.app))return Promise.reject(pi(s,"operation-not-supported-in-this-environment"));const r=jh(s);TN(s,e,Np);const o=pE(r,i);return new $r(r,"signInViaPopup",e,o).executeNotNull()}class $r extends gE{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RC.get())};e()}}$r.currentPopupAction=null;const CC="pendingRedirect",Qc=new Map;class IC extends gE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const r=await DC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DC(s,e){const i=MC(e),r=VC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function OC(s,e){Qc.set(s._key(),e)}function VC(s){return ms(s._redirectPersistence)}function MC(s){return Gc(CC,s.config.apiKey,s.name)}async function kC(s,e,i=!1){if(di(s.app))return Promise.reject(Wr(s));const r=jh(s),o=pE(r,e),d=await new IC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const jC=600*1e3;class LC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!yE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(pi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jC&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function yE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function UC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yE(s);default:return!1}}async function PC(s,e={}){return _l(s,"GET","/v1/projects",e)}const zC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qC=/^https?/;async function BC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await PC(s);for(const i of e)try{if(HC(i))return}catch{}Qi(s,"unauthorized-domain")}function HC(s){const e=Dm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!qC.test(i))return!1;if(zC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const FC=new Zo(3e4,6e4);function Bv(){const s=Fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function GC(s){return new Promise((e,i)=>{function r(){Bv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bv(),i(pi(s,"network-request-failed"))},timeout:FC.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)r();else{const o=XN("iframefcb");return Fi()[o]=()=>{gapi.load?r():i(pi(s,"network-request-failed"))},KN(`${YN()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function QC(s){return Kc=Kc||GC(s),Kc}const KC=new Zo(5e3,15e3),YC="__/auth/iframe",XC="emulator/auth/iframe",$C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JC(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Ap(e,XC):`https://${s.config.authDomain}/${YC}`,r={apiKey:e.apiKey,appName:s.name,v:fl},o=ZC.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Fo(r).slice(1)}`}async function WC(s){const e=await QC(s),i=Fi().gapi;return Ce(i,s,"internal-error"),e.open({where:document.body,url:JC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$C,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=pi(s,"network-request-failed"),y=Fi().setTimeout(()=>{c(d)},KC.get());function v(){Fi().clearTimeout(y),o(r)}r.ping(v).then(v,()=>{c(d)})}))}const eI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tI=500,nI=600,iI="_blank",sI="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rI(s,e,i,r=tI,o=nI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...eI,width:r.toString(),height:o.toString(),top:c,left:d},_=gn().toLowerCase();i&&(y=Z1(_)?iI:i),X1(_)&&(e=e||sI,v.scrollbars="yes");const A=Object.entries(v).reduce((V,[Q,ee])=>`${V}${Q}=${ee},`,"");if(PN(_)&&y!=="_self")return aI(e||"",y),new Hv(null);const S=window.open(e||"",y,A);Ce(S,s,"popup-blocked");try{S.focus()}catch{}return new Hv(S)}function aI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const lI="__/auth/handler",oI="emulator/auth/handler",uI=encodeURIComponent("fac");async function Fv(s,e,i,r,o,c){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:fl,eventId:o};if(e instanceof Np){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",KS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof Jo){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const v=await s._getAppCheckToken(),_=v?`#${uI}=${encodeURIComponent(v)}`:"";return`${cI(s)}?${Fo(y).slice(1)}${_}`}function cI({config:s}){return s.emulator?Ap(s,oI):`https://${s.authDomain}/${lI}`}const sm="webStorageSupport";class hI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=kC,this._overrideRedirectResult=OC}async _openPopup(e,i,r,o){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Fv(e,i,r,Dm(),o);return rI(e,c,Cp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Fv(e,i,r,Dm(),o);return mC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await WC(e),r=new LC(e);return i.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(sm,{type:sm},o=>{const c=o?.[0]?.[sm];c!==void 0&&i(!!c),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=BC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return nE()||$1()||wp()}}const fI=hI;var Gv="@firebase/auth",Qv="1.11.1";class dI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pI(s){il(new ta("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(s)},_=new GN(r,o,c,v);return ZN(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),il(new ta("auth-internal",e=>{const i=jh(e.getProvider("auth").getImmediate());return(r=>new dI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(Gv,Qv,mI(s)),lr(Gv,Qv,"esm2020")}const gI=300,yI=ib("authIdTokenMaxAge")||gI;let Kv=null;const _I=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>yI)return;const o=i?.token;Kv!==o&&(Kv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vI(s=ub()){const e=Lm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=$N(s,{popupRedirectResolver:fI,persistence:[AC,hC,cE]}),r=ib("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=_I(c.toString());aC(i,d,()=>d(i.currentUser)),rC(i,y=>d(y))}}const o=tb("auth");return o&&JN(i,`http://${o}`),i}function bI(){return document.getElementsByTagName("head")?.[0]??document}QN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=pi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",bI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pI("Browser");const EI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},_E=ob(EI),Ui=iN(_E),rm=vI(_E),TI=new fs;class eu{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const AI=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},un={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:AI()},Dp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},SI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Dp(s);un.publicKey=i.publicKey,un.blockHeadless=i.blockHeadless,un.storageProvider=i.storageProvider,un.blockList=i.blockList,un.limitRate=i.limitRate,un.origin=i.origin||e},vE=async(s,e,i={})=>{const r=await fetch(un.origin+s,{method:"POST",headers:i,body:e}),o=await r.text(),c=new eu(r.status,o);if(r.ok)return c;throw c},bE=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},xI=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},EE=s=>s.webdriver||!s.languages||s.languages.length===0,TE=()=>new eu(451,"Unavailable For Headless Browser"),wI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},RI=s=>!s.list?.length||!s.watchVariable,NI=(s,e)=>s instanceof FormData?s.get(e):s[e],AE=(s,e)=>{if(RI(s))return!1;wI(s.list,s.watchVariable);const i=NI(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},SE=()=>new eu(403,"Forbidden"),CI=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},II=async(s,e,i)=>{const r=Number(await i.get(s)||0);return e-Date.now()+r},xE=async(s,e,i)=>{if(!e.throttle||!i)return!1;CI(e.throttle,e.id);const r=e.id||s;return await II(r,e.throttle,i)>0?!0:(await i.set(r,Date.now().toString()),!1)},wE=()=>new eu(429,"Too Many Requests"),DI=async(s,e,i,r)=>{const o=Dp(r),c=o.publicKey||un.publicKey,d=o.blockHeadless||un.blockHeadless,y=o.storageProvider||un.storageProvider,v={...un.blockList,...o.blockList},_={...un.limitRate,...o.limitRate};return d&&EE(navigator)?Promise.reject(TE()):(bE(c,s,e),xI(i),i&&AE(v,i)?Promise.reject(SE()):await xE(location.pathname,_,y)?Promise.reject(wE()):vE("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},OI=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},VI=s=>typeof s=="string"?document.querySelector(s):s,MI=async(s,e,i,r)=>{const o=Dp(r),c=o.publicKey||un.publicKey,d=o.blockHeadless||un.blockHeadless,y=un.storageProvider||o.storageProvider,v={...un.blockList,...o.blockList},_={...un.limitRate,...o.limitRate};if(d&&EE(navigator))return Promise.reject(TE());const A=VI(i);bE(c,s,e),OI(A);const S=new FormData(A);return AE(v,S)?Promise.reject(SE()):await xE(location.pathname,_,y)?Promise.reject(wE()):(S.append("lib_version","4.4.1"),S.append("service_id",s),S.append("template_id",e),S.append("user_id",c),vE("/api/v1.0/email/send-form",S))},kI={init:SI,send:DI,sendForm:MI,EmailJSResponseStatus:eu},Yv="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",am={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Xv=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],lm={"Cinema Camera Kit":{count:1,category:"film",requiresTraining:!0},"Gimbal / Stabilizer":{count:6,category:"film",requiresTraining:!0},"DJI Mic Kit (Wireless)":{count:4,category:"film",requiresTraining:!1},"DJI Flip Drone":{count:1,category:"film",requiresTraining:!0},"Lighting Kit":{count:6,category:"film",requiresTraining:!1},Tripod:{count:8,category:"general",requiresTraining:!1},"DSLR Camera Body":{count:6,category:"photo",requiresTraining:!0},"Zoom Lens (18-55mm)":{count:6,category:"photo",requiresTraining:!1},"Telephoto Lens (70-200mm)":{count:2,category:"photo",requiresTraining:!1},"Portrait Lens (50mm)":{count:3,category:"photo",requiresTraining:!1},"SD Card Reader":{count:5,category:"photo",requiresTraining:!1},"Flash Unit":{count:3,category:"photo",requiresTraining:!1},"Serving Trays":{count:10,category:"culinary",requiresTraining:!1},"Chafing Dishes":{count:4,category:"culinary",requiresTraining:!1}},Pe={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory"},Kr=s=>`salpointe_draft_${s}`,$v=s=>{kI.send(am.SERVICE_ID,am.TEMPLATE_ID,s,am.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},jI=()=>{const[s,e]=Ie.useState("landing"),[i,r]=Ie.useState(!1),[o,c]=Ie.useState(null),[d,y]=Ie.useState(!1),[v,_]=Ie.useState(lm),[A,S]=Ie.useState([]);Ie.useEffect(()=>{const ue=lC(rm,ve=>{ve?(c(ve),y(Xv.includes(ve.email))):(c(null),y(!1))});return()=>ue()},[]),Ie.useEffect(()=>{(async()=>{const Y=wo(Ui,"settings","inventory_v2"),re=await gN(Y);re.exists()?_(re.data()):(await Iv(Y,lm),_(lm))})();const ve=To(Ya(Ui,"blackout_dates")),L=nm(ve,Y=>{const re=Y.docs.map(te=>te.id);S(re)});return()=>L()},[]);const V=async()=>{try{await NC(rm,TI),e(Pe.DASHBOARD)}catch(ue){console.error("Login failed:",ue),alert("Login failed.")}},Q=async()=>{await oC(rm),e("landing")},ee=()=>{e("landing"),r(!1)},ie=()=>{e(Pe.DASHBOARD),r(!1)},ne=[Pe.FILM,Pe.GRAPHIC,Pe.BUSINESS,Pe.CULINARY,Pe.PHOTO].includes(s);return p.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30",children:[p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),p.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[p.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:ee,children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),p.jsx("img",{src:Yv,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",p.jsx("span",{className:"text-red-500",children:"CTE"})]}),p.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),p.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!ne&&s!=="landing"&&s!=="dashboard"&&p.jsxs("button",{onClick:ie,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[p.jsx(vA,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s!=="landing"&&p.jsxs("button",{onClick:()=>{e(Pe.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Pe.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[p.jsx(Fd,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),o?p.jsxs(p.Fragment,{children:[s!=="landing"&&p.jsxs("button",{onClick:()=>{e(Pe.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Pe.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[p.jsx(BA,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&s!=="landing"&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{e(Pe.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Pe.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[p.jsx(f_,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),p.jsxs("button",{onClick:()=>{e(Pe.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Pe.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[p.jsx(xA,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),p.jsxs("button",{onClick:()=>{e(Pe.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Pe.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[p.jsx(p_,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),p.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),p.jsx("button",{onClick:Q,className:"ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all flex items-center gap-2",title:`Logged in as ${o.email}`,children:p.jsx(GA,{size:16})})]}):p.jsxs("button",{onClick:V,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[p.jsx(d_,{size:16})," Login"]})]})]})}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10",children:i?p.jsx(Oe,{onReset:ie}):p.jsxs(p.Fragment,{children:[s===Pe.LANDING&&p.jsx(Te,{currentUser:o,onLogin:V,onEnter:ie}),s===Pe.DASHBOARD&&p.jsx(Se,{onViewChange:e,currentUser:o}),s===Pe.FILM&&p.jsx(C,{setSubmitted:r,onCancel:ie,currentUser:o,inventory:v,blackouts:A}),s===Pe.GRAPHIC&&p.jsx(M,{setSubmitted:r,onCancel:ie,currentUser:o}),s===Pe.BUSINESS&&p.jsx(O,{setSubmitted:r,onCancel:ie,currentUser:o}),s===Pe.CULINARY&&p.jsx(j,{setSubmitted:r,onCancel:ie,currentUser:o}),s===Pe.PHOTO&&p.jsx(R,{setSubmitted:r,onCancel:ie,currentUser:o,inventory:v,blackouts:A}),s===Pe.CALENDAR&&p.jsx(CalendarView,{adminMode:d,blackouts:A}),s===Pe.QUEUE&&p.jsx(I,{adminMode:d,setAdminMode:y,ALLOWED_ADMINS:Xv}),s===Pe.MY_REQUESTS&&p.jsx(MyRequestsView,{currentUser:o}),s===Pe.ANALYTICS&&d&&p.jsx(Ye,{}),s===Pe.INVENTORY&&d&&p.jsx(gt,{inventory:v,setInventory:_})]})}),p.jsx("footer",{className:"text-center py-10 px-4 border-t border-slate-800/50 mt-auto relative z-10",children:p.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-60 hover:opacity-100 transition-opacity duration-500",children:[p.jsx("img",{src:Yv,alt:"Salpointe Catholic High School",className:"w-8 h-8 opacity-80 grayscale hover:grayscale-0 transition-all"}),p.jsxs("p",{className:"text-slate-500 text-xs font-mono tracking-widest uppercase",children:[" ",new Date().getFullYear()," Salpointe Catholic High School ",p.jsx("span",{className:"text-slate-700 mx-2",children:"|"})," CTE Department"]})]})})]});function Te({currentUser:ue,onLogin:ve,onEnter:L}){return p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),p.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["The Future of ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Creative Logistics"})]}),p.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Eliminating the friction of paper logs and email chains. A centralized command center for Salpointe's creative technology."}),p.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:ue?p.jsxs("button",{onClick:L,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),p.jsx(ES,{size:24,className:"fill-white"})," Initialize Hub"]}):p.jsxs("button",{onClick:ve,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[p.jsx(d_,{size:24})," Login to Access"]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(zA,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(MA,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(aS,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function Oe({onReset:ue}){return p.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[p.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:p.jsx(DA,{size:40})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),p.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),p.jsx("button",{onClick:ue,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function Se({onViewChange:ue,currentUser:ve}){const[L,Y]=Ie.useState({});Ie.useEffect(()=>{(()=>{const ge={},w={[Pe.FILM]:"Film",[Pe.GRAPHIC]:"Graphic",[Pe.BUSINESS]:"Business",[Pe.CULINARY]:"Culinary",[Pe.PHOTO]:"Photo"};Object.keys(w).forEach(H=>{const J=Kr(w[H]);localStorage.getItem(J)&&(ge[H]=!0)}),Y(ge)})()},[]);const re=[{id:Pe.FILM,title:"Film & TV",icon:y_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:Pe.GRAPHIC,title:"Graphic Design",icon:m_,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:Pe.BUSINESS,title:"Business",icon:Hd,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:Pe.CULINARY,title:"Culinary Arts",icon:g_,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:Pe.PHOTO,title:"Photography",icon:Gd,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"col-span-full mb-4",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:ve?`Welcome, ${ve.displayName.split(" ")[0]}.`:"Access Granted."}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),re.map(te=>p.jsxs("div",{onClick:()=>ue(te.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${te.bg}`,children:[L[te.id]&&p.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[p.jsx(Cc,{size:12})," RESUME"]}),p.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${te.color} transition-transform group-hover:scale-110 duration-300`,children:p.jsx(te.icon,{size:28})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:te.title}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:te.desc})]},te.id))]})}function st({initialData:ue={},currentUser:ve}){const L=ve?.displayName||ue.fullName||"",Y=ve?.email||ue.email||"";return p.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[p.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[p.jsx(mS,{size:18})," Identity Verification"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),p.jsx("input",{name:"requestName",type:"text",defaultValue:ue.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),p.jsx("input",{name:"fullName",type:"text",defaultValue:L,readOnly:!!ve,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${ve?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),p.jsx("input",{name:"email",type:"email",defaultValue:Y,readOnly:!!ve,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${ve?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),p.jsxs("select",{name:"role",defaultValue:ue.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[p.jsx("option",{children:"Student"}),p.jsx("option",{children:"Faculty / Staff"}),p.jsx("option",{children:"Club Representative"})]})]})]})]})}function gt({inventory:ue,setInventory:ve}){const[L,Y]=Ie.useState(ue),[re,te]=Ie.useState(!1),[ge,w]=Ie.useState(""),[H,J]=Ie.useState(1),[W,ce]=Ie.useState("film"),[de,Ee]=Ie.useState(!1),[be,xe]=Ie.useState(null),[xt,wt]=Ie.useState(""),[me,he]=Ie.useState(!1),pe=(Ze,ot,rt)=>{Y(Qt=>({...Qt,[Ze]:{...Qt[Ze],[ot]:rt}}))},we=Ze=>{if(window.confirm(`Delete "${Ze}" from inventory permanently?`)){const ot={...L};delete ot[Ze],Y(ot)}},ke=Ze=>{if(Ze.preventDefault(),!ge)return;const ot=de?`${ge} *`:ge;if(L[ot]){alert("Item already exists.");return}Y(rt=>({...rt,[ot]:{count:parseInt(H)||0,category:W,requiresTraining:de}})),w(""),J(1),Ee(!1)},We=(Ze,ot)=>{xe(Ze),wt(Ze.replace(" *","").replace("*","")),he(ot.requiresTraining||!1)},Xe=()=>{xe(null),wt(""),he(!1)},Ne=()=>{if(!xt.trim())return;const Ze=xt.trim(),ot=me?`${Ze} *`:Ze,Qt={...L[be],requiresTraining:me},ei={...L};if(ot!==be){if(ei[ot]){alert("An item with this name already exists.");return}delete ei[be],ei[ot]=Qt}else ei[ot]=Qt;Y(ei),xe(null)},lt=async()=>{te(!0);try{await Iv(wo(Ui,"settings","inventory_v2"),L),ve(L),alert("Inventory matrix updated.")}catch(Ze){console.error("Error:",Ze),alert("Save failed.")}te(!1)},Xt={film:[],photo:[],culinary:[],general:[]};return Object.entries(L).forEach(([Ze,ot])=>{Xt[ot.category]?Xt[ot.category].push({name:Ze,...ot}):Xt.general.push({name:Ze,...ot})}),p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6 flex justify-between items-center",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[p.jsx(p_,{className:"text-amber-400"})," Inventory Matrix"]})}),p.jsxs("button",{onClick:lt,disabled:re,className:"bg-amber-600 hover:bg-amber-500 text-slate-900 px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50 shadow-[0_0_15px_rgba(245,158,11,0.3)]",children:[re?p.jsx(eS,{className:"animate-spin",size:18}):p.jsx(Cc,{size:18})," ",re?"Processing...":"Save Changes"]})]}),p.jsxs("div",{className:"p-6 bg-slate-900/30 border-b border-slate-800",children:[p.jsx("h3",{className:"text-sm font-mono text-cyan-500 uppercase mb-3",children:"Add New Asset"}),p.jsxs("form",{onSubmit:ke,className:"flex flex-col md:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Item Name"}),p.jsx("input",{type:"text",value:ge,onChange:Ze=>w(Ze.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",placeholder:"e.g. GoPro Hero 10",required:!0})]}),p.jsxs("div",{className:"w-24",children:[p.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Count"}),p.jsx("input",{type:"number",min:"0",value:H,onChange:Ze=>J(Ze.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none"})]}),p.jsxs("div",{className:"w-32",children:[p.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Category"}),p.jsxs("select",{value:W,onChange:Ze=>ce(Ze.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",children:[p.jsx("option",{value:"film",children:"Film"}),p.jsx("option",{value:"photo",children:"Photo"}),p.jsx("option",{value:"culinary",children:"Culinary"}),p.jsx("option",{value:"general",children:"General"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[p.jsx("input",{type:"checkbox",checked:de,onChange:Ze=>Ee(Ze.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-slate-950 text-cyan-500 focus:ring-cyan-500"}),p.jsx("label",{className:"text-sm text-slate-400",children:"Training Req."})]}),p.jsxs("button",{type:"submit",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded font-medium flex items-center gap-1",children:[p.jsx(JA,{size:16})," Add"]})]})]}),p.jsx("div",{className:"p-6 space-y-8",children:Object.entries(Xt).map(([Ze,ot])=>p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-white capitalize mb-4 border-b border-slate-800 pb-2 text-emerald-400",children:[Ze," Inventory"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ot.map(rt=>p.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg border border-slate-700 flex justify-between items-center hover:border-slate-600 transition-colors",children:[be===rt.name?p.jsxs("div",{className:"flex-1 flex items-center gap-2 mr-2",children:[p.jsx("input",{type:"text",value:xt,onChange:Qt=>wt(Qt.target.value),className:"flex-1 bg-slate-950 border border-cyan-500 rounded p-1 text-white text-sm outline-none",autoFocus:!0}),p.jsxs("label",{className:"flex items-center gap-1 text-xs text-slate-400",children:[p.jsx("input",{type:"checkbox",checked:me,onChange:Qt=>he(Qt.target.checked)})," Train"]}),p.jsx("button",{onClick:Ne,className:"text-green-500 hover:text-green-400 p-1",children:p.jsx(c_,{size:18})}),p.jsx("button",{onClick:Xe,className:"text-red-500 hover:text-red-400 p-1",children:p.jsx(Ic,{size:18})})]}):p.jsxs("div",{className:"flex-1 mr-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-mono text-slate-300 text-sm block truncate",children:rt.name.replace(" *","").replace("*","")}),rt.requiresTraining&&p.jsx("span",{className:"text-[10px] text-red-400 uppercase bg-red-900/20 px-1 rounded",children:"Training Req."})]}),p.jsx("button",{onClick:()=>We(rt.name,rt),className:"text-slate-600 hover:text-cyan-400 p-1 ml-2",children:p.jsx($A,{size:14})})]}),p.jsxs("div",{className:"flex items-center gap-2 border-l border-slate-700 pl-3",children:[p.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Qty"}),p.jsx("input",{type:"number",min:"0",value:rt.count,onChange:Qt=>pe(rt.name,"count",parseInt(Qt.target.value)),className:"w-14 p-1 bg-slate-950 border border-slate-700 rounded text-center font-bold text-cyan-400 focus:border-cyan-500 outline-none text-sm"}),p.jsx("button",{onClick:()=>we(rt.name),className:"text-slate-600 hover:text-red-500 transition-colors ml-1",children:p.jsx(oS,{size:16})})]})]},rt.name))})]},Ze))})]})}function Ye(){const[ue,ve]=Ie.useState(!0),[L,Y]=Ie.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});Ie.useEffect(()=>{const te=To(Ya(Ui,"requests")),ge=nm(te,w=>{let H=0,J=0,W=0,ce={},de={};w.forEach(be=>{const xe=be.data();H++,(xe.status==="Approved"||xe.status==="Completed")&&J++,xe.status==="Pending Review"&&W++,ce[xe.dept]=(ce[xe.dept]||0)+1,xe.equipment&&(Array.isArray(xe.equipment)?xe.equipment:[xe.equipment]).forEach(wt=>{de[wt]=(de[wt]||0)+1})});const Ee=Object.entries(de).sort(([,be],[,xe])=>xe-be).slice(0,5);Y({total:H,approved:J,pending:W,deptCounts:ce,topEquipment:Ee}),ve(!1)});return()=>ge()},[]);const re=L.total>0?Math.round(L.approved/L.total*100):0;return p.jsx("div",{className:"space-y-6 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[p.jsx(cS,{className:"text-emerald-400"})," Data Analytics"]})}),p.jsxs("div",{className:"bg-slate-800 border border-slate-700 px-4 py-2 rounded-lg text-cyan-400 font-mono text-sm",children:["Total Requests: ",p.jsx("strong",{children:L.total})]})]}),ue?p.jsx("div",{className:"text-center py-12 text-slate-500 font-mono",children:"CALCULATING..."}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-emerald-950/30 rounded-xl p-5 border border-emerald-500/20",children:[p.jsx("h4",{className:"text-emerald-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Approval Rate"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsxs("span",{className:"text-4xl font-bold text-emerald-400 font-mono",children:[re,"%"]})})]}),p.jsxs("div",{className:"bg-blue-950/30 rounded-xl p-5 border border-blue-500/20",children:[p.jsx("h4",{className:"text-blue-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Completed"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsx("span",{className:"text-4xl font-bold text-blue-400 font-mono",children:L.approved})})]}),p.jsxs("div",{className:"bg-amber-950/30 rounded-xl p-5 border border-amber-500/20",children:[p.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Pending"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsx("span",{className:"text-4xl font-bold text-amber-400 font-mono",children:L.pending})})]}),p.jsxs("div",{className:"md:col-span-2 bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[p.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(RA,{size:16,className:"text-purple-400"})," Requests by Department"]}),p.jsx("div",{className:"space-y-4",children:Object.entries(L.deptCounts).sort(([,te],[,ge])=>ge-te).map(([te,ge])=>{const w=ge/L.total*100;return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-xs mb-2 font-mono",children:[p.jsx("span",{className:"text-slate-400",children:te}),p.jsx("span",{className:"text-cyan-400",children:ge})]}),p.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:p.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${w}%`}})})]},te)})})]}),p.jsxs("div",{className:"bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[p.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(Gd,{size:16,className:"text-pink-400"})," Top Gear"]}),p.jsx("ul",{className:"space-y-3",children:L.topEquipment.map(([te,ge],w)=>p.jsxs("li",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 text-cyan-400 flex items-center justify-center text-xs font-mono border border-slate-700",children:w+1}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:te.replace(" *","")}),p.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[ge," uses"]})]})]},te))})]})]})]})})}function I({adminMode:ue,setAdminMode:ve,ALLOWED_ADMINS:L}){const[Y,re]=Ie.useState([]),[te,ge]=Ie.useState("all"),[w,H]=Ie.useState(!0),[J,W]=Ie.useState(null),[ce,de]=Ie.useState("");Ie.useEffect(()=>{const me=To(Ya(Ui,"requests"),dN("createdAt","desc")),he=nm(me,pe=>{const we=pe.docs.map(ke=>({id:ke.id,...ke.data(),formattedDate:ke.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));re(we),H(!1)});return()=>he()},[]);const Ee=async(me,he)=>{window.confirm(`Confirm status change to: ${he}?`)&&(await yN(wo(Ui,"requests",me.id),{status:he}),J&&J.id===me.id&&W(pe=>({...pe,status:he})),$v({to_name:me.fullName,to_email:me.email,subject:`Request Update: ${me.title}`,title:me.title,status:he,message:`Status updated to ${he}.`}))},be=async me=>{window.confirm("Delete this record permanently?")&&(await _N(wo(Ui,"requests",me)),J&&J.id===me&&W(null))},xe=()=>{const me=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],he=Y.map(We=>[We.displayId,We.dept,`"${We.title}"`,We.fullName,We.email,We.formattedDate,We.status,`"${(We.details||We.brief||We.description||"").replace(/"/g,'""')}"`]),pe="data:text/csv;charset=utf-8,"+[me.join(","),...he.map(We=>We.join(","))].join(`
`),we=encodeURI(pe),ke=document.createElement("a");ke.setAttribute("href",we),ke.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)},xt=Y.filter(me=>{const he=te==="all"?!0:me.dept?.toLowerCase().includes(te.toLowerCase()),pe=ce.toLowerCase(),we=me.title?.toLowerCase().includes(pe)||me.fullName?.toLowerCase().includes(pe)||me.displayId?.toLowerCase().includes(pe)||me.email?.toLowerCase().includes(pe);return he&&we}),wt=me=>{switch(me){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[J&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),p.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[p.jsxs("span",{children:["ID: ",J.displayId||"N/A"]}),p.jsxs("span",{className:"opacity-50",children:["| Ref: ",J.id]})]})]}),p.jsx("button",{onClick:()=>W(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:p.jsx(Ic,{size:20})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),p.jsx("p",{className:"font-semibold text-white capitalize",children:J.dept})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${wt(J.status)}`,children:J.status})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),p.jsx("p",{className:"text-slate-200",children:J.fullName})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),p.jsx("p",{className:"text-slate-200 font-mono text-sm",children:J.email})]})]}),p.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[p.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(Hd,{size:16,className:"text-cyan-500"})," Mission Details"]}),p.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(J).map(([me,he])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(me)?null:Array.isArray(he)?p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:me}),p.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:he.map((pe,we)=>p.jsx("li",{children:pe},we))})]},me):p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:me.replace(/([A-Z])/g," $1").trim()}),p.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:he})]},me))})]}),ue&&p.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>Ee(J,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),p.jsx("button",{onClick:()=>Ee(J,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),p.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[p.jsx(f_,{className:"text-purple-400"})," Request Log"]}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[p.jsxs("div",{className:"relative flex-1 lg:w-64",children:[p.jsx(iS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),p.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:ce,onChange:me=>de(me.target.value)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:te,onChange:me=>ge(me.target.value),children:[p.jsx("option",{value:"all",children:"All Sectors"}),p.jsx("option",{value:"film",children:"Film"}),p.jsx("option",{value:"graphic",children:"Graphic"}),p.jsx("option",{value:"business",children:"Business"}),p.jsx("option",{value:"culinary",children:"Culinary"}),p.jsx("option",{value:"photo",children:"Photo"})]}),ue&&p.jsxs("button",{onClick:xe,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[p.jsx(jA,{size:16})," ",p.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:w?p.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):p.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[p.jsx("th",{className:"p-4",children:"ID Code"}),p.jsx("th",{className:"p-4",children:"Sector"}),p.jsx("th",{className:"p-4",children:"Objective"}),p.jsx("th",{className:"p-4",children:"Agent"}),p.jsx("th",{className:"p-4",children:"Status"}),p.jsx("th",{className:"p-4",children:"View"}),ue&&p.jsx("th",{className:"p-4",children:"Override"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800",children:xt.map(me=>p.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[p.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:me.displayId}),p.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:me.dept}),p.jsx("td",{className:"p-4 text-white font-medium text-sm",children:me.title}),p.jsx("td",{className:"p-4 text-slate-400 text-sm",children:me.fullName}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${wt(me.status)}`,children:me.status})}),p.jsx("td",{className:"p-4",children:p.jsx("button",{onClick:()=>W(me),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:p.jsx(UA,{size:20})})}),ue&&p.jsxs("td",{className:"p-4 flex gap-2",children:[p.jsx("button",{onClick:()=>Ee(me,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:p.jsx(c_,{size:16})}),p.jsx("button",{onClick:()=>Ee(me,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:p.jsx(Ic,{size:16})}),p.jsx("button",{onClick:()=>be(me.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:p.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},me.id))})]})})]})}function x({title:ue,icon:ve,colorClass:L,children:Y,setSubmitted:re,initialData:te={},onCancel:ge,currentUser:w,blackouts:H=[]}){const J=Ie.useRef(null),W=Kr(ue),[ce,de]=Ie.useState(!1),Ee=()=>{const he=new FormData(J.current),pe={};for(const[we,ke]of he.entries())pe[we]?(Array.isArray(pe[we])||(pe[we]=[pe[we]]),pe[we].push(ke)):pe[we]=ke;return localStorage.setItem(W,JSON.stringify(pe)),!0},be=he=>{he.preventDefault(),Ee(),alert("Draft secured in local cache.")},xe=()=>{de(!0)},xt=()=>{Ee(),de(!1),ge()},wt=()=>{localStorage.removeItem(W),de(!1),ge()},me=async he=>{he.preventDefault();const pe=new FormData(he.target),we={};for(const[Xe,Ne]of pe.entries())we[Xe]?(Array.isArray(we[Xe])||(we[Xe]=[we[Xe]]),we[Xe].push(Ne)):we[Xe]=Ne;const ke=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let We=!1;if(ke.forEach(Xe=>{we[Xe]&&H.includes(we[Xe])&&(We=!0)}),We){alert("Date blocked by admin protocol. Select alternative.");return}try{const Xe=Date.now().toString().slice(-4),Ne=Math.floor(1e3+Math.random()*9e3),lt=`REQ-${Xe}-${Ne}`;await vN(Ya(Ui,"requests"),{...we,dept:ue,displayId:lt,status:"Pending Review",createdAt:new Date,title:we.requestName||we.eventName||we.projectType||we.businessName||"New Request"}),$v({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${we.requestName}`,title:we.requestName,status:"Pending Review",message:`New request (${lt}) from ${we.fullName}.`}),localStorage.removeItem(W),re(!0)}catch(Xe){console.error(Xe),alert("Transmission error.")}};return p.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[ce&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:p.jsx(fS,{size:32})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),p.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("button",{onClick:xt,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[p.jsx(Cc,{size:18})," Secure Draft & Exit"]}),p.jsx("button",{onClick:wt,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),p.jsx("button",{onClick:()=>de(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),p.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),p.jsxs("div",{className:"p-5 md:p-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${L.replace("bg-","text-")}`,children:p.jsx(ve,{size:28})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[ue," Protocol"]}),p.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),p.jsx("button",{type:"button",onClick:xe,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:p.jsx(Ic,{size:24})})]}),p.jsxs("form",{ref:J,onSubmit:me,children:[p.jsx(st,{initialData:te,currentUser:w}),Y,p.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[p.jsx("button",{type:"button",onClick:xe,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),p.jsxs("button",{type:"button",onClick:be,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[p.jsx(Cc,{size:18})," Save Draft"]}),p.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function C({setSubmitted:ue,onCancel:ve,currentUser:L,inventory:Y,blackouts:re}){const te="Film",ge=Kr(te),w=JSON.parse(localStorage.getItem(ge)||"{}"),[H,J]=Ie.useState(w.requestType||"checkout"),[W,ce]=Ie.useState({}),[de,Ee]=Ie.useState(!1),[be,xe]=Ie.useState({start:w.checkoutDate||"",end:w.returnDate||""}),xt=he=>{const pe={...be,[he.target.name==="checkoutDate"?"start":"end"]:he.target.value};xe(pe)};Ie.useEffect(()=>{(async()=>{if(!be.start||!be.end||H!=="checkout"){Ee(!1);return}Ee(!0);const pe=To(Ya(Ui,"requests"),jc("dept","==","Film"),jc("requestType","==","checkout")),we=await Cv(pe),ke={};we.forEach(Xe=>{const Ne=Xe.data();Ne.status==="Denied"||Ne.status==="Completed"||Ne.checkoutDate<=be.end&&Ne.returnDate>=be.start&&Ne.equipment&&(Array.isArray(Ne.equipment)?Ne.equipment:[Ne.equipment]).forEach(Xt=>{ke[Xt]=(ke[Xt]||0)+1})});const We={};Object.keys(Y).forEach(Xe=>{(Y[Xe].category==="film"||Y[Xe].category==="general")&&(We[Xe]=Math.max(0,Y[Xe].count-(ke[Xe]||0)))}),ce(We)})()},[be,H,Y]);const wt=be.start&&be.end&&be.start===be.end,me=Object.entries(Y).filter(([he,pe])=>pe.category==="film"||pe.category==="general").sort((he,pe)=>he[0].localeCompare(pe[0]));return p.jsxs(x,{title:te,icon:y_,colorClass:"bg-blue-600",setSubmitted:ue,initialData:w,onCancel:ve,currentUser:L,blackouts:re,children:[p.jsx("input",{type:"hidden",name:"requestType",value:H}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>J("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${H==="checkout"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(u_,{size:24}),p.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]}),p.jsxs("button",{type:"button",onClick:()=>J("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${H==="service"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(KA,{size:24}),p.jsx("span",{className:"font-bold",children:"Production Team"})]})]})]}),H==="checkout"?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 text-sm text-blue-200 flex items-start gap-3",children:[p.jsx(h_,{className:"shrink-0 mt-0.5 text-blue-400",size:16}),p.jsxs("p",{children:[p.jsx("strong",{children:"Protocol:"})," Equipment return deadline is 0800 hours the following school day."]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),p.jsx("input",{name:"checkoutDate",defaultValue:w.checkoutDate,onChange:xt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),p.jsx("input",{name:"returnDate",defaultValue:w.returnDate,onChange:xt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),wt&&p.jsxs("div",{className:"animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("label",{className:"block text-xs font-mono text-cyan-400 uppercase mb-1",children:"Specific Duration"}),p.jsxs("select",{name:"durationHours",defaultValue:w.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[p.jsx("option",{value:"",children:"Select Duration..."}),p.jsx("option",{value:"1 Hour",children:"1 Hour"}),p.jsx("option",{value:"2 Hours",children:"2 Hours"}),p.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),p.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:["Select Assets ",p.jsx("span",{className:"text-red-500 ml-2 normal-case tracking-normal",children:"* Certification Required"})]}),de?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:me.map(([he,pe])=>{const we=W[he]!==void 0?W[he]:99,ke=we<=0,We=he.replace(" *","").replace("*","");return p.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${ke?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-cyan-500/50 hover:shadow-[0_0_10px_rgba(8,145,178,0.1)] cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",name:"equipment",value:he,disabled:ke,defaultChecked:w.equipment?.includes(he),className:"w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[We," ",pe.requiresTraining&&p.jsx("span",{className:"text-red-400",children:"*"})]}),p.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${ke?"text-red-500":"text-emerald-500"}`,children:ke?"OFFLINE / UNAVAILABLE":`${we} UNITS ACTIVE`})]})]},he)})}):p.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[p.jsx(Fd,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),p.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),p.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[p.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:w.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),p.jsx("input",{name:"startTime",defaultValue:w.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Required"}),p.jsxs("select",{name:"serviceType",defaultValue:w.serviceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[p.jsx("option",{children:"Live Broadcast (Stream)"}),p.jsx("option",{children:"Event Recording (Edited later)"}),p.jsx("option",{children:"Raw Footage Only"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Mission Details"}),p.jsx("textarea",{name:"details",defaultValue:w.details,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none h-24",placeholder:"Describe specific shots, locations, or requirements..."})]})]})]})}function M({setSubmitted:ue,onCancel:ve,currentUser:L}){const Y="Graphic",re=Kr(Y),te=JSON.parse(localStorage.getItem(re)||"{}");return p.jsx(x,{title:Y,icon:m_,colorClass:"bg-purple-600",setSubmitted:ue,initialData:te,onCancel:ve,currentUser:L,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Type"}),p.jsxs("select",{name:"projectType",defaultValue:te.projectType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",children:[p.jsx("option",{children:"Event Poster / Flyer"}),p.jsx("option",{children:"Logo Design"}),p.jsx("option",{children:"Website Design"}),p.jsx("option",{children:"T-Shirt / Merch"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dimensions"}),p.jsx("input",{name:"dimensions",defaultValue:te.dimensions,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",placeholder:"e.g., 11x17"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Deadline"}),p.jsx("input",{name:"deadline",defaultValue:te.deadline,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Creative Brief"}),p.jsx("textarea",{name:"brief",defaultValue:te.brief,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function O({setSubmitted:ue,onCancel:ve,currentUser:L}){const Y="Business",re=Kr(Y),te=JSON.parse(localStorage.getItem(re)||"{}");return p.jsx(x,{title:Y,icon:Hd,colorClass:"bg-emerald-600",setSubmitted:ue,initialData:te,onCancel:ve,currentUser:L,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Support Required"}),p.jsxs("select",{name:"assistanceType",defaultValue:te.assistanceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none",children:[p.jsx("option",{children:"Business Plan Review"}),p.jsx("option",{children:"Financial Modeling Help"}),p.jsx("option",{children:"Marketing Strategy"}),p.jsx("option",{children:"General Mentorship"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Concept Overview"}),p.jsx("textarea",{name:"description",defaultValue:te.description,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none h-40",placeholder:"Briefly describe your product or service...",required:!0})]})]})})}function j({setSubmitted:ue,onCancel:ve,currentUser:L}){const Y="Culinary",re=Kr(Y),te=JSON.parse(localStorage.getItem(re)||"{}");return p.jsx(x,{title:Y,icon:g_,colorClass:"bg-orange-500",setSubmitted:ue,initialData:te,onCancel:ve,currentUser:L,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:te.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Serve Time"}),p.jsx("input",{name:"serveTime",defaultValue:te.serveTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Guest Count"}),p.jsx("input",{name:"guestCount",defaultValue:te.guestCount,type:"number",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",min:"1",placeholder:"50",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Style"}),p.jsxs("select",{name:"serviceStyle",defaultValue:te.serviceStyle,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",children:[p.jsx("option",{children:"Buffet Style"}),p.jsx("option",{children:"Boxed Lunches"}),p.jsx("option",{children:"Plated Service"}),p.jsx("option",{children:"Appetizers"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dietary Requirements"}),p.jsx("textarea",{name:"menuNotes",defaultValue:te.menuNotes,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none h-24",placeholder:"Preferences, allergies, restrictions...",required:!0})]})]})})}function R({setSubmitted:ue,onCancel:ve,currentUser:L,inventory:Y,blackouts:re}){const te="Photo",ge=Kr(te),w=JSON.parse(localStorage.getItem(ge)||"{}"),[H,J]=Ie.useState(w.requestType||"service"),[W,ce]=Ie.useState({}),[de,Ee]=Ie.useState(!1),[be,xe]=Ie.useState({start:w.pickupDate||"",end:w.returnDate||""}),xt=he=>{const pe={...be,[he.target.name==="pickupDate"?"start":"end"]:he.target.value};xe(pe)};Ie.useEffect(()=>{(async()=>{if(!be.start||!be.end||H!=="checkout"){Ee(!1);return}Ee(!0);const pe=To(Ya(Ui,"requests"),jc("dept","==","Photo"),jc("requestType","==","checkout")),we=await Cv(pe),ke={};we.forEach(Xe=>{const Ne=Xe.data();if(Ne.status==="Denied"||Ne.status==="Completed")return;const lt=Ne.pickupDate,Xt=Ne.returnDate;lt<=be.end&&Xt>=be.start&&Ne.equipment&&(Array.isArray(Ne.equipment)?Ne.equipment:[Ne.equipment]).forEach(ot=>{ke[ot]=(ke[ot]||0)+1})});const We={};Object.keys(Y).forEach(Xe=>{const Ne=Y[Xe].count,lt=ke[Xe]||0;We[Xe]=Math.max(0,Ne-lt)}),ce(We)})()},[be,H,Y]);const wt=be.start&&be.end&&be.start===be.end,me=Object.entries(Y).filter(([he,pe])=>pe.category==="photo"||pe.category==="general").sort((he,pe)=>he[0].localeCompare(pe[0]));return p.jsxs(x,{title:te,icon:Gd,colorClass:"bg-pink-600",setSubmitted:ue,initialData:w,onCancel:ve,currentUser:L,blackouts:re,children:[p.jsx("input",{type:"hidden",name:"requestType",value:H}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>J("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${H==="service"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(gS,{size:24}),p.jsx("span",{className:"font-bold",children:"Event Coverage"})]}),p.jsxs("button",{type:"button",onClick:()=>J("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${H==="checkout"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(u_,{size:24}),p.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]})]})]}),H==="checkout"?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-pink-900/20 p-4 rounded-lg border border-pink-500/30 text-sm text-pink-200 flex items-start gap-3",children:[p.jsx(h_,{className:"shrink-0 mt-0.5 text-pink-400",size:16}),p.jsxs("p",{children:[p.jsx("strong",{children:"Requirement:"})," Advanced Photo I certification required for DSLR bodies."]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Pickup Date"}),p.jsx("input",{name:"pickupDate",defaultValue:w.pickupDate,onChange:xt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),p.jsx("input",{name:"returnDate",defaultValue:w.returnDate,onChange:xt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),wt&&p.jsxs("div",{className:"mb-4 animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("label",{className:"block text-xs font-mono text-pink-400 uppercase mb-1",children:"Specific Duration"}),p.jsxs("select",{name:"durationHours",defaultValue:w.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",children:[p.jsx("option",{value:"",children:"Select Duration..."}),p.jsx("option",{value:"1 Hour",children:"1 Hour"}),p.jsx("option",{value:"2 Hours",children:"2 Hours"}),p.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),p.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:"Select Assets"}),de?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:me.map(([he,pe])=>{const we=W[he]!==void 0?W[he]:99,ke=we<=0,We=he.replace(" *","").replace("*","");return p.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${ke?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-pink-500/50 hover:shadow-[0_0_10px_rgba(236,72,153,0.1)] cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",name:"equipment",value:he,disabled:ke,defaultChecked:w.equipment?.includes(he),className:"w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[We," ",pe.requiresTraining&&p.jsx("span",{className:"text-red-400",children:"*"})]}),p.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${ke?"text-red-500":"text-emerald-500"}`,children:ke?"OFFLINE / UNAVAILABLE":`${we} UNITS ACTIVE`})]})]},he)})}):p.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[p.jsx(Fd,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),p.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),p.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[p.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:w.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),p.jsx("input",{name:"startTime",defaultValue:w.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Location"}),p.jsx("input",{name:"location",defaultValue:w.location,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",placeholder:"e.g., Gym"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Specific Shots"}),p.jsx("textarea",{name:"shotList",defaultValue:w.shotList,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none h-24",placeholder:"Key moments..."})]})]})]})}};fA.createRoot(document.getElementById("root")).render(p.jsx(Ie.StrictMode,{children:p.jsx(jI,{})}));
