(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Nd={exports:{}},yo={};var Y_;function X1(){if(Y_)return yo;Y_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return yo.Fragment=e,yo.jsx=i,yo.jsxs=i,yo}var X_;function $1(){return X_||(X_=1,Nd.exports=X1()),Nd.exports}var E=$1(),Dd={exports:{}},we={};var $_;function J1(){if($_)return we;$_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.iterator;function Y(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ie={};function ye(N,j,B){this.props=N,this.context=j,this.refs=ie,this.updater=B||ne}ye.prototype.isReactComponent={},ye.prototype.setState=function(N,j){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,j,"setState")},ye.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Ae(){}Ae.prototype=ye.prototype;function Ee(N,j,B){this.props=N,this.context=j,this.refs=ie,this.updater=B||ne}var Ke=Ee.prototype=new Ae;Ke.constructor=Ee,re(Ke,ye.prototype),Ke.isPureReactComponent=!0;var de=Array.isArray;function me(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function A(N,j,B){var K=B.ref;return{$$typeof:s,type:N,key:j,ref:K!==void 0?K:null,props:B}}function O(N,j){return A(N.type,j,N.props)}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function k(N){var j={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(B){return j[B]})}var C=/\/+/g;function Pe(N,j){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):j.toString(36)}function _e(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(me,me):(N.status="pending",N.then(function(j){N.status==="pending"&&(N.status="fulfilled",N.value=j)},function(j){N.status==="pending"&&(N.status="rejected",N.reason=j)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function q(N,j,B,K,ee){var te=typeof N;(te==="undefined"||te==="boolean")&&(N=null);var le=!1;if(N===null)le=!0;else switch(te){case"bigint":case"string":case"number":le=!0;break;case"object":switch(N.$$typeof){case s:case e:le=!0;break;case S:return le=N._init,q(le(N._payload),j,B,K,ee)}}if(le)return ee=ee(N),le=K===""?"."+Pe(N,0):K,de(ee)?(B="",le!=null&&(B=le.replace(C,"$&/")+"/"),q(ee,j,B,"",function(zt){return zt})):ee!=null&&(D(ee)&&(ee=O(ee,B+(ee.key==null||N&&N.key===ee.key?"":(""+ee.key).replace(C,"$&/")+"/")+le)),j.push(ee)),1;le=0;var Ye=K===""?".":K+":";if(de(N))for(var Xe=0;Xe<N.length;Xe++)K=N[Xe],te=Ye+Pe(K,Xe),le+=q(K,j,B,te,ee);else if(Xe=Y(N),typeof Xe=="function")for(N=Xe.call(N),Xe=0;!(K=N.next()).done;)K=K.value,te=Ye+Pe(K,Xe++),le+=q(K,j,B,te,ee);else if(te==="object"){if(typeof N.then=="function")return q(_e(N),j,B,K,ee);throw j=String(N),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return le}function W(N,j,B){if(N==null)return N;var K=[],ee=0;return q(N,K,"","",function(te){return j.call(B,te,ee++)}),K}function ue(N){if(N._status===-1){var j=N._result;j=j(),j.then(function(B){(N._status===0||N._status===-1)&&(N._status=1,N._result=B)},function(B){(N._status===0||N._status===-1)&&(N._status=2,N._result=B)}),N._status===-1&&(N._status=0,N._result=j)}if(N._status===1)return N._result.default;throw N._result}var Re=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},fe={map:W,forEach:function(N,j,B){W(N,function(){j.apply(this,arguments)},B)},count:function(N){var j=0;return W(N,function(){j++}),j},toArray:function(N){return W(N,function(j){return j})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return we.Activity=x,we.Children=fe,we.Component=ye,we.Fragment=i,we.Profiler=o,we.PureComponent=Ee,we.StrictMode=a,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,we.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},we.cache=function(N){return function(){return N.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(N,j,B){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=re({},N.props),ee=N.key;if(j!=null)for(te in j.key!==void 0&&(ee=""+j.key),j)!w.call(j,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&j.ref===void 0||(K[te]=j[te]);var te=arguments.length-2;if(te===1)K.children=B;else if(1<te){for(var le=Array(te),Ye=0;Ye<te;Ye++)le[Ye]=arguments[Ye+2];K.children=le}return A(N.type,ee,K)},we.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},we.createElement=function(N,j,B){var K,ee={},te=null;if(j!=null)for(K in j.key!==void 0&&(te=""+j.key),j)w.call(j,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=j[K]);var le=arguments.length-2;if(le===1)ee.children=B;else if(1<le){for(var Ye=Array(le),Xe=0;Xe<le;Xe++)Ye[Xe]=arguments[Xe+2];ee.children=Ye}if(N&&N.defaultProps)for(K in le=N.defaultProps,le)ee[K]===void 0&&(ee[K]=le[K]);return A(N,te,ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:g,render:N}},we.isValidElement=D,we.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:ue}},we.memo=function(N,j){return{$$typeof:_,type:N,compare:j===void 0?null:j}},we.startTransition=function(N){var j=R.T,B={};R.T=B;try{var K=N(),ee=R.S;ee!==null&&ee(B,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(me,Re)}catch(te){Re(te)}finally{j!==null&&B.types!==null&&(j.types=B.types),R.T=j}},we.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},we.use=function(N){return R.H.use(N)},we.useActionState=function(N,j,B){return R.H.useActionState(N,j,B)},we.useCallback=function(N,j){return R.H.useCallback(N,j)},we.useContext=function(N){return R.H.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N,j){return R.H.useDeferredValue(N,j)},we.useEffect=function(N,j){return R.H.useEffect(N,j)},we.useEffectEvent=function(N){return R.H.useEffectEvent(N)},we.useId=function(){return R.H.useId()},we.useImperativeHandle=function(N,j,B){return R.H.useImperativeHandle(N,j,B)},we.useInsertionEffect=function(N,j){return R.H.useInsertionEffect(N,j)},we.useLayoutEffect=function(N,j){return R.H.useLayoutEffect(N,j)},we.useMemo=function(N,j){return R.H.useMemo(N,j)},we.useOptimistic=function(N,j){return R.H.useOptimistic(N,j)},we.useReducer=function(N,j,B){return R.H.useReducer(N,j,B)},we.useRef=function(N){return R.H.useRef(N)},we.useState=function(N){return R.H.useState(N)},we.useSyncExternalStore=function(N,j,B){return R.H.useSyncExternalStore(N,j,B)},we.useTransition=function(){return R.H.useTransition()},we.version="19.2.0",we}var J_;function Nm(){return J_||(J_=1,Dd.exports=J1()),Dd.exports}var qe=Nm(),Od={exports:{}},_o={},Vd={exports:{}},Md={};var Z_;function Z1(){return Z_||(Z_=1,(function(s){function e(q,W){var ue=q.length;q.push(W);e:for(;0<ue;){var Re=ue-1>>>1,fe=q[Re];if(0<o(fe,W))q[Re]=W,q[ue]=fe,ue=Re;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var W=q[0],ue=q.pop();if(ue!==W){q[0]=ue;e:for(var Re=0,fe=q.length,N=fe>>>1;Re<N;){var j=2*(Re+1)-1,B=q[j],K=j+1,ee=q[K];if(0>o(B,ue))K<fe&&0>o(ee,B)?(q[Re]=ee,q[K]=ue,Re=K):(q[Re]=B,q[j]=ue,Re=j);else if(K<fe&&0>o(ee,ue))q[Re]=ee,q[K]=ue,Re=K;else break e}}return W}function o(q,W){var ue=q.sortIndex-W.sortIndex;return ue!==0?ue:q.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],S=1,x=null,M=3,Y=!1,ne=!1,re=!1,ie=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function Ke(q){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=q)a(_),W.sortIndex=W.expirationTime,e(y,W);else break;W=i(_)}}function de(q){if(re=!1,Ke(q),!ne)if(i(y)!==null)ne=!0,me||(me=!0,k());else{var W=i(_);W!==null&&_e(de,W.startTime-q)}}var me=!1,R=-1,w=5,A=-1;function O(){return ie?!0:!(s.unstable_now()-A<w)}function D(){if(ie=!1,me){var q=s.unstable_now();A=q;var W=!0;try{e:{ne=!1,re&&(re=!1,Ae(R),R=-1),Y=!0;var ue=M;try{t:{for(Ke(q),x=i(y);x!==null&&!(x.expirationTime>q&&O());){var Re=x.callback;if(typeof Re=="function"){x.callback=null,M=x.priorityLevel;var fe=Re(x.expirationTime<=q);if(q=s.unstable_now(),typeof fe=="function"){x.callback=fe,Ke(q),W=!0;break t}x===i(y)&&a(y),Ke(q)}else a(y);x=i(y)}if(x!==null)W=!0;else{var N=i(_);N!==null&&_e(de,N.startTime-q),W=!1}}break e}finally{x=null,M=ue,Y=!1}W=void 0}}finally{W?k():me=!1}}}var k;if(typeof Ee=="function")k=function(){Ee(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Pe=C.port2;C.port1.onmessage=D,k=function(){Pe.postMessage(null)}}else k=function(){ye(D,0)};function _e(q,W){R=ye(function(){q(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(q){switch(M){case 1:case 2:case 3:var W=3;break;default:W=M}var ue=M;M=W;try{return q()}finally{M=ue}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ue=M;M=q;try{return W()}finally{M=ue}},s.unstable_scheduleCallback=function(q,W,ue){var Re=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Re+ue:Re):ue=Re,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ue+fe,q={id:S++,callback:W,priorityLevel:q,startTime:ue,expirationTime:fe,sortIndex:-1},ue>Re?(q.sortIndex=ue,e(_,q),i(y)===null&&q===i(_)&&(re?(Ae(R),R=-1):re=!0,_e(de,ue-Re))):(q.sortIndex=fe,e(y,q),ne||Y||(ne=!0,me||(me=!0,k()))),q},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(q){var W=M;return function(){var ue=M;M=W;try{return q.apply(this,arguments)}finally{M=ue}}}})(Md)),Md}var W_;function W1(){return W_||(W_=1,Vd.exports=Z1()),Vd.exports}var kd={exports:{}},Zt={};var e0;function eS(){if(e0)return Zt;e0=1;var s=Nm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zt.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,S)},Zt.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},Zt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Zt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Zt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:M,fetchPriority:Y}):S==="script"&&a.d.X(y,{crossOrigin:x,integrity:M,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Zt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Zt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Zt.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Zt.requestFormReset=function(y){a.d.r(y)},Zt.unstable_batchedUpdates=function(y,_){return y(_)},Zt.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var t0;function tS(){if(t0)return kd.exports;t0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=eS(),kd.exports}var n0;function nS(){if(n0)return _o;n0=1;var s=W1(),e=Nm(),i=tS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,l=f;break}if(T===l){p=!0,l=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,l=h;break}if(T===l){p=!0,l=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),Ke=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case ye:return"Profiler";case ie:return"StrictMode";case de:return"Suspense";case me:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case Ee:return t.displayName||"Context";case Ae:return(t._context.displayName||"Context")+".Consumer";case Ke:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Pe(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Pe(t(n))}catch{}}return null}var _e=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Re=[],fe=-1;function N(t){return{current:t}}function j(t){0>fe||(t.current=Re[fe],Re[fe]=null,fe--)}function B(t,n){fe++,Re[fe]=t.current,t.current=n}var K=N(null),ee=N(null),te=N(null),le=N(null);function Ye(t,n){switch(B(te,n),B(ee,t),B(K,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?y_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=y_(n),t=__(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(K),B(K,t)}function Xe(){j(K),j(ee),j(te)}function zt(t){t.memoizedState!==null&&B(le,t);var n=K.current,r=__(n,t.type);n!==r&&(B(ee,t),B(K,r))}function ln(t){ee.current===t&&(j(K),j(ee)),le.current===t&&(j(le),fo._currentValue=ue)}var ri,cs;function Rn(t){if(ri===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ri=n&&n[1]||"",cs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+t+cs}var cr=!1;function ji(t,n){if(!t||cr)return"";cr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var H=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){H=G}t.call($.prototype)}}else{try{throw Error()}catch(G){H=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{cr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Rn(r):""}function dl(t,n){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return t.child!==n&&n!==null?Rn("Suspense Fallback"):Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return ji(t.type,!1);case 11:return ji(t.type.render,!1);case 1:return ji(t.type,!0);case 31:return Rn("Activity");default:return""}}function ml(t){try{var n="",r=null;do n+=dl(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,Dh=s.unstable_shouldYield,Jo=s.unstable_requestPaint,sn=s.unstable_now,hr=s.unstable_getCurrentPriorityLevel,pl=s.unstable_ImmediatePriority,gl=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,Oh=s.unstable_LowPriority,Zo=s.unstable_IdlePriority,Wo=s.log,eu=s.unstable_setDisableYieldValue,Bn=null,qt=null;function Cn(t){if(typeof Wo=="function"&&eu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Bn,t)}catch{}}var pt=Math.clz32?Math.clz32:nu,tu=Math.log,na=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(tu(t)/na|0)|0}var ai=256,fr=262144,Tt=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=li(l):(p&=T,p!==0?h=li(p):r||(r=T&~t,r!==0&&(h=li(r))))):(T=l&~f,T!==0?h=li(T):p!==0?h=li(p):r||(r=l&~t,r!==0&&(h=li(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Hn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var Q=31-pt(r),$=1<<Q;T[Q]=0,I[Q]=-1;var H=z[Q];if(H!==null)for(z[Q]=null,Q=0;Q<H.length;Q++){var G=H[Q];G!==null&&(G.lane&=-536870913)}r&=~$}l!==0&&mr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function mr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-pt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function yl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-pt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function _l(t,n){var r=n&-n;return r=(r&42)!==0?1:pr(r),(r&(t.suspendedLanes|n))!==0?0:r}function pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:q_(t.type))}function Fn(t,n){var r=W.p;try{return W.p=t,n()}finally{W.p=r}}var Gn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Gn,jt="__reactProps$"+Gn,ci="__reactContainer$"+Gn,ia="__reactEvents$"+Gn,kh="__reactListeners$"+Gn,ru="__reactHandles$"+Gn,au="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function sa(t){delete t[bt],delete t[jt],delete t[ia],delete t[kh],delete t[ru]}function fi(t){var n=t[bt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ci]||r[bt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=w_(t);t!==null;){if(r=t[bt])return r;t=w_(t)}return n}t=r,r=t.parentNode}return null}function In(t){if(t=t[bt]||t[ci]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function yn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function di(t){var n=t[au];return n||(n=t[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function St(t){t[hi]=!0}var vl=new Set,El={};function mi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(El[t]=n,t=0;t<n.length;t++)vl.add(n[t])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bl={},Sl={};function lu(t){return Et.call(Sl,t)?!0:Et.call(bl,t)?!1:Tl.test(t)?Sl[t]=!0:(bl[t]=!0,!1)}function ra(t,n,r){if(lu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function _n(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function At(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ds(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Al(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Je(t){if(!t._valueTracker){var n=ds(t)?"checked":"value";t._valueTracker=Al(t,n,""+t[n])}}function gr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ds(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yr=/[\n"\\]/g;function on(t){return t.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(t,n,r,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?wl(t,p,Lt(n)):r!=null?wl(t,p,Lt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function ou(t,n,r,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Je(t);return}r=r!=null?""+Lt(r):"",n=n!=null?""+Lt(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Je(t)}function wl(t,n,r){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ms(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Lt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function uu(t,n,r){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Lt(r):""}function ps(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(_e(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Lt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Je(t)}function un(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||cu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Rl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&xl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&xl(t,f,n[f])}function la(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(t){return gs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Cl=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,yi=null;function _r(t){var n=In(t);if(n&&(t=n.stateNode)){var r=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(aa(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[jt]||null;if(!h)throw Error(a(90));aa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&gr(l)}break e;case"textarea":uu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ms(t,!!r.multiple,n,!1)}}}var ua=!1;function _s(t,n,r){if(ua)return t(n,r);ua=!0;try{var l=t(n);return l}finally{if(ua=!1,(ys!==null||yi!==null)&&(sc(),ys&&(n=ys,t=yi,yi=ys=null,_r(n),t)))for(n=0;n<t.length;n++)_r(t[n])}}function Kn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[jt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Dn)try{var et={};Object.defineProperty(et,"passive",{get:function(){vr=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{vr=!1}var _i=null,Il=null,Er=null;function Nl(){if(Er)return Er;var t,n=Il,r=n.length,l,h="value"in _i?_i.value:_i.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Er=h.slice(t,1<l?1-l:void 0)}function Tr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Yn(){return!1}function Bt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Yn,this.isPropagationStopped=Yn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Bt(Pi),vs=x({},Pi,{view:0,detail:0}),Dl=Bt(vs),Es,ca,Ei,ha=x({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Es=t.screenX-Ei.screenX,ca=t.screenY-Ei.screenY):ca=Es=0,Ei=t),Es)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),Ol=Bt(ha),br=x({},ha,{dataTransfer:0}),fu=Bt(br),du=x({},vs,{relatedTarget:0}),Sr=Bt(du),Vl=x({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=Bt(Vl),fa=x({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pu=Bt(fa),gu=x({},Pi,{data:0}),Ti=Bt(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=vu[t])?!!n[t]:!1}function Ts(){return Eu}var rn=x({},vs,{key:function(t){if(t.key){var n=yu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=Bt(rn),bu=x({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Bt(bu),u=x({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=Bt(u),v=x({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Bt(v),U=x({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(U),se=x({},Pi,{newState:0,oldState:0}),Ce=Bt(se),gt=[9,13,27,32],Ge=Dn&&"CompositionEvent"in window,ut=null;Dn&&"documentMode"in document&&(ut=document.documentMode);var On=Dn&&"TextEvent"in window&&!ut,bi=Dn&&(!Ge||ut&&8<ut&&11>=ut),Xn=" ",$n=!1;function Ar(t,n){switch(t){case"keyup":return gt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function vb(t,n){switch(t){case"compositionend":return da(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return t=n.data,t===Xn&&$n?null:t;default:return null}}function Eb(t,n){if(ma)return t==="compositionend"||!Ge&&Ar(t,n)?(t=Nl(),Er=Il=_i=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var Tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Tb[t.type]:n==="textarea"}function Ip(t,n,r,l){ys?yi?yi.push(l):yi=[l]:ys=l,n=hc(n,"onChange"),0<n.length&&(r=new vi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ml=null,kl=null;function bb(t){h_(t,0)}function Su(t){var n=yn(t);if(gr(n))return t}function Np(t,n){if(t==="change")return n}var Dp=!1;if(Dn){var jh;if(Dn){var Lh="oninput"in document;if(!Lh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Lh=typeof Op.oninput=="function"}jh=Lh}else jh=!1;Dp=jh&&(!document.documentMode||9<document.documentMode)}function Vp(){Ml&&(Ml.detachEvent("onpropertychange",Mp),kl=Ml=null)}function Mp(t){if(t.propertyName==="value"&&Su(kl)){var n=[];Ip(n,kl,t,Nn(t)),_s(bb,n)}}function Sb(t,n,r){t==="focusin"?(Vp(),Ml=n,kl=r,Ml.attachEvent("onpropertychange",Mp)):t==="focusout"&&Vp()}function Ab(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(kl)}function wb(t,n){if(t==="click")return Su(n)}function xb(t,n){if(t==="input"||t==="change")return Su(n)}function Rb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var vn=typeof Object.is=="function"?Object.is:Rb;function jl(t,n){if(vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Et.call(n,h)||!vn(t[h],n[h]))return!1}return!0}function kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,n){var r=kp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kp(r)}}function Lp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=gi(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Cb=Dn&&"documentMode"in document&&11>=document.documentMode,pa=null,Ph=null,Ll=null,zh=!1;function Pp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zh||pa==null||pa!==gi(l)||(l=pa,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&jl(Ll,l)||(Ll=l,l=hc(Ph,"onSelect"),0<l.length&&(n=new vi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=pa)))}function wr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ga={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},qh={},zp={};Dn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function xr(t){if(qh[t])return qh[t];if(!ga[t])return t;var n=ga[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zp)return qh[t]=n[r];return t}var qp=xr("animationend"),Bp=xr("animationiteration"),Hp=xr("animationstart"),Ib=xr("transitionrun"),Nb=xr("transitionstart"),Db=xr("transitioncancel"),Fp=xr("transitionend"),Gp=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Jn(t,n){Gp.set(t,n),mi(n,[t])}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],ya=0,Hh=0;function wu(){for(var t=ya,n=Hh=ya=0;n<t;){var r=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Qp(r,h,f)}}function xu(t,n,r,l){Vn[ya++]=t,Vn[ya++]=n,Vn[ya++]=r,Vn[ya++]=l,Hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fh(t,n,r,l){return xu(t,n,r,l),Ru(t)}function Rr(t,n){return xu(t,null,null,n),Ru(t)}function Qp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-pt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ru(t){if(50<ro)throw ro=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var _a={};function Ob(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,n,r,l){return new Ob(t,n,r,l)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,n){var r=t.alternate;return r===null?(r=En(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Cu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Gh(t)&&(p=1);else if(typeof t=="string")p=L1(t,r,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=En(31,r,n,h),t.elementType=A,t.lanes=f,t;case re:return Cr(r.children,h,f,n);case ie:p=8,h|=24;break;case ye:return t=En(12,r,n,h|2),t.elementType=ye,t.lanes=f,t;case de:return t=En(13,r,n,h),t.elementType=de,t.lanes=f,t;case me:return t=En(19,r,n,h),t.elementType=me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:p=10;break e;case Ae:p=9;break e;case Ke:p=11;break e;case R:p=14;break e;case w:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=En(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Cr(t,n,r,l){return t=En(7,t,l,n),t.lanes=r,t}function Qh(t,n,r){return t=En(6,t,null,n),t.lanes=r,t}function Yp(t){var n=En(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,r){return n=En(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xp=new WeakMap;function Mn(t,n){if(typeof t=="object"&&t!==null){var r=Xp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ml(n)},Xp.set(t,n),n)}return{value:t,source:n,stack:ml(n)}}var va=[],Ea=0,Iu=null,Ul=0,kn=[],jn=0,bs=null,Si=1,Ai="";function Bi(t,n){va[Ea++]=Ul,va[Ea++]=Iu,Iu=t,Ul=n}function $p(t,n,r){kn[jn++]=Si,kn[jn++]=Ai,kn[jn++]=bs,bs=t;var l=Si;t=Ai;var h=32-pt(l)-1;l&=~(1<<h),r+=1;var f=32-pt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Si=1<<32-pt(n)+h|r<<h|l,Ai=f+t}else Si=1<<f|r<<h|l,Ai=t}function Yh(t){t.return!==null&&(Bi(t,1),$p(t,1,0))}function Xh(t){for(;t===Iu;)Iu=va[--Ea],va[Ea]=null,Ul=va[--Ea],va[Ea]=null;for(;t===bs;)bs=kn[--jn],kn[jn]=null,Ai=kn[--jn],kn[jn]=null,Si=kn[--jn],kn[jn]=null}function Jp(t,n){kn[jn++]=Si,kn[jn++]=Ai,kn[jn++]=bs,Si=n.id,Ai=n.overflow,bs=t}var Ht=null,at=null,Ue=!1,Ss=null,Ln=!1,$h=Error(a(519));function As(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(Mn(n,t)),$h}function Zp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[bt]=t,n[jt]=l,r){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(r=0;r<lo.length;r++)Oe(lo[r],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),ou(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),ps(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||p_(n.textContent,r)?(l.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),l.onScroll!=null&&Oe("scroll",n),l.onScrollEnd!=null&&Oe("scrollend",n),l.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||As(t,!0)}function Wp(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ht=Ht.return}}function Ta(t){if(t!==Ht)return!1;if(!Ue)return Wp(t),Ue=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||pd(t.type,t.memoizedProps)),r=!r),r&&at&&As(t),Wp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=A_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=A_(t)}else n===27?(n=at,Us(t.type)?(t=Ed,Ed=null,at=t):at=n):at=Ht?Pn(t.stateNode.nextSibling):null;return!0}function Ir(){at=Ht=null,Ue=!1}function Jh(){var t=Ss;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ss=null),t}function Pl(t){Ss===null?Ss=[t]:Ss.push(t)}var Zh=N(null),Nr=null,Hi=null;function ws(t,n,r){B(Zh,n._currentValue),n._currentValue=r}function Fi(t){t._currentValue=Zh.current,j(Zh)}function Wh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ef(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Wh(f.return,r,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Wh(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ba(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;vn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===le.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fo):t=[fo])}h=h.return}t!==null&&ef(n,t,r,l),n.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Nr=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return eg(Nr,t)}function Du(t,n){return Nr===null&&Dr(t),eg(t,n)}function eg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Hi===null){if(t===null)throw Error(a(308));Hi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Hi=Hi.next=n;return r}var Vb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Mb=s.unstable_scheduleCallback,kb=s.unstable_NormalPriority,wt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Vb,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&Mb(kb,function(){t.controller.abort()})}var ql=null,nf=0,Sa=0,Aa=null;function jb(t,n){if(ql===null){var r=ql=[];nf=0,Sa=ad(),Aa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nf++,n.then(tg,tg),n}function tg(){if(--nf===0&&ql!==null){Aa!==null&&(Aa.status="fulfilled");var t=ql;ql=null,Sa=0,Aa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Lb(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ng=q.S;q.S=function(t,n){Py=sn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jb(t,n),ng!==null&&ng(t,n)};var Or=N(null);function sf(){var t=Or.current;return t!==null?t:st.pooledCache}function Ou(t,n){n===null?B(Or,Or.current):B(Or,n.pool)}function ig(){var t=sf();return t===null?null:{parent:wt._currentValue,pool:t}}var wa=Error(a(460)),rf=Error(a(474)),Vu=Error(a(542)),Mu={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Qn,Qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Mr=n,wa}}function Vr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Mr=r,wa):r}}var Mr=null;function ag(){if(Mr===null)throw Error(a(459));var t=Mr;return Mr=null,t}function lg(t){if(t===wa||t===Vu)throw Error(a(483))}var xa=null,Bl=0;function ku(t){var n=Bl;return Bl+=1,xa===null&&(xa=[]),rg(xa,t,n)}function Hl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ju(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){function n(L,V){if(t){var P=L.deletions;P===null?(L.deletions=[V],L.flags|=16):P.push(V)}}function r(L,V){if(!t)return null;for(;V!==null;)n(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=qi(L,V),L.index=0,L.sibling=null,L}function f(L,V,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<V?(L.flags|=67108866,V):P):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function p(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,P,X){return V===null||V.tag!==6?(V=Qh(P,L.mode,X),V.return=L,V):(V=h(V,P),V.return=L,V)}function I(L,V,P,X){var pe=P.type;return pe===re?Q(L,V,P.props.children,X,P.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Vr(pe)===V.type)?(V=h(V,P.props),Hl(V,P),V.return=L,V):(V=Cu(P.type,P.key,P.props,null,L.mode,X),Hl(V,P),V.return=L,V)}function z(L,V,P,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=Kh(P,L.mode,X),V.return=L,V):(V=h(V,P.children||[]),V.return=L,V)}function Q(L,V,P,X,pe){return V===null||V.tag!==7?(V=Cr(P,L.mode,X,pe),V.return=L,V):(V=h(V,P),V.return=L,V)}function $(L,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qh(""+V,L.mode,P),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Y:return P=Cu(V.type,V.key,V.props,null,L.mode,P),Hl(P,V),P.return=L,P;case ne:return V=Kh(V,L.mode,P),V.return=L,V;case w:return V=Vr(V),$(L,V,P)}if(_e(V)||k(V))return V=Cr(V,L.mode,P,null),V.return=L,V;if(typeof V.then=="function")return $(L,ku(V),P);if(V.$$typeof===Ee)return $(L,Du(L,V),P);ju(L,V)}return null}function H(L,V,P,X){var pe=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:T(L,V,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===pe?I(L,V,P,X):null;case ne:return P.key===pe?z(L,V,P,X):null;case w:return P=Vr(P),H(L,V,P,X)}if(_e(P)||k(P))return pe!==null?null:Q(L,V,P,X,null);if(typeof P.then=="function")return H(L,V,ku(P),X);if(P.$$typeof===Ee)return H(L,V,Du(L,P),X);ju(L,P)}return null}function G(L,V,P,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(P)||null,T(V,L,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Y:return L=L.get(X.key===null?P:X.key)||null,I(V,L,X,pe);case ne:return L=L.get(X.key===null?P:X.key)||null,z(V,L,X,pe);case w:return X=Vr(X),G(L,V,P,X,pe)}if(_e(X)||k(X))return L=L.get(P)||null,Q(V,L,X,pe,null);if(typeof X.then=="function")return G(L,V,P,ku(X),pe);if(X.$$typeof===Ee)return G(L,V,P,Du(V,X),pe);ju(V,X)}return null}function ce(L,V,P,X){for(var pe=null,Be=null,he=V,Ne=V=0,Me=null;he!==null&&Ne<P.length;Ne++){he.index>Ne?(Me=he,he=null):Me=he.sibling;var He=H(L,he,P[Ne],X);if(He===null){he===null&&(he=Me);break}t&&he&&He.alternate===null&&n(L,he),V=f(He,V,Ne),Be===null?pe=He:Be.sibling=He,Be=He,he=Me}if(Ne===P.length)return r(L,he),Ue&&Bi(L,Ne),pe;if(he===null){for(;Ne<P.length;Ne++)he=$(L,P[Ne],X),he!==null&&(V=f(he,V,Ne),Be===null?pe=he:Be.sibling=he,Be=he);return Ue&&Bi(L,Ne),pe}for(he=l(he);Ne<P.length;Ne++)Me=G(he,L,Ne,P[Ne],X),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?Ne:Me.key),V=f(Me,V,Ne),Be===null?pe=Me:Be.sibling=Me,Be=Me);return t&&he.forEach(function(Hs){return n(L,Hs)}),Ue&&Bi(L,Ne),pe}function ve(L,V,P,X){if(P==null)throw Error(a(151));for(var pe=null,Be=null,he=V,Ne=V=0,Me=null,He=P.next();he!==null&&!He.done;Ne++,He=P.next()){he.index>Ne?(Me=he,he=null):Me=he.sibling;var Hs=H(L,he,He.value,X);if(Hs===null){he===null&&(he=Me);break}t&&he&&Hs.alternate===null&&n(L,he),V=f(Hs,V,Ne),Be===null?pe=Hs:Be.sibling=Hs,Be=Hs,he=Me}if(He.done)return r(L,he),Ue&&Bi(L,Ne),pe;if(he===null){for(;!He.done;Ne++,He=P.next())He=$(L,He.value,X),He!==null&&(V=f(He,V,Ne),Be===null?pe=He:Be.sibling=He,Be=He);return Ue&&Bi(L,Ne),pe}for(he=l(he);!He.done;Ne++,He=P.next())He=G(he,L,Ne,He.value,X),He!==null&&(t&&He.alternate!==null&&he.delete(He.key===null?Ne:He.key),V=f(He,V,Ne),Be===null?pe=He:Be.sibling=He,Be=He);return t&&he.forEach(function(Y1){return n(L,Y1)}),Ue&&Bi(L,Ne),pe}function it(L,V,P,X){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:e:{for(var pe=P.key;V!==null;){if(V.key===pe){if(pe=P.type,pe===re){if(V.tag===7){r(L,V.sibling),X=h(V,P.props.children),X.return=L,L=X;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Vr(pe)===V.type){r(L,V.sibling),X=h(V,P.props),Hl(X,P),X.return=L,L=X;break e}r(L,V);break}else n(L,V);V=V.sibling}P.type===re?(X=Cr(P.props.children,L.mode,X,P.key),X.return=L,L=X):(X=Cu(P.type,P.key,P.props,null,L.mode,X),Hl(X,P),X.return=L,L=X)}return p(L);case ne:e:{for(pe=P.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){r(L,V.sibling),X=h(V,P.children||[]),X.return=L,L=X;break e}else{r(L,V);break}else n(L,V);V=V.sibling}X=Kh(P,L.mode,X),X.return=L,L=X}return p(L);case w:return P=Vr(P),it(L,V,P,X)}if(_e(P))return ce(L,V,P,X);if(k(P)){if(pe=k(P),typeof pe!="function")throw Error(a(150));return P=pe.call(P),ve(L,V,P,X)}if(typeof P.then=="function")return it(L,V,ku(P),X);if(P.$$typeof===Ee)return it(L,V,Du(L,P),X);ju(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(r(L,V.sibling),X=h(V,P),X.return=L,L=X):(r(L,V),X=Qh(P,L.mode,X),X.return=L,L=X),p(L)):r(L,V)}return function(L,V,P,X){try{Bl=0;var pe=it(L,V,P,X);return xa=null,pe}catch(he){if(he===wa||he===Vu)throw he;var Be=En(29,he,null,L.mode);return Be.lanes=X,Be.return=L,Be}finally{}}}var kr=og(!0),ug=og(!1),xs=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ru(t),Qp(t,null,r),n}return xu(t,l,n,r),Ru(t)}function Fl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,yl(t,r)}}function of(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var uf=!1;function Gl(){if(uf){var t=Aa;if(t!==null)throw t}}function Ql(t,n,r,l){uf=!1;var h=t.updateQueue;xs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==p&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,Q=z=I=null,T=f;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Ve&H)===H:(l&H)===H){H!==0&&H===Sa&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,ve=T;H=n;var it=r;switch(ve.tag){case 1:if(ce=ve.payload,typeof ce=="function"){$=ce.call(it,$,H);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ve.payload,H=typeof ce=="function"?ce.call(it,$,H):ce,H==null)break e;$=x({},$,H);break e;case 2:xs=!0}}H=T.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=G,I=$):Q=Q.next=G,p|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Vs|=p,t.lanes=p,t.memoizedState=$}}function cg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cg(r[t],n)}var Ra=N(null),Lu=N(0);function fg(t,n){t=Wi,B(Lu,t),B(Ra,n),Wi=t|n.baseLanes}function cf(){B(Lu,Wi),B(Ra,Ra.current)}function hf(){Wi=Lu.current,j(Ra),j(Lu)}var Tn=N(null),Un=null;function Is(t){var n=t.alternate;B(yt,yt.current&1),B(Tn,t),Un===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Un=t)}function ff(t){B(yt,yt.current),B(Tn,t),Un===null&&(Un=t)}function dg(t){t.tag===22?(B(yt,yt.current),B(Tn,t),Un===null&&(Un=t)):Ns()}function Ns(){B(yt,yt.current),B(Tn,Tn.current)}function bn(t){j(Tn),Un===t&&(Un=null),j(yt)}var yt=N(0);function Uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_d(r)||vd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Ie=null,tt=null,xt=null,Pu=!1,Ca=!1,jr=!1,zu=0,Kl=0,Ia=null,Ub=0;function dt(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!vn(t[r],n[r]))return!1;return!0}function mf(t,n,r,l,h,f){return Gi=f,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?$g:If,jr=!1,f=r(l,h),jr=!1,Ca&&(f=pg(n,r,l,h)),mg(t),f}function mg(t){q.H=$l;var n=tt!==null&&tt.next!==null;if(Gi=0,xt=tt=Ie=null,Pu=!1,Kl=0,Ia=null,n)throw Error(a(300));t===null||Rt||(t=t.dependencies,t!==null&&Nu(t)&&(Rt=!0))}function pg(t,n,r,l){Ie=t;var h=0;do{if(Ca&&(Ia=null),Kl=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,xt=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Jg,f=n(r,l)}while(Ca);return f}function Pb(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Yl(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ie.flags|=1024),n}function pf(){var t=zu!==0;return zu=0,t}function gf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function yf(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}Gi=0,xt=tt=Ie=null,Ca=!1,Kl=zu=0,Ia=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=t:xt=xt.next=t,xt}function _t(){if(tt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=xt===null?Ie.memoizedState:xt.next;if(n!==null)xt=n,tt=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},xt===null?Ie.memoizedState=xt=t:xt=xt.next=t}return xt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(t){var n=Kl;return Kl+=1,Ia===null&&(Ia=[]),t=rg(Ia,t,n),n=Ie,(xt===null?n.memoizedState:xt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?$g:If),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yl(t);if(t.$$typeof===Ee)return Ft(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,r=Ie.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=qu(),Ie.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function Qi(t,n){return typeof n=="function"?n(t):n}function Hu(t){var n=_t();return vf(n,tt,t)}function vf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,I=null,z=n,Q=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ve&$)===$:(Gi&$)===$){var H=z.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Sa&&(Q=!0);else if((Gi&H)===H){z=z.next,H===Sa&&(Q=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=$,p=f):I=I.next=$,Ie.lanes|=H,Vs|=H;$=z.action,jr&&r(f,$),f=z.hasEagerState?z.eagerState:r(f,$)}else H={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=H,p=f):I=I.next=H,Ie.lanes|=$,Vs|=$;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=T,!vn(f,t.memoizedState)&&(Rt=!0,Q&&(r=Aa,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var n=_t(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);vn(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function gg(t,n,r){var l=Ie,h=_t(),f=Ue;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!vn((tt||h).memoizedState,r);if(p&&(h.memoizedState=r,Rt=!0),h=h.queue,Sf(vg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Na(9,{destroy:void 0},_g.bind(null,l,h,r,n),null),st===null)throw Error(a(349));f||(Gi&127)!==0||yg(l,n,r)}return r}function yg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ie.updateQueue,n===null?(n=qu(),Ie.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _g(t,n,r,l){n.value=r,n.getSnapshot=l,Eg(n)&&Tg(t)}function vg(t,n,r){return r(function(){Eg(n)&&Tg(t)})}function Eg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!vn(t,r)}catch{return!0}}function Tg(t){var n=Rr(t,2);n!==null&&mn(n,t,2)}function Tf(t){var n=an();if(typeof t=="function"){var r=t;if(t=r(),jr){Cn(!0);try{r()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},n}function bg(t,n,r,l){return t.baseState=r,vf(t,tt,typeof l=="function"?l:Qi)}function zb(t,n,r,l,h){if(Qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Sg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Sg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var T=r(h,l),I=q.S;I!==null&&I(p,T),Ag(t,n,T)}catch(z){bf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=r(h,l),Ag(t,n,f)}catch(z){bf(t,n,z)}}function Ag(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wg(t,n,l)},function(l){return bf(t,n,l)}):wg(t,n,r)}function wg(t,n,r){n.status="fulfilled",n.value=r,xg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sg(t,r)))}function bf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,xg(n),n=n.next;while(n!==l)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rg(t,n){return n}function Cg(t,n){if(Ue){var r=st.formState;if(r!==null){e:{var l=Ie;if(Ue){if(at){t:{for(var h=at,f=Ln;h.nodeType!==8;){if(!f){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){at=Pn(h.nextSibling),l=h.data==="F!";break e}}As(l)}l=!1}l&&(n=r[0])}}return r=an(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:n},r.queue=l,r=Kg.bind(null,Ie,l),l.dispatch=r,l=Tf(!1),f=Cf.bind(null,Ie,!1,l.queue),l=an(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=zb.bind(null,Ie,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Ig(t){var n=_t();return Ng(n,tt,t)}function Ng(t,n,r){if(n=vf(t,n,Rg)[0],t=Hu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Yl(n)}catch(p){throw p===wa?Vu:p}else l=n;n=_t();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ie.flags|=2048,Na(9,{destroy:void 0},qb.bind(null,h,r),null)),[l,f,t]}function qb(t,n){t.action=n}function Dg(t){var n=_t(),r=tt;if(r!==null)return Ng(n,r,t);_t(),n=n.memoizedState,r=_t();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Na(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=qu(),Ie.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Og(){return _t().memoizedState}function Fu(t,n,r,l){var h=an();Ie.flags|=t,h.memoizedState=Na(1|n,{destroy:void 0},r,l===void 0?null:l)}function Gu(t,n,r,l){var h=_t();l=l===void 0?null:l;var f=h.memoizedState.inst;tt!==null&&l!==null&&df(l,tt.memoizedState.deps)?h.memoizedState=Na(n,f,r,l):(Ie.flags|=t,h.memoizedState=Na(1|n,f,r,l))}function Vg(t,n){Fu(8390656,8,t,n)}function Sf(t,n){Gu(2048,8,t,n)}function Bb(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=qu(),Ie.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Mg(t){var n=_t().memoizedState;return Bb({ref:n,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function kg(t,n){return Gu(4,2,t,n)}function jg(t,n){return Gu(4,4,t,n)}function Lg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ug(t,n,r){r=r!=null?r.concat([t]):null,Gu(4,4,Lg.bind(null,n,t),r)}function Af(){}function Pg(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&df(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function zg(t,n){var r=_t();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=t(),jr){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l}function wf(t,n,r){return r===void 0||(Gi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=qy(),Ie.lanes|=t,Vs|=t,r)}function qg(t,n,r,l){return vn(r,n)?r:Ra.current!==null?(t=wf(t,r,l),vn(t,n)||(Rt=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Ve&261930)===0?(Rt=!0,t.memoizedState=r):(t=qy(),Ie.lanes|=t,Vs|=t,n)}function Bg(t,n,r,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var p=q.T,T={};q.T=T,Cf(t,!1,n,r);try{var I=h(),z=q.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=Lb(I,l);Xl(t,n,Q,wn(t))}else Xl(t,n,l,wn(t))}catch($){Xl(t,n,{then:function(){},status:"rejected",reason:$},wn())}finally{W.p=f,p!==null&&T.types!==null&&(p.types=T.types),q.T=p}}function Hb(){}function xf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Hg(t).queue;Bg(t,h,n,ue,r===null?Hb:function(){return Fg(t),r(l)})}function Hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ue},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Fg(t){var n=Hg(t);n.next===null&&(n=t.alternate.memoizedState),Xl(t,n.next.queue,{},wn())}function Rf(){return Ft(fo)}function Gg(){return _t().memoizedState}function Qg(){return _t().memoizedState}function Fb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=wn();t=Rs(r);var l=Cs(n,t,r);l!==null&&(mn(l,n,r),Fl(l,n,r)),n={cache:tf()},t.payload=n;return}n=n.return}}function Gb(t,n,r){var l=wn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Yg(n,r):(r=Fh(t,n,r,l),r!==null&&(mn(r,t,l),Xg(r,n,l)))}function Kg(t,n,r){var l=wn();Xl(t,n,r,l)}function Xl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Yg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,vn(T,p))return xu(t,n,h,0),st===null&&wu(),!1}catch{}finally{}if(r=Fh(t,n,h,l),r!==null)return mn(r,t,l),Xg(r,n,l),!0}return!1}function Cf(t,n,r,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(a(479))}else n=Fh(t,r,l,2),n!==null&&mn(n,t,2)}function Qu(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Yg(t,n){Ca=Pu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,yl(t,r)}}var $l={readContext:Ft,use:Bu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};$l.useEffectEvent=dt;var $g={readContext:Ft,use:Bu,useCallback:function(t,n){return an().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:Vg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,Lg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var r=an();n=n===void 0?null:n;var l=t();if(jr){Cn(!0);try{t()}finally{Cn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=an();if(r!==void 0){var h=r(n);if(jr){Cn(!0);try{r(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Gb.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=an();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,r=Kg.bind(null,Ie,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Af,useDeferredValue:function(t,n){var r=an();return wf(r,t,n)},useTransition:function(){var t=Tf(!1);return t=Bg.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ie,h=an();if(Ue){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),st===null)throw Error(a(349));(Ve&127)!==0||yg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Vg(vg.bind(null,l,f,t),[t]),l.flags|=2048,Na(9,{destroy:void 0},_g.bind(null,l,f,r,n),null),r},useId:function(){var t=an(),n=st.identifierPrefix;if(Ue){var r=Ai,l=Si;r=(l&~(1<<32-pt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Ub++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:Cg,useActionState:Cg,useOptimistic:function(t){var n=an();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cf.bind(null,Ie,!0,r),r.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return an().memoizedState=Fb.bind(null,Ie)},useEffectEvent:function(t){var n=an(),r={impl:t};return n.memoizedState=r,function(){if((Qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},If={readContext:Ft,use:Bu,useCallback:Pg,useContext:Ft,useEffect:Sf,useImperativeHandle:Ug,useInsertionEffect:kg,useLayoutEffect:jg,useMemo:zg,useReducer:Hu,useRef:Og,useState:function(){return Hu(Qi)},useDebugValue:Af,useDeferredValue:function(t,n){var r=_t();return qg(r,tt.memoizedState,t,n)},useTransition:function(){var t=Hu(Qi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Rf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,n){var r=_t();return bg(r,tt,t,n)},useMemoCache:_f,useCacheRefresh:Qg};If.useEffectEvent=Mg;var Jg={readContext:Ft,use:Bu,useCallback:Pg,useContext:Ft,useEffect:Sf,useImperativeHandle:Ug,useInsertionEffect:kg,useLayoutEffect:jg,useMemo:zg,useReducer:Ef,useRef:Og,useState:function(){return Ef(Qi)},useDebugValue:Af,useDeferredValue:function(t,n){var r=_t();return tt===null?wf(r,t,n):qg(r,tt.memoizedState,t,n)},useTransition:function(){var t=Ef(Qi)[0],n=_t().memoizedState;return[typeof t=="boolean"?t:Yl(t),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Rf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var r=_t();return tt!==null?bg(r,tt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Qg};Jg.useEffectEvent=Mg;function Nf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Df={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=wn(),h=Rs(l);h.payload=n,r!=null&&(h.callback=r),n=Cs(t,h,l),n!==null&&(mn(n,t,l),Fl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=wn(),h=Rs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Cs(t,h,l),n!==null&&(mn(n,t,l),Fl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=wn(),l=Rs(r);l.tag=2,n!=null&&(l.callback=n),n=Cs(t,l,r),n!==null&&(mn(n,t,r),Fl(n,t,r))}};function Zg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!jl(r,l)||!jl(h,f):!0}function Wg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Lr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ey(t){Au(t)}function ty(t){console.error(t)}function ny(t){Au(t)}function Ku(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function iy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,r){return r=Rs(r),r.tag=3,r.payload={element:null},r.callback=function(){Ku(t,n)},r}function sy(t){return t=Rs(t),t.tag=3,t}function ry(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){iy(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){iy(n,r,l),typeof h!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Qb(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ba(n,r,h,!0),r=Tn.current,r!==null){switch(r.tag){case 31:case 13:return Un===null?rc():r.alternate===null&&mt===0&&(mt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),id(t,l,h)),!1;case 22:return r.flags|=65536,l===Mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),id(t,l,h)),!1}throw Error(a(435,r.tag))}return id(t,l,h),rc(),!1}if(Ue)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(t=Error(a(422),{cause:l}),Pl(Mn(t,r)))):(l!==$h&&(n=Error(a(423),{cause:l}),Pl(Mn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,r),h=Of(t.stateNode,l,h),of(t,h),mt!==4&&(mt=2)),!1;var f=Error(a(520),{cause:l});if(f=Mn(f,r),so===null?so=[f]:so.push(f),mt!==4&&(mt=2),n===null)return!0;l=Mn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Of(r.stateNode,l,t),of(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=sy(h),ry(h,t,r,l),of(r,h),!1}r=r.return}while(r!==null);return!1}var Vf=Error(a(461)),Rt=!1;function Gt(t,n,r,l){n.child=t===null?ug(n,null,r,l):kr(n,t.child,r,l)}function ay(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Dr(n),l=mf(t,n,r,p,f,h),T=pf(),t!==null&&!Rt?(gf(t,n,h),Ki(t,n,h)):(Ue&&T&&Yh(n),n.flags|=1,Gt(t,n,l,h),n.child)}function ly(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,oy(t,n,f,l,h)):(t=Cu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:jl,r(p,l)&&t.ref===n.ref)return Ki(t,n,h)}return n.flags|=1,t=qi(f,l),t.ref=n.ref,t.return=n,n.child=t}function oy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(jl(f,l)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=l=f,qf(t,h))(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,Ki(t,n,h)}return Mf(t,n,r,l,h)}function uy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return cy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?fg(n,f):cf(),dg(n);else return l=n.lanes=536870912,cy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Ou(n,f.cachePool),fg(n,f),Ns(),n.memoizedState=null):(t!==null&&Ou(n,null),cf(),Ns());return Gt(t,n,h,r),n.child}function Jl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(t,n,r,l,h){var f=sf();return f=f===null?null:{parent:wt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Ou(n,null),cf(),dg(n),t!==null&&ba(t,n,l,!0),n.childLanes=h,null}function Yu(t,n){return n=$u({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function hy(t,n,r){return kr(n,t.child,null,r),t=Yu(n,n.pendingProps),t.flags|=2,bn(n),n.memoizedState=null,t}function Kb(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Yu(n,l),n.lanes=536870912,Jl(null,t);if(ff(n),(t=at)?(t=S_(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=Yp(t),r.return=n,n.child=r,Ht=n,at=null)):t=null,t===null)throw As(n);return n.lanes=536870912,null}return Yu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=hy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Rt||ba(t,n,r,!1),h=(r&t.childLanes)!==0,Rt||h){if(l=st,l!==null&&(p=_l(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Rr(t,p),mn(l,t,p),Vf;rc(),n=hy(t,n,r)}else t=f.treeContext,at=Pn(p.nextSibling),Ht=n,Ue=!0,Ss=null,Ln=!1,t!==null&&Jp(n,t),n=Yu(n,l),n.flags|=4096;return n}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Mf(t,n,r,l,h){return Dr(n),r=mf(t,n,r,l,void 0,h),l=pf(),t!==null&&!Rt?(gf(t,n,h),Ki(t,n,h)):(Ue&&l&&Yh(n),n.flags|=1,Gt(t,n,r,h),n.child)}function fy(t,n,r,l,h,f){return Dr(n),n.updateQueue=null,r=pg(n,l,r,h),mg(t),l=pf(),t!==null&&!Rt?(gf(t,n,f),Ki(t,n,f)):(Ue&&l&&Yh(n),n.flags|=1,Gt(t,n,r,f),n.child)}function dy(t,n,r,l,h){if(Dr(n),n.stateNode===null){var f=_a,p=r.contextType;typeof p=="object"&&p!==null&&(f=Ft(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Ft(p):_a,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Ql(n,l,f,h),Gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=Lr(r,T);f.props=I;var z=f.context,Q=r.contextType;p=_a,typeof Q=="object"&&Q!==null&&(p=Ft(Q));var $=r.getDerivedStateFromProps;Q=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Wg(n,f,l,p),xs=!1;var H=n.memoizedState;f.state=H,Ql(n,l,f,h),Gl(),z=n.memoizedState,T||H!==z||xs?(typeof $=="function"&&(Nf(n,r,$,l),z=n.memoizedState),(I=xs||Zg(n,r,I,l,H,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(t,n),p=n.memoizedProps,Q=Lr(r,p),f.props=Q,$=n.pendingProps,H=f.context,z=r.contextType,I=_a,typeof z=="object"&&z!==null&&(I=Ft(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||H!==I)&&Wg(n,f,l,I),xs=!1,H=n.memoizedState,f.state=H,Ql(n,l,f,h),Gl();var G=n.memoizedState;p!==$||H!==G||xs||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof T=="function"&&(Nf(n,r,T,l),G=n.memoizedState),(Q=xs||Zg(n,r,Q,l,H,G,I)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=kr(n,t.child,null,h),n.child=kr(n,null,r,h)):Gt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Ki(t,n,h),t}function my(t,n,r,l){return Ir(),n.flags|=256,Gt(t,n,r,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:ig()}}function Lf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function py(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ue){if(h?Is(n):Ns(),(t=at)?(t=S_(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:bs!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},r=Yp(t),r.return=n,n.child=r,Ht=n,at=null)):t=null,t===null)throw As(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ns(),h=n.mode,T=$u({mode:"hidden",children:T},h),l=Cr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=jf(r),l.childLanes=Lf(t,p,r),n.memoizedState=kf,Jl(null,l)):(Is(n),Uf(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Is(n),n.flags&=-257,n=Pf(t,n,r)):n.memoizedState!==null?(Ns(),n.child=t.child,n.flags|=128,n=null):(Ns(),T=l.fallback,h=n.mode,l=$u({mode:"visible",children:l.children},h),T=Cr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,kr(n,t.child,null,r),l=n.child,l.memoizedState=jf(r),l.childLanes=Lf(t,p,r),n.memoizedState=kf,n=Jl(null,l));else if(Is(n),vd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,Pl({value:l,source:null,stack:null}),n=Pf(t,n,r)}else if(Rt||ba(t,n,r,!1),p=(r&t.childLanes)!==0,Rt||p){if(p=st,p!==null&&(l=_l(p,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Rr(t,l),mn(p,t,l),Vf;_d(T)||rc(),n=Pf(t,n,r)}else _d(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,at=Pn(T.nextSibling),Ht=n,Ue=!0,Ss=null,Ln=!1,t!==null&&Jp(n,t),n=Uf(n,l.children),n.flags|=4096);return n}return h?(Ns(),T=l.fallback,h=n.mode,I=t.child,z=I.sibling,l=qi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=qi(z,T):(T=Cr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Jl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=jf(r):(h=T.cachePool,h!==null?(I=wt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ig(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Lf(t,p,r),n.memoizedState=kf,Jl(t.child,l)):(Is(n),r=t.child,t=r.sibling,r=qi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Uf(t,n){return n=$u({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $u(t,n){return t=En(22,t,null,n),t.lanes=0,t}function Pf(t,n,r){return kr(n,t.child,null,r),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wh(t.return,n,r)}function zf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function yy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=yt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,B(yt,p),Gt(t,n,l,r),l=Ue?Ul:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,r,n);else if(t.tag===19)gy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Uu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),zf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Uu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}zf(n,!0,r,null,f,l);break;case"together":zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ki(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Vs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ba(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=qi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=qi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function Yb(t,n,r){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),ws(n,wt,t.memoizedState.cache),Ir();break;case 27:case 5:zt(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Is(n),n.flags|=128,null):(r&n.child.childLanes)!==0?py(t,n,r):(Is(n),t=Ki(t,n,r),t!==null?t.sibling:null);Is(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ba(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return yy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),B(yt,yt.current),l)break;return null;case 22:return n.lanes=0,uy(t,n,r,n.pendingProps);case 24:ws(n,wt,t.memoizedState.cache)}return Ki(t,n,r)}function _y(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rt=!0;else{if(!qf(t,r)&&(n.flags&128)===0)return Rt=!1,Yb(t,n,r);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(n.flags&1048576)!==0&&$p(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Vr(n.elementType),n.type=t,typeof t=="function")Gh(t)?(l=Lr(t,l),n.tag=1,n=dy(null,n,t,l,r)):(n.tag=0,n=Mf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ke){n.tag=11,n=ay(null,n,t,l,r);break e}else if(h===R){n.tag=14,n=ly(null,n,t,l,r);break e}}throw n=Pe(t)||t,Error(a(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Lr(l,n.pendingProps),dy(t,n,l,h,r);case 3:e:{if(Ye(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),Ql(n,l,null,r);var p=n.memoizedState;if(l=p.cache,ws(n,wt,l),l!==f.cache&&ef(n,[wt],r,!0),Gl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(t,n,l,r);break e}else if(l!==h){h=Mn(Error(a(424)),n),Pl(h),n=my(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Pn(t.firstChild),Ht=n,Ue=!0,Ss=null,Ln=!0,r=ug(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ir(),l===h){n=Ki(t,n,r);break e}Gt(t,n,l,r)}n=n.child}return n;case 26:return Xu(t,n),t===null?(r=I_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ue||(r=n.type,t=n.pendingProps,l=fc(te.current).createElement(r),l[bt]=n,l[jt]=t,Qt(l,r,t),St(l),n.stateNode=l):n.memoizedState=I_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zt(n),t===null&&Ue&&(l=n.stateNode=x_(n.type,n.pendingProps,te.current),Ht=n,Ln=!0,h=at,Us(n.type)?(Ed=h,at=Pn(l.firstChild)):at=h),Gt(t,n,n.pendingProps.children,r),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ue&&((h=l=at)&&(l=A1(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Ht=n,at=Pn(l.firstChild),Ln=!1,h=!0):h=!1),h||As(n)),zt(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,pd(h,f)?l=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,Pb,null,null,r),fo._currentValue=h),Xu(t,n),Gt(t,n,l,r),n.child;case 6:return t===null&&Ue&&((t=r=at)&&(r=w1(r,n.pendingProps,Ln),r!==null?(n.stateNode=r,Ht=n,at=null,t=!0):t=!1),t||As(n)),null;case 13:return py(t,n,r);case 4:return Ye(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=kr(n,null,l,r):Gt(t,n,l,r),n.child;case 11:return ay(t,n,n.type,n.pendingProps,r);case 7:return Gt(t,n,n.pendingProps,r),n.child;case 8:return Gt(t,n,n.pendingProps.children,r),n.child;case 12:return Gt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ws(n,n.type,l.value),Gt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Dr(n),h=Ft(h),l=l(h),n.flags|=1,Gt(t,n,l,r),n.child;case 14:return ly(t,n,n.type,n.pendingProps,r);case 15:return oy(t,n,n.type,n.pendingProps,r);case 19:return yy(t,n,r);case 31:return Kb(t,n,r);case 22:return uy(t,n,r,n.pendingProps);case 24:return Dr(n),l=Ft(wt),t===null?(h=sf(),h===null&&(h=st,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},af(n),ws(n,wt,h)):((t.lanes&r)!==0&&(lf(t,n),Ql(n,null,null,r),Gl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,wt,l)):(l=f.cache,ws(n,wt,l),l!==h.cache&&ef(n,[wt],r,!0))),Gt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Yi(t){t.flags|=4}function Bf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gy())t.flags|=8192;else throw Mr=Mu,rf}else t.flags&=-16777217}function vy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!M_(n))if(Gy())t.flags|=8192;else throw Mr=Mu,rf}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?iu():536870912,t.lanes|=n,Ma|=n)}function Zl(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Xb(t,n,r){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(n),null;case 1:return lt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fi(wt),Xe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ta(n)?Yi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),lt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Yi(n),f!==null?(lt(n),vy(n,f)):(lt(n),Bf(n,h,null,l,r))):f?f!==t.memoizedState?(Yi(n),lt(n),vy(n,f)):(lt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Yi(n),lt(n),Bf(n,h,t,l,r)),null;case 27:if(ln(n),r=te.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return lt(n),null}t=K.current,Ta(n)?Zp(n):(t=x_(h,l,r),n.stateNode=t,Yi(n))}return lt(n),null;case 5:if(ln(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return lt(n),null}if(f=K.current,Ta(n))Zp(n);else{var p=fc(te.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[bt]=n,f[jt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Qt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Yi(n)}}return lt(n),Bf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=te.current,Ta(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||p_(t.nodeValue,r)),t||As(n,!0)}else t=fc(t).createTextNode(l),t[bt]=n,n.stateNode=t}return lt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ta(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[bt]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),t=!1}else r=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return lt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ta(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[bt]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;lt(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),lt(n),null);case 4:return Xe(),t===null&&cd(n.stateNode.containerInfo),lt(n),null;case 10:return Fi(n.type),lt(n),null;case 19:if(j(yt),l=n.memoizedState,l===null)return lt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Uu(t),f!==null){for(n.flags|=128,Zl(l,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Kp(r,t),r=r.sibling;return B(yt,yt.current&1|2),Ue&&Bi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&sn()>nc&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Uu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ue)return lt(n),null}else 2*sn()-l.renderingStartTime>nc&&r!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,r=yt.current,B(yt,h?r&1|2:r&1),Ue&&Bi(n,l.treeForkCount),t):(lt(n),null);case 22:case 23:return bn(n),hf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(lt(n),n.subtreeFlags&6&&(n.flags|=8192)):lt(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&j(Or),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Fi(wt),lt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function $b(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fi(wt),Xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ln(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));Ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ir()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return j(yt),null;case 4:return Xe(),null;case 10:return Fi(n.type),null;case 22:case 23:return bn(n),hf(),t!==null&&j(Or),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Fi(wt),null;case 25:return null;default:return null}}function Ey(t,n){switch(Xh(n),n.tag){case 3:Fi(wt),Xe();break;case 26:case 27:case 5:ln(n);break;case 4:Xe();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:j(yt);break;case 10:Fi(n.type);break;case 22:case 23:bn(n),hf(),t!==null&&j(Or);break;case 24:Fi(wt)}}function Wl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(T){We(n,n.return,T)}}function Ds(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=r,z=T;try{z()}catch(Q){We(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){We(n,n.return,Q)}}function Ty(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hg(n,r)}catch(l){We(t,t.return,l)}}}function by(t,n,r){r.props=Lr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){We(t,n,l)}}function eo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){We(t,n,h)}}function wi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){We(t,n,h)}else r.current=null}function Sy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){We(t,t.return,h)}}function Hf(t,n,r){try{var l=t.stateNode;_1(l,t.type,r,n),l[jt]=n}catch(h){We(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Qn));else if(l!==4&&(l===27&&Us(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,r),t=t.sibling;t!==null;)Gf(t,n,r),t=t.sibling}function Zu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Zu(t,n,r),t=t.sibling;t!==null;)Zu(t,n,r),t=t.sibling}function wy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qt(n,l,r),n[bt]=t,n[jt]=r}catch(f){We(t,t.return,f)}}var Xi=!1,Ct=!1,Qf=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Jb(t,n){if(t=t.containerInfo,dd=vc,t=Up(t),Uh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,I=-1,z=0,Q=0,$=t,H=null;t:for(;;){for(var G;$!==r||h!==0&&$.nodeType!==3||(T=p+h),$!==f||l!==0&&$.nodeType!==3||(I=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(G=$.firstChild)!==null;)H=$,$=G;for(;;){if($===t)break t;if(H===r&&++z===h&&(T=p),H===f&&++Q===l&&(I=p),(G=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=G}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:t,selectionRange:r},vc=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ce=Lr(r.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){We(r,r.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)yd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function Ry(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&Wl(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){We(r,r.return,p)}else{var h=Lr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){We(r,r.return,p)}}l&64&&Ty(r),l&512&&eo(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hg(t,n)}catch(p){We(r,r.return,p)}}break;case 27:n===null&&l&4&&wy(r);case 26:case 5:Ji(t,r),n===null&&l&4&&Sy(r),l&512&&eo(r,r.return);break;case 12:Ji(t,r);break;case 31:Ji(t,r),l&4&&Ny(t,r);break;case 13:Ji(t,r),l&4&&Dy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=a1.bind(null,r),x1(t,r))));break;case 22:if(l=r.memoizedState!==null||Xi,!l){n=n!==null&&n.memoizedState!==null||Ct,h=Xi;var f=Ct;Xi=l,(Ct=n)&&!f?Zi(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),Xi=h,Ct=f}break;case 30:break;default:Ji(t,r)}}function Cy(t){var n=t.alternate;n!==null&&(t.alternate=null,Cy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&sa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,cn=!1;function $i(t,n,r){for(r=r.child;r!==null;)Iy(t,n,r),r=r.sibling}function Iy(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Bn,r)}catch{}switch(r.tag){case 26:Ct||wi(r,n),$i(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ct||wi(r,n);var l=ct,h=cn;Us(r.type)&&(ct=r.stateNode,cn=!1),$i(t,n,r),uo(r.stateNode),ct=l,cn=h;break;case 5:Ct||wi(r,n);case 6:if(l=ct,h=cn,ct=null,$i(t,n,r),ct=l,cn=h,ct!==null)if(cn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(r.stateNode)}catch(f){We(r,n,f)}else try{ct.removeChild(r.stateNode)}catch(f){We(r,n,f)}break;case 18:ct!==null&&(cn?(t=ct,T_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ba(t)):T_(ct,r.stateNode));break;case 4:l=ct,h=cn,ct=r.stateNode.containerInfo,cn=!0,$i(t,n,r),ct=l,cn=h;break;case 0:case 11:case 14:case 15:Ds(2,r,n),Ct||Ds(4,r,n),$i(t,n,r);break;case 1:Ct||(wi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&by(r,n,l)),$i(t,n,r);break;case 21:$i(t,n,r);break;case 22:Ct=(l=Ct)||r.memoizedState!==null,$i(t,n,r),Ct=l;break;default:$i(t,n,r)}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ba(t)}catch(r){We(n,n.return,r)}}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ba(t)}catch(r){We(n,n.return,r)}}function Zb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(a(435,t.tag))}}function Wu(t,n){var r=Zb(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=l1.bind(null,t,l);l.then(h,h)}})}function hn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Us(T.type)){ct=T.stateNode,cn=!1;break e}break;case 5:ct=T.stateNode,cn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,cn=!0;break e}T=T.return}if(ct===null)throw Error(a(160));Iy(f,p,h),ct=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var Zn=null;function Oy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(n,t),fn(t),l&4&&(Ds(3,t,t.return),Wl(3,t),Ds(5,t,t.return));break;case 1:hn(n,t),fn(t),l&512&&(Ct||r===null||wi(r,r.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Zn;if(hn(n,t),fn(t),l&512&&(Ct||r===null||wi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Qt(f,l,r),f[bt]=t,St(f),l=f;break e;case"link":var p=O_("link","href",h).get(l+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),Qt(f,l,r),h.head.appendChild(f);break;case"meta":if(p=O_("meta","content",h).get(l+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(l),Qt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[bt]=t,St(f),l=f}t.stateNode=l}else V_(h,t.type,t.stateNode);else t.stateNode=D_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?V_(h,t.type,t.stateNode):D_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,r.memoizedProps)}break;case 27:hn(n,t),fn(t),l&512&&(Ct||r===null||wi(r,r.return)),r!==null&&l&4&&Hf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(hn(n,t),fn(t),l&512&&(Ct||r===null||wi(r,r.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(ce){We(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(hn(n,t),fn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ce){We(t,t.return,ce)}}break;case 3:if(pc=null,h=Zn,Zn=dc(n.containerInfo),hn(n,t),Zn=h,fn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(ce){We(t,t.return,ce)}Qf&&(Qf=!1,Vy(t));break;case 4:l=Zn,Zn=dc(t.stateNode.containerInfo),hn(n,t),fn(t),Zn=l;break;case 12:hn(n,t),fn(t);break;case 31:hn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 13:hn(n,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=Xi,Q=Ct;if(Xi=z||h,Ct=Q||I,hn(n,t),Ct=Q,Xi=z,fn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Xi||Ct||Ur(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){We(I,I.return,ce)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ce){We(I,I.return,ce)}}}else if(n.tag===18){if(r===null){I=n;try{var G=I.stateNode;h?b_(G,!0):b_(I.stateNode,!1)}catch(ce){We(I,I.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wu(t,r))));break;case 19:hn(n,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wu(t,l)));break;case 30:break;case 21:break;default:hn(n,t),fn(t)}}function fn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ay(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Ff(t);Zu(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(un(p,""),r.flags&=-33);var T=Ff(t);Zu(t,T,p);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Ff(t);Gf(t,z,I);break;default:throw Error(a(161))}}catch(Q){We(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(t,n.alternate,n),n=n.sibling}function Ur(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),Ur(n);break;case 1:wi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&by(n,n.return,r),Ur(n);break;case 27:uo(n.stateNode);case 26:case 5:wi(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}t=t.sibling}}function Zi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,r),Wl(4,f);break;case 1:if(Zi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){We(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cg(I[h],T)}catch(z){We(l,l.return,z)}}r&&p&64&&Ty(f),eo(f,f.return);break;case 27:wy(f);case 26:case 5:Zi(h,f,r),r&&l===null&&p&4&&Sy(f),eo(f,f.return);break;case 12:Zi(h,f,r);break;case 31:Zi(h,f,r),r&&p&4&&Ny(h,f);break;case 13:Zi(h,f,r),r&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,r),eo(f,f.return);break;case 30:break;default:Zi(h,f,r)}n=n.sibling}}function Kf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&zl(r))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(t,n,r,l),n=n.sibling}function My(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),h&2048&&Wl(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zl(t)));break;case 12:if(h&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(n,n.return,I)}}else Wn(t,n,r,l);break;case 31:Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):to(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,Da(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:Wn(t,n,r,l),h&2048&&Yf(n.alternate,n);break;default:Wn(t,n,r,l)}}function Da(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Da(f,p,T,I,h),Wl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Da(f,p,T,I,h):to(f,p):(Q._visibility|=2,Da(f,p,T,I,h)),h&&z&2048&&Kf(p.alternate,p);break;case 24:Da(f,p,T,I,h),h&&z&2048&&Yf(p.alternate,p);break;default:Da(f,p,T,I,h)}n=n.sibling}}function to(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:to(r,l),h&2048&&Kf(l.alternate,l);break;case 24:to(r,l),h&2048&&Yf(l.alternate,l);break;default:to(r,l)}n=n.sibling}}var no=8192;function Oa(t,n,r){if(t.subtreeFlags&no)for(t=t.child;t!==null;)ky(t,n,r),t=t.sibling}function ky(t,n,r){switch(t.tag){case 26:Oa(t,n,r),t.flags&no&&t.memoizedState!==null&&U1(r,Zn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t,n,r);break;case 3:case 4:var l=Zn;Zn=dc(t.stateNode.containerInfo),Oa(t,n,r),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=no,no=16777216,Oa(t,n,r),no=l):Oa(t,n,r));break;default:Oa(t,n,r)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function io(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ut=l,Uy(l,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:io(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:io(t);break;case 12:io(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ec(t)):io(t);break;default:io(t)}}function ec(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ut=l,Uy(l,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}t=t.sibling}}function Uy(t,n){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Ds(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ut=l;else e:for(r=t;Ut!==null;){l=Ut;var h=l.sibling,f=l.return;if(Cy(l),l===r){Ut=null;break e}if(h!==null){h.return=f,Ut=h;break e}Ut=f}}}var Wb={getCacheForType:function(t){var n=Ft(wt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ft(wt).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,De=null,Ve=0,Ze=0,Sn=null,Os=!1,Va=!1,Xf=!1,Wi=0,mt=0,Vs=0,Pr=0,$f=0,An=0,Ma=0,so=null,dn=null,Jf=!1,tc=0,Py=0,nc=1/0,ic=null,Ms=null,Mt=0,ks=null,ka=null,es=0,Zf=0,Wf=null,zy=null,ro=0,ed=null;function wn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:q.T!==null?ad():su()}function qy(){if(An===0)if((Ve&536870912)===0||Ue){var t=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function mn(t,n,r){(t===st&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(ja(t,0),js(t,Ve,An,!1)),dr(t,r),((Qe&2)===0||t!==st)&&(t===st&&((Qe&2)===0&&(Pr|=r),mt===4&&js(t,Ve,An,!1)),xi(t))}function By(t,n,r){if((Qe&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Hn(t,n),h=l?i1(t,n):nd(t,n,!0),f=l;do{if(h===0){Va&&!l&&js(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!t1(r)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=so;var I=T.current.memoizedState.isDehydrated;if(I&&(ja(T,p).flags|=256),p=nd(T,p,!1),p!==2){if(Xf&&!I){T.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break e}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ja(t,0),js(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:js(l,n,An,!Os);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=tc+300-sn(),10<h)){if(js(l,n,An,!Os),oi(l,0,!0)!==0)break e;es=n,l.timeoutHandle=v_(Hy.bind(null,l,r,dn,ic,Jf,n,An,Pr,Ma,Os,f,"Throttled",-0,0),h);break e}Hy(l,r,dn,ic,Jf,n,An,Pr,Ma,Os,f,null,-0,0)}}break}while(!0);xi(t)}function Hy(t,n,r,l,h,f,p,T,I,z,Q,$,H,G){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},ky(n,f,$);var ce=(f&62914560)===f?tc-sn():(f&4194048)===f?Py-sn():0;if(ce=P1($,ce),ce!==null){es=f,t.cancelPendingCommit=ce(Jy.bind(null,t,n,f,r,l,h,p,T,I,Q,$,null,H,G)),js(t,f,p,!z);return}}Jy(t,n,f,r,l,h,p,T,I)}function t1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(t,n,r,l){n&=~$f,n&=~Pr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-pt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&mr(t,r,n)}function sc(){return(Qe&6)===0?(ao(0),!1):!0}function td(){if(De!==null){if(Ze===0)var t=De.return;else t=De,Hi=Nr=null,yf(t),xa=null,Bl=0,t=De;for(;t!==null;)Ey(t.alternate,t),t=t.return;De=null}}function ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,T1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),es=0,td(),st=t,De=r=qi(t.current,null),Ve=n,Ze=0,Sn=null,Os=!1,Va=Hn(t,n),Xf=!1,Ma=An=$f=Pr=Vs=mt=0,dn=so=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-pt(l),f=1<<h;n|=t[h],l&=~f}return Wi=n,wu(),r}function Fy(t,n){Ie=null,q.H=$l,n===wa||n===Vu?(n=ag(),Ze=3):n===rf?(n=ag(),Ze=4):Ze=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,De===null&&(mt=1,Ku(t,Mn(n,t.current)))}function Gy(){var t=Tn.current;return t===null?!0:(Ve&4194048)===Ve?Un===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Un:!1}function Qy(){var t=q.H;return q.H=$l,t===null?$l:t}function Ky(){var t=q.A;return q.A=Wb,t}function rc(){mt=4,Os||(Ve&4194048)!==Ve&&Tn.current!==null||(Va=!0),(Vs&134217727)===0&&(Pr&134217727)===0||st===null||js(st,Ve,An,!1)}function nd(t,n,r){var l=Qe;Qe|=2;var h=Qy(),f=Ky();(st!==t||Ve!==n)&&(ic=null,ja(t,n)),n=!1;var p=mt;e:do try{if(Ze!==0&&De!==null){var T=De,I=Sn;switch(Ze){case 8:td(),p=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var z=Ze;if(Ze=0,Sn=null,La(t,T,I,z),r&&Va){p=0;break e}break;default:z=Ze,Ze=0,Sn=null,La(t,T,I,z)}}n1(),p=mt;break}catch(Q){Fy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Hi=Nr=null,Qe=l,q.H=h,q.A=f,De===null&&(st=null,Ve=0,wu()),p}function n1(){for(;De!==null;)Yy(De)}function i1(t,n){var r=Qe;Qe|=2;var l=Qy(),h=Ky();st!==t||Ve!==n?(ic=null,nc=sn()+500,ja(t,n)):Va=Hn(t,n);e:do try{if(Ze!==0&&De!==null){n=De;var f=Sn;t:switch(Ze){case 1:Ze=0,Sn=null,La(t,n,f,1);break;case 2:case 9:if(sg(f)){Ze=0,Sn=null,Xy(n);break}n=function(){Ze!==2&&Ze!==9||st!==t||(Ze=7),xi(t)},f.then(n,n);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:sg(f)?(Ze=0,Sn=null,Xy(n)):(Ze=0,Sn=null,La(t,n,f,7));break;case 5:var p=null;switch(De.tag){case 26:p=De.memoizedState;case 5:case 27:var T=De;if(p?M_(p):T.stateNode.complete){Ze=0,Sn=null;var I=T.sibling;if(I!==null)De=I;else{var z=T.return;z!==null?(De=z,ac(z)):De=null}break t}}Ze=0,Sn=null,La(t,n,f,5);break;case 6:Ze=0,Sn=null,La(t,n,f,6);break;case 8:td(),mt=6;break e;default:throw Error(a(462))}}s1();break}catch(Q){Fy(t,Q)}while(!0);return Hi=Nr=null,q.H=l,q.A=h,Qe=r,De!==null?0:(st=null,Ve=0,wu(),mt)}function s1(){for(;De!==null&&!Dh();)Yy(De)}function Yy(t){var n=_y(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?ac(t):De=n}function Xy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=fy(r,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=fy(r,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:yf(n);default:Ey(r,n),n=De=Kp(n,Wi),n=_y(r,n,Wi)}t.memoizedProps=t.pendingProps,n===null?ac(t):De=n}function La(t,n,r,l){Hi=Nr=null,yf(n),xa=null,Bl=0;var h=n.return;try{if(Qb(t,h,n,r,Ve)){mt=1,Ku(t,Mn(r,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;mt=1,Ku(t,Mn(r,t.current)),De=null;return}n.flags&32768?(Ue||l===1?t=!0:Va||(Ve&536870912)!==0?t=!1:(Os=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(n,t)):ac(n)}function ac(t){var n=t;do{if((n.flags&32768)!==0){$y(n,Os);return}t=n.return;var r=Xb(n.alternate,n,Wi);if(r!==null){De=r;return}if(n=n.sibling,n!==null){De=n;return}De=n=t}while(n!==null);mt===0&&(mt=5)}function $y(t,n){do{var r=$b(t.alternate,t);if(r!==null){r.flags&=32767,De=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){De=t;return}De=t=r}while(t!==null);mt=6,De=null}function Jy(t,n,r,l,h,f,p,T,I){t.cancelPendingCommit=null;do lc();while(Mt!==0);if((Qe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Mh(t,r,f,p,T,I),t===st&&(De=st=null,Ve=0),ka=n,ks=t,es=r,Zf=f,Wf=h,zy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,o1(fs,function(){return n_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=W.p,W.p=2,p=Qe,Qe|=4;try{Jb(t,n,r)}finally{Qe=p,W.p=h,q.T=l}}Mt=1,Zy(),Wy(),e_()}}function Zy(){if(Mt===1){Mt=0;var t=ks,n=ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var l=W.p;W.p=2;var h=Qe;Qe|=4;try{Oy(n,t);var f=md,p=Up(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Lp(T.ownerDocument.documentElement,T)){if(I!==null&&Uh(T)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var $=T.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var G=H.getSelection(),ce=T.textContent.length,ve=Math.min(I.start,ce),it=I.end===void 0?ve:Math.min(I.end,ce);!G.extend&&ve>it&&(p=it,it=ve,ve=p);var L=jp(T,ve),V=jp(T,it);if(L&&V&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var P=$.createRange();P.setStart(L.node,L.offset),G.removeAllRanges(),ve>it?(G.addRange(P),G.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),G.addRange(P))}}}}for($=[],G=T;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}vc=!!dd,md=dd=null}finally{Qe=h,W.p=l,q.T=r}}t.current=n,Mt=2}}function Wy(){if(Mt===2){Mt=0;var t=ks,n=ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var l=W.p;W.p=2;var h=Qe;Qe|=4;try{Ry(t,n.alternate,n)}finally{Qe=h,W.p=l,q.T=r}}Mt=3}}function e_(){if(Mt===4||Mt===3){Mt=0,Jo();var t=ks,n=ka,r=es,l=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,ka=ks=null,t_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ms=null),Li(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=W.p,W.p=2,q.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{q.T=n,W.p=h}}(es&3)!==0&&lc(),xi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ed?ro++:(ro=0,ed=t):ro=0,ao(0)}}function t_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,zl(n)))}function lc(){return Zy(),Wy(),e_(),n_()}function n_(){if(Mt!==5)return!1;var t=ks,n=Zf;Zf=0;var r=Li(es),l=q.T,h=W.p;try{W.p=32>r?32:r,q.T=null,r=Wf,Wf=null;var f=ks,p=es;if(Mt=0,ka=ks=null,es=0,(Qe&6)!==0)throw Error(a(331));var T=Qe;if(Qe|=4,Ly(f.current),My(f,f.current,p,r),Qe=T,ao(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{W.p=h,q.T=l,t_(t,n)}}function i_(t,n,r){n=Mn(r,n),n=Of(t.stateNode,n,2),t=Cs(t,n,2),t!==null&&(dr(t,2),xi(t))}function We(t,n,r){if(t.tag===3)i_(t,t,r);else for(;n!==null;){if(n.tag===3){i_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ms===null||!Ms.has(l))){t=Mn(r,t),r=sy(2),l=Cs(n,r,2),l!==null&&(ry(r,l,n,t),dr(l,2),xi(l));break}}n=n.return}}function id(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new e1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Xf=!0,h.add(r),t=r1.bind(null,t,n,r),n.then(t,t))}function r1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,st===t&&(Ve&r)===r&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>sn()-tc?(Qe&2)===0&&ja(t,0):$f|=r,Ma===Ve&&(Ma=0)),xi(t)}function s_(t,n){n===0&&(n=iu()),t=Rr(t,n),t!==null&&(dr(t,n),xi(t))}function a1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),s_(t,r)}function l1(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),s_(t,r)}function o1(t,n){return Vt(t,n)}var oc=null,Ua=null,sd=!1,uc=!1,rd=!1,Ls=0;function xi(t){t!==Ua&&t.next===null&&(Ua===null?oc=Ua=t:Ua=Ua.next=t),uc=!0,sd||(sd=!0,c1())}function ao(t,n){if(!rd&&uc){rd=!0;do for(var r=!1,l=oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,o_(l,f))}else f=Ve,f=oi(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Hn(l,f)||(r=!0,o_(l,f));l=l.next}while(r);rd=!1}}function u1(){r_()}function r_(){uc=sd=!1;var t=0;Ls!==0&&E1()&&(t=Ls);for(var n=sn(),r=null,l=oc;l!==null;){var h=l.next,f=a_(l,n);f===0?(l.next=null,r===null?oc=h:r.next=h,h===null&&(Ua=r)):(r=l,(t!==0||(f&3)!==0)&&(uc=!0)),l=h}Mt!==0&&Mt!==5||ao(t),Ls!==0&&(Ls=0)}function a_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-pt(f),T=1<<p,I=h[p];I===-1?((T&r)===0||(T&l)!==0)&&(h[p]=Vh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=st,r=Ve,r=oi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Hn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&hs(l),Li(r)){case 2:case 8:r=gl;break;case 32:r=fs;break;case 268435456:r=Zo;break;default:r=fs}return l=l_.bind(null,t),r=Vt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&hs(l),t.callbackPriority=2,t.callbackNode=null,2}function l_(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(lc()&&t.callbackNode!==r)return null;var l=Ve;return l=oi(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(By(t,l,n),a_(t,sn()),t.callbackNode!=null&&t.callbackNode===r?l_.bind(null,t):null)}function o_(t,n){if(lc())return null;By(t,n,!0)}function c1(){b1(function(){(Qe&6)!==0?Vt(pl,u1):r_()})}function ad(){if(Ls===0){var t=Sa;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ls=t}return Ls}function u_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:oa(""+t)}function c_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function h1(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=u_((h[jt]||null).action),p=l.submitter;p&&(n=(n=p[jt]||null)?u_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var I=p?c_(h,p):new FormData(h);xf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?c_(h,p):new FormData(h),xf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ld=0;ld<Bh.length;ld++){var od=Bh[ld],f1=od.toLowerCase(),d1=od[0].toUpperCase()+od.slice(1);Jn(f1,"on"+d1)}Jn(qp,"onAnimationEnd"),Jn(Bp,"onAnimationIteration"),Jn(Hp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Ib,"onTransitionRun"),Jn(Nb,"onTransitionStart"),Jn(Db,"onTransitionCancel"),Jn(Fp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lo));function h_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(T=l[p],I=T.instance,z=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=I}}}}function Oe(t,n){var r=n[ia];r===void 0&&(r=n[ia]=new Set);var l=t+"__bubble";r.has(l)||(f_(n,t,2,!1),r.add(l))}function ud(t,n,r){var l=0;n&&(l|=4),f_(r,t,l,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[cc]){t[cc]=!0,vl.forEach(function(r){r!=="selectionchange"&&(m1.has(r)||ud(r,!1,t),ud(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[cc]||(n[cc]=!0,ud("selectionchange",!1,n))}}function f_(t,n,r,l){switch(q_(n)){case 2:var h=B1;break;case 8:h=H1;break;default:h=wd}r=h.bind(null,n,r,t),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function hd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=fi(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue e}T=T.parentNode}}l=l.return}_s(function(){var z=f,Q=Nn(r),$=[];e:{var H=Gp.get(t);if(H!==void 0){var G=vi,ce=t;switch(t){case"keypress":if(Tr(r)===0)break e;case"keydown":case"keyup":G=Tu;break;case"focusin":ce="focus",G=Sr;break;case"focusout":ce="blur",G=Sr;break;case"beforeblur":case"afterblur":G=Sr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case qp:case Bp:case Hp:G=mu;break;case Fp:G=b;break;case"scroll":case"scrollend":G=Dl;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zi;break;case"toggle":case"beforetoggle":G=Ce}var ve=(n&4)!==0,it=!ve&&(t==="scroll"||t==="scrollend"),L=ve?H!==null?H+"Capture":null:H;ve=[];for(var V=z,P;V!==null;){var X=V;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||L===null||(X=Kn(V,L),X!=null&&ve.push(oo(V,X,P))),it)break;V=V.return}0<ve.length&&(H=new G(H,ce,null,r,Q),$.push({event:H,listeners:ve}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&r!==Cl&&(ce=r.relatedTarget||r.fromElement)&&(fi(ce)||ce[ci]))break e;if((G||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,G?(ce=r.relatedTarget||r.toElement,G=z,ce=ce?fi(ce):null,ce!==null&&(it=c(ce),ve=ce.tag,ce!==it||ve!==5&&ve!==27&&ve!==6)&&(ce=null)):(G=null,ce=z),G!==ce)){if(ve=Ol,X="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=zi,X="onPointerLeave",L="onPointerEnter",V="pointer"),it=G==null?H:yn(G),P=ce==null?H:yn(ce),H=new ve(X,V+"leave",G,r,Q),H.target=it,H.relatedTarget=P,X=null,fi(Q)===z&&(ve=new ve(L,V+"enter",ce,r,Q),ve.target=P,ve.relatedTarget=it,X=ve),it=X,G&&ce)t:{for(ve=p1,L=G,V=ce,P=0,X=L;X;X=ve(X))P++;X=0;for(var pe=V;pe;pe=ve(pe))X++;for(;0<P-X;)L=ve(L),P--;for(;0<X-P;)V=ve(V),X--;for(;P--;){if(L===V||V!==null&&L===V.alternate){ve=L;break t}L=ve(L),V=ve(V)}ve=null}else ve=null;G!==null&&d_($,H,G,ve,!1),ce!==null&&it!==null&&d_($,it,ce,ve,!0)}}e:{if(H=z?yn(z):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var Be=Np;else if(Cp(H))if(Dp)Be=xb;else{Be=Ab;var he=Sb}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&la(z.elementType)&&(Be=Np):Be=wb;if(Be&&(Be=Be(t,z))){Ip($,Be,r,Q);break e}he&&he(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&wl(H,"number",H.value)}switch(he=z?yn(z):window,t){case"focusin":(Cp(he)||he.contentEditable==="true")&&(pa=he,Ph=z,Ll=null);break;case"focusout":Ll=Ph=pa=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Pp($,r,Q);break;case"selectionchange":if(Cb)break;case"keydown":case"keyup":Pp($,r,Q)}var Ne;if(Ge)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else ma?Ar(t,r)&&(Me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Me="onCompositionStart");Me&&(bi&&r.locale!=="ko"&&(ma||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&ma&&(Ne=Nl()):(_i=Q,Il="value"in _i?_i.value:_i.textContent,ma=!0)),he=hc(z,Me),0<he.length&&(Me=new Ti(Me,t,null,r,Q),$.push({event:Me,listeners:he}),Ne?Me.data=Ne:(Ne=da(r),Ne!==null&&(Me.data=Ne)))),(Ne=On?vb(t,r):Eb(t,r))&&(Me=hc(z,"onBeforeInput"),0<Me.length&&(he=new Ti("onBeforeInput","beforeinput",null,r,Q),$.push({event:he,listeners:Me}),he.data=Ne)),h1($,t,z,r,Q)}h_($,n)})}function oo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function hc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,r),h!=null&&l.unshift(oo(t,h,f)),h=Kn(t,n),h!=null&&l.push(oo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function p1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var T=r,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Kn(r,f),z!=null&&p.unshift(oo(r,z,I))):h||(z=Kn(r,f),z!=null&&p.push(oo(r,z,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var g1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function m_(t){return(typeof t=="string"?t:""+t).replace(g1,`
`).replace(y1,"")}function p_(t,n){return n=m_(n),m_(t)===n}function nt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&un(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,r,l);break;case"style":Rl(t,l,f);break;case"data":if(n!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=oa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=oa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ra(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hu.get(r)||r,ra(t,r,l))}}function fd(t,n,r,l,h,f){switch(r){case"style":Rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!El.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[jt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ra(t,r,l)}}}function Qt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,f,p,r,null)}}h&&nt(t,n,"srcSet",r.srcSet,r,null),l&&nt(t,n,"src",r.src,r,null);return;case"input":Oe("invalid",t);var T=f=p=h=null,I=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:nt(t,n,l,Q,r,null)}}ou(t,f,T,I,z,p,h,!1);return;case"select":Oe("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:nt(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!l,n!=null?ms(t,!!l,n,!1):r!=null&&ms(t,!!l,r,!0);return;case"textarea":Oe("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:nt(t,n,p,T,r,null)}ps(t,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,n,I,l,r,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<lo.length;l++)Oe(lo[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:nt(t,n,z,l,r,null)}return;default:if(la(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&fd(t,n,Q,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&nt(t,n,T,l,r,null))}function _1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,z=null,Q=null;for(G in r){var $=r[G];if(r.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(G)||nt(t,n,G,null,l,$)}}for(var H in l){var G=l[H];if($=r[H],l.hasOwnProperty(H)&&(G!=null||$!=null))switch(H){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Q=G;break;case"value":p=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==$&&nt(t,n,H,G,l,$)}}aa(t,p,T,I,z,Q,f,h);return;case"select":G=p=T=H=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(f)||nt(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":H=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&nt(t,n,h,f,l,I)}n=T,r=p,l=G,H!=null?ms(t,!!r,H,!1):!!l!=!!r&&(n!=null?ms(t,!!r,n,!0):ms(t,!!r,r?[]:"",!1));return;case"textarea":G=H=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&nt(t,n,p,h,l,f)}uu(t,H,G);return;case"option":for(var ce in r)if(H=r[ce],r.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:nt(t,n,ce,null,l,H)}for(I in l)if(H=l[I],G=r[I],l.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:nt(t,n,I,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in r)H=r[ve],r.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&nt(t,n,ve,null,l,H);for(z in l)if(H=l[z],G=r[z],l.hasOwnProperty(z)&&H!==G&&(H!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:nt(t,n,z,H,l,G)}return;default:if(la(n)){for(var it in r)H=r[it],r.hasOwnProperty(it)&&H!==void 0&&!l.hasOwnProperty(it)&&fd(t,n,it,void 0,l,H);for(Q in l)H=l[Q],G=r[Q],!l.hasOwnProperty(Q)||H===G||H===void 0&&G===void 0||fd(t,n,Q,H,l,G);return}}for(var L in r)H=r[L],r.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&nt(t,n,L,null,l,H);for($ in l)H=l[$],G=r[$],!l.hasOwnProperty($)||H===G||H==null&&G==null||nt(t,n,$,H,l,G)}function g_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&g_(p)){for(p=0,T=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],z=I.startTime;if(z>T)break;var Q=I.transferSize,$=I.initiatorType;Q&&g_($)&&(I=I.responseEnd,p+=Q*(I<T?1:(T-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function fc(t){return t.nodeType===9?t:t.ownerDocument}function y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function E1(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch(S1)}:v_;function S1(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function T_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ba(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")uo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,uo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&uo(t.ownerDocument.body);r=h}while(r);Ba(n)}function b_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yd(r),sa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function A1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function w1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pn(t.nextSibling),t===null))return null;return t}function S_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Pn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function x1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function A_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Pn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function w_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function x_(t,n,r){switch(n=fc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function uo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);sa(t)}var zn=new Map,R_=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ts=W.d;W.d={f:R1,r:C1,D:I1,C:N1,L:D1,m:O1,X:M1,S:V1,M:k1};function R1(){var t=ts.f(),n=sc();return t||n}function C1(t){var n=In(t);n!==null&&n.tag===5&&n.type==="form"?Fg(n):ts.r(t)}var Pa=typeof document>"u"?null:document;function C_(t,n,r){var l=Pa;if(l&&typeof n=="string"&&n){var h=on(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),R_.has(h)||(R_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Qt(n,"link",t),St(n),l.head.appendChild(n)))}}function I1(t){ts.D(t),C_("dns-prefetch",t,null)}function N1(t,n){ts.C(t,n),C_("preconnect",t,n)}function D1(t,n,r){ts.L(t,n,r);var l=Pa;if(l&&t&&n){var h='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+on(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+on(r.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var f=h;switch(n){case"style":f=za(t);break;case"script":f=qa(t)}zn.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),zn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(co(f))||n==="script"&&l.querySelector(ho(f))||(n=l.createElement("link"),Qt(n,"link",t),St(n),l.head.appendChild(n)))}}function O1(t,n){ts.m(t,n);var r=Pa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(t)}if(!zn.has(f)&&(t=x({rel:"modulepreload",href:t},n),zn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ho(f)))return}l=r.createElement("link"),Qt(l,"link",t),St(l),r.head.appendChild(l)}}}function V1(t,n,r){ts.S(t,n,r);var l=Pa;if(l&&t){var h=di(l).hoistableStyles,f=za(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(co(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=zn.get(f))&&Td(t,r);var I=p=l.createElement("link");St(I),Qt(I,"link",t),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function M1(t,n){ts.X(t,n);var r=Pa;if(r&&t){var l=di(r).hoistableScripts,h=qa(t),f=l.get(h);f||(f=r.querySelector(ho(h)),f||(t=x({src:t,async:!0},n),(n=zn.get(h))&&bd(t,n),f=r.createElement("script"),St(f),Qt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function k1(t,n){ts.M(t,n);var r=Pa;if(r&&t){var l=di(r).hoistableScripts,h=qa(t),f=l.get(h);f||(f=r.querySelector(ho(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=zn.get(h))&&bd(t,n),f=r.createElement("script"),St(f),Qt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function I_(t,n,r,l){var h=(h=te.current)?dc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=za(r.href),r=di(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=za(r.href);var f=di(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(co(t)))&&!f._p&&(p.instance=f,p.state.loading=5),zn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zn.set(t,r),f||j1(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(r),r=di(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function za(t){return'href="'+on(t)+'"'}function co(t){return'link[rel="stylesheet"]['+t+"]"}function N_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function j1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Qt(n,"link",r),St(n),t.head.appendChild(n))}function qa(t){return'[src="'+on(t)+'"]'}function ho(t){return"script[async]"+t}function D_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+on(r.href)+'"]');if(l)return n.instance=l,St(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",h),mc(l,r.precedence,t),n.instance=l;case"stylesheet":h=za(r.href);var f=t.querySelector(co(h));if(f)return n.state.loading|=4,n.instance=f,St(f),f;l=N_(r),(h=zn.get(h))&&Td(l,h),f=(t.ownerDocument||t).createElement("link"),St(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Qt(f,"link",l),n.state.loading|=4,mc(f,r.precedence,t),n.instance=f;case"script":return f=qa(r.src),(h=t.querySelector(ho(f)))?(n.instance=h,St(h),h):(l=r,(h=zn.get(f))&&(l=x({},r),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Qt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mc(l,r.precedence,t));return n.instance}function mc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var pc=null;function O_(t,n,r){if(pc===null){var l=new Map,h=pc=new Map;h.set(r,l)}else h=pc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[hi]||f[bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function V_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function L1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function U1(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=za(l.href),f=n.querySelector(co(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=gc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,St(f);return}f=n.ownerDocument||n,l=N_(l),(h=zn.get(h))&&Td(l,h),f=f.createElement("link"),St(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Qt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=gc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Sd=0;function P1(t,n){return t.stylesheets&&t.count===0&&_c(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sd===0&&(Sd=62500*v1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_c(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function _c(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,n.forEach(z1,t),yc=null,gc.call(t))}function z1(t,n){if(!(n.state.loading&4)){var r=yc.get(t);if(r)var l=r.get(null);else{r=new Map,yc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var fo={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function q1(t,n,r,l,h,f,p,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function k_(t,n,r,l,h,f,p,T,I,z,Q,$){return t=new q1(t,n,r,p,I,z,Q,$,T),n=1,f===!0&&(n|=24),f=En(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},af(f),t}function j_(t){return t?(t=_a,t):_a}function L_(t,n,r,l,h,f){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=Rs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Cs(t,l,n),r!==null&&(mn(r,t,n),Fl(r,t,n))}function U_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ad(t,n){U_(t,n),(t=t.alternate)&&U_(t,n)}function P_(t){if(t.tag===13||t.tag===31){var n=Rr(t,67108864);n!==null&&mn(n,t,67108864),Ad(t,67108864)}}function z_(t){if(t.tag===13||t.tag===31){var n=wn();n=pr(n);var r=Rr(t,n);r!==null&&mn(r,t,n),Ad(t,n)}}var vc=!0;function B1(t,n,r,l){var h=q.T;q.T=null;var f=W.p;try{W.p=2,wd(t,n,r,l)}finally{W.p=f,q.T=h}}function H1(t,n,r,l){var h=q.T;q.T=null;var f=W.p;try{W.p=8,wd(t,n,r,l)}finally{W.p=f,q.T=h}}function wd(t,n,r,l){if(vc){var h=xd(l);if(h===null)hd(t,n,l,Ec,r),B_(t,l);else if(G1(h,t,n,r,l))l.stopPropagation();else if(B_(t,l),n&4&&-1<F1.indexOf(t)){for(;h!==null;){var f=In(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=li(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-pt(p);T.entanglements[1]|=I,p&=~I}xi(f),(Qe&6)===0&&(nc=sn()+500,ao(0))}}break;case 31:case 13:T=Rr(f,2),T!==null&&mn(T,f,2),sc(),Ad(f,2)}if(f=xd(l),f===null&&hd(t,n,l,Ec,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(t,n,l,null,r)}}function xd(t){return t=Nn(t),Rd(t)}var Ec=null;function Rd(t){if(Ec=null,t=fi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case pl:return 2;case gl:return 8;case fs:case Oh:return 32;case Zo:return 268435456;default:return 32}default:return 32}}var Cd=!1,Ps=null,zs=null,qs=null,mo=new Map,po=new Map,Bs=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,n){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function go(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=In(n),n!==null&&P_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function G1(t,n,r,l,h){switch(n){case"focusin":return Ps=go(Ps,t,n,r,l,h),!0;case"dragenter":return zs=go(zs,t,n,r,l,h),!0;case"mouseover":return qs=go(qs,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return mo.set(f,go(mo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,po.set(f,go(po.get(f)||null,t,n,r,l,h)),!0}return!1}function H_(t){var n=fi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Fn(t.priority,function(){z_(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,Fn(t.priority,function(){z_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=xd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Cl=l,r.target.dispatchEvent(l),Cl=null}else return n=In(r),n!==null&&P_(n),t.blockedOn=r,!1;n.shift()}return!0}function F_(t,n,r){Tc(t)&&r.delete(n)}function Q1(){Cd=!1,Ps!==null&&Tc(Ps)&&(Ps=null),zs!==null&&Tc(zs)&&(zs=null),qs!==null&&Tc(qs)&&(qs=null),mo.forEach(F_),po.forEach(F_)}function bc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Q1)))}var Sc=null;function G_(t){Sc!==t&&(Sc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===t&&(Sc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Rd(l||r)===null)continue;break}var f=In(r);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ba(t){function n(I){return bc(I,t)}Ps!==null&&bc(Ps,t),zs!==null&&bc(zs,t),qs!==null&&bc(qs,t),mo.forEach(n),po.forEach(n);for(var r=0;r<Bs.length;r++){var l=Bs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Bs.length&&(r=Bs[0],r.blockedOn===null);)H_(r),r.blockedOn===null&&Bs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[jt]||null;if(typeof f=="function")p||G_(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[jt]||null)T=p.formAction;else if(Rd(h)!==null)continue}else T=p.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),G_(r)}}}function Q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(t){this._internalRoot=t}Ac.prototype.render=Id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=wn();L_(r,l,t,n,null,null)},Ac.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;L_(t.current,2,null,t,null,null),sc(),n[ci]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var n=su();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Bs.length&&n!==0&&n<Bs[r].priority;r++);Bs.splice(r,0,t),r===0&&H_(t)}};var K_=e.version;if(K_!=="19.2.0")throw Error(a(527,K_,"19.2.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var K1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Bn=wc.inject(K1),qt=wc}catch{}}return _o.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ey,f=ty,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=k_(t,1,!1,null,null,r,l,null,h,f,p,Q_),t[ci]=n.current,cd(t),new Id(n)},_o.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ey,p=ty,T=ny,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=k_(t,1,!0,n,r??null,l,h,I,f,p,T,Q_),n.context=j_(null),r=n.current,l=wn(),l=pr(l),h=Rs(l),h.callback=null,Cs(r,h,l),r=l,n.current.lanes=r,dr(n,r),xi(n),t[ci]=n.current,cd(t),new Ac(n)},_o.version="19.2.0",_o}var i0;function iS(){if(i0)return Od.exports;i0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Od.exports=nS(),Od.exports}var sS=iS();const rS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),s0=s=>{const e=aS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Bv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),lS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var oS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uS=qe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>qe.createElement("svg",{ref:y,...oS,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Bv("lucide",o),...!c&&!lS(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,S])=>qe.createElement(_,S)),...Array.isArray(c)?c:[c]]));const ft=(s,e)=>{const i=qe.forwardRef(({className:a,...o},c)=>qe.createElement(uS,{ref:c,iconNode:e,className:Bv(`lucide-${rS(s0(s))}`,`lucide-${s}`,a),...o}));return i.displayName=s0(s),i};const cS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hS=ft("arrow-left",cS);const fS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],jd=ft("box",fS);const dS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ld=ft("briefcase",dS);const mS=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],pS=ft("calendar-plus",mS);const gS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ud=ft("calendar",gS);const yS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],r0=ft("camera",yS);const _S=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vS=ft("check",_S);const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],a0=ft("circle-alert",ES);const TS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bS=ft("circle-check-big",TS);const SS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],l0=ft("clipboard-list",SS);const AS=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wS=ft("clock-3",AS);const xS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RS=ft("eye",xS);const CS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IS=ft("lock",CS);const NS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],DS=ft("log-out",NS);const OS=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],VS=ft("monitor-play",OS);const MS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Pd=ft("pen-tool",MS);const kS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zd=ft("save",kS);const jS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LS=ft("triangle-alert",jS);const US=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PS=ft("user",US);const zS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qS=ft("users",zS);const BS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],o0=ft("utensils",BS);const HS=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],u0=ft("video",HS);const FS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qd=ft("x",FS),GS=()=>{};var c0={};const Hv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},QS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,S=c>>2,x=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,Y=_&63;y||(Y=64,d||(M=64)),a.push(i[S],i[x],i[M],i[Y])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Hv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):QS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||x==null)throw new KS;const M=c<<2|g>>4;if(a.push(M),_!==64){const Y=g<<4&240|_>>2;if(a.push(Y),x!==64){const ne=_<<6&192|x;a.push(ne)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class KS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YS=function(s){const e=Hv(s);return Fv.encodeByteArray(e,!0)},Gc=function(s){return YS(s).replace(/\./g,"")},Gv=function(s){try{return Fv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $S=()=>XS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof c0>"u")return;const s=c0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ZS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Gv(s[1]);return e&&JSON.parse(e)},ch=()=>{try{return GS()||$S()||JS()||ZS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Qv=s=>ch()?.emulatorHosts?.[s],WS=s=>{const e=Qv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Kv=()=>ch()?.config,Yv=s=>ch()?.[`_${s}`];class eA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function rl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(s){return(await fetch(s,{credentials:"include"})).ok}function tA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Ao={};function nA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ao))Ao[e]?s.emulator.push(e):s.prod.push(e);return s}function iA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let h0=!1;function $v(s,e){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||Ao[s]===e||Ao[s]||h0)return;Ao[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=nA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{h0=!0,d()},M}function S(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function x(){const M=iA(a),Y=i("text"),ne=document.getElementById(Y)||document.createElement("span"),re=i("learnmore"),ie=document.getElementById(re)||document.createElement("a"),ye=i("preprendIcon"),Ae=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;g(Ee),S(ie,re);const Ke=_();y(Ae,ye),Ee.append(Ae,ne,ie,Ke),document.body.appendChild(Ee)}c?(ne.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function rA(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function oA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uA(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cA(){return!rA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hA(){try{return typeof indexedDB=="object"}catch{return!1}}function fA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const dA="FirebaseError";class us extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=dA,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?mA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new us(o,g,a)}}function mA(s,e){return s.replace(pA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const pA=/\{\$([^}]+)}/g;function gA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Yr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(f0(c)&&f0(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function f0(s){return s!==null&&typeof s=="object"}function zo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yA(s,e){const i=new _A(s,e);return i.subscribe.bind(i)}class _A{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Bd),o.error===void 0&&(o.error=Bd),o.complete===void 0&&(o.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bd(){}function $t(s){return s&&s._delegate?s._delegate:s}class Xr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Br="[DEFAULT]";class EA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new eA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bA(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TA(s){return s===Br?void 0:s}function bA(s){return s.instantiationMode==="EAGER"}class SA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new EA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const AA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},wA=ke.INFO,xA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},RA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=xA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=wA,this._logHandler=RA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const CA=(s,e)=>e.some(i=>s instanceof i);let d0,m0;function IA(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NA(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,nm=new WeakMap,Zv=new WeakMap,Hd=new WeakMap,Om=new WeakMap;function DA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Xs(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Jv.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function OA(s){if(nm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});nm.set(s,e)}let im={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Zv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xs(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function VA(s){im=s(im)}function MA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Fd(this),e,...i);return Zv.set(a,e.sort?e.sort():[e]),Xs(a)}:NA().includes(s)?function(...e){return s.apply(Fd(this),e),Xs(Jv.get(this))}:function(...e){return Xs(s.apply(Fd(this),e))}}function kA(s){return typeof s=="function"?MA(s):(s instanceof IDBTransaction&&OA(s),CA(s,IA())?new Proxy(s,im):s)}function Xs(s){if(s instanceof IDBRequest)return DA(s);if(Hd.has(s))return Hd.get(s);const e=kA(s);return e!==s&&(Hd.set(s,e),Om.set(e,s)),e}const Fd=s=>Om.get(s);function jA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Xs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Xs(d.result),y.oldVersion,y.newVersion,Xs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const LA=["get","getKey","getAll","getAllKeys","count"],UA=["put","add","delete","clear"],Gd=new Map;function p0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=UA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||LA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Gd.set(e,c),c}VA(s=>({...s,get:(e,i,a)=>p0(e,i)||s.get(e,i,a),has:(e,i)=>!!p0(e,i)||s.has(e,i)}));class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function zA(s){return s.getComponent()?.type==="VERSION"}const sm="@firebase/app",g0="0.14.6";const rs=new Dm("@firebase/app"),qA="@firebase/app-compat",BA="@firebase/analytics-compat",HA="@firebase/analytics",FA="@firebase/app-check-compat",GA="@firebase/app-check",QA="@firebase/auth",KA="@firebase/auth-compat",YA="@firebase/database",XA="@firebase/data-connect",$A="@firebase/database-compat",JA="@firebase/functions",ZA="@firebase/functions-compat",WA="@firebase/installations",ew="@firebase/installations-compat",tw="@firebase/messaging",nw="@firebase/messaging-compat",iw="@firebase/performance",sw="@firebase/performance-compat",rw="@firebase/remote-config",aw="@firebase/remote-config-compat",lw="@firebase/storage",ow="@firebase/storage-compat",uw="@firebase/firestore",cw="@firebase/ai",hw="@firebase/firestore-compat",fw="firebase",dw="12.6.0";const rm="[DEFAULT]",mw={[sm]:"fire-core",[qA]:"fire-core-compat",[HA]:"fire-analytics",[BA]:"fire-analytics-compat",[GA]:"fire-app-check",[FA]:"fire-app-check-compat",[QA]:"fire-auth",[KA]:"fire-auth-compat",[YA]:"fire-rtdb",[XA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[JA]:"fire-fn",[ZA]:"fire-fn-compat",[WA]:"fire-iid",[ew]:"fire-iid-compat",[tw]:"fire-fcm",[nw]:"fire-fcm-compat",[iw]:"fire-perf",[sw]:"fire-perf-compat",[rw]:"fire-rc",[aw]:"fire-rc-compat",[lw]:"fire-gcs",[ow]:"fire-gcs-compat",[uw]:"fire-fst",[hw]:"fire-fst-compat",[cw]:"fire-vertex","fire-js":"fire-js",[fw]:"fire-js-all"};const Qc=new Map,pw=new Map,am=new Map;function y0(s,e){try{s.container.addComponent(e)}catch(i){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ja(s){const e=s.name;if(am.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,s);for(const i of Qc.values())y0(i,s);for(const i of pw.values())y0(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ei(s){return s==null?!1:s.settings!==void 0}const gw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new Po("app","Firebase",gw);class yw{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const al=dw;function Wv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:rm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw $s.create("bad-app-name",{appName:String(o)});if(i||(i=Kv()),!i)throw $s.create("no-options");const c=Qc.get(o);if(c){if(Yr(i,c.options)&&Yr(a,c.config))return c;throw $s.create("duplicate-app",{appName:o})}const d=new SA(o);for(const y of am.values())d.addComponent(y);const g=new yw(i,a,d);return Qc.set(o,g),g}function eE(s=rm){const e=Qc.get(s);if(!e&&s===rm&&Kv())return Wv();if(!e)throw $s.create("no-app",{appName:s});return e}function Js(s,e,i){let a=mw[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}Ja(new Xr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const _w="firebase-heartbeat-database",vw=1,No="firebase-heartbeat-store";let Qd=null;function tE(){return Qd||(Qd=jA(_w,vw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(No)}catch(i){console.warn(i)}}}}).catch(s=>{throw $s.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function Ew(s){try{const i=(await tE()).transaction(No),a=await i.objectStore(No).get(nE(s));return await i.done,a}catch(e){if(e instanceof us)rs.warn(e.message);else{const i=$s.create("idb-get",{originalErrorMessage:e?.message});rs.warn(i.message)}}}async function _0(s,e){try{const a=(await tE()).transaction(No,"readwrite");await a.objectStore(No).put(e,nE(s)),await a.done}catch(i){if(i instanceof us)rs.warn(i.message);else{const a=$s.create("idb-set",{originalErrorMessage:i?.message});rs.warn(a.message)}}}function nE(s){return`${s.name}!${s.options.appId}`}const Tw=1024,bw=30;class Sw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ww(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bw){const o=xw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v0(),{heartbeatsToSend:i,unsentEntries:a}=Aw(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return rs.warn(e),""}}}function v0(){return new Date().toISOString().substring(0,10)}function Aw(s,e=Tw){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),E0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),E0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ww{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hA()?fA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ew(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function E0(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function xw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function Rw(s){Ja(new Xr("platform-logger",e=>new PA(e),"PRIVATE")),Ja(new Xr("heartbeat",e=>new Sw(e),"PRIVATE")),Js(sm,g0,s),Js(sm,g0,"esm2020"),Js("fire-js","")}Rw("");var Cw="firebase",Iw="12.6.0";Js(Cw,Iw,"app");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,iE;(function(){var s;function e(R,w){function A(){}A.prototype=w.prototype,R.F=w.prototype,R.prototype=new A,R.prototype.constructor=R,R.D=function(O,D,k){for(var C=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)C[Pe-2]=arguments[Pe];return w.prototype[D].apply(O,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,A){A||(A=0);const O=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)O[D]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(D=0;D<16;++D)O[D]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=R.g[0],A=R.g[1],D=R.g[2];let k=R.g[3],C;C=w+(k^A&(D^k))+O[0]+3614090360&4294967295,w=A+(C<<7&4294967295|C>>>25),C=k+(D^w&(A^D))+O[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(A^k&(w^A))+O[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=A+(w^D&(k^w))+O[3]+3250441966&4294967295,A=D+(C<<22&4294967295|C>>>10),C=w+(k^A&(D^k))+O[4]+4118548399&4294967295,w=A+(C<<7&4294967295|C>>>25),C=k+(D^w&(A^D))+O[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(A^k&(w^A))+O[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=A+(w^D&(k^w))+O[7]+4249261313&4294967295,A=D+(C<<22&4294967295|C>>>10),C=w+(k^A&(D^k))+O[8]+1770035416&4294967295,w=A+(C<<7&4294967295|C>>>25),C=k+(D^w&(A^D))+O[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(A^k&(w^A))+O[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=A+(w^D&(k^w))+O[11]+2304563134&4294967295,A=D+(C<<22&4294967295|C>>>10),C=w+(k^A&(D^k))+O[12]+1804603682&4294967295,w=A+(C<<7&4294967295|C>>>25),C=k+(D^w&(A^D))+O[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(A^k&(w^A))+O[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=A+(w^D&(k^w))+O[15]+1236535329&4294967295,A=D+(C<<22&4294967295|C>>>10),C=w+(D^k&(A^D))+O[1]+4129170786&4294967295,w=A+(C<<5&4294967295|C>>>27),C=k+(A^D&(w^A))+O[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^A&(k^w))+O[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=A+(k^w&(D^k))+O[0]+3921069994&4294967295,A=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(A^D))+O[5]+3593408605&4294967295,w=A+(C<<5&4294967295|C>>>27),C=k+(A^D&(w^A))+O[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^A&(k^w))+O[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=A+(k^w&(D^k))+O[4]+3889429448&4294967295,A=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(A^D))+O[9]+568446438&4294967295,w=A+(C<<5&4294967295|C>>>27),C=k+(A^D&(w^A))+O[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^A&(k^w))+O[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=A+(k^w&(D^k))+O[8]+1163531501&4294967295,A=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(A^D))+O[13]+2850285829&4294967295,w=A+(C<<5&4294967295|C>>>27),C=k+(A^D&(w^A))+O[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^A&(k^w))+O[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=A+(k^w&(D^k))+O[12]+2368359562&4294967295,A=D+(C<<20&4294967295|C>>>12),C=w+(A^D^k)+O[5]+4294588738&4294967295,w=A+(C<<4&4294967295|C>>>28),C=k+(w^A^D)+O[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^A)+O[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=A+(D^k^w)+O[14]+4259657740&4294967295,A=D+(C<<23&4294967295|C>>>9),C=w+(A^D^k)+O[1]+2763975236&4294967295,w=A+(C<<4&4294967295|C>>>28),C=k+(w^A^D)+O[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^A)+O[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=A+(D^k^w)+O[10]+3200236656&4294967295,A=D+(C<<23&4294967295|C>>>9),C=w+(A^D^k)+O[13]+681279174&4294967295,w=A+(C<<4&4294967295|C>>>28),C=k+(w^A^D)+O[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^A)+O[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=A+(D^k^w)+O[6]+76029189&4294967295,A=D+(C<<23&4294967295|C>>>9),C=w+(A^D^k)+O[9]+3654602809&4294967295,w=A+(C<<4&4294967295|C>>>28),C=k+(w^A^D)+O[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^A)+O[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=A+(D^k^w)+O[2]+3299628645&4294967295,A=D+(C<<23&4294967295|C>>>9),C=w+(D^(A|~k))+O[0]+4096336452&4294967295,w=A+(C<<6&4294967295|C>>>26),C=k+(A^(w|~D))+O[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~A))+O[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=A+(k^(D|~w))+O[5]+4237533241&4294967295,A=D+(C<<21&4294967295|C>>>11),C=w+(D^(A|~k))+O[12]+1700485571&4294967295,w=A+(C<<6&4294967295|C>>>26),C=k+(A^(w|~D))+O[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~A))+O[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=A+(k^(D|~w))+O[1]+2240044497&4294967295,A=D+(C<<21&4294967295|C>>>11),C=w+(D^(A|~k))+O[8]+1873313359&4294967295,w=A+(C<<6&4294967295|C>>>26),C=k+(A^(w|~D))+O[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~A))+O[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=A+(k^(D|~w))+O[13]+1309151649&4294967295,A=D+(C<<21&4294967295|C>>>11),C=w+(D^(A|~k))+O[4]+4149444226&4294967295,w=A+(C<<6&4294967295|C>>>26),C=k+(A^(w|~D))+O[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~A))+O[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=A+(k^(D|~w))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,w){w===void 0&&(w=R.length);const A=w-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=A;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(O[D++]=R.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<w;)if(O[D++]=R[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var A=R.length-8;A<R.length;++A)R[A]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)R[w++]=this.g[A]>>>O&255;return R};function c(R,w){var A=g;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=w(R)}function d(R,w){this.h=w;const A=[];let O=!0;for(let D=R.length-1;D>=0;D--){const k=R[D]|0;O&&k==w||(A[D]=k,O=!1)}this.g=A}var g={};function y(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return ie(_(-R));const w=[];let A=1;for(let O=0;R>=A;O++)w[O]=R/A|0,A*=4294967296;return new d(w,0)}function S(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return ie(S(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(w,8));let O=x;for(let k=0;k<R.length;k+=8){var D=Math.min(8,R.length-k);const C=parseInt(R.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),O=O.j(D).add(_(C))):(O=O.j(A),O=O.add(_(C)))}return O}var x=y(0),M=y(1),Y=y(16777216);s=d.prototype,s.m=function(){if(re(this))return-ie(this).m();let R=0,w=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);R+=(O>=0?O:4294967296+O)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(ne(this))return"0";if(re(this))return"-"+ie(this).toString(R);const w=_(Math.pow(R,6));var A=this;let O="";for(;;){const D=Ke(A,w).g;A=ye(A,D.j(w));let k=((A.g.length>0?A.g[0]:A.h)>>>0).toString(R);if(A=D,ne(A))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function ne(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function re(R){return R.h==-1}s.l=function(R){return R=ye(this,R),re(R)?-1:ne(R)?0:1};function ie(R){const w=R.g.length,A=[];for(let O=0;O<w;O++)A[O]=~R.g[O];return new d(A,~R.h).add(M)}s.abs=function(){return re(this)?ie(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),A=[];let O=0;for(let D=0;D<=w;D++){let k=O+(this.i(D)&65535)+(R.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=C>>>16,k&=65535,C&=65535,A[D]=C<<16|k}return new d(A,A[A.length-1]&-2147483648?-1:0)};function ye(R,w){return R.add(ie(w))}s.j=function(R){if(ne(this)||ne(R))return x;if(re(this))return re(R)?ie(this).j(ie(R)):ie(ie(this).j(R));if(re(R))return ie(this.j(ie(R)));if(this.l(Y)<0&&R.l(Y)<0)return _(this.m()*R.m());const w=this.g.length+R.g.length,A=[];for(var O=0;O<2*w;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const k=this.i(O)>>>16,C=this.i(O)&65535,Pe=R.i(D)>>>16,_e=R.i(D)&65535;A[2*O+2*D]+=C*_e,Ae(A,2*O+2*D),A[2*O+2*D+1]+=k*_e,Ae(A,2*O+2*D+1),A[2*O+2*D+1]+=C*Pe,Ae(A,2*O+2*D+1),A[2*O+2*D+2]+=k*Pe,Ae(A,2*O+2*D+2)}for(R=0;R<w;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=w;R<2*w;R++)A[R]=0;return new d(A,0)};function Ae(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function Ee(R,w){this.g=R,this.h=w}function Ke(R,w){if(ne(w))throw Error("division by zero");if(ne(R))return new Ee(x,x);if(re(R))return w=Ke(ie(R),w),new Ee(ie(w.g),ie(w.h));if(re(w))return w=Ke(R,ie(w)),new Ee(ie(w.g),w.h);if(R.g.length>30){if(re(R)||re(w))throw Error("slowDivide_ only works with positive integers.");for(var A=M,O=w;O.l(R)<=0;)A=de(A),O=de(O);var D=me(A,1),k=me(O,1);for(O=me(O,2),A=me(A,2);!ne(O);){var C=k.add(O);C.l(R)<=0&&(D=D.add(A),k=C),O=me(O,1),A=me(A,1)}return w=ye(R,D.j(w)),new Ee(D,w)}for(D=x;R.l(w)>=0;){for(A=Math.max(1,Math.floor(R.m()/w.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=_(A),C=k.j(w);re(C)||C.l(R)>0;)A-=O,k=_(A),C=k.j(w);ne(k)&&(k=M),D=D.add(k),R=ye(R,C)}return new Ee(D,R)}s.B=function(R){return Ke(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<w;O++)A[O]=this.i(O)&R.i(O);return new d(A,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<w;O++)A[O]=this.i(O)|R.i(O);return new d(A,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),A=[];for(let O=0;O<w;O++)A[O]=this.i(O)^R.i(O);return new d(A,this.h^R.h)};function de(R){const w=R.g.length+1,A=[];for(let O=0;O<w;O++)A[O]=R.i(O)<<1|R.i(O-1)>>>31;return new d(A,R.h)}function me(R,w){const A=w>>5;w%=32;const O=R.g.length-A,D=[];for(let k=0;k<O;k++)D[k]=w>0?R.i(k+A)>>>w|R.i(k+A+1)<<32-w:R.i(k+A);return new d(D,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,iE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Zs=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sE,Eo,rE,kc,lm,aE,lE,oE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,F){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return m.prototype[U].apply(b,se)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function ne(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const F=U.length||0;u.length=v+F;for(let se=0;se<F;se++)u[v+se]=U[se]}else u.push(U)}}class re{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const b=Ee.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ee=new re(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,me=!1,R=new Ae,w=()=>{const u=Promise.resolve(void 0);de=()=>{u.then(A)}};function A(){for(var u;u=ye();){try{u.h.call(u.g)}catch(v){ie(v)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}me=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Pe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Pe,D),Pe.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),q=0;function W(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++q,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Re(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function fe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function N(u){const m={};for(const v in u)m[v]=u[v];return m}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let F=0;F<j.length;F++)v=j[F],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function K(u){this.src=u,this.g={},this.h=0}K.prototype.add=function(u,m,v,b,U){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const se=te(u,m,b,U);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new W(m,this.src,F,!!b,U),m.fa=v,u.push(m)),m};function ee(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),F;(F=U>=0)&&Array.prototype.splice.call(b,U,1),F&&(ue(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function te(u,m,v,b){for(let U=0;U<u.length;++U){const F=u[U];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==b)return U}return-1}var le="closure_lm_"+(Math.random()*1e6|0),Ye={};function Xe(u,m,v,b,U){if(Array.isArray(m)){for(let F=0;F<m.length;F++)Xe(u,m[F],v,b,U);return null}return v=ml(v),u&&u[_e]?u.J(m,v,g(b)?!!b.capture:!1,U):zt(u,m,v,!1,b,U)}function zt(u,m,v,b,U,F){if(!m)throw Error("Invalid event type");const se=g(U)?!!U.capture:!!U;let Ce=ji(u);if(Ce||(u[le]=Ce=new K(u)),v=Ce.add(m,v,b,se,F),v.proxy)return v;if(b=ln(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(U=se),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Rn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ln(){function u(v){return m.call(u.src,u.listener,v)}const m=cr;return u}function ri(u,m,v,b,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)ri(u,m[F],v,b,U);else b=g(b)?!!b.capture:!!b,v=ml(v),u&&u[_e]?(u=u.i,F=String(m).toString(),F in u.g&&(m=u.g[F],v=te(m,v,b,U),v>-1&&(ue(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[F],u.h--)))):u&&(u=ji(u))&&(m=u.g[m.toString()],u=-1,m&&(u=te(m,v,b,U)),(v=u>-1?m[u]:null)&&cs(v))}function cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_e])ee(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Rn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ji(m))?(ee(v,u),v.h==0&&(v.src=null,m[le]=null)):ue(u)}}}function Rn(u){return u in Ye?Ye[u]:Ye[u]="on"+u}function cr(u,m){if(u.da)u=!0;else{m=new Pe(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&cs(u),u=v.call(b,m)}return u}function ji(u){return u=u[le],u instanceof K?u:null}var dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function ml(u){return typeof u=="function"?u:(u[dl]||(u[dl]=function(m){return u.handleEvent(m)}),u[dl])}function Et(){O.call(this),this.i=new K(this),this.M=this,this.G=null}x(Et,O),Et.prototype[_e]=!0,Et.prototype.removeEventListener=function(u,m,v,b){ri(this,u,m,v,b)};function Vt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(b,u),B(m,U)}U=!0;let F,se;if(v)for(se=v.length-1;se>=0;se--)F=m.g=v[se],U=hs(F,b,!0,m)&&U;if(F=m.g=u,U=hs(F,b,!0,m)&&U,U=hs(F,b,!1,m)&&U,v)for(se=0;se<v.length;se++)F=m.g=v[se],U=hs(F,b,!1,m)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ue(v[b]);delete u.g[m],u.h--}}this.G=null},Et.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Et.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function hs(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let F=0;F<m.length;++F){const se=m[F];if(se&&!se.da&&se.capture==v){const Ce=se.listener,gt=se.ha||se.src;se.fa&&ee(u.i,se),U=Ce.call(gt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jo(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Jo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){O.call(this),this.h=u,this.g={}}x(hr,O);var pl=[];function gl(u){Re(u.g,function(m,v){this.g.hasOwnProperty(v)&&cs(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),gl(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=d.JSON.stringify,Oh=d.JSON.parse,Zo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wo(){}function eu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}x(qt,D);function Cn(){D.call(this,"c")}x(Cn,D);var pt={},tu=null;function na(){return tu=tu||new Et}pt.Ia="serverreachability";function nu(u){D.call(this,pt.Ia,u)}x(nu,D);function ai(u){const m=na();Vt(m,new nu(m))}pt.STAT_EVENT="statevent";function fr(u,m){D.call(this,pt.STAT_EVENT,u),this.stat=m}x(fr,D);function Tt(u){const m=na();Vt(m,new fr(m,u))}pt.Ja="timingevent";function li(u,m){D.call(this,pt.Ja,u),this.size=m}x(li,D);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,b,U,F){u.info(function(){if(u.g)if(F){var se="",Ce=F.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var gt=Ce[Ge].split("=");if(gt.length>1){const ut=gt[0];gt=gt[1];const On=ut.split("_");se=On.length>=2&&On[1]=="type"?se+(ut+"="+gt+"&"):se+(ut+"=redacted&")}}}else se=null;else se=F;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+se})}function iu(u,m,v,b,U,F,se){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+F+" "+se})}function ui(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(b?" "+b:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var v=F[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return fs(F)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_l;function pr(){}x(pr,Wo),pr.prototype.g=function(){return new XMLHttpRequest},_l=new pr;function Li(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var bt={},jt={};function ci(u,m,v){u.M=1,u.A=gr(At(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),hi(u),u.B=At(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),la(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Gn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new sn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(pl[0]=U.toString()),U=pl);for(let F=0;F<U.length;F++){const se=Xe(v,U[F],b||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=Yn(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ce!=4||gt==7||(gt==8||Ge<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var F=b;break t}}F=null}if(u=F)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Tt(12),yn(this),In(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=au(this,v),ut==jt){Ce==4&&(this.m=4,Tt(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==bt){this.m=4,Tt(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,ut,null),di(this,ut);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vl(se),se.P=!0,Tt(11))}}else ui(this.i,this.l,v,null),di(this,v);Ce==4&&yn(this),this.o&&!this.K&&(Ce==4?pu(this.j,this):(this.o=!1,hi(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),yn(this),In(this)}}}catch{}finally{}};function kh(u){if(!ru(u))return u.g.la();const m=Bt(u.g);if(m==="")return"";let v="";const b=m.length,U=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return yn(u),In(u),"";u.h.i=new d.TextDecoder}for(let F=0;F<b;F++)u.h.h=!0,v+=u.h.i.decode(m[F],{stream:!(U&&F==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?jt:(v=Number(m.substring(v,b)),isNaN(v)?bt:(b+=1,b+v>m.length?jt:(m=m.slice(b,b+v),u.C=b+v,m)))}Fn.prototype.cancel=function(){this.K=!0,yn(this)};function hi(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(_(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(ai(),Tt(17)),yn(this),this.m=2,In(this)):sa(this,this.T-u)};function In(u){u.j.I==0||u.K||pu(u.j,u)}function yn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,gl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),Es(v);else break e;Sr(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(_(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&fa(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ge=U[m];const ut=Ge[0];if(!(ut<=v.K))if(v.K=ut,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const On=Ge[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const bi=Ge[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Xn=Ge[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(b=1.5*Xn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const $n=u.g;if($n){const Ar=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var F=b.h;F.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Tl(F,F.h),F.h=null))}if(b.G){const da=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(b.wa=da,Je(b.J,b.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var se=u;if(b.na=_u(b,b.L?b.ba:null,b.W),se.L){bl(b.h,se);var Ce=se,gt=b.O;gt&&(Ce.H=gt),Ce.D&&(fi(Ce),hi(Ce)),b.g=se}else du(b);v.i.length>0&&Ei(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Ti(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ti(v,7):Dl(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}ai(4)}catch{}}var St=class{constructor(u,m){this.g=u,this.map=m}};function vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function El(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Tl(u,m){u.g?u.g.add(m):u.h=m}function bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vl.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,F=null;b>=0?(U=u[v].substring(0,b),F=u[v].substring(b+1)):U=u[v],m(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _n(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof _n?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,Al(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),ds(this,m[4]),this.h=gi(m[5]||"",!0),Al(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}_n.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,aa,!0),"@"),u.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yr(v,v.charAt(0)=="/"?wl:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yr(v,uu)),u.join("")},_n.prototype.resolve=function(u){const m=At(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ds(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let se=0;se<U.length;){const Ce=U[se++];Ce=="."?b&&se==U.length&&F.push(""):Ce==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),b&&se==U.length&&F.push("")):(F.push(Ce),b=!0)}b=F.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Al(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function At(u){return new _n(u)}function Lt(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Al(u,m,v){m instanceof ps?(u.i=m,oa(u.i,u.l)):(v||(m=yr(m,ms)),u.i=new ps(m,u.l))}function Je(u,m,v){u.i.set(m,v)}function gr(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,on),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function on(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,ou=/[#\?:]/g,wl=/[#\?]/g,ms=/[#\?@]/g,uu=/#/g;function ps(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ps.prototype,s.add=function(u,m){un(this),this.i=null,u=gs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){un(u),m=gs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xl(u,m){return un(u),m=gs(u,m),u.g.has(m)}s.forEach=function(u,m){un(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Rl(u,m){un(u);let v=[];if(typeof m=="string")xl(u,m)&&(v=v.concat(u.g.get(gs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return un(this),this.i=null,u=gs(this,u),xl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Rl(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(gs(u,m),Y(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Li(v);v=Rl(this,v);for(let F=0;F<v.length;F++){let se=U;v[F]!==""&&(se+="="+Li(v[F])),u.push(se)}}return this.i=u.join("&")};function hu(u){const m=new ps;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(un(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(cu(this,b),la(this,U,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const b=new Image;b.onload=S(Nn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=S(Nn,v,"TestLoadImage: error",!1,m,b),b.onabort=S(Nn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=S(Nn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Cl(u,m){const v=new Hn,b=new AbortController,U=setTimeout(()=>{b.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(F=>{clearTimeout(U),F.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function ys(){this.g=new Zo}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(yi,Wo),yi.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){Et.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(_r,Et),s=_r.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_s(this):Kn(this),this.readyState==3&&ua(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,_s(this))},s.Na=function(u){this.g&&(this.response=u,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dn(u){let m="";return Re(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function vr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Dn(v),typeof u=="string"?v!=null&&Li(v):Je(u,m,v))}function et(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(et,Et);var _i=/^https?$/i,Il=["POST","PUT"];s=et.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_l.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Er(this,F);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())v.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Il,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of v)this.g.setRequestHeader(F,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Er(this,F)}};function Er(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Nl(u),Ui(u)}function Nl(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},s.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=F===0){let se=String(u.D).match(lu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),b=!_i.test(se?se.toLowerCase():"")}v=b}if(v)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var U=Yn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Nl(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Vt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var v=su(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[U]||[];m[U]=F,F.push(v)}fe(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function vs(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vl(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Tt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=_u(this,null,this.W),Ei(this)};function Dl(u){if(ca(u),u.I==3){var m=u.V++,v=At(u.J);if(Je(v,"SID",u.M),Je(v,"RID",m),Je(v,"TYPE","terminate"),br(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=gr(At(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}yu(u)}function Es(u){u.g&&(Vl(u),u.g.cancel(),u.g=null)}function ca(u){Es(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!El(u.h)&&!u.m){u.m=!0;var m=u.Ea;de||w(),me||(de(),me=!0),R.add(m,u),u.D=0}}function ha(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Fn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=N(F),B(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=fu(this,U,m),v=At(this.J),Je(v,"RID",u),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),br(this,v),F&&(this.R?m="headers="+Li(Dn(F))+"&"+m:this.u&&vr(v,this.u,F)),Tl(this.h,U),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",m),Je(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,m),this.I=2}}else this.I==3&&(u?Ol(this,u):this.i.length==0||El(this.h)||Ol(this))};function Ol(u,m){var v;m?v=m.l:v=u.V++;const b=At(u.J);Je(b,"SID",u.M),Je(b,"RID",v),Je(b,"AID",u.K),br(u,b),u.u&&u.o&&vr(b,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Tl(u.h,v),ci(v,b,m)}function br(u,m){u.H&&Re(u.H,function(v,b){Je(m,b,v)}),u.l&&Re({},function(v,b){Je(m,b,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ce=-1;for(;;){const gt=["count="+v];Ce==-1?v>0?(Ce=U[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let Ge=!0;for(let ut=0;ut<v;ut++){var F=U[ut].g;const On=U[ut].map;if(F-=Ce,F<0)Ce=Math.max(0,U[ut].g-100),Ge=!1;else try{F="req"+F+"_"||"";try{var se=On instanceof Map?On:Object.entries(On);for(const[bi,Xn]of se){let $n=Xn;g(Xn)&&($n=fs(Xn)),gt.push(F+bi+"="+encodeURIComponent($n))}}catch(bi){throw gt.push(F+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(On)}}if(Ge){se=gt.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;de||w(),me||(de(),me=!0),R.add(m,u),u.A=0}}function Sr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(_(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Es(this),mu(this))};function Vl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=At(u.na);Je(m,"RID","rpc"),Je(m,"SID",u.M),Je(m,"AID",u.K),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(m,"TO",u.ia),Je(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=gr(At(m)),v.u=null,v.R=!0,ia(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),Sr(this),Tt(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){fa(u),Vl(u),u.g=null;var b=2}else if(pi(u.h,m))v=m.G,bl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=na(),Vt(b,new li(b,v)),Ei(u)}else du(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&ha(u,m)||b==2&&Sr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new _n(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(b,"https"),gr(b),U?Qn(b.toString(),v):Cl(b.toString(),v)}else Tt(2);u.I=0,u.l&&u.l.pa(m),yu(u),ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Sl(u.h);(m.length!=0||u.i.length!=0)&&(ne(u.ja,m),ne(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var b=v instanceof _n?At(v):new _n(v);if(b.g!="")m&&(b.g=m+"."+b.g),ds(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const F=new _n(null);b&&Lt(F,b),m&&(F.g=m),U&&ds(F,U),v&&(F.h=v),b=F}return v=u.G,m=u.wa,v&&m&&Je(b,v,m),Je(b,"VER",u.ka),br(u,b),b}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new yi({ab:v})):new et(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){Et.call(this),this.g=new vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zi(this)}x(rn,Et),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Dl(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fs(u),u=v);m.i.push(new St(m.Ya++,u)),m.I==3&&Ei(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,rn.Z.N.call(this)};function Tu(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Tu,qt);function bu(){Cn.call(this),this.status=1}x(bu,Cn);function zi(u){this.g=u}x(zi,Eu),zi.prototype.ra=function(){Vt(this.g,"a")},zi.prototype.qa=function(u){Vt(this.g,new Tu(u))},zi.prototype.pa=function(u){Vt(this.g,new bu)},zi.prototype.oa=function(){Vt(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,oE=function(){return new Ts},lE=function(){return na()},aE=pt,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,kc=mr,yl.COMPLETE="complete",rE=yl,eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Eo=eu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,sE=et}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",S0="4.9.2";class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let ll="12.3.0";const $r=new Dm("@firebase/firestore");function Ha(){return $r.logLevel}function oe(s,...e){if($r.logLevel<=ke.DEBUG){const i=e.map(Mm);$r.debug(`Firestore (${ll}): ${s}`,...i)}}function as(s,...e){if($r.logLevel<=ke.ERROR){const i=e.map(Mm);$r.error(`Firestore (${ll}): ${s}`,...i)}}function Za(s,...e){if($r.logLevel<=ke.WARN){const i=e.map(Mm);$r.warn(`Firestore (${ll}): ${s}`,...i)}}function Mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,uE(s,a,i)}function uE(s,e,i){let a=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw as(a),new Error(a)}function $e(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||uE(e,o,a)}function xe(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends us{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ws{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class cE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class Dw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ow{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ws,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ws)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new cE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class Vw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Vw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=jw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function je(s,e){return s<e?-1:s>e?1:0}function om(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Kd(o)===Kd(c)?je(o,c):Kd(o)?1:-1}return je(s.length,e.length)}const Lw=55296,Uw=57343;function Kd(s){const e=s.charCodeAt(0);return e>=Lw&&e<=Uw}function Wa(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const w0="__name__";class Ri{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ri.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return je(e.length,i.length)}static compareSegments(e,i){const a=Ri.isNumericId(e),o=Ri.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(i)):om(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class rt extends Ri{construct(e,i,a){return new rt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ae(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new rt(i)}static emptyPath(){return new rt([])}}const Pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ri{construct(e,i,a){return new Xt(e,i,a)}static isValidIdentifier(e){return Pw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new Xt([w0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ae(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ae(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(i)}static emptyPath(){return new Xt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return rt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function hE(s,e,i){if(!i)throw new ae(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function zw(s,e,i,a){if(e===!0&&a===!0)throw new ae(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function x0(s){if(!ge.isDocumentKey(s))throw new ae(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function R0(s){if(ge.isDocumentKey(s))throw new ae(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function hh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function Ci(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hh(s);throw new ae(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Dt(s,e){const i={typeString:s};return e&&(i.value=e),i}function qo(s,e){if(!fE(s))throw new ae(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ae(J.INVALID_ARGUMENT,i);return!0}const C0=-62135596800,I0=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*I0);return new ot(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<C0)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qo(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Dt("string",ot._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ot(0,0))}static max(){return new Se(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Do=-1;function qw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new ot(i+1,0):new ot(i,a));return new tr(o,ge.empty(),e)}function Bw(s){return new tr(s.readTime,s.key,Do)}class tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new tr(Se.min(),ge.empty(),Do)}static max(){return new tr(Se.max(),ge.empty(),Do)}}function Hw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:je(s.largestBatchId,e.largestBatchId))}const Fw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Fw)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((S=>{d[_]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Qw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ul(s){return s.name==="IndexedDbTransactionError"}class fh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fh.ce=-1;const jm=-1;function dh(s){return s==null}function Kc(s){return s===0&&1/s==-1/0}function Kw(s){return typeof s=="number"&&Number.isInteger(s)&&!Kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const dE="";function Yw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=N0(e)),e=Xw(s.get(i),e);return N0(e)}function Xw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case dE:i+="";break;default:i+=c}}return i}function N0(s){return s+dE+""}function D0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function lr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function mE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Kt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new xn([])}unionWith(e){let i=new kt(Xt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pE("Invalid base64 string: "+c):c}})(e);return new Jt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Jt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const $w=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=$w.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vt(s.seconds),nanos:vt(s.nanos)}}function vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ir(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}const gE="server_timestamp",yE="__type__",_E="__previous_value__",vE="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[yE]?.stringValue===gE}function mh(s){const e=s.mapValue.fields[_E];return Lm(e)?mh(e):e}function Oo(s){const e=nr(s.mapValue.fields[vE].timestampValue);return new ot(e.seconds,e.nanos)}class Jw{constructor(e,i,a,o,c,d,g,y,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const Yc="(default)";class Vo{constructor(e,i){this.projectId=e,this.database=i||Yc}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const EE="__type__",Zw="__max__",Cc={mapValue:{}},TE="__vector__",Xc="value";function sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:e2(s)?9007199254740991:Ww(s)?10:11:Te(28295,{value:s})}function Mi(s,e){if(s===e)return!0;const i=sr(s);if(i!==sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Oo(s).isEqual(Oo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=nr(o.timestampValue),g=nr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return ir(o.bytesValue).isEqual(ir(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return vt(o.geoPointValue.latitude)===vt(c.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return vt(o.integerValue)===vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=vt(o.doubleValue),g=vt(c.doubleValue);return d===g?Kc(d)===Kc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Wa(s.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(D0(d)!==D0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Mi(d[y],g[y])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Mo(s,e){return(s.values||[]).find((i=>Mi(i,e)))!==void 0}function el(s,e){if(s===e)return 0;const i=sr(s),a=sr(e);if(i!==a)return je(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return je(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=vt(c.integerValue||c.doubleValue),y=vt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return V0(s.timestampValue,e.timestampValue);case 4:return V0(Oo(s),Oo(e));case 5:return om(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=ir(c),y=ir(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=je(g[_],y[_]);if(S!==0)return S}return je(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=je(vt(c.latitude),vt(d.latitude));return g!==0?g:je(vt(c.longitude),vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return M0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Xc]?.arrayValue,S=y[Xc]?.arrayValue,x=je(_?.values?.length||0,S?.values?.length||0);return x!==0?x:M0(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let x=0;x<y.length&&x<S.length;++x){const M=om(y[x],S[x]);if(M!==0)return M;const Y=el(g[y[x]],_[S[x]]);if(Y!==0)return Y}return je(y.length,S.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function V0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return je(s,e);const i=nr(s),a=nr(e),o=je(i.seconds,a.seconds);return o!==0?o:je(i.nanos,a.nanos)}function M0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=el(i[o],a[o]);if(c)return c}return je(i.length,a.length)}function tl(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=nr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ir(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=um(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${um(i.fields[d])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function jc(s){switch(sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(s);return e?16+jc(e):16;case 5:return 2*s.stringValue.length;case 6:return ir(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+jc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return lr(a.fields,((c,d)=>{o+=c.length+jc(d)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function k0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function cm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function j0(s){return!!s&&"nullValue"in s}function L0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function Ww(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===TE}function wo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return lr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=wo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=wo(s.arrayValue.values[i]);return e}return{...s}}function e2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Zw}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(i)}setAll(e){let i=Xt.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=wo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){lr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new gn(wo(this.value))}}function bE(s){const e=[];return lr(s.fields,((i,a)=>{const o=new Xt([i]);if(Lc(a)){const c=bE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new xn(e)}class tn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,i,a,o){return new tn(e,1,i,Se.min(),a,o,0)}static newNoDocument(e,i){return new tn(e,2,i,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,i){return new tn(e,3,i,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(e,i){this.position=e,this.inclusive=i}}function U0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=el(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function P0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Mi(s.position[i],e.position[i]))return!1;return!0}class ko{constructor(e,i="asc"){this.field=e,this.dir=i}}function t2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class SE{}class Nt extends SE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new i2(e,i,a):i==="array-contains"?new a2(e,a):i==="in"?new l2(e,a):i==="not-in"?new o2(e,a):i==="array-contains-any"?new u2(e,a):new Nt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new s2(e,a):new r2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(el(i,this.value)):i!==null&&sr(this.value)===sr(i)&&this.matchesComparison(el(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends SE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new si(e,i)}matches(e){return AE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AE(s){return s.op==="and"}function wE(s){return n2(s)&&AE(s)}function n2(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function hm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+tl(s.value);if(wE(s))return s.filters.map((e=>hm(e))).join(",");{const e=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${e})`}}function xE(s,e){return s instanceof Nt?(function(a,o){return o instanceof Nt&&a.op===o.op&&a.field.isEqual(o.field)&&Mi(a.value,o.value)})(s,e):s instanceof si?(function(a,o){return o instanceof si&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&xE(d,o.filters[g])),!0):!1})(s,e):void Te(19439)}function RE(s){return s instanceof Nt?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(s):s instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(RE).join(" ,")+"}"})(s):"Filter"}class i2 extends Nt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class s2 extends Nt{constructor(e,i){super(e,"in",i),this.keys=CE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class r2 extends Nt{constructor(e,i){super(e,"not-in",i),this.keys=CE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function CE(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class a2 extends Nt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Um(i)&&Mo(i.arrayValue,this.value)}}class l2 extends Nt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Mo(this.value.arrayValue,i)}}class o2 extends Nt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Mo(this.value.arrayValue,i)}}class u2 extends Nt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Mo(this.value.arrayValue,a)))}}class c2{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function z0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new c2(s,e,i,a,o,c,d)}function Pm(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>tl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>tl(a))).join(",")),e.Te=i}return e.Te}function zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!t2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!xE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!P0(s.startAt,e.startAt)&&P0(s.endAt,e.endAt)}function fm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class cl{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h2(s,e,i,a,o,c,d,g){return new cl(s,e,i,a,o,c,d,g)}function qm(s){return new cl(s)}function q0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function IE(s){return s.collectionGroup!==null}function xo(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new kt(Xt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ko(c,a))})),i.has(Xt.keyField().canonicalString())||e.Ie.push(new ko(Xt.keyField(),a))}return e.Ie}function Ii(s){const e=xe(s);return e.Ee||(e.Ee=f2(e,xo(s))),e.Ee}function f2(s,e){if(s.limitType==="F")return z0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ko(o.field,c)}));const i=s.endAt?new $c(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new $c(s.startAt.position,s.startAt.inclusive):null;return z0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function dm(s,e){const i=s.filters.concat([e]);return new cl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function mm(s,e,i){return new cl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ph(s,e){return zm(Ii(s),Ii(e))&&s.limitType===e.limitType}function NE(s){return`${Pm(Ii(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>RE(o))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(Ii(s))}; limitType=${s.limitType})`}function gh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of xo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=U0(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,xo(a),o)||a.endAt&&!(function(d,g,y){const _=U0(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,xo(a),o))})(s,e)}function d2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function DE(s){return(e,i)=>{let a=!1;for(const o of xo(s)){const c=m2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function m2(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?el(y,_):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){lr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}const p2=new ht(ge.comparator);function ls(){return p2}const OE=new ht(ge.comparator);function To(...s){let e=OE;for(const i of s)e=e.insert(i.key,i);return e}function VE(s){let e=OE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Hr(){return Ro()}function ME(){return Ro()}function Ro(){return new ea((s=>s.toString()),((s,e)=>s.isEqual(e)))}const g2=new ht(ge.comparator),y2=new kt(ge.comparator);function Le(...s){let e=y2;for(const i of s)e=e.add(i);return e}const _2=new kt(je);function v2(){return _2}function Bm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function kE(s){return{integerValue:""+s}}function E2(s,e){return Kw(e)?kE(e):Bm(s,e)}class yh{constructor(){this._=void 0}}function T2(s,e,i){return s instanceof Jc?(function(o,c){const d={fields:{[yE]:{stringValue:gE},[vE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=mh(c)),c&&(d.fields[_E]=c),{mapValue:d}})(i,e):s instanceof jo?LE(s,e):s instanceof Lo?UE(s,e):(function(o,c){const d=jE(o,c),g=B0(d)+B0(o.Ae);return cm(d)&&cm(o.Ae)?kE(g):Bm(o.serializer,g)})(s,e)}function b2(s,e,i){return s instanceof jo?LE(s,e):s instanceof Lo?UE(s,e):i}function jE(s,e){return s instanceof Zc?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Jc extends yh{}class jo extends yh{constructor(e){super(),this.elements=e}}function LE(s,e){const i=PE(e);for(const a of s.elements)i.some((o=>Mi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Lo extends yh{constructor(e){super(),this.elements=e}}function UE(s,e){let i=PE(e);for(const a of s.elements)i=i.filter((o=>!Mi(o,a)));return{arrayValue:{values:i}}}class Zc extends yh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function B0(s){return vt(s.integerValue||s.doubleValue)}function PE(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function S2(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof jo&&o instanceof jo||a instanceof Lo&&o instanceof Lo?Wa(a.elements,o.elements,Mi):a instanceof Zc&&o instanceof Zc?Mi(a.Ae,o.Ae):a instanceof Jc&&o instanceof Jc})(s.transform,e.transform)}class A2{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class _h{}function zE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hm(s.key,ni.none()):new Bo(s.key,s.data,ni.none());{const i=s.data,a=gn.empty();let o=new kt(Xt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new or(s.key,a,new xn(o.toArray()),ni.none())}}function w2(s,e,i){s instanceof Bo?(function(o,c,d){const g=o.value.clone(),y=F0(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof or?(function(o,c,d){if(!Uc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=F0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(qE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Co(s,e,i,a){return s instanceof Bo?(function(c,d,g,y){if(!Uc(c.precondition,d))return g;const _=c.value.clone(),S=G0(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof or?(function(c,d,g,y){if(!Uc(c.precondition,d))return g;const _=G0(c.fieldTransforms,y,d),S=d.data;return S.setAll(qE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function x2(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=jE(a.transform,o||null);c!=null&&(i===null&&(i=gn.empty()),i.set(a.field,c))}return i||null}function H0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Wa(a,o,((c,d)=>S2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Bo extends _h{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class or extends _h{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function F0(s,e,i){const a=new Map;$e(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,b2(d,g,i[o]))}return a}function G0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,T2(c,d,e))}return a}class Hm extends _h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R2 extends _h{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class C2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&w2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Co(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Co(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ME();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=zE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,((i,a)=>H0(i,a)))&&Wa(this.baseMutations,e.baseMutations,((i,a)=>H0(i,a)))}}class Fm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return g2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Fm(e,i,a,o)}}class I2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class N2{constructor(e,i){this.count=e,this.unchangedNames=i}}var It,ze;function D2(s){switch(s){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function BE(s){if(s===void 0)return as("GRPC error has no .code"),J.UNKNOWN;switch(s){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:s})}}(ze=It||(It={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function O2(){return new TextEncoder}const V2=new Zs([4294967295,4294967295],0);function Q0(s){const e=O2().encode(s),i=new iE;return i.update(e),new Uint8Array(i.digest())}function K0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Zs([i,a],0),new Zs([o,c],0)]}class Gm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bo(`Invalid padding: ${i}`);if(a<0)throw new bo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new bo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Zs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Zs.fromNumber(a)));return o.compare(V2)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Q0(e),[a,o]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Q0(e),[a,o]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Ho.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new vh(Se.min(),o,new ht(je),ls(),Le())}}class Ho{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Ho(a,i,Le(),Le(),Le())}}class Pc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class HE{constructor(e,i){this.targetId=e,this.Ce=i}}class FE{constructor(e,i,a=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Y0{constructor(){this.ve=0,this.Fe=X0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),i=Le(),a=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Te(38017,{changeType:c})}})),new Ho(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=X0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=Ic(),this.He=Ic(),this.Ye=new ht(je)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(fm(c))if(a===0){const d=new ge(c.path);this.et(i,d,tn.newNoDocument(d,Se.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=ir(a).toUint8Array()}catch(y){if(y instanceof pE)return Za("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Gm(d,o,c)}catch(y){return Za(y instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&fm(g.target)){const y=new ge(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,tn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Le();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new vh(e,i,this.Ye,this.je,a);return this.je=ls(),this.Je=Ic(),this.He=Ic(),this.Ye=new ht(je),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Y0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new kt(je),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new kt(je),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ic(){return new ht(ge.comparator)}function X0(){return new ht(ge.comparator)}const k2={asc:"ASCENDING",desc:"DESCENDING"},j2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L2={and:"AND",or:"OR"};class U2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function pm(s,e){return s.useProto3Json||dh(e)?e:{value:e}}function Wc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function P2(s,e){return Wc(s,e.toTimestamp())}function Ni(s){return $e(!!s,49232),Se.fromTimestamp((function(i){const a=nr(i);return new ot(a.seconds,a.nanos)})(s))}function Qm(s,e){return gm(s,e).canonicalString()}function gm(s,e){const i=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function QE(s){const e=rt.fromString(s);return $e(JE(e),10190,{key:e.toString()}),e}function ym(s,e){return Qm(s.databaseId,e.path)}function Yd(s,e){const i=QE(e);if(i.get(1)!==s.databaseId.projectId)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(YE(i))}function KE(s,e){return Qm(s.databaseId,e)}function z2(s){const e=QE(s);return e.length===4?rt.emptyPath():YE(e)}function _m(s){return new rt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function YE(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function $0(s,e,i){return{name:ym(s,e),fields:i.value.mapValue.fields}}function q2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?($e(S===void 0||typeof S=="string",58123),Jt.fromBase64String(S||"")):($e(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Jt.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?J.UNKNOWN:BE(_.code);return new ae(S,_.message||"")})(d);i=new FE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Yd(s,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):Se.min(),g=new gn({mapValue:{fields:a.document.fields}}),y=tn.newFoundDocument(o,c,d,g),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Pc(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Yd(s,a.document),c=a.readTime?Ni(a.readTime):Se.min(),d=tn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Yd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new N2(o,c),g=a.targetId;i=new HE(g,d)}}return i}function B2(s,e){let i;if(e instanceof Bo)i={update:$0(s,e.key,e.value)};else if(e instanceof Hm)i={delete:ym(s,e.key)};else if(e instanceof or)i={update:$0(s,e.key,e.data),updateMask:J2(e.fieldMask)};else{if(!(e instanceof R2))return Te(16599,{Vt:e.type});i={verify:ym(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:P2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function H2(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ni(o.updateTime):Ni(c);return d.isEqual(Se.min())&&(d=Ni(c)),new A2(d,o.transformResults||[])})(i,e)))):[]}function F2(s,e){return{documents:[KE(s,e.path)]}}function G2(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=KE(s,o);const c=(function(_){if(_.length!==0)return $E(si.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:Ga(M.field),direction:Y2(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function Q2(s){let e=z2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$e(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(x){const M=XE(x);return M instanceof si&&wE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((M=>(function(ne){return new ko(Qa(ne.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let M;return M=typeof x=="object"?x.value:x,dh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(x){const M=!!x.before,Y=x.values||[];return new $c(Y,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const M=!x.before,Y=x.values||[];return new $c(Y,M)})(i.endAt)),h2(e,o,d,c,g,"F",y,_)}function K2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function XE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(i.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Nt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Nt.create(Qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((a=>XE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function Y2(s){return k2[s]}function X2(s){return j2[s]}function $2(s){return L2[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Xt.fromServerFormat(s.fieldPath)}function $E(s){return s instanceof Nt?(function(i){if(i.op==="=="){if(L0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(j0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(j0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:X2(i.op),value:i.value}}})(s):s instanceof si?(function(i){const a=i.getFilters().map((o=>$E(o)));return a.length===1?a[0]:{compositeFilter:{op:$2(i.op),filters:a}}})(s):Te(54877,{filter:s})}function J2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function JE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ys{constructor(e,i,a,o,c=Se.min(),d=Se.min(),g=Jt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Z2{constructor(e){this.yt=e}}function W2(s){const e=Q2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(e,e.limit,"L"):e}class ex{constructor(){this.Cn=new tx}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(tr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class tx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new kt(rt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(ZE,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}const Z0="LruGarbageCollector",nx=1048576;function W0([s,e],[i,a]){const o=je(s,i);return o===0?je(e,a):o}class ix{constructor(e){this.Ir=e,this.buffer=new kt(W0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();W0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ul(i)?oe(Z0,"Ignoring IndexedDB error during garbage collection: ",i):await ol(i)}await this.Vr(3e5)}))}}class rx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(fh.ce);const a=new ix(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(J0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,g=Date.now(),this.removeTargets(e,a,i)))).next((x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),Ha()<=ke.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function ax(s,e){return new rx(s,e)}class lx{constructor(){this.changes=new ea((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ox{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class ux{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Co(a.mutation,o,xn.empty(),ot.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Le()){const o=Hr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=To();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Hr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Le())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=ls();const d=Ro(),g=(function(){return Ro()})();return i.forEach(((y,_)=>{const S=a.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof or)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Co(S.mutation,_,S.mutation.getFieldMask(),ot.now())):d.set(_.key,xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new ox(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Ro();let o=new ht(((d,g)=>d-g)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||xn.empty();S=g.applyToLocalView(_,S),a.set(y,S);const x=(o.get(g.batchId)||Le()).add(y);o=o.insert(g.batchId,x)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,x=ME();S.forEach((M=>{if(!c.has(M)){const Y=zE(i.get(M),a.get(M));Y!==null&&x.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):IE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(Hr());let g=Do,y=c;return d.next((_=>Z.forEach(_,((S,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{y=y.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Le()))).next((S=>({batchId:g,changes:VE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=To();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=To();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const _=(function(x,M){return new cl(M,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((S=>{S.forEach(((x,M)=>{d=d.insert(x,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,tn.newInvalidDocument(S)))}));let g=To();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Co(S.mutation,_,xn.empty(),ot.now()),gh(i,_)&&(g=g.insert(y,_))})),g}))}}class cx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:W2(o.bundledQuery),readTime:Ni(o.readTime)}})(i)),Z.resolve()}}class hx{constructor(){this.overlays=new ht(ge.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Hr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=Hr(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ht(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Hr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Hr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new I2(i,a));let c=this.qr.get(i);c===void 0&&(c=Le(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class fx{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Km{constructor(){this.Qr=new kt(Pt.$r),this.Ur=new kt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Pt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Pt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new rt([])),a=new Pt(i,e),o=new Pt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new rt([])),a=new Pt(i,e),o=new Pt(i,e+1);let c=Le();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Pt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||je(e.Yr,i.Yr)}static Kr(e,i){return je(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class dx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Pt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new C2(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Pt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new kt(je);return i.forEach((o=>{const c=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new ge(c),0);let g=new kt(je);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$e(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Pt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Pt(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mx{constructor(e){this.ri=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(e,i){let a=ls();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():tn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=ls();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Hw(Bw(S),a)<=0||(o.has(S.key)||gh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Te(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new px(this)}getSize(e){return Z.resolve(this.size)}}class px extends lx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gx{constructor(e){this.persistence=e,this.si=new ea((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new nl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class WE{constructor(e,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new fx,this.referenceDelegate=e(this),this.Pi=new gx(this),this.indexManager=new ex,this.remoteDocumentCache=(function(o){return new mx(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Z2(i),this.Ii=new cx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new dx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new yx(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class yx extends Gw{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Km,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=ge.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class eh{constructor(e,i){this.persistence=e,this.pi=new ea((a=>Yw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=ax(this,i)}static mi(e,i){return new eh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=jc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Le(),o=Le();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xm(e,i.fromCache,a,o)}}class _x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cA()?8:Qw(nn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _x;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ha()<=ke.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ha()<=ke.DEBUG&&oe("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ha()<=ke.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):Z.resolve())}ys(e,i){if(q0(i))return Z.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=mm(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Le(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,mm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return q0(i)||o.isEqual(Se.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(Ha()<=ke.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(i)),this.vs(e,d,i,qw(o,Do)).next((g=>g)))}))}Ds(e,i){let a=new kt(DE(e));return i.forEach(((o,c)=>{gh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ha()<=ke.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(e,i,tr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",Ex=3e8;class Tx{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ht(je),this.xs=new ea((c=>Pm(c)),zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ux(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function bx(s,e,i,a){return new Tx(s,e,i,a)}async function eT(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Le();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Sx(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,S){const x=_.batch,M=x.keys();let Y=Z.resolve();return M.forEach((ne=>{Y=Y.next((()=>S.getEntry(y,ne))).next((re=>{const ie=_.docVersions.get(ne);$e(ie!==null,48541),re.version.compareTo(ie)<0&&(x.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),S.addEntry(re)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(y,x)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Le();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function tT(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Ax(s,e){const i=xe(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((S,x)=>{const M=o.get(x);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,x))));let Y=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?Y=Y.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):S.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(S.resumeToken,a)),o=o.insert(x,Y),(function(re,ie,ye){return re.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=Ex?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(M,Y,S)&&g.push(i.Pi.updateTargetData(c,Y))}));let y=ls(),_=Le();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(wx(c,d,e.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!a.isEqual(Se.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function wx(s,e,i){let a=Le(),o=Le();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ls();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):oe($m,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function xx(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Rx(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ys(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function vm(s,e,i){const a=xe(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ul(d))throw d;oe($m,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function ev(s,e,i){const a=xe(s);let o=Se.min(),c=Le();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const x=xe(y),M=x.xs.get(S);return M!==void 0?Z.resolve(x.Ms.get(M)):x.Pi.getTargetData(_,S)})(a,d,Ii(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Se.min(),i?c:Le()))).next((g=>(Cx(a,d2(e),g),{documents:g,Qs:c})))))}function Cx(s,e,i){let a=s.Os.get(e)||Se.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class tv{constructor(){this.activeTargetIds=v2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ix{constructor(){this.Mo=new tv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nx{Oo(e){}shutdown(){}}const nv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(nv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function Em(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Xd="RestConnection",Dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ox{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Em(),g=this.zo(e,i.toUriEncodedString());oe(Xd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),S=rl(_);return this.Jo(e,g,y,a,S).then((x=>(oe(Xd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Za(Xd,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",a),x}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=Dx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Vx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Wt="WebChannelConnection";class Mx extends Ox{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Em();return new Promise(((g,y)=>{const _=new sE;_.setWithCredentials(!0),_.listenOnce(rE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case kc.NO_ERROR:const x=_.getResponseJson();oe(Wt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case kc.TIMEOUT:oe(Wt,`RPC '${e}' ${d} timed out`),y(new ae(J.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const M=_.getStatus();if(oe(Wt,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const ne=Y?.error;if(ne&&ne.status&&ne.message){const re=(function(ye){const Ae=ye.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ae)>=0?Ae:J.UNKNOWN})(ne.status);y(new ae(re,ne.message))}else y(new ae(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ae(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(Wt,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);oe(Wt,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=oE(),g=lE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const S=c.join("");oe(Wt,`Creating RPC '${e}' stream ${o}: ${S}`,y);const x=d.createWebChannel(S,y);this.I_(x);let M=!1,Y=!1;const ne=new Vx({Yo:ie=>{Y?oe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,ie):(M||(oe(Wt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),M=!0),oe(Wt,`RPC '${e}' stream ${o} sending:`,ie),x.send(ie))},Zo:()=>x.close()}),re=(ie,ye,Ae)=>{ie.listen(ye,(Ee=>{try{Ae(Ee)}catch(Ke){setTimeout((()=>{throw Ke}),0)}}))};return re(x,Eo.EventType.OPEN,(()=>{Y||(oe(Wt,`RPC '${e}' stream ${o} transport opened.`),ne.o_())})),re(x,Eo.EventType.CLOSE,(()=>{Y||(Y=!0,oe(Wt,`RPC '${e}' stream ${o} transport closed`),ne.a_(),this.E_(x))})),re(x,Eo.EventType.ERROR,(ie=>{Y||(Y=!0,Za(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,ie.name,"Message:",ie.message),ne.a_(new ae(J.UNAVAILABLE,"The operation could not be completed")))})),re(x,Eo.EventType.MESSAGE,(ie=>{if(!Y){const ye=ie.data[0];$e(!!ye,16349);const Ae=ye,Ee=Ae?.error||Ae[0]?.error;if(Ee){oe(Wt,`RPC '${e}' stream ${o} received error:`,Ee);const Ke=Ee.status;let de=(function(w){const A=It[w];if(A!==void 0)return BE(A)})(Ke),me=Ee.message;de===void 0&&(de=J.INTERNAL,me="Unknown error status: "+Ke+" with message "+Ee.message),Y=!0,ne.a_(new ae(de,me)),x.close()}else oe(Wt,`RPC '${e}' stream ${o} received:`,ye),ne.u_(ye)}})),re(g,aE.STAT_EVENT,(ie=>{ie.stat===lm.PROXY?oe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):ie.stat===lm.NOPROXY&&oe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function $d(){return typeof document<"u"?document:null}function Eh(s){return new U2(s,!0)}class nT{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sv="PersistentStream";class iT{constructor(e,i,a,o,c,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(as(i.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ae(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(sv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kx extends iT{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=q2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Ni(d.readTime):Se.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=fm(y)?{documents:F2(c,y)}:{query:G2(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=GE(c,d.resumeToken);const _=pm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=Wc(c,d.snapshotVersion.toTimestamp());const _=pm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=K2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=_m(this.serializer),i.removeTarget=e,this.q_(i)}}class jx extends iT{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=H2(e.writeResults,e.commitTime),a=Ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=_m(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>B2(this.serializer,a)))};this.q_(i)}}class Lx{}class Ux extends Lx{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,gm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,gm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Px{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class zx{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(oe(Jr,"Restarting streams for network reachability change."),await(async function(y){const _=xe(y);_.Ea.add(4),await Fo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Th(_)})(this))}))})),this.Ra=new Px(a,o)}}async function Th(s){if(ta(s))for(const e of s.da)await e(!0)}async function Fo(s){for(const e of s.da)await e(!1)}function sT(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ep(i)?Wm(i):hl(i).O_()&&Zm(i,e))}function Jm(s,e){const i=xe(s),a=hl(i);i.Ia.delete(e),a.O_()&&rT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Ra.set("Unknown"))}function Zm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}hl(s).Y_(e)}function rT(s,e){s.Va.Ue(e),hl(s).Z_(e)}function Wm(s){s.Va=new M2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),hl(s).start(),s.Ra.ua()}function ep(s){return ta(s)&&!hl(s).x_()&&s.Ia.size>0}function ta(s){return xe(s).Ea.size===0}function aT(s){s.Va=void 0}async function qx(s){s.Ra.set("Online")}async function Bx(s){s.Ia.forEach(((e,i)=>{Zm(s,e)}))}async function Hx(s,e){aT(s),ep(s)?(s.Ra.ha(e),Wm(s)):s.Ra.set("Unknown")}async function Fx(s,e,i){if(s.Ra.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){oe(Jr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await th(s,a)}else if(e instanceof Pc?s.Va.Ze(e):e instanceof HE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Se.min()))try{const a=await tT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Jt.EMPTY_BYTE_STRING,S.snapshotVersion)),rT(c,y);const x=new Ys(S.target,y,_,S.sequenceNumber);Zm(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){oe(Jr,"Failed to raise snapshot:",a),await th(s,a)}}async function th(s,e,i){if(!ul(e))throw e;s.Ea.add(1),await Fo(s),s.Ra.set("Offline"),i||(i=()=>tT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(Jr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Th(s)}))}function lT(s,e){return e().catch((i=>th(s,i,e)))}async function bh(s){const e=xe(s),i=rr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;Gx(e);)try{const o=await xx(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,Qx(e,o)}catch(o){await th(e,o)}oT(e)&&uT(e)}function Gx(s){return ta(s)&&s.Ta.length<10}function Qx(s,e){s.Ta.push(e);const i=rr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function oT(s){return ta(s)&&!rr(s).x_()&&s.Ta.length>0}function uT(s){rr(s).start()}async function Kx(s){rr(s).ra()}async function Yx(s){const e=rr(s);for(const i of s.Ta)e.ea(i.mutations)}async function Xx(s,e,i){const a=s.Ta.shift(),o=Fm.from(a,e,i);await lT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await bh(s)}async function $x(s,e){e&&rr(s).X_&&await(async function(a,o){if((function(d){return D2(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();rr(a).B_(),await lT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await bh(a)}})(s,e),oT(s)&&uT(s)}async function rv(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),oe(Jr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await Fo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Th(i)}async function Jx(s,e){const i=xe(s);e?(i.Ea.delete(2),await Th(i)):e||(i.Ea.add(2),await Fo(i),i.Ra.set("Unknown"))}function hl(s){return s.ma||(s.ma=(function(i,a,o){const c=xe(i);return c.sa(),new kx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:qx.bind(null,s),t_:Bx.bind(null,s),r_:Hx.bind(null,s),H_:Fx.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ep(s)?Wm(s):s.Ra.set("Unknown")):(await s.ma.stop(),aT(s))}))),s.ma}function rr(s){return s.fa||(s.fa=(function(i,a,o){const c=xe(i);return c.sa(),new jx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Kx.bind(null,s),r_:$x.bind(null,s),ta:Yx.bind(null,s),na:Xx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new tp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(s,e){if(as("AsyncQueue",`${e}: ${s}`),ul(s))return new ae(J.UNAVAILABLE,`${e}: ${s}`);throw s}class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=To(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class av{constructor(){this.ga=new ht(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class il{constructor(e,i,a,o,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new il(e,i,Ka.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Zx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Wx{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=xe(i),c=o.queries;o.queries=lv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new ae(J.ABORTED,"Firestore shutting down"))}}function lv(){return new ea((s=>NE(s)),ph)}async function cT(s,e){const i=xe(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new Zx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=np(d,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ip(i)}async function hT(s,e){const i=xe(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eR(s,e){const i=xe(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&ip(i)}function tR(s,e,i){const a=xe(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function ip(s){s.Ca.forEach((e=>{e.next()}))}var Tm,ov;(ov=Tm||(Tm={})).Ma="default",ov.Cache="cache";class fT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new il(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tm.Cache}}class dT{constructor(e){this.key=e}}class mT{constructor(e){this.key=e}}class nR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=DE(e),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new av,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,x)=>{const M=o.get(S),Y=gh(this.query,x)?x:null,ne=!!M&&this.mutatedKeys.has(M.key),re=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ie=!1;M&&Y?M.data.isEqual(Y.data)?ne!==re&&(a.track({type:3,doc:Y}),ie=!0):this.su(M,Y)||(a.track({type:2,doc:Y}),ie=!0,(y&&this.eu(Y,y)>0||_&&this.eu(Y,_)<0)&&(g=!0)):!M&&Y?(a.track({type:0,doc:Y}),ie=!0):M&&!Y&&(a.track({type:1,doc:M}),ie=!0,(y||_)&&(g=!0)),ie&&(Y?(d=d.add(Y),c=re?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,x)=>(function(Y,ne){const re=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ie})}};return re(Y)-re(ne)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new il(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new mT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new dT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Le();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class iR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class sR{constructor(e){this.key=e,this.hu=!1}}class rR{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((g=>NE(g)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ge.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aR(s,e,i=!0){const a=ET(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await pT(a,e,i,!0),o}async function lR(s,e){const i=ET(s);await pT(i,e,!0,!1)}async function pT(s,e,i,a){const o=await Rx(s.localStore,Ii(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await oR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&sT(s.remoteStore,o),g}async function oR(s,e,i,a,o){s.pu=(x,M,Y)=>(async function(re,ie,ye,Ae){let Ee=ie.view.ru(ye);Ee.Cs&&(Ee=await ev(re.localStore,ie.query,!1).then((({documents:R})=>ie.view.ru(R,Ee))));const Ke=Ae&&Ae.targetChanges.get(ie.targetId),de=Ae&&Ae.targetMismatches.get(ie.targetId)!=null,me=ie.view.applyChanges(Ee,re.isPrimaryClient,Ke,de);return cv(re,ie.targetId,me.au),me.snapshot})(s,x,M,Y);const c=await ev(s.localStore,e,!0),d=new nR(e,c.Qs),g=d.ru(c.documents),y=Ho.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);cv(s,i,_.au);const S=new iR(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function uR(s,e,i){const a=xe(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ph(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await vm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Jm(a.remoteStore,o.targetId),bm(a,o.targetId)})).catch(ol)):(bm(a,o.targetId),await vm(a.localStore,o.targetId,!0))}async function cR(s,e){const i=xe(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function hR(s,e,i){const a=_R(s);try{const o=await(function(d,g){const y=xe(d),_=ot.now(),S=g.reduce(((Y,ne)=>Y.add(ne.key)),Le());let x,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let ne=ls(),re=Le();return y.Ns.getEntries(Y,S).next((ie=>{ne=ie,ne.forEach(((ye,Ae)=>{Ae.isValidDocument()||(re=re.add(ye))}))})).next((()=>y.localDocuments.getOverlayedDocuments(Y,ne))).next((ie=>{x=ie;const ye=[];for(const Ae of g){const Ee=x2(Ae,x.get(Ae.key).overlayedDocument);Ee!=null&&ye.push(new or(Ae.key,Ee,bE(Ee.value.mapValue),ni.exists(!0)))}return y.mutationQueue.addMutationBatch(Y,_,ye,g)})).next((ie=>{M=ie;const ye=ie.applyToLocalDocumentSet(x,re);return y.documentOverlayCache.saveOverlays(Y,ie.batchId,ye)}))})).then((()=>({batchId:M.batchId,changes:VE(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ht(je)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Go(a,o.changes),await bh(a.remoteStore)}catch(o){const c=np(o,"Failed to persist write");i.reject(c)}}async function gT(s,e){const i=xe(s);try{const a=await Ax(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$e(d.hu,14607):o.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Go(i,a,e)}catch(a){await ol(a)}}function uv(s,e,i){const a=xe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=xe(d);y.onlineState=g;let _=!1;y.queries.forEach(((S,x)=>{for(const M of x.Sa)M.va(g)&&(_=!0)})),_&&ip(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function fR(s,e,i){const a=xe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ht(ge.comparator);d=d.insert(c,tn.newNoDocument(c,Se.min()));const g=Le().add(c),y=new vh(Se.min(),new Map,new ht(je),d,g);await gT(a,y),a.du=a.du.remove(c),a.Au.delete(e),rp(a)}else await vm(a.localStore,e,!1).then((()=>bm(a,e,i))).catch(ol)}async function dR(s,e){const i=xe(s),a=e.batch.batchId;try{const o=await Sx(i.localStore,e);_T(i,a,null),yT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Go(i,o)}catch(o){await ol(o)}}async function mR(s,e,i){const a=xe(s);try{const o=await(function(d,g){const y=xe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next((x=>($e(x!==null,37113),S=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);_T(a,e,i),yT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Go(a,o)}catch(o){await ol(o)}}function yT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function _T(s,e,i){const a=xe(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function bm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||vT(s,a)}))}function vT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Jm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),rp(s))}function cv(s,e,i){for(const a of i)a instanceof dT?(s.Ru.addReference(a.key,e),pR(s,a)):a instanceof mT?(oe(sp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||vT(s,a.key)):Te(19791,{wu:a})}function pR(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(oe(sp,"New document in limbo: "+i),s.Eu.add(a),rp(s))}function rp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(rt.fromString(e)),a=s.fu.next();s.Au.set(a,new sR(i)),s.du=s.du.insert(i,a),sT(s.remoteStore,new Ys(Ii(qm(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Go(s,e,i){const a=xe(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Xm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const S=xe(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Z.forEach(_,(M=>Z.forEach(M.Es,(Y=>S.persistence.referenceDelegate.addReference(x,M.targetId,Y))).next((()=>Z.forEach(M.ds,(Y=>S.persistence.referenceDelegate.removeReference(x,M.targetId,Y)))))))))}catch(x){if(!ul(x))throw x;oe($m,"Failed to update sequence numbers: "+x)}for(const x of _){const M=x.targetId;if(!x.fromCache){const Y=S.Ms.get(M),ne=Y.snapshotVersion,re=Y.withLastLimboFreeSnapshotVersion(ne);S.Ms=S.Ms.insert(M,re)}}})(a.localStore,c))}async function gR(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){oe(sp,"User change. New user:",e.toKey());const a=await eT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ae(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Go(i,a.Ls)}}function yR(s,e){const i=xe(s),a=i.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let o=Le();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function ET(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fR.bind(null,e),e.Pu.H_=eR.bind(null,e.eventManager),e.Pu.yu=tR.bind(null,e.eventManager),e}function _R(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mR.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bx(this.persistence,new vx,e.initialUser,this.serializer)}Cu(e){return new WE(Ym.mi,this.serializer)}Du(e){return new Ix}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class vR extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof eh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new WE((a=>eh.mi(a,i)),this.serializer)}}class Sm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>uv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gR.bind(null,this.syncEngine),await Jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wx})()}createDatastore(e){const i=Eh(e.databaseInfo.databaseId),a=(function(c){return new Mx(c)})(e.databaseInfo);return(function(c,d,g,y){return new Ux(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new zx(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>uv(this.syncEngine,i,0)),(function(){return iv.v()?new iv:new Nx})())}createSyncEngine(e,i){return(function(o,c,d,g,y,_,S){const x=new rR(o,c,d,g,y,_);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);oe(Jr,"RemoteStore shutting down."),a.Ea.add(5),await Fo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class TT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ar="FirestoreClient";class ER{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),oe(ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await eT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function hv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await TR(s);oe(ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>rv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>rv(e.remoteStore,o))),s._onlineComponents=e}async function TR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(ar,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new nh)}}else oe(ar,"Using default OfflineComponentProvider"),await Jd(s,new vR(void 0));return s._offlineComponents}async function bT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(ar,"Using user provided OnlineComponentProvider"),await hv(s,s._uninitializedComponentsProvider._online)):(oe(ar,"Using default OnlineComponentProvider"),await hv(s,new Sm))),s._onlineComponents}function bR(s){return bT(s).then((e=>e.syncEngine))}async function Am(s){const e=await bT(s),i=e.eventManager;return i.onListen=aR.bind(null,e.syncEngine),i.onUnlisten=uR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=lR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cR.bind(null,e.syncEngine),i}function SR(s,e,i={}){const a=new Ws;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const S=new TT({next:M=>{S.Nu(),d.enqueueAndForget((()=>hT(c,x))),M.fromCache&&y.source==="server"?_.reject(new ae(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),x=new fT(g,S,{includeMetadataChanges:!0,qa:!0});return cT(c,x)})(await Am(s),s.asyncQueue,e,i,a))),a.promise}function ST(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const fv=new Map;const AT="firestore.googleapis.com",dv=!0;class mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AT,this.ssl=dv}else this.host=e.host,this.ssl=e.ssl??dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nx)throw new ae(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Nw;switch(a.type){case"firstParty":return new Mw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ae(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=fv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),fv.delete(i),a.terminate())})(this),Promise.resolve()}}function AR(s,e,i,a={}){s=Ci(s,Sh);const o=rl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Xv(`https://${g}`),$v("Firestore",!0)),c.host!==AT&&c.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!Yr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=en.MOCK_USER;else{_=tA(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new ae(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new en(x)}s._authCredentials=new Dw(new cE(_,S))}}class ur{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ur(this.firestore,e,this._query)}}class Ot{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(qo(i,Ot._jsonSchema))return new Ot(e,a||null,new ge(rt.fromString(i.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Dt("string",Ot._jsonSchemaVersion),referencePath:Dt("string")};class er extends ur{constructor(e,i,a){super(e,i,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ge(e))}withConverter(e){return new er(this.firestore,e,this._path)}}function vo(s,e,...i){if(s=$t(s),hE("collection","path",e),s instanceof Sh){const a=rt.fromString(e,...i);return R0(a),new er(s,null,a)}{if(!(s instanceof Ot||s instanceof er))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(rt.fromString(e,...i));return R0(a),new er(s.firestore,null,a)}}function wm(s,e,...i){if(s=$t(s),arguments.length===1&&(e=km.newId()),hE("doc","path",e),s instanceof Sh){const a=rt.fromString(e,...i);return x0(a),new Ot(s,null,new ge(a))}{if(!(s instanceof Ot||s instanceof er))throw new ae(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(rt.fromString(e,...i));return x0(a),new Ot(s.firestore,s instanceof er?s.converter:null,new ge(a))}}const pv="AsyncQueue";class gv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&oe(pv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;oe(pv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=tp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function yv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function _v(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Zr extends Sh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new gv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gv(e),this._firestoreClient=void 0,await e}}}function wR(s,e){const i=typeof s=="object"?s:eE(),a=typeof s=="string"?s:Yc,o=Vm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=WS("firestore");c&&AR(o,...c)}return o}function ap(s){if(s._terminated)throw new ae(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||xR(s),s._firestoreClient}function xR(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new Jw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ST(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new ER(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Jt.fromBase64String(e))}catch(i){throw new ae(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new qn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qo(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Dt("string",qn._jsonSchemaVersion),bytes:Dt("string")};class Ah{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lp{constructor(e){this._methodName=e}}class Di{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(qo(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Dt("string",Di._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qo(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Oi(e.vectorValues);throw new ae(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Dt("string",Oi._jsonSchemaVersion),vectorValues:Dt("object")};const RR=/^__.*__$/;class CR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,i,this.fieldTransforms):new Bo(e,this.data,i,this.fieldTransforms)}}class wT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new or(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function xT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class op{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xT(this.Ac)&&RR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(e)}Cc(e,i,a,o=!1){return new op({Ac:e,methodName:i,Dc:a,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function up(s){const e=s._freezeSettings(),i=Eh(s._databaseId);return new IR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function NR(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);cp("Data must be an object, but it was:",d,a);const g=RT(a,d);let y,_;if(c.merge)y=new xn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const x of c.mergeFields){const M=xm(e,x,i);if(!d.contains(M))throw new ae(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);IT(S,M)||S.push(M)}y=new xn(S),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new CR(new gn(g),y,_)}class wh extends lp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function DR(s,e,i,a){const o=s.Cc(1,e,i);cp("Data must be an object, but it was:",o,a);const c=[],d=gn.empty();lr(a,((y,_)=>{const S=hp(e,y,i);_=$t(_);const x=o.yc(S);if(_ instanceof wh)c.push(S);else{const M=Qo(_,x);M!=null&&(c.push(S),d.set(S,M))}}));const g=new xn(c);return new wT(d,g,o.fieldTransforms)}function OR(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[xm(e,a,i)],y=[o];if(c.length%2!=0)throw new ae(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(xm(e,c[M])),y.push(c[M+1]);const _=[],S=gn.empty();for(let M=g.length-1;M>=0;--M)if(!IT(_,g[M])){const Y=g[M];let ne=y[M];ne=$t(ne);const re=d.yc(Y);if(ne instanceof wh)_.push(Y);else{const ie=Qo(ne,re);ie!=null&&(_.push(Y),S.set(Y,ie))}}const x=new xn(_);return new wT(S,x,d.fieldTransforms)}function VR(s,e,i,a=!1){return Qo(i,s.Cc(a?4:3,e))}function Qo(s,e){if(CT(s=$t(s)))return cp("Unsupported field value:",e,s),RT(s,e);if(s instanceof lp)return(function(a,o){if(!xT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=Qo(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=$t(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return E2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ot.fromDate(a);return{timestampValue:Wc(o.serializer,c)}}if(a instanceof ot){const c=new ot(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,c)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:GE(o.serializer,a._byteString)};if(a instanceof Ot){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Oi)return(function(d,g){return{mapValue:{fields:{[EE]:{stringValue:TE},[Xc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${hh(a)}`)})(s,e)}function RT(s,e){const i={};return mE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lr(s,((a,o)=>{const c=Qo(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function CT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ot||s instanceof Di||s instanceof qn||s instanceof Ot||s instanceof lp||s instanceof Oi)}function cp(s,e,i){if(!CT(i)||!fE(i)){const a=hh(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function xm(s,e,i){if((e=$t(e))instanceof Ah)return e._internalPath;if(typeof e=="string")return hp(s,e);throw ih("Field path arguments must be of type string or ",s,!1,void 0,i)}const MR=new RegExp("[~\\*/\\[\\]]");function hp(s,e,i){if(e.search(MR)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ah(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ih(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ae(J.INVALID_ARGUMENT,g+s+y)}function IT(s,e){return s.some((i=>i.isEqual(e)))}class NT{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kR extends NT{data(){return super.data()}}function xh(s,e){return typeof e=="string"?hp(s,e):e instanceof Ah?e._internalPath:e._delegate._internalPath}function DT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fp{}class OT extends fp{}function Dc(s,e,...i){let a=[];e instanceof fp&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof dp)).length,g=c.filter((y=>y instanceof Rh)).length;if(d>1||d>0&&g>0)throw new ae(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Rh extends OT{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Rh(e,i,a)}_apply(e){const i=this._parse(e);return VT(e._query,i),new ur(e.firestore,e.converter,dm(e._query,i))}_parse(e){const i=up(e.firestore);return(function(c,d,g,y,_,S,x){let M;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ae(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Ev(x,S);const ne=[];for(const re of x)ne.push(vv(y,c,re));M={arrayValue:{values:ne}}}else M=vv(y,c,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Ev(x,S),M=VR(g,d,x,S==="in"||S==="not-in");return Nt.create(_,S,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Oc(s,e,i){const a=e,o=xh("where",s);return Rh._create(o,a,i)}class dp extends fp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)VT(d,y),d=dm(d,y)})(e._query,i),new ur(e.firestore,e.converter,dm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mp extends OT{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new mp(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ko(c,d)})(e._query,this._field,this._direction);return new ur(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new cl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function jR(s,e="asc"){const i=e,a=xh("orderBy",s);return mp._create(a,i)}function vv(s,e,i){if(typeof(i=$t(i))=="string"){if(i==="")throw new ae(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IE(e)&&i.indexOf("/")!==-1)throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(rt.fromString(i));if(!ge.isDocumentKey(a))throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return k0(s,new ge(a))}if(i instanceof Ot)return k0(s,i._key);throw new ae(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(i)}.`)}function Ev(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VT(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class LR{convertValue(e,i="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return lr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Xc].arrayValue?.values?.map((a=>vt(a.doubleValue)));return new Oi(i)}convertGeoPoint(e){return new Di(vt(e.latitude),vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=mh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const i=nr(e);return new ot(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=rt.fromString(e);$e(JE(a),9688,{name:e});const o=new Vo(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||as(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function UR(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class So{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends NT{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(xh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Dt("string",Gr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class zc extends Gr{data(e={}){return super.data(e)}}class Qr{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new So(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new So(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new So(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new So(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:PR(g.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}Qr._jsonSchemaVersion="firestore/querySnapshot/1.0",Qr._jsonSchema={type:Dt("string",Qr._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class pp extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,i)}}function Tv(s){s=Ci(s,ur);const e=Ci(s.firestore,Zr),i=ap(e),a=new pp(e);return DT(s._query),SR(i,s._query).then((o=>new Qr(e,a,s,o)))}function zR(s,e,i,...a){s=Ci(s,Ot);const o=Ci(s.firestore,Zr),c=up(o);let d;return d=typeof(e=$t(e))=="string"||e instanceof Ah?OR(c,"updateDoc",s._key,e,i,a):DR(c,"updateDoc",s._key,e),gp(o,[d.toMutation(s._key,ni.exists(!0))])}function qR(s){return gp(Ci(s.firestore,Zr),[new Hm(s._key,ni.none())])}function BR(s,e){const i=Ci(s.firestore,Zr),a=wm(s),o=UR(s.converter,e);return gp(i,[NR(up(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ni.exists(!1))]).then((()=>a))}function bv(s,...e){s=$t(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||_v(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Ot)d=Ci(s.firestore,Zr),g=qm(s._key.path),c={next:y=>{e[a]&&e[a](HR(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=Ci(s,ur);d=Ci(y.firestore,Zr),g=y._query;const _=new pp(d);c={next:S=>{e[a]&&e[a](new Qr(d,_,y,S))},error:e[a+1],complete:e[a+2]},DT(s._query)}return(function(_,S,x,M){const Y=new TT(M),ne=new fT(S,Y,x);return _.asyncQueue.enqueueAndForget((async()=>cT(await Am(_),ne))),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget((async()=>hT(await Am(_),ne)))}})(ap(d),g,o,c)}function gp(s,e){return(function(a,o){const c=new Ws;return a.asyncQueue.enqueueAndForget((async()=>hR(await bR(a),o,c))),c.promise})(ap(s),e)}function HR(s,e,i){const a=i.docs.get(e._key),o=new pp(s);return new Gr(s,o,e._key,a,new So(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){ll=o})(al),Ja(new Xr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Zr(new Ow(a.getProvider("auth-internal")),new kw(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(_.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Js(b0,S0,e),Js(b0,S0,"esm2020")})();function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FR=MT,kT=new Po("auth","Firebase",MT());const sh=new Dm("@firebase/auth");function GR(s,...e){sh.logLevel<=ke.WARN&&sh.warn(`Auth (${al}): ${s}`,...e)}function qc(s,...e){sh.logLevel<=ke.ERROR&&sh.error(`Auth (${al}): ${s}`,...e)}function ki(s,...e){throw _p(s,...e)}function ii(s,...e){return _p(s,...e)}function yp(s,e,i){const a={...FR(),[e]:i};return new Po("auth","Firebase",a).create(e,{appName:s.name})}function Kr(s){return yp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QR(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&ki(s,"argument-error"),yp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _p(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return kT.create(s,...e)}function be(s,e,...i){if(!s)throw _p(e,...i)}function is(s){const e="INTERNAL ASSERTION FAILED: "+s;throw qc(e),new Error(e)}function os(s,e){s||is(e)}function Rm(){return typeof self<"u"&&self.location?.href||""}function KR(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}function YR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KR()||lA()||"connection"in navigator)?navigator.onLine:!0}function XR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ko{constructor(e,i){this.shortDelay=e,this.longDelay=i,os(i>e,"Short delay should be less than long delay!"),this.isMobile=sA()||oA()}get(){return YR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(s,e){os(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class jT{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZR=new Ko(3e4,6e4);function Ep(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function fl(s,e,i,a,o={}){return LT(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=zo({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return aA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&rl(s.emulatorConfig.host)&&(_.credentials="include"),jT.fetch()(await UT(s,s.config.apiHost,i,g),_)})}async function LT(s,e,i){s._canInitEmulator=!1;const a={...$R,...e};try{const o=new eC(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Vc(s,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw yp(s,S,_);ki(s,S)}}catch(o){if(o instanceof us)throw o;ki(s,"network-request-failed",{message:String(o)})}}async function WR(s,e,i,a,o={}){const c=await fl(s,e,i,a,o);return"mfaPendingCredential"in c&&ki(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function UT(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?vp(s.config,o):`${s.config.apiScheme}://${o}`;return JR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class eC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),ZR.get())})}}function Vc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ii(s,e,a);return o.customData._tokenResponse=i,o}async function tC(s,e){return fl(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return fl(s,"POST","/v1/accounts:lookup",e)}function Io(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nC(s,e=!1){const i=$t(s),a=await i.getIdToken(e),o=Tp(a);be(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Io(Zd(o.auth_time)),issuedAtTime:Io(Zd(o.iat)),expirationTime:Io(Zd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zd(s){return Number(s)*1e3}function Tp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Gv(i);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Av(s){const e=Tp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Uo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof us&&iC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function iC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class sC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Io(this.lastLoginAt),this.creationTime=Io(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const e=s.auth,i=await s.getIdToken(),a=await Uo(s,rh(e,{idToken:i}));be(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?PT(o.providerUserInfo):[],d=aC(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function rC(s){const e=$t(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aC(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function PT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function lC(s,e){const i=await LT(s,{},async()=>{const a=zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await UT(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&rl(s.emulatorConfig.host)&&(y.credentials="include"),jT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function oC(s,e){return fl(s,"POST","/v2/accounts:revokeToken",Ep(s,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=Av(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await lC(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ya;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return is("not implemented")}}function Fs(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new sC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return nC(this,e)}reload(){return rC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ah(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await Uo(this,tC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:x,emailVerified:M,isAnonymous:Y,providerData:ne,stsTokenManager:re}=i;be(x&&re,e,"internal-error");const ie=Ya.fromJSON(this.name,re);be(typeof x=="string",e,"internal-error"),Fs(a,e.name),Fs(o,e.name),be(typeof M=="boolean",e,"internal-error"),be(typeof Y=="boolean",e,"internal-error"),Fs(c,e.name),Fs(d,e.name),Fs(g,e.name),Fs(y,e.name),Fs(_,e.name),Fs(S,e.name);const ye=new ti({uid:x,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ie,createdAt:_,lastLoginAt:S});return ne&&Array.isArray(ne)&&(ye.providerData=ne.map(Ae=>({...Ae}))),y&&(ye._redirectEventId=y),ye}static async _fromIdTokenResponse(e,i,a=!1){const o=new Ya;o.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ah(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];be(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?PT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ya;g.updateFromIdToken(a);const y=new ti({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const wv=new Map;function ss(s){os(s instanceof Function,"Expected a class definition");let e=wv.get(s);return e?(os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,wv.set(s,e),e)}class zT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}zT.type="NONE";const xv=zT;function Bc(s,e,i){return`firebase:${s}:${e}:${i}`}class Xa{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Bc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await rh(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Xa(ss(xv),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ss(xv);const d=Bc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let x;if(typeof S=="string"){const M=await rh(e,{idToken:S}).catch(()=>{});if(!M)break;x=await ti._fromGetAccountInfoResponse(e,M,S)}else x=ti._fromJSON(e,S);_!==c&&(g=x),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Xa(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Xa(c,e,a))}}function Rv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(KT(e))return"Webos";if(BT(e))return"Safari";if((e.includes("chrome/")||HT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function qT(s=nn()){return/firefox\//i.test(s)}function BT(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HT(s=nn()){return/crios\//i.test(s)}function FT(s=nn()){return/iemobile/i.test(s)}function GT(s=nn()){return/android/i.test(s)}function QT(s=nn()){return/blackberry/i.test(s)}function KT(s=nn()){return/webos/i.test(s)}function bp(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function uC(s=nn()){return bp(s)&&!!window.navigator?.standalone}function cC(){return uA()&&document.documentMode===10}function YT(s=nn()){return bp(s)||GT(s)||KT(s)||QT(s)||/windows phone/i.test(s)||FT(s)}function XT(s,e=[]){let i;switch(s){case"Browser":i=Rv(nn());break;case"Worker":i=`${Rv(nn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${al}/${a}`}class hC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function fC(s,e={}){return fl(s,"GET","/v2/passwordPolicy",Ep(s,e))}const dC=6;class mC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??dC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class pC{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new hC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await rh(this,{idToken:e}),a=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Kr(this));const i=e?$t(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fC(this),i=new mC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await oC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ss(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ch(s){return $t(s)}class Cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=yA(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gC(s){Sp=s}function yC(s){return Sp.loadJS(s)}function _C(){return Sp.gapiScript}function vC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function EC(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Yr(c,e??{}))return o;ki(o,"already-initialized")}return i.initialize({options:e})}function TC(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ss);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function bC(s,e,i){const a=Ch(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=$T(e),{host:d,port:g}=SC(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(Yr(_,a.config.emulator)&&Yr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,rl(d)?(Xv(`${c}//${d}${y}`),$v("Auth",!0)):AC()}function $T(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function SC(s){const e=$T(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Iv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Iv(d)}}}function Iv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function AC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class JT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,i){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function $a(s,e){return WR(s,"POST","/v1/accounts:signInWithIdp",Ep(s,e))}const wC="http://localhost";class Wr extends JT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ki("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Wr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return $a(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,$a(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,$a(e,i)}buildRequest(){const e={requestUri:wC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=zo(i)}return e}}class Ap{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yo extends Ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gs extends Yo{constructor(){super("facebook.com")}static credential(e){return Wr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";class ns extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Wr._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ns.credential(i,a)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class Qs extends Yo{constructor(){super("github.com")}static credential(e){return Wr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";class Ks extends Yo{constructor(){super("twitter.com")}static credential(e,i){return Wr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ti._fromIdTokenResponse(e,a,o),d=Nv(a);return new sl({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Nv(a);return new sl({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Nv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class lh extends us{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new lh(e,i,a,o)}}function ZT(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,c,e,a):c})}async function xC(s,e,i=!1){const a=await Uo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return sl._forOperation(s,"link",a)}async function RC(s,e,i=!1){const{auth:a}=s;if(ei(a.app))return Promise.reject(Kr(a));const o="reauthenticate";try{const c=await Uo(s,ZT(a,o,e,s),i);be(c.idToken,a,"internal-error");const d=Tp(c.idToken);be(d,a,"internal-error");const{sub:g}=d;return be(s.uid===g,a,"user-mismatch"),sl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ki(a,"user-mismatch"),c}}async function CC(s,e,i=!1){if(ei(s.app))return Promise.reject(Kr(s));const a="signIn",o=await ZT(s,a,e),c=await sl._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function IC(s,e,i,a){return $t(s).onIdTokenChanged(e,i,a)}function NC(s,e,i){return $t(s).beforeAuthStateChanged(e,i)}function Dv(s){return $t(s).signOut()}const oh="__sak";class WT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DC=1e3,OC=10;class eb extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);cC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OC):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}eb.type="LOCAL";const VC=eb;class tb extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}tb.type="SESSION";const nb=tb;function MC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Ih(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await MC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function wp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class kC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=wp("",20);o.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const M=x;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Vi(){return window}function jC(s){Vi().location.href=s}function ib(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function LC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){return navigator?.serviceWorker?.controller||null}function PC(){return ib()?self:null}const sb="firebaseLocalStorageDb",zC=1,uh="firebaseLocalStorage",rb="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function qC(){const s=indexedDB.deleteDatabase(sb);return new Xo(s).toPromise()}function Im(){const s=indexedDB.open(sb,zC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(uh,{keyPath:rb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(uh)?e(a):(a.close(),await qC(),e(await Im()))})})}async function Ov(s,e,i){const a=Nh(s,!0).put({[rb]:e,value:i});return new Xo(a).toPromise()}async function BC(s,e){const i=Nh(s,!1).get(e),a=await new Xo(i).toPromise();return a===void 0?null:a.value}function Vv(s,e){const i=Nh(s,!0).delete(e);return new Xo(i).toPromise()}const HC=800,FC=3;class ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>FC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ib()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(PC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LC(),!this.activeServiceWorker)return;this.sender=new kC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await Ov(e,oh,"1"),await Vv(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Ov(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>BC(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Nh(o,!1).getAll();return new Xo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ab.type="LOCAL";const GC=ab;new Ko(3e4,6e4);function lb(s,e){return e?ss(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class xp extends JT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $a(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function QC(s){return CC(s.auth,new xp(s),s.bypassAuthState)}function KC(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),RC(i,new xp(s),s.bypassAuthState)}async function YC(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),xC(i,new xp(s),s.bypassAuthState)}class ob{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QC;case"linkViaPopup":case"linkViaRedirect":return YC;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:ki(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XC=new Ko(2e3,1e4);async function $C(s,e,i){if(ei(s.app))return Promise.reject(ii(s,"operation-not-supported-in-this-environment"));const a=Ch(s);QR(s,e,Ap);const o=lb(a,i);return new Fr(a,"signInViaPopup",e,o).executeNotNull()}class Fr extends ob{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Fr.currentPopupAction&&Fr.currentPopupAction.cancel(),Fr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}Fr.currentPopupAction=null;const JC="pendingRedirect",Hc=new Map;class ZC extends ob{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const a=await WC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(s,e){const i=nI(e),a=tI(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function eI(s,e){Hc.set(s._key(),e)}function tI(s){return ss(s._redirectPersistence)}function nI(s){return Bc(JC,s.config.apiKey,s.name)}async function iI(s,e,i=!1){if(ei(s.app))return Promise.reject(Kr(s));const a=Ch(s),o=lb(a,e),d=await new ZC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const sI=600*1e3;class rI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!ub(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(e))}saveEventToCache(e){this.cachedEventUids.add(Mv(e)),this.lastProcessedEventTime=Date.now()}}function Mv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ub({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ub(s);default:return!1}}async function lI(s,e={}){return fl(s,"GET","/v1/projects",e)}const oI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uI=/^https?/;async function cI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await lI(s);for(const i of e)try{if(hI(i))return}catch{}ki(s,"unauthorized-domain")}function hI(s){const e=Rm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!uI.test(i))return!1;if(oI.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const fI=new Ko(3e4,6e4);function kv(){const s=Vi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function dI(s){return new Promise((e,i)=>{function a(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),i(ii(s,"network-request-failed"))},timeout:fI.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)a();else{const o=vC("iframefcb");return Vi()[o]=()=>{gapi.load?a():i(ii(s,"network-request-failed"))},yC(`${_C()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function mI(s){return Fc=Fc||dI(s),Fc}const pI=new Ko(5e3,15e3),gI="__/auth/iframe",yI="emulator/auth/iframe",_I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EI(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?vp(e,yI):`https://${s.config.authDomain}/${gI}`,a={apiKey:e.apiKey,appName:s.name,v:al},o=vI.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zo(a).slice(1)}`}async function TI(s){const e=await mI(s),i=Vi().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:EI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_I,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ii(s,"network-request-failed"),g=Vi().setTimeout(()=>{c(d)},pI.get());function y(){Vi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const bI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SI=500,AI=600,wI="_blank",xI="http://localhost";class jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RI(s,e,i,a=SI,o=AI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...bI,width:a.toString(),height:o.toString(),top:c,left:d},_=nn().toLowerCase();i&&(g=HT(_)?wI:i),qT(_)&&(e=e||xI,y.scrollbars="yes");const S=Object.entries(y).reduce((M,[Y,ne])=>`${M}${Y}=${ne},`,"");if(uC(_)&&g!=="_self")return CI(e||"",g),new jv(null);const x=window.open(e||"",g,S);be(x,s,"popup-blocked");try{x.focus()}catch{}return new jv(x)}function CI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const II="__/auth/handler",NI="emulator/auth/handler",DI=encodeURIComponent("fac");async function Lv(s,e,i,a,o,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:al,eventId:o};if(e instanceof Ap){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",gA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,x]of Object.entries({}))d[S]=x}if(e instanceof Yo){const S=e.getScopes().filter(x=>x!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await s._getAppCheckToken(),_=y?`#${DI}=${encodeURIComponent(y)}`:"";return`${OI(s)}?${zo(g).slice(1)}${_}`}function OI({config:s}){return s.emulator?vp(s,NI):`https://${s.authDomain}/${II}`}const Wd="webStorageSupport";class VI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nb,this._completeRedirectFn=iI,this._overrideRedirectResult=eI}async _openPopup(e,i,a,o){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Lv(e,i,a,Rm(),o);return RI(e,c,wp())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await Lv(e,i,a,Rm(),o);return jC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await TI(e),a=new rI(e);return i.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Wd,{type:Wd},o=>{const c=o?.[0]?.[Wd];c!==void 0&&i(!!c),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=cI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return YT()||BT()||bp()}}const MI=VI;var Uv="@firebase/auth",Pv="1.11.1";class kI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LI(s){Ja(new Xr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(s)},_=new pC(a,o,c,y);return TC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Ja(new Xr("auth-internal",e=>{const i=Ch(e.getProvider("auth").getImmediate());return(a=>new kI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(Uv,Pv,jI(s)),Js(Uv,Pv,"esm2020")}const UI=300,PI=Yv("authIdTokenMaxAge")||UI;let zv=null;const zI=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>PI)return;const o=i?.token;zv!==o&&(zv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qI(s=eE()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=EC(s,{popupRedirectResolver:MI,persistence:[GC,VC,nb]}),a=Yv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=zI(c.toString());NC(i,d,()=>d(i.currentUser)),IC(i,g=>d(g))}}const o=Qv("auth");return o&&bC(i,`http://${o}`),i}function BI(){return document.getElementsByTagName("head")?.[0]??document}gC({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=ii("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",BI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LI("Browser");const HI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},cb=Wv(HI),zr=wR(cb),em=qI(cb),FI=new ns;class $o{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const GI=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},Yt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:GI()},Rp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},QI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Rp(s);Yt.publicKey=i.publicKey,Yt.blockHeadless=i.blockHeadless,Yt.storageProvider=i.storageProvider,Yt.blockList=i.blockList,Yt.limitRate=i.limitRate,Yt.origin=i.origin||e},hb=async(s,e,i={})=>{const a=await fetch(Yt.origin+s,{method:"POST",headers:i,body:e}),o=await a.text(),c=new $o(a.status,o);if(a.ok)return c;throw c},fb=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},KI=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},db=s=>s.webdriver||!s.languages||s.languages.length===0,mb=()=>new $o(451,"Unavailable For Headless Browser"),YI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},XI=s=>!s.list?.length||!s.watchVariable,$I=(s,e)=>s instanceof FormData?s.get(e):s[e],pb=(s,e)=>{if(XI(s))return!1;YI(s.list,s.watchVariable);const i=$I(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},gb=()=>new $o(403,"Forbidden"),JI=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},ZI=async(s,e,i)=>{const a=Number(await i.get(s)||0);return e-Date.now()+a},yb=async(s,e,i)=>{if(!e.throttle||!i)return!1;JI(e.throttle,e.id);const a=e.id||s;return await ZI(a,e.throttle,i)>0?!0:(await i.set(a,Date.now().toString()),!1)},_b=()=>new $o(429,"Too Many Requests"),WI=async(s,e,i,a)=>{const o=Rp(a),c=o.publicKey||Yt.publicKey,d=o.blockHeadless||Yt.blockHeadless,g=o.storageProvider||Yt.storageProvider,y={...Yt.blockList,...o.blockList},_={...Yt.limitRate,...o.limitRate};return d&&db(navigator)?Promise.reject(mb()):(fb(c,s,e),KI(i),i&&pb(y,i)?Promise.reject(gb()):await yb(location.pathname,_,g)?Promise.reject(_b()):hb("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},eN=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},tN=s=>typeof s=="string"?document.querySelector(s):s,nN=async(s,e,i,a)=>{const o=Rp(a),c=o.publicKey||Yt.publicKey,d=o.blockHeadless||Yt.blockHeadless,g=Yt.storageProvider||o.storageProvider,y={...Yt.blockList,...o.blockList},_={...Yt.limitRate,...o.limitRate};if(d&&db(navigator))return Promise.reject(mb());const S=tN(i);fb(c,s,e),eN(S);const x=new FormData(S);return pb(y,x)?Promise.reject(gb()):await yb(location.pathname,_,g)?Promise.reject(_b()):(x.append("lib_version","4.4.1"),x.append("service_id",s),x.append("template_id",e),x.append("user_id",c),hb("/api/v1.0/email/send-form",x))},iN={init:QI,send:WI,sendForm:nN,EmailJSResponseStatus:$o},sN="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",tm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},rN=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","erivers@salpointe.org"],Mc={"Cinema Camera Kit *":1,"Gimbal / Stabilizer *":6,"DJI Mic Kit (Wireless)":4,"DJI Flip Drone *":1,Tripod:4,"Lighting Kit":6,"DSLR Camera Body":6,"Zoom Lens (18-55mm)":6,"Telephoto Lens (70-200mm)":2,"Portrait Lens (50mm)":3,"SD Card Reader":5,"Flash Unit":3},Fe={FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue"},qr=s=>`salpointe_draft_${s}`,qv=s=>{iN.send(tm.SERVICE_ID,tm.TEMPLATE_ID,s,tm.PUBLIC_KEY).then(e=>{console.log("EMAIL SUCCESS!",e.status,e.text)},e=>{console.log("EMAIL FAILED...",e)})},aN=()=>{const[s,e]=qe.useState("home"),[i,a]=qe.useState(!1),[o,c]=qe.useState(null),[d,g]=qe.useState(!1),y=()=>{e("home"),a(!1)},_=["home",Fe.FILM,Fe.GRAPHIC,Fe.BUSINESS,Fe.CULINARY,Fe.PHOTO].includes(s);return E.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-slate-800",children:[E.jsx("header",{className:"bg-red-900 text-white shadow-lg sticky top-0 z-50",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3",children:[E.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:y,children:[E.jsx("img",{src:sN,alt:"Salpointe Catholic Logo",className:"w-9 h-9 md:w-10 md:h-10 object-contain group-hover:scale-105 transition-transform"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-lg md:text-xl font-bold tracking-wide leading-tight",children:"Salpointe Catholic"}),E.jsx("p",{className:"text-[10px] md:text-xs text-red-200 uppercase tracking-wider",children:"CTE Request Hub"})]})]}),E.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!_&&s!=="home"&&E.jsxs("button",{onClick:y,className:"text-xs md:text-sm bg-red-800 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 mr-2",children:[E.jsx(hS,{size:16}),"Back"]}),E.jsxs("button",{onClick:y,className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${_?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(Pd,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"New Request"})]}),E.jsxs("button",{onClick:()=>{e(Fe.CALENDAR),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Fe.CALENDAR?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(Ud,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),E.jsxs("button",{onClick:()=>{e(Fe.QUEUE),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Fe.QUEUE?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(l0,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Queue"})]})]})]})}),E.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:i?E.jsx(S,{onReset:y}):E.jsxs(E.Fragment,{children:[s==="home"&&E.jsx(x,{onViewChange:e}),s===Fe.FILM&&E.jsx(ie,{setSubmitted:a,onCancel:y}),s===Fe.GRAPHIC&&E.jsx(ye,{setSubmitted:a,onCancel:y}),s===Fe.BUSINESS&&E.jsx(Ae,{setSubmitted:a,onCancel:y}),s===Fe.CULINARY&&E.jsx(Ee,{setSubmitted:a,onCancel:y}),s===Fe.PHOTO&&E.jsx(Ke,{setSubmitted:a,onCancel:y}),s===Fe.CALENDAR&&E.jsx(Y,{}),s===Fe.QUEUE&&E.jsx(ne,{adminMode:d,setAdminMode:g,setAdminUser:c,ALLOWED_ADMINS:rN})]})}),E.jsxs("footer",{className:"text-center text-slate-400 text-xs md:text-sm py-8 px-4",children:[" ",new Date().getFullYear()," Salpointe Catholic High School CTE Department"]})]});function S({onReset:de}){return E.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded-xl shadow-md p-6 md:p-8 text-center animate-fade-in-up mt-8 md:mt-16",children:[E.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600",children:E.jsx(bS,{size:32,className:"md:w-10 md:h-10"})}),E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mb-2",children:"Request Received!"}),E.jsx("p",{className:"text-slate-600 mb-8 text-sm md:text-base",children:"Your request has been saved to the database and the department head has been notified."}),E.jsx("button",{onClick:de,className:"bg-red-900 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg hover:shadow-xl w-full text-sm md:text-base",children:"Submit Another Request"})]})}function x({onViewChange:de}){const[me,R]=qe.useState({});qe.useEffect(()=>{(()=>{const O={},D={[Fe.FILM]:"Film",[Fe.GRAPHIC]:"Graphic",[Fe.BUSINESS]:"Business",[Fe.CULINARY]:"Culinary",[Fe.PHOTO]:"Photo"};Object.keys(D).forEach(k=>{const C=qr(D[k]);localStorage.getItem(C)&&(O[k]=!0)}),R(O)})()},[]);const w=[{id:Fe.FILM,title:"Film & TV",icon:u0,desc:"Checkout equipment (cameras, drones) or request event recording/broadcasting.",color:"bg-blue-50 text-blue-700 border-blue-200"},{id:Fe.GRAPHIC,title:"Graphic Design",icon:Pd,desc:"Request creative assets like logos, posters, flyers, or website designs.",color:"bg-purple-50 text-purple-700 border-purple-200"},{id:Fe.BUSINESS,title:"Business",icon:Ld,desc:"Submit business plans for review or request consultation for student startups.",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{id:Fe.CULINARY,title:"Culinary Arts",icon:o0,desc:"Request catering services for school clubs, faculty meetings, or special events.",color:"bg-orange-50 text-orange-700 border-orange-200"},{id:Fe.PHOTO,title:"Photography",icon:r0,desc:"Reserve cameras/lenses or request a photographer for your event.",color:"bg-pink-50 text-pink-700 border-pink-200"}];return E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[E.jsxs("div",{className:"col-span-full mb-2 md:mb-4",children:[E.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Welcome, Lancer."}),E.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Select a department below to start your request."})]}),w.map(A=>E.jsxs("div",{onClick:()=>de(A.id),className:"group relative bg-white rounded-xl shadow-sm hover:shadow-md border border-slate-200 p-5 md:p-6 cursor-pointer transition-all hover:-translate-y-1 flex flex-col h-full active:scale-95 md:active:scale-100",children:[me[A.id]&&E.jsxs("span",{className:"absolute top-4 right-4 bg-amber-100 text-amber-800 border border-amber-200 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-sm z-10",children:[E.jsx(zd,{size:12})," Resume Draft"]}),E.jsx("div",{className:`w-12 h-12 rounded-lg ${A.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:E.jsx(A.icon,{size:24})}),E.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:A.title}),E.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:A.desc})]},A.id))]})}function M({initialData:de={}}){return E.jsxs("div",{className:"bg-slate-50 p-5 md:p-6 rounded-lg border border-slate-200 mb-6",children:[E.jsxs("h3",{className:"text-base md:text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[E.jsx(PS,{size:18})," Contact Information"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Project / Request Name"}),E.jsx("input",{name:"requestName",type:"text",defaultValue:de.requestName||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"e.g. Football Video, Catering for NHS",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Full Name"}),E.jsx("input",{name:"fullName",type:"text",defaultValue:de.fullName||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"Jane Doe",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Salpointe Email"}),E.jsx("input",{name:"email",type:"email",defaultValue:de.email||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"jdoe@salpointe.org",required:!0})]}),E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Role"}),E.jsxs("select",{name:"role",defaultValue:de.role||"Student",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm bg-white",children:[E.jsx("option",{children:"Student"}),E.jsx("option",{children:"Faculty / Staff"}),E.jsx("option",{children:"Club Representative"})]})]})]})]})}function Y(){const de=new Date,[me,R]=qe.useState(null),[w,A]=qe.useState("all"),[O,D]=qe.useState([]),[k,C]=qe.useState(!0);qe.useEffect(()=>{const j=Dc(vo(zr,"requests")),B=bv(j,K=>{const ee=K.docs.map(te=>{const le=te.data();let Ye=le.eventDate||le.checkoutDate||le.pickupDate||le.deadline;if(!Ye)return null;const[Xe,zt,ln]=Ye.split("-").map(Number),ri=new Date(Xe,zt-1,ln);return{id:te.id,title:le.title||le.requestName||"Request",displayId:le.displayId,dept:le.dept,type:le.requestType==="checkout"||le.dept==="Graphic"?"checkout":"event",status:le.status,date:ri,...le}}).filter(te=>te!==null&&te.status==="Approved");D(ee),C(!1)});return()=>B()},[]);const Pe=j=>{const B=j.getFullYear(),K=j.getMonth(),ee=new Date(B,K+1,0).getDate(),te=new Date(B,K,1).getDay();return{days:ee,firstDay:te,monthName:j.toLocaleString("default",{month:"long"}),year:B}},{days:_e,firstDay:q,monthName:W}=Pe(de),ue=Array.from({length:_e},(j,B)=>B+1),Re=Array.from({length:q},(j,B)=>B),fe=j=>O.filter(B=>B.date.getDate()===j&&B.date.getMonth()===de.getMonth()&&(w==="all"||B.dept===w)),N=j=>{const B="https://calendar.google.com/calendar/render?action=TEMPLATE",K=`&text=${encodeURIComponent(`[${j.dept}] ${j.title}`)}`,ee=`&details=${encodeURIComponent(`Ref: ${j.displayId}
Requested by: ${j.fullName}
Role: ${j.role}
Details: ${j.details||j.brief||j.description||"N/A"}`)}`,te=`&location=${encodeURIComponent(j.location||"Salpointe Catholic High School")}`,le=j.date.getFullYear(),Ye=String(j.date.getMonth()+1).padStart(2,"0"),Xe=String(j.date.getDate()).padStart(2,"0"),zt=`${le}${Ye}${Xe}`,ln=new Date(j.date);ln.setDate(ln.getDate()+1);const ri=ln.getFullYear(),cs=String(ln.getMonth()+1).padStart(2,"0"),Rn=String(ln.getDate()).padStart(2,"0"),cr=`${ri}${cs}${Rn}`,ji=`&dates=${zt}/${cr}`;return`${B}${K}${ji}${ee}${te}`};return E.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[E.jsxs("div",{className:"bg-red-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[E.jsx(Ud,{className:"text-amber-400",size:24})," Master Schedule"]}),E.jsx("p",{className:"text-red-200 text-sm",children:"Approved requests and checkouts"})]}),E.jsxs("div",{className:"flex bg-red-800 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:[E.jsx("button",{onClick:()=>A("all"),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${w==="all"?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"All"}),E.jsx("button",{onClick:()=>A(Fe.FILM),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${w===Fe.FILM?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Film"}),E.jsx("button",{onClick:()=>A(Fe.PHOTO),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${w===Fe.PHOTO?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Photo"}),E.jsx("button",{onClick:()=>A(Fe.CULINARY),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${w===Fe.CULINARY?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Culinary"})]})]}),E.jsxs("div",{className:"p-4 md:p-6",children:[E.jsx("div",{className:"overflow-x-auto pb-2",children:k?E.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading schedule..."}):E.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>E.jsx("div",{className:"bg-slate-50 p-2 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider",children:j},j)),Re.map(j=>E.jsx("div",{className:"bg-white min-h-[80px] md:min-h-[100px]"},`empty-${j}`)),ue.map(j=>{const B=fe(j),K=j===de.getDate(),ee=me===j;return E.jsxs("div",{className:`bg-white min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-100 relative group cursor-pointer transition-colors ${ee?"bg-red-50":"hover:bg-slate-50"}`,onClick:()=>R(ee?null:j),children:[E.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${K?"bg-red-900 text-white":"text-slate-700"}`,children:j}),E.jsx("div",{className:"space-y-1",children:B.map(te=>E.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${te.type==="checkout"?"bg-blue-50 border-blue-100 text-blue-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:te.title},te.id))})]},j)})]})}),me&&E.jsxs("div",{className:"mt-4 md:mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200 animate-fade-in",children:[E.jsxs("h4",{className:"font-bold text-slate-800 mb-3",children:["Events for ",W," ",me]}),fe(me).length===0?E.jsx("p",{className:"text-slate-500 text-sm",children:"No approved events for this day."}):E.jsx("div",{className:"space-y-3",children:fe(me).map(j=>E.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 bg-white p-3 rounded border border-slate-200 shadow-sm",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:`mt-1 p-2 rounded-full flex-shrink-0 ${j.type==="checkout"?"bg-blue-100 text-blue-600":"bg-emerald-100 text-emerald-600"}`,children:j.type==="checkout"?E.jsx(jd,{size:14}):E.jsx(Ud,{size:14})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-slate-800 text-sm",children:j.title}),E.jsxs("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:[j.dept," Dept  ",j.fullName]})]})]}),E.jsxs("a",{href:N(j),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 text-xs font-medium px-3 py-2 rounded-lg transition-colors",children:[E.jsx(pS,{size:14}),E.jsx("span",{className:"hidden sm:inline",children:"Add to Google Calendar"}),E.jsx("span",{className:"sm:hidden",children:"Add"})]})]},j.id))})]})]})]})}function ne({adminMode:de,setAdminMode:me,setAdminUser:R,ALLOWED_ADMINS:w}){const[A,O]=qe.useState([]),[D,k]=qe.useState("all"),[C,Pe]=qe.useState(!0),[_e,q]=qe.useState(null);qe.useEffect(()=>{const B=Dc(vo(zr,"requests"),jR("createdAt","desc")),K=bv(B,ee=>{const te=ee.docs.map(le=>({id:le.id,...le.data(),formattedDate:le.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));O(te),Pe(!1)});return()=>K()},[]);const W=async(B,K)=>{if(!window.confirm(`Are you sure you want to mark this request as ${K}?`))return;const ee=wm(zr,"requests",B.id);await zR(ee,{status:K}),_e&&_e.id===B.id&&q(le=>({...le,status:K}));const te={to_name:B.fullName,to_email:B.email,subject:`Request Update: ${B.title} (${B.displayId||"N/A"})`,title:B.title,status:K,message:`Your request (${B.displayId||"N/A"}) has been updated to: ${K}. Please check the portal or contact the CTE department for more details.`};qv(te)},ue=async B=>{window.confirm("Are you sure you want to delete this request?")&&(await qR(wm(zr,"requests",B)),_e&&_e.id===B&&q(null))},Re=async()=>{try{const B=await $C(em,FI),K=B.user.email;w.includes(K)?(me(!0),R(B.user)):(alert(`Access Denied. The email "${K}" is not authorized as an administrator.`),await Dv(em))}catch(B){console.error("Login failed:",B),alert("Login failed. Please try again.")}},fe=async()=>{await Dv(em),me(!1),R(null)},N=D==="all"?A:A.filter(B=>B.dept?.toLowerCase().includes(D.toLowerCase())),j=B=>{switch(B){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return E.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden relative",children:[_e&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[E.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start sticky top-0 bg-white z-10",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Request Details"}),E.jsxs("div",{className:"flex gap-3 text-xs text-slate-400 font-mono mt-1",children:[E.jsxs("span",{children:["ID: ",_e.displayId||"N/A"]}),E.jsxs("span",{className:"opacity-50",children:["| Ref: ",_e.id]})]})]}),E.jsx("button",{onClick:()=>q(null),className:"text-slate-400 hover:text-slate-600 transition-colors bg-slate-100 p-2 rounded-full",children:E.jsx(qd,{size:20})})]}),E.jsxs("div",{className:"p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Department"}),E.jsx("p",{className:"font-semibold text-slate-800 text-lg capitalize",children:_e.dept})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Status"}),E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide inline-block ${j(_e.status)}`,children:_e.status})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Submitted By"}),E.jsx("p",{className:"text-slate-800",children:_e.fullName}),E.jsx("p",{className:"text-slate-500 text-xs",children:_e.role})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Contact"}),E.jsx("p",{className:"text-slate-800",children:_e.email})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Date Submitted"}),E.jsx("p",{className:"text-slate-800",children:_e.formattedDate})]})]}),E.jsx("hr",{className:"border-slate-100"}),E.jsxs("div",{children:[E.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[E.jsx(Ld,{size:18,className:"text-slate-400"})," Project / Event Information"]}),E.jsx("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 border border-slate-100",children:Object.entries(_e).map(([B,K])=>{if(["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(B))return null;const ee=B.replace(/([A-Z])/g," $1").trim();return Array.isArray(K)?E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:ee}),E.jsx("ul",{className:"list-disc list-inside text-slate-700 text-sm bg-white p-2 rounded border border-slate-200",children:K.map((te,le)=>E.jsx("li",{children:te},le))})]},B):E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:ee}),E.jsx("p",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:K?K.toString():"N/A"})]},B)})})]}),de&&E.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[E.jsx("h4",{className:"font-bold text-indigo-900 mb-2 text-sm",children:"Admin Actions"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>W(_e,"Approved"),className:"flex-1 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-medium text-sm",children:"Approve"}),E.jsx("button",{onClick:()=>W(_e,"Denied"),className:"flex-1 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-medium text-sm",children:"Deny"}),E.jsx("button",{onClick:()=>W(_e,"Completed"),className:"flex-1 py-2 bg-slate-600 text-white rounded hover:bg-slate-700 font-medium text-sm",children:"Mark Complete"})]})]})]}),E.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex justify-end rounded-b-xl",children:E.jsx("button",{onClick:()=>q(null),className:"bg-white border border-slate-300 text-slate-700 px-6 py-2 rounded-lg font-medium hover:bg-slate-50 transition-colors",children:"Close"})})]})}),E.jsxs("div",{className:"bg-indigo-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[E.jsx(l0,{className:"text-indigo-300"})," Request Status Queue"]}),E.jsx("p",{className:"text-indigo-200 text-sm",children:"Real-time updates from database."})]}),E.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[de?E.jsxs("button",{onClick:fe,className:"flex items-center gap-2 p-2 text-red-200 hover:text-white transition-colors bg-red-950/30 rounded-lg px-3",title:"Log Out",children:[E.jsx(DS,{size:16})," ",E.jsx("span",{className:"text-xs font-bold uppercase",children:"Admin Logout"})]}):E.jsxs("button",{onClick:Re,className:"flex items-center gap-2 p-2 text-indigo-300 hover:text-white transition-colors",title:"Admin Login",children:[E.jsx(IS,{size:18})," ",E.jsx("span",{className:"text-xs",children:"Staff Login"})]}),E.jsxs("select",{className:"flex-1 md:w-auto bg-indigo-800 text-white border border-indigo-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",value:D,onChange:B=>k(B.target.value),children:[E.jsx("option",{value:"all",children:"All Departments"}),E.jsx("option",{value:"film",children:"Film"}),E.jsx("option",{value:"graphic",children:"Graphic"}),E.jsx("option",{value:"business",children:"Business"}),E.jsx("option",{value:"culinary",children:"Culinary"}),E.jsx("option",{value:"photo",children:"Photo"})]})]})]}),E.jsxs("div",{className:"overflow-x-auto",children:[C?E.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading requests..."}):E.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs uppercase tracking-wider text-slate-500 font-semibold",children:[E.jsx("th",{className:"p-4",children:"ID"}),E.jsx("th",{className:"p-4",children:"Department"}),E.jsx("th",{className:"p-4",children:"Request Details"}),E.jsx("th",{className:"p-4",children:"Requester"}),E.jsx("th",{className:"p-4",children:"Submitted"}),E.jsx("th",{className:"p-4",children:"Status"}),E.jsx("th",{className:"p-4",children:"Action"}),de&&E.jsx("th",{className:"p-4",children:"Admin"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:N.map(B=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[E.jsx("td",{className:"p-4 text-slate-400 font-mono text-xs",children:B.displayId||"..."}),E.jsx("td",{className:"p-4 text-slate-700 font-medium text-sm capitalize",children:B.dept}),E.jsx("td",{className:"p-4 text-slate-800 font-semibold text-sm md:text-base",children:B.title||"General Request"}),E.jsx("td",{className:"p-4 text-slate-600 text-sm",children:B.fullName}),E.jsx("td",{className:"p-4 text-slate-500 text-sm",children:E.jsxs("div",{className:"flex items-center gap-2 w-max",children:[E.jsx(wS,{size:14})," ",B.formattedDate]})}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide whitespace-nowrap ${j(B.status)}`,children:B.status})}),E.jsx("td",{className:"p-4",children:E.jsx("button",{onClick:()=>q(B),className:"text-slate-400 hover:text-indigo-600 transition-colors p-2 rounded-full hover:bg-indigo-50",title:"View Details",children:E.jsx(RS,{size:20})})}),de&&E.jsxs("td",{className:"p-4 flex gap-2",children:[E.jsx("button",{onClick:()=>W(B,"Approved"),className:"p-1 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Approve",children:E.jsx(vS,{size:16})}),E.jsx("button",{onClick:()=>W(B,"Denied"),className:"p-1 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Deny",children:E.jsx(qd,{size:16})}),E.jsx("button",{onClick:()=>ue(B.id),className:"p-1 bg-slate-100 text-slate-700 rounded hover:bg-slate-200",title:"Delete",children:E.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},B.id))})]}),!C&&N.length===0&&E.jsx("div",{className:"p-8 text-center text-slate-500",children:"No pending requests found."})]})]})}function re({title:de,icon:me,colorClass:R,children:w,setSubmitted:A,initialData:O={},onCancel:D}){const k=qe.useRef(null),C=qr(de),[Pe,_e]=qe.useState(!1),q=()=>{const j=new FormData(k.current),B={};for(const[K,ee]of j.entries())B[K]?(Array.isArray(B[K])||(B[K]=[B[K]]),B[K].push(ee)):B[K]=ee;return localStorage.setItem(C,JSON.stringify(B)),!0},W=j=>{j.preventDefault(),q(),alert("Draft saved! You can resume this form later on this device.")},ue=()=>{_e(!0)},Re=()=>{q(),_e(!1),D()},fe=()=>{localStorage.removeItem(C),_e(!1),D()},N=async j=>{j.preventDefault();const B=new FormData(j.target),K={};for(const[ee,te]of B.entries())K[ee]?(Array.isArray(K[ee])||(K[ee]=[K[ee]]),K[ee].push(te)):K[ee]=te;try{const ee=Date.now().toString().slice(-4),te=Math.floor(1e3+Math.random()*9e3),le=`REQ-${ee}-${te}`;await BR(vo(zr,"requests"),{...K,dept:de,displayId:le,status:"Pending Review",createdAt:new Date,title:K.requestName||K.eventName||K.projectType||K.businessName||"New Request"});const Ye={to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${K.requestName} (${le})`,title:K.requestName||"New Request",status:"Pending Review",message:`A new request (${le}) has been submitted by ${K.fullName} for ${de}. 

Details: ${K.details||K.brief||K.description||"N/A"}`};qv(Ye),localStorage.removeItem(C),A(!0)}catch(ee){console.error("Error adding document: ",ee),alert("Error submitting request. See console.")}};return E.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden relative",children:[Pe&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-yellow-600",children:E.jsx(LS,{size:32})}),E.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Unsaved Changes"}),E.jsx("p",{className:"text-slate-600 mb-6",children:"You have started a request. Do you want to save your progress as a draft before leaving?"}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsxs("button",{onClick:Re,className:"w-full bg-slate-800 text-white py-3 rounded-lg font-semibold hover:bg-slate-900 transition-colors flex items-center justify-center gap-2",children:[E.jsx(zd,{size:18})," Save Draft & Exit"]}),E.jsx("button",{onClick:fe,className:"w-full bg-white border border-red-200 text-red-600 py-3 rounded-lg font-semibold hover:bg-red-50 transition-colors",children:"Discard Changes & Exit"}),E.jsx("button",{onClick:()=>_e(!1),className:"w-full text-slate-400 py-2 hover:text-slate-600 text-sm",children:"Keep Editing"})]})]})}),E.jsx("div",{className:`h-2 ${R}`}),E.jsxs("div",{className:"p-5 md:p-8",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-100",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`p-3 rounded-lg ${R} bg-opacity-10 text-opacity-100`,children:E.jsx(me,{size:24,className:`md:w-7 md:h-7 ${R.replace("bg-","text-")}`})}),E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:[de," Request"]}),E.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Please fill out all details accurately."})]})]}),E.jsx("button",{type:"button",onClick:ue,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 p-2 rounded-full transition-colors",title:"Cancel & Go Back",children:E.jsx(qd,{size:24})})]}),E.jsxs("form",{ref:k,onSubmit:N,children:[E.jsx(M,{initialData:O}),w,E.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3",children:[E.jsx("button",{type:"button",onClick:ue,className:"flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-500 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 hover:text-slate-700 transition-colors",children:"Cancel"}),E.jsxs("button",{type:"button",onClick:W,className:"flex items-center justify-center gap-2 bg-white border border-slate-300 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors",children:[E.jsx(zd,{size:18})," Save Draft"]}),E.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-red-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg active:scale-95 md:active:scale-100",children:"Submit Request"})]})]})]})]})}function ie({setSubmitted:de,onCancel:me}){const R="Film",w=qr(R),A=JSON.parse(localStorage.getItem(w)||"{}"),[O,D]=qe.useState(A.requestType||"checkout"),[k,C]=qe.useState({}),[Pe,_e]=qe.useState(!1),[q,W]=qe.useState({start:A.checkoutDate||"",end:A.returnDate||""}),ue=fe=>{const N={...q,[fe.target.name==="checkoutDate"?"start":"end"]:fe.target.value};W(N)};qe.useEffect(()=>{(async()=>{if(!q.start||!q.end||O!=="checkout"){_e(!1);return}_e(!0);const N=Dc(vo(zr,"requests"),Oc("dept","==","Film"),Oc("requestType","==","checkout")),j=await Tv(N),B={};j.forEach(ee=>{const te=ee.data();if(te.status==="Denied"||te.status==="Completed")return;const le=te.checkoutDate,Ye=te.returnDate;le<=q.end&&Ye>=q.start&&te.equipment&&(Array.isArray(te.equipment)?te.equipment:[te.equipment]).forEach(zt=>{B[zt]=(B[zt]||0)+1})});const K={};Object.keys(Mc).forEach(ee=>{const te=Mc[ee],le=B[ee]||0;K[ee]=Math.max(0,te-le)}),C(K)})()},[q,O]);const Re=q.start&&q.end&&q.start===q.end;return E.jsxs(re,{title:R,icon:u0,colorClass:"bg-blue-600",setSubmitted:de,initialData:A,onCancel:me,children:[E.jsx("input",{type:"hidden",name:"requestType",value:O}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("button",{type:"button",onClick:()=>D("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${O==="checkout"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[E.jsx(jd,{className:"mx-auto mb-2"})," Equipment Checkout"]}),E.jsxs("button",{type:"button",onClick:()=>D("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${O==="service"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[E.jsx(VS,{className:"mx-auto mb-2"})," Broadcasting/Recording Team"]})]})]}),O==="checkout"?E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100 text-sm text-blue-800 mb-4",children:[E.jsx("strong",{children:"Note:"})," Equipment must be returned by 8:00 AM the following school day."]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Checkout Date"}),E.jsx("input",{name:"checkoutDate",defaultValue:A.checkoutDate,onChange:ue,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),E.jsx("input",{name:"returnDate",defaultValue:A.returnDate,onChange:ue,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),Re&&E.jsxs("div",{className:"mb-4 animate-fade-in bg-blue-50 p-4 rounded-lg border border-blue-100",children:[E.jsx("label",{className:"block text-sm font-bold text-blue-800 mb-1",children:"Duration / Specific Hours"}),E.jsx("p",{className:"text-xs text-blue-600 mb-2",children:"Since this is a single-day checkout, please specify how long you need it."}),E.jsxs("select",{name:"durationHours",defaultValue:A.durationHours,className:"w-full rounded-md border-blue-300 border p-2.5 text-sm bg-white",children:[E.jsx("option",{value:"",children:"Select Duration..."}),E.jsx("option",{value:"1 Hour",children:"1 Hour"}),E.jsx("option",{value:"2 Hours",children:"2 Hours"}),E.jsx("option",{value:"3 Hours",children:"3 Hours"}),E.jsx("option",{value:"4 Hours",children:"4 Hours"}),E.jsx("option",{value:"Full Day (School Hours)",children:"Full Day (School Hours)"}),E.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),E.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Select Equipment Needed: ",E.jsx("span",{className:"text-red-500 text-xs font-normal ml-1",children:"* Requires Training"})]}),Pe?E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Cinema Camera Kit *","Gimbal / Stabilizer *","DJI Mic Kit (Wireless)","DJI Flip Drone *","Tripod","Lighting Kit"].map(fe=>{const N=k[fe]!==void 0?k[fe]:99,j=N<=0;return E.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-colors ${j?"bg-gray-100 opacity-60 cursor-not-allowed":"hover:bg-slate-50 cursor-pointer active:bg-blue-50"}`,children:[E.jsx("input",{type:"checkbox",name:"equipment",value:fe,disabled:j,defaultChecked:A.equipment?.includes(fe),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:"text-slate-700 text-sm block",children:fe}),E.jsx("span",{className:`text-xs ${j?"text-red-600 font-bold":"text-green-600"}`,children:j?"Unavailable for dates":`${N} available`})]})]},fe)})}):E.jsxs("div",{className:"p-4 bg-slate-100 rounded text-center text-slate-500 text-sm",children:[E.jsx(a0,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Please select dates above to check equipment availability."]}),E.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:E.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),E.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[E.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),E.jsx("input",{name:"eventDate",defaultValue:A.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),E.jsx("input",{name:"startTime",defaultValue:A.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Needed"}),E.jsxs("select",{name:"serviceType",defaultValue:A.serviceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm bg-white",children:[E.jsx("option",{children:"Live Broadcast (Stream)"}),E.jsx("option",{children:"Event Recording (Edited later)"}),E.jsx("option",{children:"Raw Footage Only"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Details"}),E.jsx("textarea",{name:"details",defaultValue:A.details,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Describe specifics..."})]})]})]})}function ye({setSubmitted:de,onCancel:me}){const R="Graphic",w=qr(R),A=JSON.parse(localStorage.getItem(w)||"{}");return E.jsx(re,{title:R,icon:Pd,colorClass:"bg-purple-600",setSubmitted:de,initialData:A,onCancel:me,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Type"}),E.jsxs("select",{name:"projectType",defaultValue:A.projectType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Event Poster / Flyer"}),E.jsx("option",{children:"Logo Design"}),E.jsx("option",{children:"Website Design"}),E.jsx("option",{children:"T-Shirt / Merch"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dimensions"}),E.jsx("input",{name:"dimensions",defaultValue:A.dimensions,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., 11x17"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Deadline"}),E.jsx("input",{name:"deadline",defaultValue:A.deadline,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Design Brief"}),E.jsx("textarea",{name:"brief",defaultValue:A.brief,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function Ae({setSubmitted:de,onCancel:me}){const R="Business",w=qr(R),A=JSON.parse(localStorage.getItem(w)||"{}");return E.jsx(re,{title:R,icon:Ld,colorClass:"bg-emerald-600",setSubmitted:de,initialData:A,onCancel:me,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assistance Needed"}),E.jsxs("select",{name:"assistanceType",defaultValue:A.assistanceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Business Plan Review"}),E.jsx("option",{children:"Financial Modeling Help"}),E.jsx("option",{children:"Marketing Strategy"}),E.jsx("option",{children:"General Mentorship"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Idea Description"}),E.jsx("textarea",{name:"description",defaultValue:A.description,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-40",placeholder:"Briefly describe your product...",required:!0})]})]})})}function Ee({setSubmitted:de,onCancel:me}){const R="Culinary",w=qr(R),A=JSON.parse(localStorage.getItem(w)||"{}");return E.jsx(re,{title:R,icon:o0,colorClass:"bg-orange-500",setSubmitted:de,initialData:A,onCancel:me,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Date"}),E.jsx("input",{name:"eventDate",defaultValue:A.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Serve Time"}),E.jsx("input",{name:"serveTime",defaultValue:A.serveTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Guest Count"}),E.jsx("input",{name:"guestCount",defaultValue:A.guestCount,type:"number",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",min:"1",placeholder:"50",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Style"}),E.jsxs("select",{name:"serviceStyle",defaultValue:A.serviceStyle,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Buffet Style"}),E.jsx("option",{children:"Boxed Lunches"}),E.jsx("option",{children:"Plated Service"}),E.jsx("option",{children:"Appetizers"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Menu/Dietary Notes"}),E.jsx("textarea",{name:"menuNotes",defaultValue:A.menuNotes,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Preferences, allergies...",required:!0})]})]})})}function Ke({setSubmitted:de,onCancel:me}){const R="Photo",w=qr(R),A=JSON.parse(localStorage.getItem(w)||"{}"),[O,D]=qe.useState(A.requestType||"service"),[k,C]=qe.useState({}),[Pe,_e]=qe.useState(!1),[q,W]=qe.useState({start:A.pickupDate||"",end:A.returnDate||""}),ue=fe=>{const N={...q,[fe.target.name==="pickupDate"?"start":"end"]:fe.target.value};W(N)};qe.useEffect(()=>{(async()=>{if(!q.start||!q.end||O!=="checkout"){_e(!1);return}_e(!0);const N=Dc(vo(zr,"requests"),Oc("dept","==","Photo"),Oc("requestType","==","checkout")),j=await Tv(N),B={};j.forEach(ee=>{const te=ee.data();if(te.status==="Denied"||te.status==="Completed")return;const le=te.pickupDate,Ye=te.returnDate;le<=q.end&&Ye>=q.start&&te.equipment&&(Array.isArray(te.equipment)?te.equipment:[te.equipment]).forEach(zt=>{B[zt]=(B[zt]||0)+1})});const K={};Object.keys(Mc).forEach(ee=>{const te=Mc[ee],le=B[ee]||0;K[ee]=Math.max(0,te-le)}),C(K)})()},[q,O]);const Re=q.start&&q.end&&q.start===q.end;return E.jsxs(re,{title:R,icon:r0,colorClass:"bg-pink-600",setSubmitted:de,initialData:A,onCancel:me,children:[E.jsx("input",{type:"hidden",name:"requestType",value:O}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("button",{type:"button",onClick:()=>D("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${O==="service"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[E.jsx(qS,{className:"mx-auto mb-2"})," Event Coverage"]}),E.jsxs("button",{type:"button",onClick:()=>D("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${O==="checkout"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[E.jsx(jd,{className:"mx-auto mb-2"})," Equipment Checkout"]})]})]}),O==="checkout"?E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-pink-50 p-4 rounded-md border border-pink-100 text-sm text-pink-800 mb-4",children:[E.jsx("strong",{children:"Requirement:"})," Photo I completion required."]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Pickup Date"}),E.jsx("input",{name:"pickupDate",defaultValue:A.pickupDate,onChange:ue,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),E.jsx("input",{name:"returnDate",defaultValue:A.returnDate,onChange:ue,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),Re&&E.jsxs("div",{className:"mb-4 animate-fade-in bg-pink-50 p-4 rounded-lg border border-pink-100",children:[E.jsx("label",{className:"block text-sm font-bold text-pink-800 mb-1",children:"Duration / Specific Hours"}),E.jsx("p",{className:"text-xs text-pink-600 mb-2",children:"Since this is a single-day checkout, please specify how long you need it."}),E.jsxs("select",{name:"durationHours",defaultValue:A.durationHours,className:"w-full rounded-md border-pink-300 border p-2.5 text-sm bg-white",children:[E.jsx("option",{value:"",children:"Select Duration..."}),E.jsx("option",{value:"1 Hour",children:"1 Hour"}),E.jsx("option",{value:"2 Hours",children:"2 Hours"}),E.jsx("option",{value:"3 Hours",children:"3 Hours"}),E.jsx("option",{value:"4 Hours",children:"4 Hours"}),E.jsx("option",{value:"Full Day (School Hours)",children:"Full Day (School Hours)"}),E.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),E.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Select Equipment Needed:"}),Pe?E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["DSLR Camera Body","Zoom Lens (18-55mm)","Telephoto Lens (70-200mm)","Portrait Lens (50mm)","SD Card Reader","Tripod","Flash Unit"].map(fe=>{const N=k[fe]!==void 0?k[fe]:99,j=N<=0;return E.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-colors ${j?"bg-gray-100 opacity-60 cursor-not-allowed":"hover:bg-slate-50 cursor-pointer active:bg-pink-50"}`,children:[E.jsx("input",{type:"checkbox",name:"equipment",value:fe,disabled:j,defaultChecked:A.equipment?.includes(fe),className:"w-5 h-5 text-pink-600 rounded focus:ring-pink-500"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("span",{className:"text-slate-700 text-sm block",children:fe}),E.jsx("span",{className:`text-xs ${j?"text-red-600 font-bold":"text-green-600"}`,children:j?"Unavailable for dates":`${N} available`})]})]},fe)})}):E.jsxs("div",{className:"p-4 bg-slate-100 rounded text-center text-slate-500 text-sm",children:[E.jsx(a0,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Please select dates above to check equipment availability."]}),E.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:E.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-pink-600 rounded focus:ring-pink-500 border-gray-300"}),E.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[E.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),E.jsx("input",{name:"eventDate",defaultValue:A.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),E.jsx("input",{name:"startTime",defaultValue:A.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),E.jsx("input",{name:"location",defaultValue:A.location,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Gym"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Specific Shots"}),E.jsx("textarea",{name:"shotList",defaultValue:A.shotList,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Key moments..."})]})]})]})}};sS.createRoot(document.getElementById("root")).render(E.jsx(qe.StrictMode,{children:E.jsx(aN,{})}));
