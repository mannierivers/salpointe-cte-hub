(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var jd={exports:{}},yl={};var Z0;function eA(){if(Z0)return yl;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=e,yl.jsx=i,yl.jsxs=i,yl}var J0;function tA(){return J0||(J0=1,jd.exports=eA()),jd.exports}var b=tA(),Ld={exports:{}},Ne={};var W0;function nA(){if(W0)return Ne;W0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function Q(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,te={};function be(D,F,W){this.props=D,this.context=F,this.refs=te,this.updater=W||ee}be.prototype.isReactComponent={},be.prototype.setState=function(D,F){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,F,"setState")},be.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Re(){}Re.prototype=be.prototype;function Te(D,F,W){this.props=D,this.context=F,this.refs=te,this.updater=W||ee}var tt=Te.prototype=new Re;tt.constructor=Te,ie(tt,be.prototype),tt.isPureReactComponent=!0;var ht=Array.isArray;function Ge(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(D,F,W){var ne=W.ref;return{$$typeof:s,type:D,key:F,ref:ne!==void 0?ne:null,props:W}}function k(D,F){return N(D.type,F,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function V(D){var F={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return F[W]})}var x=/\/+/g;function ye(D,F){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):F.toString(36)}function ke(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ge,Ge):(D.status="pending",D.then(function(F){D.status==="pending"&&(D.status="fulfilled",D.value=F)},function(F){D.status==="pending"&&(D.status="rejected",D.reason=F)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,F,W,ne,oe){var fe=typeof D;(fe==="undefined"||fe==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(fe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case s:case e:Se=!0;break;case A:return Se=D._init,U(Se(D._payload),F,W,ne,oe)}}if(Se)return oe=oe(D),Se=ne===""?"."+ye(D,0):ne,ht(oe)?(W="",Se!=null&&(W=Se.replace(x,"$&/")+"/"),U(oe,F,W,"",function(re){return re})):oe!=null&&(R(oe)&&(oe=k(oe,W+(oe.key==null||D&&D.key===oe.key?"":(""+oe.key).replace(x,"$&/")+"/")+Se)),F.push(oe)),1;Se=0;var $e=ne===""?".":ne+":";if(ht(D))for(var ae=0;ae<D.length;ae++)ne=D[ae],fe=$e+ye(ne,ae),Se+=U(ne,F,W,fe,oe);else if(ae=Q(D),typeof ae=="function")for(D=ae.call(D),ae=0;!(ne=D.next()).done;)ne=ne.value,fe=$e+ye(ne,ae++),Se+=U(ne,F,W,fe,oe);else if(fe==="object"){if(typeof D.then=="function")return U(ke(D),F,W,ne,oe);throw F=String(D),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Z(D,F,W){if(D==null)return D;var ne=[],oe=0;return U(D,ne,"","",function(fe){return F.call(W,fe,oe++)}),ne}function J(D){if(D._status===-1){var F=D._result;F=F(),F.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=F)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},de={map:Z,forEach:function(D,F,W){Z(D,function(){F.apply(this,arguments)},W)},count:function(D){var F=0;return Z(D,function(){F++}),F},toArray:function(D){return Z(D,function(F){return F})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ne.Activity=S,Ne.Children=de,Ne.Component=be,Ne.Fragment=i,Ne.Profiler=l,Ne.PureComponent=Te,Ne.StrictMode=r,Ne.Suspense=_,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(D,F,W){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ne=ie({},D.props),oe=D.key;if(F!=null)for(fe in F.key!==void 0&&(oe=""+F.key),F)!w.call(F,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&F.ref===void 0||(ne[fe]=F[fe]);var fe=arguments.length-2;if(fe===1)ne.children=W;else if(1<fe){for(var Se=Array(fe),$e=0;$e<fe;$e++)Se[$e]=arguments[$e+2];ne.children=Se}return N(D.type,oe,ne)},Ne.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ne.createElement=function(D,F,W){var ne,oe={},fe=null;if(F!=null)for(ne in F.key!==void 0&&(fe=""+F.key),F)w.call(F,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(oe[ne]=F[ne]);var Se=arguments.length-2;if(Se===1)oe.children=W;else if(1<Se){for(var $e=Array(Se),ae=0;ae<Se;ae++)$e[ae]=arguments[ae+2];oe.children=$e}if(D&&D.defaultProps)for(ne in Se=D.defaultProps,Se)oe[ne]===void 0&&(oe[ne]=Se[ne]);return N(D,fe,oe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:g,render:D}},Ne.isValidElement=R,Ne.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:J}},Ne.memo=function(D,F){return{$$typeof:y,type:D,compare:F===void 0?null:F}},Ne.startTransition=function(D){var F=C.T,W={};C.T=W;try{var ne=D(),oe=C.S;oe!==null&&oe(W,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Ge,pe)}catch(fe){pe(fe)}finally{F!==null&&W.types!==null&&(F.types=W.types),C.T=F}},Ne.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ne.use=function(D){return C.H.use(D)},Ne.useActionState=function(D,F,W){return C.H.useActionState(D,F,W)},Ne.useCallback=function(D,F){return C.H.useCallback(D,F)},Ne.useContext=function(D){return C.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,F){return C.H.useDeferredValue(D,F)},Ne.useEffect=function(D,F){return C.H.useEffect(D,F)},Ne.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Ne.useId=function(){return C.H.useId()},Ne.useImperativeHandle=function(D,F,W){return C.H.useImperativeHandle(D,F,W)},Ne.useInsertionEffect=function(D,F){return C.H.useInsertionEffect(D,F)},Ne.useLayoutEffect=function(D,F){return C.H.useLayoutEffect(D,F)},Ne.useMemo=function(D,F){return C.H.useMemo(D,F)},Ne.useOptimistic=function(D,F){return C.H.useOptimistic(D,F)},Ne.useReducer=function(D,F,W){return C.H.useReducer(D,F,W)},Ne.useRef=function(D){return C.H.useRef(D)},Ne.useState=function(D){return C.H.useState(D)},Ne.useSyncExternalStore=function(D,F,W){return C.H.useSyncExternalStore(D,F,W)},Ne.useTransition=function(){return C.H.useTransition()},Ne.version="19.2.0",Ne}var e_;function Mm(){return e_||(e_=1,Ld.exports=nA()),Ld.exports}var De=Mm(),Ud={exports:{}},_l={},Pd={exports:{}},zd={};var t_;function iA(){return t_||(t_=1,(function(s){function e(U,Z){var J=U.length;U.push(Z);e:for(;0<J;){var pe=J-1>>>1,de=U[pe];if(0<l(de,Z))U[pe]=Z,U[J]=de,J=pe;else break e}}function i(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],J=U.pop();if(J!==Z){U[0]=J;e:for(var pe=0,de=U.length,D=de>>>1;pe<D;){var F=2*(pe+1)-1,W=U[F],ne=F+1,oe=U[ne];if(0>l(W,J))ne<de&&0>l(oe,W)?(U[pe]=oe,U[ne]=J,pe=ne):(U[pe]=W,U[F]=J,pe=F);else if(ne<de&&0>l(oe,J))U[pe]=oe,U[ne]=J,pe=ne;else break e}}return Z}function l(U,Z){var J=U.sortIndex-Z.sortIndex;return J!==0?J:U.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,S=null,M=3,Q=!1,ee=!1,ie=!1,te=!1,be=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function tt(U){for(var Z=i(y);Z!==null;){if(Z.callback===null)r(y);else if(Z.startTime<=U)r(y),Z.sortIndex=Z.expirationTime,e(_,Z);else break;Z=i(y)}}function ht(U){if(ie=!1,tt(U),!ee)if(i(_)!==null)ee=!0,Ge||(Ge=!0,V());else{var Z=i(y);Z!==null&&ke(ht,Z.startTime-U)}}var Ge=!1,C=-1,w=5,N=-1;function k(){return te?!0:!(s.unstable_now()-N<w)}function R(){if(te=!1,Ge){var U=s.unstable_now();N=U;var Z=!0;try{e:{ee=!1,ie&&(ie=!1,Re(C),C=-1),Q=!0;var J=M;try{t:{for(tt(U),S=i(_);S!==null&&!(S.expirationTime>U&&k());){var pe=S.callback;if(typeof pe=="function"){S.callback=null,M=S.priorityLevel;var de=pe(S.expirationTime<=U);if(U=s.unstable_now(),typeof de=="function"){S.callback=de,tt(U),Z=!0;break t}S===i(_)&&r(_),tt(U)}else r(_);S=i(_)}if(S!==null)Z=!0;else{var D=i(y);D!==null&&ke(ht,D.startTime-U),Z=!1}}break e}finally{S=null,M=J,Q=!1}Z=void 0}}finally{Z?V():Ge=!1}}}var V;if(typeof Te=="function")V=function(){Te(R)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ye=x.port2;x.port1.onmessage=R,V=function(){ye.postMessage(null)}}else V=function(){be(R,0)};function ke(U,Z){C=be(function(){U(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(U){switch(M){case 1:case 2:case 3:var Z=3;break;default:Z=M}var J=M;M=Z;try{return U()}finally{M=J}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=M;M=U;try{return Z()}finally{M=J}},s.unstable_scheduleCallback=function(U,Z,J){var pe=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?pe+J:pe):J=pe,U){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=J+de,U={id:A++,callback:Z,priorityLevel:U,startTime:J,expirationTime:de,sortIndex:-1},J>pe?(U.sortIndex=J,e(y,U),i(_)===null&&U===i(y)&&(ie?(Re(C),C=-1):ie=!0,ke(ht,J-pe))):(U.sortIndex=de,e(_,U),ee||Q||(ee=!0,Ge||(Ge=!0,V()))),U},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(U){var Z=M;return function(){var J=M;M=Z;try{return U.apply(this,arguments)}finally{M=J}}}})(zd)),zd}var n_;function sA(){return n_||(n_=1,Pd.exports=iA()),Pd.exports}var qd={exports:{}},rn={};var i_;function rA(){if(i_)return rn;i_=1;var s=Mm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,A)},rn.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},rn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},rn.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},rn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:Q}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},rn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},rn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},rn.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},rn.requestFormReset=function(_){r.d.r(_)},rn.unstable_batchedUpdates=function(_,y){return _(y)},rn.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var s_;function aA(){if(s_)return qd.exports;s_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=rA(),qd.exports}var r_;function oA(){if(r_)return _l;r_=1;var s=sA(),e=Mm(),i=aA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case be:return"Profiler";case te:return"StrictMode";case ht:return"Suspense";case Ge:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Te:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ye(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ye(t(n))}catch{}}return null}var ke=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},pe=[],de=-1;function D(t){return{current:t}}function F(t){0>de||(t.current=pe[de],pe[de]=null,de--)}function W(t,n){de++,pe[de]=t.current,t.current=n}var ne=D(null),oe=D(null),fe=D(null),Se=D(null);function $e(t,n){switch(W(fe,n),W(oe,t),W(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?b0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=b0(n),t=E0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ne),W(ne,t)}function ae(){F(ne),F(oe),F(fe)}function re(t){t.memoizedState!==null&&W(Se,t);var n=ne.current,a=E0(n,t.type);n!==a&&(W(oe,t),W(ne,a))}function ce(t){oe.current===t&&(F(ne),F(oe)),Se.current===t&&(F(Se),dl._currentValue=J)}var ge,Ie;function Pe(t){if(ge===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ge=n&&n[1]||"",Ie=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+t+Ie}var Qe=!1;function nt(t,n){if(!t||Qe)return"";Qe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var q=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){q=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){q=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Qe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pe(a):""}function hi(t,n){switch(t.tag){case 26:case 27:case 5:return Pe(t.type);case 16:return Pe("Lazy");case 13:return t.child!==n&&n!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return nt(t.type,!1);case 11:return nt(t.type.render,!1);case 1:return nt(t.type,!0);case 31:return Pe("Activity");default:return""}}function Kn(t){try{var n="",a=null;do n+=hi(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var It=Object.prototype.hasOwnProperty,zt=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,Lh=s.unstable_shouldYield,Jl=s.unstable_requestPaint,cn=s.unstable_now,pr=s.unstable_getCurrentPriorityLevel,go=s.unstable_ImmediatePriority,yo=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,Uh=s.unstable_LowPriority,Wl=s.unstable_IdlePriority,eu=s.log,tu=s.unstable_setDisableYieldValue,Xn=null,Kt=null;function Mn(t){if(typeof eu=="function"&&tu(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Xn,t)}catch{}}var At=Math.clz32?Math.clz32:iu,nu=Math.log,ia=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(nu(t)/ia|0)|0}var fi=256,gr=262144,Nt=4194304;function di(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=di(o):(p&=E,p!==0?h=di(p):a||(a=E&~t,a!==0&&(h=di(a))))):(E=o&~f,E!==0?h=di(E):p!==0?h=di(p):a||(a=o&~t,a!==0&&(h=di(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function $n(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ph(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function pi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function yr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,n,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-At(a),X=1<<G;E[G]=0,I[G]=-1;var q=z[G];if(q!==null)for(z[G]=null,G=0;G<q.length;G++){var H=q[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&_r(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function _r(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-At(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function _o(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-At(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function vo(t,n){var a=n&-n;return a=(a&42)!==0?1:vr(a),(a&(t.suspendedLanes|n))!==0?0:a}function vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ru(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:F0(t.type))}function Zn(t,n){var a=Z.p;try{return Z.p=t,n()}finally{Z.p=a}}var Jn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Jn,Ht="__reactProps$"+Jn,gi="__reactContainer$"+Jn,sa="__reactEvents$"+Jn,qh="__reactListeners$"+Jn,au="__reactHandles$"+Jn,ou="__reactResources$"+Jn,yi="__reactMarker$"+Jn;function ra(t){delete t[Ct],delete t[Ht],delete t[sa],delete t[qh],delete t[au]}function _i(t){var n=t[Ct];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gi]||a[Ct]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=I0(t);t!==null;){if(a=t[Ct])return a;t=I0(t)}return n}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[Ct]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function An(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function vi(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[yi]=!0}var bo=new Set,Eo={};function bi(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(Eo[t]=n,t=0;t<n.length;t++)bo.add(n[t])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},So={};function lu(t){return It.call(So,t)?!0:It.call(Ao,t)?!1:To.test(t)?So[t]=!0:(Ao[t]=!0,!1)}function aa(t,n,a){if(lu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Sn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ot(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Ft(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=vs(t)?"checked":"value";t._valueTracker=xo(t,n,""+t[n])}}function br(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=vs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Er=/[\n"\\]/g;function dn(t){return t.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(t,n,a,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ft(n)):t.value!==""+Ft(n)&&(t.value=""+Ft(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?wo(t,p,Ft(n)):a!=null?wo(t,p,Ft(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ft(E):t.removeAttribute("name")}function uu(t,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){st(t);return}a=a!=null?""+Ft(a):"",n=n!=null?""+Ft(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),st(t)}function wo(t,n,a){n==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ft(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function cu(t,n,a){if(n!=null&&(n=""+Ft(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ft(a):""}function Es(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(ke(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ft(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),st(t)}function mn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||hu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Io(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ro(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(t,f,n[f])}function la(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(t){return Ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wn(){}var No=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,Ai=null;function Tr(t){var n=Vn(t);if(n&&(t=n.stateNode)){var a=t[Ht]||null;e:switch(t=n.stateNode,n.type){case"input":if(oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Ht]||null;if(!h)throw Error(r(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&br(o)}break e;case"textarea":cu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&bs(t,!!a.multiple,n,!1)}}}var ca=!1;function Ss(t,n,a){if(ca)return t(n,a);ca=!0;try{var o=t(n);return o}finally{if(ca=!1,(As!==null||Ai!==null)&&(rc(),As&&(n=As,t=Ai,Ai=As=null,Tr(n),t)))for(n=0;n<t.length;n++)Tr(t[n])}}function ei(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Ht]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(jn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Ar=!1}var Si=null,Co=null,Sr=null;function Do(){if(Sr)return Sr;var t,n=Co,a=n.length,o,h="value"in Si?Si.value:Si.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Sr=h.slice(t,1<o?1-o:void 0)}function xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function ti(){return!1}function Xt(t){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ti,this.isPropagationStopped=ti,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Xt(Fi),xs=S({},Fi,{view:0,detail:0}),Oo=Xt(xs),ws,ha,wi,fa=S({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(ws=t.screenX-wi.screenX,ha=t.screenY-wi.screenY):ha=ws=0,wi=t),ws)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),Mo=Xt(fa),wr=S({},fa,{dataTransfer:0}),du=Xt(wr),mu=S({},xs,{relatedTarget:0}),Rr=Xt(mu),Vo=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Xt(Vo),da=S({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gu=Xt(da),yu=S({},Fi,{data:0}),Ri=Xt(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function Rs(){return Eu}var hn=S({},xs,{key:function(t){if(t.key){var n=_u[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tu=Xt(hn),Au=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Xt(Au),u=S({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=Xt(u),v=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Xt(v),L=S({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Xt(L),se=S({},Fi,{newState:0,oldState:0}),Oe=Xt(se),St=[9,13,27,32],We=jn&&"CompositionEvent"in window,yt=null;jn&&"documentMode"in document&&(yt=document.documentMode);var Ln=jn&&"TextEvent"in window&&!yt,Ii=jn&&(!We||yt&&8<yt&&11>=yt),ni=" ",ii=!1;function Ir(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function SE(t,n){switch(t){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return t=n.data,t===ni&&ii?null:t;default:return null}}function xE(t,n){if(pa)return t==="compositionend"||!We&&Ir(t,n)?(t=Do(),Sr=Co=Si=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ii&&n.locale!=="ko"?null:n.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!wE[t.type]:n==="textarea"}function Op(t,n,a,o){As?Ai?Ai.push(o):Ai=[o]:As=o,n=fc(n,"onChange"),0<n.length&&(a=new xi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var ko=null,jo=null;function RE(t){m0(t,0)}function Su(t){var n=An(t);if(br(n))return t}function Mp(t,n){if(t==="change")return n}var Vp=!1;if(jn){var Bh;if(jn){var Hh="oninput"in document;if(!Hh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Hh=typeof kp.oninput=="function"}Bh=Hh}else Bh=!1;Vp=Bh&&(!document.documentMode||9<document.documentMode)}function jp(){ko&&(ko.detachEvent("onpropertychange",Lp),jo=ko=null)}function Lp(t){if(t.propertyName==="value"&&Su(jo)){var n=[];Op(n,jo,t,kn(t)),Ss(RE,n)}}function IE(t,n,a){t==="focusin"?(jp(),ko=n,jo=a,ko.attachEvent("onpropertychange",Lp)):t==="focusout"&&jp()}function NE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(jo)}function CE(t,n){if(t==="click")return Su(n)}function DE(t,n){if(t==="input"||t==="change")return Su(n)}function OE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var xn=typeof Object.is=="function"?Object.is:OE;function Lo(t,n){if(xn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!It.call(n,h)||!xn(t[h],n[h]))return!1}return!0}function Up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,n){var a=Up(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Up(a)}}function zp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ti(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ti(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ME=jn&&"documentMode"in document&&11>=document.documentMode,ga=null,Gh=null,Uo=null,Qh=!1;function Bp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||ga==null||ga!==Ti(o)||(o=ga,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Lo(Uo,o)||(Uo=o,o=fc(Gh,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ga)))}function Nr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ya={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Yh={},Hp={};jn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Cr(t){if(Yh[t])return Yh[t];if(!ya[t])return t;var n=ya[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hp)return Yh[t]=n[a];return t}var Fp=Cr("animationend"),Gp=Cr("animationiteration"),Qp=Cr("animationstart"),VE=Cr("transitionrun"),kE=Cr("transitionstart"),jE=Cr("transitioncancel"),Yp=Cr("transitionend"),Kp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function si(t,n){Kp.set(t,n),bi(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],_a=0,Xh=0;function wu(){for(var t=_a,n=Xh=_a=0;n<t;){var a=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Xp(a,h,f)}}function Ru(t,n,a,o){Un[_a++]=t,Un[_a++]=n,Un[_a++]=a,Un[_a++]=o,Xh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function $h(t,n,a,o){return Ru(t,n,a,o),Iu(t)}function Dr(t,n){return Ru(t,null,null,n),Iu(t)}function Xp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-At(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Iu(t){if(50<al)throw al=0,ad=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var va={};function LE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,a,o){return new LE(t,n,a,o)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,n){var a=t.alternate;return a===null?(a=wn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $p(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,a,o,h,f){var p=0;if(o=t,typeof t=="function")Zh(t)&&(p=1);else if(typeof t=="string")p=BT(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=wn(31,a,n,h),t.elementType=N,t.lanes=f,t;case ie:return Or(a.children,h,f,n);case te:p=8,h|=24;break;case be:return t=wn(12,a,n,h|2),t.elementType=be,t.lanes=f,t;case ht:return t=wn(13,a,n,h),t.elementType=ht,t.lanes=f,t;case Ge:return t=wn(19,a,n,h),t.elementType=Ge,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:p=10;break e;case Re:p=9;break e;case tt:p=11;break e;case C:p=14;break e;case w:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=wn(p,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Or(t,n,a,o){return t=wn(7,t,o,n),t.lanes=a,t}function Jh(t,n,a){return t=wn(6,t,null,n),t.lanes=a,t}function Zp(t){var n=wn(18,null,null,0);return n.stateNode=t,n}function Wh(t,n,a){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jp=new WeakMap;function Pn(t,n){if(typeof t=="object"&&t!==null){var a=Jp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Kn(n)},Jp.set(t,n),n)}return{value:t,source:n,stack:Kn(n)}}var ba=[],Ea=0,Cu=null,Po=0,zn=[],qn=0,Is=null,Ni=1,Ci="";function Yi(t,n){ba[Ea++]=Po,ba[Ea++]=Cu,Cu=t,Po=n}function Wp(t,n,a){zn[qn++]=Ni,zn[qn++]=Ci,zn[qn++]=Is,Is=t;var o=Ni;t=Ci;var h=32-At(o)-1;o&=~(1<<h),a+=1;var f=32-At(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ni=1<<32-At(n)+h|a<<h|o,Ci=f+t}else Ni=1<<f|a<<h|o,Ci=t}function ef(t){t.return!==null&&(Yi(t,1),Wp(t,1,0))}function tf(t){for(;t===Cu;)Cu=ba[--Ea],ba[Ea]=null,Po=ba[--Ea],ba[Ea]=null;for(;t===Is;)Is=zn[--qn],zn[qn]=null,Ci=zn[--qn],zn[qn]=null,Ni=zn[--qn],zn[qn]=null}function eg(t,n){zn[qn++]=Ni,zn[qn++]=Ci,zn[qn++]=Is,Ni=n.id,Ci=n.overflow,Is=t}var $t=null,mt=null,Ye=!1,Ns=null,Bn=!1,nf=Error(r(519));function Cs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Pn(n,t)),nf}function tg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Ct]=t,n[Ht]=o,a){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(a=0;a<ll.length;a++)Ue(ll[a],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":Ue("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ue("invalid",n);break;case"textarea":Ue("invalid",n),Es(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||_0(n.textContent,a)?(o.popover!=null&&(Ue("beforetoggle",n),Ue("toggle",n)),o.onScroll!=null&&Ue("scroll",n),o.onScrollEnd!=null&&Ue("scrollend",n),o.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||Cs(t,!0)}function ng(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:$t=$t.return}}function Ta(t){if(t!==$t)return!1;if(!Ye)return ng(t),Ye=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ed(t.type,t.memoizedProps)),a=!a),a&&mt&&Cs(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=R0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));mt=R0(t)}else n===27?(n=mt,Fs(t.type)?(t=wd,wd=null,mt=t):mt=n):mt=$t?Fn(t.stateNode.nextSibling):null;return!0}function Mr(){mt=$t=null,Ye=!1}function sf(){var t=Ns;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Ns=null),t}function zo(t){Ns===null?Ns=[t]:Ns.push(t)}var rf=D(null),Vr=null,Ki=null;function Ds(t,n,a){W(rf,n._currentValue),n._currentValue=a}function Xi(t){t._currentValue=rf.current,F(rf)}function af(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),af(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Aa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;xn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Se.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}h=h.return}t!==null&&of(n,t,a,o),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Vr=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return ig(Vr,t)}function Ou(t,n){return Vr===null&&kr(t),ig(t,n)}function ig(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(r(308));Ki=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ki=Ki.next=n;return a}var UE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},PE=s.unstable_scheduleCallback,zE=s.unstable_NormalPriority,Mt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new UE,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&PE(zE,function(){t.controller.abort()})}var Bo=null,uf=0,Sa=0,xa=null;function qE(t,n){if(Bo===null){var a=Bo=[];uf=0,Sa=fd(),xa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(sg,sg),n}function sg(){if(--uf===0&&Bo!==null){xa!==null&&(xa.status="fulfilled");var t=Bo;Bo=null,Sa=0,xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function BE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var rg=U.S;U.S=function(t,n){By=cn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&qE(t,n),rg!==null&&rg(t,n)};var jr=D(null);function cf(){var t=jr.current;return t!==null?t:ft.pooledCache}function Mu(t,n){n===null?W(jr,jr.current):W(jr,n.pool)}function ag(){var t=cf();return t===null?null:{parent:Mt._currentValue,pool:t}}var wa=Error(r(460)),hf=Error(r(474)),Vu=Error(r(542)),ku={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Wn,Wn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw Ur=n,wa}}function Lr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,wa):a}}var Ur=null;function ug(){if(Ur===null)throw Error(r(459));var t=Ur;return Ur=null,t}function cg(t){if(t===wa||t===Vu)throw Error(r(483))}var Ra=null,Ho=0;function ju(t){var n=Ho;return Ho+=1,Ra===null&&(Ra=[]),lg(Ra,t,n)}function Fo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Lu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){function n(j,O){if(t){var P=j.deletions;P===null?(j.deletions=[O],j.flags|=16):P.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Qi(j,O),j.index=0,j.sibling=null,j}function f(j,O,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<O?(j.flags|=67108866,O):P):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function p(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,O,P,Y){return O===null||O.tag!==6?(O=Jh(P,j.mode,Y),O.return=j,O):(O=h(O,P),O.return=j,O)}function I(j,O,P,Y){var _e=P.type;return _e===ie?G(j,O,P.props.children,Y,P.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&Lr(_e)===O.type)?(O=h(O,P.props),Fo(O,P),O.return=j,O):(O=Nu(P.type,P.key,P.props,null,j.mode,Y),Fo(O,P),O.return=j,O)}function z(j,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Wh(P,j.mode,Y),O.return=j,O):(O=h(O,P.children||[]),O.return=j,O)}function G(j,O,P,Y,_e){return O===null||O.tag!==7?(O=Or(P,j.mode,Y,_e),O.return=j,O):(O=h(O,P),O.return=j,O)}function X(j,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,j.mode,P),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return P=Nu(O.type,O.key,O.props,null,j.mode,P),Fo(P,O),P.return=j,P;case ee:return O=Wh(O,j.mode,P),O.return=j,O;case w:return O=Lr(O),X(j,O,P)}if(ke(O)||V(O))return O=Or(O,j.mode,P,null),O.return=j,O;if(typeof O.then=="function")return X(j,ju(O),P);if(O.$$typeof===Te)return X(j,Ou(j,O),P);Lu(j,O)}return null}function q(j,O,P,Y){var _e=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _e!==null?null:E(j,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===_e?I(j,O,P,Y):null;case ee:return P.key===_e?z(j,O,P,Y):null;case w:return P=Lr(P),q(j,O,P,Y)}if(ke(P)||V(P))return _e!==null?null:G(j,O,P,Y,null);if(typeof P.then=="function")return q(j,O,ju(P),Y);if(P.$$typeof===Te)return q(j,O,Ou(j,P),Y);Lu(j,P)}return null}function H(j,O,P,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(P)||null,E(O,j,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return j=j.get(Y.key===null?P:Y.key)||null,I(O,j,Y,_e);case ee:return j=j.get(Y.key===null?P:Y.key)||null,z(O,j,Y,_e);case w:return Y=Lr(Y),H(j,O,P,Y,_e)}if(ke(Y)||V(Y))return j=j.get(P)||null,G(O,j,Y,_e,null);if(typeof Y.then=="function")return H(j,O,P,ju(Y),_e);if(Y.$$typeof===Te)return H(j,O,P,Ou(O,Y),_e);Lu(O,Y)}return null}function he(j,O,P,Y){for(var _e=null,Ze=null,me=O,Ve=O=0,qe=null;me!==null&&Ve<P.length;Ve++){me.index>Ve?(qe=me,me=null):qe=me.sibling;var Je=q(j,me,P[Ve],Y);if(Je===null){me===null&&(me=qe);break}t&&me&&Je.alternate===null&&n(j,me),O=f(Je,O,Ve),Ze===null?_e=Je:Ze.sibling=Je,Ze=Je,me=qe}if(Ve===P.length)return a(j,me),Ye&&Yi(j,Ve),_e;if(me===null){for(;Ve<P.length;Ve++)me=X(j,P[Ve],Y),me!==null&&(O=f(me,O,Ve),Ze===null?_e=me:Ze.sibling=me,Ze=me);return Ye&&Yi(j,Ve),_e}for(me=o(me);Ve<P.length;Ve++)qe=H(me,j,Ve,P[Ve],Y),qe!==null&&(t&&qe.alternate!==null&&me.delete(qe.key===null?Ve:qe.key),O=f(qe,O,Ve),Ze===null?_e=qe:Ze.sibling=qe,Ze=qe);return t&&me.forEach(function(Xs){return n(j,Xs)}),Ye&&Yi(j,Ve),_e}function Ee(j,O,P,Y){if(P==null)throw Error(r(151));for(var _e=null,Ze=null,me=O,Ve=O=0,qe=null,Je=P.next();me!==null&&!Je.done;Ve++,Je=P.next()){me.index>Ve?(qe=me,me=null):qe=me.sibling;var Xs=q(j,me,Je.value,Y);if(Xs===null){me===null&&(me=qe);break}t&&me&&Xs.alternate===null&&n(j,me),O=f(Xs,O,Ve),Ze===null?_e=Xs:Ze.sibling=Xs,Ze=Xs,me=qe}if(Je.done)return a(j,me),Ye&&Yi(j,Ve),_e;if(me===null){for(;!Je.done;Ve++,Je=P.next())Je=X(j,Je.value,Y),Je!==null&&(O=f(Je,O,Ve),Ze===null?_e=Je:Ze.sibling=Je,Ze=Je);return Ye&&Yi(j,Ve),_e}for(me=o(me);!Je.done;Ve++,Je=P.next())Je=H(me,j,Ve,Je.value,Y),Je!==null&&(t&&Je.alternate!==null&&me.delete(Je.key===null?Ve:Je.key),O=f(Je,O,Ve),Ze===null?_e=Je:Ze.sibling=Je,Ze=Je);return t&&me.forEach(function(WT){return n(j,WT)}),Ye&&Yi(j,Ve),_e}function ct(j,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===ie&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var _e=P.key;O!==null;){if(O.key===_e){if(_e=P.type,_e===ie){if(O.tag===7){a(j,O.sibling),Y=h(O,P.props.children),Y.return=j,j=Y;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&Lr(_e)===O.type){a(j,O.sibling),Y=h(O,P.props),Fo(Y,P),Y.return=j,j=Y;break e}a(j,O);break}else n(j,O);O=O.sibling}P.type===ie?(Y=Or(P.props.children,j.mode,Y,P.key),Y.return=j,j=Y):(Y=Nu(P.type,P.key,P.props,null,j.mode,Y),Fo(Y,P),Y.return=j,j=Y)}return p(j);case ee:e:{for(_e=P.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(j,O.sibling),Y=h(O,P.children||[]),Y.return=j,j=Y;break e}else{a(j,O);break}else n(j,O);O=O.sibling}Y=Wh(P,j.mode,Y),Y.return=j,j=Y}return p(j);case w:return P=Lr(P),ct(j,O,P,Y)}if(ke(P))return he(j,O,P,Y);if(V(P)){if(_e=V(P),typeof _e!="function")throw Error(r(150));return P=_e.call(P),Ee(j,O,P,Y)}if(typeof P.then=="function")return ct(j,O,ju(P),Y);if(P.$$typeof===Te)return ct(j,O,Ou(j,P),Y);Lu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(j,O.sibling),Y=h(O,P),Y.return=j,j=Y):(a(j,O),Y=Jh(P,j.mode,Y),Y.return=j,j=Y),p(j)):a(j,O)}return function(j,O,P,Y){try{Ho=0;var _e=ct(j,O,P,Y);return Ra=null,_e}catch(me){if(me===wa||me===Vu)throw me;var Ze=wn(29,me,null,j.mode);return Ze.lanes=Y,Ze.return=j,Ze}finally{}}}var Pr=hg(!0),fg=hg(!1),Os=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(et&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(t),Xp(t,null,a),n}return Ru(t,o,n,a),Iu(t)}function Go(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,_o(t,a)}}function mf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var pf=!1;function Qo(){if(pf){var t=xa;if(t!==null)throw t}}function Yo(t,n,a,o){pf=!1;var h=t.updateQueue;Os=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,G=z=I=null,E=f;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(ze&q)===q:(o&q)===q){q!==0&&q===Sa&&(pf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,Ee=E;q=n;var ct=a;switch(Ee.tag){case 1:if(he=Ee.payload,typeof he=="function"){X=he.call(ct,X,q);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ee.payload,q=typeof he=="function"?he.call(ct,X,q):he,q==null)break e;X=S({},X,q);break e;case 2:Os=!0}}q=E.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=X):G=G.next=H,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ps|=p,t.lanes=p,t.memoizedState=X}}function dg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function mg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dg(a[t],n)}var Ia=D(null),Uu=D(0);function pg(t,n){t=ss,W(Uu,t),W(Ia,n),ss=t|n.baseLanes}function gf(){W(Uu,ss),W(Ia,Ia.current)}function yf(){ss=Uu.current,F(Ia),F(Uu)}var Rn=D(null),Hn=null;function ks(t){var n=t.alternate;W(xt,xt.current&1),W(Rn,t),Hn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(Hn=t)}function _f(t){W(xt,xt.current),W(Rn,t),Hn===null&&(Hn=t)}function gg(t){t.tag===22?(W(xt,xt.current),W(Rn,t),Hn===null&&(Hn=t)):js()}function js(){W(xt,xt.current),W(Rn,Rn.current)}function In(t){F(Rn),Hn===t&&(Hn=null),F(xt)}var xt=D(0);function Pu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sd(a)||xd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Me=null,lt=null,Vt=null,zu=!1,Na=!1,zr=!1,qu=0,Ko=0,Ca=null,HE=0;function bt(){throw Error(r(321))}function vf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!xn(t[a],n[a]))return!1;return!0}function bf(t,n,a,o,h,f){return $i=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?Wg:kf,zr=!1,f=a(o,h),zr=!1,Na&&(f=_g(n,a,o,h)),yg(t),f}function yg(t){U.H=Zo;var n=lt!==null&&lt.next!==null;if($i=0,Vt=lt=Me=null,zu=!1,Ko=0,Ca=null,n)throw Error(r(300));t===null||kt||(t=t.dependencies,t!==null&&Du(t)&&(kt=!0))}function _g(t,n,a,o){Me=t;var h=0;do{if(Na&&(Ca=null),Ko=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,Vt=lt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=ey,f=n(a,o)}while(Na);return f}function FE(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?Xo(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Me.flags|=1024),n}function Ef(){var t=qu!==0;return qu=0,t}function Tf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}$i=0,Vt=lt=Me=null,Na=!1,Ko=qu=0,Ca=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Me.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function wt(){if(lt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=Vt===null?Me.memoizedState:Vt.next;if(n!==null)Vt=n,lt=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Vt===null?Me.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(t){var n=Ko;return Ko+=1,Ca===null&&(Ca=[]),t=lg(Ca,t,n),n=Me,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Wg:kf),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xo(t);if(t.$$typeof===Te)return Zt(t)}throw Error(r(438,String(t)))}function Sf(t){var n=null,a=Me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bu(),Me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=k;return n.index++,a}function Zi(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=wt();return xf(n,lt,t)}function xf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(ze&X)===X:($i&X)===X){var q=z.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Sa&&(G=!0);else if(($i&q)===q){z=z.next,q===Sa&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,Me.lanes|=q,Ps|=q;X=z.action,zr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else q={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=q,p=f):I=I.next=q,Me.lanes|=X,Ps|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!xn(f,t.memoizedState)&&(kt=!0,G&&(a=xa,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function wf(t){var n=wt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);xn(f,n.memoizedState)||(kt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function vg(t,n,a){var o=Me,h=wt(),f=Ye;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!xn((lt||h).memoizedState,a);if(p&&(h.memoizedState=a,kt=!0),h=h.queue,Nf(Tg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},Eg.bind(null,o,h,a,n),null),ft===null)throw Error(r(349));f||($i&127)!==0||bg(o,n,a)}return a}function bg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Me.updateQueue,n===null?(n=Bu(),Me.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Eg(t,n,a,o){n.value=a,n.getSnapshot=o,Ag(n)&&Sg(t)}function Tg(t,n,a){return a(function(){Ag(n)&&Sg(t)})}function Ag(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!xn(t,a)}catch{return!0}}function Sg(t){var n=Dr(t,2);n!==null&&vn(n,t,2)}function Rf(t){var n=fn();if(typeof t=="function"){var a=t;if(t=a(),zr){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},n}function xg(t,n,a,o){return t.baseState=a,xf(t,lt,typeof o=="function"?o:Zi)}function GE(t,n,a,o,h){if(Yu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};U.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,wg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function wg(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=U.T,p={};U.T=p;try{var E=a(h,o),I=U.S;I!==null&&I(p,E),Rg(t,n,E)}catch(z){If(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),U.T=f}}else try{f=a(h,o),Rg(t,n,f)}catch(z){If(t,n,z)}}function Rg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ig(t,n,o)},function(o){return If(t,n,o)}):Ig(t,n,a)}function Ig(t,n,a){n.status="fulfilled",n.value=a,Ng(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,wg(t,a)))}function If(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ng(n),n=n.next;while(n!==o)}t.action=null}function Ng(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Cg(t,n){return n}function Dg(t,n){if(Ye){var a=ft.formState;if(a!==null){e:{var o=Me;if(Ye){if(mt){t:{for(var h=mt,f=Bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=Fn(h.nextSibling),o=h.data==="F!";break e}}Cs(o)}o=!1}o&&(n=a[0])}}return a=fn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},a.queue=o,a=$g.bind(null,Me,o),o.dispatch=a,o=Rf(!1),f=Vf.bind(null,Me,!1,o.queue),o=fn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=GE.bind(null,Me,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Og(t){var n=wt();return Mg(n,lt,t)}function Mg(t,n,a){if(n=xf(t,n,Cg)[0],t=Fu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(p){throw p===wa?Vu:p}else o=n;n=wt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Me.flags|=2048,Da(9,{destroy:void 0},QE.bind(null,h,a),null)),[o,f,t]}function QE(t,n){t.action=n}function Vg(t){var n=wt(),a=lt;if(a!==null)return Mg(n,a,t);wt(),n=n.memoizedState,a=wt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Da(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Bu(),Me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function kg(){return wt().memoizedState}function Gu(t,n,a,o){var h=fn();Me.flags|=t,h.memoizedState=Da(1|n,{destroy:void 0},a,o===void 0?null:o)}function Qu(t,n,a,o){var h=wt();o=o===void 0?null:o;var f=h.memoizedState.inst;lt!==null&&o!==null&&vf(o,lt.memoizedState.deps)?h.memoizedState=Da(n,f,a,o):(Me.flags|=t,h.memoizedState=Da(1|n,f,a,o))}function jg(t,n){Gu(8390656,8,t,n)}function Nf(t,n){Qu(2048,8,t,n)}function YE(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Bu(),Me.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Lg(t){var n=wt().memoizedState;return YE({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ug(t,n){return Qu(4,2,t,n)}function Pg(t,n){return Qu(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qg(t,n,a){a=a!=null?a.concat([t]):null,Qu(4,4,zg.bind(null,n,t),a)}function Cf(){}function Bg(t,n){var a=wt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Hg(t,n){var a=wt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=t(),zr){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[o,n],o}function Df(t,n,a){return a===void 0||($i&1073741824)!==0&&(ze&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Fy(),Me.lanes|=t,Ps|=t,a)}function Fg(t,n,a,o){return xn(a,n)?a:Ia.current!==null?(t=Df(t,a,o),xn(t,n)||(kt=!0),t):($i&42)===0||($i&1073741824)!==0&&(ze&261930)===0?(kt=!0,t.memoizedState=a):(t=Fy(),Me.lanes|=t,Ps|=t,n)}function Gg(t,n,a,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var p=U.T,E={};U.T=E,Vf(t,!1,n,a);try{var I=h(),z=U.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=BE(I,o);$o(t,n,G,Dn(t))}else $o(t,n,o,Dn(t))}catch(X){$o(t,n,{then:function(){},status:"rejected",reason:X},Dn())}finally{Z.p=f,p!==null&&E.types!==null&&(p.types=E.types),U.T=p}}function KE(){}function Of(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Qg(t).queue;Gg(t,h,n,J,a===null?KE:function(){return Yg(t),a(o)})}function Qg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:J},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Yg(t){var n=Qg(t);n.next===null&&(n=t.alternate.memoizedState),$o(t,n.next.queue,{},Dn())}function Mf(){return Zt(dl)}function Kg(){return wt().memoizedState}function Xg(){return wt().memoizedState}function XE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Dn();t=Ms(a);var o=Vs(n,t,a);o!==null&&(vn(o,n,a),Go(o,n,a)),n={cache:lf()},t.payload=n;return}n=n.return}}function $E(t,n,a){var o=Dn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Zg(n,a):(a=$h(t,n,a,o),a!==null&&(vn(a,t,o),Jg(a,n,o)))}function $g(t,n,a){var o=Dn();$o(t,n,a,o)}function $o(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Zg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,xn(E,p))return Ru(t,n,h,0),ft===null&&wu(),!1}catch{}finally{}if(a=$h(t,n,h,o),a!==null)return vn(a,t,o),Jg(a,n,o),!0}return!1}function Vf(t,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(r(479))}else n=$h(t,a,o,2),n!==null&&vn(n,t,2)}function Yu(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Zg(t,n){Na=zu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Jg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,_o(t,a)}}var Zo={readContext:Zt,use:Hu,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Zo.useEffectEvent=bt;var Wg={readContext:Zt,use:Hu,useCallback:function(t,n){return fn().memoizedState=[t,n===void 0?null:n],t},useContext:Zt,useEffect:jg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Gu(4194308,4,zg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var a=fn();n=n===void 0?null:n;var o=t();if(zr){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=fn();if(a!==void 0){var h=a(n);if(zr){Mn(!0);try{a(n)}finally{Mn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=$E.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var n=fn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rf(t);var n=t.queue,a=$g.bind(null,Me,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(t,n){var a=fn();return Df(a,t,n)},useTransition:function(){var t=Rf(!1);return t=Gg.bind(null,Me,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Me,h=fn();if(Ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ft===null)throw Error(r(349));(ze&127)!==0||bg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,jg(Tg.bind(null,o,f,t),[t]),o.flags|=2048,Da(9,{destroy:void 0},Eg.bind(null,o,f,a,n),null),a},useId:function(){var t=fn(),n=ft.identifierPrefix;if(Ye){var a=Ci,o=Ni;a=(o&~(1<<32-At(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=HE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var n=fn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,Me,!0,a),a.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return fn().memoizedState=XE.bind(null,Me)},useEffectEvent:function(t){var n=fn(),a={impl:t};return n.memoizedState=a,function(){if((et&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:Zt,use:Hu,useCallback:Bg,useContext:Zt,useEffect:Nf,useImperativeHandle:qg,useInsertionEffect:Ug,useLayoutEffect:Pg,useMemo:Hg,useReducer:Fu,useRef:kg,useState:function(){return Fu(Zi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=wt();return Fg(a,lt.memoizedState,t,n)},useTransition:function(){var t=Fu(Zi)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Xo(t),n]},useSyncExternalStore:vg,useId:Kg,useHostTransitionStatus:Mf,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var a=wt();return xg(a,lt,t,n)},useMemoCache:Sf,useCacheRefresh:Xg};kf.useEffectEvent=Lg;var ey={readContext:Zt,use:Hu,useCallback:Bg,useContext:Zt,useEffect:Nf,useImperativeHandle:qg,useInsertionEffect:Ug,useLayoutEffect:Pg,useMemo:Hg,useReducer:wf,useRef:kg,useState:function(){return wf(Zi)},useDebugValue:Cf,useDeferredValue:function(t,n){var a=wt();return lt===null?Df(a,t,n):Fg(a,lt.memoizedState,t,n)},useTransition:function(){var t=wf(Zi)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Xo(t),n]},useSyncExternalStore:vg,useId:Kg,useHostTransitionStatus:Mf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var a=wt();return lt!==null?xg(a,lt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Xg};ey.useEffectEvent=Lg;function jf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Dn(),h=Ms(o);h.payload=n,a!=null&&(h.callback=a),n=Vs(t,h,o),n!==null&&(vn(n,t,o),Go(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Dn(),h=Ms(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Vs(t,h,o),n!==null&&(vn(n,t,o),Go(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Dn(),o=Ms(a);o.tag=2,n!=null&&(o.callback=n),n=Vs(t,o,a),n!==null&&(vn(n,t,a),Go(n,t,a))}};function ty(t,n,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Lo(a,o)||!Lo(h,f):!0}function ny(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Lf.enqueueReplaceState(n,n.state,null)}function qr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function iy(t){xu(t)}function sy(t){console.error(t)}function ry(t){xu(t)}function Ku(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,n,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){Ku(t,n)},a}function oy(t){return t=Ms(t),t.tag=3,t}function ly(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ay(n,a,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function ZE(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Aa(n,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?ac():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ku?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(t,o,h)),!1;case 22:return a.flags|=65536,o===ku?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(t,o,h)),!1}throw Error(r(435,a.tag))}return ud(t,o,h),ac(),!1}if(Ye)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(t=Error(r(422),{cause:o}),zo(Pn(t,a)))):(o!==nf&&(n=Error(r(423),{cause:o}),zo(Pn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Pn(o,a),h=Uf(t.stateNode,o,h),mf(t,h),Et!==4&&(Et=2)),!1;var f=Error(r(520),{cause:o});if(f=Pn(f,a),rl===null?rl=[f]:rl.push(f),Et!==4&&(Et=2),n===null)return!0;o=Pn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Uf(a.stateNode,o,t),mf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,t,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var Pf=Error(r(461)),kt=!1;function Jt(t,n,a,o){n.child=t===null?fg(n,null,a,o):Pr(n,t.child,a,o)}function uy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return kr(n),o=bf(t,n,a,p,f,h),E=Ef(),t!==null&&!kt?(Tf(t,n,h),Ji(t,n,h)):(Ye&&E&&ef(n),n.flags|=1,Jt(t,n,o,h),n.child)}function cy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hy(t,n,f,o,h)):(t=Nu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Yf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(p,o)&&t.ref===n.ref)return Ji(t,n,h)}return n.flags|=1,t=Qi(f,o),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Lo(f,o)&&t.ref===n.ref)if(kt=!1,n.pendingProps=o=f,Yf(t,h))(t.flags&131072)!==0&&(kt=!0);else return n.lanes=t.lanes,Ji(t,n,h)}return zf(t,n,a,o,h)}function fy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return dy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):gf(),gg(n);else return o=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Mu(n,f.cachePool),pg(n,f),js(),n.memoizedState=null):(t!==null&&Mu(n,null),gf(),js());return Jt(t,n,h,a),n.child}function Jo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,a,o,h){var f=cf();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Mu(n,null),gf(),gg(n),t!==null&&Aa(t,n,o,!0),n.childLanes=h,null}function Xu(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,a){return Pr(n,t.child,null,a),t=Xu(n,n.pendingProps),t.flags|=2,In(n),n.memoizedState=null,t}function JE(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(o.mode==="hidden")return t=Xu(n,o),n.lanes=536870912,Jo(null,t);if(_f(n),(t=mt)?(t=w0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ni,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Zp(t),a.return=n,n.child=a,$t=n,mt=null)):t=null,t===null)throw Cs(n);return n.lanes=536870912,null}return Xu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(kt||Aa(t,n,a,!1),h=(a&t.childLanes)!==0,kt||h){if(o=ft,o!==null&&(p=vo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Dr(t,p),vn(o,t,p),Pf;ac(),n=my(t,n,a)}else t=f.treeContext,mt=Fn(p.nextSibling),$t=n,Ye=!0,Ns=null,Bn=!1,t!==null&&eg(n,t),n=Xu(n,o),n.flags|=4096;return n}return t=Qi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function $u(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zf(t,n,a,o,h){return kr(n),a=bf(t,n,a,o,void 0,h),o=Ef(),t!==null&&!kt?(Tf(t,n,h),Ji(t,n,h)):(Ye&&o&&ef(n),n.flags|=1,Jt(t,n,a,h),n.child)}function py(t,n,a,o,h,f){return kr(n),n.updateQueue=null,a=_g(n,o,a,h),yg(t),o=Ef(),t!==null&&!kt?(Tf(t,n,f),Ji(t,n,f)):(Ye&&o&&ef(n),n.flags|=1,Jt(t,n,a,f),n.child)}function gy(t,n,a,o,h){if(kr(n),n.stateNode===null){var f=va,p=a.contextType;typeof p=="object"&&p!==null&&(f=Zt(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Zt(p):va,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(jf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=qr(a,E);f.props=I;var z=f.context,G=a.contextType;p=va,typeof G=="object"&&G!==null&&(p=Zt(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&ny(n,f,o,p),Os=!1;var q=n.memoizedState;f.state=q,Yo(n,o,f,h),Qo(),z=n.memoizedState,E||q!==z||Os?(typeof X=="function"&&(jf(n,a,X,o),z=n.memoizedState),(I=Os||ty(n,a,I,o,q,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(t,n),p=n.memoizedProps,G=qr(a,p),f.props=G,X=n.pendingProps,q=f.context,z=a.contextType,I=va,typeof z=="object"&&z!==null&&(I=Zt(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||q!==I)&&ny(n,f,o,I),Os=!1,q=n.memoizedState,f.state=q,Yo(n,o,f,h),Qo();var H=n.memoizedState;p!==X||q!==H||Os||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof E=="function"&&(jf(n,a,E,o),H=n.memoizedState),(G=Os||ty(n,a,G,o,q,H,I)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Pr(n,t.child,null,h),n.child=Pr(n,null,a,h)):Jt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Ji(t,n,h),t}function yy(t,n,a,o){return Mr(),n.flags|=256,Jt(t,n,a,o),n.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(t){return{baseLanes:t,cachePool:ag()}}function Hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function _y(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?ks(n):js(),(t=mt)?(t=w0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Ni,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Zp(t),a.return=n,n.child=a,$t=n,mt=null)):t=null,t===null)throw Cs(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(js(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Or(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(a),o.childLanes=Hf(t,p,a),n.memoizedState=qf,Jo(null,o)):(ks(n),Ff(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Gf(t,n,a)):n.memoizedState!==null?(js(),n.child=t.child,n.flags|=128,n=null):(js(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Or(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Pr(n,t.child,null,a),o=n.child,o.memoizedState=Bf(a),o.childLanes=Hf(t,p,a),n.memoizedState=qf,n=Jo(null,o));else if(ks(n),xd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(r(419)),o.stack="",o.digest=p,zo({value:o,source:null,stack:null}),n=Gf(t,n,a)}else if(kt||Aa(t,n,a,!1),p=(a&t.childLanes)!==0,kt||p){if(p=ft,p!==null&&(o=vo(p,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Dr(t,o),vn(p,t,o),Pf;Sd(E)||ac(),n=Gf(t,n,a)}else Sd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,mt=Fn(E.nextSibling),$t=n,Ye=!0,Ns=null,Bn=!1,t!==null&&eg(n,t),n=Ff(n,o.children),n.flags|=4096);return n}return h?(js(),E=o.fallback,h=n.mode,I=t.child,z=I.sibling,o=Qi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=Or(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Bf(a):(h=E.cachePool,h!==null?(I=Mt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ag(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(t,p,a),n.memoizedState=qf,Jo(t.child,o)):(ks(n),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Ff(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=wn(22,t,null,n),t.lanes=0,t}function Gf(t,n,a){return Pr(n,t.child,null,a),t=Ff(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),af(t.return,n,a)}function Qf(t,n,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function by(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=xt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,W(xt,p),Jt(t,n,o,a),o=Ye?Po:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,a,n);else if(t.tag===19)vy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Pu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Pu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Qf(n,!0,a,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ps|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Aa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Qi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Yf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function WE(t,n,a){switch(n.tag){case 3:$e(n,n.stateNode.containerInfo),Ds(n,Mt,t.memoizedState.cache),Mr();break;case 27:case 5:re(n);break;case 4:$e(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_y(t,n,a):(ks(n),t=Ji(t,n,a),t!==null?t.sibling:null);ks(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Aa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return by(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(xt,xt.current),o)break;return null;case 22:return n.lanes=0,fy(t,n,a,n.pendingProps);case 24:Ds(n,Mt,t.memoizedState.cache)}return Ji(t,n,a)}function Ey(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)kt=!0;else{if(!Yf(t,a)&&(n.flags&128)===0)return kt=!1,WE(t,n,a);kt=(t.flags&131072)!==0}else kt=!1,Ye&&(n.flags&1048576)!==0&&Wp(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Lr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(o=qr(t,o),n.tag=1,n=gy(null,n,t,o,a)):(n.tag=0,n=zf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===tt){n.tag=11,n=uy(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=cy(null,n,t,o,a);break e}}throw n=ye(t)||t,Error(r(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=qr(o,n.pendingProps),gy(t,n,o,h,a);case 3:e:{if($e(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(t,n),Yo(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Ds(n,Mt,o),o!==f.cache&&of(n,[Mt],a,!0),Qo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,o,a);break e}else if(o!==h){h=Pn(Error(r(424)),n),zo(h),n=yy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=Fn(t.firstChild),$t=n,Ye=!0,Ns=null,Bn=!0,a=fg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mr(),o===h){n=Ji(t,n,a);break e}Jt(t,n,o,a)}n=n.child}return n;case 26:return $u(t,n),t===null?(a=O0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ye||(a=n.type,t=n.pendingProps,o=dc(fe.current).createElement(a),o[Ct]=n,o[Ht]=t,Wt(o,a,t),Dt(o),n.stateNode=o):n.memoizedState=O0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return re(n),t===null&&Ye&&(o=n.stateNode=N0(n.type,n.pendingProps,fe.current),$t=n,Bn=!0,h=mt,Fs(n.type)?(wd=h,mt=Fn(o.firstChild)):mt=h),Jt(t,n,n.pendingProps.children,a),$u(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=o=mt)&&(o=NT(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,$t=n,mt=Fn(o.firstChild),Bn=!1,h=!0):h=!1),h||Cs(n)),re(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,Ed(h,f)?o=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(t,n,FE,null,null,a),dl._currentValue=h),$u(t,n),Jt(t,n,o,a),n.child;case 6:return t===null&&Ye&&((t=a=mt)&&(a=CT(a,n.pendingProps,Bn),a!==null?(n.stateNode=a,$t=n,mt=null,t=!0):t=!1),t||Cs(n)),null;case 13:return _y(t,n,a);case 4:return $e(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Pr(n,null,o,a):Jt(t,n,o,a),n.child;case 11:return uy(t,n,n.type,n.pendingProps,a);case 7:return Jt(t,n,n.pendingProps,a),n.child;case 8:return Jt(t,n,n.pendingProps.children,a),n.child;case 12:return Jt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Jt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=Zt(h),o=o(h),n.flags|=1,Jt(t,n,o,a),n.child;case 14:return cy(t,n,n.type,n.pendingProps,a);case 15:return hy(t,n,n.type,n.pendingProps,a);case 19:return by(t,n,a);case 31:return JE(t,n,a);case 22:return fy(t,n,a,n.pendingProps);case 24:return kr(n),o=Zt(Mt),t===null?(h=cf(),h===null&&(h=ft,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ff(n),Ds(n,Mt,h)):((t.lanes&a)!==0&&(df(t,n),Yo(n,null,null,a),Qo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Mt,o)):(o=f.cache,Ds(n,Mt,o),o!==h.cache&&of(n,[Mt],a,!0))),Jt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Wi(t){t.flags|=4}function Kf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ky())t.flags|=8192;else throw Ur=ku,hf}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L0(n))if(Ky())t.flags|=8192;else throw Ur=ku,hf}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?su():536870912,t.lanes|=n,ka|=n)}function Wo(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function eT(t,n,a){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(n),null;case 1:return pt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Mt),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(n)?Wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),pt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Wi(n),f!==null?(pt(n),Ty(n,f)):(pt(n),Kf(n,h,null,o,a))):f?f!==t.memoizedState?(Wi(n),pt(n),Ty(n,f)):(pt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Wi(n),pt(n),Kf(n,h,t,o,a)),null;case 27:if(ce(n),a=fe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return pt(n),null}t=ne.current,Ta(n)?tg(n):(t=N0(h,o,a),n.stateNode=t,Wi(n))}return pt(n),null;case 5:if(ce(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return pt(n),null}if(f=ne.current,Ta(n))tg(n);else{var p=dc(fe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ct]=n,f[Ht]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Wt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Wi(n)}}return pt(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=fe.current,Ta(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=$t,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||_0(t.nodeValue,a)),t||Cs(n,!0)}else t=dc(t).createTextNode(o),t[Ct]=n,n.stateNode=t}return pt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ta(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ct]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),t=!1}else a=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(r(558))}return pt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ct]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pt(n),h=!1}else h=sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Ju(n,n.updateQueue),pt(n),null);case 4:return ae(),t===null&&gd(n.stateNode.containerInfo),pt(n),null;case 10:return Xi(n.type),pt(n),null;case 19:if(F(xt),o=n.memoizedState,o===null)return pt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Wo(o,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Pu(t),f!==null){for(n.flags|=128,Wo(o,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)$p(a,t),a=a.sibling;return W(xt,xt.current&1|2),Ye&&Yi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&cn()>ic&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304)}else{if(!h)if(t=Pu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ye)return pt(n),null}else 2*cn()-o.renderingStartTime>ic&&a!==536870912&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=cn(),t.sibling=null,a=xt.current,W(xt,h?a&1|2:a&1),Ye&&Yi(n,o.treeForkCount),t):(pt(n),null);case 22:case 23:return In(n),yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(pt(n),n.subtreeFlags&6&&(n.flags|=8192)):pt(n),a=n.updateQueue,a!==null&&Ju(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&F(jr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Xi(Mt),pt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function tT(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Xi(Mt),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ce(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(r(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(In(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Mr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(xt),null;case 4:return ae(),null;case 10:return Xi(n.type),null;case 22:case 23:return In(n),yf(),t!==null&&F(jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Xi(Mt),null;case 25:return null;default:return null}}function Ay(t,n){switch(tf(n),n.tag){case 3:Xi(Mt),ae();break;case 26:case 27:case 5:ce(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:F(xt);break;case 10:Xi(n.type);break;case 22:case 23:In(n),yf(),t!==null&&F(jr);break;case 24:Xi(Mt)}}function el(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){at(n,n.return,E)}}function Ls(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=a,z=E;try{z()}catch(G){at(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){at(n,n.return,G)}}function Sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{mg(n,a)}catch(o){at(t,t.return,o)}}}function xy(t,n,a){a.props=qr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){at(t,n,o)}}function tl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){at(t,n,h)}}function Di(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,n,h)}else a.current=null}function wy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function Xf(t,n,a){try{var o=t.stateNode;AT(o,t.type,a,n),o[Ht]=n}catch(h){at(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Wn));else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,a),t=t.sibling;t!==null;)Zf(t,n,a),t=t.sibling}function Wu(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Wu(t,n,a),t=t.sibling;t!==null;)Wu(t,n,a),t=t.sibling}function Iy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Wt(n,o,a),n[Ct]=t,n[Ht]=a}catch(f){at(t,t.return,f)}}var es=!1,jt=!1,Jf=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function nT(t,n){if(t=t.containerInfo,vd=bc,t=qp(t),Fh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,E=-1,I=-1,z=0,G=0,X=t,q=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(I=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)q=X,X=H;for(;;){if(X===t)break t;if(q===a&&++z===h&&(E=p),q===f&&++G===o&&(I=p),(H=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:t,selectionRange:a},bc=!1,Gt=n;Gt!==null;)if(n=Gt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Gt=t;else for(;Gt!==null;){switch(n=Gt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=qr(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){at(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Gt=t;break}Gt=n.return}}function Cy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ns(t,a),o&4&&el(5,a);break;case 1:if(ns(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){at(a,a.return,p)}else{var h=qr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){at(a,a.return,p)}}o&64&&Sy(a),o&512&&tl(a,a.return);break;case 3:if(ns(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mg(t,n)}catch(p){at(a,a.return,p)}}break;case 27:n===null&&o&4&&Iy(a);case 26:case 5:ns(t,a),n===null&&o&4&&wy(a),o&512&&tl(a,a.return);break;case 12:ns(t,a);break;case 31:ns(t,a),o&4&&My(t,a);break;case 13:ns(t,a),o&4&&Vy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hT.bind(null,a),DT(t,a))));break;case 22:if(o=a.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||jt,h=es;var f=jt;es=o,(jt=n)&&!f?is(t,a,(a.subtreeFlags&8772)!==0):ns(t,a),es=h,jt=f}break;case 30:break;default:ns(t,a)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ra(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,pn=!1;function ts(t,n,a){for(a=a.child;a!==null;)Oy(t,n,a),a=a.sibling}function Oy(t,n,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:jt||Di(a,n),ts(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Di(a,n);var o=_t,h=pn;Fs(a.type)&&(_t=a.stateNode,pn=!1),ts(t,n,a),cl(a.stateNode),_t=o,pn=h;break;case 5:jt||Di(a,n);case 6:if(o=_t,h=pn,_t=null,ts(t,n,a),_t=o,pn=h,_t!==null)if(pn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(f){at(a,n,f)}else try{_t.removeChild(a.stateNode)}catch(f){at(a,n,f)}break;case 18:_t!==null&&(pn?(t=_t,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ha(t)):S0(_t,a.stateNode));break;case 4:o=_t,h=pn,_t=a.stateNode.containerInfo,pn=!0,ts(t,n,a),_t=o,pn=h;break;case 0:case 11:case 14:case 15:Ls(2,a,n),jt||Ls(4,a,n),ts(t,n,a);break;case 1:jt||(Di(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&xy(a,n,o)),ts(t,n,a);break;case 21:ts(t,n,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,ts(t,n,a),jt=o;break;default:ts(t,n,a)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ha(t)}catch(a){at(n,n.return,a)}}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ha(t)}catch(a){at(n,n.return,a)}}function iT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ny),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ny),n;default:throw Error(r(435,t.tag))}}function ec(t,n){var a=iT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=fT.bind(null,t,o);o.then(h,h)}})}function gn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Fs(E.type)){_t=E.stateNode,pn=!1;break e}break;case 5:_t=E.stateNode,pn=!1;break e;case 3:case 4:_t=E.stateNode.containerInfo,pn=!0;break e}E=E.return}if(_t===null)throw Error(r(160));Oy(f,p,h),_t=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var ri=null;function ky(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(n,t),yn(t),o&4&&(Ls(3,t,t.return),el(3,t),Ls(5,t,t.return));break;case 1:gn(n,t),yn(t),o&512&&(jt||a===null||Di(a,a.return)),o&64&&es&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ri;if(gn(n,t),yn(t),o&512&&(jt||a===null||Di(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Wt(f,o,a),f[Ct]=t,Dt(f),o=f;break e;case"link":var p=k0("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),Wt(f,o,a),h.head.appendChild(f);break;case"meta":if(p=k0("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}f=h.createElement(o),Wt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ct]=t,Dt(f),o=f}t.stateNode=o}else j0(h,t.type,t.stateNode);else t.stateNode=V0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?j0(h,t.type,t.stateNode):V0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(n,t),yn(t),o&512&&(jt||a===null||Di(a,a.return)),a!==null&&o&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(n,t),yn(t),o&512&&(jt||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{mn(h,"")}catch(he){at(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(gn(n,t),yn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){at(t,t.return,he)}}break;case 3:if(gc=null,h=ri,ri=mc(n.containerInfo),gn(n,t),ri=h,yn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(he){at(t,t.return,he)}Jf&&(Jf=!1,jy(t));break;case 4:o=ri,ri=mc(t.stateNode.containerInfo),gn(n,t),yn(t),ri=o;break;case 12:gn(n,t),yn(t);break;case 31:gn(n,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 13:gn(n,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nc=cn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=es,G=jt;if(es=z||h,jt=G||I,gn(n,t),jt=G,es=z,yn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||es||jt||Br(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){at(I,I.return,he)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){at(I,I.return,he)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?x0(H,!0):x0(I.stateNode,!1)}catch(he){at(I,I.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ec(t,a))));break;case 19:gn(n,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 30:break;case 21:break;default:gn(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ry(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(t);Wu(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(mn(p,""),a.flags&=-33);var E=$f(t);Wu(t,E,p);break;case 3:case 4:var I=a.stateNode.containerInfo,z=$f(t);Zf(t,z,I);break;default:throw Error(r(161))}}catch(G){at(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;jy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ns(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(t,n.alternate,n),n=n.sibling}function Br(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Br(n);break;case 1:Di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&xy(n,n.return,a),Br(n);break;case 27:cl(n.stateNode);case 26:case 5:Di(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}t=t.sibling}}function is(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,a),el(4,f);break;case 1:if(is(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)dg(I[h],E)}catch(z){at(o,o.return,z)}}a&&p&64&&Sy(f),tl(f,f.return);break;case 27:Iy(f);case 26:case 5:is(h,f,a),a&&o===null&&p&4&&wy(f),tl(f,f.return);break;case 12:is(h,f,a);break;case 31:is(h,f,a),a&&p&4&&My(h,f);break;case 13:is(h,f,a),a&&p&4&&Vy(h,f);break;case 22:f.memoizedState===null&&is(h,f,a),tl(f,f.return);break;case 30:break;default:is(h,f,a)}n=n.sibling}}function Wf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&qo(a))}function ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t))}function ai(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(t,n,a,o),n=n.sibling}function Ly(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(t,n,a,o),h&2048&&el(9,n);break;case 1:ai(t,n,a,o);break;case 3:ai(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){ai(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){at(n,n.return,I)}}else ai(t,n,a,o);break;case 31:ai(t,n,a,o);break;case 13:ai(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ai(t,n,a,o):nl(t,n):f._visibility&2?ai(t,n,a,o):(f._visibility|=2,Oa(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(p,n);break;case 24:ai(t,n,a,o),h&2048&&ed(n.alternate,n);break;default:ai(t,n,a,o)}}function Oa(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=a,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Oa(f,p,E,I,h),el(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Oa(f,p,E,I,h):nl(f,p):(G._visibility|=2,Oa(f,p,E,I,h)),h&&z&2048&&Wf(p.alternate,p);break;case 24:Oa(f,p,E,I,h),h&&z&2048&&ed(p.alternate,p);break;default:Oa(f,p,E,I,h)}n=n.sibling}}function nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:nl(a,o),h&2048&&Wf(o.alternate,o);break;case 24:nl(a,o),h&2048&&ed(o.alternate,o);break;default:nl(a,o)}n=n.sibling}}var il=8192;function Ma(t,n,a){if(t.subtreeFlags&il)for(t=t.child;t!==null;)Uy(t,n,a),t=t.sibling}function Uy(t,n,a){switch(t.tag){case 26:Ma(t,n,a),t.flags&il&&t.memoizedState!==null&&HT(a,ri,t.memoizedState,t.memoizedProps);break;case 5:Ma(t,n,a);break;case 3:case 4:var o=ri;ri=mc(t.stateNode.containerInfo),Ma(t,n,a),ri=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,Ma(t,n,a),il=o):Ma(t,n,a));break;default:Ma(t,n,a)}}function Py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Gt=o,qy(o,t)}Py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:sl(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:sl(t);break;case 12:sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tc(t)):sl(t);break;default:sl(t)}}function tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Gt=o,qy(o,t)}Py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,tc(n));break;default:tc(n)}t=t.sibling}}function qy(t,n){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Ls(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Gt=o;else e:for(a=t;Gt!==null;){o=Gt;var h=o.sibling,f=o.return;if(Dy(o),o===a){Gt=null;break e}if(h!==null){h.return=f,Gt=h;break e}Gt=f}}}var sT={getCacheForType:function(t){var n=Zt(Mt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Zt(Mt).controller.signal}},rT=typeof WeakMap=="function"?WeakMap:Map,et=0,ft=null,Le=null,ze=0,rt=0,Nn=null,Us=!1,Va=!1,td=!1,ss=0,Et=0,Ps=0,Hr=0,nd=0,Cn=0,ka=0,rl=null,_n=null,id=!1,nc=0,By=0,ic=1/0,sc=null,zs=null,qt=0,qs=null,ja=null,rs=0,sd=0,rd=null,Hy=null,al=0,ad=null;function Dn(){return(et&2)!==0&&ze!==0?ze&-ze:U.T!==null?fd():ru()}function Fy(){if(Cn===0)if((ze&536870912)===0||Ye){var t=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Cn=t}else Cn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Cn}function vn(t,n,a){(t===ft&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(La(t,0),Bs(t,ze,Cn,!1)),yr(t,a),((et&2)===0||t!==ft)&&(t===ft&&((et&2)===0&&(Hr|=a),Et===4&&Bs(t,ze,Cn,!1)),Oi(t))}function Gy(t,n,a){if((et&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||$n(t,n),h=o?lT(t,n):ld(t,n,!0),f=o;do{if(h===0){Va&&!o&&Bs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!aT(a)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=rl;var I=E.current.memoizedState.isDehydrated;if(I&&(La(E,p).flags|=256),p=ld(E,p,!1),p!==2){if(td&&!I){E.errorRecoveryDisabledLanes|=f,Hr|=f,h=4;break e}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){La(t,0),Bs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Bs(o,n,Cn,!Us);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=nc+300-cn(),10<h)){if(Bs(o,n,Cn,!Us),mi(o,0,!0)!==0)break e;rs=n,o.timeoutHandle=T0(Qy.bind(null,o,a,_n,sc,id,n,Cn,Hr,ka,Us,f,"Throttled",-0,0),h);break e}Qy(o,a,_n,sc,id,n,Cn,Hr,ka,Us,f,null,-0,0)}}break}while(!0);Oi(t)}function Qy(t,n,a,o,h,f,p,E,I,z,G,X,q,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Uy(n,f,X);var he=(f&62914560)===f?nc-cn():(f&4194048)===f?By-cn():0;if(he=FT(X,he),he!==null){rs=f,t.cancelPendingCommit=he(e0.bind(null,t,n,f,a,o,h,p,E,I,G,X,null,q,H)),Bs(t,f,p,!z);return}}e0(t,n,f,a,o,h,p,E,I)}function aT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!xn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(t,n,a,o){n&=~nd,n&=~Hr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-At(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&_r(t,a,n)}function rc(){return(et&6)===0?(ol(0),!1):!0}function od(){if(Le!==null){if(rt===0)var t=Le.return;else t=Le,Ki=Vr=null,Af(t),Ra=null,Ho=0,t=Le;for(;t!==null;)Ay(t.alternate,t),t=t.return;Le=null}}function La(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,wT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rs=0,od(),ft=t,Le=a=Qi(t.current,null),ze=n,rt=0,Nn=null,Us=!1,Va=$n(t,n),td=!1,ka=Cn=nd=Hr=Ps=Et=0,_n=rl=null,id=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-At(o),f=1<<h;n|=t[h],o&=~f}return ss=n,wu(),a}function Yy(t,n){Me=null,U.H=Zo,n===wa||n===Vu?(n=ug(),rt=3):n===hf?(n=ug(),rt=4):rt=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Le===null&&(Et=1,Ku(t,Pn(n,t.current)))}function Ky(){var t=Rn.current;return t===null?!0:(ze&4194048)===ze?Hn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Hn:!1}function Xy(){var t=U.H;return U.H=Zo,t===null?Zo:t}function $y(){var t=U.A;return U.A=sT,t}function ac(){Et=4,Us||(ze&4194048)!==ze&&Rn.current!==null||(Va=!0),(Ps&134217727)===0&&(Hr&134217727)===0||ft===null||Bs(ft,ze,Cn,!1)}function ld(t,n,a){var o=et;et|=2;var h=Xy(),f=$y();(ft!==t||ze!==n)&&(sc=null,La(t,n)),n=!1;var p=Et;e:do try{if(rt!==0&&Le!==null){var E=Le,I=Nn;switch(rt){case 8:od(),p=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=rt;if(rt=0,Nn=null,Ua(t,E,I,z),a&&Va){p=0;break e}break;default:z=rt,rt=0,Nn=null,Ua(t,E,I,z)}}oT(),p=Et;break}catch(G){Yy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ki=Vr=null,et=o,U.H=h,U.A=f,Le===null&&(ft=null,ze=0,wu()),p}function oT(){for(;Le!==null;)Zy(Le)}function lT(t,n){var a=et;et|=2;var o=Xy(),h=$y();ft!==t||ze!==n?(sc=null,ic=cn()+500,La(t,n)):Va=$n(t,n);e:do try{if(rt!==0&&Le!==null){n=Le;var f=Nn;t:switch(rt){case 1:rt=0,Nn=null,Ua(t,n,f,1);break;case 2:case 9:if(og(f)){rt=0,Nn=null,Jy(n);break}n=function(){rt!==2&&rt!==9||ft!==t||(rt=7),Oi(t)},f.then(n,n);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:og(f)?(rt=0,Nn=null,Jy(n)):(rt=0,Nn=null,Ua(t,n,f,7));break;case 5:var p=null;switch(Le.tag){case 26:p=Le.memoizedState;case 5:case 27:var E=Le;if(p?L0(p):E.stateNode.complete){rt=0,Nn=null;var I=E.sibling;if(I!==null)Le=I;else{var z=E.return;z!==null?(Le=z,oc(z)):Le=null}break t}}rt=0,Nn=null,Ua(t,n,f,5);break;case 6:rt=0,Nn=null,Ua(t,n,f,6);break;case 8:od(),Et=6;break e;default:throw Error(r(462))}}uT();break}catch(G){Yy(t,G)}while(!0);return Ki=Vr=null,U.H=o,U.A=h,et=a,Le!==null?0:(ft=null,ze=0,wu(),Et)}function uT(){for(;Le!==null&&!Lh();)Zy(Le)}function Zy(t){var n=Ey(t.alternate,t,ss);t.memoizedProps=t.pendingProps,n===null?oc(t):Le=n}function Jy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=py(a,n,n.pendingProps,n.type,void 0,ze);break;case 11:n=py(a,n,n.pendingProps,n.type.render,n.ref,ze);break;case 5:Af(n);default:Ay(a,n),n=Le=$p(n,ss),n=Ey(a,n,ss)}t.memoizedProps=t.pendingProps,n===null?oc(t):Le=n}function Ua(t,n,a,o){Ki=Vr=null,Af(n),Ra=null,Ho=0;var h=n.return;try{if(ZE(t,h,n,a,ze)){Et=1,Ku(t,Pn(a,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Et=1,Ku(t,Pn(a,t.current)),Le=null;return}n.flags&32768?(Ye||o===1?t=!0:Va||(ze&536870912)!==0?t=!1:(Us=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,Us);return}t=n.return;var a=eT(n.alternate,n,ss);if(a!==null){Le=a;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);Et===0&&(Et=5)}function Wy(t,n){do{var a=tT(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);Et=6,Le=null}function e0(t,n,a,o,h,f,p,E,I){t.cancelPendingCommit=null;do lc();while(qt!==0);if((et&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xh,zh(t,a,f,p,E,I),t===ft&&(Le=ft=null,ze=0),ja=n,qs=t,rs=a,sd=f,rd=h,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dT(_s,function(){return r0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=Z.p,Z.p=2,p=et,et|=4;try{nT(t,n,a)}finally{et=p,Z.p=h,U.T=o}}qt=1,t0(),n0(),i0()}}function t0(){if(qt===1){qt=0;var t=qs,n=ja,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var o=Z.p;Z.p=2;var h=et;et|=4;try{ky(n,t);var f=bd,p=qp(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&zp(E.ownerDocument.documentElement,E)){if(I!==null&&Fh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var H=q.getSelection(),he=E.textContent.length,Ee=Math.min(I.start,he),ct=I.end===void 0?Ee:Math.min(I.end,he);!H.extend&&Ee>ct&&(p=ct,ct=Ee,Ee=p);var j=Pp(E,Ee),O=Pp(E,ct);if(j&&O&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(j.node,j.offset),H.removeAllRanges(),Ee>ct?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!vd,bd=vd=null}finally{et=h,Z.p=o,U.T=a}}t.current=n,qt=2}}function n0(){if(qt===2){qt=0;var t=qs,n=ja,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var o=Z.p;Z.p=2;var h=et;et|=4;try{Cy(t,n.alternate,n)}finally{et=h,Z.p=o,U.T=a}}qt=3}}function i0(){if(qt===4||qt===3){qt=0,Jl();var t=qs,n=ja,a=rs,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,ja=qs=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),Bi(a),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=U.T,h=Z.p,Z.p=2,U.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{U.T=n,Z.p=h}}(rs&3)!==0&&lc(),Oi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ad?al++:(al=0,ad=t):al=0,ol(0)}}function s0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,qo(n)))}function lc(){return t0(),n0(),i0(),r0()}function r0(){if(qt!==5)return!1;var t=qs,n=sd;sd=0;var a=Bi(rs),o=U.T,h=Z.p;try{Z.p=32>a?32:a,U.T=null,a=rd,rd=null;var f=qs,p=rs;if(qt=0,ja=qs=null,rs=0,(et&6)!==0)throw Error(r(331));var E=et;if(et|=4,zy(f.current),Ly(f,f.current,p,a),et=E,ol(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{Z.p=h,U.T=o,s0(t,n)}}function a0(t,n,a){n=Pn(a,n),n=Uf(t.stateNode,n,2),t=Vs(t,n,2),t!==null&&(yr(t,2),Oi(t))}function at(t,n,a){if(t.tag===3)a0(t,t,a);else for(;n!==null;){if(n.tag===3){a0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){t=Pn(a,t),a=oy(2),o=Vs(n,a,2),o!==null&&(ly(a,o,n,t),yr(o,2),Oi(o));break}}n=n.return}}function ud(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new rT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(td=!0,h.add(a),t=cT.bind(null,t,n,a),n.then(t,t))}function cT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ft===t&&(ze&a)===a&&(Et===4||Et===3&&(ze&62914560)===ze&&300>cn()-nc?(et&2)===0&&La(t,0):nd|=a,ka===ze&&(ka=0)),Oi(t)}function o0(t,n){n===0&&(n=su()),t=Dr(t,n),t!==null&&(yr(t,n),Oi(t))}function hT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),o0(t,a)}function fT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),o0(t,a)}function dT(t,n){return zt(t,n)}var uc=null,Pa=null,cd=!1,cc=!1,hd=!1,Hs=0;function Oi(t){t!==Pa&&t.next===null&&(Pa===null?uc=Pa=t:Pa=Pa.next=t),cc=!0,cd||(cd=!0,pT())}function ol(t,n){if(!hd&&cc){hd=!0;do for(var a=!1,o=uc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-At(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h0(o,f))}else f=ze,f=mi(o,o===ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$n(o,f)||(a=!0,h0(o,f));o=o.next}while(a);hd=!1}}function mT(){l0()}function l0(){cc=cd=!1;var t=0;Hs!==0&&xT()&&(t=Hs);for(var n=cn(),a=null,o=uc;o!==null;){var h=o.next,f=u0(o,n);f===0?(o.next=null,a===null?uc=h:a.next=h,h===null&&(Pa=a)):(a=o,(t!==0||(f&3)!==0)&&(cc=!0)),o=h}qt!==0&&qt!==5||ol(t),Hs!==0&&(Hs=0)}function u0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-At(f),E=1<<p,I=h[p];I===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Ph(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=ft,a=ze,a=mi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ys(o),Bi(a)){case 2:case 8:a=yo;break;case 32:a=_s;break;case 268435456:a=Wl;break;default:a=_s}return o=c0.bind(null,t),a=zt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ys(o),t.callbackPriority=2,t.callbackNode=null,2}function c0(t,n){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(lc()&&t.callbackNode!==a)return null;var o=ze;return o=mi(t,t===ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Gy(t,o,n),u0(t,cn()),t.callbackNode!=null&&t.callbackNode===a?c0.bind(null,t):null)}function h0(t,n){if(lc())return null;Gy(t,n,!0)}function pT(){RT(function(){(et&6)!==0?zt(go,mT):l0()})}function fd(){if(Hs===0){var t=Sa;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Hs=t}return Hs}function f0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ua(""+t)}function d0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function gT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=f0((h[Ht]||null).action),p=o.submitter;p&&(n=(n=p[Ht]||null)?f0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new xi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var I=p?d0(h,p):new FormData(h);Of(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?d0(h,p):new FormData(h),Of(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var dd=0;dd<Kh.length;dd++){var md=Kh[dd],yT=md.toLowerCase(),_T=md[0].toUpperCase()+md.slice(1);si(yT,"on"+_T)}si(Fp,"onAnimationEnd"),si(Gp,"onAnimationIteration"),si(Qp,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(VE,"onTransitionRun"),si(kE,"onTransitionStart"),si(jE,"onTransitionCancel"),si(Yp,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function m0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=I}}}}function Ue(t,n){var a=n[sa];a===void 0&&(a=n[sa]=new Set);var o=t+"__bubble";a.has(o)||(p0(n,t,2,!1),a.add(o))}function pd(t,n,a){var o=0;n&&(o|=4),p0(a,t,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[hc]){t[hc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(vT.has(a)||pd(a,!1,t),pd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hc]||(n[hc]=!0,pd("selectionchange",!1,n))}}function p0(t,n,a,o){switch(F0(n)){case 2:var h=YT;break;case 8:h=KT;break;default:h=Dd}a=h.bind(null,n,a,t),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function yd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=_i(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Ss(function(){var z=f,G=kn(a),X=[];e:{var q=Kp.get(t);if(q!==void 0){var H=xi,he=t;switch(t){case"keypress":if(xr(a)===0)break e;case"keydown":case"keyup":H=Tu;break;case"focusin":he="focus",H=Rr;break;case"focusout":he="blur",H=Rr;break;case"beforeblur":case"afterblur":H=Rr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Fp:case Gp:case Qp:H=pu;break;case Yp:H=T;break;case"scroll":case"scrollend":H=Oo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gi;break;case"toggle":case"beforetoggle":H=Oe}var Ee=(n&4)!==0,ct=!Ee&&(t==="scroll"||t==="scrollend"),j=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||j===null||(Y=ei(O,j),Y!=null&&Ee.push(ul(O,Y,P))),ct)break;O=O.return}0<Ee.length&&(q=new H(q,he,null,a,G),X.push({event:q,listeners:Ee}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==No&&(he=a.relatedTarget||a.fromElement)&&(_i(he)||he[gi]))break e;if((H||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,H?(he=a.relatedTarget||a.toElement,H=z,he=he?_i(he):null,he!==null&&(ct=c(he),Ee=he.tag,he!==ct||Ee!==5&&Ee!==27&&Ee!==6)&&(he=null)):(H=null,he=z),H!==he)){if(Ee=Mo,Y="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Gi,Y="onPointerLeave",j="onPointerEnter",O="pointer"),ct=H==null?q:An(H),P=he==null?q:An(he),q=new Ee(Y,O+"leave",H,a,G),q.target=ct,q.relatedTarget=P,Y=null,_i(G)===z&&(Ee=new Ee(j,O+"enter",he,a,G),Ee.target=P,Ee.relatedTarget=ct,Y=Ee),ct=Y,H&&he)t:{for(Ee=bT,j=H,O=he,P=0,Y=j;Y;Y=Ee(Y))P++;Y=0;for(var _e=O;_e;_e=Ee(_e))Y++;for(;0<P-Y;)j=Ee(j),P--;for(;0<Y-P;)O=Ee(O),Y--;for(;P--;){if(j===O||O!==null&&j===O.alternate){Ee=j;break t}j=Ee(j),O=Ee(O)}Ee=null}else Ee=null;H!==null&&g0(X,q,H,Ee,!1),he!==null&&ct!==null&&g0(X,ct,he,Ee,!0)}}e:{if(q=z?An(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Ze=Mp;else if(Dp(q))if(Vp)Ze=DE;else{Ze=NE;var me=IE}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&la(z.elementType)&&(Ze=Mp):Ze=CE;if(Ze&&(Ze=Ze(t,z))){Op(X,Ze,a,G);break e}me&&me(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&wo(q,"number",q.value)}switch(me=z?An(z):window,t){case"focusin":(Dp(me)||me.contentEditable==="true")&&(ga=me,Gh=z,Uo=null);break;case"focusout":Uo=Gh=ga=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Bp(X,a,G);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":Bp(X,a,G)}var Ve;if(We)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else pa?Ir(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Ii&&a.locale!=="ko"&&(pa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&pa&&(Ve=Do()):(Si=G,Co="value"in Si?Si.value:Si.textContent,pa=!0)),me=fc(z,qe),0<me.length&&(qe=new Ri(qe,t,null,a,G),X.push({event:qe,listeners:me}),Ve?qe.data=Ve:(Ve=ma(a),Ve!==null&&(qe.data=Ve)))),(Ve=Ln?SE(t,a):xE(t,a))&&(qe=fc(z,"onBeforeInput"),0<qe.length&&(me=new Ri("onBeforeInput","beforeinput",null,a,G),X.push({event:me,listeners:qe}),me.data=Ve)),gT(X,t,z,a,G)}m0(X,n)})}function ul(t,n,a){return{instance:t,listener:n,currentTarget:a}}function fc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(t,a),h!=null&&o.unshift(ul(t,h,f)),h=ei(t,n),h!=null&&o.push(ul(t,h,f))),t.tag===3)return o;t=t.return}return[]}function bT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g0(t,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=ei(a,f),z!=null&&p.unshift(ul(a,z,I))):h||(z=ei(a,f),z!=null&&p.push(ul(a,z,I)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var ET=/\r\n?/g,TT=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(ET,`
`).replace(TT,"")}function _0(t,n){return n=y0(n),y0(t)===n}function ut(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(t,""+o);break;case"className":Sn(t,"class",o);break;case"tabIndex":Sn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,a,o);break;case"style":Io(t,o,f);break;case"data":if(n!=="object"){Sn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ua(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ua(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Wn);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ua(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),aa(t,"popover",o);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fu.get(a)||a,aa(t,a,o))}}function _d(t,n,a,o,h,f){switch(a){case"style":Io(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?mn(t,o):(typeof o=="number"||typeof o=="bigint")&&mn(t,""+o);break;case"onScroll":o!=null&&Ue("scroll",t);break;case"onScrollEnd":o!=null&&Ue("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ht]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):aa(t,a,o)}}}function Wt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,f,p,a,null)}}h&&ut(t,n,"srcSet",a.srcSet,a,null),o&&ut(t,n,"src",a.src,a,null);return;case"input":Ue("invalid",t);var E=f=p=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ut(t,n,o,G,a,null)}}uu(t,f,E,I,z,p,h,!1);return;case"select":Ue("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:ut(t,n,h,E,a,null)}n=f,a=p,t.multiple=!!o,n!=null?bs(t,!!o,n,!1):a!=null&&bs(t,!!o,a,!0);return;case"textarea":Ue("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ut(t,n,p,E,a,null)}Es(t,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ut(t,n,I,o,a,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(o=0;o<ll.length;o++)Ue(ll[o],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ut(t,n,z,o,a,null)}return;default:if(la(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&_d(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ut(t,n,E,o,a,null))}function AT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||ut(t,n,H,null,o,X)}}for(var q in o){var H=o[q];if(X=a[q],o.hasOwnProperty(q)&&(H!=null||X!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&ut(t,n,q,H,o,X)}}oa(t,p,E,I,z,G,f,h);return;case"select":H=p=E=q=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||ut(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&ut(t,n,h,f,o,I)}n=E,a=p,o=H,q!=null?bs(t,!!a,q,!1):!!o!=!!a&&(n!=null?bs(t,!!a,n,!0):bs(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ut(t,n,p,h,o,f)}cu(t,q,H);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!o.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:ut(t,n,he,null,o,q)}for(I in o)if(q=o[I],H=a[I],o.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ut(t,n,I,q,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!o.hasOwnProperty(Ee)&&ut(t,n,Ee,null,o,q);for(z in o)if(q=o[z],H=a[z],o.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ut(t,n,z,q,o,H)}return;default:if(la(n)){for(var ct in a)q=a[ct],a.hasOwnProperty(ct)&&q!==void 0&&!o.hasOwnProperty(ct)&&_d(t,n,ct,void 0,o,q);for(G in o)q=o[G],H=a[G],!o.hasOwnProperty(G)||q===H||q===void 0&&H===void 0||_d(t,n,G,q,o,H);return}}for(var j in a)q=a[j],a.hasOwnProperty(j)&&q!=null&&!o.hasOwnProperty(j)&&ut(t,n,j,null,o,q);for(X in o)q=o[X],H=a[X],!o.hasOwnProperty(X)||q===H||q==null&&H==null||ut(t,n,X,q,o,H)}function v0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ST(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&v0(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var G=I.transferSize,X=I.initiatorType;G&&v0(X)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,bd=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function b0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function xT(){var t=window.event;return t&&t.type==="popstate"?t===Td?!1:(Td=t,!0):(Td=null,!1)}var T0=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(t){return A0.resolve(null).then(t).catch(IT)}:T0;function IT(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function S0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")cl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,cl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&cl(t.ownerDocument.body);a=h}while(a);Ha(n)}function x0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function CT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function w0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Fn(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function DT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Fn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var wd=null;function R0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Fn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function I0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function N0(t,n,a){switch(n=dc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ra(t)}var Gn=new Map,C0=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var as=Z.d;Z.d={f:OT,r:MT,D:VT,C:kT,L:jT,m:LT,X:PT,S:UT,M:zT};function OT(){var t=as.f(),n=rc();return t||n}function MT(t){var n=Vn(t);n!==null&&n.tag===5&&n.type==="form"?Yg(n):as.r(t)}var za=typeof document>"u"?null:document;function D0(t,n,a){var o=za;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),C0.has(h)||(C0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Wt(n,"link",t),Dt(n),o.head.appendChild(n)))}}function VT(t){as.D(t),D0("dns-prefetch",t,null)}function kT(t,n){as.C(t,n),D0("preconnect",t,n)}function jT(t,n,a){as.L(t,n,a);var o=za;if(o&&t&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(t)+'"]';var f=h;switch(n){case"style":f=qa(t);break;case"script":f=Ba(t)}Gn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Gn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),Wt(n,"link",t),Dt(n),o.head.appendChild(n)))}}function LT(t,n){as.m(t,n);var a=za;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(t)}if(!Gn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Gn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(f)))return}o=a.createElement("link"),Wt(o,"link",t),Dt(o),a.head.appendChild(o)}}}function UT(t,n,a){as.S(t,n,a);var o=za;if(o&&t){var h=vi(o).hoistableStyles,f=qa(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(hl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Gn.get(f))&&Rd(t,a);var I=p=o.createElement("link");Dt(I),Wt(I,"link",t),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function PT(t,n){as.X(t,n);var a=za;if(a&&t){var o=vi(a).hoistableScripts,h=Ba(t),f=o.get(h);f||(f=a.querySelector(fl(h)),f||(t=S({src:t,async:!0},n),(n=Gn.get(h))&&Id(t,n),f=a.createElement("script"),Dt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function zT(t,n){as.M(t,n);var a=za;if(a&&t){var o=vi(a).hoistableScripts,h=Ba(t),f=o.get(h);f||(f=a.querySelector(fl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Gn.get(h))&&Id(t,n),f=a.createElement("script"),Dt(f),Wt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O0(t,n,a,o){var h=(h=fe.current)?mc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=vi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var f=vi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(hl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),f||qT(h,t,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=vi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function qa(t){return'href="'+dn(t)+'"'}function hl(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function qT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Wt(n,"link",a),Dt(n),t.head.appendChild(n))}function Ba(t){return'[src="'+dn(t)+'"]'}function fl(t){return"script[async]"+t}function V0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(o)return n.instance=o,Dt(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Dt(o),Wt(o,"style",h),pc(o,a.precedence,t),n.instance=o;case"stylesheet":h=qa(a.href);var f=t.querySelector(hl(h));if(f)return n.state.loading|=4,n.instance=f,Dt(f),f;o=M0(a),(h=Gn.get(h))&&Rd(o,h),f=(t.ownerDocument||t).createElement("link"),Dt(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Wt(f,"link",o),n.state.loading|=4,pc(f,a.precedence,t),n.instance=f;case"script":return f=Ba(a.src),(h=t.querySelector(fl(f)))?(n.instance=h,Dt(h),h):(o=a,(h=Gn.get(f))&&(o=S({},a),Id(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),Wt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,a.precedence,t));return n.instance}function pc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Rd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var gc=null;function k0(t,n,a){if(gc===null){var o=new Map,h=gc=new Map;h.set(a,o)}else h=gc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[yi]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function j0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function BT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function L0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function HT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(hl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=yc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Dt(f);return}f=n.ownerDocument||n,o=M0(o),(h=Gn.get(h))&&Rd(o,h),f=f.createElement("link"),Dt(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Wt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=yc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function FT(t,n){return t.stylesheets&&t.count===0&&vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*ST());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,n.forEach(GT,t),_c=null,yc.call(t))}function GT(t,n){if(!(n.state.loading&4)){var a=_c.get(t);if(a)var o=a.get(null);else{a=new Map,_c.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var dl={$$typeof:Te,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function QT(t,n,a,o,h,f,p,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function U0(t,n,a,o,h,f,p,E,I,z,G,X){return t=new QT(t,n,a,p,I,z,G,X,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ff(f),t}function P0(t){return t?(t=va,t):va}function z0(t,n,a,o,h,f){h=P0(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Vs(t,o,n),a!==null&&(vn(a,t,n),Go(a,t,n))}function q0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Cd(t,n){q0(t,n),(t=t.alternate)&&q0(t,n)}function B0(t){if(t.tag===13||t.tag===31){var n=Dr(t,67108864);n!==null&&vn(n,t,67108864),Cd(t,67108864)}}function H0(t){if(t.tag===13||t.tag===31){var n=Dn();n=vr(n);var a=Dr(t,n);a!==null&&vn(a,t,n),Cd(t,n)}}var bc=!0;function YT(t,n,a,o){var h=U.T;U.T=null;var f=Z.p;try{Z.p=2,Dd(t,n,a,o)}finally{Z.p=f,U.T=h}}function KT(t,n,a,o){var h=U.T;U.T=null;var f=Z.p;try{Z.p=8,Dd(t,n,a,o)}finally{Z.p=f,U.T=h}}function Dd(t,n,a,o){if(bc){var h=Od(o);if(h===null)yd(t,n,o,Ec,a),G0(t,o);else if($T(h,t,n,a,o))o.stopPropagation();else if(G0(t,o),n&4&&-1<XT.indexOf(t)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=di(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-At(p);E.entanglements[1]|=I,p&=~I}Oi(f),(et&6)===0&&(ic=cn()+500,ol(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&vn(E,f,2),rc(),Cd(f,2)}if(f=Od(o),f===null&&yd(t,n,o,Ec,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(t,n,o,null,a)}}function Od(t){return t=kn(t),Md(t)}var Ec=null;function Md(t){if(Ec=null,t=_i(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ec=t,null}function F0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case go:return 2;case yo:return 8;case _s:case Uh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Vd=!1,Gs=null,Qs=null,Ys=null,ml=new Map,pl=new Map,Ks=[],XT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(t,n){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function gl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&B0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function $T(t,n,a,o,h){switch(n){case"focusin":return Gs=gl(Gs,t,n,a,o,h),!0;case"dragenter":return Qs=gl(Qs,t,n,a,o,h),!0;case"mouseover":return Ys=gl(Ys,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,gl(ml.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,gl(pl.get(f)||null,t,n,a,o,h)),!0}return!1}function Q0(t){var n=_i(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Zn(t.priority,function(){H0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Zn(t.priority,function(){H0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Od(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);No=o,a.target.dispatchEvent(o),No=null}else return n=Vn(a),n!==null&&B0(n),t.blockedOn=a,!1;n.shift()}return!0}function Y0(t,n,a){Tc(t)&&a.delete(n)}function ZT(){Vd=!1,Gs!==null&&Tc(Gs)&&(Gs=null),Qs!==null&&Tc(Qs)&&(Qs=null),Ys!==null&&Tc(Ys)&&(Ys=null),ml.forEach(Y0),pl.forEach(Y0)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,Vd||(Vd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ZT)))}var Sc=null;function K0(t){Sc!==t&&(Sc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===t&&(Sc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var f=Vn(a);f!==null&&(t.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(t){function n(I){return Ac(I,t)}Gs!==null&&Ac(Gs,t),Qs!==null&&Ac(Qs,t),Ys!==null&&Ac(Ys,t),ml.forEach(n),pl.forEach(n);for(var a=0;a<Ks.length;a++){var o=Ks[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ks.length&&(a=Ks[0],a.blockedOn===null);)Q0(a),a.blockedOn===null&&Ks.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Ht]||null;if(typeof f=="function")p||K0(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ht]||null)E=p.formAction;else if(Md(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),K0(a)}}}function X0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}xc.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Dn();z0(a,o,t,n,null,null)},xc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z0(t.current,2,null,t,null,null),rc(),n[gi]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ks.length&&n!==0&&n<Ks[a].priority;a++);Ks.splice(a,0,t),a===0&&Q0(t)}};var $0=e.version;if($0!=="19.2.0")throw Error(r(527,$0,"19.2.0"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var JT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Xn=wc.inject(JT),Kt=wc}catch{}}return _l.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=iy,f=sy,p=ry;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=U0(t,1,!1,null,null,a,o,null,h,f,p,X0),t[gi]=n.current,gd(t),new kd(n)},_l.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=iy,p=sy,E=ry,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=U0(t,1,!0,n,a??null,o,h,I,f,p,E,X0),n.context=P0(null),a=n.current,o=Dn(),o=vr(o),h=Ms(o),h.callback=null,Vs(a,h,o),a=o,n.current.lanes=a,yr(n,a),Oi(n),t[gi]=n.current,gd(t),new xc(n)},_l.version="19.2.0",_l}var a_;function lA(){if(a_)return Ud.exports;a_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=oA(),Ud.exports}var uA=lA();const cA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),o_=s=>{const e=hA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Kv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),fA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var dA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mA=De.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>De.createElement("svg",{ref:_,...dA,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Kv("lucide",l),...!c&&!fA(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>De.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Ke=(s,e)=>{const i=De.forwardRef(({className:r,...l},c)=>De.createElement(mA,{ref:c,iconNode:e,className:Kv(`lucide-${cA(o_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=o_(s),i};const pA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gA=Ke("arrow-left",pA);const yA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],l_=Ke("box",yA);const _A=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],u_=Ke("briefcase",_A);const vA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bd=Ke("calendar",vA);const bA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Hd=Ke("camera",bA);const EA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],TA=Ke("chart-column",EA);const AA=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],SA=Ke("chart-pie",AA);const xA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wA=Ke("check",xA);const RA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],c_=Ke("circle-alert",RA);const IA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],NA=Ke("circle-check-big",IA);const CA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],h_=Ke("clipboard-list",CA);const DA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],OA=Ke("cpu",DA);const MA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VA=Ke("download",MA);const kA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jA=Ke("eye",kA);const LA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],UA=Ke("file-x",LA);const PA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],zA=Ke("history",PA);const qA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],f_=Ke("log-in",qA);const BA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HA=Ke("log-out",BA);const FA=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],GA=Ke("monitor-play",FA);const QA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],YA=Ke("pen-tool",QA);const KA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XA=Ke("plus",KA);const $A=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ZA=Ke("refresh-cw",$A);const JA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rc=Ke("save",JA);const WA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eS=Ke("search",WA);const tS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d_=Ke("settings",tS);const nS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],iS=Ke("shield-check",nS);const sS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rS=Ke("trash-2",sS);const aS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oS=Ke("trending-up",aS);const lS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uS=Ke("triangle-alert",lS);const cS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hS=Ke("user",cS);const fS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dS=Ke("users",fS);const mS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],pS=Ke("utensils",mS);const gS=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],m_=Ke("video",gS);const yS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fd=Ke("x",yS);const _S=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vS=Ke("zap",_S),bS=()=>{};var p_={};const Xv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},ES=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,Q=y&63;_||(Q=64,d||(M=64)),r.push(i[A],i[S],i[M],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Xv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ES(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new TS;const M=c<<2|g>>4;if(r.push(M),y!==64){const Q=g<<4&240|y>>2;if(r.push(Q),S!==64){const ee=y<<6&192|S;r.push(ee)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class TS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AS=function(s){const e=Xv(s);return $v.encodeByteArray(e,!0)},Qc=function(s){return AS(s).replace(/\./g,"")},Zv=function(s){try{return $v.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function SS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xS=()=>SS().__FIREBASE_DEFAULTS__,wS=()=>{if(typeof process>"u"||typeof p_>"u")return;const s=p_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},RS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Zv(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return bS()||xS()||wS()||RS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Jv=s=>fh()?.emulatorHosts?.[s],IS=s=>{const e=Jv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Wv=()=>fh()?.config,eb=s=>fh()?.[`_${s}`];class NS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function oo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(s){return(await fetch(s,{credentials:"include"})).ok}function CS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const xl={};function DS(){const s={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?s.emulator.push(e):s.prod.push(e);return s}function OS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let g_=!1;function nb(s,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||xl[s]===e||xl[s]||g_)return;xl[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=DS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{g_=!0,d()},M}function A(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=OS(r),Q=i("text"),ee=document.getElementById(Q)||document.createElement("span"),ie=i("learnmore"),te=document.getElementById(ie)||document.createElement("a"),be=i("preprendIcon"),Re=document.getElementById(be)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Te=M.element;g(Te),A(te,ie);const tt=y();_(Re,be),Te.append(Re,ee,te,tt),document.body.appendChild(Te)}c?(ee.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function VS(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const s=un();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function PS(){return!VS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zS(){try{return typeof indexedDB=="object"}catch{return!1}}function qS(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const BS="FirebaseError";class gs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=BS,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?HS(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new gs(l,g,r)}}function HS(s,e){return s.replace(FS,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const FS=/\{\$([^}]+)}/g;function GS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function $r(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(y_(c)&&y_(d)){if(!$r(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function y_(s){return s!==null&&typeof s=="object"}function ql(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function QS(s,e){const i=new YS(s,e);return i.subscribe.bind(i)}class YS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");KS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Gd(){}function Yt(s){return s&&s._delegate?s._delegate:s}class Zr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fr="[DEFAULT]";class XS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new NS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZS(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$S(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(s){return s===Fr?void 0:s}function ZS(s){return s.instantiationMode==="EAGER"}class JS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new XS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const WS={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},e2=Be.INFO,t2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},n2=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=t2[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=e2,this._logHandler=n2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const i2=(s,e)=>e.some(i=>s instanceof i);let __,v_;function s2(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r2(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ib=new WeakMap,om=new WeakMap,sb=new WeakMap,Qd=new WeakMap,km=new WeakMap;function a2(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(tr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ib.set(i,s)}).catch(()=>{}),km.set(e,s),e}function o2(s){if(om.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});om.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||sb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return tr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function l2(s){lm=s(lm)}function u2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Yd(this),e,...i);return sb.set(r,e.sort?e.sort():[e]),tr(r)}:r2().includes(s)?function(...e){return s.apply(Yd(this),e),tr(ib.get(this))}:function(...e){return tr(s.apply(Yd(this),e))}}function c2(s){return typeof s=="function"?u2(s):(s instanceof IDBTransaction&&o2(s),i2(s,s2())?new Proxy(s,lm):s)}function tr(s){if(s instanceof IDBRequest)return a2(s);if(Qd.has(s))return Qd.get(s);const e=c2(s);return e!==s&&(Qd.set(s,e),km.set(e,s)),e}const Yd=s=>km.get(s);function h2(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=tr(d);return r&&d.addEventListener("upgradeneeded",_=>{r(tr(d.result),_.oldVersion,_.newVersion,tr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const f2=["get","getKey","getAll","getAllKeys","count"],d2=["put","add","delete","clear"],Kd=new Map;function b_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kd.get(e))return Kd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=d2.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||f2.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Kd.set(e,c),c}l2(s=>({...s,get:(e,i,r)=>b_(e,i)||s.get(e,i,r),has:(e,i)=>!!b_(e,i)||s.has(e,i)}));class m2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(p2(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function p2(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",E_="0.14.6";const hs=new Vm("@firebase/app"),g2="@firebase/app-compat",y2="@firebase/analytics-compat",_2="@firebase/analytics",v2="@firebase/app-check-compat",b2="@firebase/app-check",E2="@firebase/auth",T2="@firebase/auth-compat",A2="@firebase/database",S2="@firebase/data-connect",x2="@firebase/database-compat",w2="@firebase/functions",R2="@firebase/functions-compat",I2="@firebase/installations",N2="@firebase/installations-compat",C2="@firebase/messaging",D2="@firebase/messaging-compat",O2="@firebase/performance",M2="@firebase/performance-compat",V2="@firebase/remote-config",k2="@firebase/remote-config-compat",j2="@firebase/storage",L2="@firebase/storage-compat",U2="@firebase/firestore",P2="@firebase/ai",z2="@firebase/firestore-compat",q2="firebase",B2="12.6.0";const cm="[DEFAULT]",H2={[um]:"fire-core",[g2]:"fire-core-compat",[_2]:"fire-analytics",[y2]:"fire-analytics-compat",[b2]:"fire-app-check",[v2]:"fire-app-check-compat",[E2]:"fire-auth",[T2]:"fire-auth-compat",[A2]:"fire-rtdb",[S2]:"fire-data-connect",[x2]:"fire-rtdb-compat",[w2]:"fire-fn",[R2]:"fire-fn-compat",[I2]:"fire-iid",[N2]:"fire-iid-compat",[C2]:"fire-fcm",[D2]:"fire-fcm-compat",[O2]:"fire-perf",[M2]:"fire-perf-compat",[V2]:"fire-rc",[k2]:"fire-rc-compat",[j2]:"fire-gcs",[L2]:"fire-gcs-compat",[U2]:"fire-fst",[z2]:"fire-fst-compat",[P2]:"fire-vertex","fire-js":"fire-js",[q2]:"fire-js-all"};const Yc=new Map,F2=new Map,hm=new Map;function T_(s,e){try{s.container.addComponent(e)}catch(i){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const e=s.name;if(hm.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,s);for(const i of Yc.values())T_(i,s);for(const i of F2.values())T_(i,s);return!0}function jm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function oi(s){return s==null?!1:s.settings!==void 0}const G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nr=new zl("app","Firebase",G2);class Q2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const lo=B2;function rb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:cm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw nr.create("bad-app-name",{appName:String(l)});if(i||(i=Wv()),!i)throw nr.create("no-options");const c=Yc.get(l);if(c){if($r(i,c.options)&&$r(r,c.config))return c;throw nr.create("duplicate-app",{appName:l})}const d=new JS(l);for(const _ of hm.values())d.addComponent(_);const g=new Q2(i,r,d);return Yc.set(l,g),g}function ab(s=cm){const e=Yc.get(s);if(!e&&s===cm&&Wv())return rb();if(!e)throw nr.create("no-app",{appName:s});return e}function ir(s,e,i){let r=H2[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}Wa(new Zr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Y2="firebase-heartbeat-database",K2=1,Dl="firebase-heartbeat-store";let Xd=null;function ob(){return Xd||(Xd=h2(Y2,K2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(s=>{throw nr.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function X2(s){try{const i=(await ob()).transaction(Dl),r=await i.objectStore(Dl).get(lb(s));return await i.done,r}catch(e){if(e instanceof gs)hs.warn(e.message);else{const i=nr.create("idb-get",{originalErrorMessage:e?.message});hs.warn(i.message)}}}async function A_(s,e){try{const r=(await ob()).transaction(Dl,"readwrite");await r.objectStore(Dl).put(e,lb(s)),await r.done}catch(i){if(i instanceof gs)hs.warn(i.message);else{const r=nr.create("idb-set",{originalErrorMessage:i?.message});hs.warn(r.message)}}}function lb(s){return`${s.name}!${s.options.appId}`}const $2=1024,Z2=30;class J2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ex(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=S_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Z2){const l=tx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=S_(),{heartbeatsToSend:i,unsentEntries:r}=W2(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return hs.warn(e),""}}}function S_(){return new Date().toISOString().substring(0,10)}function W2(s,e=$2){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),x_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),x_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ex{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zS()?qS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await X2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return A_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function x_(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function tx(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function nx(s){Wa(new Zr("platform-logger",e=>new m2(e),"PRIVATE")),Wa(new Zr("heartbeat",e=>new J2(e),"PRIVATE")),ir(um,E_,s),ir(um,E_,"esm2020"),ir("fire-js","")}nx("");var ix="firebase",sx="12.6.0";ir(ix,sx,"app");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,ub;(function(){var s;function e(C,w){function N(){}N.prototype=w.prototype,C.F=w.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(k,R,V){for(var x=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)x[ye-2]=arguments[ye];return w.prototype[R].apply(k,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,N){N||(N=0);const k=Array(16);if(typeof w=="string")for(var R=0;R<16;++R)k[R]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(R=0;R<16;++R)k[R]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=C.g[0],N=C.g[1],R=C.g[2];let V=C.g[3],x;x=w+(V^N&(R^V))+k[0]+3614090360&4294967295,w=N+(x<<7&4294967295|x>>>25),x=V+(R^w&(N^R))+k[1]+3905402710&4294967295,V=w+(x<<12&4294967295|x>>>20),x=R+(N^V&(w^N))+k[2]+606105819&4294967295,R=V+(x<<17&4294967295|x>>>15),x=N+(w^R&(V^w))+k[3]+3250441966&4294967295,N=R+(x<<22&4294967295|x>>>10),x=w+(V^N&(R^V))+k[4]+4118548399&4294967295,w=N+(x<<7&4294967295|x>>>25),x=V+(R^w&(N^R))+k[5]+1200080426&4294967295,V=w+(x<<12&4294967295|x>>>20),x=R+(N^V&(w^N))+k[6]+2821735955&4294967295,R=V+(x<<17&4294967295|x>>>15),x=N+(w^R&(V^w))+k[7]+4249261313&4294967295,N=R+(x<<22&4294967295|x>>>10),x=w+(V^N&(R^V))+k[8]+1770035416&4294967295,w=N+(x<<7&4294967295|x>>>25),x=V+(R^w&(N^R))+k[9]+2336552879&4294967295,V=w+(x<<12&4294967295|x>>>20),x=R+(N^V&(w^N))+k[10]+4294925233&4294967295,R=V+(x<<17&4294967295|x>>>15),x=N+(w^R&(V^w))+k[11]+2304563134&4294967295,N=R+(x<<22&4294967295|x>>>10),x=w+(V^N&(R^V))+k[12]+1804603682&4294967295,w=N+(x<<7&4294967295|x>>>25),x=V+(R^w&(N^R))+k[13]+4254626195&4294967295,V=w+(x<<12&4294967295|x>>>20),x=R+(N^V&(w^N))+k[14]+2792965006&4294967295,R=V+(x<<17&4294967295|x>>>15),x=N+(w^R&(V^w))+k[15]+1236535329&4294967295,N=R+(x<<22&4294967295|x>>>10),x=w+(R^V&(N^R))+k[1]+4129170786&4294967295,w=N+(x<<5&4294967295|x>>>27),x=V+(N^R&(w^N))+k[6]+3225465664&4294967295,V=w+(x<<9&4294967295|x>>>23),x=R+(w^N&(V^w))+k[11]+643717713&4294967295,R=V+(x<<14&4294967295|x>>>18),x=N+(V^w&(R^V))+k[0]+3921069994&4294967295,N=R+(x<<20&4294967295|x>>>12),x=w+(R^V&(N^R))+k[5]+3593408605&4294967295,w=N+(x<<5&4294967295|x>>>27),x=V+(N^R&(w^N))+k[10]+38016083&4294967295,V=w+(x<<9&4294967295|x>>>23),x=R+(w^N&(V^w))+k[15]+3634488961&4294967295,R=V+(x<<14&4294967295|x>>>18),x=N+(V^w&(R^V))+k[4]+3889429448&4294967295,N=R+(x<<20&4294967295|x>>>12),x=w+(R^V&(N^R))+k[9]+568446438&4294967295,w=N+(x<<5&4294967295|x>>>27),x=V+(N^R&(w^N))+k[14]+3275163606&4294967295,V=w+(x<<9&4294967295|x>>>23),x=R+(w^N&(V^w))+k[3]+4107603335&4294967295,R=V+(x<<14&4294967295|x>>>18),x=N+(V^w&(R^V))+k[8]+1163531501&4294967295,N=R+(x<<20&4294967295|x>>>12),x=w+(R^V&(N^R))+k[13]+2850285829&4294967295,w=N+(x<<5&4294967295|x>>>27),x=V+(N^R&(w^N))+k[2]+4243563512&4294967295,V=w+(x<<9&4294967295|x>>>23),x=R+(w^N&(V^w))+k[7]+1735328473&4294967295,R=V+(x<<14&4294967295|x>>>18),x=N+(V^w&(R^V))+k[12]+2368359562&4294967295,N=R+(x<<20&4294967295|x>>>12),x=w+(N^R^V)+k[5]+4294588738&4294967295,w=N+(x<<4&4294967295|x>>>28),x=V+(w^N^R)+k[8]+2272392833&4294967295,V=w+(x<<11&4294967295|x>>>21),x=R+(V^w^N)+k[11]+1839030562&4294967295,R=V+(x<<16&4294967295|x>>>16),x=N+(R^V^w)+k[14]+4259657740&4294967295,N=R+(x<<23&4294967295|x>>>9),x=w+(N^R^V)+k[1]+2763975236&4294967295,w=N+(x<<4&4294967295|x>>>28),x=V+(w^N^R)+k[4]+1272893353&4294967295,V=w+(x<<11&4294967295|x>>>21),x=R+(V^w^N)+k[7]+4139469664&4294967295,R=V+(x<<16&4294967295|x>>>16),x=N+(R^V^w)+k[10]+3200236656&4294967295,N=R+(x<<23&4294967295|x>>>9),x=w+(N^R^V)+k[13]+681279174&4294967295,w=N+(x<<4&4294967295|x>>>28),x=V+(w^N^R)+k[0]+3936430074&4294967295,V=w+(x<<11&4294967295|x>>>21),x=R+(V^w^N)+k[3]+3572445317&4294967295,R=V+(x<<16&4294967295|x>>>16),x=N+(R^V^w)+k[6]+76029189&4294967295,N=R+(x<<23&4294967295|x>>>9),x=w+(N^R^V)+k[9]+3654602809&4294967295,w=N+(x<<4&4294967295|x>>>28),x=V+(w^N^R)+k[12]+3873151461&4294967295,V=w+(x<<11&4294967295|x>>>21),x=R+(V^w^N)+k[15]+530742520&4294967295,R=V+(x<<16&4294967295|x>>>16),x=N+(R^V^w)+k[2]+3299628645&4294967295,N=R+(x<<23&4294967295|x>>>9),x=w+(R^(N|~V))+k[0]+4096336452&4294967295,w=N+(x<<6&4294967295|x>>>26),x=V+(N^(w|~R))+k[7]+1126891415&4294967295,V=w+(x<<10&4294967295|x>>>22),x=R+(w^(V|~N))+k[14]+2878612391&4294967295,R=V+(x<<15&4294967295|x>>>17),x=N+(V^(R|~w))+k[5]+4237533241&4294967295,N=R+(x<<21&4294967295|x>>>11),x=w+(R^(N|~V))+k[12]+1700485571&4294967295,w=N+(x<<6&4294967295|x>>>26),x=V+(N^(w|~R))+k[3]+2399980690&4294967295,V=w+(x<<10&4294967295|x>>>22),x=R+(w^(V|~N))+k[10]+4293915773&4294967295,R=V+(x<<15&4294967295|x>>>17),x=N+(V^(R|~w))+k[1]+2240044497&4294967295,N=R+(x<<21&4294967295|x>>>11),x=w+(R^(N|~V))+k[8]+1873313359&4294967295,w=N+(x<<6&4294967295|x>>>26),x=V+(N^(w|~R))+k[15]+4264355552&4294967295,V=w+(x<<10&4294967295|x>>>22),x=R+(w^(V|~N))+k[6]+2734768916&4294967295,R=V+(x<<15&4294967295|x>>>17),x=N+(V^(R|~w))+k[13]+1309151649&4294967295,N=R+(x<<21&4294967295|x>>>11),x=w+(R^(N|~V))+k[4]+4149444226&4294967295,w=N+(x<<6&4294967295|x>>>26),x=V+(N^(w|~R))+k[11]+3174756917&4294967295,V=w+(x<<10&4294967295|x>>>22),x=R+(w^(V|~N))+k[2]+718787259&4294967295,R=V+(x<<15&4294967295|x>>>17),x=N+(V^(R|~w))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const N=w-this.blockSize,k=this.C;let R=this.h,V=0;for(;V<w;){if(R==0)for(;V<=N;)l(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(k[R++]=C.charCodeAt(V++),R==this.blockSize){l(this,k),R=0;break}}else for(;V<w;)if(k[R++]=C[V++],R==this.blockSize){l(this,k),R=0;break}}this.h=R,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)C[w++]=this.g[N]>>>k&255;return C};function c(C,w){var N=g;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=w(C)}function d(C,w){this.h=w;const N=[];let k=!0;for(let R=C.length-1;R>=0;R--){const V=C[R]|0;k&&V==w||(N[R]=V,k=!1)}this.g=N}var g={};function _(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return te(y(-C));const w=[];let N=1;for(let k=0;C>=N;k++)w[k]=C/N|0,N*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return te(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(w,8));let k=S;for(let V=0;V<C.length;V+=8){var R=Math.min(8,C.length-V);const x=parseInt(C.substring(V,V+R),w);R<8?(R=y(Math.pow(w,R)),k=k.j(R).add(y(x))):(k=k.j(N),k=k.add(y(x)))}return k}var S=_(0),M=_(1),Q=_(16777216);s=d.prototype,s.m=function(){if(ie(this))return-te(this).m();let C=0,w=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);C+=(k>=0?k:4294967296+k)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ee(this))return"0";if(ie(this))return"-"+te(this).toString(C);const w=y(Math.pow(C,6));var N=this;let k="";for(;;){const R=tt(N,w).g;N=be(N,R.j(w));let V=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=R,ee(N))return V+k;for(;V.length<6;)V="0"+V;k=V+k}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ee(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function ie(C){return C.h==-1}s.l=function(C){return C=be(this,C),ie(C)?-1:ee(C)?0:1};function te(C){const w=C.g.length,N=[];for(let k=0;k<w;k++)N[k]=~C.g[k];return new d(N,~C.h).add(M)}s.abs=function(){return ie(this)?te(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),N=[];let k=0;for(let R=0;R<=w;R++){let V=k+(this.i(R)&65535)+(C.i(R)&65535),x=(V>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);k=x>>>16,V&=65535,x&=65535,N[R]=x<<16|V}return new d(N,N[N.length-1]&-2147483648?-1:0)};function be(C,w){return C.add(te(w))}s.j=function(C){if(ee(this)||ee(C))return S;if(ie(this))return ie(C)?te(this).j(te(C)):te(te(this).j(C));if(ie(C))return te(this.j(te(C)));if(this.l(Q)<0&&C.l(Q)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,N=[];for(var k=0;k<2*w;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let R=0;R<C.g.length;R++){const V=this.i(k)>>>16,x=this.i(k)&65535,ye=C.i(R)>>>16,ke=C.i(R)&65535;N[2*k+2*R]+=x*ke,Re(N,2*k+2*R),N[2*k+2*R+1]+=V*ke,Re(N,2*k+2*R+1),N[2*k+2*R+1]+=x*ye,Re(N,2*k+2*R+1),N[2*k+2*R+2]+=V*ye,Re(N,2*k+2*R+2)}for(C=0;C<w;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=w;C<2*w;C++)N[C]=0;return new d(N,0)};function Re(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Te(C,w){this.g=C,this.h=w}function tt(C,w){if(ee(w))throw Error("division by zero");if(ee(C))return new Te(S,S);if(ie(C))return w=tt(te(C),w),new Te(te(w.g),te(w.h));if(ie(w))return w=tt(C,te(w)),new Te(te(w.g),w.h);if(C.g.length>30){if(ie(C)||ie(w))throw Error("slowDivide_ only works with positive integers.");for(var N=M,k=w;k.l(C)<=0;)N=ht(N),k=ht(k);var R=Ge(N,1),V=Ge(k,1);for(k=Ge(k,2),N=Ge(N,2);!ee(k);){var x=V.add(k);x.l(C)<=0&&(R=R.add(N),V=x),k=Ge(k,1),N=Ge(N,1)}return w=be(C,R.j(w)),new Te(R,w)}for(R=S;C.l(w)>=0;){for(N=Math.max(1,Math.floor(C.m()/w.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),V=y(N),x=V.j(w);ie(x)||x.l(C)>0;)N-=k,V=y(N),x=V.j(w);ee(V)&&(V=M),R=R.add(V),C=be(C,x)}return new Te(R,C)}s.B=function(C){return tt(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let k=0;k<w;k++)N[k]=this.i(k)&C.i(k);return new d(N,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let k=0;k<w;k++)N[k]=this.i(k)|C.i(k);return new d(N,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),N=[];for(let k=0;k<w;k++)N[k]=this.i(k)^C.i(k);return new d(N,this.h^C.h)};function ht(C){const w=C.g.length+1,N=[];for(let k=0;k<w;k++)N[k]=C.i(k)<<1|C.i(k-1)>>>31;return new d(N,C.h)}function Ge(C,w){const N=w>>5;w%=32;const k=C.g.length-N,R=[];for(let V=0;V<k;V++)R[V]=w>0?C.i(V+N)>>>w|C.i(V+N+1)<<32-w:C.i(V+N);return new d(R,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ub=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,sr=d}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cb,bl,hb,jc,fm,fb,db,mb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break e;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var se=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)se[Oe-2]=arguments[Oe];return m.prototype[L].apply(T,se)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function ee(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let se=0;se<B;se++)u[v+se]=L[se]}else u.push(L)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function be(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,v){const T=Te.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new ie(()=>new tt,u=>u.reset());class tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,Ge=!1,C=new Re,w=()=>{const u=Promise.resolve(void 0);ht=()=>{u.then(N)}};function N(){for(var u;u=be();){try{u.h.call(u.g)}catch(v){te(v)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ge=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ye(u,m){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ye,R),ye.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),U=0;function Z(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++U,this.da=this.fa=!1}function J(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function de(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<F.length;B++)v=F[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const se=fe(u,m,T,L);return se>-1?(m=u[se],v||(m.fa=!1)):(m=new Z(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function oe(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(J(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function fe(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),$e={};function ae(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ae(u,m[B],v,T,L);return null}return v=Kn(v),u&&u[ke]?u.J(m,v,g(T)?!!T.capture:!1,L):re(u,m,v,!1,T,L)}function re(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const se=g(L)?!!L.capture:!!L;let Oe=nt(u);if(Oe||(u[Se]=Oe=new ne(u)),v=Oe.add(m,v,T,se,B),v.proxy)return v;if(T=ce(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)V||(L=se),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Pe(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ce(){function u(v){return m.call(u.src,u.listener,v)}const m=Qe;return u}function ge(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ge(u,m[B],v,T,L);else T=g(T)?!!T.capture:!!T,v=Kn(v),u&&u[ke]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=fe(m,v,T,L),v>-1&&(J(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=nt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=fe(m,v,T,L)),(v=u>-1?m[u]:null)&&Ie(v))}function Ie(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ke])oe(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Pe(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=nt(m))?(oe(v,u),v.h==0&&(v.src=null,m[Se]=null)):J(u)}}}function Pe(u){return u in $e?$e[u]:$e[u]="on"+u}function Qe(u,m){if(u.da)u=!0;else{m=new ye(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Ie(u),u=v.call(T,m)}return u}function nt(u){return u=u[Se],u instanceof ne?u:null}var hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kn(u){return typeof u=="function"?u:(u[hi]||(u[hi]=function(m){return u.handleEvent(m)}),u[hi])}function It(){k.call(this),this.i=new ne(this),this.M=this,this.G=null}S(It,k),It.prototype[ke]=!0,It.prototype.removeEventListener=function(u,m,v,T){ge(this,u,m,v,T)};function zt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new R(m,u);else if(m instanceof R)m.target=m.target||u;else{var L=m;m=new R(T,u),W(m,L)}L=!0;let B,se;if(v)for(se=v.length-1;se>=0;se--)B=m.g=v[se],L=ys(B,T,!0,m)&&L;if(B=m.g=u,L=ys(B,T,!0,m)&&L,L=ys(B,T,!1,m)&&L,v)for(se=0;se<v.length;se++)B=m.g=v[se],L=ys(B,T,!1,m)&&L}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)J(v[T]);delete u.g[m],u.h--}}this.G=null},It.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},It.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ys(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const se=m[B];if(se&&!se.da&&se.capture==v){const Oe=se.listener,St=se.ha||se.src;se.fa&&oe(u.i,se),L=Oe.call(St,T)!==!1&&L}}return L&&!T.defaultPrevented}function Lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jl(u){u.g=Lh(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class cn extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){k.call(this),this.h=u,this.g={}}S(pr,k);var go=[];function yo(u){pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ie(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),yo(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Uh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function tu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){R.call(this,"d")}S(Kt,R);function Mn(){R.call(this,"c")}S(Mn,R);var At={},nu=null;function ia(){return nu=nu||new It}At.Ia="serverreachability";function iu(u){R.call(this,At.Ia,u)}S(iu,R);function fi(u){const m=ia();zt(m,new iu(m))}At.STAT_EVENT="statevent";function gr(u,m){R.call(this,At.STAT_EVENT,u),this.stat=m}S(gr,R);function Nt(u){const m=ia();zt(m,new gr(m,u))}At.Ja="timingevent";function di(u,m){R.call(this,At.Ja,u),this.size=m}S(di,R);function mi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Ph(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var se="",Oe=B.split("&");for(let We=0;We<Oe.length;We++){var St=Oe[We].split("=");if(St.length>1){const yt=St[0];St=St[1];const Ln=yt.split("_");se=Ln.length>=2&&Ln[1]=="type"?se+(yt+"="+St+"&"):se+(yt+"=redacted&")}}}else se=null;else se=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function su(u,m,v,T,L,B,se){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+se})}function pi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(T?" "+T:"")})}function yr(u,m){u.info(function(){return"TIMEOUT: "+m})}$n.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<T.length;se++)T[se]=""}}}}return _s(B)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function vr(){}S(vr,eu),vr.prototype.g=function(){return new XMLHttpRequest},vo=new vr;function Bi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ct={},Ht={};function gi(u,m,v){u.M=1,u.A=br(Ot(m)),u.u=v,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),yi(u),u.B=Ot(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),la(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Jn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new cn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(go[0]=L.toString()),L=go);for(let B=0;B<L.length;B++){const se=ae(v,L[B],T||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),fi(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=ti(this.g),St=this.g.ya(),We=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Oe!=4||St==7||(St==8||We<=0?fi(3):fi(2)),_i(this);var m=this.g.ca();this.X=m;var v=qh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break t}}B=null}if(u=B)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,u);else{this.o=!1,this.m=3,Nt(12),An(this),Vn(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=ou(this,v),yt==Ht){Oe==4&&(this.m=4,Nt(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ct){this.m=4,Nt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,yt,null),vi(this,yt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,Nt(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(se),se.P=!0,Nt(11))}}else pi(this.i,this.l,v,null),vi(this,v);Oe==4&&An(this),this.o&&!this.K&&(Oe==4?gu(this.j,this):(this.o=!1,yi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),An(this),Vn(this)}}}catch{}finally{}};function qh(u){if(!au(u))return u.g.la();const m=Xt(u.g);if(m==="")return"";let v="";const T=m.length,L=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ht:(v=Number(m.substring(v,T)),isNaN(v)?Ct:(T+=1,T+v>m.length?Ht:(m=m.slice(T,T+v),u.C=T+v,m)))}Zn.prototype.cancel=function(){this.K=!0,An(this)};function yi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=mi(y(u.aa,u),m)}function _i(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yr(this.i,this.B),this.M!=2&&(fi(),Nt(17)),An(this),this.m=2,Vn(this)):ra(this,this.T-u)};function Vn(u){u.j.I==0||u.K||gu(u.j,u)}function An(u){_i(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function vi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)da(v),ws(v);else break e;Rr(v),Nt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(y(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&da(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let We=L[m];const yt=We[0];if(!(yt<=v.K))if(v.K=yt,We=We[1],v.I==2)if(We[0]=="c"){v.M=We[1],v.ba=We[2];const Ln=We[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ii=We[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ni=We[5];ni!=null&&typeof ni=="number"&&ni>0&&(T=1.5*ni,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ii=u.g;if(ii){const Ir=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var B=T.h;B.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(T.G){const ma=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(T.wa=ma,st(T.J,T.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var se=u;if(T.na=vu(T,T.L?T.ba:null,T.W),se.L){Ao(T.h,se);var Oe=se,St=T.O;St&&(Oe.H=St),Oe.D&&(_i(Oe),yi(Oe)),T.g=se}else mu(T);v.i.length>0&&wi(v)}else We[0]!="stop"&&We[0]!="close"||Ri(v,7);else v.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ri(v,7):Oo(v):We[0]!="noop"&&v.l&&v.l.qa(We),v.A=0)}}fi(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Sn?(this.l=u.l,Ft(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,xo(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Ft(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),vs(this,m[4]),this.h=Ti(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}Sn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,oa,!0),"@"),u.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?wo:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,cu)),u.join("")},Sn.prototype.resolve=function(u){const m=Ot(this);let v=!!u.j;v?Ft(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let se=0;se<L.length;){const Oe=L[se++];Oe=="."?T&&se==L.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&se==L.length&&B.push("")):(B.push(Oe),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?xo(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ot(u){return new Sn(u)}function Ft(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,v){m instanceof Es?(u.i=m,ua(u.i,u.l)):(v||(m=Er(m,bs)),u.i=new Es(m,u.l))}function st(u,m,v){u.i.set(m,v)}function br(u){return st(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,uu=/[#\?:]/g,wo=/[#\?]/g,bs=/[#\?@]/g,cu=/#/g;function Es(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Es.prototype,s.add=function(u,m){mn(this),this.i=null,u=Ts(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){mn(u),m=Ts(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return mn(u),m=Ts(u,m),u.g.has(m)}s.forEach=function(u,m){mn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Io(u,m){mn(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(Ts(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return mn(this),this.i=null,u=Ts(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function la(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(Ts(u,m),Q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Bi(v);v=Io(this,v);for(let B=0;B<v.length;B++){let se=L;v[B]!==""&&(se+="="+Bi(v[B])),u.push(se)}}return this.i=u.join("&")};function fu(u){const m=new Es;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ts(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(hu(this,T),la(this,L,v))},u)),u.j=m}function Wn(u,m){const v=new $n;if(d.Image){const T=new Image;T.onload=A(kn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(kn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(kn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(kn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function No(u,m){const v=new $n,T=new AbortController,L=setTimeout(()=>{T.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function As(){this.g=new Wl}function Ai(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ai,eu),Ai.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){It.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,It),s=Tr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):ei(this),this.readyState==3&&ca(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},s.Na=function(u){this.g&&(this.response=u,Ss(this))},s.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return pe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=jn(v),typeof u=="string"?v!=null&&Bi(v):st(u,m,v))}function ot(u){It.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ot,It);var Si=/^https?$/i,Co=["POST","PUT"];s=ot.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Sr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,se]of v)this.g.setRequestHeader(B,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Sr(this,B)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Do(u),Hi(u)}function Do(u){u.A||(u.A=!0,zt(u,"complete"),zt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,zt(this,"complete"),zt(this,"abort"),Hi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},s.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(zt(u,"readystatechange"),ti(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let se=String(u.D).match(lu)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),T=!Si.test(se?se.toLowerCase():"")}v=T}if(v)zt(u,"complete"),zt(u,"success");else{u.o=6;try{var L=ti(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Do(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||zt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Uh(m)}};function Xt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var v=ru(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}de(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function xs(u){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=xs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Nt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),wi(this)};function Oo(u){if(ha(u),u.I==3){var m=u.V++,v=Ot(u.J);if(st(v,"SID",u.M),st(v,"RID",m),st(v,"TYPE","terminate"),wr(u,v),m=new Zn(u,u.j,m),m.M=2,m.A=br(Ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),yi(m)}_u(u)}function ws(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function ha(u){ws(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ht||w(),Ge||(ht(),Ge=!0),C.add(m,u),u.D=0}}function fa(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=mi(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=du(this,L,m),v=Ot(this.J),st(v,"RID",u),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),wr(this,v),B&&(this.R?m="headers="+Bi(jn(B))+"&"+m:this.u&&Ar(v,this.u,B)),To(this.h,L),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",m),st(v,"SID","null"),L.U=!0,gi(L,v,null)):gi(L,v,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||Eo(this.h)||Mo(this))};function Mo(u,m){var v;m?v=m.l:v=u.V++;const T=Ot(u.J);st(T,"SID",u.M),st(T,"RID",v),st(T,"AID",u.K),wr(u,T),u.u&&u.o&&Ar(T,u.u,u.o),v=new Zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),gi(v,T,m)}function wr(u,m){u.H&&pe(u.H,function(v,T){st(m,T,v)}),u.l&&pe({},function(v,T){st(m,T,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let Oe=-1;for(;;){const St=["count="+v];Oe==-1?v>0?(Oe=L[0].g,St.push("ofs="+Oe)):Oe=0:St.push("ofs="+Oe);let We=!0;for(let yt=0;yt<v;yt++){var B=L[yt].g;const Ln=L[yt].map;if(B-=Oe,B<0)Oe=Math.max(0,L[yt].g-100),We=!1;else try{B="req"+B+"_"||"";try{var se=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ii,ni]of se){let ii=ni;g(ni)&&(ii=_s(ni)),St.push(B+Ii+"="+encodeURIComponent(ii))}}catch(Ii){throw St.push(B+"type="+encodeURIComponent("_badmap")),Ii}}catch{T&&T(Ln)}}if(We){se=St.join("&");break e}}se=void 0}return u=u.i.splice(0,v),m.G=u,se}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ht||w(),Ge||(ht(),Ge=!0),C.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=mi(y(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=mi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),ws(this),pu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);st(m,"RID","rpc"),st(m,"SID",u.M),st(m,"AID",u.K),st(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&st(m,"TO",u.ia),st(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=br(Ot(m)),v.u=null,v.R=!0,sa(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Rr(this),Nt(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){da(u),Vo(u),u.g=null;var T=2}else if(Ei(u.h,m))v=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ia(),zt(T,new di(T,v)),wi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&fa(u,m)||T==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new Sn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ft(T,"https"),br(T),L?Wn(T.toString(),v):No(T.toString(),v)}else Nt(2);u.I=0,u.l&&u.l.pa(m),_u(u),ha(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var T=v instanceof Sn?Ot(v):new Sn(v);if(T.g!="")m&&(T.g=m+"."+T.g),vs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Sn(null);T&&Ft(B,T),m&&(B.g=m),L&&vs(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&st(T,v,m),st(T,"VER",u.ka),wr(u,T),T}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ot(new Ai({ab:v})):new ot(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){It.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}S(hn,It),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Oo(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new Dt(m.Ya++,u)),m.I==3&&wi(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,hn.Z.N.call(this)};function Tu(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Tu,Kt);function Au(){Mn.call(this),this.status=1}S(Au,Mn);function Gi(u){this.g=u}S(Gi,Eu),Gi.prototype.ra=function(){zt(this.g,"a")},Gi.prototype.qa=function(u){zt(this.g,new Tu(u))},Gi.prototype.pa=function(u){zt(this.g,new Au)},Gi.prototype.oa=function(){zt(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,mb=function(){return new Rs},db=function(){return ia()},fb=At,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,jc=_r,_o.COMPLETE="complete",hb=_o,tu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",It.prototype.listen=It.prototype.J,bl=tu,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,cb=ot}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",I_="4.9.2";class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let uo="12.3.0";const Jr=new Vm("@firebase/firestore");function Ga(){return Jr.logLevel}function ue(s,...e){if(Jr.logLevel<=Be.DEBUG){const i=e.map(Lm);Jr.debug(`Firestore (${uo}): ${s}`,...i)}}function fs(s,...e){if(Jr.logLevel<=Be.ERROR){const i=e.map(Lm);Jr.error(`Firestore (${uo}): ${s}`,...i)}}function eo(s,...e){if(Jr.logLevel<=Be.WARN){const i=e.map(Lm);Jr.warn(`Firestore (${uo}): ${s}`,...i)}}function Lm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,pb(s,r,i)}function pb(s,e,i){let r=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fs(r),new Error(r)}function it(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||pb(e,l,r)}function Ce(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class gb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ox{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){it(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new gb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class lx{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ux{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new lx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){it(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(it(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=hx(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function He(s,e){return s<e?-1:s>e?1:0}function dm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return $d(l)===$d(c)?He(l,c):$d(l)?1:-1}return He(s.length,e.length)}const fx=55296,dx=57343;function $d(s){const e=s.charCodeAt(0);return e>=fx&&e<=dx}function to(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const C_="__name__";class Vi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Vi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return He(e.length,i.length)}static compareSegments(e,i){const r=Vi.isNumericId(e),l=Vi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Vi.extractNumericId(e).compare(Vi.extractNumericId(i)):dm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class dt extends Vi{construct(e,i,r){return new dt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const mx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Vi{construct(e,i,r){return new nn(e,i,r)}static isValidIdentifier(e){return mx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new nn([C_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(i)}static emptyPath(){return new nn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(dt.fromString(e))}static fromName(e){return new ve(dt.fromString(e).popFirst(5))}static empty(){return new ve(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new dt(e.slice()))}}function yb(s,e,i){if(!i)throw new le(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function px(s,e,i,r){if(e===!0&&r===!0)throw new le(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function D_(s){if(!ve.isDocumentKey(s))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function O_(s){if(ve.isDocumentKey(s))throw new le(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _b(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Tn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(s);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Pt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Bl(s,e){if(!_b(s))throw new le(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new le(K.INVALID_ARGUMENT,i);return!0}const M_=-62135596800,V_=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*V_);return new gt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<M_)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bl(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Pt("string",gt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new gt(0,0))}static max(){return new we(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function gx(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new gt(i+1,0):new gt(i,r));return new ar(l,ve.empty(),e)}function yx(s){return new ar(s.readTime,s.key,Ol)}class ar{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ar(we.min(),ve.empty(),Ol)}static max(){return new ar(we.max(),ve.empty(),Ol)}}function _x(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(s.documentKey,e.documentKey),i!==0?i:He(s.largestBatchId,e.largestBatchId))}const vx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function co(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==vx)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((A=>{d[y]=A,++g,g===c&&r(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new $(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function Ex(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const Pm=-1;function ph(s){return s==null}function Kc(s){return s===0&&1/s==-1/0}function Tx(s){return typeof s=="number"&&Number.isInteger(s)&&!Kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const vb="";function Ax(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=k_(e)),e=Sx(s.get(i),e);return k_(e)}function Sx(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case vb:i+="";break;default:i+=c}}return i}function k_(s){return s+vb+""}function j_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function fr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function bb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||en.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??en.RED,this.left=l??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new en(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return en.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new en(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Bt(this.comparator);return i.data=e,i}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new On([])}unionWith(e){let i=new Bt(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Eb("Invalid base64 string: "+c):c}})(e);return new sn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new sn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const xx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(s){if(it(!!s,39018),typeof s=="string"){let e=0;const i=xx.exec(s);if(it(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function lr(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}const Tb="server_timestamp",Ab="__type__",Sb="__previous_value__",xb="__local_write_time__";function zm(s){return(s?.mapValue?.fields||{})[Ab]?.stringValue===Tb}function gh(s){const e=s.mapValue.fields[Sb];return zm(e)?gh(e):e}function Ml(s){const e=or(s.mapValue.fields[xb].timestampValue);return new gt(e.seconds,e.nanos)}class wx{constructor(e,i,r,l,c,d,g,_,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Xc="(default)";class Vl{constructor(e,i){this.projectId=e,this.database=i||Xc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}const wb="__type__",Rx="__max__",Cc={mapValue:{}},Rb="__vector__",$c="value";function ur(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zm(s)?4:Nx(s)?9007199254740991:Ix(s)?10:11:Ae(28295,{value:s})}function zi(s,e){if(s===e)return!0;const i=ur(s);if(i!==ur(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ml(s).isEqual(Ml(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=or(l.timestampValue),g=or(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return lr(l.bytesValue).isEqual(lr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Rt(l.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(l.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Rt(l.integerValue)===Rt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Rt(l.doubleValue),g=Rt(c.doubleValue);return d===g?Kc(d)===Kc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return to(s.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(j_(d)!==j_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!zi(d[_],g[_])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function kl(s,e){return(s.values||[]).find((i=>zi(i,e)))!==void 0}function no(s,e){if(s===e)return 0;const i=ur(s),r=ur(e);if(i!==r)return He(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return He(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Rt(c.integerValue||c.doubleValue),_=Rt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return U_(s.timestampValue,e.timestampValue);case 4:return U_(Ml(s),Ml(e));case 5:return dm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=lr(c),_=lr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=He(g[y],_[y]);if(A!==0)return A}return He(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=He(Rt(c.latitude),Rt(d.latitude));return g!==0?g:He(Rt(c.longitude),Rt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return P_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[$c]?.arrayValue,A=_[$c]?.arrayValue,S=He(y?.values?.length||0,A?.values?.length||0);return S!==0?S:P_(y,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const M=dm(_[S],A[S]);if(M!==0)return M;const Q=no(g[_[S]],y[A[S]]);if(Q!==0)return Q}return He(_.length,A.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function U_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return He(s,e);const i=or(s),r=or(e),l=He(i.seconds,r.seconds);return l!==0?l:He(i.nanos,r.nanos)}function P_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=no(i[l],r[l]);if(c)return c}return He(i.length,r.length)}function io(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=or(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return lr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ve.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=mm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Lc(s){switch(ur(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(s);return e?16+Lc(e):16;case 5:return 2*s.stringValue.length;case 6:return lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return fr(r.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function z_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function pm(s){return!!s&&"integerValue"in s}function qm(s){return!!s&&"arrayValue"in s}function q_(s){return!!s&&"nullValue"in s}function B_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function Ix(s){return(s?.mapValue?.fields||{})[wb]?.stringValue===Rb}function wl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return fr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=wl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=wl(s.arrayValue.values[i]);return e}return{...s}}function Nx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Rx}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(i)}setAll(e){let i=nn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=wl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){fr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new En(wl(this.value))}}function Ib(s){const e=[];return fr(s.fields,((i,r)=>{const l=new nn([i]);if(Uc(r)){const c=Ib(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new On(e)}class ln{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new ln(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,i,r,l){return new ln(e,1,i,we.min(),r,l,0)}static newNoDocument(e,i){return new ln(e,2,i,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,i){return new ln(e,3,i,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(e,i){this.position=e,this.inclusive=i}}function H_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ve.comparator(ve.fromName(d.referenceValue),i.key):r=no(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function F_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!zi(s.position[i],e.position[i]))return!1;return!0}class jl{constructor(e,i="asc"){this.field=e,this.dir=i}}function Cx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Nb{}class Ut extends Nb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Ox(e,i,r):i==="array-contains"?new kx(e,r):i==="in"?new jx(e,r):i==="not-in"?new Lx(e,r):i==="array-contains-any"?new Ux(e,r):new Ut(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Mx(e,r):new Vx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends Nb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ci(e,i)}matches(e){return Cb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cb(s){return s.op==="and"}function Db(s){return Dx(s)&&Cb(s)}function Dx(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function gm(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+io(s.value);if(Db(s))return s.filters.map((e=>gm(e))).join(",");{const e=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${e})`}}function Ob(s,e){return s instanceof Ut?(function(r,l){return l instanceof Ut&&r.op===l.op&&r.field.isEqual(l.field)&&zi(r.value,l.value)})(s,e):s instanceof ci?(function(r,l){return l instanceof ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&Ob(d,l.filters[g])),!0):!1})(s,e):void Ae(19439)}function Mb(s){return s instanceof Ut?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(s):s instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(Mb).join(" ,")+"}"})(s):"Filter"}class Ox extends Ut{constructor(e,i,r){super(e,i,r),this.key=ve.fromName(r.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class Mx extends Ut{constructor(e,i){super(e,"in",i),this.keys=Vb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Vx extends Ut{constructor(e,i){super(e,"not-in",i),this.keys=Vb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Vb(s,e){return(e.arrayValue?.values||[]).map((i=>ve.fromName(i.referenceValue)))}class kx extends Ut{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&kl(i.arrayValue,this.value)}}class jx extends Ut{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class Lx extends Ut{constructor(e,i){super(e,"not-in",i)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class Ux extends Ut{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>kl(this.value.arrayValue,r)))}}class Px{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function G_(s,e=null,i=[],r=[],l=null,c=null,d=null){return new Px(s,e,i,r,l,c,d)}function Bm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>gm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>io(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>io(r))).join(",")),e.Te=i}return e.Te}function Hm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Cx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Ob(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!F_(s.startAt,e.startAt)&&F_(s.endAt,e.endAt)}function ym(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class fo{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zx(s,e,i,r,l,c,d,g){return new fo(s,e,i,r,l,c,d,g)}function yh(s){return new fo(s)}function Q_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function kb(s){return s.collectionGroup!==null}function Rl(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Bt(nn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new jl(c,r))})),i.has(nn.keyField().canonicalString())||e.Ie.push(new jl(nn.keyField(),r))}return e.Ie}function ki(s){const e=Ce(s);return e.Ee||(e.Ee=qx(e,Rl(s))),e.Ee}function qx(s,e){if(s.limitType==="F")return G_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new jl(l.field,c)}));const i=s.endAt?new Zc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Zc(s.startAt.position,s.startAt.inclusive):null;return G_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function _m(s,e){const i=s.filters.concat([e]);return new fo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function vm(s,e,i){return new fo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function _h(s,e){return Hm(ki(s),ki(e))&&s.limitType===e.limitType}function jb(s){return`${Bm(ki(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>Mb(l))).join(", ")}]`),ph(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${r})`})(ki(s))}; limitType=${s.limitType})`}function vh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ve.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Rl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=H_(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Rl(r),l)||r.endAt&&!(function(d,g,_){const y=H_(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Rl(r),l))})(s,e)}function Bx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Lb(s){return(e,i)=>{let r=!1;for(const l of Rl(s)){const c=Hx(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Hx(s,e,i){const r=s.field.isKeyField()?ve.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?no(_,y):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class ta{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){fr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}const Fx=new vt(ve.comparator);function ds(){return Fx}const Ub=new vt(ve.comparator);function El(...s){let e=Ub;for(const i of s)e=e.insert(i.key,i);return e}function Pb(s){let e=Ub;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Gr(){return Il()}function zb(){return Il()}function Il(){return new ta((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Gx=new vt(ve.comparator),Qx=new Bt(ve.comparator);function Fe(...s){let e=Qx;for(const i of s)e=e.add(i);return e}const Yx=new Bt(He);function Kx(){return Yx}function Fm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function qb(s){return{integerValue:""+s}}function Xx(s,e){return Tx(e)?qb(e):Fm(s,e)}class bh{constructor(){this._=void 0}}function $x(s,e,i){return s instanceof Jc?(function(l,c){const d={fields:{[Ab]:{stringValue:Tb},[xb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zm(c)&&(c=gh(c)),c&&(d.fields[Sb]=c),{mapValue:d}})(i,e):s instanceof Ll?Hb(s,e):s instanceof Ul?Fb(s,e):(function(l,c){const d=Bb(l,c),g=Y_(d)+Y_(l.Ae);return pm(d)&&pm(l.Ae)?qb(g):Fm(l.serializer,g)})(s,e)}function Zx(s,e,i){return s instanceof Ll?Hb(s,e):s instanceof Ul?Fb(s,e):i}function Bb(s,e){return s instanceof Wc?(function(r){return pm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Jc extends bh{}class Ll extends bh{constructor(e){super(),this.elements=e}}function Hb(s,e){const i=Gb(e);for(const r of s.elements)i.some((l=>zi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ul extends bh{constructor(e){super(),this.elements=e}}function Fb(s,e){let i=Gb(e);for(const r of s.elements)i=i.filter((l=>!zi(l,r)));return{arrayValue:{values:i}}}class Wc extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Y_(s){return Rt(s.integerValue||s.doubleValue)}function Gb(s){return qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Jx(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Ll&&l instanceof Ll||r instanceof Ul&&l instanceof Ul?to(r.elements,l.elements,zi):r instanceof Wc&&l instanceof Wc?zi(r.Ae,l.Ae):r instanceof Jc&&l instanceof Jc})(s.transform,e.transform)}class Wx{constructor(e,i){this.version=e,this.transformResults=i}}class Yn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Eh{}function Qb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Gm(s.key,Yn.none()):new Hl(s.key,s.data,Yn.none());{const i=s.data,r=En.empty();let l=new Bt(nn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new dr(s.key,r,new On(l.toArray()),Yn.none())}}function ew(s,e,i){s instanceof Hl?(function(l,c,d){const g=l.value.clone(),_=X_(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof dr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=X_(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(Yb(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Nl(s,e,i,r){return s instanceof Hl?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),A=$_(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,r):s instanceof dr?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=$_(c.fieldTransforms,_,d),A=d.data;return A.setAll(Yb(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function tw(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=Bb(r.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(r.field,c))}return i||null}function K_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&to(r,l,((c,d)=>Jx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Hl extends Eh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class dr extends Eh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Yb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function X_(s,e,i){const r=new Map;it(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,Zx(d,g,i[l]))}return r}function $_(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,$x(c,d,e))}return r}class Gm extends Eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nw extends Eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iw{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&ew(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Nl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Nl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=zb();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=Qb(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,((i,r)=>K_(i,r)))&&to(this.baseMutations,e.baseMutations,((i,r)=>K_(i,r)))}}class Qm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Gx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Qm(e,i,r,l)}}class sw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Xe;function aw(s){switch(s){case K.OK:return Ae(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function Kb(s){if(s===void 0)return fs("GRPC error has no .code"),K.UNKNOWN;switch(s){case Lt.OK:return K.OK;case Lt.CANCELLED:return K.CANCELLED;case Lt.UNKNOWN:return K.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return K.INTERNAL;case Lt.UNAVAILABLE:return K.UNAVAILABLE;case Lt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Lt.NOT_FOUND:return K.NOT_FOUND;case Lt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Lt.ABORTED:return K.ABORTED;case Lt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Lt.DATA_LOSS:return K.DATA_LOSS;default:return Ae(39323,{code:s})}}(Xe=Lt||(Lt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function ow(){return new TextEncoder}const lw=new sr([4294967295,4294967295],0);function Z_(s){const e=ow().encode(s),i=new ub;return i.update(e),new Uint8Array(i.digest())}function J_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new sr([i,r],0),new sr([l,c],0)]}class Ym{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=sr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(sr.fromNumber(r)));return l.compare(lw)===1&&(l=new sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Z_(e),[r,l]=J_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ym(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Z_(e),[r,l]=J_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Th(we.min(),l,new vt(He),ds(),Fe())}}class Fl{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Fl(r,i,Fe(),Fe(),Fe())}}class zc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class Xb{constructor(e,i){this.targetId=e,this.Ce=i}}class $b{constructor(e,i,r=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class W_{constructor(){this.ve=0,this.Fe=ev(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),r=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:c})}})),new Fl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=ev()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uw{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=Dc(),this.He=Dc(),this.Ye=new vt(He)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(r===0){const d=new ve(c.path);this.et(i,d,ln.newNoDocument(d,we.min()))}else it(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=lr(r).toUint8Array()}catch(_){if(_ instanceof Eb)return eo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Ym(d,l,c)}catch(_){return eo(_ instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&ym(g.target)){const _=new ve(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,ln.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Fe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Th(e,i,this.Ye,this.je,r);return this.je=ds(),this.Je=Dc(),this.He=Dc(),this.Ye=new vt(He),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new W_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Bt(He),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Bt(He),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new W_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Dc(){return new vt(ve.comparator)}function ev(){return new vt(ve.comparator)}const cw={asc:"ASCENDING",desc:"DESCENDING"},hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fw={and:"AND",or:"OR"};class dw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(s,e){return s.useProto3Json||ph(e)?e:{value:e}}function eh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function mw(s,e){return eh(s,e.toTimestamp())}function ji(s){return it(!!s,49232),we.fromTimestamp((function(i){const r=or(i);return new gt(r.seconds,r.nanos)})(s))}function Km(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(l){return new dt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Jb(s){const e=dt.fromString(s);return it(i1(e),10190,{key:e.toString()}),e}function Tm(s,e){return Km(s.databaseId,e.path)}function Zd(s,e){const i=Jb(e);if(i.get(1)!==s.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ve(e1(i))}function Wb(s,e){return Km(s.databaseId,e)}function pw(s){const e=Jb(s);return e.length===4?dt.emptyPath():e1(e)}function Am(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function e1(s){return it(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function tv(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function gw(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(it(A===void 0||typeof A=="string",58123),sn.fromBase64String(A||"")):(it(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),sn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?K.UNKNOWN:Kb(y.code);return new le(A,y.message||"")})(d);i=new $b(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Zd(s,r.document.name),c=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):we.min(),g=new En({mapValue:{fields:r.document.fields}}),_=ln.newFoundDocument(l,c,d,g),y=r.targetIds||[],A=r.removedTargetIds||[];i=new zc(y,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Zd(s,r.document),c=r.readTime?ji(r.readTime):we.min(),d=ln.newNoDocument(l,c),g=r.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Zd(s,r.document),c=r.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new rw(l,c),g=r.targetId;i=new Xb(g,d)}}return i}function yw(s,e){let i;if(e instanceof Hl)i={update:tv(s,e.key,e.value)};else if(e instanceof Gm)i={delete:Tm(s,e.key)};else if(e instanceof dr)i={update:tv(s,e.key,e.data),updateMask:ww(e.fieldMask)};else{if(!(e instanceof nw))return Ae(16599,{Vt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:mw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function _w(s,e){return s&&s.length>0?(it(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(we.min())&&(d=ji(c)),new Wx(d,l.transformResults||[])})(i,e)))):[]}function vw(s,e){return{documents:[Wb(s,e.path)]}}function bw(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Wb(s,l);const c=(function(y){if(y.length!==0)return n1(ci.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:Ya(M.field),direction:Aw(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=bm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function Ew(s){let e=pw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){it(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=t1(S);return M instanceof ci&&Db(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(ee){return new jl(Ka(ee.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,ph(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,Q=S.values||[];return new Zc(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,Q=S.values||[];return new Zc(Q,M)})(i.endAt)),zx(e,l,d,c,g,"F",_,y)}function Tw(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function t1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ka(i.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ut.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((r=>t1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function Aw(s){return cw[s]}function Sw(s){return hw[s]}function xw(s){return fw[s]}function Ya(s){return{fieldPath:s.canonicalString()}}function Ka(s){return nn.fromServerFormat(s.fieldPath)}function n1(s){return s instanceof Ut?(function(i){if(i.op==="=="){if(B_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(q_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(B_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(q_(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:Sw(i.op),value:i.value}}})(s):s instanceof ci?(function(i){const r=i.getFilters().map((l=>n1(l)));return r.length===1?r[0]:{compositeFilter:{op:xw(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function ww(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function i1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class er{constructor(e,i,r,l,c=we.min(),d=we.min(),g=sn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rw{constructor(e){this.yt=e}}function Iw(s){const e=Ew({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(e,e.limit,"L"):e}class Nw{constructor(){this.Cn=new Cw}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(ar.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(ar.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Cw{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Bt(dt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Bt(dt.comparator)).toArray()}}const nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s1=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(s1,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class so{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const iv="LruGarbageCollector",Dw=1048576;function sv([s,e],[i,r]){const l=He(s,i);return l===0?He(e,r):l}class Ow{constructor(e){this.Ir=e,this.buffer=new Bt(sv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();sv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Mw{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(iv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?ue(iv,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Vr(3e5)}))}}class Vw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(mh.ce);const r=new Ow(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(nv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),Ga()<=Be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function kw(s,e){return new Vw(s,e)}class jw{constructor(){this.changes=new ta((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Uw{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Nl(r.mutation,l,On.empty(),gt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Fe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Fe()){const l=Gr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=El();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Gr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Fe())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=ds();const d=Il(),g=(function(){return Il()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof dr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Nl(A.mutation,y,A.mutation.getFieldMask(),gt.now())):d.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new Lw(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Il();let l=new vt(((d,g)=>d-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||On.empty();A=g.applyToLocalView(y,A),r.set(_,A);const S=(l.get(g.batchId)||Fe()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,S=zb();A.forEach((M=>{if(!c.has(M)){const Q=Qb(i.get(M),r.get(M));Q!==null&&S.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):kb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):$.resolve(Gr());let g=Ol,_=c;return d.next((y=>$.forEach(y,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Fe()))).next((A=>({batchId:g,changes:Pb(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const y=(function(S,M){return new fo(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,ln.newInvalidDocument(A)))}));let g=El();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Nl(A.mutation,y,On.empty(),gt.now()),vh(i,y)&&(g=g.insert(_,y))})),g}))}}class Pw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Iw(l.bundledQuery),readTime:ji(l.readTime)}})(i)),$.resolve()}}class zw{constructor(){this.overlays=new vt(ve.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Gr();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=Gr(),c=i.length+1,d=new ve(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new vt(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=Gr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Gr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return $.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new sw(i,r));let c=this.qr.get(i);c===void 0&&(c=Fe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class qw{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.Qr=new Bt(Qt.$r),this.Ur=new Bt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Qt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Qt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ve(new dt([])),r=new Qt(i,e),l=new Qt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ve(new dt([])),r=new Qt(i,e),l=new Qt(i,e+1);let c=Fe();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Qt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ve.comparator(e.key,i.key)||He(e.Yr,i.Yr)}static Kr(e,i){return He(e.Yr,i.Yr)||ve.comparator(e.key,i.key)}}class Bw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Qt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new iw(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Qt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Bt(He);return i.forEach((l=>{const c=new Qt(l,0),d=new Qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;ve.isDocumentKey(c)||(c=c.child(""));const d=new Qt(new ve(c),0);let g=new Bt(He);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){it(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Qt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Qt(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Hw{constructor(e){this.ri=e,this.docs=(function(){return new vt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(e,i){let r=ds();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():ln.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=ds();const d=i.path,g=new ve(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||_x(yx(A),r)<=0||(l.has(A.key)||vh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,l){Ae(9500)}ii(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new Fw(this)}getSize(e){return $.resolve(this.size)}}class Fw extends jw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Gw{constructor(e){this.persistence=e,this.si=new ta((i=>Bm(i)),Hm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=so.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class r1{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new qw,this.referenceDelegate=e(this),this.Pi=new Gw(this),this.indexManager=new Nw,this.remoteDocumentCache=(function(l){return new Hw(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Rw(i),this.Ii=new Pw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new zw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Bw(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ue("MemoryPersistence","Starting transaction:",e);const l=new Qw(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Qw extends bx{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=ve.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class th{constructor(e,i){this.persistence=e,this.pi=new ta((r=>Ax(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=kw(this,i)}static mi(e,i){return new th(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lc(e.data.value)),i}br(e,i,r){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Fe(),l=Fe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Zm(e,i.fromCache,r,l)}}class Yw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Kw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return PS()?8:Ex(un())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Yw;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Ga()<=Be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ga()<=Be.DEBUG&&ue("QueryEngine","Query:",Qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ga()<=Be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(i))):$.resolve())}ys(e,i){if(Q_(i))return $.resolve(null);let r=ki(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=vm(i,null,"F"),r=ki(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Fe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,vm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,r,l){return Q_(i)||l.isEqual(we.min())?$.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(Ga()<=Be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(e,d,i,gx(l,Ol)).next((g=>g)))}))}Ds(e,i){let r=new Bt(Lb(e));return i.forEach(((l,c)=>{vh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Ga()<=Be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(e,i,ar.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",Xw=3e8;class $w{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new vt(He),this.xs=new ta((c=>Bm(c)),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Zw(s,e,i,r){return new $w(s,e,i,r)}async function a1(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Fe();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Jw(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const S=y.batch,M=S.keys();let Q=$.resolve();return M.forEach((ee=>{Q=Q.next((()=>A.getEntry(_,ee))).next((ie=>{const te=y.docVersions.get(ee);it(te!==null,48541),ie.version.compareTo(te)<0&&(S.applyToRemoteDocument(ie,y),ie.isValidDocument()&&(ie.setReadTime(y.commitVersion),A.addEntry(ie)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Fe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function o1(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Ww(s,e){const i=Ce(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(sn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,r)),l=l.insert(S,Q),(function(ie,te,be){return ie.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=Xw?!0:be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0})(M,Q,A)&&g.push(i.Pi.updateTargetData(c,Q))}));let _=ds(),y=Fe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(eR(c,d,e.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(we.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(A)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function eR(s,e,i){let r=Fe(),l=Fe();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ds();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ue(Jm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function tR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new er(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Sm(s,e,i){const r=Ce(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;ue(Jm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function rv(s,e,i){const r=Ce(s);let l=we.min(),c=Fe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=Ce(_),M=S.xs.get(A);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,A)})(r,d,ki(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:we.min(),i?c:Fe()))).next((g=>(iR(r,Bx(e),g),{documents:g,Qs:c})))))}function iR(s,e,i){let r=s.Os.get(e)||we.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class av{constructor(){this.activeTargetIds=Kx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sR{constructor(){this.Mo=new av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new av,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rR{Oo(e){}shutdown(){}}const ov="ConnectivityMonitor";class lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function xm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Jd="RestConnection",aR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Xc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=xm(),g=this.zo(e,i.toUriEncodedString());ue(Jd,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),A=oo(y);return this.Jo(e,g,_,r,A).then((S=>(ue(Jd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw eo(Jd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=aR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class lR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const an="WebChannelConnection";class uR extends oR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=xm();return new Promise(((g,_)=>{const y=new cb;y.setWithCredentials(!0),y.listenOnce(hb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const S=y.getResponseJson();ue(an,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case jc.TIMEOUT:ue(an,`RPC '${e}' ${d} timed out`),_(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const M=y.getStatus();if(ue(an,`RPC '${e}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const ee=Q?.error;if(ee&&ee.status&&ee.message){const ie=(function(be){const Re=be.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Re)>=0?Re:K.UNKNOWN})(ee.status);_(new le(ie,ee.message))}else _(new le(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new le(K.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue(an,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ue(an,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(e,i,r){const l=xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=mb(),g=db(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");ue(an,`Creating RPC '${e}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let M=!1,Q=!1;const ee=new lR({Yo:te=>{Q?ue(an,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(M||(ue(an,`Opening RPC '${e}' stream ${l} transport.`),S.open(),M=!0),ue(an,`RPC '${e}' stream ${l} sending:`,te),S.send(te))},Zo:()=>S.close()}),ie=(te,be,Re)=>{te.listen(be,(Te=>{try{Re(Te)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return ie(S,bl.EventType.OPEN,(()=>{Q||(ue(an,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),ie(S,bl.EventType.CLOSE,(()=>{Q||(Q=!0,ue(an,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(S))})),ie(S,bl.EventType.ERROR,(te=>{Q||(Q=!0,eo(an,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),ee.a_(new le(K.UNAVAILABLE,"The operation could not be completed")))})),ie(S,bl.EventType.MESSAGE,(te=>{if(!Q){const be=te.data[0];it(!!be,16349);const Re=be,Te=Re?.error||Re[0]?.error;if(Te){ue(an,`RPC '${e}' stream ${l} received error:`,Te);const tt=Te.status;let ht=(function(w){const N=Lt[w];if(N!==void 0)return Kb(N)})(tt),Ge=Te.message;ht===void 0&&(ht=K.INTERNAL,Ge="Unknown error status: "+tt+" with message "+Te.message),Q=!0,ee.a_(new le(ht,Ge)),S.close()}else ue(an,`RPC '${e}' stream ${l} received:`,be),ee.u_(be)}})),ie(g,fb.STAT_EVENT,(te=>{te.stat===fm.PROXY?ue(an,`RPC '${e}' stream ${l} detected buffering proxy`):te.stat===fm.NOPROXY&&ue(an,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Wd(){return typeof document<"u"?document:null}function Ah(s){return new dw(s,!0)}class l1{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uv="PersistentStream";class u1{constructor(e,i,r,l,c,d,g,_){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cR extends u1{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=gw(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?ji(d.readTime):we.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=ym(_)?{documents:vw(c,_)}:{query:bw(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Zb(c,d.resumeToken);const y=bm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){g.readTime=eh(c,d.snapshotVersion.toTimestamp());const y=bm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=Tw(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Am(this.serializer),i.removeTarget=e,this.q_(i)}}class hR extends u1{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=_w(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Am(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>yw(this.serializer,r)))};this.q_(i)}}class fR{}class dR extends fR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Em(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(K.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Em(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Wr="RemoteStore";class pR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{na(this)&&(ue(Wr,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await Gl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Sh(y)})(this))}))})),this.Ra=new mR(r,l)}}async function Sh(s){if(na(s))for(const e of s.da)await e(!0)}async function Gl(s){for(const e of s.da)await e(!1)}function c1(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),np(i)?tp(i):mo(i).O_()&&ep(i,e))}function Wm(s,e){const i=Ce(s),r=mo(i);i.Ia.delete(e),r.O_()&&h1(i,e),i.Ia.size===0&&(r.O_()?r.L_():na(i)&&i.Ra.set("Unknown"))}function ep(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}mo(s).Y_(e)}function h1(s,e){s.Va.Ue(e),mo(s).Z_(e)}function tp(s){s.Va=new uw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Ra.ua()}function np(s){return na(s)&&!mo(s).x_()&&s.Ia.size>0}function na(s){return Ce(s).Ea.size===0}function f1(s){s.Va=void 0}async function gR(s){s.Ra.set("Online")}async function yR(s){s.Ia.forEach(((e,i)=>{ep(s,e)}))}async function _R(s,e){f1(s),np(s)?(s.Ra.ha(e),tp(s)):s.Ra.set("Unknown")}async function vR(s,e,i){if(s.Ra.set("Online"),e instanceof $b&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){ue(Wr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nh(s,r)}else if(e instanceof zc?s.Va.Ze(e):e instanceof Xb?s.Va.st(e):s.Va.tt(e),!i.isEqual(we.min()))try{const r=await o1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(sn.EMPTY_BYTE_STRING,A.snapshotVersion)),h1(c,_);const S=new er(A.target,_,y,A.sequenceNumber);ep(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ue(Wr,"Failed to raise snapshot:",r),await nh(s,r)}}async function nh(s,e,i){if(!ho(e))throw e;s.Ea.add(1),await Gl(s),s.Ra.set("Offline"),i||(i=()=>o1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(Wr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function d1(s,e){return e().catch((i=>nh(s,i,e)))}async function xh(s){const e=Ce(s),i=cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pm;for(;bR(e);)try{const l=await tR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,ER(e,l)}catch(l){await nh(e,l)}m1(e)&&p1(e)}function bR(s){return na(s)&&s.Ta.length<10}function ER(s,e){s.Ta.push(e);const i=cr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function m1(s){return na(s)&&!cr(s).x_()&&s.Ta.length>0}function p1(s){cr(s).start()}async function TR(s){cr(s).ra()}async function AR(s){const e=cr(s);for(const i of s.Ta)e.ea(i.mutations)}async function SR(s,e,i){const r=s.Ta.shift(),l=Qm.from(r,e,i);await d1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await xh(s)}async function xR(s,e){e&&cr(s).X_&&await(async function(r,l){if((function(d){return aw(d)&&d!==K.ABORTED})(l.code)){const c=r.Ta.shift();cr(r).B_(),await d1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(r)}})(s,e),m1(s)&&p1(s)}async function cv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ue(Wr,"RemoteStore received new credentials");const r=na(i);i.Ea.add(3),await Gl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sh(i)}async function wR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Sh(i)):e||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function mo(s){return s.ma||(s.ma=(function(i,r,l){const c=Ce(i);return c.sa(),new cR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:gR.bind(null,s),t_:yR.bind(null,s),r_:_R.bind(null,s),H_:vR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),np(s)?tp(s):s.Ra.set("Unknown")):(await s.ma.stop(),f1(s))}))),s.ma}function cr(s){return s.fa||(s.fa=(function(i,r,l){const c=Ce(i);return c.sa(),new hR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:TR.bind(null,s),r_:xR.bind(null,s),ta:AR.bind(null,s),na:SR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(Wr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ip{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new ip(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(s,e){if(fs("AsyncQueue",`${e}: ${s}`),ho(s))return new le(K.UNAVAILABLE,`${e}: ${s}`);throw s}class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ve.comparator(i.key,r.key):(i,r)=>ve.comparator(i.key,r.key),this.keyedMap=El(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Xa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class hv{constructor(){this.ga=new vt(ve.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class ro{constructor(e,i,r,l,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ro(e,i,Xa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class RR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IR{constructor(){this.queries=fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Ce(i),c=l.queries;l.queries=fv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new le(K.ABORTED,"Firestore shutting down"))}}function fv(){return new ta((s=>jb(s)),_h)}async function rp(s,e){const i=Ce(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new RR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=sp(d,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&op(i)}async function ap(s,e){const i=Ce(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function NR(s,e){const i=Ce(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&op(i)}function CR(s,e,i){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function op(s){s.Ca.forEach((e=>{e.next()}))}var wm,dv;(dv=wm||(wm={})).Ma="default",dv.Cache="cache";class lp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class g1{constructor(e){this.key=e}}class y1{constructor(e){this.key=e}}class DR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=Lb(e),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new hv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const M=l.get(A),Q=vh(this.query,S)?S:null,ee=!!M&&this.mutatedKeys.has(M.key),ie=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let te=!1;M&&Q?M.data.isEqual(Q.data)?ee!==ie&&(r.track({type:3,doc:Q}),te=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),te=!0,(_&&this.eu(Q,_)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!M&&Q?(r.track({type:0,doc:Q}),te=!0):M&&!Q&&(r.track({type:1,doc:M}),te=!0,(_||y)&&(g=!0)),te&&(Q?(d=d.add(Q),c=ie?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Q,ee){const ie=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:te})}};return ie(Q)-ie(ee)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ro(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new y1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new g1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const up="SyncEngine";class OR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class MR{constructor(e){this.key=e,this.hu=!1}}class VR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((g=>jb(g)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ve.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kR(s,e,i=!0){const r=A1(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await _1(r,e,i,!0),l}async function jR(s,e){const i=A1(s);await _1(i,e,!0,!1)}async function _1(s,e,i,r){const l=await nR(s.localStore,ki(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await LR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&c1(s.remoteStore,l),g}async function LR(s,e,i,r,l){s.pu=(S,M,Q)=>(async function(ie,te,be,Re){let Te=te.view.ru(be);Te.Cs&&(Te=await rv(ie.localStore,te.query,!1).then((({documents:C})=>te.view.ru(C,Te))));const tt=Re&&Re.targetChanges.get(te.targetId),ht=Re&&Re.targetMismatches.get(te.targetId)!=null,Ge=te.view.applyChanges(Te,ie.isPrimaryClient,tt,ht);return pv(ie,te.targetId,Ge.au),Ge.snapshot})(s,S,M,Q);const c=await rv(s.localStore,e,!0),d=new DR(e,c.Qs),g=d.ru(c.documents),_=Fl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);pv(s,i,y.au);const A=new OR(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function UR(s,e,i){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!_h(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Wm(r.remoteStore,l.targetId),Rm(r,l.targetId)})).catch(co)):(Rm(r,l.targetId),await Sm(r.localStore,l.targetId,!0))}async function PR(s,e){const i=Ce(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(i.remoteStore,r.targetId))}async function zR(s,e,i){const r=YR(s);try{const l=await(function(d,g){const _=Ce(d),y=gt.now(),A=g.reduce(((Q,ee)=>Q.add(ee.key)),Fe());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let ee=ds(),ie=Fe();return _.Ns.getEntries(Q,A).next((te=>{ee=te,ee.forEach(((be,Re)=>{Re.isValidDocument()||(ie=ie.add(be))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,ee))).next((te=>{S=te;const be=[];for(const Re of g){const Te=tw(Re,S.get(Re.key).overlayedDocument);Te!=null&&be.push(new dr(Re.key,Te,Ib(Te.value.mapValue),Yn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,y,be,g)})).next((te=>{M=te;const be=te.applyToLocalDocumentSet(S,ie);return _.documentOverlayCache.saveOverlays(Q,te.batchId,be)}))})).then((()=>({batchId:M.batchId,changes:Pb(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new vt(He)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await Ql(r,l.changes),await xh(r.remoteStore)}catch(l){const c=sp(l,"Failed to persist write");i.reject(c)}}async function v1(s,e){const i=Ce(s);try{const r=await Ww(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(it(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?it(d.hu,14607):l.removedDocuments.size>0&&(it(d.hu,42227),d.hu=!1))})),await Ql(i,r,e)}catch(r){await co(r)}}function mv(s,e,i){const r=Ce(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Ce(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(g)&&(y=!0)})),y&&op(_)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qR(s,e,i){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new vt(ve.comparator);d=d.insert(c,ln.newNoDocument(c,we.min()));const g=Fe().add(c),_=new Th(we.min(),new Map,new vt(He),d,g);await v1(r,_),r.du=r.du.remove(c),r.Au.delete(e),cp(r)}else await Sm(r.localStore,e,!1).then((()=>Rm(r,e,i))).catch(co)}async function BR(s,e){const i=Ce(s),r=e.batch.batchId;try{const l=await Jw(i.localStore,e);E1(i,r,null),b1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(i,l)}catch(l){await co(l)}}async function HR(s,e,i){const r=Ce(s);try{const l=await(function(d,g){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(it(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,e);E1(r,e,i),b1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Ql(r,l)}catch(l){await co(l)}}function b1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function E1(s,e,i){const r=Ce(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Rm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||T1(s,r)}))}function T1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Wm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),cp(s))}function pv(s,e,i){for(const r of i)r instanceof g1?(s.Ru.addReference(r.key,e),FR(s,r)):r instanceof y1?(ue(up,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||T1(s,r.key)):Ae(19791,{wu:r})}function FR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ue(up,"New document in limbo: "+i),s.Eu.add(r),cp(s))}function cp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ve(dt.fromString(e)),r=s.fu.next();s.Au.set(r,new MR(i)),s.du=s.du.insert(i,r),c1(s.remoteStore,new er(ki(yh(i.path)),r,"TargetPurposeLimboResolution",mh.ce))}}async function Ql(s,e,i){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Zm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=Ce(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(M=>$.forEach(M.Es,(Q=>A.persistence.referenceDelegate.addReference(S,M.targetId,Q))).next((()=>$.forEach(M.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,M.targetId,Q)))))))))}catch(S){if(!ho(S))throw S;ue(Jm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const Q=A.Ms.get(M),ee=Q.snapshotVersion,ie=Q.withLastLimboFreeSnapshotVersion(ee);A.Ms=A.Ms.insert(M,ie)}}})(r.localStore,c))}async function GR(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ue(up,"User change. New user:",e.toKey());const r=await a1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new le(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ql(i,r.Ls)}}function QR(s,e){const i=Ce(s),r=i.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let l=Fe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function A1(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=v1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qR.bind(null,e),e.Pu.H_=NR.bind(null,e.eventManager),e.Pu.yu=CR.bind(null,e.eventManager),e}function YR(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HR.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Zw(this.persistence,new Kw,e.initialUser,this.serializer)}Cu(e){return new r1($m.mi,this.serializer)}Du(e){return new sR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class KR extends ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){it(this.persistence.referenceDelegate instanceof th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Mw(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new r1((r=>th.mi(r,i)),this.serializer)}}class Im{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GR.bind(null,this.syncEngine),await wR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IR})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),r=(function(c){return new uR(c)})(e.databaseInfo);return(function(c,d,g,_){return new dR(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new pR(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>mv(this.syncEngine,i,0)),(function(){return lv.v()?new lv:new rR})())}createSyncEngine(e,i){return(function(l,c,d,g,_,y,A){const S=new VR(l,c,d,g,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ce(i);ue(Wr,"RemoteStore shutting down."),r.Ea.add(5),await Gl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};class hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const hr="FirestoreClient";class XR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=on.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ue(hr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ue(hr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=sp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function em(s,e){s.asyncQueue.verifyOperationInProgress(),ue(hr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await a1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function gv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await $R(s);ue(hr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>cv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>cv(e.remoteStore,l))),s._onlineComponents=e}async function $R(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(hr,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new ih)}}else ue(hr,"Using default OfflineComponentProvider"),await em(s,new KR(void 0));return s._offlineComponents}async function S1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(hr,"Using user provided OnlineComponentProvider"),await gv(s,s._uninitializedComponentsProvider._online)):(ue(hr,"Using default OnlineComponentProvider"),await gv(s,new Im))),s._onlineComponents}function ZR(s){return S1(s).then((e=>e.syncEngine))}async function sh(s){const e=await S1(s),i=e.eventManager;return i.onListen=kR.bind(null,e.syncEngine),i.onUnlisten=UR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=jR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=PR.bind(null,e.syncEngine),i}function JR(s,e,i={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const A=new hp({next:M=>{A.Nu(),d.enqueueAndForget((()=>ap(c,S)));const Q=M.docs.has(g);!Q&&M.fromCache?y.reject(new le(K.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&M.fromCache&&_&&_.source==="server"?y.reject(new le(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new lp(yh(g.path),A,{includeMetadataChanges:!0,qa:!0});return rp(c,S)})(await sh(s),s.asyncQueue,e,i,r))),r.promise}function WR(s,e,i={}){const r=new cs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const A=new hp({next:M=>{A.Nu(),d.enqueueAndForget((()=>ap(c,S))),M.fromCache&&_.source==="server"?y.reject(new le(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new lp(g,A,{includeMetadataChanges:!0,qa:!0});return rp(c,S)})(await sh(s),s.asyncQueue,e,i,r))),r.promise}function x1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const yv=new Map;const w1="firestore.googleapis.com",_v=!0;class vv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=_v}else this.host=e.host,this.ssl=e.ssl??_v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dw)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}px("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new rx;switch(r.type){case"firstParty":return new ux(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=yv.get(i);r&&(ue("ComponentProvider","Removing Datastore"),yv.delete(i),r.terminate())})(this),Promise.resolve()}}function eI(s,e,i,r={}){s=Tn(s,wh);const l=oo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(tb(`https://${g}`),nb("Firestore",!0)),c.host!==w1&&c.host!==g&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!$r(_,d)&&(s._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=on.MOCK_USER;else{y=CS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new on(S)}s._authCredentials=new ax(new gb(y,A))}}class mr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mr(this.firestore,e,this._query)}}class Tt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Bl(i,Tt._jsonSchema))return new Tt(e,r||null,new ve(dt.fromString(i.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Pt("string",Tt._jsonSchemaVersion),referencePath:Pt("string")};class rr extends mr{constructor(e,i,r){super(e,i,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ve(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function Fa(s,e,...i){if(s=Yt(s),yb("collection","path",e),s instanceof wh){const r=dt.fromString(e,...i);return O_(r),new rr(s,null,r)}{if(!(s instanceof Tt||s instanceof rr))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return O_(r),new rr(s.firestore,null,r)}}function Al(s,e,...i){if(s=Yt(s),arguments.length===1&&(e=Um.newId()),yb("doc","path",e),s instanceof wh){const r=dt.fromString(e,...i);return D_(r),new Tt(s,null,new ve(r))}{if(!(s instanceof Tt||s instanceof rr))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(dt.fromString(e,...i));return D_(r),new Tt(s.firestore,s instanceof rr?s.converter:null,new ve(r))}}const bv="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l1(this,"async_queue_retry"),this._c=()=>{const r=Wd();r&&ue(bv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ho(e))throw e;ue(bv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",Tv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ip.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:Tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Tv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Av(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ms extends wh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Ev,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function tI(s,e){const i=typeof s=="object"?s:ab(),r=typeof s=="string"?s:Xc,l=jm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=IS("firestore");c&&eI(l,...c)}return l}function Rh(s){if(s._terminated)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||nI(s),s._firestoreClient}function nI(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new wx(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,x1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new XR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(sn.fromBase64String(e))}catch(i){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Qn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bl(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Pt("string",Qn._jsonSchemaVersion),bytes:Pt("string")};class Ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fp{constructor(e){this._methodName=e}}class Li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(Bl(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Pt("string",Li._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bl(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new le(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Pt("string",Ui._jsonSchemaVersion),vectorValues:Pt("object")};const iI=/^__.*__$/;class sI{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(e,this.data,i,this.fieldTransforms)}}class R1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function I1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class dp{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I1(this.Ac)&&iI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Ah(e)}Cc(e,i,r,l=!1){return new dp({Ac:e,methodName:i,Dc:r,path:nn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nh(s){const e=s._freezeSettings(),i=Ah(s._databaseId);return new rI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function N1(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);mp("Data must be an object, but it was:",d,r);const g=C1(r,d);let _,y;if(c.merge)_=new On(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Nm(e,S,i);if(!d.contains(M))throw new le(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);O1(A,M)||A.push(M)}_=new On(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new sI(new En(g),_,y)}class Ch extends fp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function aI(s,e,i,r){const l=s.Cc(1,e,i);mp("Data must be an object, but it was:",l,r);const c=[],d=En.empty();fr(r,((_,y)=>{const A=pp(e,_,i);y=Yt(y);const S=l.yc(A);if(y instanceof Ch)c.push(A);else{const M=Yl(y,S);M!=null&&(c.push(A),d.set(A,M))}}));const g=new On(c);return new R1(d,g,l.fieldTransforms)}function oI(s,e,i,r,l,c){const d=s.Cc(1,e,i),g=[Nm(e,r,i)],_=[l];if(c.length%2!=0)throw new le(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Nm(e,c[M])),_.push(c[M+1]);const y=[],A=En.empty();for(let M=g.length-1;M>=0;--M)if(!O1(y,g[M])){const Q=g[M];let ee=_[M];ee=Yt(ee);const ie=d.yc(Q);if(ee instanceof Ch)y.push(Q);else{const te=Yl(ee,ie);te!=null&&(y.push(Q),A.set(Q,te))}}const S=new On(y);return new R1(A,S,d.fieldTransforms)}function lI(s,e,i,r=!1){return Yl(i,s.Cc(r?4:3,e))}function Yl(s,e){if(D1(s=Yt(s)))return mp("Unsupported field value:",e,s),C1(s,e);if(s instanceof fp)return(function(r,l){if(!I1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=Yl(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xx(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=gt.fromDate(r);return{timestampValue:eh(l.serializer,c)}}if(r instanceof gt){const c=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(l.serializer,c)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:Zb(l.serializer,r._byteString)};if(r instanceof Tt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ui)return(function(d,g){return{mapValue:{fields:{[wb]:{stringValue:Rb},[$c]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Fm(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${dh(r)}`)})(s,e)}function C1(s,e){const i={};return bb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fr(s,((r,l)=>{const c=Yl(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function D1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Li||s instanceof Qn||s instanceof Tt||s instanceof fp||s instanceof Ui)}function mp(s,e,i){if(!D1(i)||!_b(i)){const r=dh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Nm(s,e,i){if((e=Yt(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return pp(s,e);throw rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const uI=new RegExp("[~\\*/\\[\\]]");function pp(s,e,i){if(e.search(uI)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ih(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new le(K.INVALID_ARGUMENT,g+s+_)}function O1(s,e){return s.some((i=>i.isEqual(e)))}class M1{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Dh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class cI extends M1{data(){return super.data()}}function Dh(s,e){return typeof e=="string"?pp(s,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function V1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class k1 extends gp{}function vl(s,e,...i){let r=[];e instanceof gp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof yp)).length,g=c.filter((_=>_ instanceof Oh)).length;if(d>1||d>0&&g>0)throw new le(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Oh extends k1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Oh(e,i,r)}_apply(e){const i=this._parse(e);return j1(e._query,i),new mr(e.firestore,e.converter,_m(e._query,i))}_parse(e){const i=Nh(e.firestore);return(function(c,d,g,_,y,A,S){let M;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new le(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){xv(S,A);const ee=[];for(const ie of S)ee.push(Sv(_,c,ie));M={arrayValue:{values:ee}}}else M=Sv(_,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||xv(S,A),M=lI(g,d,S,A==="in"||A==="not-in");return Ut.create(y,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Mc(s,e,i){const r=e,l=Dh("where",s);return Oh._create(l,r,i)}class yp extends gp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new yp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ci.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const _ of g)j1(d,_),d=_m(d,_)})(e._query,i),new mr(e.firestore,e.converter,_m(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _p extends k1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new _p(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jl(c,d)})(e._query,this._field,this._direction);return new mr(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new fo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function hI(s,e="asc"){const i=e,r=Dh("orderBy",s);return _p._create(r,i)}function Sv(s,e,i){if(typeof(i=Yt(i))=="string"){if(i==="")throw new le(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kb(e)&&i.indexOf("/")!==-1)throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(dt.fromString(i));if(!ve.isDocumentKey(r))throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z_(s,new ve(r))}if(i instanceof Tt)return z_(s,i._key);throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function xv(s,e){if(!Array.isArray(s)||s.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j1(s,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class fI{convertValue(e,i="none"){switch(ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return fr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[$c].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new Ui(i)}convertGeoPoint(e){return new Li(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=gh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const i=or(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=dt.fromString(e);it(i1(r),9688,{name:e});const l=new Vl(r.get(1),r.get(3)),c=new ve(r.popFirst(5));return l.isEqual(i)||fs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function L1(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Sl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends M1{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Dh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Pt("string",Yr._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class qc extends Yr{data(e={}){return super.data(e)}}class Kr{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new qc(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:dI(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function mI(s){s=Tn(s,Tt);const e=Tn(s.firestore,ms);return JR(Rh(e),s._key).then((i=>U1(e,s,i)))}Kr._jsonSchemaVersion="firestore/querySnapshot/1.0",Kr._jsonSchema={type:Pt("string",Kr._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class vp extends fI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,i)}}function wv(s){s=Tn(s,mr);const e=Tn(s.firestore,ms),i=Rh(e),r=new vp(e);return V1(s._query),WR(i,s._query).then((l=>new Kr(e,r,s,l)))}function Rv(s,e,i){s=Tn(s,Tt);const r=Tn(s.firestore,ms),l=L1(s.converter,e);return Mh(r,[N1(Nh(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Yn.none())])}function pI(s,e,i,...r){s=Tn(s,Tt);const l=Tn(s.firestore,ms),c=Nh(l);let d;return d=typeof(e=Yt(e))=="string"||e instanceof Ih?oI(c,"updateDoc",s._key,e,i,r):aI(c,"updateDoc",s._key,e),Mh(l,[d.toMutation(s._key,Yn.exists(!0))])}function gI(s){return Mh(Tn(s.firestore,ms),[new Gm(s._key,Yn.none())])}function yI(s,e){const i=Tn(s.firestore,ms),r=Al(s),l=L1(s.converter,e);return Mh(i,[N1(Nh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then((()=>r))}function tm(s,...e){s=Yt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Av(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Av(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Tt)d=Tn(s.firestore,ms),g=yh(s._key.path),c={next:_=>{e[r]&&e[r](U1(d,s,_))},error:e[r+1],complete:e[r+2]};else{const _=Tn(s,mr);d=Tn(_.firestore,ms),g=_._query;const y=new vp(d);c={next:A=>{e[r]&&e[r](new Kr(d,y,_,A))},error:e[r+1],complete:e[r+2]},V1(s._query)}return(function(y,A,S,M){const Q=new hp(M),ee=new lp(A,Q,S);return y.asyncQueue.enqueueAndForget((async()=>rp(await sh(y),ee))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>ap(await sh(y),ee)))}})(Rh(d),g,l,c)}function Mh(s,e){return(function(r,l){const c=new cs;return r.asyncQueue.enqueueAndForget((async()=>zR(await ZR(r),l,c))),c.promise})(Rh(s),e)}function U1(s,e,i){const r=i.docs.get(e._key),l=new vp(s);return new Yr(s,l,e._key,r,new Sl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){uo=l})(lo),Wa(new Zr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ms(new ox(r.getProvider("auth-internal")),new cx(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),ir(R_,I_,e),ir(R_,I_,"esm2020")})();function P1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _I=P1,z1=new zl("auth","Firebase",P1());const ah=new Vm("@firebase/auth");function vI(s,...e){ah.logLevel<=Be.WARN&&ah.warn(`Auth (${lo}): ${s}`,...e)}function Bc(s,...e){ah.logLevel<=Be.ERROR&&ah.error(`Auth (${lo}): ${s}`,...e)}function qi(s,...e){throw Ep(s,...e)}function ui(s,...e){return Ep(s,...e)}function bp(s,e,i){const r={..._I(),[e]:i};return new zl("auth","Firebase",r).create(e,{appName:s.name})}function Xr(s){return bp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bI(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&qi(s,"argument-error"),bp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return z1.create(s,...e)}function xe(s,e,...i){if(!s)throw Ep(e,...i)}function ls(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bc(e),new Error(e)}function ps(s,e){s||ls(e)}function Cm(){return typeof self<"u"&&self.location?.href||""}function EI(){return Iv()==="http:"||Iv()==="https:"}function Iv(){return typeof self<"u"&&self.location?.protocol||null}function TI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EI()||jS()||"connection"in navigator)?navigator.onLine:!0}function AI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Kl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ps(i>e,"Short delay should be less than long delay!"),this.isMobile=MS()||LS()}get(){return TI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(s,e){ps(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class q1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wI=new Kl(3e4,6e4);function Ap(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function po(s,e,i,r,l={}){return B1(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=ql({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return kS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&oo(s.emulatorConfig.host)&&(y.credentials="include"),q1.fetch()(await H1(s,s.config.apiHost,i,g),y)})}async function B1(s,e,i){s._canInitEmulator=!1;const r={...SI,...e};try{const l=new II(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Vc(s,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bp(s,A,y);qi(s,A)}}catch(l){if(l instanceof gs)throw l;qi(s,"network-request-failed",{message:String(l)})}}async function RI(s,e,i,r,l={}){const c=await po(s,e,i,r,l);return"mfaPendingCredential"in c&&qi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function H1(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Tp(s.config,l):`${s.config.apiScheme}://${l}`;return xI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class II{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),wI.get())})}}function Vc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ui(s,e,r);return l.customData._tokenResponse=i,l}async function NI(s,e){return po(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return po(s,"POST","/v1/accounts:lookup",e)}function Cl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CI(s,e=!1){const i=Yt(s),r=await i.getIdToken(e),l=Sp(r);xe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Cl(nm(l.auth_time)),issuedAtTime:Cl(nm(l.iat)),expirationTime:Cl(nm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function nm(s){return Number(s)*1e3}function Sp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Zv(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Nv(s){const e=Sp(s);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Pl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof gs&&DI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function DI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class OI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,i=await s.getIdToken(),r=await Pl(s,oh(e,{idToken:i}));xe(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?F1(l.providerUserInfo):[],d=VI(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function MI(s){const e=Yt(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function F1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kI(s,e){const i=await B1(s,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await H1(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&oo(s.emulatorConfig.host)&&(_.credentials="include"),q1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jI(s,e){return po(s,"POST","/v2/accounts:revokeToken",Ap(s,e))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const i=Nv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await kI(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new $a;return r&&(xe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(xe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(xe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return ls("not implemented")}}function $s(s,e){xe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new OI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return xe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return CI(this,e)}reload(){return MI(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await Pl(this,NI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:Q,providerData:ee,stsTokenManager:ie}=i;xe(S&&ie,e,"internal-error");const te=$a.fromJSON(this.name,ie);xe(typeof S=="string",e,"internal-error"),$s(r,e.name),$s(l,e.name),xe(typeof M=="boolean",e,"internal-error"),xe(typeof Q=="boolean",e,"internal-error"),$s(c,e.name),$s(d,e.name),$s(g,e.name),$s(_,e.name),$s(y,e.name),$s(A,e.name);const be=new li({uid:S,auth:e,email:l,emailVerified:M,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:te,createdAt:y,lastLoginAt:A});return ee&&Array.isArray(ee)&&(be.providerData=ee.map(Re=>({...Re}))),_&&(be._redirectEventId=_),be}static async _fromIdTokenResponse(e,i,r=!1){const l=new $a;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];xe(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?F1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new $a;g.updateFromIdToken(r);const _=new li({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Cv=new Map;function us(s){ps(s instanceof Function,"Expected a class definition");let e=Cv.get(s);return e?(ps(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Cv.set(s,e),e)}class G1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}G1.type="NONE";const Dv=G1;function Hc(s,e,i){return`firebase:${s}:${e}:${i}`}class Za{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Hc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await oh(this.auth,{idToken:e}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Za(us(Dv),e,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||us(Dv);const d=Hc(r,e.config.apiKey,e.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const M=await oh(e,{idToken:A}).catch(()=>{});if(!M)break;S=await li._fromGetAccountInfoResponse(e,M,A)}else S=li._fromJSON(e,A);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,e,r))}}function Ov(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z1(e))return"Blackberry";if(J1(e))return"Webos";if(Y1(e))return"Safari";if((e.includes("chrome/")||K1(e))&&!e.includes("edge/"))return"Chrome";if($1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function Q1(s=un()){return/firefox\//i.test(s)}function Y1(s=un()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K1(s=un()){return/crios\//i.test(s)}function X1(s=un()){return/iemobile/i.test(s)}function $1(s=un()){return/android/i.test(s)}function Z1(s=un()){return/blackberry/i.test(s)}function J1(s=un()){return/webos/i.test(s)}function xp(s=un()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function LI(s=un()){return xp(s)&&!!window.navigator?.standalone}function UI(){return US()&&document.documentMode===10}function W1(s=un()){return xp(s)||$1(s)||J1(s)||Z1(s)||/windows phone/i.test(s)||X1(s)}function eE(s,e=[]){let i;switch(s){case"Browser":i=Ov(un());break;case"Worker":i=`${Ov(un())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${r}`}class PI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function zI(s,e={}){return po(s,"GET","/v2/passwordPolicy",Ap(s,e))}const qI=6;class BI{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class HI{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new PI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await oh(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Xr(this));const i=e?Yt(e):null;return i&&xe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zI(this),i=new BI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await jI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&us(e)||this._popupRedirectResolver;xe(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vh(s){return Yt(s)}class Mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=QS(i=>this.observer=i)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FI(s){wp=s}function GI(s){return wp.loadJS(s)}function QI(){return wp.gapiScript}function YI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function KI(s,e){const i=jm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if($r(c,e??{}))return l;qi(l,"already-initialized")}return i.initialize({options:e})}function XI(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(us);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function $I(s,e,i){const r=Vh(s);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=tE(e),{host:d,port:g}=ZI(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe($r(y,r.config.emulator)&&$r(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,oo(d)?(tb(`${c}//${d}${_}`),nb("Auth",!0)):JI()}function tE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function ZI(s){const e=tE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Vv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Vv(d)}}}function Vv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function JI(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class nE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,i){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function Ja(s,e){return RI(s,"POST","/v1/accounts:signInWithIdp",Ap(s,e))}const WI="http://localhost";class ea extends nE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):qi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new ea(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ja(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ja(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ja(e,i)}buildRequest(){const e={requestUri:WI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=ql(i)}return e}}class Rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xl extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zs extends Xl{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class os extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ea._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return os.credential(i,r)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";class Js extends Xl{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";class Ws extends Xl{constructor(){super("twitter.com")}static credential(e,i){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Ws.credential(i,r)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await li._fromIdTokenResponse(e,r,l),d=kv(r);return new ao({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=kv(r);return new ao({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function kv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends gs{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new uh(e,i,r,l)}}function iE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,r):c})}async function eN(s,e,i=!1){const r=await Pl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ao._forOperation(s,"link",r)}async function tN(s,e,i=!1){const{auth:r}=s;if(oi(r.app))return Promise.reject(Xr(r));const l="reauthenticate";try{const c=await Pl(s,iE(r,l,e,s),i);xe(c.idToken,r,"internal-error");const d=Sp(c.idToken);xe(d,r,"internal-error");const{sub:g}=d;return xe(s.uid===g,r,"user-mismatch"),ao._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&qi(r,"user-mismatch"),c}}async function nN(s,e,i=!1){if(oi(s.app))return Promise.reject(Xr(s));const r="signIn",l=await iE(s,r,e),c=await ao._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function iN(s,e,i,r){return Yt(s).onIdTokenChanged(e,i,r)}function sN(s,e,i){return Yt(s).beforeAuthStateChanged(e,i)}function rN(s,e,i,r){return Yt(s).onAuthStateChanged(e,i,r)}function aN(s){return Yt(s).signOut()}const ch="__sak";class sE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oN=1e3,lN=10;class rE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);UI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,lN):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}rE.type="LOCAL";const uN=rE;class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}aE.type="SESSION";const oE=aE;function cN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new kh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await cN(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];function Ip(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class hN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Ip("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function fN(s){Pi().location.href=s}function lE(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function dN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mN(){return navigator?.serviceWorker?.controller||null}function pN(){return lE()?self:null}const uE="firebaseLocalStorageDb",gN=1,hh="firebaseLocalStorage",cE="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function jh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function yN(){const s=indexedDB.deleteDatabase(uE);return new $l(s).toPromise()}function Om(){const s=indexedDB.open(uE,gN);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:cE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await yN(),e(await Om()))})})}async function jv(s,e,i){const r=jh(s,!0).put({[cE]:e,value:i});return new $l(r).toPromise()}async function _N(s,e){const i=jh(s,!1).get(e),r=await new $l(i).toPromise();return r===void 0?null:r.value}function Lv(s,e){const i=jh(s,!0).delete(e);return new $l(i).toPromise()}const vN=800,bN=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>bN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(pN()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dN(),!this.activeServiceWorker)return;this.sender=new hN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await jv(e,ch,"1"),await Lv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>jv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>_N(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=jh(l,!1).getAll();return new $l(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const EN=hE;new Kl(3e4,6e4);function fE(s,e){return e?us(e):(xe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Np extends nE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ja(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function TN(s){return nN(s.auth,new Np(s),s.bypassAuthState)}function AN(s){const{auth:e,user:i}=s;return xe(i,e,"internal-error"),tN(i,new Np(s),s.bypassAuthState)}async function SN(s){const{auth:e,user:i}=s;return xe(i,e,"internal-error"),eN(i,new Np(s),s.bypassAuthState)}class dE{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TN;case"linkViaPopup":case"linkViaRedirect":return SN;case"reauthViaPopup":case"reauthViaRedirect":return AN;default:qi(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xN=new Kl(2e3,1e4);async function wN(s,e,i){if(oi(s.app))return Promise.reject(ui(s,"operation-not-supported-in-this-environment"));const r=Vh(s);bI(s,e,Rp);const l=fE(r,i);return new Qr(r,"signInViaPopup",e,l).executeNotNull()}class Qr extends dE{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Qr.currentPopupAction&&Qr.currentPopupAction.cancel(),Qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xN.get())};e()}}Qr.currentPopupAction=null;const RN="pendingRedirect",Fc=new Map;class IN extends dE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const r=await NN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NN(s,e){const i=ON(e),r=DN(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function CN(s,e){Fc.set(s._key(),e)}function DN(s){return us(s._redirectPersistence)}function ON(s){return Hc(RN,s.config.apiKey,s.name)}async function MN(s,e,i=!1){if(oi(s.app))return Promise.reject(Xr(s));const r=Vh(s),l=fE(r,e),d=await new IN(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const VN=600*1e3;class kN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!mE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ui(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function mE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function jN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(s);default:return!1}}async function LN(s,e={}){return po(s,"GET","/v1/projects",e)}const UN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;async function zN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await LN(s);for(const i of e)try{if(qN(i))return}catch{}qi(s,"unauthorized-domain")}function qN(s){const e=Cm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!PN.test(i))return!1;if(UN.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const BN=new Kl(3e4,6e4);function Pv(){const s=Pi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function HN(s){return new Promise((e,i)=>{function r(){Pv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pv(),i(ui(s,"network-request-failed"))},timeout:BN.get()})}if(Pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pi().gapi?.load)r();else{const l=YI("iframefcb");return Pi()[l]=()=>{gapi.load?r():i(ui(s,"network-request-failed"))},GI(`${QI()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function FN(s){return Gc=Gc||HN(s),Gc}const GN=new Kl(5e3,15e3),QN="__/auth/iframe",YN="emulator/auth/iframe",KN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $N(s){const e=s.config;xe(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Tp(e,YN):`https://${s.config.authDomain}/${QN}`,r={apiKey:e.apiKey,appName:s.name,v:lo},l=XN.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${ql(r).slice(1)}`}async function ZN(s){const e=await FN(s),i=Pi().gapi;return xe(i,s,"internal-error"),e.open({where:document.body,url:$N(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KN,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ui(s,"network-request-failed"),g=Pi().setTimeout(()=>{c(d)},GN.get());function _(){Pi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const JN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WN=500,eC=600,tC="_blank",nC="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iC(s,e,i,r=WN,l=eC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...JN,width:r.toString(),height:l.toString(),top:c,left:d},y=un().toLowerCase();i&&(g=K1(y)?tC:i),Q1(y)&&(e=e||nC,_.scrollbars="yes");const A=Object.entries(_).reduce((M,[Q,ee])=>`${M}${Q}=${ee},`,"");if(LI(y)&&g!=="_self")return sC(e||"",g),new zv(null);const S=window.open(e||"",g,A);xe(S,s,"popup-blocked");try{S.focus()}catch{}return new zv(S)}function sC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const rC="__/auth/handler",aC="emulator/auth/handler",oC=encodeURIComponent("fac");async function qv(s,e,i,r,l,c){xe(s.config.authDomain,s,"auth-domain-config-required"),xe(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:lo,eventId:l};if(e instanceof Rp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",GS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof Xl){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await s._getAppCheckToken(),y=_?`#${oC}=${encodeURIComponent(_)}`:"";return`${lC(s)}?${ql(g).slice(1)}${y}`}function lC({config:s}){return s.emulator?Tp(s,aC):`https://${s.authDomain}/${rC}`}const im="webStorageSupport";class uC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=MN,this._overrideRedirectResult=CN}async _openPopup(e,i,r,l){ps(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await qv(e,i,r,Cm(),l);return iC(e,c,Ip())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await qv(e,i,r,Cm(),l);return fN(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ps(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await ZN(e),r=new kN(e);return i.register("authEvent",l=>(xe(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(im,{type:im},l=>{const c=l?.[0]?.[im];c!==void 0&&i(!!c),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=zN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return W1()||Y1()||xp()}}const cC=uC;var Bv="@firebase/auth",Hv="1.11.1";class hC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dC(s){Wa(new Zr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(s)},y=new HI(r,l,c,_);return XI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new Zr("auth-internal",e=>{const i=Vh(e.getProvider("auth").getImmediate());return(r=>new hC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(Bv,Hv,fC(s)),ir(Bv,Hv,"esm2020")}const mC=300,pC=eb("authIdTokenMaxAge")||mC;let Fv=null;const gC=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>pC)return;const l=i?.token;Fv!==l&&(Fv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yC(s=ab()){const e=jm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=KI(s,{popupRedirectResolver:cC,persistence:[EN,uN,oE]}),r=eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=gC(c.toString());sN(i,d,()=>d(i.currentUser)),iN(i,g=>d(g))}}const l=Jv("auth");return l&&$I(i,`http://${l}`),i}function _C(){return document.getElementsByTagName("head")?.[0]??document}FI({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=ui("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",_C().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dC("Browser");const vC={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},pE=rb(vC),Mi=tI(pE),sm=yC(pE),bC=new os;class Zl{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const EC=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},tn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:EC()},Cp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},TC=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Cp(s);tn.publicKey=i.publicKey,tn.blockHeadless=i.blockHeadless,tn.storageProvider=i.storageProvider,tn.blockList=i.blockList,tn.limitRate=i.limitRate,tn.origin=i.origin||e},gE=async(s,e,i={})=>{const r=await fetch(tn.origin+s,{method:"POST",headers:i,body:e}),l=await r.text(),c=new Zl(r.status,l);if(r.ok)return c;throw c},yE=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},AC=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},_E=s=>s.webdriver||!s.languages||s.languages.length===0,vE=()=>new Zl(451,"Unavailable For Headless Browser"),SC=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},xC=s=>!s.list?.length||!s.watchVariable,wC=(s,e)=>s instanceof FormData?s.get(e):s[e],bE=(s,e)=>{if(xC(s))return!1;SC(s.list,s.watchVariable);const i=wC(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},EE=()=>new Zl(403,"Forbidden"),RC=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},IC=async(s,e,i)=>{const r=Number(await i.get(s)||0);return e-Date.now()+r},TE=async(s,e,i)=>{if(!e.throttle||!i)return!1;RC(e.throttle,e.id);const r=e.id||s;return await IC(r,e.throttle,i)>0?!0:(await i.set(r,Date.now().toString()),!1)},AE=()=>new Zl(429,"Too Many Requests"),NC=async(s,e,i,r)=>{const l=Cp(r),c=l.publicKey||tn.publicKey,d=l.blockHeadless||tn.blockHeadless,g=l.storageProvider||tn.storageProvider,_={...tn.blockList,...l.blockList},y={...tn.limitRate,...l.limitRate};return d&&_E(navigator)?Promise.reject(vE()):(yE(c,s,e),AC(i),i&&bE(_,i)?Promise.reject(EE()):await TE(location.pathname,y,g)?Promise.reject(AE()):gE("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},CC=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},DC=s=>typeof s=="string"?document.querySelector(s):s,OC=async(s,e,i,r)=>{const l=Cp(r),c=l.publicKey||tn.publicKey,d=l.blockHeadless||tn.blockHeadless,g=tn.storageProvider||l.storageProvider,_={...tn.blockList,...l.blockList},y={...tn.limitRate,...l.limitRate};if(d&&_E(navigator))return Promise.reject(vE());const A=DC(i);yE(c,s,e),CC(A);const S=new FormData(A);return bE(_,S)?Promise.reject(EE()):await TE(location.pathname,y,g)?Promise.reject(AE()):(S.append("lib_version","4.4.1"),S.append("service_id",s),S.append("template_id",e),S.append("user_id",c),gE("/api/v1.0/email/send-form",S))},MC={init:TC,send:NC,sendForm:OC,EmailJSResponseStatus:Zl},Gv="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",rm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Qv=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],am={"Cinema Camera Kit":{count:1,category:"film",requiresTraining:!0},"Gimbal / Stabilizer":{count:6,category:"film",requiresTraining:!0},"DJI Mic Kit (Wireless)":{count:4,category:"film",requiresTraining:!1},"DJI Flip Drone":{count:1,category:"film",requiresTraining:!0},"Lighting Kit":{count:6,category:"film",requiresTraining:!1},Tripod:{count:8,category:"general",requiresTraining:!1},"DSLR Camera Body":{count:6,category:"photo",requiresTraining:!0},"Zoom Lens (18-55mm)":{count:6,category:"photo",requiresTraining:!1},"Telephoto Lens (70-200mm)":{count:2,category:"photo",requiresTraining:!1},"Portrait Lens (50mm)":{count:3,category:"photo",requiresTraining:!1},"SD Card Reader":{count:5,category:"photo",requiresTraining:!1},"Flash Unit":{count:3,category:"photo",requiresTraining:!1},"Serving Trays":{count:10,category:"culinary",requiresTraining:!1},"Chafing Dishes":{count:4,category:"culinary",requiresTraining:!1}},je={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory"},kc=s=>`salpointe_draft_${s}`,Yv=s=>{MC.send(rm.SERVICE_ID,rm.TEMPLATE_ID,s,rm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},VC=()=>{const[s,e]=De.useState("landing"),[i,r]=De.useState(!1),[l,c]=De.useState(null),[d,g]=De.useState(!1),[_,y]=De.useState(am),[A,S]=De.useState([]);De.useEffect(()=>{const R=rN(sm,V=>{V?(c(V),g(Qv.includes(V.email))):(c(null),g(!1))});return()=>R()},[]),De.useEffect(()=>{(async()=>{const ye=Al(Mi,"settings","inventory_v2"),ke=await mI(ye);ke.exists()?y(ke.data()):(await Rv(ye,am),y(am))})();const V=vl(Fa(Mi,"blackout_dates")),x=tm(V,ye=>{const ke=ye.docs.map(U=>U.id);S(ke)});return()=>x()},[]);const M=async()=>{try{await wN(sm,bC),e(je.DASHBOARD)}catch(R){console.error("Login failed:",R),alert("Login failed.")}},Q=async()=>{await aN(sm),e("landing")},ee=()=>{e("landing"),r(!1)},ie=()=>{e(je.DASHBOARD),r(!1)},te=[je.FILM,je.GRAPHIC,je.BUSINESS,je.CULINARY,je.PHOTO].includes(s);return b.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30",children:[b.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),b.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),b.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[b.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:ee,children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),b.jsx("img",{src:Gv,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),b.jsxs("div",{children:[b.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",b.jsx("span",{className:"text-red-500",children:"CTE"})]}),b.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),b.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!te&&s!=="landing"&&s!=="dashboard"&&b.jsxs("button",{onClick:ie,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[b.jsx(gA,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s!=="landing"&&b.jsxs("button",{onClick:()=>{e(je.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===je.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[b.jsx(Bd,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),l?b.jsxs(b.Fragment,{children:[s!=="landing"&&b.jsxs("button",{onClick:()=>{e(je.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===je.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[b.jsx(zA,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&s!=="landing"&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>{e(je.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===je.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[b.jsx(h_,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),b.jsxs("button",{onClick:()=>{e(je.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===je.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[b.jsx(TA,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),b.jsxs("button",{onClick:()=>{e(je.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===je.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[b.jsx(d_,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),b.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),b.jsx("button",{onClick:Q,className:"ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all flex items-center gap-2",title:`Logged in as ${l.email}`,children:b.jsx(HA,{size:16})})]}):b.jsxs("button",{onClick:M,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[b.jsx(f_,{size:16})," Login"]})]})]})}),b.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10",children:i?b.jsx(Re,{onReset:ie}):b.jsxs(b.Fragment,{children:[s===je.LANDING&&b.jsx(be,{currentUser:l,onLogin:M,onEnter:ie}),s===je.DASHBOARD&&b.jsx(Te,{onViewChange:e,currentUser:l}),s===je.FILM&&b.jsx(N,{setSubmitted:r,onCancel:ie,currentUser:l,inventory:_,blackouts:A}),s===je.GRAPHIC&&b.jsx(GraphicDesignForm,{setSubmitted:r,onCancel:ie,currentUser:l}),s===je.BUSINESS&&b.jsx(BusinessForm,{setSubmitted:r,onCancel:ie,currentUser:l}),s===je.CULINARY&&b.jsx(CulinaryForm,{setSubmitted:r,onCancel:ie,currentUser:l}),s===je.PHOTO&&b.jsx(k,{setSubmitted:r,onCancel:ie,currentUser:l,inventory:_,blackouts:A}),s===je.CALENDAR&&b.jsx(CalendarView,{adminMode:d,blackouts:A}),s===je.QUEUE&&b.jsx(C,{adminMode:d,setAdminMode:g,ALLOWED_ADMINS:Qv}),s===je.MY_REQUESTS&&b.jsx(MyRequestsView,{currentUser:l}),s===je.ANALYTICS&&d&&b.jsx(Ge,{}),s===je.INVENTORY&&d&&b.jsx(ht,{inventory:_,setInventory:y})]})}),b.jsx("footer",{className:"text-center py-10 px-4 border-t border-slate-800/50 mt-auto relative z-10",children:b.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-60 hover:opacity-100 transition-opacity duration-500",children:[b.jsx("img",{src:Gv,alt:"Salpointe Catholic High School",className:"w-8 h-8 opacity-80 grayscale hover:grayscale-0 transition-all"}),b.jsxs("p",{className:"text-slate-500 text-xs font-mono tracking-widest uppercase",children:[" ",new Date().getFullYear()," Salpointe Catholic High School ",b.jsx("span",{className:"text-slate-700 mx-2",children:"|"})," CTE Department"]})]})})]});function be({currentUser:R,onLogin:V,onEnter:x}){return b.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[b.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),b.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["The Future of ",b.jsx("br",{}),b.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Creative Logistics"})]}),b.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Eliminating the friction of paper logs and email chains. A centralized command center for Salpointe's creative technology."}),b.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:R?b.jsxs("button",{onClick:x,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),b.jsx(vS,{size:24,className:"fill-white"}),"Initialize Hub"]}):b.jsxs("button",{onClick:V,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[b.jsx(f_,{size:24}),"Login to Access"]})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[b.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[b.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:b.jsx(UA,{size:24})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),b.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[b.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:b.jsx(OA,{size:24})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),b.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[b.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:b.jsx(iS,{size:24})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function Re({onReset:R}){return b.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[b.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:b.jsx(NA,{size:40})}),b.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),b.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),b.jsx("button",{onClick:R,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function Te({onViewChange:R,currentUser:V}){const[x,ye]=De.useState({});De.useEffect(()=>{(()=>{const Z={},J={[je.FILM]:"Film",[je.GRAPHIC]:"Graphic",[je.BUSINESS]:"Business",[je.CULINARY]:"Culinary",[je.PHOTO]:"Photo"};Object.keys(J).forEach(pe=>{const de=kc(J[pe]);localStorage.getItem(de)&&(Z[pe]=!0)}),ye(Z)})()},[]);const ke=[{id:je.FILM,title:"Film & TV",icon:m_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:je.GRAPHIC,title:"Graphic Design",icon:YA,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:je.BUSINESS,title:"Business",icon:u_,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:je.CULINARY,title:"Culinary Arts",icon:pS,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:je.PHOTO,title:"Photography",icon:Hd,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"col-span-full mb-4",children:[b.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:V?`Welcome, ${V.displayName.split(" ")[0]}.`:"Access Granted."}),b.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),ke.map(U=>b.jsxs("div",{onClick:()=>R(U.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${U.bg}`,children:[x[U.id]&&b.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[b.jsx(Rc,{size:12})," RESUME"]}),b.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${U.color} transition-transform group-hover:scale-110 duration-300`,children:b.jsx(U.icon,{size:28})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:U.title}),b.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:U.desc})]},U.id))]})}function tt({initialData:R={},currentUser:V}){const x=V?.displayName||R.fullName||"",ye=V?.email||R.email||"";return b.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[b.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[b.jsx(hS,{size:18})," Identity Verification"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),b.jsx("input",{name:"requestName",type:"text",defaultValue:R.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),b.jsx("input",{name:"fullName",type:"text",defaultValue:x,readOnly:!!V,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${V?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),b.jsx("input",{name:"email",type:"email",defaultValue:ye,readOnly:!!V,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${V?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),b.jsxs("select",{name:"role",defaultValue:R.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[b.jsx("option",{children:"Student"}),b.jsx("option",{children:"Faculty / Staff"}),b.jsx("option",{children:"Club Representative"})]})]})]})]})}function ht({inventory:R,setInventory:V}){const[x,ye]=De.useState(R),[ke,U]=De.useState(!1),[Z,J]=De.useState(""),[pe,de]=De.useState(1),[D,F]=De.useState("film"),[W,ne]=De.useState(!1),oe=(re,ce,ge)=>{ye(Ie=>({...Ie,[re]:{...Ie[re],[ce]:ge}}))},fe=re=>{if(window.confirm(`Delete "${re}" from inventory permanently?`)){const ce={...x};delete ce[re],ye(ce)}},Se=re=>{if(re.preventDefault(),!Z)return;const ce=W?`${Z} *`:Z;ye(ge=>({...ge,[ce]:{count:parseInt(pe)||0,category:D,requiresTraining:W}})),J(""),de(1),ne(!1)},$e=async()=>{U(!0);try{await Rv(Al(Mi,"settings","inventory_v2"),x),V(x),alert("Inventory matrix updated.")}catch(re){console.error("Error:",re),alert("Save failed.")}U(!1)},ae={film:[],photo:[],culinary:[],general:[]};return Object.entries(x).forEach(([re,ce])=>{ae[ce.category]?ae[ce.category].push({name:re,...ce}):ae.general.push({name:re,...ce})}),b.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[b.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6 flex justify-between items-center",children:[b.jsx("div",{children:b.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(d_,{className:"text-amber-400"})," Inventory Matrix"]})}),b.jsxs("button",{onClick:$e,disabled:ke,className:"bg-amber-600 hover:bg-amber-500 text-slate-900 px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50 shadow-[0_0_15px_rgba(245,158,11,0.3)]",children:[ke?b.jsx(ZA,{className:"animate-spin",size:18}):b.jsx(Rc,{size:18})," ",ke?"Processing...":"Save Changes"]})]}),b.jsxs("div",{className:"p-6 bg-slate-900/30 border-b border-slate-800",children:[b.jsx("h3",{className:"text-sm font-mono text-cyan-500 uppercase mb-3",children:"Add New Asset"}),b.jsxs("form",{onSubmit:Se,className:"flex flex-col md:flex-row gap-4 items-end",children:[b.jsxs("div",{className:"flex-1 w-full",children:[b.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Item Name"}),b.jsx("input",{type:"text",value:Z,onChange:re=>J(re.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",placeholder:"e.g. GoPro Hero 10",required:!0})]}),b.jsxs("div",{className:"w-24",children:[b.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Count"}),b.jsx("input",{type:"number",min:"0",value:pe,onChange:re=>de(re.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none"})]}),b.jsxs("div",{className:"w-32",children:[b.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Category"}),b.jsxs("select",{value:D,onChange:re=>F(re.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",children:[b.jsx("option",{value:"film",children:"Film"}),b.jsx("option",{value:"photo",children:"Photo"}),b.jsx("option",{value:"culinary",children:"Culinary"}),b.jsx("option",{value:"general",children:"General"})]})]}),b.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[b.jsx("input",{type:"checkbox",checked:W,onChange:re=>ne(re.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-slate-950 text-cyan-500 focus:ring-cyan-500"}),b.jsx("label",{className:"text-sm text-slate-400",children:"Requires Training"})]}),b.jsxs("button",{type:"submit",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded font-medium flex items-center gap-1",children:[b.jsx(XA,{size:16})," Add"]})]})]}),b.jsx("div",{className:"p-6 space-y-8",children:Object.entries(ae).map(([re,ce])=>b.jsxs("div",{children:[b.jsxs("h3",{className:"text-lg font-bold text-white capitalize mb-4 border-b border-slate-800 pb-2",children:[re," Inventory"]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ce.map(ge=>b.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700 flex justify-between items-center hover:border-slate-600 transition-colors",children:[b.jsxs("div",{className:"flex-1 mr-4",children:[b.jsx("span",{className:"font-mono text-slate-300 text-sm block truncate",children:ge.name.replace("*","")}),ge.requiresTraining&&b.jsx("span",{className:"text-[10px] text-red-400 uppercase bg-red-900/20 px-1 rounded",children:"Training Req."})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"number",min:"0",value:ge.count,onChange:Ie=>oe(ge.name,"count",parseInt(Ie.target.value)),className:"w-16 p-1 bg-slate-950 border border-slate-700 rounded text-center font-bold text-cyan-400 focus:border-cyan-500 outline-none text-sm"}),b.jsx("button",{onClick:()=>fe(ge.name),className:"text-slate-600 hover:text-red-500 transition-colors",children:b.jsx(rS,{size:16})})]})]},ge.name))})]},re))})]})}function Ge(){const[R,V]=De.useState(!0),[x,ye]=De.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});De.useEffect(()=>{const U=vl(Fa(Mi,"requests")),Z=tm(U,J=>{let pe=0,de=0,D=0,F={},W={};J.forEach(oe=>{const fe=oe.data();pe++,(fe.status==="Approved"||fe.status==="Completed")&&de++,fe.status==="Pending Review"&&D++,F[fe.dept]=(F[fe.dept]||0)+1,fe.equipment&&(Array.isArray(fe.equipment)?fe.equipment:[fe.equipment]).forEach($e=>{W[$e]=(W[$e]||0)+1})});const ne=Object.entries(W).sort(([,oe],[,fe])=>fe-oe).slice(0,5);ye({total:pe,approved:de,pending:D,deptCounts:F,topEquipment:ne}),V(!1)});return()=>Z()},[]);const ke=x.total>0?Math.round(x.approved/x.total*100):0;return b.jsx("div",{className:"space-y-6 animate-fade-in",children:b.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsx("div",{children:b.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[b.jsx(oS,{className:"text-emerald-400"})," Data Analytics"]})}),b.jsxs("div",{className:"bg-slate-800 border border-slate-700 px-4 py-2 rounded-lg text-cyan-400 font-mono text-sm",children:["Total Requests: ",b.jsx("strong",{children:x.total})]})]}),R?b.jsx("div",{className:"text-center py-12 text-slate-500 font-mono",children:"CALCULATING..."}):b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-emerald-950/30 rounded-xl p-5 border border-emerald-500/20",children:[b.jsx("h4",{className:"text-emerald-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Approval Rate"}),b.jsx("div",{className:"flex items-end gap-2",children:b.jsxs("span",{className:"text-4xl font-bold text-emerald-400 font-mono",children:[ke,"%"]})})]}),b.jsxs("div",{className:"bg-blue-950/30 rounded-xl p-5 border border-blue-500/20",children:[b.jsx("h4",{className:"text-blue-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Completed"}),b.jsx("div",{className:"flex items-end gap-2",children:b.jsx("span",{className:"text-4xl font-bold text-blue-400 font-mono",children:x.approved})})]}),b.jsxs("div",{className:"bg-amber-950/30 rounded-xl p-5 border border-amber-500/20",children:[b.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Pending"}),b.jsx("div",{className:"flex items-end gap-2",children:b.jsx("span",{className:"text-4xl font-bold text-amber-400 font-mono",children:x.pending})})]}),b.jsxs("div",{className:"md:col-span-2 bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[b.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[b.jsx(SA,{size:16,className:"text-purple-400"})," Requests by Department"]}),b.jsx("div",{className:"space-y-4",children:Object.entries(x.deptCounts).sort(([,U],[,Z])=>Z-U).map(([U,Z])=>{const J=Z/x.total*100;return b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs mb-2 font-mono",children:[b.jsx("span",{className:"text-slate-400",children:U}),b.jsx("span",{className:"text-cyan-400",children:Z})]}),b.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:b.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${J}%`}})})]},U)})})]}),b.jsxs("div",{className:"bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[b.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[b.jsx(Hd,{size:16,className:"text-pink-400"})," Top Gear"]}),b.jsx("ul",{className:"space-y-3",children:x.topEquipment.map(([U,Z],J)=>b.jsxs("li",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 text-cyan-400 flex items-center justify-center text-xs font-mono border border-slate-700",children:J+1}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:U.replace(" *","")}),b.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[Z," uses"]})]})]},U))})]})]})]})})}function C({adminMode:R,setAdminMode:V,ALLOWED_ADMINS:x}){const[ye,ke]=De.useState([]),[U,Z]=De.useState("all"),[J,pe]=De.useState(!0),[de,D]=De.useState(null),[F,W]=De.useState("");De.useEffect(()=>{const ae=vl(Fa(Mi,"requests"),hI("createdAt","desc")),re=tm(ae,ce=>{const ge=ce.docs.map(Ie=>({id:Ie.id,...Ie.data(),formattedDate:Ie.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));ke(ge),pe(!1)});return()=>re()},[]);const ne=async(ae,re)=>{window.confirm(`Confirm status change to: ${re}?`)&&(await pI(Al(Mi,"requests",ae.id),{status:re}),de&&de.id===ae.id&&D(ce=>({...ce,status:re})),Yv({to_name:ae.fullName,to_email:ae.email,subject:`Request Update: ${ae.title}`,title:ae.title,status:re,message:`Status updated to ${re}.`}))},oe=async ae=>{window.confirm("Delete this record permanently?")&&(await gI(Al(Mi,"requests",ae)),de&&de.id===ae&&D(null))},fe=()=>{const ae=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],re=ye.map(Pe=>[Pe.displayId,Pe.dept,`"${Pe.title}"`,Pe.fullName,Pe.email,Pe.formattedDate,Pe.status,`"${(Pe.details||Pe.brief||Pe.description||"").replace(/"/g,'""')}"`]),ce="data:text/csv;charset=utf-8,"+[ae.join(","),...re.map(Pe=>Pe.join(","))].join(`
`),ge=encodeURI(ce),Ie=document.createElement("a");Ie.setAttribute("href",ge),Ie.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie)},Se=ye.filter(ae=>{const re=U==="all"?!0:ae.dept?.toLowerCase().includes(U.toLowerCase()),ce=F.toLowerCase(),ge=ae.title?.toLowerCase().includes(ce)||ae.fullName?.toLowerCase().includes(ce)||ae.displayId?.toLowerCase().includes(ce)||ae.email?.toLowerCase().includes(ce);return re&&ge}),$e=ae=>{switch(ae){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return b.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[de&&b.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),b.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[b.jsxs("span",{children:["ID: ",de.displayId||"N/A"]}),b.jsxs("span",{className:"opacity-50",children:["| Ref: ",de.id]})]})]}),b.jsx("button",{onClick:()=>D(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:b.jsx(Fd,{size:20})})]}),b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),b.jsx("p",{className:"font-semibold text-white capitalize",children:de.dept})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),b.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${$e(de.status)}`,children:de.status})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),b.jsx("p",{className:"text-slate-200",children:de.fullName})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),b.jsx("p",{className:"text-slate-200 font-mono text-sm",children:de.email})]})]}),b.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[b.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[b.jsx(u_,{size:16,className:"text-cyan-500"})," Mission Details"]}),b.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(de).map(([ae,re])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(ae)?null:Array.isArray(re)?b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ae}),b.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:re.map((ce,ge)=>b.jsx("li",{children:ce},ge))})]},ae):b.jsxs("div",{children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ae.replace(/([A-Z])/g," $1").trim()}),b.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:re})]},ae))})]}),R&&b.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[b.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{onClick:()=>ne(de,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),b.jsx("button",{onClick:()=>ne(de,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),b.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[b.jsx(h_,{className:"text-purple-400"})," Request Log"]}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[b.jsxs("div",{className:"relative flex-1 lg:w-64",children:[b.jsx(eS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),b.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:F,onChange:ae=>W(ae.target.value)})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:U,onChange:ae=>Z(ae.target.value),children:[b.jsx("option",{value:"all",children:"All Sectors"}),b.jsx("option",{value:"film",children:"Film"}),b.jsx("option",{value:"graphic",children:"Graphic"}),b.jsx("option",{value:"business",children:"Business"}),b.jsx("option",{value:"culinary",children:"Culinary"}),b.jsx("option",{value:"photo",children:"Photo"})]}),R&&b.jsxs("button",{onClick:fe,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[b.jsx(VA,{size:16})," ",b.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),b.jsx("div",{className:"overflow-x-auto",children:J?b.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):b.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[b.jsx("th",{className:"p-4",children:"ID Code"}),b.jsx("th",{className:"p-4",children:"Sector"}),b.jsx("th",{className:"p-4",children:"Objective"}),b.jsx("th",{className:"p-4",children:"Agent"}),b.jsx("th",{className:"p-4",children:"Status"}),b.jsx("th",{className:"p-4",children:"View"}),R&&b.jsx("th",{className:"p-4",children:"Override"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-800",children:Se.map(ae=>b.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[b.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:ae.displayId}),b.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:ae.dept}),b.jsx("td",{className:"p-4 text-white font-medium text-sm",children:ae.title}),b.jsx("td",{className:"p-4 text-slate-400 text-sm",children:ae.fullName}),b.jsx("td",{className:"p-4",children:b.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${$e(ae.status)}`,children:ae.status})}),b.jsx("td",{className:"p-4",children:b.jsx("button",{onClick:()=>D(ae),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:b.jsx(jA,{size:20})})}),R&&b.jsxs("td",{className:"p-4 flex gap-2",children:[b.jsx("button",{onClick:()=>ne(ae,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:b.jsx(wA,{size:16})}),b.jsx("button",{onClick:()=>ne(ae,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:b.jsx(Fd,{size:16})}),b.jsx("button",{onClick:()=>oe(ae.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:b.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},ae.id))})]})})]})}function w({title:R,icon:V,colorClass:x,children:ye,setSubmitted:ke,initialData:U={},onCancel:Z,currentUser:J,blackouts:pe=[]}){const de=De.useRef(null),D=kc(R),[F,W]=De.useState(!1),ne=()=>{const re=new FormData(de.current),ce={};for(const[ge,Ie]of re.entries())ce[ge]?(Array.isArray(ce[ge])||(ce[ge]=[ce[ge]]),ce[ge].push(Ie)):ce[ge]=Ie;return localStorage.setItem(D,JSON.stringify(ce)),!0},oe=re=>{re.preventDefault(),ne(),alert("Draft secured in local cache.")},fe=()=>{W(!0)},Se=()=>{ne(),W(!1),Z()},$e=()=>{localStorage.removeItem(D),W(!1),Z()},ae=async re=>{re.preventDefault();const ce=new FormData(re.target),ge={};for(const[Qe,nt]of ce.entries())ge[Qe]?(Array.isArray(ge[Qe])||(ge[Qe]=[ge[Qe]]),ge[Qe].push(nt)):ge[Qe]=nt;const Ie=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let Pe=!1;if(Ie.forEach(Qe=>{ge[Qe]&&pe.includes(ge[Qe])&&(Pe=!0)}),Pe){alert("Date blocked by admin protocol. Select alternative.");return}try{const Qe=Date.now().toString().slice(-4),nt=Math.floor(1e3+Math.random()*9e3),hi=`REQ-${Qe}-${nt}`;await yI(Fa(Mi,"requests"),{...ge,dept:R,displayId:hi,status:"Pending Review",createdAt:new Date,title:ge.requestName||ge.eventName||ge.projectType||ge.businessName||"New Request"}),Yv({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${ge.requestName}`,title:ge.requestName,status:"Pending Review",message:`New request (${hi}) from ${ge.fullName}.`}),localStorage.removeItem(D),ke(!0)}catch(Qe){console.error(Qe),alert("Transmission error.")}};return b.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[F&&b.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:b.jsx(uS,{size:32})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),b.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("button",{onClick:Se,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[b.jsx(Rc,{size:18})," Secure Draft & Exit"]}),b.jsx("button",{onClick:$e,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),b.jsx("button",{onClick:()=>W(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),b.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),b.jsxs("div",{className:"p-5 md:p-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${x.replace("bg-","text-")}`,children:b.jsx(V,{size:28})}),b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[R," Protocol"]}),b.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),b.jsx("button",{type:"button",onClick:fe,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:b.jsx(Fd,{size:24})})]}),b.jsxs("form",{ref:de,onSubmit:ae,children:[b.jsx(tt,{initialData:U,currentUser:J}),ye,b.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[b.jsx("button",{type:"button",onClick:fe,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),b.jsxs("button",{type:"button",onClick:oe,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[b.jsx(Rc,{size:18})," Save Draft"]}),b.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function N({setSubmitted:R,onCancel:V,currentUser:x,inventory:ye,blackouts:ke}){const U="Film",Z=kc(U),J=JSON.parse(localStorage.getItem(Z)||"{}"),[pe,de]=De.useState(J.requestType||"checkout"),[D,F]=De.useState({}),[W,ne]=De.useState(!1),[oe,fe]=De.useState({start:J.checkoutDate||"",end:J.returnDate||""}),Se=re=>{const ce={...oe,[re.target.name==="checkoutDate"?"start":"end"]:re.target.value};fe(ce)};De.useEffect(()=>{(async()=>{if(!oe.start||!oe.end||pe!=="checkout"){ne(!1);return}ne(!0);const ce=vl(Fa(Mi,"requests"),Mc("dept","==","Film"),Mc("requestType","==","checkout")),ge=await wv(ce),Ie={};ge.forEach(Qe=>{const nt=Qe.data();nt.status==="Denied"||nt.status==="Completed"||nt.checkoutDate<=oe.end&&nt.returnDate>=oe.start&&nt.equipment&&(Array.isArray(nt.equipment)?nt.equipment:[nt.equipment]).forEach(Kn=>{Ie[Kn]=(Ie[Kn]||0)+1})});const Pe={};Object.keys(ye).forEach(Qe=>{(ye[Qe].category==="film"||ye[Qe].category==="general")&&(Pe[Qe]=Math.max(0,ye[Qe].count-(Ie[Qe]||0)))}),F(Pe)})()},[oe,pe,ye]);const $e=oe.start&&oe.end&&oe.start===oe.end,ae=Object.entries(ye).filter(([re,ce])=>ce.category==="film"||ce.category==="general").sort((re,ce)=>re[0].localeCompare(ce[0]));return b.jsxs(w,{title:U,icon:m_,colorClass:"bg-blue-600",setSubmitted:R,initialData:J,onCancel:V,currentUser:x,blackouts:ke,children:[b.jsx("input",{type:"hidden",name:"requestType",value:pe}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("button",{type:"button",onClick:()=>de("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${pe==="checkout"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[b.jsx(l_,{size:24}),b.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]}),b.jsxs("button",{type:"button",onClick:()=>de("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${pe==="service"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[b.jsx(GA,{size:24}),b.jsx("span",{className:"font-bold",children:"Production Team"})]})]})]}),pe==="checkout"?b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 text-sm text-blue-200 flex items-start gap-3",children:[b.jsx(c_,{className:"shrink-0 mt-0.5 text-blue-400",size:16}),b.jsxs("p",{children:[b.jsx("strong",{children:"Protocol:"})," Equipment return deadline is 0800 hours the following school day."]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),b.jsx("input",{name:"checkoutDate",defaultValue:J.checkoutDate,onChange:Se,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),b.jsx("input",{name:"returnDate",defaultValue:J.returnDate,onChange:Se,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),$e&&b.jsxs("div",{className:"animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[b.jsx("label",{className:"block text-xs font-mono text-cyan-400 uppercase mb-1",children:"Specific Duration"}),b.jsxs("select",{name:"durationHours",defaultValue:J.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[b.jsx("option",{value:"",children:"Select Duration..."}),b.jsx("option",{value:"1 Hour",children:"1 Hour"}),b.jsx("option",{value:"2 Hours",children:"2 Hours"}),b.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),b.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:["Select Assets ",b.jsx("span",{className:"text-red-500 ml-2 normal-case tracking-normal",children:"* Certification Required"})]}),W?b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:ae.map(([re,ce])=>{const ge=D[re]!==void 0?D[re]:99,Ie=ge<=0,Pe=re.replace(" *","").replace("*","");return b.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${Ie?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-cyan-500/50 hover:shadow-[0_0_10px_rgba(8,145,178,0.1)] cursor-pointer"}`,children:[b.jsx("input",{type:"checkbox",name:"equipment",value:re,disabled:Ie,defaultChecked:J.equipment?.includes(re),className:"w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[Pe," ",ce.requiresTraining&&b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${Ie?"text-red-500":"text-emerald-500"}`,children:Ie?"OFFLINE / UNAVAILABLE":`${ge} UNITS ACTIVE`})]})]},re)})}):b.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[b.jsx(Bd,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),b.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:b.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[b.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),b.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[b.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),b.jsx("input",{name:"eventDate",defaultValue:J.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),b.jsx("input",{name:"startTime",defaultValue:J.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Required"}),b.jsxs("select",{name:"serviceType",defaultValue:J.serviceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[b.jsx("option",{children:"Live Broadcast (Stream)"}),b.jsx("option",{children:"Event Recording (Edited later)"}),b.jsx("option",{children:"Raw Footage Only"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Mission Details"}),b.jsx("textarea",{name:"details",defaultValue:J.details,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none h-24",placeholder:"Describe specific shots, locations, or requirements..."})]})]})]})}function k({setSubmitted:R,onCancel:V,currentUser:x,inventory:ye,blackouts:ke}){const U="Photo",Z=kc(U),J=JSON.parse(localStorage.getItem(Z)||"{}"),[pe,de]=De.useState(J.requestType||"service"),[D,F]=De.useState({}),[W,ne]=De.useState(!1),[oe,fe]=De.useState({start:J.pickupDate||"",end:J.returnDate||""}),Se=re=>{const ce={...oe,[re.target.name==="pickupDate"?"start":"end"]:re.target.value};fe(ce)};De.useEffect(()=>{(async()=>{if(!oe.start||!oe.end||pe!=="checkout"){ne(!1);return}ne(!0);const ce=vl(Fa(Mi,"requests"),Mc("dept","==","Photo"),Mc("requestType","==","checkout")),ge=await wv(ce),Ie={};ge.forEach(Qe=>{const nt=Qe.data();nt.status==="Denied"||nt.status==="Completed"||nt.pickupDate<=oe.end&&nt.returnDate>=oe.start&&nt.equipment&&(Array.isArray(nt.equipment)?nt.equipment:[nt.equipment]).forEach(Kn=>{Ie[Kn]=(Ie[Kn]||0)+1})});const Pe={};Object.keys(ye).forEach(Qe=>{(ye[Qe].category==="photo"||ye[Qe].category==="general")&&(Pe[Qe]=Math.max(0,ye[Qe].count-(Ie[Qe]||0)))}),F(Pe)})()},[oe,pe,ye]);const $e=oe.start&&oe.end&&oe.start===oe.end,ae=Object.entries(ye).filter(([re,ce])=>ce.category==="photo"||ce.category==="general").sort((re,ce)=>re[0].localeCompare(ce[0]));return b.jsxs(w,{title:U,icon:Hd,colorClass:"bg-pink-600",setSubmitted:R,initialData:J,onCancel:V,currentUser:x,blackouts:ke,children:[b.jsx("input",{type:"hidden",name:"requestType",value:pe}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("button",{type:"button",onClick:()=>de("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${pe==="service"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[b.jsx(dS,{size:24}),b.jsx("span",{className:"font-bold",children:"Event Coverage"})]}),b.jsxs("button",{type:"button",onClick:()=>de("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${pe==="checkout"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[b.jsx(l_,{size:24}),b.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]})]})]}),pe==="checkout"?b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"bg-pink-900/20 p-4 rounded-lg border border-pink-500/30 text-sm text-pink-200 flex items-start gap-3",children:[b.jsx(c_,{className:"shrink-0 mt-0.5 text-pink-400",size:16}),b.jsxs("p",{children:[b.jsx("strong",{children:"Requirement:"})," Advanced Photo I certification required for DSLR bodies."]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Pickup Date"}),b.jsx("input",{name:"pickupDate",defaultValue:J.pickupDate,onChange:Se,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),b.jsx("input",{name:"returnDate",defaultValue:J.returnDate,onChange:Se,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),$e&&b.jsxs("div",{className:"mb-4 animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[b.jsx("label",{className:"block text-xs font-mono text-pink-400 uppercase mb-1",children:"Specific Duration"}),b.jsxs("select",{name:"durationHours",defaultValue:J.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",children:[b.jsx("option",{value:"",children:"Select Duration..."}),b.jsx("option",{value:"1 Hour",children:"1 Hour"}),b.jsx("option",{value:"2 Hours",children:"2 Hours"}),b.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),b.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:"Select Assets"}),W?b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:ae.map(([re,ce])=>{const ge=D[re]!==void 0?D[re]:99,Ie=ge<=0,Pe=re.replace(" *","").replace("*","");return b.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${Ie?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-pink-500/50 hover:shadow-[0_0_10px_rgba(236,72,153,0.1)] cursor-pointer"}`,children:[b.jsx("input",{type:"checkbox",name:"equipment",value:re,disabled:Ie,defaultChecked:J.equipment?.includes(re),className:"w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[Pe," ",ce.requiresTraining&&b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${Ie?"text-red-500":"text-emerald-500"}`,children:Ie?"OFFLINE / UNAVAILABLE":`${ge} UNITS ACTIVE`})]})]},re)})}):b.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[b.jsx(Bd,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),b.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:b.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[b.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),b.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[b.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),b.jsx("input",{name:"eventDate",defaultValue:J.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),b.jsx("input",{name:"startTime",defaultValue:J.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Location"}),b.jsx("input",{name:"location",defaultValue:J.location,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",placeholder:"e.g., Gym"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Specific Shots"}),b.jsx("textarea",{name:"shotList",defaultValue:J.shotList,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none h-24",placeholder:"Key moments..."})]})]})]})}};uA.createRoot(document.getElementById("root")).render(b.jsx(De.StrictMode,{children:b.jsx(VC,{})}));
