(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ud={exports:{}},To={};var e_;function hx(){if(e_)return To;e_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return To.Fragment=e,To.jsx=i,To.jsxs=i,To}var t_;function fx(){return t_||(t_=1,Ud.exports=hx()),Ud.exports}var p=fx(),Pd={exports:{}},Me={};var n_;function dx(){if(n_)return Me;n_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function Q(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ne={};function Te(N,P,J){this.props=N,this.context=P,this.refs=ne,this.updater=J||te}Te.prototype.isReactComponent={},Te.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},Te.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Oe(){}Oe.prototype=Te.prototype;function Re(N,P,J){this.props=N,this.context=P,this.refs=ne,this.updater=J||te}var rt=Re.prototype=new Oe;rt.constructor=Re,se(rt,Te.prototype),rt.isPureReactComponent=!0;var mt=Array.isArray;function $e(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(N,P,J){var W=J.ref;return{$$typeof:s,type:N,key:P,ref:W!==void 0?W:null,props:J}}function V(N,P){return w(N.type,P,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function j(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(J){return P[J]})}var R=/\/+/g;function gt(N,P){return typeof N=="object"&&N!==null&&N.key!=null?j(""+N.key):P.toString(36)}function de(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then($e,$e):(N.status="pending",N.then(function(P){N.status==="pending"&&(N.status="fulfilled",N.value=P)},function(P){N.status==="pending"&&(N.status="rejected",N.reason=P)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function L(N,P,J,W,le){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(ge){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case s:case e:be=!0;break;case x:return be=N._init,L(be(N._payload),P,J,W,le)}}if(be)return le=le(N),be=W===""?"."+gt(N,0):W,mt(le)?(J="",be!=null&&(J=be.replace(R,"$&/")+"/"),L(le,P,J,"",function(Je){return Je})):le!=null&&(O(le)&&(le=V(le,J+(le.key==null||N&&N.key===le.key?"":(""+le.key).replace(R,"$&/")+"/")+be)),P.push(le)),1;be=0;var ye=W===""?".":W+":";if(mt(N))for(var ue=0;ue<N.length;ue++)W=N[ue],ge=ye+gt(W,ue),be+=L(W,P,J,ge,le);else if(ue=Q(N),typeof ue=="function")for(N=ue.call(N),ue=0;!(W=N.next()).done;)W=W.value,ge=ye+gt(W,ue++),be+=L(W,P,J,ge,le);else if(ge==="object"){if(typeof N.then=="function")return L(de(N),P,J,W,le);throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return be}function X(N,P,J){if(N==null)return N;var W=[],le=0;return L(N,W,"","",function(ge){return P.call(J,ge,le++)}),W}function ee(N){if(N._status===-1){var P=N._result;P=P(),P.then(function(J){(N._status===0||N._status===-1)&&(N._status=1,N._result=J)},function(J){(N._status===0||N._status===-1)&&(N._status=2,N._result=J)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var ce=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ie={map:X,forEach:function(N,P,J){X(N,function(){P.apply(this,arguments)},J)},count:function(N){var P=0;return X(N,function(){P++}),P},toArray:function(N){return X(N,function(P){return P})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Me.Activity=S,Me.Children=ie,Me.Component=Te,Me.Fragment=i,Me.Profiler=o,Me.PureComponent=Re,Me.StrictMode=r,Me.Suspense=v,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},Me.cache=function(N){return function(){return N.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(N,P,J){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=se({},N.props),le=N.key;if(P!=null)for(ge in P.key!==void 0&&(le=""+P.key),P)!A.call(P,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&P.ref===void 0||(W[ge]=P[ge]);var ge=arguments.length-2;if(ge===1)W.children=J;else if(1<ge){for(var be=Array(ge),ye=0;ye<ge;ye++)be[ye]=arguments[ye+2];W.children=be}return w(N.type,le,W)},Me.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Me.createElement=function(N,P,J){var W,le={},ge=null;if(P!=null)for(W in P.key!==void 0&&(ge=""+P.key),P)A.call(P,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=P[W]);var be=arguments.length-2;if(be===1)le.children=J;else if(1<be){for(var ye=Array(be),ue=0;ue<be;ue++)ye[ue]=arguments[ue+2];le.children=ye}if(N&&N.defaultProps)for(W in be=N.defaultProps,be)le[W]===void 0&&(le[W]=be[W]);return w(N,ge,le)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:y,render:N}},Me.isValidElement=O,Me.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:ee}},Me.memo=function(N,P){return{$$typeof:_,type:N,compare:P===void 0?null:P}},Me.startTransition=function(N){var P=I.T,J={};I.T=J;try{var W=N(),le=I.S;le!==null&&le(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then($e,ce)}catch(ge){ce(ge)}finally{P!==null&&J.types!==null&&(P.types=J.types),I.T=P}},Me.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Me.use=function(N){return I.H.use(N)},Me.useActionState=function(N,P,J){return I.H.useActionState(N,P,J)},Me.useCallback=function(N,P){return I.H.useCallback(N,P)},Me.useContext=function(N){return I.H.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N,P){return I.H.useDeferredValue(N,P)},Me.useEffect=function(N,P){return I.H.useEffect(N,P)},Me.useEffectEvent=function(N){return I.H.useEffectEvent(N)},Me.useId=function(){return I.H.useId()},Me.useImperativeHandle=function(N,P,J){return I.H.useImperativeHandle(N,P,J)},Me.useInsertionEffect=function(N,P){return I.H.useInsertionEffect(N,P)},Me.useLayoutEffect=function(N,P){return I.H.useLayoutEffect(N,P)},Me.useMemo=function(N,P){return I.H.useMemo(N,P)},Me.useOptimistic=function(N,P){return I.H.useOptimistic(N,P)},Me.useReducer=function(N,P,J){return I.H.useReducer(N,P,J)},Me.useRef=function(N){return I.H.useRef(N)},Me.useState=function(N){return I.H.useState(N)},Me.useSyncExternalStore=function(N,P,J){return I.H.useSyncExternalStore(N,P,J)},Me.useTransition=function(){return I.H.useTransition()},Me.version="19.2.0",Me}var i_;function jm(){return i_||(i_=1,Pd.exports=dx()),Pd.exports}var we=jm(),zd={exports:{}},xo={},qd={exports:{}},Bd={};var s_;function mx(){return s_||(s_=1,(function(s){function e(L,X){var ee=L.length;L.push(X);e:for(;0<ee;){var ce=ee-1>>>1,ie=L[ce];if(0<o(ie,X))L[ce]=X,L[ee]=ie,ee=ce;else break e}}function i(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var X=L[0],ee=L.pop();if(ee!==X){L[0]=ee;e:for(var ce=0,ie=L.length,N=ie>>>1;ce<N;){var P=2*(ce+1)-1,J=L[P],W=P+1,le=L[W];if(0>o(J,ee))W<ie&&0>o(le,J)?(L[ce]=le,L[W]=ee,ce=W):(L[ce]=J,L[P]=ee,ce=P);else if(W<ie&&0>o(le,ee))L[ce]=le,L[W]=ee,ce=W;else break e}}return X}function o(L,X){var ee=L.sortIndex-X.sortIndex;return ee!==0?ee:L.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],x=1,S=null,M=3,Q=!1,te=!1,se=!1,ne=!1,Te=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;function rt(L){for(var X=i(_);X!==null;){if(X.callback===null)r(_);else if(X.startTime<=L)r(_),X.sortIndex=X.expirationTime,e(v,X);else break;X=i(_)}}function mt(L){if(se=!1,rt(L),!te)if(i(v)!==null)te=!0,$e||($e=!0,j());else{var X=i(_);X!==null&&de(mt,X.startTime-L)}}var $e=!1,I=-1,A=5,w=-1;function V(){return ne?!0:!(s.unstable_now()-w<A)}function O(){if(ne=!1,$e){var L=s.unstable_now();w=L;var X=!0;try{e:{te=!1,se&&(se=!1,Oe(I),I=-1),Q=!0;var ee=M;try{t:{for(rt(L),S=i(v);S!==null&&!(S.expirationTime>L&&V());){var ce=S.callback;if(typeof ce=="function"){S.callback=null,M=S.priorityLevel;var ie=ce(S.expirationTime<=L);if(L=s.unstable_now(),typeof ie=="function"){S.callback=ie,rt(L),X=!0;break t}S===i(v)&&r(v),rt(L)}else r(v);S=i(v)}if(S!==null)X=!0;else{var N=i(_);N!==null&&de(mt,N.startTime-L),X=!1}}break e}finally{S=null,M=ee,Q=!1}X=void 0}}finally{X?j():$e=!1}}}var j;if(typeof Re=="function")j=function(){Re(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,gt=R.port2;R.port1.onmessage=O,j=function(){gt.postMessage(null)}}else j=function(){Te(O,0)};function de(L,X){I=Te(function(){L(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(L){switch(M){case 1:case 2:case 3:var X=3;break;default:X=M}var ee=M;M=X;try{return L()}finally{M=ee}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=M;M=L;try{return X()}finally{M=ee}},s.unstable_scheduleCallback=function(L,X,ee){var ce=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ce+ee:ce):ee=ce,L){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ee+ie,L={id:x++,callback:X,priorityLevel:L,startTime:ee,expirationTime:ie,sortIndex:-1},ee>ce?(L.sortIndex=ee,e(_,L),i(v)===null&&L===i(_)&&(se?(Oe(I),I=-1):se=!0,de(mt,ee-ce))):(L.sortIndex=ie,e(v,L),te||Q||(te=!0,$e||($e=!0,j()))),L},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(L){var X=M;return function(){var ee=M;M=X;try{return L.apply(this,arguments)}finally{M=ee}}}})(Bd)),Bd}var r_;function px(){return r_||(r_=1,qd.exports=mx()),qd.exports}var Hd={exports:{}},fn={};var a_;function gx(){if(a_)return fn;a_=1;var s=jm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,x)},fn.flushSync=function(v){var _=d.T,x=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=x,r.d.f()}},fn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},fn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},fn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var x=_.as,S=y(x,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:Q}):x==="script"&&r.d.X(v,{crossOrigin:S,integrity:M,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},fn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,S=y(x,_.crossOrigin);r.d.L(v,x,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(v,_){if(typeof v=="string")if(_){var x=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},fn.requestFormReset=function(v){r.d.r(v)},fn.unstable_batchedUpdates=function(v,_){return v(_)},fn.useFormState=function(v,_,x){return d.H.useFormState(v,_,x)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var l_;function yx(){if(l_)return Hd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=gx(),Hd.exports}var o_;function _x(){if(o_)return xo;o_=1;var s=px(),e=jm(),i=yx();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=f;break}if(E===l){g=!0,l=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=h;break}if(E===l){g=!0,l=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),Oe=Symbol.for("react.consumer"),Re=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case Te:return"Profiler";case ne:return"StrictMode";case mt:return"Suspense";case $e:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case Re:return t.displayName||"Context";case Oe:return(t._context.displayName||"Context")+".Consumer";case rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:gt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return gt(t(n))}catch{}}return null}var de=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ce=[],ie=-1;function N(t){return{current:t}}function P(t){0>ie||(t.current=ce[ie],ce[ie]=null,ie--)}function J(t,n){ie++,ce[ie]=t.current,t.current=n}var W=N(null),le=N(null),ge=N(null),be=N(null);function ye(t,n){switch(J(ge,n),J(le,t),J(W,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?x0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=x0(n),t=S0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(W),J(W,t)}function ue(){P(W),P(le),P(ge)}function Je(t){t.memoizedState!==null&&J(be,t);var n=W.current,a=S0(n,t.type);n!==a&&(J(le,t),J(W,a))}function At(t){le.current===t&&(P(W),P(le)),be.current===t&&(P(be),_o._currentValue=ee)}var _t,pe;function he(t){if(_t===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);_t=n&&n[1]||"",pe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+t+pe}var Ee=!1;function xe(t,n){if(!t||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var B=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){B=F}t.call($.prototype)}}else{try{throw Error()}catch(F){B=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),q=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?he(a):""}function Pe(t,n){switch(t.tag){case 26:case 27:case 5:return he(t.type);case 16:return he("Lazy");case 13:return t.child!==n&&n!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return xe(t.type,!1);case 11:return xe(t.type.render,!1);case 1:return xe(t.type,!0);case 31:return he("Activity");default:return""}}function et(t){try{var n="",a=null;do n+=Pe(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ae=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,Kt=s.unstable_cancelCallback,zn=s.unstable_shouldYield,Be=s.unstable_requestPaint,qe=s.unstable_now,Tt=s.unstable_getCurrentPriorityLevel,kt=s.unstable_ImmediatePriority,El=s.unstable_UserBlockingPriority,Ts=s.unstable_NormalPriority,zh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,ni=null,tn=null;function qn(t){if(typeof nu=="function"&&iu(t),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ni,t)}catch{}}var It=Math.clz32?Math.clz32:ru,su=Math.log,ua=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(su(t)/ua|0)|0}var _i=256,br=262144,jt=4194304;function vi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bi(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=vi(l):(g&=E,g!==0?h=vi(g):a||(a=E&~t,a!==0&&(h=vi(a))))):(E=l&~f,E!==0?h=vi(E):g!==0?h=vi(g):a||(a=l&~t,a!==0&&(h=vi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function ii(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),t}function Ei(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Er(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,a,l,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-It(a),$=1<<G;E[G]=0,C[G]=-1;var B=q[G];if(B!==null)for(q[G]=null,G=0;G<B.length;G++){var F=B[G];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&Tr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Tr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-It(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Tl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-It(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function xl(t,n){var a=n&-n;return a=(a&42)!==0?1:xr(a),(a&(t.suspendedLanes|n))!==0?0:a}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:K0(t.type))}function si(t,n){var a=X.p;try{return X.p=t,n()}finally{X.p=a}}var ri=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ri,$t="__reactProps$"+ri,Ti="__reactContainer$"+ri,ca="__reactEvents$"+ri,Hh="__reactListeners$"+ri,ou="__reactHandles$"+ri,uu="__reactResources$"+ri,xi="__reactMarker$"+ri;function ha(t){delete t[Lt],delete t[$t],delete t[ca],delete t[Hh],delete t[ou]}function Si(t){var n=t[Lt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ti]||a[Lt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=D0(t);t!==null;){if(a=t[Lt])return a;t=D0(t)}return n}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[Lt]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ai(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ut(t){t[xi]=!0}var Sl=new Set,Al={};function wi(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Al[t]=n,t=0;t<n.length;t++)Sl.add(n[t])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Nl={};function cu(t){return Ae.call(Nl,t)?!0:Ae.call(Rl,t)?!1:wl.test(t)?Nl[t]=!0:(Rl[t]=!0,!1)}function fa(t,n,a){if(cu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Pt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lt(t){if(!t._valueTracker){var n=xs(t)?"checked":"value";t._valueTracker=Cl(t,n,""+t[n])}}function Sr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=xs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function vn(t){return t.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(t,n,a,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Il(t,g,Zt(n)):a!=null?Il(t,g,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function hu(t,n,a,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){lt(t);return}a=a!=null?""+Zt(a):"",n=n!=null?""+Zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),lt(t)}function Il(t,n,a){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,a){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Zt(a):""}function As(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(de(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Zt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),lt(t)}function bn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ol(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Dl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(t,f,n[f])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var Ml=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ci=null;function wr(t){var n=Bn(t);if(n&&(t=n.stateNode)){var a=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(r(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Sr(l)}break e;case"textarea":fu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ss(t,!!a.multiple,n,!1)}}}var ga=!1;function Ns(t,n,a){if(ga)return t(n,a);ga=!0;try{var l=t(n);return l}finally{if(ga=!1,(Rs!==null||Ci!==null)&&(lc(),Rs&&(n=Rs,t=Ci,Ci=Rs=null,wr(n),t)))for(n=0;n<t.length;n++)wr(t[n])}}function li(t,n){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Fn)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Rr=!1}var Ii=null,Vl=null,Nr=null;function kl(){if(Nr)return Nr;var t,n=Vl,a=n.length,l,h="value"in Ii?Ii.value:Ii.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[f-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function Cr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function oi(){return!1}function nn(t){function n(a,l,h,f,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:oi,this.isPropagationStopped=oi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=nn(Xi),Cs=S({},Xi,{view:0,detail:0}),jl=nn(Cs),Is,ya,Oi,_a=S({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Is=t.screenX-Oi.screenX,ya=t.screenY-Oi.screenY):ya=Is=0,Oi=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Ll=nn(_a),Ir=S({},_a,{dataTransfer:0}),pu=nn(Ir),gu=S({},Cs,{relatedTarget:0}),Dr=nn(gu),Ul=S({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=nn(Ul),va=S({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=nn(va),vu=S({},Xi,{data:0}),Mi=nn(vu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function Ds(){return xu}var yn=S({},Cs,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=nn(yn),Au=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=nn(Au),u=S({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=nn(u),b=S({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(b),U=S({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=nn(U),re=S({},Xi,{newState:0,oldState:0}),ke=nn(re),Dt=[9,13,27,32],it=Fn&&"CompositionEvent"in window,xt=null;Fn&&"documentMode"in document&&(xt=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!xt,Vi=Fn&&(!it||xt&&8<xt&&11>=xt),ui=" ",ci=!1;function Or(t,n){switch(t){case"keyup":return Dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function kE(t,n){switch(t){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(ci=!0,ui);case"textInput":return t=n.data,t===ui&&ci?null:t;default:return null}}function jE(t,n){if(Ea)return t==="compositionend"||!it&&Or(t,n)?(t=kl(),Nr=Vl=Ii=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var LE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!LE[t.type]:n==="textarea"}function kp(t,n,a,l){Rs?Ci?Ci.push(l):Ci=[l]:Rs=l,n=mc(n,"onChange"),0<n.length&&(a=new Di("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Pl=null,zl=null;function UE(t){y0(t,0)}function wu(t){var n=In(t);if(Sr(n))return t}function jp(t,n){if(t==="change")return n}var Lp=!1;if(Fn){var Fh;if(Fn){var Gh="oninput"in document;if(!Gh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Gh=typeof Up.oninput=="function"}Fh=Gh}else Fh=!1;Lp=Fh&&(!document.documentMode||9<document.documentMode)}function Pp(){Pl&&(Pl.detachEvent("onpropertychange",zp),zl=Pl=null)}function zp(t){if(t.propertyName==="value"&&wu(zl)){var n=[];kp(n,zl,t,Hn(t)),Ns(UE,n)}}function PE(t,n,a){t==="focusin"?(Pp(),Pl=n,zl=a,Pl.attachEvent("onpropertychange",zp)):t==="focusout"&&Pp()}function zE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(zl)}function qE(t,n){if(t==="click")return wu(n)}function BE(t,n){if(t==="input"||t==="change")return wu(n)}function HE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:HE;function ql(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ae.call(n,h)||!On(t[h],n[h]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,n){var a=qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Hp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ni(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var FE=Fn&&"documentMode"in document&&11>=document.documentMode,Ta=null,Kh=null,Bl=null,Yh=!1;function Gp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Ta==null||Ta!==Ni(l)||(l=Ta,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bl&&ql(Bl,l)||(Bl=l,l=mc(Kh,"onSelect"),0<l.length&&(n=new Di("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ta)))}function Mr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var xa={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Xh={},Qp={};Fn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Vr(t){if(Xh[t])return Xh[t];if(!xa[t])return t;var n=xa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qp)return Xh[t]=n[a];return t}var Kp=Vr("animationend"),Yp=Vr("animationiteration"),Xp=Vr("animationstart"),GE=Vr("transitionrun"),QE=Vr("transitionstart"),KE=Vr("transitioncancel"),$p=Vr("transitionend"),Zp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function hi(t,n){Zp.set(t,n),wi(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Sa=0,Zh=0;function Nu(){for(var t=Sa,n=Zh=Sa=0;n<t;){var a=Qn[n];Qn[n++]=null;var l=Qn[n];Qn[n++]=null;var h=Qn[n];Qn[n++]=null;var f=Qn[n];if(Qn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Jp(a,h,f)}}function Cu(t,n,a,l){Qn[Sa++]=t,Qn[Sa++]=n,Qn[Sa++]=a,Qn[Sa++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,a,l){return Cu(t,n,a,l),Iu(t)}function kr(t,n){return Cu(t,null,null,n),Iu(t)}function Jp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-It(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Iu(t){if(50<co)throw co=0,od=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Aa={};function YE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,a,l){return new YE(t,n,a,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var a=t.alternate;return a===null?(a=Mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,a,l,h,f){var g=0;if(l=t,typeof t=="function")Wh(t)&&(g=1);else if(typeof t=="string")g=WT(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=Mn(31,a,n,h),t.elementType=w,t.lanes=f,t;case se:return jr(a.children,h,f,n);case ne:g=8,h|=24;break;case Te:return t=Mn(12,a,n,h|2),t.elementType=Te,t.lanes=f,t;case mt:return t=Mn(13,a,n,h),t.elementType=mt,t.lanes=f,t;case $e:return t=Mn(19,a,n,h),t.elementType=$e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Re:g=10;break e;case Oe:g=9;break e;case rt:g=11;break e;case I:g=14;break e;case A:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Mn(g,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function jr(t,n,a,l){return t=Mn(7,t,l,n),t.lanes=a,t}function ef(t,n,a){return t=Mn(6,t,null,n),t.lanes=a,t}function eg(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,a){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var tg=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:et(n)},tg.set(t,n),n)}return{value:t,source:n,stack:et(n)}}var wa=[],Ra=0,Ou=null,Hl=0,Yn=[],Xn=0,Os=null,ki=1,ji="";function Ji(t,n){wa[Ra++]=Hl,wa[Ra++]=Ou,Ou=t,Hl=n}function ng(t,n,a){Yn[Xn++]=ki,Yn[Xn++]=ji,Yn[Xn++]=Os,Os=t;var l=ki;t=ji;var h=32-It(l)-1;l&=~(1<<h),a+=1;var f=32-It(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,ki=1<<32-It(n)+h|a<<h|l,ji=f+t}else ki=1<<f|a<<h|l,ji=t}function nf(t){t.return!==null&&(Ji(t,1),ng(t,1,0))}function sf(t){for(;t===Ou;)Ou=wa[--Ra],wa[Ra]=null,Hl=wa[--Ra],wa[Ra]=null;for(;t===Os;)Os=Yn[--Xn],Yn[Xn]=null,ji=Yn[--Xn],Yn[Xn]=null,ki=Yn[--Xn],Yn[Xn]=null}function ig(t,n){Yn[Xn++]=ki,Yn[Xn++]=ji,Yn[Xn++]=Os,ki=n.id,ji=n.overflow,Os=t}var sn=null,vt=null,Ze=!1,Ms=null,$n=!1,rf=Error(r(519));function Vs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Kn(n,t)),rf}function sg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Lt]=t,n[$t]=l,a){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(a=0;a<fo.length;a++)Fe(fo[a],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Fe("invalid",n),hu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Fe("invalid",n);break;case"textarea":Fe("invalid",n),As(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||E0(n.textContent,a)?(l.popover!=null&&(Fe("beforetoggle",n),Fe("toggle",n)),l.onScroll!=null&&Fe("scroll",n),l.onScrollEnd!=null&&Fe("scrollend",n),l.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||Vs(t,!0)}function rg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:sn=sn.return}}function Na(t){if(t!==sn)return!1;if(!Ze)return rg(t),Ze=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xd(t.type,t.memoizedProps)),a=!a),a&&vt&&Vs(t),rg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));vt=I0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));vt=I0(t)}else n===27?(n=vt,Ys(t.type)?(t=Nd,Nd=null,vt=t):vt=n):vt=sn?Jn(t.stateNode.nextSibling):null;return!0}function Lr(){vt=sn=null,Ze=!1}function af(){var t=Ms;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Ms=null),t}function Fl(t){Ms===null?Ms=[t]:Ms.push(t)}var lf=N(null),Ur=null,Wi=null;function ks(t,n,a){J(lf,n._currentValue),n._currentValue=a}function es(t){t._currentValue=lf.current,P(lf)}function of(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function uf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),of(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ca(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;On(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===be.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_o):t=[_o])}h=h.return}t!==null&&uf(n,t,a,l),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){Ur=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return ag(Ur,t)}function Vu(t,n){return Ur===null&&Pr(t),ag(t,n)}function ag(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return a}var XE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},$E=s.unstable_scheduleCallback,ZE=s.unstable_NormalPriority,zt={$$typeof:Re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new XE,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&$E(ZE,function(){t.controller.abort()})}var Ql=null,hf=0,Ia=0,Da=null;function JE(t,n){if(Ql===null){var a=Ql=[];hf=0,Ia=md(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,n.then(lg,lg),n}function lg(){if(--hf===0&&Ql!==null){Da!==null&&(Da.status="fulfilled");var t=Ql;Ql=null,Ia=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function WE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var og=L.S;L.S=function(t,n){Gy=qe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&JE(t,n),og!==null&&og(t,n)};var zr=N(null);function ff(){var t=zr.current;return t!==null?t:pt.pooledCache}function ku(t,n){n===null?J(zr,zr.current):J(zr,n.pool)}function ug(){var t=ff();return t===null?null:{parent:zt._currentValue,pool:t}}var Oa=Error(r(460)),df=Error(r(474)),ju=Error(r(542)),Lu={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ai,ai),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t}throw Br=n,Oa}}function qr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Br=a,Oa):a}}var Br=null;function fg(){if(Br===null)throw Error(r(459));var t=Br;return Br=null,t}function dg(t){if(t===Oa||t===ju)throw Error(r(483))}var Ma=null,Kl=0;function Uu(t){var n=Kl;return Kl+=1,Ma===null&&(Ma=[]),hg(Ma,t,n)}function Yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){function n(k,D){if(t){var z=k.deletions;z===null?(k.deletions=[D],k.flags|=16):z.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Zi(k,D),k.index=0,k.sibling=null,k}function f(k,D,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<D?(k.flags|=67108866,D):z):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,z,K){return D===null||D.tag!==6?(D=ef(z,k.mode,K),D.return=k,D):(D=h(D,z),D.return=k,D)}function C(k,D,z,K){var _e=z.type;return _e===se?G(k,D,z.props.children,K,z.key):D!==null&&(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&qr(_e)===D.type)?(D=h(D,z.props),Yl(D,z),D.return=k,D):(D=Du(z.type,z.key,z.props,null,k.mode,K),Yl(D,z),D.return=k,D)}function q(k,D,z,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=tf(z,k.mode,K),D.return=k,D):(D=h(D,z.children||[]),D.return=k,D)}function G(k,D,z,K,_e){return D===null||D.tag!==7?(D=jr(z,k.mode,K,_e),D.return=k,D):(D=h(D,z),D.return=k,D)}function $(k,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ef(""+D,k.mode,z),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return z=Du(D.type,D.key,D.props,null,k.mode,z),Yl(z,D),z.return=k,z;case te:return D=tf(D,k.mode,z),D.return=k,D;case A:return D=qr(D),$(k,D,z)}if(de(D)||j(D))return D=jr(D,k.mode,z,null),D.return=k,D;if(typeof D.then=="function")return $(k,Uu(D),z);if(D.$$typeof===Re)return $(k,Vu(k,D),z);Pu(k,D)}return null}function B(k,D,z,K){var _e=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:E(k,D,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===_e?C(k,D,z,K):null;case te:return z.key===_e?q(k,D,z,K):null;case A:return z=qr(z),B(k,D,z,K)}if(de(z)||j(z))return _e!==null?null:G(k,D,z,K,null);if(typeof z.then=="function")return B(k,D,Uu(z),K);if(z.$$typeof===Re)return B(k,D,Vu(k,z),K);Pu(k,z)}return null}function F(k,D,z,K,_e){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(z)||null,E(D,k,""+K,_e);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?z:K.key)||null,C(D,k,K,_e);case te:return k=k.get(K.key===null?z:K.key)||null,q(D,k,K,_e);case A:return K=qr(K),F(k,D,z,K,_e)}if(de(K)||j(K))return k=k.get(z)||null,G(D,k,K,_e,null);if(typeof K.then=="function")return F(k,D,z,Uu(K),_e);if(K.$$typeof===Re)return F(k,D,z,Vu(D,K),_e);Pu(D,K)}return null}function fe(k,D,z,K){for(var _e=null,tt=null,me=D,Le=D=0,Qe=null;me!==null&&Le<z.length;Le++){me.index>Le?(Qe=me,me=null):Qe=me.sibling;var nt=B(k,me,z[Le],K);if(nt===null){me===null&&(me=Qe);break}t&&me&&nt.alternate===null&&n(k,me),D=f(nt,D,Le),tt===null?_e=nt:tt.sibling=nt,tt=nt,me=Qe}if(Le===z.length)return a(k,me),Ze&&Ji(k,Le),_e;if(me===null){for(;Le<z.length;Le++)me=$(k,z[Le],K),me!==null&&(D=f(me,D,Le),tt===null?_e=me:tt.sibling=me,tt=me);return Ze&&Ji(k,Le),_e}for(me=l(me);Le<z.length;Le++)Qe=F(me,k,Le,z[Le],K),Qe!==null&&(t&&Qe.alternate!==null&&me.delete(Qe.key===null?Le:Qe.key),D=f(Qe,D,Le),tt===null?_e=Qe:tt.sibling=Qe,tt=Qe);return t&&me.forEach(function(Ws){return n(k,Ws)}),Ze&&Ji(k,Le),_e}function Se(k,D,z,K){if(z==null)throw Error(r(151));for(var _e=null,tt=null,me=D,Le=D=0,Qe=null,nt=z.next();me!==null&&!nt.done;Le++,nt=z.next()){me.index>Le?(Qe=me,me=null):Qe=me.sibling;var Ws=B(k,me,nt.value,K);if(Ws===null){me===null&&(me=Qe);break}t&&me&&Ws.alternate===null&&n(k,me),D=f(Ws,D,Le),tt===null?_e=Ws:tt.sibling=Ws,tt=Ws,me=Qe}if(nt.done)return a(k,me),Ze&&Ji(k,Le),_e;if(me===null){for(;!nt.done;Le++,nt=z.next())nt=$(k,nt.value,K),nt!==null&&(D=f(nt,D,Le),tt===null?_e=nt:tt.sibling=nt,tt=nt);return Ze&&Ji(k,Le),_e}for(me=l(me);!nt.done;Le++,nt=z.next())nt=F(me,k,Le,nt.value,K),nt!==null&&(t&&nt.alternate!==null&&me.delete(nt.key===null?Le:nt.key),D=f(nt,D,Le),tt===null?_e=nt:tt.sibling=nt,tt=nt);return t&&me.forEach(function(cx){return n(k,cx)}),Ze&&Ji(k,Le),_e}function dt(k,D,z,K){if(typeof z=="object"&&z!==null&&z.type===se&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:e:{for(var _e=z.key;D!==null;){if(D.key===_e){if(_e=z.type,_e===se){if(D.tag===7){a(k,D.sibling),K=h(D,z.props.children),K.return=k,k=K;break e}}else if(D.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&qr(_e)===D.type){a(k,D.sibling),K=h(D,z.props),Yl(K,z),K.return=k,k=K;break e}a(k,D);break}else n(k,D);D=D.sibling}z.type===se?(K=jr(z.props.children,k.mode,K,z.key),K.return=k,k=K):(K=Du(z.type,z.key,z.props,null,k.mode,K),Yl(K,z),K.return=k,k=K)}return g(k);case te:e:{for(_e=z.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(k,D.sibling),K=h(D,z.children||[]),K.return=k,k=K;break e}else{a(k,D);break}else n(k,D);D=D.sibling}K=tf(z,k.mode,K),K.return=k,k=K}return g(k);case A:return z=qr(z),dt(k,D,z,K)}if(de(z))return fe(k,D,z,K);if(j(z)){if(_e=j(z),typeof _e!="function")throw Error(r(150));return z=_e.call(z),Se(k,D,z,K)}if(typeof z.then=="function")return dt(k,D,Uu(z),K);if(z.$$typeof===Re)return dt(k,D,Vu(k,z),K);Pu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,z),K.return=k,k=K):(a(k,D),K=ef(z,k.mode,K),K.return=k,k=K),g(k)):a(k,D)}return function(k,D,z,K){try{Kl=0;var _e=dt(k,D,z,K);return Ma=null,_e}catch(me){if(me===Oa||me===ju)throw me;var tt=Mn(29,me,null,k.mode);return tt.lanes=K,tt.return=k,tt}finally{}}}var Hr=mg(!0),pg=mg(!1),js=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),Jp(t,null,a),n}return Cu(t,l,n,a),Iu(t)}function Xl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Tl(t,a)}}function gf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var yf=!1;function $l(){if(yf){var t=Da;if(t!==null)throw t}}function Zl(t,n,a,l){yf=!1;var h=t.updateQueue;js=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,q=C.next;C.next=null,g===null?f=q:g.next=q,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=q:E.next=q,G.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;g=0,G=q=C=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Ge&B)===B:(l&B)===B){B!==0&&B===Ia&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,Se=E;B=n;var dt=a;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){$=fe.call(dt,$,B);break e}$=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,B=typeof fe=="function"?fe.call(dt,$,B):fe,B==null)break e;$=S({},$,B);break e;case 2:js=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(q=G=F,C=$):G=G.next=F,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(C=$),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Hs|=g,t.lanes=g,t.memoizedState=$}}function gg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function yg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],n)}var Va=N(null),zu=N(0);function _g(t,n){t=us,J(zu,t),J(Va,n),us=t|n.baseLanes}function _f(){J(zu,us),J(Va,Va.current)}function vf(){us=zu.current,P(Va),P(zu)}var Vn=N(null),Zn=null;function Ps(t){var n=t.alternate;J(Ot,Ot.current&1),J(Vn,t),Zn===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(Zn=t)}function bf(t){J(Ot,Ot.current),J(Vn,t),Zn===null&&(Zn=t)}function vg(t){t.tag===22?(J(Ot,Ot.current),J(Vn,t),Zn===null&&(Zn=t)):zs()}function zs(){J(Ot,Ot.current),J(Vn,Vn.current)}function kn(t){P(Vn),Zn===t&&(Zn=null),P(Ot)}var Ot=N(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,je=null,ht=null,qt=null,Bu=!1,ka=!1,Fr=!1,Hu=0,Jl=0,ja=null,eT=0;function Rt(){throw Error(r(321))}function Ef(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!On(t[a],n[a]))return!1;return!0}function Tf(t,n,a,l,h,f){return ts=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?ny:Lf,Fr=!1,f=a(l,h),Fr=!1,ka&&(f=Eg(n,a,l,h)),bg(t),f}function bg(t){L.H=to;var n=ht!==null&&ht.next!==null;if(ts=0,qt=ht=je=null,Bu=!1,Jl=0,ja=null,n)throw Error(r(300));t===null||Bt||(t=t.dependencies,t!==null&&Mu(t)&&(Bt=!0))}function Eg(t,n,a,l){je=t;var h=0;do{if(ka&&(ja=null),Jl=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,qt=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=iy,f=n(a,l)}while(ka);return f}function tT(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?Wl(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(je.flags|=1024),n}function xf(){var t=Hu!==0;return Hu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}ts=0,qt=ht=je=null,ka=!1,Jl=Hu=0,ja=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?je.memoizedState=qt=t:qt=qt.next=t,qt}function Mt(){if(ht===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=qt===null?je.memoizedState:qt.next;if(n!==null)qt=n,ht=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},qt===null?je.memoizedState=qt=t:qt=qt.next=t}return qt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var n=Jl;return Jl+=1,ja===null&&(ja=[]),t=hg(ja,t,n),n=je,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?ny:Lf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===Re)return rn(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=je.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),je.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function ns(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=Mt();return Rf(n,ht,t)}function Rf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,C=null,q=n,G=!1;do{var $=q.lane&-536870913;if($!==q.lane?(Ge&$)===$:(ts&$)===$){var B=q.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),$===Ia&&(G=!0);else if((ts&B)===B){q=q.next,B===Ia&&(G=!0);continue}else $={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=$,g=f):C=C.next=$,je.lanes|=B,Hs|=B;$=q.action,Fr&&a(f,$),f=q.hasEagerState?q.eagerState:a(f,$)}else B={lane:$,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,je.lanes|=$,Hs|=$;q=q.next}while(q!==null&&q!==n);if(C===null?g=f:C.next=E,!On(f,t.memoizedState)&&(Bt=!0,G&&(a=Da,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var n=Mt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);On(f,n.memoizedState)||(Bt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Tg(t,n,a){var l=je,h=Mt(),f=Ze;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!On((ht||h).memoizedState,a);if(g&&(h.memoizedState=a,Bt=!0),h=h.queue,Df(Ag.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Sg.bind(null,l,h,a,n),null),pt===null)throw Error(r(349));f||(ts&127)!==0||xg(l,n,a)}return a}function xg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=je.updateQueue,n===null?(n=Fu(),je.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sg(t,n,a,l){n.value=a,n.getSnapshot=l,wg(n)&&Rg(t)}function Ag(t,n,a){return a(function(){wg(n)&&Rg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!On(t,a)}catch{return!0}}function Rg(t){var n=kr(t,2);n!==null&&An(n,t,2)}function Cf(t){var n=_n();if(typeof t=="function"){var a=t;if(t=a(),Fr){qn(!0);try{a()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},n}function Ng(t,n,a,l){return t.baseState=a,Rf(t,ht,typeof l=="function"?l:ns)}function nT(t,n,a,l,h){if(Xu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Cg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Cg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var E=a(h,l),C=L.S;C!==null&&C(g,E),Ig(t,n,E)}catch(q){If(t,n,q)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=a(h,l),Ig(t,n,f)}catch(q){If(t,n,q)}}function Ig(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dg(t,n,l)},function(l){return If(t,n,l)}):Dg(t,n,a)}function Dg(t,n,a){n.status="fulfilled",n.value=a,Og(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Cg(t,a)))}function If(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==l)}t.action=null}function Og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mg(t,n){return n}function Vg(t,n){if(Ze){var a=pt.formState;if(a!==null){e:{var l=je;if(Ze){if(vt){t:{for(var h=vt,f=$n;h.nodeType!==8;){if(!f){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=Jn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(n=a[0])}}return a=_n(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},a.queue=l,a=Wg.bind(null,je,l),l.dispatch=a,l=Cf(!1),f=jf.bind(null,je,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=nT.bind(null,je,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function kg(t){var n=Mt();return jg(n,ht,t)}function jg(t,n,a){if(n=Rf(t,n,Mg)[0],t=Qu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wl(n)}catch(g){throw g===Oa?ju:g}else l=n;n=Mt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(je.flags|=2048,La(9,{destroy:void 0},iT.bind(null,h,a),null)),[l,f,t]}function iT(t,n){t.action=n}function Lg(t){var n=Mt(),a=ht;if(a!==null)return jg(n,a,t);Mt(),n=n.memoizedState,a=Mt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function La(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=je.updateQueue,n===null&&(n=Fu(),je.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ug(){return Mt().memoizedState}function Ku(t,n,a,l){var h=_n();je.flags|=t,h.memoizedState=La(1|n,{destroy:void 0},a,l===void 0?null:l)}function Yu(t,n,a,l){var h=Mt();l=l===void 0?null:l;var f=h.memoizedState.inst;ht!==null&&l!==null&&Ef(l,ht.memoizedState.deps)?h.memoizedState=La(n,f,a,l):(je.flags|=t,h.memoizedState=La(1|n,f,a,l))}function Pg(t,n){Ku(8390656,8,t,n)}function Df(t,n){Yu(2048,8,t,n)}function sT(t){je.flags|=4;var n=je.updateQueue;if(n===null)n=Fu(),je.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function zg(t){var n=Mt().memoizedState;return sT({ref:n,nextImpl:t}),function(){if((st&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function qg(t,n){return Yu(4,2,t,n)}function Bg(t,n){return Yu(4,4,t,n)}function Hg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fg(t,n,a){a=a!=null?a.concat([t]):null,Yu(4,4,Hg.bind(null,n,t),a)}function Of(){}function Gg(t,n){var a=Mt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Qg(t,n){var a=Mt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),Fr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,n],l}function Mf(t,n,a){return a===void 0||(ts&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ky(),je.lanes|=t,Hs|=t,a)}function Kg(t,n,a,l){return On(a,n)?a:Va.current!==null?(t=Mf(t,a,l),On(t,n)||(Bt=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Ge&261930)===0?(Bt=!0,t.memoizedState=a):(t=Ky(),je.lanes|=t,Hs|=t,n)}function Yg(t,n,a,l,h){var f=X.p;X.p=f!==0&&8>f?f:8;var g=L.T,E={};L.T=E,jf(t,!1,n,a);try{var C=h(),q=L.S;if(q!==null&&q(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=WE(C,l);eo(t,n,G,Un(t))}else eo(t,n,l,Un(t))}catch($){eo(t,n,{then:function(){},status:"rejected",reason:$},Un())}finally{X.p=f,g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}function rT(){}function Vf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Xg(t).queue;Yg(t,h,n,ee,a===null?rT:function(){return $g(t),a(l)})}function Xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $g(t){var n=Xg(t);n.next===null&&(n=t.alternate.memoizedState),eo(t,n.next.queue,{},Un())}function kf(){return rn(_o)}function Zg(){return Mt().memoizedState}function Jg(){return Mt().memoizedState}function aT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();t=Ls(a);var l=Us(n,t,a);l!==null&&(An(l,n,a),Xl(l,n,a)),n={cache:cf()},t.payload=n;return}n=n.return}}function lT(t,n,a){var l=Un();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(t)?ey(n,a):(a=Jh(t,n,a,l),a!==null&&(An(a,t,l),ty(a,n,l)))}function Wg(t,n,a){var l=Un();eo(t,n,a,l)}function eo(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))ey(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,On(E,g))return Cu(t,n,h,0),pt===null&&Nu(),!1}catch{}finally{}if(a=Jh(t,n,h,l),a!==null)return An(a,t,l),ty(a,n,l),!0}return!1}function jf(t,n,a,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(r(479))}else n=Jh(t,a,l,2),n!==null&&An(n,t,2)}function Xu(t){var n=t.alternate;return t===je||n!==null&&n===je}function ey(t,n){ka=Bu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ty(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Tl(t,a)}}var to={readContext:rn,use:Gu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};to.useEffectEvent=Rt;var ny={readContext:rn,use:Gu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Pg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ku(4194308,4,Hg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var a=_n();n=n===void 0?null:n;var l=t();if(Fr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=_n();if(a!==void 0){var h=a(n);if(Fr){qn(!0);try{a(n)}finally{qn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lT.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,a=Wg.bind(null,je,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(t,n){var a=_n();return Mf(a,t,n)},useTransition:function(){var t=Cf(!1);return t=Yg.bind(null,je,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=je,h=_n();if(Ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),pt===null)throw Error(r(349));(Ge&127)!==0||xg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Pg(Ag.bind(null,l,f,t),[t]),l.flags|=2048,La(9,{destroy:void 0},Sg.bind(null,l,f,a,n),null),a},useId:function(){var t=_n(),n=pt.identifierPrefix;if(Ze){var a=ji,l=ki;a=(l&~(1<<32-It(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=eT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=jf.bind(null,je,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return _n().memoizedState=aT.bind(null,je)},useEffectEvent:function(t){var n=_n(),a={impl:t};return n.memoizedState=a,function(){if((st&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:rn,use:Gu,useCallback:Gg,useContext:rn,useEffect:Df,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Bg,useMemo:Qg,useReducer:Qu,useRef:Ug,useState:function(){return Qu(ns)},useDebugValue:Of,useDeferredValue:function(t,n){var a=Mt();return Kg(a,ht.memoizedState,t,n)},useTransition:function(){var t=Qu(ns)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:kf,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var a=Mt();return Ng(a,ht,t,n)},useMemoCache:wf,useCacheRefresh:Jg};Lf.useEffectEvent=zg;var iy={readContext:rn,use:Gu,useCallback:Gg,useContext:rn,useEffect:Df,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Bg,useMemo:Qg,useReducer:Nf,useRef:Ug,useState:function(){return Nf(ns)},useDebugValue:Of,useDeferredValue:function(t,n){var a=Mt();return ht===null?Mf(a,t,n):Kg(a,ht.memoizedState,t,n)},useTransition:function(){var t=Nf(ns)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:kf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var a=Mt();return ht!==null?Ng(a,ht,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Jg};iy.useEffectEvent=zg;function Uf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Un(),h=Ls(l);h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,l),n!==null&&(An(n,t,l),Xl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Un(),h=Ls(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Us(t,h,l),n!==null&&(An(n,t,l),Xl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Un(),l=Ls(a);l.tag=2,n!=null&&(l.callback=n),n=Us(t,l,a),n!==null&&(An(n,t,a),Xl(n,t,a))}};function sy(t,n,a,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ql(a,l)||!ql(h,f):!0}function ry(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Gr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ay(t){Ru(t)}function ly(t){console.error(t)}function oy(t){Ru(t)}function $u(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function uy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,n)},a}function cy(t){return t=Ls(t),t.tag=3,t}function hy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){uy(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){uy(n,a,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function oT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ca(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?oc():a.alternate===null&&Nt===0&&(Nt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),hd(t,l,h)),!1;case 22:return a.flags|=65536,l===Lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),hd(t,l,h)),!1}throw Error(r(435,a.tag))}return hd(t,l,h),oc(),!1}if(Ze)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==rf&&(t=Error(r(422),{cause:l}),Fl(Kn(t,a)))):(l!==rf&&(n=Error(r(423),{cause:l}),Fl(Kn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,a),h=zf(t.stateNode,l,h),gf(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(r(520),{cause:l});if(f=Kn(f,a),uo===null?uo=[f]:uo.push(f),Nt!==4&&(Nt=2),n===null)return!0;l=Kn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,l,t),gf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,t,a,l),gf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(r(461)),Bt=!1;function an(t,n,a,l){n.child=t===null?pg(n,null,a,l):Hr(n,t.child,a,l)}function fy(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Pr(n),l=Tf(t,n,a,g,f,h),E=xf(),t!==null&&!Bt?(Sf(t,n,h),is(t,n,h)):(Ze&&E&&nf(n),n.flags|=1,an(t,n,l,h),n.child)}function dy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,my(t,n,f,l,h)):(t=Du(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ql,a(g,l)&&t.ref===n.ref)return is(t,n,h)}return n.flags|=1,t=Zi(f,l),t.ref=n.ref,t.return=n,n.child=t}function my(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(ql(f,l)&&t.ref===n.ref)if(Bt=!1,n.pendingProps=l=f,Xf(t,h))(t.flags&131072)!==0&&(Bt=!0);else return n.lanes=t.lanes,is(t,n,h)}return Bf(t,n,a,l,h)}function py(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return gy(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?_g(n,f):_f(),vg(n);else return l=n.lanes=536870912,gy(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ku(n,f.cachePool),_g(n,f),zs(),n.memoizedState=null):(t!==null&&ku(n,null),_f(),zs());return an(t,n,h,a),n.child}function no(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(t,n,a,l,h){var f=ff();return f=f===null?null:{parent:zt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&ku(n,null),_f(),vg(n),t!==null&&Ca(t,n,l,!0),n.childLanes=h,null}function Zu(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function yy(t,n,a){return Hr(n,t.child,null,a),t=Zu(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function uT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ze){if(l.mode==="hidden")return t=Zu(n,l),n.lanes=536870912,no(null,t);if(bf(n),(t=vt)?(t=C0(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:ki,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,sn=n,vt=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return Zu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=yy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Bt||Ca(t,n,a,!1),h=(a&t.childLanes)!==0,Bt||h){if(l=pt,l!==null&&(g=xl(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,kr(t,g),An(l,t,g),qf;oc(),n=yy(t,n,a)}else t=f.treeContext,vt=Jn(g.nextSibling),sn=n,Ze=!0,Ms=null,$n=!1,t!==null&&ig(n,t),n=Zu(n,l),n.flags|=4096;return n}return t=Zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bf(t,n,a,l,h){return Pr(n),a=Tf(t,n,a,l,void 0,h),l=xf(),t!==null&&!Bt?(Sf(t,n,h),is(t,n,h)):(Ze&&l&&nf(n),n.flags|=1,an(t,n,a,h),n.child)}function _y(t,n,a,l,h,f){return Pr(n),n.updateQueue=null,a=Eg(n,l,a,h),bg(t),l=xf(),t!==null&&!Bt?(Sf(t,n,f),is(t,n,f)):(Ze&&l&&nf(n),n.flags|=1,an(t,n,a,f),n.child)}function vy(t,n,a,l,h){if(Pr(n),n.stateNode===null){var f=Aa,g=a.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},mf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?rn(g):Aa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),Zl(n,l,f,h),$l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Gr(a,E);f.props=C;var q=f.context,G=a.contextType;g=Aa,typeof G=="object"&&G!==null&&(g=rn(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||q!==g)&&ry(n,f,l,g),js=!1;var B=n.memoizedState;f.state=B,Zl(n,l,f,h),$l(),q=n.memoizedState,E||B!==q||js?(typeof $=="function"&&(Uf(n,a,$,l),q=n.memoizedState),(C=js||sy(n,a,C,l,B,q,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,pf(t,n),g=n.memoizedProps,G=Gr(a,g),f.props=G,$=n.pendingProps,B=f.context,q=a.contextType,C=Aa,typeof q=="object"&&q!==null&&(C=rn(q)),E=a.getDerivedStateFromProps,(q=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||B!==C)&&ry(n,f,l,C),js=!1,B=n.memoizedState,f.state=B,Zl(n,l,f,h),$l();var F=n.memoizedState;g!==$||B!==F||js||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(Uf(n,a,E,l),F=n.memoizedState),(G=js||sy(n,a,G,l,B,F,C)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Hr(n,t.child,null,h),n.child=Hr(n,null,a,h)):an(t,n,a,h),n.memoizedState=f.state,t=n.child):t=is(t,n,h),t}function by(t,n,a,l){return Lr(),n.flags|=256,an(t,n,a,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:ug()}}function Gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ln),t}function Ey(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ze){if(h?Ps(n):zs(),(t=vt)?(t=C0(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:ki,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,sn=n,vt=null)):t=null,t===null)throw Vs(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(zs(),h=n.mode,E=Wu({mode:"hidden",children:E},h),l=jr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,g,a),n.memoizedState=Hf,no(null,l)):(Ps(n),Qf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=Kf(t,n,a)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),E=l.fallback,h=n.mode,l=Wu({mode:"visible",children:l.children},h),E=jr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Hr(n,t.child,null,a),l=n.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,g,a),n.memoizedState=Hf,n=no(null,l));else if(Ps(n),Rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var q=g.dgst;g=q,l=Error(r(419)),l.stack="",l.digest=g,Fl({value:l,source:null,stack:null}),n=Kf(t,n,a)}else if(Bt||Ca(t,n,a,!1),g=(a&t.childLanes)!==0,Bt||g){if(g=pt,g!==null&&(l=xl(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,kr(t,l),An(g,t,l),qf;wd(E)||oc(),n=Kf(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,vt=Jn(E.nextSibling),sn=n,Ze=!0,Ms=null,$n=!1,t!==null&&ig(n,t),n=Qf(n,l.children),n.flags|=4096);return n}return h?(zs(),E=l.fallback,h=n.mode,C=t.child,q=C.sibling,l=Zi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?E=Zi(q,E):(E=jr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,no(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(C=zt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ug(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Gf(t,g,a),n.memoizedState=Hf,no(t.child,l)):(Ps(n),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Qf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Kf(t,n,a){return Hr(n,t.child,null,a),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),of(t.return,n,a)}function Yf(t,n,a,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function xy(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Ot.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(Ot,g),an(t,n,l,a),l=Ze?Hl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,n);else if(t.tag===19)Ty(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,f,l);break;case"together":Yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function is(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ca(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function cT(t,n,a){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),ks(n,zt,t.memoizedState.cache),Lr();break;case 27:case 5:Je(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(t,n,a):(Ps(n),t=is(t,n,a),t!==null?t.sibling:null);Ps(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ca(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return xy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ot,Ot.current),l)break;return null;case 22:return n.lanes=0,py(t,n,a,n.pendingProps);case 24:ks(n,zt,t.memoizedState.cache)}return is(t,n,a)}function Sy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Bt=!0;else{if(!Xf(t,a)&&(n.flags&128)===0)return Bt=!1,cT(t,n,a);Bt=(t.flags&131072)!==0}else Bt=!1,Ze&&(n.flags&1048576)!==0&&ng(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=qr(n.elementType),n.type=t,typeof t=="function")Wh(t)?(l=Gr(t,l),n.tag=1,n=vy(null,n,t,l,a)):(n.tag=0,n=Bf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===rt){n.tag=11,n=fy(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=dy(null,n,t,l,a);break e}}throw n=gt(t)||t,Error(r(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Gr(l,n.pendingProps),vy(t,n,l,h,a);case 3:e:{if(ye(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),Zl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ks(n,zt,l),l!==f.cache&&uf(n,[zt],a,!0),$l(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=by(t,n,l,a);break e}else if(l!==h){h=Kn(Error(r(424)),n),Fl(h),n=by(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=Jn(t.firstChild),sn=n,Ze=!0,Ms=null,$n=!0,a=pg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Lr(),l===h){n=is(t,n,a);break e}an(t,n,l,a)}n=n.child}return n;case 26:return Ju(t,n),t===null?(a=k0(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ze||(a=n.type,t=n.pendingProps,l=pc(ge.current).createElement(a),l[Lt]=n,l[$t]=t,ln(l,a,t),Ut(l),n.stateNode=l):n.memoizedState=k0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Je(n),t===null&&Ze&&(l=n.stateNode=O0(n.type,n.pendingProps,ge.current),sn=n,$n=!0,h=vt,Ys(n.type)?(Nd=h,vt=Jn(l.firstChild)):vt=h),an(t,n,n.pendingProps.children,a),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ze&&((h=l=vt)&&(l=zT(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,sn=n,vt=Jn(l.firstChild),$n=!1,h=!0):h=!1),h||Vs(n)),Je(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,xd(h,f)?l=null:g!==null&&xd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,tT,null,null,a),_o._currentValue=h),Ju(t,n),an(t,n,l,a),n.child;case 6:return t===null&&Ze&&((t=a=vt)&&(a=qT(a,n.pendingProps,$n),a!==null?(n.stateNode=a,sn=n,vt=null,t=!0):t=!1),t||Vs(n)),null;case 13:return Ey(t,n,a);case 4:return ye(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Hr(n,null,l,a):an(t,n,l,a),n.child;case 11:return fy(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ks(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Pr(n),h=rn(h),l=l(h),n.flags|=1,an(t,n,l,a),n.child;case 14:return dy(t,n,n.type,n.pendingProps,a);case 15:return my(t,n,n.type,n.pendingProps,a);case 19:return xy(t,n,a);case 31:return uT(t,n,a);case 22:return py(t,n,a,n.pendingProps);case 24:return Pr(n),l=rn(zt),t===null?(h=ff(),h===null&&(h=pt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},mf(n),ks(n,zt,h)):((t.lanes&a)!==0&&(pf(t,n),Zl(n,null,null,a),$l()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,zt,l)):(l=f.cache,ks(n,zt,l),l!==h.cache&&uf(n,[zt],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ss(t){t.flags|=4}function $f(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw Br=Lu,df}else t.flags&=-16777217}function Ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z0(n))if(Zy())t.flags|=8192;else throw Br=Lu,df}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,qa|=n)}function io(t,n){if(!Ze)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function hT(t,n,a){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),es(zt),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(n)?ss(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ss(n),f!==null?(bt(n),Ay(n,f)):(bt(n),$f(n,h,null,l,a))):f?f!==t.memoizedState?(ss(n),bt(n),Ay(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ss(n),bt(n),$f(n,h,t,l,a)),null;case 27:if(At(n),a=ge.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return bt(n),null}t=W.current,Na(n)?sg(n):(t=O0(h,l,a),n.stateNode=t,ss(n))}return bt(n),null;case 5:if(At(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return bt(n),null}if(f=W.current,Na(n))sg(n);else{var g=pc(ge.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Lt]=n,f[$t]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(ln(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ss(n)}}return bt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ss(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ge.current,Na(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Lt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E0(t.nodeValue,a)),t||Vs(n,!0)}else t=pc(t).createTextNode(l),t[Lt]=n,n.stateNode=t}return bt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Na(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Lt]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return bt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Lt]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),bt(n),null);case 4:return ue(),t===null&&_d(n.stateNode.containerInfo),bt(n),null;case 10:return es(n.type),bt(n),null;case 19:if(P(Ot),l=n.memoizedState,l===null)return bt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)io(l,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,io(l,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Wp(a,t),a=a.sibling;return J(Ot,Ot.current&1|2),Ze&&Ji(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&qe()>rc&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),io(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ze)return bt(n),null}else 2*qe()-l.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qe(),t.sibling=null,a=Ot.current,J(Ot,h?a&1|2:a&1),Ze&&Ji(n,l.treeForkCount),t):(bt(n),null);case 22:case 23:return kn(n),vf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&P(zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),es(zt),bt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function fT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return es(zt),ue(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return At(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(r(340));Lr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Lr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return P(Ot),null;case 4:return ue(),null;case 10:return es(n.type),null;case 22:case 23:return kn(n),vf(),t!==null&&P(zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return es(zt),null;case 25:return null;default:return null}}function wy(t,n){switch(sf(n),n.tag){case 3:es(zt),ue();break;case 26:case 27:case 5:At(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:P(Ot);break;case 10:es(n.type);break;case 22:case 23:kn(n),vf(),t!==null&&P(zr);break;case 24:es(zt)}}function so(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){ut(n,n.return,E)}}function qs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=a,q=E;try{q()}catch(G){ut(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){ut(n,n.return,G)}}function Ry(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{yg(n,a)}catch(l){ut(t,t.return,l)}}}function Ny(t,n,a){a.props=Gr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,n,l)}}function ro(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ut(t,n,h)}}function Li(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(t,n,h)}else a.current=null}function Cy(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(t,t.return,h)}}function Zf(t,n,a){try{var l=t.stateNode;VT(l,t.type,a,n),l[$t]=n}catch(h){ut(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ai));else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,a),t=t.sibling;t!==null;)Wf(t,n,a),t=t.sibling}function tc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(tc(t,n,a),t=t.sibling;t!==null;)tc(t,n,a),t=t.sibling}function Dy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,l,a),n[Lt]=t,n[$t]=a}catch(f){ut(t,t.return,f)}}var rs=!1,Ht=!1,ed=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function dT(t,n){if(t=t.containerInfo,Ed=Tc,t=Fp(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,C=-1,q=0,G=0,$=t,B=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(E=g+h),$!==f||l!==0&&$.nodeType!==3||(C=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(F=$.firstChild)!==null;)B=$,$=F;for(;;){if($===t)break t;if(B===a&&++q===h&&(E=g),B===f&&++G===l&&(C=g),(F=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=F}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Tc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var fe=Gr(a.type,h);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ut(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function My(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ls(t,a),l&4&&so(5,a);break;case 1:if(ls(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){ut(a,a.return,g)}else{var h=Gr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ut(a,a.return,g)}}l&64&&Ry(a),l&512&&ro(a,a.return);break;case 3:if(ls(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yg(t,n)}catch(g){ut(a,a.return,g)}}break;case 27:n===null&&l&4&&Dy(a);case 26:case 5:ls(t,a),n===null&&l&4&&Cy(a),l&512&&ro(a,a.return);break;case 12:ls(t,a);break;case 31:ls(t,a),l&4&&jy(t,a);break;case 13:ls(t,a),l&4&&Ly(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TT.bind(null,a),BT(t,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){n=n!==null&&n.memoizedState!==null||Ht,h=rs;var f=Ht;rs=l,(Ht=n)&&!f?os(t,a,(a.subtreeFlags&8772)!==0):ls(t,a),rs=h,Ht=f}break;case 30:break;default:ls(t,a)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,En=!1;function as(t,n,a){for(a=a.child;a!==null;)ky(t,n,a),a=a.sibling}function ky(t,n,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ni,a)}catch{}switch(a.tag){case 26:Ht||Li(a,n),as(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ht||Li(a,n);var l=St,h=En;Ys(a.type)&&(St=a.stateNode,En=!1),as(t,n,a),po(a.stateNode),St=l,En=h;break;case 5:Ht||Li(a,n);case 6:if(l=St,h=En,St=null,as(t,n,a),St=l,En=h,St!==null)if(En)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(a.stateNode)}catch(f){ut(a,n,f)}else try{St.removeChild(a.stateNode)}catch(f){ut(a,n,f)}break;case 18:St!==null&&(En?(t=St,R0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):R0(St,a.stateNode));break;case 4:l=St,h=En,St=a.stateNode.containerInfo,En=!0,as(t,n,a),St=l,En=h;break;case 0:case 11:case 14:case 15:qs(2,a,n),Ht||qs(4,a,n),as(t,n,a);break;case 1:Ht||(Li(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ny(a,n,l)),as(t,n,a);break;case 21:as(t,n,a);break;case 22:Ht=(l=Ht)||a.memoizedState!==null,as(t,n,a),Ht=l;break;default:as(t,n,a)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){ut(n,n.return,a)}}}function Ly(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){ut(n,n.return,a)}}function mT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Oy),n;default:throw Error(r(435,t.tag))}}function nc(t,n){var a=mT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=xT.bind(null,t,l);l.then(h,h)}})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){St=E.stateNode,En=!1;break e}break;case 5:St=E.stateNode,En=!1;break e;case 3:case 4:St=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(St===null)throw Error(r(160));ky(f,g,h),St=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,t),n=n.sibling}var fi=null;function Uy(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),xn(t),l&4&&(qs(3,t,t.return),so(3,t),qs(5,t,t.return));break;case 1:Tn(n,t),xn(t),l&512&&(Ht||a===null||Li(a,a.return)),l&64&&rs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=fi;if(Tn(n,t),xn(t),l&512&&(Ht||a===null||Li(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xi]||f[Lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,l,a),f[Lt]=t,Ut(f),l=f;break e;case"link":var g=U0("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),ln(f,l,a),h.head.appendChild(f);break;case"meta":if(g=U0("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(l),ln(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Lt]=t,Ut(f),l=f}t.stateNode=l}else P0(h,t.type,t.stateNode);else t.stateNode=L0(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?P0(h,t.type,t.stateNode):L0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),xn(t),l&512&&(Ht||a===null||Li(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),xn(t),l&512&&(Ht||a===null||Li(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(fe){ut(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(Tn(n,t),xn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){ut(t,t.return,fe)}}break;case 3:if(_c=null,h=fi,fi=gc(n.containerInfo),Tn(n,t),fi=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(fe){ut(t,t.return,fe)}ed&&(ed=!1,Py(t));break;case 4:l=fi,fi=gc(t.stateNode.containerInfo),Tn(n,t),xn(t),fi=l;break;case 12:Tn(n,t),xn(t);break;case 31:Tn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 13:Tn(n,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=qe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=rs,G=Ht;if(rs=q||h,Ht=G||C,Tn(n,t),Ht=G,rs=q,xn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||rs||Ht||Qr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(fe){ut(C,C.return,fe)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){ut(C,C.return,fe)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?N0(F,!0):N0(C.stateNode,!1)}catch(fe){ut(C,C.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nc(t,a))));break;case 19:Tn(n,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 30:break;case 21:break;default:Tn(n,t),xn(t)}}function xn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Iy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(t);tc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(bn(g,""),a.flags&=-33);var E=Jf(t);tc(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Jf(t);Wf(t,q,C);break;default:throw Error(r(161))}}catch(G){ut(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ls(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)My(t,n.alternate,n),n=n.sibling}function Qr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Qr(n);break;case 1:Li(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ny(n,n.return,a),Qr(n);break;case 27:po(n.stateNode);case 26:case 5:Li(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}t=t.sibling}}function os(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,a),so(4,f);break;case 1:if(os(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ut(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)gg(C[h],E)}catch(q){ut(l,l.return,q)}}a&&g&64&&Ry(f),ro(f,f.return);break;case 27:Dy(f);case 26:case 5:os(h,f,a),a&&l===null&&g&4&&Cy(f),ro(f,f.return);break;case 12:os(h,f,a);break;case 31:os(h,f,a),a&&g&4&&jy(h,f);break;case 13:os(h,f,a),a&&g&4&&Ly(h,f);break;case 22:f.memoizedState===null&&os(h,f,a),ro(f,f.return);break;case 30:break;default:os(h,f,a)}n=n.sibling}}function td(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Gl(a))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t))}function di(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zy(t,n,a,l),n=n.sibling}function zy(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:di(t,n,a,l),h&2048&&so(9,n);break;case 1:di(t,n,a,l);break;case 3:di(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t)));break;case 12:if(h&2048){di(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ut(n,n.return,C)}}else di(t,n,a,l);break;case 31:di(t,n,a,l);break;case 13:di(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?di(t,n,a,l):ao(t,n):f._visibility&2?di(t,n,a,l):(f._visibility|=2,Ua(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(g,n);break;case 24:di(t,n,a,l),h&2048&&nd(n.alternate,n);break;default:di(t,n,a,l)}}function Ua(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=l,q=g.flags;switch(g.tag){case 0:case 11:case 15:Ua(f,g,E,C,h),so(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ua(f,g,E,C,h):ao(f,g):(G._visibility|=2,Ua(f,g,E,C,h)),h&&q&2048&&td(g.alternate,g);break;case 24:Ua(f,g,E,C,h),h&&q&2048&&nd(g.alternate,g);break;default:Ua(f,g,E,C,h)}n=n.sibling}}function ao(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:ao(a,l),h&2048&&td(l.alternate,l);break;case 24:ao(a,l),h&2048&&nd(l.alternate,l);break;default:ao(a,l)}n=n.sibling}}var lo=8192;function Pa(t,n,a){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)qy(t,n,a),t=t.sibling}function qy(t,n,a){switch(t.tag){case 26:Pa(t,n,a),t.flags&lo&&t.memoizedState!==null&&ex(a,fi,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,n,a);break;case 3:case 4:var l=fi;fi=gc(t.stateNode.containerInfo),Pa(t,n,a),fi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,Pa(t,n,a),lo=l):Pa(t,n,a));break;default:Pa(t,n,a)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,Fy(l,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&qs(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):oo(t);break;default:oo(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,Fy(l,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function Fy(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:qs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var h=l.sibling,f=l.return;if(Vy(l),l===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var pT={getCacheForType:function(t){var n=rn(zt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return rn(zt).controller.signal}},gT=typeof WeakMap=="function"?WeakMap:Map,st=0,pt=null,He=null,Ge=0,ot=0,jn=null,Bs=!1,za=!1,id=!1,us=0,Nt=0,Hs=0,Kr=0,sd=0,Ln=0,qa=0,uo=null,Sn=null,rd=!1,sc=0,Gy=0,rc=1/0,ac=null,Fs=null,Yt=0,Gs=null,Ba=null,cs=0,ad=0,ld=null,Qy=null,co=0,od=null;function Un(){return(st&2)!==0&&Ge!==0?Ge&-Ge:L.T!==null?md():lu()}function Ky(){if(Ln===0)if((Ge&536870912)===0||Ze){var t=br;br<<=1,(br&3932160)===0&&(br=262144),Ln=t}else Ln=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Ln}function An(t,n,a){(t===pt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Qs(t,Ge,Ln,!1)),Er(t,a),((st&2)===0||t!==pt)&&(t===pt&&((st&2)===0&&(Kr|=a),Nt===4&&Qs(t,Ge,Ln,!1)),Ui(t))}function Yy(t,n,a){if((st&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||ii(t,n),h=l?vT(t,n):cd(t,n,!0),f=l;do{if(h===0){za&&!l&&Qs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!yT(a)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=uo;var C=E.current.memoizedState.isDehydrated;if(C&&(Ha(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!C){E.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break e}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ha(t,0),Qs(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Qs(l,n,Ln,!Bs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sc+300-qe(),10<h)){if(Qs(l,n,Ln,!Bs),bi(l,0,!0)!==0)break e;cs=n,l.timeoutHandle=A0(Xy.bind(null,l,a,Sn,ac,rd,n,Ln,Kr,qa,Bs,f,"Throttled",-0,0),h);break e}Xy(l,a,Sn,ac,rd,n,Ln,Kr,qa,Bs,f,null,-0,0)}}break}while(!0);Ui(t)}function Xy(t,n,a,l,h,f,g,E,C,q,G,$,B,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},qy(n,f,$);var fe=(f&62914560)===f?sc-qe():(f&4194048)===f?Gy-qe():0;if(fe=tx($,fe),fe!==null){cs=f,t.cancelPendingCommit=fe(i0.bind(null,t,n,f,a,l,h,g,E,C,G,$,null,B,F)),Qs(t,f,g,!q);return}}i0(t,n,f,a,l,h,g,E,C)}function yT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(t,n,a,l){n&=~sd,n&=~Kr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-It(h),g=1<<f;l[f]=-1,h&=~g}a!==0&&Tr(t,a,n)}function lc(){return(st&6)===0?(ho(0),!1):!0}function ud(){if(He!==null){if(ot===0)var t=He.return;else t=He,Wi=Ur=null,Af(t),Ma=null,Kl=0,t=He;for(;t!==null;)wy(t.alternate,t),t=t.return;He=null}}function Ha(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,LT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cs=0,ud(),pt=t,He=a=Zi(t.current,null),Ge=n,ot=0,jn=null,Bs=!1,za=ii(t,n),id=!1,qa=Ln=sd=Kr=Hs=Nt=0,Sn=uo=null,rd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-It(l),f=1<<h;n|=t[h],l&=~f}return us=n,Nu(),a}function $y(t,n){je=null,L.H=to,n===Oa||n===ju?(n=fg(),ot=3):n===df?(n=fg(),ot=4):ot=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,He===null&&(Nt=1,$u(t,Kn(n,t.current)))}function Zy(){var t=Vn.current;return t===null?!0:(Ge&4194048)===Ge?Zn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===Zn:!1}function Jy(){var t=L.H;return L.H=to,t===null?to:t}function Wy(){var t=L.A;return L.A=pT,t}function oc(){Nt=4,Bs||(Ge&4194048)!==Ge&&Vn.current!==null||(za=!0),(Hs&134217727)===0&&(Kr&134217727)===0||pt===null||Qs(pt,Ge,Ln,!1)}function cd(t,n,a){var l=st;st|=2;var h=Jy(),f=Wy();(pt!==t||Ge!==n)&&(ac=null,Ha(t,n)),n=!1;var g=Nt;e:do try{if(ot!==0&&He!==null){var E=He,C=jn;switch(ot){case 8:ud(),g=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var q=ot;if(ot=0,jn=null,Fa(t,E,C,q),a&&za){g=0;break e}break;default:q=ot,ot=0,jn=null,Fa(t,E,C,q)}}_T(),g=Nt;break}catch(G){$y(t,G)}while(!0);return n&&t.shellSuspendCounter++,Wi=Ur=null,st=l,L.H=h,L.A=f,He===null&&(pt=null,Ge=0,Nu()),g}function _T(){for(;He!==null;)e0(He)}function vT(t,n){var a=st;st|=2;var l=Jy(),h=Wy();pt!==t||Ge!==n?(ac=null,rc=qe()+500,Ha(t,n)):za=ii(t,n);e:do try{if(ot!==0&&He!==null){n=He;var f=jn;t:switch(ot){case 1:ot=0,jn=null,Fa(t,n,f,1);break;case 2:case 9:if(cg(f)){ot=0,jn=null,t0(n);break}n=function(){ot!==2&&ot!==9||pt!==t||(ot=7),Ui(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:cg(f)?(ot=0,jn=null,t0(n)):(ot=0,jn=null,Fa(t,n,f,7));break;case 5:var g=null;switch(He.tag){case 26:g=He.memoizedState;case 5:case 27:var E=He;if(g?z0(g):E.stateNode.complete){ot=0,jn=null;var C=E.sibling;if(C!==null)He=C;else{var q=E.return;q!==null?(He=q,uc(q)):He=null}break t}}ot=0,jn=null,Fa(t,n,f,5);break;case 6:ot=0,jn=null,Fa(t,n,f,6);break;case 8:ud(),Nt=6;break e;default:throw Error(r(462))}}bT();break}catch(G){$y(t,G)}while(!0);return Wi=Ur=null,L.H=l,L.A=h,st=a,He!==null?0:(pt=null,Ge=0,Nu(),Nt)}function bT(){for(;He!==null&&!zn();)e0(He)}function e0(t){var n=Sy(t.alternate,t,us);t.memoizedProps=t.pendingProps,n===null?uc(t):He=n}function t0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=_y(a,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=_y(a,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Af(n);default:wy(a,n),n=He=Wp(n,us),n=Sy(a,n,us)}t.memoizedProps=t.pendingProps,n===null?uc(t):He=n}function Fa(t,n,a,l){Wi=Ur=null,Af(n),Ma=null,Kl=0;var h=n.return;try{if(oT(t,h,n,a,Ge)){Nt=1,$u(t,Kn(a,t.current)),He=null;return}}catch(f){if(h!==null)throw He=h,f;Nt=1,$u(t,Kn(a,t.current)),He=null;return}n.flags&32768?(Ze||l===1?t=!0:za||(Ge&536870912)!==0?t=!1:(Bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),n0(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){n0(n,Bs);return}t=n.return;var a=hT(n.alternate,n,us);if(a!==null){He=a;return}if(n=n.sibling,n!==null){He=n;return}He=n=t}while(n!==null);Nt===0&&(Nt=5)}function n0(t,n){do{var a=fT(t.alternate,t);if(a!==null){a.flags&=32767,He=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){He=t;return}He=t=a}while(t!==null);Nt=6,He=null}function i0(t,n,a,l,h,f,g,E,C){t.cancelPendingCommit=null;do cc();while(Yt!==0);if((st&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zh,Bh(t,a,f,g,E,C),t===pt&&(He=pt=null,Ge=0),Ba=n,Gs=t,cs=a,ad=f,ld=h,Qy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ST(Ts,function(){return o0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=X.p,X.p=2,g=st,st|=4;try{dT(t,n,a)}finally{st=g,X.p=h,L.T=l}}Yt=1,s0(),r0(),a0()}}function s0(){if(Yt===1){Yt=0;var t=Gs,n=Ba,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=X.p;X.p=2;var h=st;st|=4;try{Uy(n,t);var f=Td,g=Fp(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Hp(E.ownerDocument.documentElement,E)){if(C!==null&&Qh(E)){var q=C.start,G=C.end;if(G===void 0&&(G=q),"selectionStart"in E)E.selectionStart=q,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var F=B.getSelection(),fe=E.textContent.length,Se=Math.min(C.start,fe),dt=C.end===void 0?Se:Math.min(C.end,fe);!F.extend&&Se>dt&&(g=dt,dt=Se,Se=g);var k=Bp(E,Se),D=Bp(E,dt);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var z=$.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),Se>dt?(F.addRange(z),F.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),F.addRange(z))}}}}for($=[],F=E;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!Ed,Td=Ed=null}finally{st=h,X.p=l,L.T=a}}t.current=n,Yt=2}}function r0(){if(Yt===2){Yt=0;var t=Gs,n=Ba,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=X.p;X.p=2;var h=st;st|=4;try{My(t,n.alternate,n)}finally{st=h,X.p=l,L.T=a}}Yt=3}}function a0(){if(Yt===4||Yt===3){Yt=0,Be();var t=Gs,n=Ba,a=cs,l=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Yt=5:(Yt=0,Ba=Gs=null,l0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Ki(a),n=n.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ni,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,h=X.p,X.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{L.T=n,X.p=h}}(cs&3)!==0&&cc(),Ui(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===od?co++:(co=0,od=t):co=0,ho(0)}}function l0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Gl(n)))}function cc(){return s0(),r0(),a0(),o0()}function o0(){if(Yt!==5)return!1;var t=Gs,n=ad;ad=0;var a=Ki(cs),l=L.T,h=X.p;try{X.p=32>a?32:a,L.T=null,a=ld,ld=null;var f=Gs,g=cs;if(Yt=0,Ba=Gs=null,cs=0,(st&6)!==0)throw Error(r(331));var E=st;if(st|=4,Hy(f.current),zy(f,f.current,g,a),st=E,ho(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ni,f)}catch{}return!0}finally{X.p=h,L.T=l,l0(t,n)}}function u0(t,n,a){n=Kn(a,n),n=zf(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(Er(t,2),Ui(t))}function ut(t,n,a){if(t.tag===3)u0(t,t,a);else for(;n!==null;){if(n.tag===3){u0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=Kn(a,t),a=cy(2),l=Us(n,a,2),l!==null&&(hy(a,l,n,t),Er(l,2),Ui(l));break}}n=n.return}}function hd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(id=!0,h.add(a),t=ET.bind(null,t,n,a),n.then(t,t))}function ET(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&(Ge&a)===a&&(Nt===4||Nt===3&&(Ge&62914560)===Ge&&300>qe()-sc?(st&2)===0&&Ha(t,0):sd|=a,qa===Ge&&(qa=0)),Ui(t)}function c0(t,n){n===0&&(n=au()),t=kr(t,n),t!==null&&(Er(t,n),Ui(t))}function TT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),c0(t,a)}function xT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),c0(t,a)}function ST(t,n){return Ie(t,n)}var hc=null,Ga=null,fd=!1,fc=!1,dd=!1,Ks=0;function Ui(t){t!==Ga&&t.next===null&&(Ga===null?hc=Ga=t:Ga=Ga.next=t),fc=!0,fd||(fd=!0,wT())}function ho(t,n){if(!dd&&fc){dd=!0;do for(var a=!1,l=hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-It(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,m0(l,f))}else f=Ge,f=bi(l,l===pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ii(l,f)||(a=!0,m0(l,f));l=l.next}while(a);dd=!1}}function AT(){h0()}function h0(){fc=fd=!1;var t=0;Ks!==0&&jT()&&(t=Ks);for(var n=qe(),a=null,l=hc;l!==null;){var h=l.next,f=f0(l,n);f===0?(l.next=null,a===null?hc=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(f&3)!==0)&&(fc=!0)),l=h}Yt!==0&&Yt!==5||ho(t),Ks!==0&&(Ks=0)}function f0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-It(f),E=1<<g,C=h[g];C===-1?((E&a)===0||(E&l)!==0)&&(h[g]=qh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=pt,a=Ge,a=bi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Kt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ii(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Kt(l),Ki(a)){case 2:case 8:a=El;break;case 32:a=Ts;break;case 268435456:a=tu;break;default:a=Ts}return l=d0.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Kt(l),t.callbackPriority=2,t.callbackNode=null,2}function d0(t,n){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(cc()&&t.callbackNode!==a)return null;var l=Ge;return l=bi(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yy(t,l,n),f0(t,qe()),t.callbackNode!=null&&t.callbackNode===a?d0.bind(null,t):null)}function m0(t,n){if(cc())return null;Yy(t,n,!0)}function wT(){UT(function(){(st&6)!==0?Ie(kt,AT):h0()})}function md(){if(Ks===0){var t=Ia;t===0&&(t=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Ks=t}return Ks}function p0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function g0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function RT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=p0((h[$t]||null).action),g=l.submitter;g&&(n=(n=g[$t]||null)?p0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Di("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var C=g?g0(h,g):new FormData(h);Vf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?g0(h,g):new FormData(h),Vf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],NT=gd.toLowerCase(),CT=gd[0].toUpperCase()+gd.slice(1);hi(NT,"on"+CT)}hi(Kp,"onAnimationEnd"),hi(Yp,"onAnimationIteration"),hi(Xp,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(GE,"onTransitionRun"),hi(QE,"onTransitionStart"),hi(KE,"onTransitionCancel"),hi($p,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function y0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,q=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=q;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,q=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=q;try{f(h)}catch(G){Ru(G)}h.currentTarget=null,f=C}}}}function Fe(t,n){var a=n[ca];a===void 0&&(a=n[ca]=new Set);var l=t+"__bubble";a.has(l)||(_0(n,t,2,!1),a.add(l))}function yd(t,n,a){var l=0;n&&(l|=4),_0(a,t,l,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[dc]){t[dc]=!0,Sl.forEach(function(a){a!=="selectionchange"&&(IT.has(a)||yd(a,!1,t),yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,yd("selectionchange",!1,n))}}function _0(t,n,a,l){switch(K0(n)){case 2:var h=sx;break;case 8:h=rx;break;default:h=Md}a=h.bind(null,n,a,t),h=void 0,!Rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function vd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Si(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ns(function(){var q=f,G=Hn(a),$=[];e:{var B=Zp.get(t);if(B!==void 0){var F=Di,fe=t;switch(t){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":F=Su;break;case"focusin":fe="focus",F=Dr;break;case"focusout":fe="blur",F=Dr;break;case"beforeblur":case"afterblur":F=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Kp:case Yp:case Xp:F=yu;break;case $p:F=T;break;case"scroll":case"scrollend":F=jl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=$i;break;case"toggle":case"beforetoggle":F=ke}var Se=(n&4)!==0,dt=!Se&&(t==="scroll"||t==="scrollend"),k=Se?B!==null?B+"Capture":null:B;Se=[];for(var D=q,z;D!==null;){var K=D;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||k===null||(K=li(D,k),K!=null&&Se.push(mo(D,K,z))),dt)break;D=D.return}0<Se.length&&(B=new F(B,fe,null,a,G),$.push({event:B,listeners:Se}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Ml&&(fe=a.relatedTarget||a.fromElement)&&(Si(fe)||fe[Ti]))break e;if((F||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,F?(fe=a.relatedTarget||a.toElement,F=q,fe=fe?Si(fe):null,fe!==null&&(dt=c(fe),Se=fe.tag,fe!==dt||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(F=null,fe=q),F!==fe)){if(Se=Ll,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Se=$i,K="onPointerLeave",k="onPointerEnter",D="pointer"),dt=F==null?B:In(F),z=fe==null?B:In(fe),B=new Se(K,D+"leave",F,a,G),B.target=dt,B.relatedTarget=z,K=null,Si(G)===q&&(Se=new Se(k,D+"enter",fe,a,G),Se.target=z,Se.relatedTarget=dt,K=Se),dt=K,F&&fe)t:{for(Se=DT,k=F,D=fe,z=0,K=k;K;K=Se(K))z++;K=0;for(var _e=D;_e;_e=Se(_e))K++;for(;0<z-K;)k=Se(k),z--;for(;0<K-z;)D=Se(D),K--;for(;z--;){if(k===D||D!==null&&k===D.alternate){Se=k;break t}k=Se(k),D=Se(D)}Se=null}else Se=null;F!==null&&v0($,B,F,Se,!1),fe!==null&&dt!==null&&v0($,dt,fe,Se,!0)}}e:{if(B=q?In(q):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var tt=jp;else if(Vp(B))if(Lp)tt=BE;else{tt=zE;var me=PE}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?q&&ma(q.elementType)&&(tt=jp):tt=qE;if(tt&&(tt=tt(t,q))){kp($,tt,a,G);break e}me&&me(t,B,q),t==="focusout"&&q&&B.type==="number"&&q.memoizedProps.value!=null&&Il(B,"number",B.value)}switch(me=q?In(q):window,t){case"focusin":(Vp(me)||me.contentEditable==="true")&&(Ta=me,Kh=q,Bl=null);break;case"focusout":Bl=Kh=Ta=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Gp($,a,G);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":Gp($,a,G)}var Le;if(it)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ea?Or(t,a)&&(Qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Qe="onCompositionStart");Qe&&(Vi&&a.locale!=="ko"&&(Ea||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ea&&(Le=kl()):(Ii=G,Vl="value"in Ii?Ii.value:Ii.textContent,Ea=!0)),me=mc(q,Qe),0<me.length&&(Qe=new Mi(Qe,t,null,a,G),$.push({event:Qe,listeners:me}),Le?Qe.data=Le:(Le=ba(a),Le!==null&&(Qe.data=Le)))),(Le=Gn?kE(t,a):jE(t,a))&&(Qe=mc(q,"onBeforeInput"),0<Qe.length&&(me=new Mi("onBeforeInput","beforeinput",null,a,G),$.push({event:me,listeners:Qe}),me.data=Le)),RT($,t,q,a,G)}y0($,n)})}function mo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function mc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=li(t,a),h!=null&&l.unshift(mo(t,h,f)),h=li(t,n),h!=null&&l.push(mo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function DT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v0(t,n,a,l,h){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,q=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||q===null||(C=q,h?(q=li(a,f),q!=null&&g.unshift(mo(a,q,C))):h||(q=li(a,f),q!=null&&g.push(mo(a,q,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var OT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function b0(t){return(typeof t=="string"?t:""+t).replace(OT,`
`).replace(MT,"")}function E0(t,n){return n=b0(n),b0(t)===n}function ft(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,l);break;case"style":Ol(t,l,f);break;case"data":if(n!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ft(t,n,"name",h.name,h,null),ft(t,n,"formEncType",h.formEncType,h,null),ft(t,n,"formMethod",h.formMethod,h,null),ft(t,n,"formTarget",h.formTarget,h,null)):(ft(t,n,"encType",h.encType,h,null),ft(t,n,"method",h.method,h,null),ft(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ai);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),fa(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,fa(t,a,l))}}function bd(t,n,a,l,h,f){switch(a){case"style":Ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[$t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fa(t,a,l)}}}function ln(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ft(t,n,f,g,a,null)}}h&&ft(t,n,"srcSet",a.srcSet,a,null),l&&ft(t,n,"src",a.src,a,null);return;case"input":Fe("invalid",t);var E=f=g=h=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":q=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ft(t,n,l,G,a,null)}}hu(t,f,E,C,q,g,h,!1);return;case"select":Fe("invalid",t),l=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ft(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Ss(t,!!l,n,!1):a!=null&&Ss(t,!!l,a,!0);return;case"textarea":Fe("invalid",t),f=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ft(t,n,g,E,a,null)}As(t,l,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ft(t,n,C,l,a,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(l=0;l<fo.length;l++)Fe(fo[l],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ft(t,n,q,l,a,null)}return;default:if(ma(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&bd(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ft(t,n,E,l,a,null))}function VT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,q=null,G=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(F)||ft(t,n,F,null,l,$)}}for(var B in l){var F=l[B];if($=a[B],l.hasOwnProperty(B)&&(F!=null||$!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":G=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&ft(t,n,B,F,l,$)}}da(t,g,E,C,q,G,f,h);return;case"select":F=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(f)||ft(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ft(t,n,h,f,l,C)}n=E,a=g,l=F,B!=null?Ss(t,!!a,B,!1):!!l!=!!a&&(n!=null?Ss(t,!!a,n,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ft(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=a[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ft(t,n,g,h,l,f)}fu(t,B,F);return;case"option":for(var fe in a)if(B=a[fe],a.hasOwnProperty(fe)&&B!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:ft(t,n,fe,null,l,B)}for(C in l)if(B=l[C],F=a[C],l.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ft(t,n,C,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)B=a[Se],a.hasOwnProperty(Se)&&B!=null&&!l.hasOwnProperty(Se)&&ft(t,n,Se,null,l,B);for(q in l)if(B=l[q],F=a[q],l.hasOwnProperty(q)&&B!==F&&(B!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ft(t,n,q,B,l,F)}return;default:if(ma(n)){for(var dt in a)B=a[dt],a.hasOwnProperty(dt)&&B!==void 0&&!l.hasOwnProperty(dt)&&bd(t,n,dt,void 0,l,B);for(G in l)B=l[G],F=a[G],!l.hasOwnProperty(G)||B===F||B===void 0&&F===void 0||bd(t,n,G,B,l,F);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&ft(t,n,k,null,l,B);for($ in l)B=l[$],F=a[$],!l.hasOwnProperty($)||B===F||B==null&&F==null||ft(t,n,$,B,l,F)}function T0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&T0(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],q=C.startTime;if(q>E)break;var G=C.transferSize,$=C.initiatorType;G&&T0($)&&(C=C.responseEnd,g+=G*(C<E?1:(E-q)/(C-q)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function x0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function jT(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,LT=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(PT)}:A0;function PT(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function R0(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xa(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")po(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,po(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[xi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&po(t.ownerDocument.body);a=h}while(a);Xa(n)}function N0(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function qT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function C0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Nd=null;function I0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function D0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function O0(t,n,a){switch(n=pc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function po(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ha(t)}var Wn=new Map,M0=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=X.d;X.d={f:HT,r:FT,D:GT,C:QT,L:KT,m:YT,X:$T,S:XT,M:ZT};function HT(){var t=hs.f(),n=lc();return t||n}function FT(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?$g(n):hs.r(t)}var Qa=typeof document>"u"?null:document;function V0(t,n,a){var l=Qa;if(l&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M0.has(h)||(M0.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ln(n,"link",t),Ut(n),l.head.appendChild(n)))}}function GT(t){hs.D(t),V0("dns-prefetch",t,null)}function QT(t,n){hs.C(t,n),V0("preconnect",t,n)}function KT(t,n,a){hs.L(t,n,a);var l=Qa;if(l&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Ya(t)}Wn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Wn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(go(f))||n==="script"&&l.querySelector(yo(f))||(n=l.createElement("link"),ln(n,"link",t),Ut(n),l.head.appendChild(n)))}}function YT(t,n){hs.m(t,n);var a=Qa;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!Wn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Wn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yo(f)))return}l=a.createElement("link"),ln(l,"link",t),Ut(l),a.head.appendChild(l)}}}function XT(t,n,a){hs.S(t,n,a);var l=Qa;if(l&&t){var h=Ai(l).hoistableStyles,f=Ka(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(go(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Wn.get(f))&&Cd(t,a);var C=g=l.createElement("link");Ut(C),ln(C,"link",t),C._p=new Promise(function(q,G){C.onload=q,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function $T(t,n){hs.X(t,n);var a=Qa;if(a&&t){var l=Ai(a).hoistableScripts,h=Ya(t),f=l.get(h);f||(f=a.querySelector(yo(h)),f||(t=S({src:t,async:!0},n),(n=Wn.get(h))&&Id(t,n),f=a.createElement("script"),Ut(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ZT(t,n){hs.M(t,n);var a=Qa;if(a&&t){var l=Ai(a).hoistableScripts,h=Ya(t),f=l.get(h);f||(f=a.querySelector(yo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&Id(t,n),f=a.createElement("script"),Ut(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function k0(t,n,a,l){var h=(h=ge.current)?gc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ka(a.href),a=Ai(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var f=Ai(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(go(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),f||JT(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(a),a=Ai(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ka(t){return'href="'+vn(t)+'"'}function go(t){return'link[rel="stylesheet"]['+t+"]"}function j0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function JT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",a),Ut(n),t.head.appendChild(n))}function Ya(t){return'[src="'+vn(t)+'"]'}function yo(t){return"script[async]"+t}function L0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return n.instance=l,Ut(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ut(l),ln(l,"style",h),yc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ka(a.href);var f=t.querySelector(go(h));if(f)return n.state.loading|=4,n.instance=f,Ut(f),f;l=j0(a),(h=Wn.get(h))&&Cd(l,h),f=(t.ownerDocument||t).createElement("link"),Ut(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),ln(f,"link",l),n.state.loading|=4,yc(f,a.precedence,t),n.instance=f;case"script":return f=Ya(a.src),(h=t.querySelector(yo(f)))?(n.instance=h,Ut(h),h):(l=a,(h=Wn.get(f))&&(l=S({},a),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ut(h),ln(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yc(l,a.precedence,t));return n.instance}function yc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function U0(t,n,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[xi]||f[Lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function P0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function WT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function z0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ex(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),f=n.querySelector(go(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ut(f);return}f=n.ownerDocument||n,l=j0(l),(h=Wn.get(h))&&Cd(l,h),f=f.createElement("link"),Ut(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),ln(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=vc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function tx(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*kT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(nx,t),bc=null,vc.call(t))}function nx(t,n){if(!(n.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,h),a.set(g,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _o={$$typeof:Re,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function ix(t,n,a,l,h,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function q0(t,n,a,l,h,f,g,E,C,q,G,$){return t=new ix(t,n,a,g,C,q,G,$,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},mf(f),t}function B0(t){return t?(t=Aa,t):Aa}function H0(t,n,a,l,h,f){h=B0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ls(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Us(t,l,n),a!==null&&(An(a,t,n),Xl(a,t,n))}function F0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Od(t,n){F0(t,n),(t=t.alternate)&&F0(t,n)}function G0(t){if(t.tag===13||t.tag===31){var n=kr(t,67108864);n!==null&&An(n,t,67108864),Od(t,67108864)}}function Q0(t){if(t.tag===13||t.tag===31){var n=Un();n=xr(n);var a=kr(t,n);a!==null&&An(a,t,n),Od(t,n)}}var Tc=!0;function sx(t,n,a,l){var h=L.T;L.T=null;var f=X.p;try{X.p=2,Md(t,n,a,l)}finally{X.p=f,L.T=h}}function rx(t,n,a,l){var h=L.T;L.T=null;var f=X.p;try{X.p=8,Md(t,n,a,l)}finally{X.p=f,L.T=h}}function Md(t,n,a,l){if(Tc){var h=Vd(l);if(h===null)vd(t,n,l,xc,a),Y0(t,l);else if(lx(h,t,n,a,l))l.stopPropagation();else if(Y0(t,l),n&4&&-1<ax.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=vi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-It(g);E.entanglements[1]|=C,g&=~C}Ui(f),(st&6)===0&&(rc=qe()+500,ho(0))}}break;case 31:case 13:E=kr(f,2),E!==null&&An(E,f,2),lc(),Od(f,2)}if(f=Vd(l),f===null&&vd(t,n,l,xc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else vd(t,n,l,null,a)}}function Vd(t){return t=Hn(t),kd(t)}var xc=null;function kd(t){if(xc=null,t=Si(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function K0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case kt:return 2;case El:return 8;case Ts:case zh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var jd=!1,Xs=null,$s=null,Zs=null,vo=new Map,bo=new Map,Js=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function Eo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&G0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function lx(t,n,a,l,h){switch(n){case"focusin":return Xs=Eo(Xs,t,n,a,l,h),!0;case"dragenter":return $s=Eo($s,t,n,a,l,h),!0;case"mouseover":return Zs=Eo(Zs,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return vo.set(f,Eo(vo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,bo.set(f,Eo(bo.get(f)||null,t,n,a,l,h)),!0}return!1}function X0(t){var n=Si(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,si(t.priority,function(){Q0(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,si(t.priority,function(){Q0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ml=l,a.target.dispatchEvent(l),Ml=null}else return n=Bn(a),n!==null&&G0(n),t.blockedOn=a,!1;n.shift()}return!0}function $0(t,n,a){Sc(t)&&a.delete(n)}function ox(){jd=!1,Xs!==null&&Sc(Xs)&&(Xs=null),$s!==null&&Sc($s)&&($s=null),Zs!==null&&Sc(Zs)&&(Zs=null),vo.forEach($0),bo.forEach($0)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ox)))}var wc=null;function Z0(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kd(l||a)===null)continue;break}var f=Bn(a);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(t){function n(C){return Ac(C,t)}Xs!==null&&Ac(Xs,t),$s!==null&&Ac($s,t),Zs!==null&&Ac(Zs,t),vo.forEach(n),bo.forEach(n);for(var a=0;a<Js.length;a++){var l=Js[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)X0(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],g=h[$t]||null;if(typeof f=="function")g||Z0(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[$t]||null)E=g.formAction;else if(kd(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Z0(a)}}}function J0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Rc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Un();H0(a,l,t,n,null,null)},Rc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;H0(t.current,2,null,t,null,null),lc(),n[Ti]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,t),a===0&&X0(t)}};var W0=e.version;if(W0!=="19.2.0")throw Error(r(527,W0,"19.2.0"));X.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var ux={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{ni=Nc.inject(ux),tn=Nc}catch{}}return xo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=ay,f=ly,g=oy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=q0(t,1,!1,null,null,a,l,null,h,f,g,J0),t[Ti]=n.current,_d(t),new Ld(n)},xo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=ay,g=ly,E=oy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=q0(t,1,!0,n,a??null,l,h,C,f,g,E,J0),n.context=B0(null),a=n.current,l=Un(),l=xr(l),h=Ls(l),h.callback=null,Us(a,h,l),a=l,n.current.lanes=a,Er(n,a),Ui(n),t[Ti]=n.current,_d(t),new Rc(n)},xo.version="19.2.0",xo}var u_;function vx(){if(u_)return zd.exports;u_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=_x(),zd.exports}var bx=vx();const Ex=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),c_=s=>{const e=Tx(s);return e.charAt(0).toUpperCase()+e.slice(1)},rb=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),xx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Sx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ax=we.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...y},v)=>we.createElement("svg",{ref:v,...Sx,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:rb("lucide",o),...!c&&!xx(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,x])=>we.createElement(_,x)),...Array.isArray(c)?c:[c]]));const ze=(s,e)=>{const i=we.forwardRef(({className:r,...o},c)=>we.createElement(Ax,{ref:c,iconNode:e,className:rb(`lucide-${Ex(c_(s))}`,`lucide-${s}`,r),...o}));return i.displayName=c_(s),i};const wx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rx=ze("arrow-left",wx);const Nx=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],h_=ze("box",Nx);const Cx=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Fd=ze("briefcase",Cx);const Ix=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],f_=ze("bug",Ix);const Dx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gd=ze("calendar",Dx);const Ox=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Qd=ze("camera",Ox);const Mx=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vx=ze("chart-column",Mx);const kx=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],jx=ze("chart-pie",kx);const Lx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d_=ze("check",Lx);const Ux=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],m_=ze("circle-alert",Ux);const Px=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zx=ze("circle-check-big",Px);const qx=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Kd=ze("clipboard-list",qx);const Bx=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Hx=ze("cpu",Bx);const Fx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Gx=ze("download",Fx);const Qx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kx=ze("eye",Qx);const Yx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],Xx=ze("file-x",Yx);const $x=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Zx=ze("history",$x);const Jx=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],p_=ze("lightbulb",Jx);const Wx=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],g_=ze("log-in",Wx);const eS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tS=ze("log-out",eS);const nS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],y_=ze("message-square",nS);const iS=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],sS=ze("monitor-play",iS);const rS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],__=ze("pen-tool",rS);const aS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],lS=ze("pen",aS);const oS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uS=ze("plus",oS);const cS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hS=ze("refresh-cw",cS);const fS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cc=ze("save",fS);const dS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mS=ze("search",dS);const pS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v_=ze("settings",pS);const gS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yS=ze("shield-check",gS);const _S=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vS=ze("square-check-big",_S);const bS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],b_=ze("trash-2",bS);const ES=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TS=ze("trending-up",ES);const xS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SS=ze("triangle-alert",xS);const AS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wS=ze("user",AS);const RS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NS=ze("users",RS);const CS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],E_=ze("utensils",CS);const IS=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],T_=ze("video",IS);const DS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ic=ze("x",DS);const OS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MS=ze("zap",OS),VS=()=>{};var x_={};const ab=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},kS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,x=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(M=64)),r.push(i[x],i[S],i[M],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(ab(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):kS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||y==null||_==null||S==null)throw new jS;const M=c<<2|y>>4;if(r.push(M),_!==64){const Q=y<<4&240|_>>2;if(r.push(Q),S!==64){const te=_<<6&192|S;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class jS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(s){const e=ab(s);return lb.encodeByteArray(e,!0)},Xc=function(s){return LS(s).replace(/\./g,"")},ob=function(s){try{return lb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function US(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PS=()=>US().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof x_>"u")return;const s=x_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ob(s[1]);return e&&JSON.parse(e)},ph=()=>{try{return VS()||PS()||zS()||qS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ub=s=>ph()?.emulatorHosts?.[s],BS=s=>{const e=ub(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},cb=()=>ph()?.config,hb=s=>ph()?.[`_${s}`];class HS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function dl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fb(s){return(await fetch(s,{credentials:"include"})).ok}function FS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const No={};function GS(){const s={prod:[],emulator:[]};for(const e of Object.keys(No))No[e]?s.emulator.push(e):s.prod.push(e);return s}function QS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let S_=!1;function db(s,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||No[s]===e||No[s]||S_)return;No[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=GS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{S_=!0,d()},M}function x(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=QS(r),Q=i("text"),te=document.getElementById(Q)||document.createElement("span"),se=i("learnmore"),ne=document.getElementById(se)||document.createElement("a"),Te=i("preprendIcon"),Oe=document.getElementById(Te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Re=M.element;y(Re),x(ne,se);const rt=_();v(Oe,Te),Re.append(Oe,te,ne,rt),document.body.appendChild(Re)}c?(te.innerText="Preview backend disconnected.",Oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function YS(){const s=ph()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ZS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JS(){const s=gn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function WS(){return!YS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eA(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const nA="FirebaseError";class Es extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=nA,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?iA(c,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Es(o,y,r)}}function iA(s,e){return s.replace(sA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const sA=/\{\$([^}]+)}/g;function rA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function na(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(A_(c)&&A_(d)){if(!na(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function A_(s){return s!==null&&typeof s=="object"}function Fo(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aA(s,e){const i=new lA(s,e);return i.subscribe.bind(i)}class lA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");oA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Yd),o.error===void 0&&(o.error=Yd),o.complete===void 0&&(o.complete=Yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yd(){}function en(s){return s&&s._delegate?s._delegate:s}class ia{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class uA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new HS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hA(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(s){return s===Xr?void 0:s}function hA(s){return s.instantiationMode==="EAGER"}class fA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ke||(Ke={}));const dA={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},mA=Ke.INFO,pA={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},gA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=pA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=mA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const yA=(s,e)=>e.some(i=>s instanceof i);let w_,R_;function _A(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vA(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mb=new WeakMap,cm=new WeakMap,pb=new WeakMap,Xd=new WeakMap,Um=new WeakMap;function bA(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ar(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&mb.set(i,s)}).catch(()=>{}),Um.set(e,s),e}function EA(s){if(cm.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});cm.set(s,e)}let hm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||pb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function TA(s){hm=s(hm)}function xA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call($d(this),e,...i);return pb.set(r,e.sort?e.sort():[e]),ar(r)}:vA().includes(s)?function(...e){return s.apply($d(this),e),ar(mb.get(this))}:function(...e){return ar(s.apply($d(this),e))}}function SA(s){return typeof s=="function"?xA(s):(s instanceof IDBTransaction&&EA(s),yA(s,_A())?new Proxy(s,hm):s)}function ar(s){if(s instanceof IDBRequest)return bA(s);if(Xd.has(s))return Xd.get(s);const e=SA(s);return e!==s&&(Xd.set(s,e),Um.set(e,s)),e}const $d=s=>Um.get(s);function AA(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),y=ar(d);return r&&d.addEventListener("upgradeneeded",v=>{r(ar(d.result),v.oldVersion,v.newVersion,ar(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const wA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],Zd=new Map;function N_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=RA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||wA.includes(i)))return;const c=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Zd.set(e,c),c}TA(s=>({...s,get:(e,i,r)=>N_(e,i)||s.get(e,i,r),has:(e,i)=>!!N_(e,i)||s.has(e,i)}));class NA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function CA(s){return s.getComponent()?.type==="VERSION"}const fm="@firebase/app",C_="0.14.6";const gs=new Lm("@firebase/app"),IA="@firebase/app-compat",DA="@firebase/analytics-compat",OA="@firebase/analytics",MA="@firebase/app-check-compat",VA="@firebase/app-check",kA="@firebase/auth",jA="@firebase/auth-compat",LA="@firebase/database",UA="@firebase/data-connect",PA="@firebase/database-compat",zA="@firebase/functions",qA="@firebase/functions-compat",BA="@firebase/installations",HA="@firebase/installations-compat",FA="@firebase/messaging",GA="@firebase/messaging-compat",QA="@firebase/performance",KA="@firebase/performance-compat",YA="@firebase/remote-config",XA="@firebase/remote-config-compat",$A="@firebase/storage",ZA="@firebase/storage-compat",JA="@firebase/firestore",WA="@firebase/ai",e2="@firebase/firestore-compat",t2="firebase",n2="12.6.0";const dm="[DEFAULT]",i2={[fm]:"fire-core",[IA]:"fire-core-compat",[OA]:"fire-analytics",[DA]:"fire-analytics-compat",[VA]:"fire-app-check",[MA]:"fire-app-check-compat",[kA]:"fire-auth",[jA]:"fire-auth-compat",[LA]:"fire-rtdb",[UA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[zA]:"fire-fn",[qA]:"fire-fn-compat",[BA]:"fire-iid",[HA]:"fire-iid-compat",[FA]:"fire-fcm",[GA]:"fire-fcm-compat",[QA]:"fire-perf",[KA]:"fire-perf-compat",[YA]:"fire-rc",[XA]:"fire-rc-compat",[$A]:"fire-gcs",[ZA]:"fire-gcs-compat",[JA]:"fire-fst",[e2]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};const $c=new Map,s2=new Map,mm=new Map;function I_(s,e){try{s.container.addComponent(e)}catch(i){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function rl(s){const e=s.name;if(mm.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,s);for(const i of $c.values())I_(i,s);for(const i of s2.values())I_(i,s);return!0}function Pm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function mi(s){return s==null?!1:s.settings!==void 0}const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Ho("app","Firebase",r2);class a2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const ml=n2;function gb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(i||(i=cb()),!i)throw lr.create("no-options");const c=$c.get(o);if(c){if(na(i,c.options)&&na(r,c.config))return c;throw lr.create("duplicate-app",{appName:o})}const d=new fA(o);for(const v of mm.values())d.addComponent(v);const y=new a2(i,r,d);return $c.set(o,y),y}function yb(s=dm){const e=$c.get(s);if(!e&&s===dm&&cb())return gb();if(!e)throw lr.create("no-app",{appName:s});return e}function or(s,e,i){let r=i2[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}rl(new ia(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const l2="firebase-heartbeat-database",o2=1,Vo="firebase-heartbeat-store";let Jd=null;function _b(){return Jd||(Jd=AA(l2,o2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Vo)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function u2(s){try{const i=(await _b()).transaction(Vo),r=await i.objectStore(Vo).get(vb(s));return await i.done,r}catch(e){if(e instanceof Es)gs.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e?.message});gs.warn(i.message)}}}async function D_(s,e){try{const r=(await _b()).transaction(Vo,"readwrite");await r.objectStore(Vo).put(e,vb(s)),await r.done}catch(i){if(i instanceof Es)gs.warn(i.message);else{const r=lr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(r.message)}}}function vb(s){return`${s.name}!${s.options.appId}`}const c2=1024,h2=30;class f2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new m2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>h2){const o=p2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=O_(),{heartbeatsToSend:i,unsentEntries:r}=d2(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gs.warn(e),""}}}function O_(){return new Date().toISOString().substring(0,10)}function d2(s,e=c2){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),M_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),M_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class m2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eA()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await u2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function M_(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function p2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function g2(s){rl(new ia("platform-logger",e=>new NA(e),"PRIVATE")),rl(new ia("heartbeat",e=>new f2(e),"PRIVATE")),or(fm,C_,s),or(fm,C_,"esm2020"),or("fire-js","")}g2("");var y2="firebase",_2="12.6.0";or(y2,_2,"app");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,bb;(function(){var s;function e(I,A){function w(){}w.prototype=A.prototype,I.F=A.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(V,O,j){for(var R=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)R[gt-2]=arguments[gt];return A.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,w){w||(w=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(O=0;O<16;++O)V[O]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=I.g[0],w=I.g[1],O=I.g[2];let j=I.g[3],R;R=A+(j^w&(O^j))+V[0]+3614090360&4294967295,A=w+(R<<7&4294967295|R>>>25),R=j+(O^A&(w^O))+V[1]+3905402710&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(w^j&(A^w))+V[2]+606105819&4294967295,O=j+(R<<17&4294967295|R>>>15),R=w+(A^O&(j^A))+V[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(j^w&(O^j))+V[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=j+(O^A&(w^O))+V[5]+1200080426&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(w^j&(A^w))+V[6]+2821735955&4294967295,O=j+(R<<17&4294967295|R>>>15),R=w+(A^O&(j^A))+V[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(j^w&(O^j))+V[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=j+(O^A&(w^O))+V[9]+2336552879&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(w^j&(A^w))+V[10]+4294925233&4294967295,O=j+(R<<17&4294967295|R>>>15),R=w+(A^O&(j^A))+V[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(j^w&(O^j))+V[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=j+(O^A&(w^O))+V[13]+4254626195&4294967295,j=A+(R<<12&4294967295|R>>>20),R=O+(w^j&(A^w))+V[14]+2792965006&4294967295,O=j+(R<<17&4294967295|R>>>15),R=w+(A^O&(j^A))+V[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(O^j&(w^O))+V[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=j+(w^O&(A^w))+V[6]+3225465664&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(j^A))+V[11]+643717713&4294967295,O=j+(R<<14&4294967295|R>>>18),R=w+(j^A&(O^j))+V[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(w^O))+V[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=j+(w^O&(A^w))+V[10]+38016083&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(j^A))+V[15]+3634488961&4294967295,O=j+(R<<14&4294967295|R>>>18),R=w+(j^A&(O^j))+V[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(w^O))+V[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=j+(w^O&(A^w))+V[14]+3275163606&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(j^A))+V[3]+4107603335&4294967295,O=j+(R<<14&4294967295|R>>>18),R=w+(j^A&(O^j))+V[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^j&(w^O))+V[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=j+(w^O&(A^w))+V[2]+4243563512&4294967295,j=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(j^A))+V[7]+1735328473&4294967295,O=j+(R<<14&4294967295|R>>>18),R=w+(j^A&(O^j))+V[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(w^O^j)+V[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=j+(A^w^O)+V[8]+2272392833&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^w)+V[11]+1839030562&4294967295,O=j+(R<<16&4294967295|R>>>16),R=w+(O^j^A)+V[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^j)+V[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=j+(A^w^O)+V[4]+1272893353&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^w)+V[7]+4139469664&4294967295,O=j+(R<<16&4294967295|R>>>16),R=w+(O^j^A)+V[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^j)+V[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=j+(A^w^O)+V[0]+3936430074&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^w)+V[3]+3572445317&4294967295,O=j+(R<<16&4294967295|R>>>16),R=w+(O^j^A)+V[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^j)+V[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=j+(A^w^O)+V[12]+3873151461&4294967295,j=A+(R<<11&4294967295|R>>>21),R=O+(j^A^w)+V[15]+530742520&4294967295,O=j+(R<<16&4294967295|R>>>16),R=w+(O^j^A)+V[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(O^(w|~j))+V[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=j+(w^(A|~O))+V[7]+1126891415&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~w))+V[14]+2878612391&4294967295,O=j+(R<<15&4294967295|R>>>17),R=w+(j^(O|~A))+V[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~j))+V[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=j+(w^(A|~O))+V[3]+2399980690&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~w))+V[10]+4293915773&4294967295,O=j+(R<<15&4294967295|R>>>17),R=w+(j^(O|~A))+V[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~j))+V[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=j+(w^(A|~O))+V[15]+4264355552&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~w))+V[6]+2734768916&4294967295,O=j+(R<<15&4294967295|R>>>17),R=w+(j^(O|~A))+V[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~j))+V[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=j+(w^(A|~O))+V[11]+3174756917&4294967295,j=A+(R<<10&4294967295|R>>>22),R=O+(A^(j|~w))+V[2]+718787259&4294967295,O=j+(R<<15&4294967295|R>>>17),R=w+(j^(O|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const w=A-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=w;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<A;)if(V[O++]=I.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<A;)if(V[O++]=I[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)I[A++]=this.g[w]>>>V&255;return I};function c(I,A){var w=y;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=A(I)}function d(I,A){this.h=A;const w=[];let V=!0;for(let O=I.length-1;O>=0;O--){const j=I[O]|0;V&&j==A||(w[O]=j,V=!1)}this.g=w}var y={};function v(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return ne(_(-I));const A=[];let w=1;for(let V=0;I>=w;V++)A[V]=I/w|0,w*=4294967296;return new d(A,0)}function x(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return ne(x(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(A,8));let V=S;for(let j=0;j<I.length;j+=8){var O=Math.min(8,I.length-j);const R=parseInt(I.substring(j,j+O),A);O<8?(O=_(Math.pow(A,O)),V=V.j(O).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var S=v(0),M=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(se(this))return-ne(this).m();let I=0,A=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(te(this))return"0";if(se(this))return"-"+ne(this).toString(I);const A=_(Math.pow(I,6));var w=this;let V="";for(;;){const O=rt(w,A).g;w=Te(w,O.j(A));let j=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=O,te(w))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function te(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function se(I){return I.h==-1}s.l=function(I){return I=Te(this,I),se(I)?-1:te(I)?0:1};function ne(I){const A=I.g.length,w=[];for(let V=0;V<A;V++)w[V]=~I.g[V];return new d(w,~I.h).add(M)}s.abs=function(){return se(this)?ne(this):this},s.add=function(I){const A=Math.max(this.g.length,I.g.length),w=[];let V=0;for(let O=0;O<=A;O++){let j=V+(this.i(O)&65535)+(I.i(O)&65535),R=(j>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=R>>>16,j&=65535,R&=65535,w[O]=R<<16|j}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Te(I,A){return I.add(ne(A))}s.j=function(I){if(te(this)||te(I))return S;if(se(this))return se(I)?ne(this).j(ne(I)):ne(ne(this).j(I));if(se(I))return ne(this.j(ne(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,w=[];for(var V=0;V<2*A;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const j=this.i(V)>>>16,R=this.i(V)&65535,gt=I.i(O)>>>16,de=I.i(O)&65535;w[2*V+2*O]+=R*de,Oe(w,2*V+2*O),w[2*V+2*O+1]+=j*de,Oe(w,2*V+2*O+1),w[2*V+2*O+1]+=R*gt,Oe(w,2*V+2*O+1),w[2*V+2*O+2]+=j*gt,Oe(w,2*V+2*O+2)}for(I=0;I<A;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=A;I<2*A;I++)w[I]=0;return new d(w,0)};function Oe(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function Re(I,A){this.g=I,this.h=A}function rt(I,A){if(te(A))throw Error("division by zero");if(te(I))return new Re(S,S);if(se(I))return A=rt(ne(I),A),new Re(ne(A.g),ne(A.h));if(se(A))return A=rt(I,ne(A)),new Re(ne(A.g),A.h);if(I.g.length>30){if(se(I)||se(A))throw Error("slowDivide_ only works with positive integers.");for(var w=M,V=A;V.l(I)<=0;)w=mt(w),V=mt(V);var O=$e(w,1),j=$e(V,1);for(V=$e(V,2),w=$e(w,2);!te(V);){var R=j.add(V);R.l(I)<=0&&(O=O.add(w),j=R),V=$e(V,1),w=$e(w,1)}return A=Te(I,O.j(A)),new Re(O,A)}for(O=S;I.l(A)>=0;){for(w=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(w),R=j.j(A);se(R)||R.l(I)>0;)w-=V,j=_(w),R=j.j(A);te(j)&&(j=M),O=O.add(j),I=Te(I,R)}return new Re(O,I)}s.B=function(I){return rt(this,I).h},s.and=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<A;V++)w[V]=this.i(V)&I.i(V);return new d(w,this.h&I.h)},s.or=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<A;V++)w[V]=this.i(V)|I.i(V);return new d(w,this.h|I.h)},s.xor=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<A;V++)w[V]=this.i(V)^I.i(V);return new d(w,this.h^I.h)};function mt(I){const A=I.g.length+1,w=[];for(let V=0;V<A;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(w,I.h)}function $e(I,A){const w=A>>5;A%=32;const V=I.g.length-w,O=[];for(let j=0;j<V;j++)O[j]=A>0?I.i(j+w)>>>A|I.i(j+w+1)<<32-A:I.i(j+w);return new d(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,bb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=x,ur=d}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Eb,So,Tb,Pc,pm,xb,Sb,Ab;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var b=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function x(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var re=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)re[ke-2]=arguments[ke];return m.prototype[U].apply(T,re)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function te(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const H=U.length||0;u.length=b+H;for(let re=0;re<H;re++)u[b+re]=U[re]}else u.push(U)}}class se{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ne(u){d.setTimeout(()=>{throw u},0)}function Te(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,b){const T=Re.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Re=new se(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,$e=!1,I=new Oe,A=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(w)}};function w(){for(var u;u=Te();){try{u.h.call(u.g)}catch(b){ne(b)}var m=Re;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}$e=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function gt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(gt,O),gt.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&gt.Z.h.call(this)},gt.prototype.h=function(){gt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),L=0;function X(u,m,b,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=U,this.key=++L,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function ie(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function N(u){const m={};for(const b in u)m[b]=u[b];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let H=0;H<P.length;H++)b=P[H],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,b,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const re=ge(u,m,T,U);return re>-1?(m=u[re],b||(m.fa=!1)):(m=new X(m,this.src,H,!!T,U),m.fa=b,u.push(m)),m};function le(u,m){const b=m.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(ee(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function ge(u,m,b,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==T)return U}return-1}var be="closure_lm_"+(Math.random()*1e6|0),ye={};function ue(u,m,b,T,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ue(u,m[H],b,T,U);return null}return b=et(b),u&&u[de]?u.J(m,b,y(T)?!!T.capture:!1,U):Je(u,m,b,!1,T,U)}function Je(u,m,b,T,U,H){if(!m)throw Error("Invalid event type");const re=y(U)?!!U.capture:!!U;let ke=xe(u);if(ke||(u[be]=ke=new W(u)),b=ke.add(m,b,T,re,H),b.proxy)return b;if(T=At(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)j||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(he(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function At(){function u(b){return m.call(u.src,u.listener,b)}const m=Ee;return u}function _t(u,m,b,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)_t(u,m[H],b,T,U);else T=y(T)?!!T.capture:!!T,b=et(b),u&&u[de]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],b=ge(m,b,T,U),b>-1&&(ee(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=xe(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ge(m,b,T,U)),(b=u>-1?m[u]:null)&&pe(b))}function pe(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])le(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(he(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=xe(m))?(le(b,u),b.h==0&&(b.src=null,m[be]=null)):ee(u)}}}function he(u){return u in ye?ye[u]:ye[u]="on"+u}function Ee(u,m){if(u.da)u=!0;else{m=new gt(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&pe(u),u=b.call(T,m)}return u}function xe(u){return u=u[be],u instanceof W?u:null}var Pe="__closure_events_fn_"+(Math.random()*1e9>>>0);function et(u){return typeof u=="function"?u:(u[Pe]||(u[Pe]=function(m){return u.handleEvent(m)}),u[Pe])}function Ae(){V.call(this),this.i=new W(this),this.M=this,this.G=null}S(Ae,V),Ae.prototype[de]=!0,Ae.prototype.removeEventListener=function(u,m,b,T){_t(this,u,m,b,T)};function Ie(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),J(m,U)}U=!0;let H,re;if(b)for(re=b.length-1;re>=0;re--)H=m.g=b[re],U=Kt(H,T,!0,m)&&U;if(H=m.g=u,U=Kt(H,T,!0,m)&&U,U=Kt(H,T,!1,m)&&U,b)for(re=0;re<b.length;re++)H=m.g=b[re],U=Kt(H,T,!1,m)&&U}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)ee(b[T]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},Ae.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function Kt(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const re=m[H];if(re&&!re.da&&re.capture==b){const ke=re.listener,Dt=re.ha||re.src;re.fa&&le(u.i,re),U=ke.call(Dt,T)!==!1&&U}}return U&&!T.defaultPrevented}function zn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Be(u){u.g=zn(()=>{u.g=null,u.i&&(u.i=!1,Be(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qe extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Be(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tt(u){V.call(this),this.h=u,this.g={}}S(Tt,V);var kt=[];function El(u){ce(u.g,function(m,b){this.g.hasOwnProperty(b)&&pe(m)},u),u.g={}}Tt.prototype.N=function(){Tt.Z.N.call(this),El(this)},Tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=d.JSON.stringify,zh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){O.call(this,"d")}S(tn,O);function qn(){O.call(this,"c")}S(qn,O);var It={},su=null;function ua(){return su=su||new Ae}It.Ia="serverreachability";function ru(u){O.call(this,It.Ia,u)}S(ru,O);function _i(u){const m=ua();Ie(m,new ru(m))}It.STAT_EVENT="statevent";function br(u,m){O.call(this,It.STAT_EVENT,u),this.stat=m}S(br,O);function jt(u){const m=ua();Ie(m,new br(m,u))}It.Ja="timingevent";function vi(u,m){O.call(this,It.Ja,u),this.size=m}S(vi,O);function bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function qh(u,m,b,T,U,H){u.info(function(){if(u.g)if(H){var re="",ke=H.split("&");for(let it=0;it<ke.length;it++){var Dt=ke[it].split("=");if(Dt.length>1){const xt=Dt[0];Dt=Dt[1];const Gn=xt.split("_");re=Gn.length>=2&&Gn[1]=="type"?re+(xt+"="+Dt+"&"):re+(xt+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+b+`
`+re})}function au(u,m,b,T,U,H,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+b+`
`+H+" "+re})}function Ei(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,b)+(T?" "+T:"")})}function Er(u,m){u.info(function(){return"TIMEOUT: "+m})}ii.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var b=H[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<T.length;re++)T[re]=""}}}}return Ts(H)}catch{return m}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function xr(){}S(xr,nu),xr.prototype.g=function(){return new XMLHttpRequest},xl=new xr;function Ki(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function si(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new Tt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var Lt={},$t={};function Ti(u,m,b){u.M=1,u.A=Sr(Pt(m)),u.u=b,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),xi(u),u.B=Pt(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ma(b.i,"t",T),u.C=0,b=u.j.L,u.h=new ri,u.g=Tu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new qe(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(kt[0]=U.toString()),U=kt);for(let H=0;H<U.length;H++){const re=ue(b,U[H],T||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),_i(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}si.prototype.ba=function(u){u=u.target;const m=this.O;m&&oi(u)==3?m.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{const ke=oi(this.g),Dt=this.g.ya(),it=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||ke!=4||Dt==7||(Dt==8||it<=0?_i(3):_i(2)),Si(this);var m=this.g.ca();this.X=m;var b=Hh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,ke,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,jt(12),In(this),Bn(this);break e}}if(this.R){u=!0;let xt;for(;!this.K&&this.C<b.length;)if(xt=uu(this,b),xt==$t){ke==4&&(this.m=4,jt(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Lt){this.m=4,jt(15),Ei(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,xt,null),Ai(this,xt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||b.length!=0||this.h.h||(this.m=1,jt(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Bn(this);else if(b.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ul(re),re.P=!0,jt(11))}}else Ei(this.i,this.l,b,null),Ai(this,b);ke==4&&In(this),this.o&&!this.K&&(ke==4?_u(this.j,this):(this.o=!1,xi(this)))}else Xi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),In(this),Bn(this)}}}catch{}finally{}};function Hh(u){if(!ou(u))return u.g.la();const m=nn(u.g);if(m==="")return"";let b="";const T=m.length,U=oi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,b+=u.h.i.decode(m[H],{stream:!(U&&H==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?$t:(b=Number(m.substring(b,T)),isNaN(b)?Lt:(T+=1,T+b>m.length?$t:(m=m.slice(T,T+b),u.C=T+b,m)))}si.prototype.cancel=function(){this.K=!0,In(this)};function xi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bi(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}si.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(_i(),jt(17)),In(this),this.m=2,Bn(this)):ha(this,this.T-u)};function Bn(u){u.j.I==0||u.K||_u(u.j,u)}function In(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,El(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ri(b.h,u))){if(!u.L&&Ri(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)va(b),Is(b);else break e;Dr(b),jt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=bi(_(b.Va,b),6e3));wi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Mi(b,11)}else if((u.L||b.g==u)&&va(b),!R(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let it=U[m];const xt=it[0];if(!(xt<=b.K))if(b.K=xt,it=it[1],b.I==2)if(it[0]=="c"){b.M=it[1],b.ba=it[2];const Gn=it[3];Gn!=null&&(b.ka=Gn,b.j.info("VER="+b.ka));const Vi=it[4];Vi!=null&&(b.za=Vi,b.j.info("SVER="+b.za));const ui=it[5];ui!=null&&typeof ui=="number"&&ui>0&&(T=1.5*ui,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const ci=u.g;if(ci){const Or=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var H=T.h;H.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(wl(H,H.h),H.h=null))}if(T.G){const ba=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,lt(T.J,T.G,ba))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var re=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),re.L){Rl(T.h,re);var ke=re,Dt=T.O;Dt&&(ke.H=Dt),ke.D&&(Si(ke),xi(ke)),T.g=re}else gu(T);b.i.length>0&&Oi(b)}else it[0]!="stop"&&it[0]!="close"||Mi(b,7);else b.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Mi(b,7):jl(b):it[0]!="noop"&&b.l&&b.l.qa(it),b.A=0)}}_i(4)}catch{}}var Ut=class{constructor(u,m){this.g=u,this.map=m}};function Sl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wl(u,m){u.g?u.g.add(m):u.h=m}function Rl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Sl.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return Q(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,H=null;T>=0?(U=u[b].substring(0,T),H=u[b].substring(T+1)):U=u[b],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,xs(this,u.u),this.h=u.h,Cl(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Zt(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),xs(this,m[4]),this.h=Ni(m[5]||"",!0),Cl(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ar(m,da,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ar(m,da,!0),"@"),u.push(Ki(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ar(b,b.charAt(0)=="/"?Il:hu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ar(b,fu)),u.join("")},Dn.prototype.resolve=function(u){const m=Pt(this);let b=!!u.j;b?Zt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)xs(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let re=0;re<U.length;){const ke=U[re++];ke=="."?T&&re==U.length&&H.push(""):ke==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&re==U.length&&H.push("")):(H.push(ke),T=!0)}T=H.join("/")}else T=U}return b?m.h=T:b=u.i.toString()!=="",b?Cl(m,mu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Pt(u){return new Dn(u)}function Zt(u,m,b){u.j=b?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Cl(u,m,b){m instanceof As?(u.i=m,pa(u.i,u.l)):(b||(m=Ar(m,Ss)),u.i=new As(m,u.l))}function lt(u,m,b){u.i.set(m,b)}function Sr(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,hu=/[#\?:]/g,Il=/[#\?]/g,Ss=/[#\?@]/g,fu=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=As.prototype,s.add=function(u,m){bn(this),this.i=null,u=ws(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function du(u,m){bn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dl(u,m){return bn(u),m=ws(u,m),u.g.has(m)}s.forEach=function(u,m){bn(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Ol(u,m){bn(u);let b=[];if(typeof m=="string")Dl(u,m)&&(b=b.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return bn(this),this.i=null,u=ws(this,u),Dl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ol(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,b){du(u,m),b.length>0&&(u.i=null,u.g.set(ws(u,m),Q(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const U=Ki(b);b=Ol(this,b);for(let H=0;H<b.length;H++){let re=U;b[H]!==""&&(re+="="+Ki(b[H])),u.push(re)}}return this.i=u.join("&")};function mu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(du(this,T),ma(this,U,b))},u)),u.j=m}function ai(u,m){const b=new ii;if(d.Image){const T=new Image;T.onload=x(Hn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=x(Hn,b,"TestLoadImage: error",!1,m,T),T.onabort=x(Hn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=x(Hn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ml(u,m){const b=new ii,T=new AbortController,U=setTimeout(()=>{T.abort(),Hn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Hn(b,"TestPingServer: ok",!0,m):Hn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Hn(b,"TestPingServer: error",!1,m)})}function Hn(u,m,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Rs(){this.g=new tu}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,nu),Ci.prototype.g=function(){return new wr(this.i,this.h)};function wr(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(wr,Ae),s=wr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,li(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ns(this):li(this),this.readyState==3&&ga(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ns(this))},s.Na=function(u){this.g&&(this.response=u,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return ce(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Rr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Fn(b),typeof u=="string"?b!=null&&Ki(b):lt(u,m,b))}function ct(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ct,Ae);var Ii=/^https?$/i,Vl=["POST","PUT"];s=ct.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Nr(this,H);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())b.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vl,m,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of b)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Nr(this,H)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,kl(u),Yi(u)}function kl(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof c<"u"){if(u.v&&oi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),oi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=H===0){let re=String(u.D).match(cu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),T=!Ii.test(re?re.toLowerCase():"")}b=T}if(b)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var U=oi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",kl(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Ie(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zh(m)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&oi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var b=lu(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=m[U]||[];m[U]=H,H.push(b)}ie(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){jt(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Oi(this)};function jl(u){if(ya(u),u.I==3){var m=u.V++,b=Pt(u.J);if(lt(b,"SID",u.M),lt(b,"RID",m),lt(b,"TYPE","terminate"),Ir(u,b),m=new si(u,u.j,m),m.M=2,m.A=Sr(Pt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xi(m)}bu(u)}function Is(u){u.g&&(Ul(u),u.g.cancel(),u.g=null)}function ya(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Al(u.h)&&!u.m){u.m=!0;var m=u.Ea;mt||A(),$e||(mt(),$e=!0),I.add(m,u),u.D=0}}function _a(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bi(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new si(this,this.j,u);let H=this.o;if(this.U&&(H?(H=N(H),J(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=pu(this,U,m),b=Pt(this.J),lt(b,"RID",u),lt(b,"CVER",22),this.G&&lt(b,"X-HTTP-Session-Id",this.G),Ir(this,b),H&&(this.R?m="headers="+Ki(Fn(H))+"&"+m:this.u&&Rr(b,this.u,H)),wl(this.h,U),this.Ra&&lt(b,"TYPE","init"),this.S?(lt(b,"$req",m),lt(b,"SID","null"),U.U=!0,Ti(U,b,null)):Ti(U,b,m),this.I=2}}else this.I==3&&(u?Ll(this,u):this.i.length==0||Al(this.h)||Ll(this))};function Ll(u,m){var b;m?b=m.l:b=u.V++;const T=Pt(u.J);lt(T,"SID",u.M),lt(T,"RID",b),lt(T,"AID",u.K),Ir(u,T),u.u&&u.o&&Rr(T,u.u,u.o),b=new si(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wl(u.h,b),Ti(b,T,m)}function Ir(u,m){u.H&&ce(u.H,function(b,T){lt(m,T,b)}),u.l&&ce({},function(b,T){lt(m,T,b)})}function pu(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let ke=-1;for(;;){const Dt=["count="+b];ke==-1?b>0?(ke=U[0].g,Dt.push("ofs="+ke)):ke=0:Dt.push("ofs="+ke);let it=!0;for(let xt=0;xt<b;xt++){var H=U[xt].g;const Gn=U[xt].map;if(H-=ke,H<0)ke=Math.max(0,U[xt].g-100),it=!1;else try{H="req"+H+"_"||"";try{var re=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Vi,ui]of re){let ci=ui;y(ui)&&(ci=Ts(ui)),Dt.push(H+Vi+"="+encodeURIComponent(ci))}}catch(Vi){throw Dt.push(H+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Gn)}}if(it){re=Dt.join("&");break e}}re=void 0}return u=u.i.splice(0,b),m.G=u,re}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;mt||A(),$e||(mt(),$e=!0),I.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bi(_(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),Is(this),yu(this))};function Ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new si(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pt(u.na);lt(m,"RID","rpc"),lt(m,"SID",u.M),lt(m,"AID",u.K),lt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(m,"TO",u.ia),lt(m,"TYPE","xmlhttp"),Ir(u,m),u.u&&u.o&&Rr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Sr(Pt(m)),b.u=null,b.R=!0,ca(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Dr(this),jt(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var b=null;if(u.g==m){va(u),Ul(u),u.g=null;var T=2}else if(Ri(u.h,m))b=m.G,Rl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ua(),Ie(T,new vi(T,b)),Oi(u)}else gu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&_a(u,m)||T==2&&Dr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function vu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new Dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zt(T,"https"),Sr(T),U?ai(T.toString(),b):Ml(T.toString(),b)}else jt(2);u.I=0,u.l&&u.l.pa(m),bu(u),ya(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,b){var T=b instanceof Dn?Pt(b):new Dn(b);if(T.g!="")m&&(T.g=m+"."+T.g),xs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new Dn(null);T&&Zt(H,T),m&&(H.g=m),U&&xs(H,U),b&&(H.h=b),T=H}return b=u.G,m=u.wa,b&&m&&lt(T,b,m),lt(T,"VER",u.ka),Ir(u,T),T}function Tu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ct(new Ci({ab:b})):new ct(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new yn(u,m)};function yn(u,m){Ae.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}S(yn,Ae),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){jl(this.g)},yn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Ts(u),u=b);m.i.push(new Ut(m.Ya++,u)),m.I==3&&Oi(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,yn.Z.N.call(this)};function Su(u){tn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,tn);function Au(){qn.call(this),this.status=1}S(Au,qn);function $i(u){this.g=u}S($i,xu),$i.prototype.ra=function(){Ie(this.g,"a")},$i.prototype.qa=function(u){Ie(this.g,new Su(u))},$i.prototype.pa=function(u){Ie(this.g,new Au)},$i.prototype.oa=function(){Ie(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Ab=function(){return new Ds},Sb=function(){return ua()},xb=It,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Pc=Tr,Tl.COMPLETE="complete",Tb=Tl,iu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,So=iu,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,Eb=ct}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",j_="4.9.2";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let pl="12.3.0";const sa=new Lm("@firebase/firestore");function Za(){return sa.logLevel}function oe(s,...e){if(sa.logLevel<=Ke.DEBUG){const i=e.map(zm);sa.debug(`Firestore (${pl}): ${s}`,...i)}}function ys(s,...e){if(sa.logLevel<=Ke.ERROR){const i=e.map(zm);sa.error(`Firestore (${pl}): ${s}`,...i)}}function al(s,...e){if(sa.logLevel<=Ke.WARN){const i=e.map(zm);sa.warn(`Firestore (${pl}): ${s}`,...i)}}function zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ne(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,wb(s,r,i)}function wb(s,e,i){let r=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ys(r),new Error(r)}function at(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||wb(e,o,r)}function Ve(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ps{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Rb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class b2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class E2{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let c=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ps,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ps)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new Rb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class T2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new T2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new L_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function A2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=A2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Ye(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Wd(o)===Wd(c)?Ye(o,c):Wd(o)?1:-1}return Ye(s.length,e.length)}const w2=55296,R2=57343;function Wd(s){const e=s.charCodeAt(0);return e>=w2&&e<=R2}function ll(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const U_="__name__";class Pi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ne(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ne(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=Pi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ye(e.length,i.length)}static compareSegments(e,i){const r=Pi.isNumericId(e),o=Pi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class yt extends Pi{construct(e,i,r){return new yt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new yt(i)}static emptyPath(){return new yt([])}}const N2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Pi{construct(e,i,r){return new cn(e,i,r)}static isValidIdentifier(e){return N2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new cn([U_])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(c(),o++)}if(c(),d)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(i)}static emptyPath(){return new cn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(yt.fromString(e))}static fromName(e){return new ve(yt.fromString(e).popFirst(5))}static empty(){return new ve(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return yt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new yt(e.slice()))}}function Nb(s,e,i){if(!i)throw new ae(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function C2(s,e,i,r){if(e===!0&&r===!0)throw new ae(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function P_(s){if(!ve.isDocumentKey(s))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function z_(s){if(ve.isDocumentKey(s))throw new ae(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Cb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function gh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ne(12329,{type:typeof s})}function Cn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gh(s);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Qt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Go(s,e){if(!Cb(s))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ae(Y.INVALID_ARGUMENT,i);return!0}const q_=-62135596800,B_=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*B_);return new Et(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<q_)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B_}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Go(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Qt("string",Et._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Et(0,0))}static max(){return new De(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function I2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new Et(i+1,0):new Et(i,r));return new hr(o,ve.empty(),e)}function D2(s){return new hr(s.readTime,s.key,ko)}class hr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new hr(De.min(),ve.empty(),ko)}static max(){return new hr(De.max(),ve.empty(),ko)}}function O2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(s.documentKey,e.documentKey),i!==0?i:Ye(s.largestBatchId,e.largestBatchId))}const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==M2)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(v=>r(v)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const c=e.length,d=new Array(c);let y=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((x=>{d[_]=x,++y,y===c&&r(d)}),(x=>o(x)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function k2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yl(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Bm=-1;function _h(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function j2(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Ib="";function L2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=H_(e)),e=U2(s.get(i),e);return H_(e)}function U2(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Ib:i+="";break;default:i+=c}}return i}function H_(s){return s+Ib+""}function F_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function yr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Db(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new on(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Xt(this.comparator);return i.data=e,i}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Xt(cn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Ob extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ob("Invalid base64 string: "+c):c}})(e);return new hn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new hn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(at(!!s,39018),typeof s=="string"){let e=0;const i=P2.exec(s);if(at(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(s.seconds),nanos:Vt(s.nanos)}}function Vt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?hn.fromBase64String(s):hn.fromUint8Array(s)}const Mb="server_timestamp",Vb="__type__",kb="__previous_value__",jb="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[Vb]?.stringValue===Mb}function vh(s){const e=s.mapValue.fields[kb];return Hm(e)?vh(e):e}function jo(s){const e=fr(s.mapValue.fields[jb].timestampValue);return new Et(e.seconds,e.nanos)}class z2{constructor(e,i,r,o,c,d,y,v,_,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=x}}const Jc="(default)";class Lo{constructor(e,i){this.projectId=e,this.database=i||Jc}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const Lb="__type__",q2="__max__",Mc={mapValue:{}},Ub="__vector__",Wc="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:H2(s)?9007199254740991:B2(s)?10:11:Ne(28295,{value:s})}function Gi(s,e){if(s===e)return!0;const i=mr(s);if(i!==mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jo(s).isEqual(jo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=fr(o.timestampValue),y=fr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return dr(o.bytesValue).isEqual(dr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Vt(o.geoPointValue.latitude)===Vt(c.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Vt(o.integerValue)===Vt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Vt(o.doubleValue),y=Vt(c.doubleValue);return d===y?Zc(d)===Zc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return ll(s.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(F_(d)!==F_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Gi(d[v],y[v])))return!1;return!0})(s,e);default:return Ne(52216,{left:s})}}function Uo(s,e){return(s.values||[]).find((i=>Gi(i,e)))!==void 0}function ol(s,e){if(s===e)return 0;const i=mr(s),r=mr(e);if(i!==r)return Ye(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ye(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Vt(c.integerValue||c.doubleValue),v=Vt(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return Q_(s.timestampValue,e.timestampValue);case 4:return Q_(jo(s),jo(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=dr(c),v=dr(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const x=Ye(y[_],v[_]);if(x!==0)return x}return Ye(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ye(Vt(c.latitude),Vt(d.latitude));return y!==0?y:Ye(Vt(c.longitude),Vt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return K_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},v=d.fields||{},_=y[Wc]?.arrayValue,x=v[Wc]?.arrayValue,S=Ye(_?.values?.length||0,x?.values?.length||0);return S!==0?S:K_(_,x)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),_=d.fields||{},x=Object.keys(_);v.sort(),x.sort();for(let S=0;S<v.length&&S<x.length;++S){const M=gm(v[S],x[S]);if(M!==0)return M;const Q=ol(y[v[S]],_[x[S]]);if(Q!==0)return Q}return Ye(v.length,x.length)})(s.mapValue,e.mapValue);default:throw Ne(23264,{he:i})}}function Q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ye(s,e);const i=fr(s),r=fr(e),o=Ye(i.seconds,r.seconds);return o!==0?o:Ye(i.nanos,r.nanos)}function K_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=ol(i[o],r[o]);if(c)return c}return Ye(i.length,r.length)}function ul(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=fr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ve.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=ym(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${ym(i.fields[d])}`;return o+"}"})(s.mapValue):Ne(61005,{value:s})}function zc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+zc(e):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return yr(r.fields,((c,d)=>{o+=c.length+zc(d)})),o})(s.mapValue);default:throw Ne(13486,{value:s})}}function Y_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function X_(s){return!!s&&"nullValue"in s}function $_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function B2(s){return(s?.mapValue?.fields||{})[Lb]?.stringValue===Ub}function Co(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return yr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Co(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Co(s.arrayValue.values[i]);return e}return{...s}}function H2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===q2}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(i)}setAll(e){let i=cn.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Co(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){yr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Nn(Co(this.value))}}function Pb(s){const e=[];return yr(s.fields,((i,r)=>{const o=new cn([i]);if(qc(r)){const c=Pb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Pn(e)}class pn{constructor(e,i,r,o,c,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new pn(e,0,De.min(),De.min(),De.min(),Nn.empty(),0)}static newFoundDocument(e,i,r,o){return new pn(e,1,i,De.min(),r,o,0)}static newNoDocument(e,i){return new pn(e,2,i,De.min(),De.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,De.min(),De.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(e,i){this.position=e,this.inclusive=i}}function Z_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=ve.comparator(ve.fromName(d.referenceValue),i.key):r=ol(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Gi(s.position[i],e.position[i]))return!1;return!0}class Po{constructor(e,i="asc"){this.field=e,this.dir=i}}function F2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class zb{}class Gt extends zb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Q2(e,i,r):i==="array-contains"?new X2(e,r):i==="in"?new $2(e,r):i==="not-in"?new Z2(e,r):i==="array-contains-any"?new J2(e,r):new Gt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new K2(e,r):new Y2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ol(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(ol(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends zb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new yi(e,i)}matches(e){return qb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qb(s){return s.op==="and"}function Bb(s){return G2(s)&&qb(s)}function G2(s){for(const e of s.filters)if(e instanceof yi)return!1;return!0}function vm(s){if(s instanceof Gt)return s.field.canonicalString()+s.op.toString()+ul(s.value);if(Bb(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function Hb(s,e){return s instanceof Gt?(function(r,o){return o instanceof Gt&&r.op===o.op&&r.field.isEqual(o.field)&&Gi(r.value,o.value)})(s,e):s instanceof yi?(function(r,o){return o instanceof yi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,y)=>c&&Hb(d,o.filters[y])),!0):!1})(s,e):void Ne(19439)}function Fb(s){return s instanceof Gt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ul(i.value)}`})(s):s instanceof yi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Fb).join(" ,")+"}"})(s):"Filter"}class Q2 extends Gt{constructor(e,i,r){super(e,i,r),this.key=ve.fromName(r.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class K2 extends Gt{constructor(e,i){super(e,"in",i),this.keys=Gb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Y2 extends Gt{constructor(e,i){super(e,"not-in",i),this.keys=Gb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Gb(s,e){return(e.arrayValue?.values||[]).map((i=>ve.fromName(i.referenceValue)))}class X2 extends Gt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Uo(i.arrayValue,this.value)}}class $2 extends Gt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Uo(this.value.arrayValue,i)}}class Z2 extends Gt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Uo(this.value.arrayValue,i)}}class J2 extends Gt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Uo(this.value.arrayValue,r)))}}class W2{constructor(e,i=null,r=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function W_(s,e=null,i=[],r=[],o=null,c=null,d=null){return new W2(s,e,i,r,o,c,d)}function Gm(s){const e=Ve(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>vm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>ul(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>ul(r))).join(",")),e.Te=i}return e.Te}function Qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!F2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Hb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!J_(s.startAt,e.startAt)&&J_(s.endAt,e.endAt)}function bm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _l{constructor(e,i=null,r=[],o=[],c=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ew(s,e,i,r,o,c,d,y){return new _l(s,e,i,r,o,c,d,y)}function bh(s){return new _l(s)}function ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Qb(s){return s.collectionGroup!==null}function Io(s){const e=Ve(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Xt(cn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Po(c,r))})),i.has(cn.keyField().canonicalString())||e.Ie.push(new Po(cn.keyField(),r))}return e.Ie}function zi(s){const e=Ve(s);return e.Ee||(e.Ee=tw(e,Io(s))),e.Ee}function tw(s,e){if(s.limitType==="F")return W_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Po(o.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return W_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Em(s,e){const i=s.filters.concat([e]);return new _l(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Tm(s,e,i){return new _l(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Eh(s,e){return Qm(zi(s),zi(e))&&s.limitType===e.limitType}function Kb(s){return`${Gm(zi(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Fb(o))).join(", ")}]`),_h(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>ul(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>ul(o))).join(",")),`Target(${r})`})(zi(s))}; limitType=${s.limitType})`}function Th(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ve.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of Io(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=Z_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Io(r),o)||r.endAt&&!(function(d,y,v){const _=Z_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Io(r),o))})(s,e)}function nw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Yb(s){return(e,i)=>{let r=!1;for(const o of Io(s)){const c=iw(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function iw(s,e,i){const r=s.field.isKeyField()?ve.comparator(e.key,i.key):(function(c,d,y){const v=d.data.field(c),_=y.data.field(c);return v!==null&&_!==null?ol(v,_):Ne(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:s.dir})}}class la{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Db(this.inner)}size(){return this.innerSize}}const sw=new wt(ve.comparator);function _s(){return sw}const Xb=new wt(ve.comparator);function Ao(...s){let e=Xb;for(const i of s)e=e.insert(i.key,i);return e}function $b(s){let e=Xb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Zr(){return Do()}function Zb(){return Do()}function Do(){return new la((s=>s.toString()),((s,e)=>s.isEqual(e)))}const rw=new wt(ve.comparator),aw=new Xt(ve.comparator);function Xe(...s){let e=aw;for(const i of s)e=e.add(i);return e}const lw=new Xt(Ye);function ow(){return lw}function Km(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function Jb(s){return{integerValue:""+s}}function uw(s,e){return j2(e)?Jb(e):Km(s,e)}class xh{constructor(){this._=void 0}}function cw(s,e,i){return s instanceof th?(function(o,c){const d={fields:{[Vb]:{stringValue:Mb},[jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hm(c)&&(c=vh(c)),c&&(d.fields[kb]=c),{mapValue:d}})(i,e):s instanceof zo?e1(s,e):s instanceof qo?t1(s,e):(function(o,c){const d=Wb(o,c),y=tv(d)+tv(o.Ae);return _m(d)&&_m(o.Ae)?Jb(y):Km(o.serializer,y)})(s,e)}function hw(s,e,i){return s instanceof zo?e1(s,e):s instanceof qo?t1(s,e):i}function Wb(s,e){return s instanceof nh?(function(r){return _m(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class th extends xh{}class zo extends xh{constructor(e){super(),this.elements=e}}function e1(s,e){const i=n1(e);for(const r of s.elements)i.some((o=>Gi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class qo extends xh{constructor(e){super(),this.elements=e}}function t1(s,e){let i=n1(e);for(const r of s.elements)i=i.filter((o=>!Gi(o,r)));return{arrayValue:{values:i}}}class nh extends xh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function tv(s){return Vt(s.integerValue||s.doubleValue)}function n1(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function fw(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof zo&&o instanceof zo||r instanceof qo&&o instanceof qo?ll(r.elements,o.elements,Gi):r instanceof nh&&o instanceof nh?Gi(r.Ae,o.Ae):r instanceof th&&o instanceof th})(s.transform,e.transform)}class dw{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Sh{}function i1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,ti.none()):new Qo(s.key,s.data,ti.none());{const i=s.data,r=Nn.empty();let o=new Xt(cn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new _r(s.key,r,new Pn(o.toArray()),ti.none())}}function mw(s,e,i){s instanceof Qo?(function(o,c,d){const y=o.value.clone(),v=iv(o.fieldTransforms,c,d.transformResults);y.setAll(v),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof _r?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=iv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(s1(o)),v.setAll(y),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Oo(s,e,i,r){return s instanceof Qo?(function(c,d,y,v){if(!Bc(c.precondition,d))return y;const _=c.value.clone(),x=sv(c.fieldTransforms,v,d);return _.setAll(x),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof _r?(function(c,d,y,v){if(!Bc(c.precondition,d))return y;const _=sv(c.fieldTransforms,v,d),x=d.data;return x.setAll(s1(c)),x.setAll(_),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,y){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function pw(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=Wb(r.transform,o||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(r.field,c))}return i||null}function nv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ll(r,o,((c,d)=>fw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Qo extends Sh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _r extends Sh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function s1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function iv(s,e,i){const r=new Map;at(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,y=e.data.field(c.field);r.set(c.field,hw(d,y,i[o]))}return r}function sv(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,cw(c,d,e))}return r}class Ym extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gw extends Sh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yw{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&mw(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Oo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Oo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Zb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const v=i1(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((i,r)=>nv(i,r)))&&ll(this.baseMutations,e.baseMutations,((i,r)=>nv(i,r)))}}class Xm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return rw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Xm(e,i,r,o)}}class _w{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ft,We;function bw(s){switch(s){case Y.OK:return Ne(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ne(15467,{code:s})}}function r1(s){if(s===void 0)return ys("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ft.OK:return Y.OK;case Ft.CANCELLED:return Y.CANCELLED;case Ft.UNKNOWN:return Y.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return Y.INTERNAL;case Ft.UNAVAILABLE:return Y.UNAVAILABLE;case Ft.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ft.NOT_FOUND:return Y.NOT_FOUND;case Ft.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ft.ABORTED:return Y.ABORTED;case Ft.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ft.DATA_LOSS:return Y.DATA_LOSS;default:return Ne(39323,{code:s})}}(We=Ft||(Ft={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function Ew(){return new TextEncoder}const Tw=new ur([4294967295,4294967295],0);function rv(s){const e=Ew().encode(s),i=new bb;return i.update(e),new Uint8Array(i.digest())}function av(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ur([i,r],0),new ur([o,c],0)]}class $m{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new wo(`Invalid padding: ${i}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new wo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ur.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(ur.fromNumber(r)));return o.compare(Tw)===1&&(o=new ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=rv(e),[r,o]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=rv(e),[r,o]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ah(De.min(),o,new wt(Ye),_s(),Xe())}}class Ko{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Ko(r,i,Xe(),Xe(),Xe())}}class Hc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class a1{constructor(e,i){this.targetId=e,this.Ce=i}}class l1{constructor(e,i,r=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class lv{constructor(){this.ve=0,this.Fe=ov(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),i=Xe(),r=Xe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:Ne(38017,{changeType:c})}})),new Ko(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=ov()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xw{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.Je=Vc(),this.He=Vc(),this.Ye=new wt(Ye)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(bm(c))if(r===0){const d=new ve(c.path);this.et(i,d,pn.newNoDocument(d,De.min()))}else at(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=dr(r).toUint8Array()}catch(v){if(v instanceof Ob)return al("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new $m(d,o,c)}catch(v){return al(v instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&bm(y.target)){const v=new ve(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,pn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Xe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ah(e,i,this.Ye,this.je,r);return this.je=_s(),this.Je=Vc(),this.He=Vc(),this.Ye=new wt(Ye),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new lv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Xt(Ye),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Xt(Ye),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new wt(ve.comparator)}function ov(){return new wt(ve.comparator)}const Sw={asc:"ASCENDING",desc:"DESCENDING"},Aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ww={and:"AND",or:"OR"};class Rw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function xm(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function ih(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Nw(s,e){return ih(s,e.toTimestamp())}function qi(s){return at(!!s,49232),De.fromTimestamp((function(i){const r=fr(i);return new Et(r.seconds,r.nanos)})(s))}function Zm(s,e){return Sm(s,e).canonicalString()}function Sm(s,e){const i=(function(o){return new yt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function u1(s){const e=yt.fromString(s);return at(m1(e),10190,{key:e.toString()}),e}function Am(s,e){return Zm(s.databaseId,e.path)}function em(s,e){const i=u1(e);if(i.get(1)!==s.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ve(h1(i))}function c1(s,e){return Zm(s.databaseId,e)}function Cw(s){const e=u1(s);return e.length===4?yt.emptyPath():h1(e)}function wm(s){return new yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function h1(s){return at(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function uv(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function Iw(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ne(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(at(x===void 0||typeof x=="string",58123),hn.fromBase64String(x||"")):(at(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),hn.fromUint8Array(x||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const x=_.code===void 0?Y.UNKNOWN:r1(_.code);return new ae(x,_.message||"")})(d);i=new l1(r,o,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=em(s,r.document.name),c=qi(r.document.updateTime),d=r.document.createTime?qi(r.document.createTime):De.min(),y=new Nn({mapValue:{fields:r.document.fields}}),v=pn.newFoundDocument(o,c,d,y),_=r.targetIds||[],x=r.removedTargetIds||[];i=new Hc(_,x,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=em(s,r.document),c=r.readTime?qi(r.readTime):De.min(),d=pn.newNoDocument(o,c),y=r.removedTargetIds||[];i=new Hc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=em(s,r.document),c=r.removedTargetIds||[];i=new Hc([],c,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new vw(o,c),y=r.targetId;i=new a1(y,d)}}return i}function Dw(s,e){let i;if(e instanceof Qo)i={update:uv(s,e.key,e.value)};else if(e instanceof Ym)i={delete:Am(s,e.key)};else if(e instanceof _r)i={update:uv(s,e.key,e.data),updateMask:zw(e.fieldMask)};else{if(!(e instanceof gw))return Ne(16599,{Vt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const y=d.transform;if(y instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof qo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof nh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Ne(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Nw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne(27497)})(s,e.precondition)),i}function Ow(s,e){return s&&s.length>0?(at(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?qi(o.updateTime):qi(c);return d.isEqual(De.min())&&(d=qi(c)),new dw(d,o.transformResults||[])})(i,e)))):[]}function Mw(s,e){return{documents:[c1(s,e.path)]}}function Vw(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=c1(s,o);const c=(function(_){if(_.length!==0)return d1(yi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((x=>(function(M){return{field:Wa(M.field),direction:Lw(M.dir)}})(x)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=xm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function kw(s){let e=Cw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){at(r===1,65062);const x=i.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];i.where&&(c=(function(S){const M=f1(S);return M instanceof yi&&Bb(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(te){return new Po(el(te.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,_h(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(S){const M=!!S.before,Q=S.values||[];return new eh(Q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,Q=S.values||[];return new eh(Q,M)})(i.endAt)),ew(e,o,d,c,y,"F",v,_)}function jw(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function f1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=el(i.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=el(i.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=el(i.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=el(i.unaryFilter.field);return Gt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Gt.create(el(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return yi.create(i.compositeFilter.filters.map((r=>f1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(i.compositeFilter.op))})(s):Ne(30097,{filter:s})}function Lw(s){return Sw[s]}function Uw(s){return Aw[s]}function Pw(s){return ww[s]}function Wa(s){return{fieldPath:s.canonicalString()}}function el(s){return cn.fromServerFormat(s.fieldPath)}function d1(s){return s instanceof Gt?(function(i){if(i.op==="=="){if($_(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NAN"}};if(X_(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($_(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NAN"}};if(X_(i.value))return{unaryFilter:{field:Wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(i.field),op:Uw(i.op),value:i.value}}})(s):s instanceof yi?(function(i){const r=i.getFilters().map((o=>d1(o)));return r.length===1?r[0]:{compositeFilter:{op:Pw(i.op),filters:r}}})(s):Ne(54877,{filter:s})}function zw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function m1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class rr{constructor(e,i,r,o,c=De.min(),d=De.min(),y=hn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qw{constructor(e){this.yt=e}}function Bw(s){const e=kw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Tm(e,e.limit,"L"):e}class Hw{constructor(){this.Cn=new Fw}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(hr.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Fw{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Xt(yt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Xt(yt.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p1=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(p1,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cl(0)}static cr(){return new cl(-1)}}const hv="LruGarbageCollector",Gw=1048576;function fv([s,e],[i,r]){const o=Ye(s,i);return o===0?Ye(e,r):o}class Qw{constructor(e){this.Ir=e,this.buffer=new Xt(fv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();fv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Kw{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(hv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yl(i)?oe(hv,"Ignoring IndexedDB error during garbage collection: ",i):await gl(i)}await this.Vr(3e5)}))}}class Yw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(yh.ce);const r=new Qw(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(cv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,y,v,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,y=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),Za()<=Ke.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-x}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function Xw(s,e){return new Yw(s,e)}class $w{constructor(){this.changes=new la((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Jw{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Oo(r.mutation,o,Pn.empty(),Et.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Xe()){const o=Zr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=Ao();return c.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Zr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Xe())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let c=_s();const d=Do(),y=(function(){return Do()})();return i.forEach(((v,_)=>{const x=r.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof _r)?c=c.insert(_.key,_):x!==void 0?(d.set(_.key,x.mutation.getFieldMask()),Oo(x.mutation,_,x.mutation.getFieldMask(),Et.now())):d.set(_.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,x)=>d.set(_,x))),i.forEach(((_,x)=>y.set(_,new Zw(x,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Do();let o=new wt(((d,y)=>d-y)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let x=r.get(v)||Pn.empty();x=y.applyToLocalView(_,x),r.set(v,x);const S=(o.get(y.batchId)||Xe()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,x=v.value,S=Zb();x.forEach((M=>{if(!c.has(M)){const Q=i1(i.get(M),r.get(M));Q!==null&&S.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Qb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):Z.resolve(Zr());let y=ko,v=c;return d.next((_=>Z.forEach(_,((x,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(x)?Z.resolve():this.remoteDocumentCache.getEntry(e,x).next((M=>{v=v.insert(x,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Xe()))).next((x=>({batchId:y,changes:$b(x)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((r=>{let o=Ao();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=Ao();return this.indexManager.getCollectionParents(e,c).next((y=>Z.forEach(y,(v=>{const _=(function(S,M){return new _l(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((x=>{x.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((v,_)=>{const x=_.getKey();d.get(x)===null&&(d=d.insert(x,pn.newInvalidDocument(x)))}));let y=Ao();return d.forEach(((v,_)=>{const x=c.get(v);x!==void 0&&Oo(x.mutation,_,Pn.empty(),Et.now()),Th(i,_)&&(y=y.insert(v,_))})),y}))}}class Ww{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Bw(o.bundledQuery),readTime:qi(o.readTime)}})(i)),Z.resolve()}}class eR{constructor(){this.overlays=new wt(ve.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Zr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=Zr(),c=i.length+1,d=new ve(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new wt(((_,x)=>_-x));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let x=c.get(_.largestBatchId);x===null&&(x=Zr(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const y=Zr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,x)=>y.set(_,x))),!(y.size()>=o)););return Z.resolve(y)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new _w(i,r));let c=this.qr.get(i);c===void 0&&(c=Xe(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class tR{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Jm{constructor(){this.Qr=new Xt(Wt.$r),this.Ur=new Xt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Wt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Wt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ve(new yt([])),r=new Wt(i,e),o=new Wt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ve(new yt([])),r=new Wt(i,e),o=new Wt(i,e+1);let c=Xe();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Wt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ve.comparator(e.key,i.key)||Ye(e.Yr,i.Yr)}static Kr(e,i){return Ye(e.Yr,i.Yr)||ve.comparator(e.key,i.key)}}class nR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Wt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yw(c,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Wt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Xt(Ye);return i.forEach((o=>{const c=new Wt(o,0),d=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{r=r.add(y.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;ve.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new ve(c),0);let y=new Xt(Ye);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Wt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Wt(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iR{constructor(e){this.ri=e,this.docs=(function(){return new wt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let r=_s();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=_s();const d=i.path,y=new ve(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:x}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||O2(D2(x),r)<=0||(o.has(x.key)||Th(i,x))&&(c=c.insert(x.key,x.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,o){Ne(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new sR(this)}getSize(e){return Z.resolve(this.size)}}class sR extends $w{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class rR{constructor(e){this.persistence=e,this.si=new la((i=>Gm(i)),Qm),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=cl.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new cl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class g1{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new tR,this.referenceDelegate=e(this),this.Pi=new rR(this),this.indexManager=new Hw,this.remoteDocumentCache=(function(o){return new iR(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qw(i),this.Ii=new Ww(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new eR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new nR(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){oe("MemoryPersistence","Starting transaction:",e);const o=new aR(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class aR extends V2{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Jm,this.Vi=null}static mi(e){return new Wm(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=ve.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class sh{constructor(e,i){this.persistence=e,this.pi=new la((r=>L2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Xw(this,i)}static mi(e,i){return new sh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,c.removeEntry(d,De.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ep{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Xe(),o=Xe();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ep(e,i.fromCache,r,o)}}class lR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WS()?8:k2(gn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lR;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(Za()<=Ke.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Za()<=Ke.DEBUG&&oe("QueryEngine","Query:",Ja(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Za()<=Ke.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):Z.resolve())}ys(e,i){if(ev(i))return Z.resolve(null);let r=zi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Tm(i,null,"F"),r=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Xe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Tm(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return ev(i)||o.isEqual(De.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?Z.resolve(null):(Za()<=Ke.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(i)),this.vs(e,d,i,I2(o,ko)).next((y=>y)))}))}Ds(e,i){let r=new Xt(Yb(e));return i.forEach(((o,c)=>{Th(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return Za()<=Ke.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ps.getDocumentsMatchingQuery(e,i,hr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tp="LocalStore",uR=3e8;class cR{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new wt(Ye),this.xs=new la((c=>Gm(c)),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function hR(s,e,i,r){return new cR(s,e,i,r)}async function y1(s,e){const i=Ve(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],y=[];let v=Xe();for(const _ of o){d.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}for(const _ of c){y.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function fR(s,e){const i=Ve(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,x){const S=_.batch,M=S.keys();let Q=Z.resolve();return M.forEach((te=>{Q=Q.next((()=>x.getEntry(v,te))).next((se=>{const ne=_.docVersions.get(te);at(ne!==null,48541),se.version.compareTo(ne)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),x.addEntry(se)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Xe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function _1(s){const e=Ve(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function dR(s,e){const i=Ve(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((x,S)=>{const M=o.get(S);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,x.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,x.addedDocuments,S))));let Q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(hn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):x.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(x.resumeToken,r)),o=o.insert(S,Q),(function(se,ne,Te){return se.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=uR?!0:Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0})(M,Q,x)&&y.push(i.Pi.updateTargetData(c,Q))}));let v=_s(),_=Xe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,x))})),y.push(mR(c,d,e.documentUpdates).next((x=>{v=x.ks,_=x.qs}))),!r.isEqual(De.min())){const x=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(x)}return Z.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function mR(s,e,i){let r=Xe(),o=Xe();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=_s();return i.forEach(((y,v)=>{const _=c.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(De.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):oe(tp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function pR(s,e){const i=Ve(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function gR(s,e){const i=Ve(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new rr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Rm(s,e,i){const r=Ve(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!yl(d))throw d;oe(tp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function dv(s,e,i){const r=Ve(s);let o=De.min(),c=Xe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,x){const S=Ve(v),M=S.xs.get(x);return M!==void 0?Z.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,x)})(r,d,zi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:De.min(),i?c:Xe()))).next((y=>(yR(r,nw(e),y),{documents:y,Qs:c})))))}function yR(s,e,i){let r=s.Os.get(e)||De.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class mv{constructor(){this.activeTargetIds=ow()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _R{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vR{Oo(e){}shutdown(){}}const pv="ConnectivityMonitor";class gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(pv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function Nm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const tm="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ER{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Jc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=Nm(),y=this.zo(e,i.toUriEncodedString());oe(tm,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(y),x=dl(_);return this.Jo(e,y,v,r,x).then((S=>(oe(tm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw al(tm,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",r),S}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=bR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class TR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class xR extends ER{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=Nm();return new Promise(((y,v)=>{const _=new Eb;_.setWithCredentials(!0),_.listenOnce(Tb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const S=_.getResponseJson();oe(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Pc.TIMEOUT:oe(dn,`RPC '${e}' ${d} timed out`),v(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=_.getStatus();if(oe(dn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const te=Q?.error;if(te&&te.status&&te.message){const se=(function(Te){const Oe=Te.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Oe)>=0?Oe:Y.UNKNOWN})(te.status);v(new ae(se,te.message))}else v(new ae(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(dn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);oe(dn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",x,r,15)}))}T_(e,i,r){const o=Nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ab(),y=Sb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const x=c.join("");oe(dn,`Creating RPC '${e}' stream ${o}: ${x}`,v);const S=d.createWebChannel(x,v);this.I_(S);let M=!1,Q=!1;const te=new TR({Yo:ne=>{Q?oe(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(M||(oe(dn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),M=!0),oe(dn,`RPC '${e}' stream ${o} sending:`,ne),S.send(ne))},Zo:()=>S.close()}),se=(ne,Te,Oe)=>{ne.listen(Te,(Re=>{try{Oe(Re)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return se(S,So.EventType.OPEN,(()=>{Q||(oe(dn,`RPC '${e}' stream ${o} transport opened.`),te.o_())})),se(S,So.EventType.CLOSE,(()=>{Q||(Q=!0,oe(dn,`RPC '${e}' stream ${o} transport closed`),te.a_(),this.E_(S))})),se(S,So.EventType.ERROR,(ne=>{Q||(Q=!0,al(dn,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),te.a_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))})),se(S,So.EventType.MESSAGE,(ne=>{if(!Q){const Te=ne.data[0];at(!!Te,16349);const Oe=Te,Re=Oe?.error||Oe[0]?.error;if(Re){oe(dn,`RPC '${e}' stream ${o} received error:`,Re);const rt=Re.status;let mt=(function(A){const w=Ft[A];if(w!==void 0)return r1(w)})(rt),$e=Re.message;mt===void 0&&(mt=Y.INTERNAL,$e="Unknown error status: "+rt+" with message "+Re.message),Q=!0,te.a_(new ae(mt,$e)),S.close()}else oe(dn,`RPC '${e}' stream ${o} received:`,Te),te.u_(Te)}})),se(y,xb.STAT_EVENT,(ne=>{ne.stat===pm.PROXY?oe(dn,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===pm.NOPROXY&&oe(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function nm(){return typeof document<"u"?document:null}function wh(s){return new Rw(s,!0)}class v1{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yv="PersistentStream";class b1{constructor(e,i,r,o,c,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new ae(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(yv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SR extends b1{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Iw(this.serializer,e),r=(function(c){if(!("targetChange"in c))return De.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?De.min():d.readTime?qi(d.readTime):De.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(c,d){let y;const v=d.target;if(y=bm(v)?{documents:Mw(c,v)}:{query:Vw(c,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=o1(c,d.resumeToken);const _=xm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(De.min())>0){y.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=xm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=jw(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.q_(i)}}class AR extends b1{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Ow(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Dw(this.serializer,r)))};this.q_(i)}}class wR{}class RR extends wR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Sm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Y.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Sm(i,r),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class NR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ys(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class CR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{oa(this)&&(oe(ra,"Restarting streams for network reachability change."),await(async function(v){const _=Ve(v);_.Ea.add(4),await Yo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Ra=new NR(r,o)}}async function Rh(s){if(oa(s))for(const e of s.da)await e(!0)}async function Yo(s){for(const e of s.da)await e(!1)}function E1(s,e){const i=Ve(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rp(i)?sp(i):vl(i).O_()&&ip(i,e))}function np(s,e){const i=Ve(s),r=vl(i);i.Ia.delete(e),r.O_()&&T1(i,e),i.Ia.size===0&&(r.O_()?r.L_():oa(i)&&i.Ra.set("Unknown"))}function ip(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}vl(s).Y_(e)}function T1(s,e){s.Va.Ue(e),vl(s).Z_(e)}function sp(s){s.Va=new xw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),vl(s).start(),s.Ra.ua()}function rp(s){return oa(s)&&!vl(s).x_()&&s.Ia.size>0}function oa(s){return Ve(s).Ea.size===0}function x1(s){s.Va=void 0}async function IR(s){s.Ra.set("Online")}async function DR(s){s.Ia.forEach(((e,i)=>{ip(s,e)}))}async function OR(s,e){x1(s),rp(s)?(s.Ra.ha(e),sp(s)):s.Ra.set("Unknown")}async function MR(s,e,i){if(s.Ra.set("Online"),e instanceof l1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(s,e)}catch(r){oe(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(s,r)}else if(e instanceof Hc?s.Va.Ze(e):e instanceof a1?s.Va.st(e):s.Va.tt(e),!i.isEqual(De.min()))try{const r=await _1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const x=c.Ia.get(v);if(!x)return;c.Ia.set(v,x.withResumeToken(hn.EMPTY_BYTE_STRING,x.snapshotVersion)),T1(c,v);const S=new rr(x.target,v,_,x.sequenceNumber);ip(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){oe(ra,"Failed to raise snapshot:",r),await rh(s,r)}}async function rh(s,e,i){if(!yl(e))throw e;s.Ea.add(1),await Yo(s),s.Ra.set("Offline"),i||(i=()=>_1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ra,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function S1(s,e){return e().catch((i=>rh(s,i,e)))}async function Nh(s){const e=Ve(s),i=pr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;VR(e);)try{const o=await pR(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,kR(e,o)}catch(o){await rh(e,o)}A1(e)&&w1(e)}function VR(s){return oa(s)&&s.Ta.length<10}function kR(s,e){s.Ta.push(e);const i=pr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function A1(s){return oa(s)&&!pr(s).x_()&&s.Ta.length>0}function w1(s){pr(s).start()}async function jR(s){pr(s).ra()}async function LR(s){const e=pr(s);for(const i of s.Ta)e.ea(i.mutations)}async function UR(s,e,i){const r=s.Ta.shift(),o=Xm.from(r,e,i);await S1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Nh(s)}async function PR(s,e){e&&pr(s).X_&&await(async function(r,o){if((function(d){return bw(d)&&d!==Y.ABORTED})(o.code)){const c=r.Ta.shift();pr(r).B_(),await S1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nh(r)}})(s,e),A1(s)&&w1(s)}async function _v(s,e){const i=Ve(s);i.asyncQueue.verifyOperationInProgress(),oe(ra,"RemoteStore received new credentials");const r=oa(i);i.Ea.add(3),await Yo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function zR(s,e){const i=Ve(s);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await Yo(i),i.Ra.set("Unknown"))}function vl(s){return s.ma||(s.ma=(function(i,r,o){const c=Ve(i);return c.sa(),new SR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:IR.bind(null,s),t_:DR.bind(null,s),r_:OR.bind(null,s),H_:MR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),rp(s)?sp(s):s.Ra.set("Unknown")):(await s.ma.stop(),x1(s))}))),s.ma}function pr(s){return s.fa||(s.fa=(function(i,r,o){const c=Ve(i);return c.sa(),new AR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:jR.bind(null,s),r_:PR.bind(null,s),ta:LR.bind(null,s),na:UR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ap{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,y=new ap(e,i,d,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(s,e){if(ys("AsyncQueue",`${e}: ${s}`),yl(s))return new ae(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ve.comparator(i.key,r.key):(i,r)=>ve.comparator(i.key,r.key),this.keyedMap=Ao(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class vv{constructor(){this.ga=new wt(ve.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class hl{constructor(e,i,r,o,c,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new hl(e,i,tl.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class qR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BR{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Ve(i),c=o.queries;o.queries=bv(),c.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function bv(){return new la((s=>Kb(s)),Eh)}async function op(s,e){const i=Ve(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new qR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=lp(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cp(i)}async function up(s,e){const i=Ve(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function HR(s,e){const i=Ve(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&cp(i)}function FR(s,e,i){const r=Ve(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function cp(s){s.Ca.forEach((e=>{e.next()}))}var Cm,Ev;(Ev=Cm||(Cm={})).Ma="default",Ev.Cache="cache";class hp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class R1{constructor(e){this.key=e}}class N1{constructor(e){this.key=e}}class GR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=Yb(e),this.tu=new tl(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new vv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,S)=>{const M=o.get(x),Q=Th(this.query,S)?S:null,te=!!M&&this.mutatedKeys.has(M.key),se=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ne=!1;M&&Q?M.data.isEqual(Q.data)?te!==se&&(r.track({type:3,doc:Q}),ne=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),ne=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!M&&Q?(r.track({type:0,doc:Q}),ne=!0):M&&!Q&&(r.track({type:1,doc:M}),ne=!0,(v||_)&&(y=!0)),ne&&(Q?(d=d.add(Q),c=se?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,S)=>(function(Q,te){const se=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:ne})}};return se(Q)-se(te)})(x.type,S.type)||this.eu(x.doc,S.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new hl(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new N1(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new R1(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Xe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class QR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class KR{constructor(e){this.key=e,this.hu=!1}}class YR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((y=>Kb(y)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ve.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XR(s,e,i=!0){const r=V1(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await C1(r,e,i,!0),o}async function $R(s,e){const i=V1(s);await C1(i,e,!0,!1)}async function C1(s,e,i,r){const o=await gR(s.localStore,zi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return r&&(y=await ZR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&E1(s.remoteStore,o),y}async function ZR(s,e,i,r,o){s.pu=(S,M,Q)=>(async function(se,ne,Te,Oe){let Re=ne.view.ru(Te);Re.Cs&&(Re=await dv(se.localStore,ne.query,!1).then((({documents:I})=>ne.view.ru(I,Re))));const rt=Oe&&Oe.targetChanges.get(ne.targetId),mt=Oe&&Oe.targetMismatches.get(ne.targetId)!=null,$e=ne.view.applyChanges(Re,se.isPrimaryClient,rt,mt);return xv(se,ne.targetId,$e.au),$e.snapshot})(s,S,M,Q);const c=await dv(s.localStore,e,!0),d=new GR(e,c.Qs),y=d.ru(c.documents),v=Ko.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);xv(s,i,_.au);const x=new QR(e,i,d);return s.Tu.set(e,x),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function JR(s,e,i){const r=Ve(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Eh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&np(r.remoteStore,o.targetId),Im(r,o.targetId)})).catch(gl)):(Im(r,o.targetId),await Rm(r.localStore,o.targetId,!0))}async function WR(s,e){const i=Ve(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),np(i.remoteStore,r.targetId))}async function eN(s,e,i){const r=lN(s);try{const o=await(function(d,y){const v=Ve(d),_=Et.now(),x=y.reduce(((Q,te)=>Q.add(te.key)),Xe());let S,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let te=_s(),se=Xe();return v.Ns.getEntries(Q,x).next((ne=>{te=ne,te.forEach(((Te,Oe)=>{Oe.isValidDocument()||(se=se.add(Te))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,te))).next((ne=>{S=ne;const Te=[];for(const Oe of y){const Re=pw(Oe,S.get(Oe.key).overlayedDocument);Re!=null&&Te.push(new _r(Oe.key,Re,Pb(Re.value.mapValue),ti.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,Te,y)})).next((ne=>{M=ne;const Te=ne.applyToLocalDocumentSet(S,se);return v.documentOverlayCache.saveOverlays(Q,ne.batchId,Te)}))})).then((()=>({batchId:M.batchId,changes:$b(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new wt(Ye)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await Xo(r,o.changes),await Nh(r.remoteStore)}catch(o){const c=lp(o,"Failed to persist write");i.reject(c)}}async function I1(s,e){const i=Ve(s);try{const r=await dR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?at(d.hu,14607):o.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await Xo(i,r,e)}catch(r){await gl(r)}}function Tv(s,e,i){const r=Ve(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Ve(d);v.onlineState=y;let _=!1;v.queries.forEach(((x,S)=>{for(const M of S.Sa)M.va(y)&&(_=!0)})),_&&cp(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tN(s,e,i){const r=Ve(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new wt(ve.comparator);d=d.insert(c,pn.newNoDocument(c,De.min()));const y=Xe().add(c),v=new Ah(De.min(),new Map,new wt(Ye),d,y);await I1(r,v),r.du=r.du.remove(c),r.Au.delete(e),dp(r)}else await Rm(r.localStore,e,!1).then((()=>Im(r,e,i))).catch(gl)}async function nN(s,e){const i=Ve(s),r=e.batch.batchId;try{const o=await fR(i.localStore,e);O1(i,r,null),D1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Xo(i,o)}catch(o){await gl(o)}}async function iN(s,e,i){const r=Ve(s);try{const o=await(function(d,y){const v=Ve(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(at(S!==null,37113),x=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,x,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>v.localDocuments.getDocuments(_,x)))}))})(r.localStore,e);O1(r,e,i),D1(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Xo(r,o)}catch(o){await gl(o)}}function D1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function O1(s,e,i){const r=Ve(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||M1(s,r)}))}function M1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(np(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),dp(s))}function xv(s,e,i){for(const r of i)r instanceof R1?(s.Ru.addReference(r.key,e),sN(s,r)):r instanceof N1?(oe(fp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||M1(s,r.key)):Ne(19791,{wu:r})}function sN(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(oe(fp,"New document in limbo: "+i),s.Eu.add(r),dp(s))}function dp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ve(yt.fromString(e)),r=s.fu.next();s.Au.set(r,new KR(i)),s.du=s.du.insert(i,r),E1(s.remoteStore,new rr(zi(bh(i.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function Xo(s,e,i){const r=Ve(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const x=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(_){o.push(_);const x=ep.As(v.targetId,_);c.push(x)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const x=Ve(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(M=>Z.forEach(M.Es,(Q=>x.persistence.referenceDelegate.addReference(S,M.targetId,Q))).next((()=>Z.forEach(M.ds,(Q=>x.persistence.referenceDelegate.removeReference(S,M.targetId,Q)))))))))}catch(S){if(!yl(S))throw S;oe(tp,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const Q=x.Ms.get(M),te=Q.snapshotVersion,se=Q.withLastLimboFreeSnapshotVersion(te);x.Ms=x.Ms.insert(M,se)}}})(r.localStore,c))}async function rN(s,e){const i=Ve(s);if(!i.currentUser.isEqual(e)){oe(fp,"User change. New user:",e.toKey());const r=await y1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new ae(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xo(i,r.Ls)}}function aN(s,e){const i=Ve(s),r=i.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function V1(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tN.bind(null,e),e.Pu.H_=HR.bind(null,e.eventManager),e.Pu.yu=FR.bind(null,e.eventManager),e}function lN(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return hR(this.persistence,new oR,e.initialUser,this.serializer)}Cu(e){return new g1(Wm.mi,this.serializer)}Du(e){return new _R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class oN extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Kw(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new g1((r=>sh.mi(r,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rN.bind(null,this.syncEngine),await zR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BR})()}createDatastore(e){const i=wh(e.databaseInfo.databaseId),r=(function(c){return new xR(c)})(e.databaseInfo);return(function(c,d,y,v){return new RR(c,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,y){return new CR(r,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>Tv(this.syncEngine,i,0)),(function(){return gv.v()?new gv:new vR})())}createSyncEngine(e,i){return(function(o,c,d,y,v,_,x){const S=new YR(o,c,d,y,v,_);return x&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Ve(i);oe(ra,"RemoteStore shutting down."),r.Ea.add(5),await Yo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class mp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const gr="FirestoreClient";class uN{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=lp(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function im(s,e){s.asyncQueue.verifyOperationInProgress(),oe(gr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await y1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Sv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await cN(s);oe(gr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>_v(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>_v(e.remoteStore,o))),s._onlineComponents=e}async function cN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(gr,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;al("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new ah)}}else oe(gr,"Using default OfflineComponentProvider"),await im(s,new oN(void 0));return s._offlineComponents}async function k1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(gr,"Using user provided OnlineComponentProvider"),await Sv(s,s._uninitializedComponentsProvider._online)):(oe(gr,"Using default OnlineComponentProvider"),await Sv(s,new Dm))),s._onlineComponents}function hN(s){return k1(s).then((e=>e.syncEngine))}async function lh(s){const e=await k1(s),i=e.eventManager;return i.onListen=XR.bind(null,e.syncEngine),i.onUnlisten=JR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$R.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=WR.bind(null,e.syncEngine),i}function fN(s,e,i={}){const r=new ps;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const x=new mp({next:M=>{x.Nu(),d.enqueueAndForget((()=>up(c,S)));const Q=M.docs.has(y);!Q&&M.fromCache?_.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&M.fromCache&&v&&v.source==="server"?_.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new hp(bh(y.path),x,{includeMetadataChanges:!0,qa:!0});return op(c,S)})(await lh(s),s.asyncQueue,e,i,r))),r.promise}function dN(s,e,i={}){const r=new ps;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const x=new mp({next:M=>{x.Nu(),d.enqueueAndForget((()=>up(c,S))),M.fromCache&&v.source==="server"?_.reject(new ae(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new hp(y,x,{includeMetadataChanges:!0,qa:!0});return op(c,S)})(await lh(s),s.asyncQueue,e,i,r))),r.promise}function j1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Av=new Map;const L1="firestore.googleapis.com",wv=!0;class Rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L1,this.ssl=wv}else this.host=e.host,this.ssl=e.ssl??wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gw)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new v2;switch(r.type){case"firstParty":return new x2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Av.get(i);r&&(oe("ComponentProvider","Removing Datastore"),Av.delete(i),r.terminate())})(this),Promise.resolve()}}function mN(s,e,i,r={}){s=Cn(s,Ch);const o=dl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(fb(`https://${y}`),db("Firestore",!0)),c.host!==L1&&c.host!==y&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:r};if(!na(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=mn.MOCK_USER;else{_=FS(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new mn(S)}s._authCredentials=new b2(new Rb(_,x))}}class vr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vr(this.firestore,e,this._query)}}class Ct{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Go(i,Ct._jsonSchema))return new Ct(e,r||null,new ve(yt.fromString(i.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Qt("string",Ct._jsonSchemaVersion),referencePath:Qt("string")};class cr extends vr{constructor(e,i,r){super(e,i,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ve(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function er(s,e,...i){if(s=en(s),Nb("collection","path",e),s instanceof Ch){const r=yt.fromString(e,...i);return z_(r),new cr(s,null,r)}{if(!(s instanceof Ct||s instanceof cr))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return z_(r),new cr(s.firestore,null,r)}}function $r(s,e,...i){if(s=en(s),arguments.length===1&&(e=qm.newId()),Nb("doc","path",e),s instanceof Ch){const r=yt.fromString(e,...i);return P_(r),new Ct(s,null,new ve(r))}{if(!(s instanceof Ct||s instanceof cr))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(yt.fromString(e,...i));return P_(r),new Ct(s.firestore,s instanceof cr?s.converter:null,new ve(r))}}const Nv="AsyncQueue";class Cv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v1(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&oe(Nv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;oe(Nv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ys("INTERNAL UNHANDLED ERROR: ",Iv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ap.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Iv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Dv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class vs extends Ch{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new Cv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cv(e),this._firestoreClient=void 0,await e}}}function pN(s,e){const i=typeof s=="object"?s:yb(),r=typeof s=="string"?s:Jc,o=Pm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=BS("firestore");c&&mN(o,...c)}return o}function Ih(s){if(s._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||gN(s),s._firestoreClient}function gN(s){const e=s._freezeSettings(),i=(function(o,c,d,y){return new z2(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,j1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new uN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(hn.fromBase64String(e))}catch(i){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ei(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Go(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Qt("string",ei._jsonSchemaVersion),bytes:Qt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pp{constructor(e){this._methodName=e}}class Bi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Go(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Qt("string",Bi._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Hi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Go(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Hi(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Qt("string",Hi._jsonSchemaVersion),vectorValues:Qt("object")};const yN=/^__.*__$/;class _N{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,i,this.fieldTransforms):new Qo(e,this.data,i,this.fieldTransforms)}}class U1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new _r(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function P1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:s})}}class gp{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(P1(this.Ac)&&yN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||wh(e)}Cc(e,i,r,o=!1){return new gp({Ac:e,methodName:i,Dc:r,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(s){const e=s._freezeSettings(),i=wh(s._databaseId);return new vN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function z1(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);yp("Data must be an object, but it was:",d,r);const y=q1(r,d);let v,_;if(c.merge)v=new Pn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const S of c.mergeFields){const M=Om(e,S,i);if(!d.contains(M))throw new ae(Y.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);H1(x,M)||x.push(M)}v=new Pn(x),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new _N(new Nn(y),v,_)}class Mh extends pp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function bN(s,e,i,r){const o=s.Cc(1,e,i);yp("Data must be an object, but it was:",o,r);const c=[],d=Nn.empty();yr(r,((v,_)=>{const x=_p(e,v,i);_=en(_);const S=o.yc(x);if(_ instanceof Mh)c.push(x);else{const M=$o(_,S);M!=null&&(c.push(x),d.set(x,M))}}));const y=new Pn(c);return new U1(d,y,o.fieldTransforms)}function EN(s,e,i,r,o,c){const d=s.Cc(1,e,i),y=[Om(e,r,i)],v=[o];if(c.length%2!=0)throw new ae(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Om(e,c[M])),v.push(c[M+1]);const _=[],x=Nn.empty();for(let M=y.length-1;M>=0;--M)if(!H1(_,y[M])){const Q=y[M];let te=v[M];te=en(te);const se=d.yc(Q);if(te instanceof Mh)_.push(Q);else{const ne=$o(te,se);ne!=null&&(_.push(Q),x.set(Q,ne))}}const S=new Pn(_);return new U1(x,S,d.fieldTransforms)}function TN(s,e,i,r=!1){return $o(i,s.Cc(r?4:3,e))}function $o(s,e){if(B1(s=en(s)))return yp("Unsupported field value:",e,s),q1(s,e);if(s instanceof pp)return(function(r,o){if(!P1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const y of r){let v=$o(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Et.fromDate(r);return{timestampValue:ih(o.serializer,c)}}if(r instanceof Et){const c=new Et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:o1(o.serializer,r._byteString)};if(r instanceof Ct){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Hi)return(function(d,y){return{mapValue:{fields:{[Lb]:{stringValue:Ub},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Km(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${gh(r)}`)})(s,e)}function q1(s,e){const i={};return Db(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(s,((r,o)=>{const c=$o(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function B1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Et||s instanceof Bi||s instanceof ei||s instanceof Ct||s instanceof pp||s instanceof Hi)}function yp(s,e,i){if(!B1(i)||!Cb(i)){const r=gh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Om(s,e,i){if((e=en(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return _p(s,e);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const xN=new RegExp("[~\\*/\\[\\]]");function _p(s,e,i){if(e.search(xN)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new ae(Y.INVALID_ARGUMENT,y+s+v)}function H1(s,e){return s.some((i=>i.isEqual(e)))}class F1{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Vh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class SN extends F1{data(){return super.data()}}function Vh(s,e){return typeof e=="string"?_p(s,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function G1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class Q1 extends vp{}function $a(s,e,...i){let r=[];e instanceof vp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((v=>v instanceof bp)).length,y=c.filter((v=>v instanceof kh)).length;if(d>1||d>0&&y>0)throw new ae(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class kh extends Q1{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new kh(e,i,r)}_apply(e){const i=this._parse(e);return K1(e._query,i),new vr(e.firestore,e.converter,Em(e._query,i))}_parse(e){const i=Oh(e.firestore);return(function(c,d,y,v,_,x,S){let M;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Vv(S,x);const te=[];for(const se of S)te.push(Mv(v,c,se));M={arrayValue:{values:te}}}else M=Mv(v,c,S)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Vv(S,x),M=TN(y,d,S,x==="in"||x==="not-in");return Gt.create(_,x,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function jc(s,e,i){const r=e,o=Vh("where",s);return kh._create(o,r,i)}class bp extends vp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:yi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const y=c.getFlattenedFilters();for(const v of y)K1(d,v),d=Em(d,v)})(e._query,i),new vr(e.firestore,e.converter,Em(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ep extends Q1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ep(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Po(c,d)})(e._query,this._field,this._direction);return new vr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new _l(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Ov(s,e="asc"){const i=e,r=Vh("orderBy",s);return Ep._create(r,i)}function Mv(s,e,i){if(typeof(i=en(i))=="string"){if(i==="")throw new ae(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qb(e)&&i.indexOf("/")!==-1)throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(yt.fromString(i));if(!ve.isDocumentKey(r))throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y_(s,new ve(r))}if(i instanceof Ct)return Y_(s,i._key);throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(i)}.`)}function Vv(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K1(s,e){const i=(function(o,c){for(const d of o)for(const y of d.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class AN{convertValue(e,i="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return yr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Wc].arrayValue?.values?.map((r=>Vt(r.doubleValue)));return new Hi(i)}convertGeoPoint(e){return new Bi(Vt(e.latitude),Vt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=vh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const i=fr(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=yt.fromString(e);at(m1(r),9688,{name:e});const o=new Lo(r.get(1),r.get(3)),c=new ve(r.popFirst(5));return o.isEqual(i)||ys(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Y1(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Ro{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends F1{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Vh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Qt("string",Wr._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Fc extends Wr{data(e={}){return super.data(e)}}class ea{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Fc(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Fc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ro(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Fc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ro(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),x=d.indexOf(y.doc.key)),{type:wN(y.type),doc:v,oldIndex:_,newIndex:x}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:s})}}function RN(s){s=Cn(s,Ct);const e=Cn(s.firestore,vs);return fN(Ih(e),s._key).then((i=>X1(e,s,i)))}ea._jsonSchemaVersion="firestore/querySnapshot/1.0",ea._jsonSchema={type:Qt("string",ea._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Tp extends AN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,i)}}function kv(s){s=Cn(s,vr);const e=Cn(s.firestore,vs),i=Ih(e),r=new Tp(e);return G1(s._query),dN(i,s._query).then((o=>new ea(e,r,s,o)))}function jv(s,e,i){s=Cn(s,Ct);const r=Cn(s.firestore,vs),o=Y1(s.converter,e);return jh(r,[z1(Oh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ti.none())])}function Lv(s,e,i,...r){s=Cn(s,Ct);const o=Cn(s.firestore,vs),c=Oh(o);let d;return d=typeof(e=en(e))=="string"||e instanceof Dh?EN(c,"updateDoc",s._key,e,i,r):bN(c,"updateDoc",s._key,e),jh(o,[d.toMutation(s._key,ti.exists(!0))])}function Uv(s){return jh(Cn(s.firestore,vs),[new Ym(s._key,ti.none())])}function Pv(s,e){const i=Cn(s.firestore,vs),r=$r(s),o=Y1(s.converter,e);return jh(i,[z1(Oh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then((()=>r))}function Lc(s,...e){s=en(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Dv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Dv(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,d,y;if(s instanceof Ct)d=Cn(s.firestore,vs),y=bh(s._key.path),c={next:v=>{e[r]&&e[r](X1(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=Cn(s,vr);d=Cn(v.firestore,vs),y=v._query;const _=new Tp(d);c={next:x=>{e[r]&&e[r](new ea(d,_,v,x))},error:e[r+1],complete:e[r+2]},G1(s._query)}return(function(_,x,S,M){const Q=new mp(M),te=new hp(x,Q,S);return _.asyncQueue.enqueueAndForget((async()=>op(await lh(_),te))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>up(await lh(_),te)))}})(Ih(d),y,o,c)}function jh(s,e){return(function(r,o){const c=new ps;return r.asyncQueue.enqueueAndForget((async()=>eN(await hN(r),o,c))),c.promise})(Ih(s),e)}function X1(s,e,i){const r=i.docs.get(e._key),o=new Tp(s);return new Wr(s,o,e._key,r,new Ro(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){pl=o})(ml),rl(new ia("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),y=new vs(new E2(r.getProvider("auth-internal")),new S2(d,r.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(_.options.projectId,x)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),or(k_,j_,e),or(k_,j_,"esm2020")})();function $1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NN=$1,Z1=new Ho("auth","Firebase",$1());const uh=new Lm("@firebase/auth");function CN(s,...e){uh.logLevel<=Ke.WARN&&uh.warn(`Auth (${ml}): ${s}`,...e)}function Gc(s,...e){uh.logLevel<=Ke.ERROR&&uh.error(`Auth (${ml}): ${s}`,...e)}function Qi(s,...e){throw Sp(s,...e)}function gi(s,...e){return Sp(s,...e)}function xp(s,e,i){const r={...NN(),[e]:i};return new Ho("auth","Firebase",r).create(e,{appName:s.name})}function ta(s){return xp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IN(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qi(s,"argument-error"),xp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Z1.create(s,...e)}function Ce(s,e,...i){if(!s)throw Sp(e,...i)}function ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function bs(s,e){s||ds(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function DN(){return zv()==="http:"||zv()==="https:"}function zv(){return typeof self<"u"&&self.location?.protocol||null}function ON(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DN()||$S()||"connection"in navigator)?navigator.onLine:!0}function MN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,bs(i>e,"Short delay should be less than long delay!"),this.isMobile=KS()||ZS()}get(){return ON()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(s,e){bs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class J1{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const kN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jN=new Zo(3e4,6e4);function wp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function bl(s,e,i,r,o={}){return W1(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const y=Fo({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...c};return XS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&dl(s.emulatorConfig.host)&&(_.credentials="include"),J1.fetch()(await eE(s,s.config.apiHost,i,y),_)})}async function W1(s,e,i){s._canInitEmulator=!1;const r={...VN,...e};try{const o=new UN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Uc(s,"user-disabled",d);const x=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw xp(s,x,_);Qi(s,x)}}catch(o){if(o instanceof Es)throw o;Qi(s,"network-request-failed",{message:String(o)})}}async function LN(s,e,i,r,o={}){const c=await bl(s,e,i,r,o);return"mfaPendingCredential"in c&&Qi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function eE(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Ap(s.config,o):`${s.config.apiScheme}://${o}`;return kN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(gi(this.auth,"network-request-failed")),jN.get())})}}function Uc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=gi(s,e,r);return o.customData._tokenResponse=i,o}async function PN(s,e){return bl(s,"POST","/v1/accounts:delete",e)}async function ch(s,e){return bl(s,"POST","/v1/accounts:lookup",e)}function Mo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zN(s,e=!1){const i=en(s),r=await i.getIdToken(e),o=Rp(r);Ce(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Mo(sm(o.auth_time)),issuedAtTime:Mo(sm(o.iat)),expirationTime:Mo(sm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function Rp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=ob(i);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function qv(s){const e=Rp(s);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bo(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Es&&qN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function qN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class BN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(s){const e=s.auth,i=await s.getIdToken(),r=await Bo(s,ch(e,{idToken:i}));Ce(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?tE(o.providerUserInfo):[],d=FN(s.providerData,c),y=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,_=y?v:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,x)}async function HN(s){const e=en(s);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function tE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GN(s,e){const i=await W1(s,{},async()=>{const r=Fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await eE(s,o,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return s.emulatorConfig&&dl(s.emulatorConfig.host)&&(v.credentials="include"),J1.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QN(s,e){return bl(s,"POST","/v2/accounts:revokeToken",wp(s,e))}class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const i=qv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await GN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new nl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ce(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return ds("not implemented")}}function tr(s,e){Ce(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new BN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return zN(this,e)}reload(){return HN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Bo(this,PN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,x=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:Q,providerData:te,stsTokenManager:se}=i;Ce(S&&se,e,"internal-error");const ne=nl.fromJSON(this.name,se);Ce(typeof S=="string",e,"internal-error"),tr(r,e.name),tr(o,e.name),Ce(typeof M=="boolean",e,"internal-error"),Ce(typeof Q=="boolean",e,"internal-error"),tr(c,e.name),tr(d,e.name),tr(y,e.name),tr(v,e.name),tr(_,e.name),tr(x,e.name);const Te=new pi({uid:S,auth:e,email:o,emailVerified:M,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ne,createdAt:_,lastLoginAt:x});return te&&Array.isArray(te)&&(Te.providerData=te.map(Oe=>({...Oe}))),v&&(Te._redirectEventId=v),Te}static async _fromIdTokenResponse(e,i,r=!1){const o=new nl;o.updateFromServerResponse(i);const c=new pi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await hh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?tE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new nl;y.updateFromIdToken(r);const v=new pi({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Bv=new Map;function ms(s){bs(s instanceof Function,"Expected a class definition");let e=Bv.get(s);return e?(bs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Bv.set(s,e),e)}class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}nE.type="NONE";const Hv=nE;function Qc(s,e,i){return`firebase:${s}:${e}:${i}`}class il{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ch(this.auth,{idToken:e}).catch(()=>{});return i?pi._fromGetAccountInfoResponse(this.auth,i,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new il(ms(Hv),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ms(Hv);const d=Qc(r,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const x=await _._get(d);if(x){let S;if(typeof x=="string"){const M=await ch(e,{idToken:x}).catch(()=>{});if(!M)break;S=await pi._fromGetAccountInfoResponse(e,M,x)}else S=pi._fromJSON(e,x);_!==c&&(y=S),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new il(c,e,r):(c=v[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new il(c,e,r))}}function Fv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oE(e))return"Blackberry";if(uE(e))return"Webos";if(sE(e))return"Safari";if((e.includes("chrome/")||rE(e))&&!e.includes("edge/"))return"Chrome";if(lE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function iE(s=gn()){return/firefox\//i.test(s)}function sE(s=gn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rE(s=gn()){return/crios\//i.test(s)}function aE(s=gn()){return/iemobile/i.test(s)}function lE(s=gn()){return/android/i.test(s)}function oE(s=gn()){return/blackberry/i.test(s)}function uE(s=gn()){return/webos/i.test(s)}function Np(s=gn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function KN(s=gn()){return Np(s)&&!!window.navigator?.standalone}function YN(){return JS()&&document.documentMode===10}function cE(s=gn()){return Np(s)||lE(s)||uE(s)||oE(s)||/windows phone/i.test(s)||aE(s)}function hE(s,e=[]){let i;switch(s){case"Browser":i=Fv(gn());break;case"Worker":i=`${Fv(gn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ml}/${r}`}class XN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,y)=>{try{const v=e(c);d(v)}catch(v){y(v)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $N(s,e={}){return bl(s,"GET","/v2/passwordPolicy",wp(s,e))}const ZN=6;class JN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ZN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class WN{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gv(this),this.idTokenSubscription=new Gv(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ch(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(ta(this));const i=e?en(e):null;return i&&Ce(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $N(this),i=new JN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await QN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ms(e)||this._popupRedirectResolver;Ce(i,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,r,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lh(s){return en(s)}class Gv{constructor(e){this.auth=e,this.observer=null,this.addObserver=aA(i=>this.observer=i)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eC(s){Cp=s}function tC(s){return Cp.loadJS(s)}function nC(){return Cp.gapiScript}function iC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function sC(s,e){const i=Pm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(na(c,e??{}))return o;Qi(o,"already-initialized")}return i.initialize({options:e})}function rC(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function aC(s,e,i){const r=Lh(s);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=fE(e),{host:d,port:y}=lC(e),v=y===null?"":`:${y}`,_={url:`${c}//${d}${v}/`},x=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(na(_,r.config.emulator)&&na(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,dl(d)?(fb(`${c}//${d}${v}`),db("Auth",!0)):oC()}function fE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lC(s){const e=fE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Qv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Qv(d)}}}function Qv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function oC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class dE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,i){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function sl(s,e){return LN(s,"POST","/v1/accounts:signInWithIdp",wp(s,e))}const uC="http://localhost";class aa extends dE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Qi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new aa(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return sl(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,sl(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,sl(e,i)}buildRequest(){const e={requestUri:uC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Fo(i)}return e}}class Ip{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jo extends Ip{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr extends Jo{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class fs extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return aa._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return fs.credential(i,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";class ir extends Jo{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends Jo{constructor(){super("twitter.com")}static credential(e,i){return aa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await pi._fromIdTokenResponse(e,r,o),d=Kv(r);return new fl({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=Kv(r);return new fl({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function Kv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class fh extends Es{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new fh(e,i,r,o)}}function mE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,c,e,r):c})}async function cC(s,e,i=!1){const r=await Bo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return fl._forOperation(s,"link",r)}async function hC(s,e,i=!1){const{auth:r}=s;if(mi(r.app))return Promise.reject(ta(r));const o="reauthenticate";try{const c=await Bo(s,mE(r,o,e,s),i);Ce(c.idToken,r,"internal-error");const d=Rp(c.idToken);Ce(d,r,"internal-error");const{sub:y}=d;return Ce(s.uid===y,r,"user-mismatch"),fl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qi(r,"user-mismatch"),c}}async function fC(s,e,i=!1){if(mi(s.app))return Promise.reject(ta(s));const r="signIn",o=await mE(s,r,e),c=await fl._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function dC(s,e,i,r){return en(s).onIdTokenChanged(e,i,r)}function mC(s,e,i){return en(s).beforeAuthStateChanged(e,i)}function pC(s,e,i,r){return en(s).onAuthStateChanged(e,i,r)}function gC(s){return en(s).signOut()}const dh="__sak";class pE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yC=1e3,_C=10;class gE extends pE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);YN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_C):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}gE.type="LOCAL";const vC=gE;class yE extends pE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}yE.type="SESSION";const _E=yE;function bC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(d).map(async _=>_(i.origin,c)),v=await bC(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];function Dp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class EC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,v)=>{const _=Dp("",20);o.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(x),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function TC(s){Fi().location.href=s}function vE(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function xC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SC(){return navigator?.serviceWorker?.controller||null}function AC(){return vE()?self:null}const bE="firebaseLocalStorageDb",wC=1,mh="firebaseLocalStorage",EE="fbase_key";class Wo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ph(s,e){return s.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function RC(){const s=indexedDB.deleteDatabase(bE);return new Wo(s).toPromise()}function km(){const s=indexedDB.open(bE,wC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(mh,{keyPath:EE})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await RC(),e(await km()))})})}async function Yv(s,e,i){const r=Ph(s,!0).put({[EE]:e,value:i});return new Wo(r).toPromise()}async function NC(s,e){const i=Ph(s,!1).get(e),r=await new Wo(i).toPromise();return r===void 0?null:r.value}function Xv(s,e){const i=Ph(s,!0).delete(e);return new Wo(i).toPromise()}const CC=800,IC=3;class TE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>IC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(AC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new EC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await Yv(e,dh,"1"),await Xv(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Yv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>NC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ph(o,!1).getAll();return new Wo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TE.type="LOCAL";const DC=TE;new Zo(3e4,6e4);function xE(s,e){return e?ms(e):(Ce(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Op extends dE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return sl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function OC(s){return fC(s.auth,new Op(s),s.bypassAuthState)}function MC(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),hC(i,new Op(s),s.bypassAuthState)}async function VC(s){const{auth:e,user:i}=s;return Ce(i,e,"internal-error"),cC(i,new Op(s),s.bypassAuthState)}class SE{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:Qi(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kC=new Zo(2e3,1e4);async function jC(s,e,i){if(mi(s.app))return Promise.reject(gi(s,"operation-not-supported-in-this-environment"));const r=Lh(s);IN(s,e,Ip);const o=xE(r,i);return new Jr(r,"signInViaPopup",e,o).executeNotNull()}class Jr extends SE{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Jr.currentPopupAction&&Jr.currentPopupAction.cancel(),Jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kC.get())};e()}}Jr.currentPopupAction=null;const LC="pendingRedirect",Kc=new Map;class UC extends SE{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await PC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PC(s,e){const i=BC(e),r=qC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function zC(s,e){Kc.set(s._key(),e)}function qC(s){return ms(s._redirectPersistence)}function BC(s){return Qc(LC,s.config.apiKey,s.name)}async function HC(s,e,i=!1){if(mi(s.app))return Promise.reject(ta(s));const r=Lh(s),o=xE(r,e),d=await new UC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const FC=600*1e3;class GC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!AE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(gi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FC&&this.cachedEventUids.clear(),this.cachedEventUids.has($v(e))}saveEventToCache(e){this.cachedEventUids.add($v(e)),this.lastProcessedEventTime=Date.now()}}function $v(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function AE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function QC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AE(s);default:return!1}}async function KC(s,e={}){return bl(s,"GET","/v1/projects",e)}const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function $C(s){if(s.config.emulator)return;const{authorizedDomains:e}=await KC(s);for(const i of e)try{if(ZC(i))return}catch{}Qi(s,"unauthorized-domain")}function ZC(s){const e=Mm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!XC.test(i))return!1;if(YC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const JC=new Zo(3e4,6e4);function Zv(){const s=Fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function WC(s){return new Promise((e,i)=>{function r(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),i(gi(s,"network-request-failed"))},timeout:JC.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)r();else{const o=iC("iframefcb");return Fi()[o]=()=>{gapi.load?r():i(gi(s,"network-request-failed"))},tC(`${nC()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Yc=null,e})}let Yc=null;function eI(s){return Yc=Yc||WC(s),Yc}const tI=new Zo(5e3,15e3),nI="__/auth/iframe",iI="emulator/auth/iframe",sI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(s){const e=s.config;Ce(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Ap(e,iI):`https://${s.config.authDomain}/${nI}`,r={apiKey:e.apiKey,appName:s.name,v:ml},o=rI.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Fo(r).slice(1)}`}async function lI(s){const e=await eI(s),i=Fi().gapi;return Ce(i,s,"internal-error"),e.open({where:document.body,url:aI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sI,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=gi(s,"network-request-failed"),y=Fi().setTimeout(()=>{c(d)},tI.get());function v(){Fi().clearTimeout(y),o(r)}r.ping(v).then(v,()=>{c(d)})}))}const oI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,cI=600,hI="_blank",fI="http://localhost";class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dI(s,e,i,r=uI,o=cI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...oI,width:r.toString(),height:o.toString(),top:c,left:d},_=gn().toLowerCase();i&&(y=rE(_)?hI:i),iE(_)&&(e=e||fI,v.scrollbars="yes");const x=Object.entries(v).reduce((M,[Q,te])=>`${M}${Q}=${te},`,"");if(KN(_)&&y!=="_self")return mI(e||"",y),new Jv(null);const S=window.open(e||"",y,x);Ce(S,s,"popup-blocked");try{S.focus()}catch{}return new Jv(S)}function mI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const pI="__/auth/handler",gI="emulator/auth/handler",yI=encodeURIComponent("fac");async function Wv(s,e,i,r,o,c){Ce(s.config.authDomain,s,"auth-domain-config-required"),Ce(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ml,eventId:o};if(e instanceof Ip){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",rA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,S]of Object.entries({}))d[x]=S}if(e instanceof Jo){const x=e.getScopes().filter(S=>S!=="");x.length>0&&(d.scopes=x.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const x of Object.keys(y))y[x]===void 0&&delete y[x];const v=await s._getAppCheckToken(),_=v?`#${yI}=${encodeURIComponent(v)}`:"";return`${_I(s)}?${Fo(y).slice(1)}${_}`}function _I({config:s}){return s.emulator?Ap(s,gI):`https://${s.authDomain}/${pI}`}const rm="webStorageSupport";class vI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=HC,this._overrideRedirectResult=zC}async _openPopup(e,i,r,o){bs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Wv(e,i,r,Mm(),o);return dI(e,c,Dp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Wv(e,i,r,Mm(),o);return TC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await lI(e),r=new GC(e);return i.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(rm,{type:rm},o=>{const c=o?.[0]?.[rm];c!==void 0&&i(!!c),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$C(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return cE()||sE()||Np()}}const bI=vI;var eb="@firebase/auth",tb="1.11.1";class EI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xI(s){rl(new ia("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(s)},_=new WN(r,o,c,v);return rC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),rl(new ia("auth-internal",e=>{const i=Lh(e.getProvider("auth").getImmediate());return(r=>new EI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(eb,tb,TI(s)),or(eb,tb,"esm2020")}const SI=300,AI=hb("authIdTokenMaxAge")||SI;let nb=null;const wI=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>AI)return;const o=i?.token;nb!==o&&(nb=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RI(s=yb()){const e=Pm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=sC(s,{popupRedirectResolver:bI,persistence:[DC,vC,_E]}),r=hb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=wI(c.toString());mC(i,d,()=>d(i.currentUser)),dC(i,y=>d(y))}}const o=ub("auth");return o&&aC(i,`http://${o}`),i}function NI(){return document.getElementsByTagName("head")?.[0]??document}eC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=gi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",NI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xI("Browser");const CI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},wE=gb(CI),wn=pN(wE),am=RI(wE),II=new fs;class eu{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const DI=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},un={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:DI()},Mp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},OI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Mp(s);un.publicKey=i.publicKey,un.blockHeadless=i.blockHeadless,un.storageProvider=i.storageProvider,un.blockList=i.blockList,un.limitRate=i.limitRate,un.origin=i.origin||e},RE=async(s,e,i={})=>{const r=await fetch(un.origin+s,{method:"POST",headers:i,body:e}),o=await r.text(),c=new eu(r.status,o);if(r.ok)return c;throw c},NE=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},MI=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},CE=s=>s.webdriver||!s.languages||s.languages.length===0,IE=()=>new eu(451,"Unavailable For Headless Browser"),VI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},kI=s=>!s.list?.length||!s.watchVariable,jI=(s,e)=>s instanceof FormData?s.get(e):s[e],DE=(s,e)=>{if(kI(s))return!1;VI(s.list,s.watchVariable);const i=jI(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},OE=()=>new eu(403,"Forbidden"),LI=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},UI=async(s,e,i)=>{const r=Number(await i.get(s)||0);return e-Date.now()+r},ME=async(s,e,i)=>{if(!e.throttle||!i)return!1;LI(e.throttle,e.id);const r=e.id||s;return await UI(r,e.throttle,i)>0?!0:(await i.set(r,Date.now().toString()),!1)},VE=()=>new eu(429,"Too Many Requests"),PI=async(s,e,i,r)=>{const o=Mp(r),c=o.publicKey||un.publicKey,d=o.blockHeadless||un.blockHeadless,y=o.storageProvider||un.storageProvider,v={...un.blockList,...o.blockList},_={...un.limitRate,...o.limitRate};return d&&CE(navigator)?Promise.reject(IE()):(NE(c,s,e),MI(i),i&&DE(v,i)?Promise.reject(OE()):await ME(location.pathname,_,y)?Promise.reject(VE()):RE("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},zI=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},qI=s=>typeof s=="string"?document.querySelector(s):s,BI=async(s,e,i,r)=>{const o=Mp(r),c=o.publicKey||un.publicKey,d=o.blockHeadless||un.blockHeadless,y=un.storageProvider||o.storageProvider,v={...un.blockList,...o.blockList},_={...un.limitRate,...o.limitRate};if(d&&CE(navigator))return Promise.reject(IE());const x=qI(i);NE(c,s,e),zI(x);const S=new FormData(x);return DE(v,S)?Promise.reject(OE()):await ME(location.pathname,_,y)?Promise.reject(VE()):(S.append("lib_version","4.4.1"),S.append("service_id",s),S.append("template_id",e),S.append("user_id",c),RE("/api/v1.0/email/send-form",S))},HI={init:OI,send:PI,sendForm:BI,EmailJSResponseStatus:eu},ib="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",lm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},sb=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],om={"Cinema Camera Kit":{count:1,category:"film",requiresTraining:!0},"Gimbal / Stabilizer":{count:6,category:"film",requiresTraining:!0},"DJI Mic Kit (Wireless)":{count:4,category:"film",requiresTraining:!1},"DJI Flip Drone":{count:1,category:"film",requiresTraining:!0},"Lighting Kit":{count:6,category:"film",requiresTraining:!1},Tripod:{count:8,category:"general",requiresTraining:!1},"DSLR Camera Body":{count:6,category:"photo",requiresTraining:!0},"Zoom Lens (18-55mm)":{count:6,category:"photo",requiresTraining:!1},"Telephoto Lens (70-200mm)":{count:2,category:"photo",requiresTraining:!1},"Portrait Lens (50mm)":{count:3,category:"photo",requiresTraining:!1},"SD Card Reader":{count:5,category:"photo",requiresTraining:!1},"Flash Unit":{count:3,category:"photo",requiresTraining:!1},"Serving Trays":{count:10,category:"culinary",requiresTraining:!1},"Chafing Dishes":{count:4,category:"culinary",requiresTraining:!1}},Ue={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory",FEEDBACK:"feedback"},Yr=s=>`salpointe_draft_${s}`,um=s=>{HI.send(lm.SERVICE_ID,lm.TEMPLATE_ID,s,lm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},FI=()=>{const[s,e]=we.useState("landing"),[i,r]=we.useState(!1),[o,c]=we.useState(null),[d,y]=we.useState(!1),[v,_]=we.useState(om),[x,S]=we.useState([]);we.useEffect(()=>{const de=pC(am,L=>{L?(c(L),y(sb.includes(L.email))):(c(null),y(!1))});return()=>de()},[]),we.useEffect(()=>{(async()=>{const ee=$r(wn,"settings","inventory_v2"),ce=await RN(ee);ce.exists()?_(ce.data()):(await jv(ee,om),_(om))})();const L=$a(er(wn,"blackout_dates")),X=Lc(L,ee=>{const ce=ee.docs.map(ie=>ie.id);S(ce)});return()=>X()},[]);const M=async()=>{try{await jC(am,II),e(Ue.DASHBOARD)}catch(de){console.error("Login failed:",de),alert("Login failed.")}},Q=async()=>{await gC(am),e("landing")},te=()=>{e("landing"),r(!1)},se=()=>{e(Ue.DASHBOARD),r(!1)},ne=[Ue.FILM,Ue.GRAPHIC,Ue.BUSINESS,Ue.CULINARY,Ue.PHOTO].includes(s);return p.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30 flex flex-col",children:[p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),p.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[p.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:te,children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),p.jsx("img",{src:ib,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",p.jsx("span",{className:"text-red-500",children:"CTE"})]}),p.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),p.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!ne&&s!=="landing"&&s!=="dashboard"&&p.jsxs("button",{onClick:se,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[p.jsx(Rx,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s!=="landing"&&p.jsxs("button",{onClick:()=>{e(Ue.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Ue.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[p.jsx(Gd,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),o?p.jsxs(p.Fragment,{children:[s!=="landing"&&p.jsxs("button",{onClick:()=>{e(Ue.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Ue.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[p.jsx(Zx,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&s!=="landing"&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{e(Ue.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Ue.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[p.jsx(Kd,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),p.jsxs("button",{onClick:()=>{e(Ue.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Ue.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[p.jsx(Vx,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),p.jsxs("button",{onClick:()=>{e(Ue.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Ue.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[p.jsx(v_,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),p.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),p.jsx("button",{onClick:Q,className:"ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all flex items-center gap-2",title:`Logged in as ${o.email}`,children:p.jsx(tS,{size:16})})]}):p.jsxs("button",{onClick:M,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[p.jsx(g_,{size:16})," Login"]})]})]})}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10 flex-grow w-full",children:i?p.jsx(Oe,{onReset:se}):p.jsxs(p.Fragment,{children:[s===Ue.LANDING&&p.jsx(Te,{currentUser:o,onLogin:M,onEnter:se}),s===Ue.DASHBOARD&&p.jsx(Re,{onViewChange:e,currentUser:o}),s===Ue.FILM&&p.jsx(V,{setSubmitted:r,onCancel:se,currentUser:o,inventory:v,blackouts:x}),s===Ue.GRAPHIC&&p.jsx(O,{setSubmitted:r,onCancel:se,currentUser:o}),s===Ue.BUSINESS&&p.jsx(j,{setSubmitted:r,onCancel:se,currentUser:o}),s===Ue.CULINARY&&p.jsx(R,{setSubmitted:r,onCancel:se,currentUser:o}),s===Ue.PHOTO&&p.jsx(gt,{setSubmitted:r,onCancel:se,currentUser:o,inventory:v,blackouts:x}),s===Ue.CALENDAR&&p.jsx(CalendarView,{adminMode:d,blackouts:x}),s===Ue.QUEUE&&p.jsx(A,{adminMode:d,setAdminMode:y,ALLOWED_ADMINS:sb}),s===Ue.MY_REQUESTS&&p.jsx(MyRequestsView,{currentUser:o}),s===Ue.ANALYTICS&&d&&p.jsx(I,{}),s===Ue.INVENTORY&&d&&p.jsx(mt,{inventory:v,setInventory:_}),s===Ue.FEEDBACK&&p.jsx($e,{currentUser:o,adminMode:d,setSubmitted:r,onCancel:se})]})}),p.jsx("footer",{className:"text-center py-8 px-4 border-t border-slate-800/50 mt-auto relative z-10 bg-slate-900/50",children:p.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-60 hover:opacity-100 transition-opacity duration-500",children:[p.jsx("img",{src:ib,alt:"Salpointe Catholic High School",className:"w-8 h-8 opacity-80 grayscale hover:grayscale-0 transition-all"}),p.jsxs("p",{className:"text-slate-500 text-xs font-mono tracking-widest uppercase",children:[" ",new Date().getFullYear()," Salpointe Catholic High School ",p.jsx("span",{className:"text-slate-700 mx-2",children:"|"})," CTE Department"]}),p.jsxs("button",{onClick:()=>e(Ue.FEEDBACK),className:"text-xs text-cyan-600 hover:text-cyan-400 flex items-center gap-1 transition-colors mt-2",children:[p.jsx(y_,{size:12})," Feedback & Support"]})]})})]});function Te({currentUser:de,onLogin:L,onEnter:X}){return p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[p.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[p.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),p.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["Master the Tools. ",p.jsx("br",{}),p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Create Without Limits."})]}),p.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Your direct link to the CTE professional inventory. Secure the assets you need to build your portfoliofrom cinema cameras to culinary prep. If you can dream it, you can reserve it."}),p.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:de?p.jsxs("button",{onClick:X,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),p.jsx(MS,{size:24,className:"fill-white"})," Initialize Hub"]}):p.jsxs("button",{onClick:L,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[p.jsx(g_,{size:24})," Login to Access"]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(Xx,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(Hx,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),p.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[p.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(yS,{size:24})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function Oe({onReset:de}){return p.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[p.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:p.jsx(zx,{size:40})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),p.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),p.jsx("button",{onClick:de,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function Re({onViewChange:de,currentUser:L}){const[X,ee]=we.useState({});we.useEffect(()=>{(()=>{const N={},P={[Ue.FILM]:"Film",[Ue.GRAPHIC]:"Graphic",[Ue.BUSINESS]:"Business",[Ue.CULINARY]:"Culinary",[Ue.PHOTO]:"Photo"};Object.keys(P).forEach(J=>{const W=Yr(P[J]);localStorage.getItem(W)&&(N[J]=!0)}),ee(N)})()},[]);const ce=[{id:Ue.FILM,title:"Film & TV",icon:T_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:Ue.GRAPHIC,title:"Graphic Design",icon:__,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:Ue.BUSINESS,title:"Business",icon:Fd,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:Ue.CULINARY,title:"Culinary Arts",icon:E_,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:Ue.PHOTO,title:"Photography",icon:Qd,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"col-span-full mb-4",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:L?`Welcome, ${L.displayName.split(" ")[0]}.`:"Access Granted."}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),ce.map(ie=>p.jsxs("div",{onClick:()=>de(ie.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${ie.bg}`,children:[X[ie.id]&&p.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[p.jsx(Cc,{size:12})," RESUME"]}),p.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${ie.color} transition-transform group-hover:scale-110 duration-300`,children:p.jsx(ie.icon,{size:28})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:ie.title}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:ie.desc})]},ie.id))]})}function rt({initialData:de={},currentUser:L}){const X=L?.displayName||de.fullName||"",ee=L?.email||de.email||"";return p.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[p.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[p.jsx(wS,{size:18})," Identity Verification"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),p.jsx("input",{name:"requestName",type:"text",defaultValue:de.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),p.jsx("input",{name:"fullName",type:"text",defaultValue:X,readOnly:!!L,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${L?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),p.jsx("input",{name:"email",type:"email",defaultValue:ee,readOnly:!!L,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${L?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),p.jsxs("select",{name:"role",defaultValue:de.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[p.jsx("option",{children:"Student"}),p.jsx("option",{children:"Faculty / Staff"}),p.jsx("option",{children:"Club Representative"})]})]})]})]})}function mt({inventory:de,setInventory:L}){const[X,ee]=we.useState(de),[ce,ie]=we.useState(!1),[N,P]=we.useState(""),[J,W]=we.useState(1),[le,ge]=we.useState("film"),[be,ye]=we.useState(!1),[ue,Je]=we.useState(null),[At,_t]=we.useState(""),[pe,he]=we.useState(!1),Ee=(Be,qe,Tt)=>{ee(kt=>({...kt,[Be]:{...kt[Be],[qe]:Tt}}))},xe=Be=>{if(window.confirm(`Delete "${Be}" from inventory permanently?`)){const qe={...X};delete qe[Be],ee(qe)}},Pe=Be=>{if(Be.preventDefault(),!N)return;const qe=N.trim();if(X[qe]){alert("Item already exists.");return}ee(Tt=>({...Tt,[qe]:{count:parseInt(J)||0,category:le,requiresTraining:be}})),P(""),W(1),ye(!1)},et=(Be,qe)=>{Je(Be),_t(Be),he(qe.requiresTraining||!1)},Ae=()=>{Je(null),_t(""),he(!1)},Ie=()=>{if(!At.trim())return;const Be=At.trim(),Tt={...X[ue],requiresTraining:pe},kt={...X};if(Be!==ue){if(kt[Be]){alert("An item with this name already exists.");return}delete kt[ue],kt[Be]=Tt}else kt[Be]=Tt;ee(kt),Je(null)},Kt=async()=>{ie(!0);try{await jv($r(wn,"settings","inventory_v2"),X),L(X),alert("Inventory matrix updated.")}catch(Be){console.error("Error:",Be),alert("Save failed.")}ie(!1)},zn={film:[],photo:[],culinary:[],general:[]};return Object.entries(X).forEach(([Be,qe])=>{zn[qe.category]?zn[qe.category].push({name:Be,...qe}):zn.general.push({name:Be,...qe})}),p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6 flex justify-between items-center",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[p.jsx(v_,{className:"text-amber-400"})," Inventory Matrix"]})}),p.jsxs("button",{onClick:Kt,disabled:ce,className:"bg-amber-600 hover:bg-amber-500 text-slate-900 px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50 shadow-[0_0_15px_rgba(245,158,11,0.3)]",children:[ce?p.jsx(hS,{className:"animate-spin",size:18}):p.jsx(Cc,{size:18})," ",ce?"Processing...":"Save Changes"]})]}),p.jsxs("div",{className:"p-6 bg-slate-900/30 border-b border-slate-800",children:[p.jsx("h3",{className:"text-sm font-mono text-cyan-500 uppercase mb-3",children:"Add New Asset"}),p.jsxs("form",{onSubmit:Pe,className:"flex flex-col md:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Item Name"}),p.jsx("input",{type:"text",value:N,onChange:Be=>P(Be.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",placeholder:"e.g. GoPro Hero 10",required:!0})]}),p.jsxs("div",{className:"w-24",children:[p.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Count"}),p.jsx("input",{type:"number",min:"0",value:J,onChange:Be=>W(Be.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none"})]}),p.jsxs("div",{className:"w-32",children:[p.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Category"}),p.jsxs("select",{value:le,onChange:Be=>ge(Be.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",children:[p.jsx("option",{value:"film",children:"Film"}),p.jsx("option",{value:"photo",children:"Photo"}),p.jsx("option",{value:"culinary",children:"Culinary"}),p.jsx("option",{value:"general",children:"General"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[p.jsx("input",{type:"checkbox",checked:be,onChange:Be=>ye(Be.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-slate-950 text-cyan-500 focus:ring-cyan-500"}),p.jsx("label",{className:"text-sm text-slate-400",children:"Training Req."})]}),p.jsxs("button",{type:"submit",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded font-medium flex items-center gap-1",children:[p.jsx(uS,{size:16})," Add"]})]})]}),p.jsx("div",{className:"p-6 space-y-8",children:Object.entries(zn).map(([Be,qe])=>p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-white capitalize mb-4 border-b border-slate-800 pb-2 text-emerald-400",children:[Be," Inventory"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:qe.map(Tt=>p.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg border border-slate-700 flex justify-between items-center hover:border-slate-600 transition-colors",children:[ue===Tt.name?p.jsxs("div",{className:"flex-1 flex items-center gap-2 mr-2",children:[p.jsx("input",{type:"text",value:At,onChange:kt=>_t(kt.target.value),className:"flex-1 bg-slate-950 border border-cyan-500 rounded p-1 text-white text-sm outline-none",autoFocus:!0}),p.jsxs("label",{className:"flex items-center gap-1 text-xs text-slate-400",children:[p.jsx("input",{type:"checkbox",checked:pe,onChange:kt=>he(kt.target.checked)})," Train"]}),p.jsx("button",{onClick:Ie,className:"text-green-500 hover:text-green-400 p-1",children:p.jsx(d_,{size:18})}),p.jsx("button",{onClick:Ae,className:"text-red-500 hover:text-red-400 p-1",children:p.jsx(Ic,{size:18})})]}):p.jsxs("div",{className:"flex-1 mr-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-mono text-slate-300 text-sm block truncate",children:Tt.name}),Tt.requiresTraining&&p.jsx("span",{className:"text-[10px] text-red-400 uppercase bg-red-900/20 px-1 rounded",children:"Training Req."})]}),p.jsx("button",{onClick:()=>et(Tt.name,Tt),className:"text-slate-600 hover:text-cyan-400 p-1 ml-2",children:p.jsx(lS,{size:14})})]}),p.jsxs("div",{className:"flex items-center gap-2 border-l border-slate-700 pl-3",children:[p.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Qty"}),p.jsx("input",{type:"number",min:"0",value:Tt.count,onChange:kt=>Ee(Tt.name,"count",parseInt(kt.target.value)),className:"w-14 p-1 bg-slate-950 border border-slate-700 rounded text-center font-bold text-cyan-400 focus:border-cyan-500 outline-none text-sm"}),p.jsx("button",{onClick:()=>xe(Tt.name),className:"text-slate-600 hover:text-red-500 transition-colors ml-1",children:p.jsx(b_,{size:16})})]})]},Tt.name))})]},Be))})]})}function $e({currentUser:de,adminMode:L,setSubmitted:X,onCancel:ee}){const[ce,ie]=we.useState("bug"),[N,P]=we.useState(""),[J,W]=we.useState([]);we.useEffect(()=>{if(L){const ye=$a(er(wn,"feedback"),Ov("createdAt","desc")),ue=Lc(ye,Je=>{const At=Je.docs.map(_t=>({id:_t.id,..._t.data()}));W(At)});return()=>ue()}},[L]);const le=async ye=>{if(ye.preventDefault(),!!N.trim())try{const ue={type:ce,message:N,email:de?.email||"Anonymous",fullName:de?.displayName||"Guest",createdAt:new Date,status:"Open"};await Pv(er(wn,"feedback"),ue),ce==="bug"&&um({to_name:"Admin",to_email:"erivers@salpointe.org",subject:"[BUG REPORT] CTE Hub Issue",title:"Bug Report",status:"Urgent",message:`User ${ue.fullName} reported a bug:

${N}`}),alert("Feedback received."),P(""),L||ee()}catch(ue){console.error(ue),alert("Error sending feedback.")}},ge=async ye=>{window.confirm("Mark Resolved?")&&await Lv($r(wn,"feedback",ye),{status:"Resolved"})},be=async ye=>{window.confirm("Delete feedback?")&&await Uv($r(wn,"feedback",ye))};return p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("div",{className:"p-3 rounded-xl bg-cyan-950/30 border border-cyan-500/30 text-cyan-400",children:p.jsx(y_,{size:28})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:"System Feedback"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Report glitches or suggest system upgrades."})]})]}),p.jsxs("form",{onSubmit:le,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>ie("bug"),className:`p-4 rounded-xl border text-left transition-all ${ce==="bug"?"bg-red-950/40 border-red-500 text-red-400":"bg-slate-950 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[p.jsx(f_,{size:18})," Bug Report"]}),p.jsx("p",{className:"text-xs opacity-80",children:"Something is broken."})]}),p.jsxs("button",{type:"button",onClick:()=>ie("feature"),className:`p-4 rounded-xl border text-left transition-all ${ce==="feature"?"bg-amber-950/40 border-amber-500 text-amber-400":"bg-slate-950 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[p.jsx(p_,{size:18})," Feature Idea"]}),p.jsx("p",{className:"text-xs opacity-80",children:'"It would be cool if..."'})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Details"}),p.jsx("textarea",{value:N,onChange:ye=>P(ye.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-slate-200 focus:border-cyan-500 outline-none h-32",placeholder:"Describe...",required:!0})]}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx("button",{type:"button",onClick:ee,className:"px-6 py-2 rounded-lg border border-slate-700 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-2 rounded-lg font-bold shadow-lg transition-all",children:"Submit Feedback"})]})]})]}),L&&p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[p.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[p.jsx(Kd,{size:18,className:"text-purple-400"})," Admin Feedback Inbox"]}),p.jsx("div",{className:"space-y-3",children:J.length===0?p.jsx("p",{className:"text-slate-500 text-center py-4",children:"No reports."}):J.map(ye=>p.jsxs("div",{className:"bg-slate-950 border border-slate-800 p-4 rounded-xl flex flex-col sm:flex-row gap-4 justify-between items-start hover:border-slate-700 transition-colors",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ye.type==="bug"?p.jsxs("span",{className:"text-xs font-bold bg-red-900/30 text-red-400 px-2 py-1 rounded flex items-center gap-1",children:[p.jsx(f_,{size:12})," BUG"]}):p.jsxs("span",{className:"text-xs font-bold bg-amber-900/30 text-amber-400 px-2 py-1 rounded flex items-center gap-1",children:[p.jsx(p_,{size:12})," IDEA"]}),ye.status==="Resolved"&&p.jsx("span",{className:"text-xs font-bold bg-green-900/30 text-green-400 px-2 py-1 rounded",children:"RESOLVED"}),p.jsx("span",{className:"text-xs text-slate-500 ml-2",children:ye.fullName})]}),p.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mt-2",children:ye.message})]}),p.jsxs("div",{className:"flex gap-2",children:[ye.status!=="Resolved"&&p.jsx("button",{onClick:()=>ge(ye.id),className:"p-2 bg-green-900/20 text-green-500 rounded-lg hover:bg-green-900/40",title:"Mark Resolved",children:p.jsx(vS,{size:16})}),p.jsx("button",{onClick:()=>be(ye.id),className:"p-2 bg-slate-800 text-slate-500 rounded-lg hover:bg-red-900/20 hover:text-red-500",title:"Delete",children:p.jsx(b_,{size:16})})]})]},ye.id))})]})]})}function I(){const[de,L]=we.useState(!0),[X,ee]=we.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});we.useEffect(()=>{const ie=$a(er(wn,"requests")),N=Lc(ie,P=>{let J=0,W=0,le=0,ge={},be={};P.forEach(ue=>{const Je=ue.data();J++,(Je.status==="Approved"||Je.status==="Completed")&&W++,Je.status==="Pending Review"&&le++,ge[Je.dept]=(ge[Je.dept]||0)+1,Je.equipment&&(Array.isArray(Je.equipment)?Je.equipment:[Je.equipment]).forEach(_t=>{be[_t]=(be[_t]||0)+1})});const ye=Object.entries(be).sort(([,ue],[,Je])=>Je-ue).slice(0,5);ee({total:J,approved:W,pending:le,deptCounts:ge,topEquipment:ye}),L(!1)});return()=>N()},[]);const ce=X.total>0?Math.round(X.approved/X.total*100):0;return p.jsx("div",{className:"space-y-6 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[p.jsx(TS,{className:"text-emerald-400"})," Data Analytics"]})}),p.jsxs("div",{className:"bg-slate-800 border border-slate-700 px-4 py-2 rounded-lg text-cyan-400 font-mono text-sm",children:["Total Requests: ",p.jsx("strong",{children:X.total})]})]}),de?p.jsx("div",{className:"text-center py-12 text-slate-500 font-mono",children:"CALCULATING..."}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-emerald-950/30 rounded-xl p-5 border border-emerald-500/20",children:[p.jsx("h4",{className:"text-emerald-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Approval Rate"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsxs("span",{className:"text-4xl font-bold text-emerald-400 font-mono",children:[ce,"%"]})})]}),p.jsxs("div",{className:"bg-blue-950/30 rounded-xl p-5 border border-blue-500/20",children:[p.jsx("h4",{className:"text-blue-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Completed"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsx("span",{className:"text-4xl font-bold text-blue-400 font-mono",children:X.approved})})]}),p.jsxs("div",{className:"bg-amber-950/30 rounded-xl p-5 border border-amber-500/20",children:[p.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Pending"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsx("span",{className:"text-4xl font-bold text-amber-400 font-mono",children:X.pending})})]}),p.jsxs("div",{className:"md:col-span-2 bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[p.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(jx,{size:16,className:"text-purple-400"})," Requests by Department"]}),p.jsx("div",{className:"space-y-4",children:Object.entries(X.deptCounts).sort(([,ie],[,N])=>N-ie).map(([ie,N])=>{const P=N/X.total*100;return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-xs mb-2 font-mono",children:[p.jsx("span",{className:"text-slate-400",children:ie}),p.jsx("span",{className:"text-cyan-400",children:N})]}),p.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:p.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${P}%`}})})]},ie)})})]}),p.jsxs("div",{className:"bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[p.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(Qd,{size:16,className:"text-pink-400"})," Top Gear"]}),p.jsx("ul",{className:"space-y-3",children:X.topEquipment.map(([ie,N],P)=>p.jsxs("li",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 text-cyan-400 flex items-center justify-center text-xs font-mono border border-slate-700",children:P+1}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:ie.replace(" *","")}),p.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[N," uses"]})]})]},ie))})]})]})]})})}function A({adminMode:de,setAdminMode:L,ALLOWED_ADMINS:X}){const[ee,ce]=we.useState([]),[ie,N]=we.useState("all"),[P,J]=we.useState(!0),[W,le]=we.useState(null),[ge,be]=we.useState("");we.useEffect(()=>{const pe=$a(er(wn,"requests"),Ov("createdAt","desc")),he=Lc(pe,Ee=>{const xe=Ee.docs.map(Pe=>({id:Pe.id,...Pe.data(),formattedDate:Pe.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));ce(xe),J(!1)});return()=>he()},[]);const ye=async(pe,he)=>{window.confirm(`Confirm status change to: ${he}?`)&&(await Lv($r(wn,"requests",pe.id),{status:he}),W&&W.id===pe.id&&le(Ee=>({...Ee,status:he})),um({to_name:pe.fullName,to_email:pe.email,subject:`Request Update: ${pe.title}`,title:pe.title,status:he,message:`Status updated to ${he}.`}))},ue=async pe=>{window.confirm("Delete this record permanently?")&&(await Uv($r(wn,"requests",pe)),W&&W.id===pe&&le(null))},Je=()=>{const pe=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],he=ee.map(et=>[et.displayId,et.dept,`"${et.title}"`,et.fullName,et.email,et.formattedDate,et.status,`"${(et.details||et.brief||et.description||"").replace(/"/g,'""')}"`]),Ee="data:text/csv;charset=utf-8,"+[pe.join(","),...he.map(et=>et.join(","))].join(`
`),xe=encodeURI(Ee),Pe=document.createElement("a");Pe.setAttribute("href",xe),Pe.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe)},At=ee.filter(pe=>{const he=ie==="all"?!0:pe.dept?.toLowerCase().includes(ie.toLowerCase()),Ee=ge.toLowerCase(),xe=pe.title?.toLowerCase().includes(Ee)||pe.fullName?.toLowerCase().includes(Ee)||pe.displayId?.toLowerCase().includes(Ee)||pe.email?.toLowerCase().includes(Ee);return he&&xe}),_t=pe=>{switch(pe){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[W&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),p.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[p.jsxs("span",{children:["ID: ",W.displayId||"N/A"]}),p.jsxs("span",{className:"opacity-50",children:["| Ref: ",W.id]})]})]}),p.jsx("button",{onClick:()=>le(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:p.jsx(Ic,{size:20})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),p.jsx("p",{className:"font-semibold text-white capitalize",children:W.dept})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${_t(W.status)}`,children:W.status})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),p.jsx("p",{className:"text-slate-200",children:W.fullName})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),p.jsx("p",{className:"text-slate-200 font-mono text-sm",children:W.email})]})]}),p.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[p.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(Fd,{size:16,className:"text-cyan-500"})," Mission Details"]}),p.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(W).map(([pe,he])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(pe)?null:Array.isArray(he)?p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:pe}),p.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:he.map((Ee,xe)=>p.jsx("li",{children:Ee},xe))})]},pe):p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:pe.replace(/([A-Z])/g," $1").trim()}),p.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:he})]},pe))})]}),de&&p.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>ye(W,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),p.jsx("button",{onClick:()=>ye(W,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),p.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[p.jsx(Kd,{className:"text-purple-400"})," Request Log"]}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[p.jsxs("div",{className:"relative flex-1 lg:w-64",children:[p.jsx(mS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),p.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:ge,onChange:pe=>be(pe.target.value)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:ie,onChange:pe=>N(pe.target.value),children:[p.jsx("option",{value:"all",children:"All Sectors"}),p.jsx("option",{value:"film",children:"Film"}),p.jsx("option",{value:"graphic",children:"Graphic"}),p.jsx("option",{value:"business",children:"Business"}),p.jsx("option",{value:"culinary",children:"Culinary"}),p.jsx("option",{value:"photo",children:"Photo"})]}),de&&p.jsxs("button",{onClick:Je,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[p.jsx(Gx,{size:16})," ",p.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:P?p.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):p.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[p.jsx("th",{className:"p-4",children:"ID Code"}),p.jsx("th",{className:"p-4",children:"Sector"}),p.jsx("th",{className:"p-4",children:"Objective"}),p.jsx("th",{className:"p-4",children:"Agent"}),p.jsx("th",{className:"p-4",children:"Status"}),p.jsx("th",{className:"p-4",children:"View"}),de&&p.jsx("th",{className:"p-4",children:"Override"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800",children:At.map(pe=>p.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[p.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:pe.displayId}),p.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:pe.dept}),p.jsx("td",{className:"p-4 text-white font-medium text-sm",children:pe.title}),p.jsx("td",{className:"p-4 text-slate-400 text-sm",children:pe.fullName}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${_t(pe.status)}`,children:pe.status})}),p.jsx("td",{className:"p-4",children:p.jsx("button",{onClick:()=>le(pe),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:p.jsx(Kx,{size:20})})}),de&&p.jsxs("td",{className:"p-4 flex gap-2",children:[p.jsx("button",{onClick:()=>ye(pe,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:p.jsx(d_,{size:16})}),p.jsx("button",{onClick:()=>ye(pe,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:p.jsx(Ic,{size:16})}),p.jsx("button",{onClick:()=>ue(pe.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:p.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},pe.id))})]})})]})}function w({title:de,icon:L,colorClass:X,children:ee,setSubmitted:ce,initialData:ie={},onCancel:N,currentUser:P,blackouts:J=[]}){const W=we.useRef(null),le=Yr(de),[ge,be]=we.useState(!1),ye=()=>{const he=new FormData(W.current),Ee={};for(const[xe,Pe]of he.entries())Ee[xe]?(Array.isArray(Ee[xe])||(Ee[xe]=[Ee[xe]]),Ee[xe].push(Pe)):Ee[xe]=Pe;return localStorage.setItem(le,JSON.stringify(Ee)),!0},ue=he=>{he.preventDefault(),ye(),alert("Draft secured in local cache.")},Je=()=>{be(!0)},At=()=>{ye(),be(!1),N()},_t=()=>{localStorage.removeItem(le),be(!1),N()},pe=async he=>{he.preventDefault();const Ee=new FormData(he.target),xe={};for(const[Ae,Ie]of Ee.entries())xe[Ae]?(Array.isArray(xe[Ae])||(xe[Ae]=[xe[Ae]]),xe[Ae].push(Ie)):xe[Ae]=Ie;const Pe=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let et=!1;if(Pe.forEach(Ae=>{xe[Ae]&&J.includes(xe[Ae])&&(et=!0)}),et){alert("Date blocked by admin protocol. Select alternative.");return}try{const Ae=Date.now().toString().slice(-4),Ie=Math.floor(1e3+Math.random()*9e3),Kt=`REQ-${Ae}-${Ie}`;await Pv(er(wn,"requests"),{...xe,dept:de,displayId:Kt,status:"Pending Review",createdAt:new Date,title:xe.requestName||xe.eventName||xe.projectType||xe.businessName||"New Request"}),um({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${xe.requestName}`,title:xe.requestName,status:"Pending Review",message:`New request (${Kt}) from ${xe.fullName}.`}),localStorage.removeItem(le),ce(!0)}catch(Ae){console.error(Ae),alert("Transmission error.")}};return p.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[ge&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:p.jsx(SS,{size:32})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),p.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("button",{onClick:At,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[p.jsx(Cc,{size:18})," Secure Draft & Exit"]}),p.jsx("button",{onClick:_t,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),p.jsx("button",{onClick:()=>be(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),p.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),p.jsxs("div",{className:"p-5 md:p-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${X.replace("bg-","text-")}`,children:p.jsx(L,{size:28})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[de," Protocol"]}),p.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),p.jsx("button",{type:"button",onClick:Je,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:p.jsx(Ic,{size:24})})]}),p.jsxs("form",{ref:W,onSubmit:pe,children:[p.jsx(rt,{initialData:ie,currentUser:P}),ee,p.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[p.jsx("button",{type:"button",onClick:Je,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),p.jsxs("button",{type:"button",onClick:ue,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[p.jsx(Cc,{size:18})," Save Draft"]}),p.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function V({setSubmitted:de,onCancel:L,currentUser:X,inventory:ee,blackouts:ce}){const ie="Film",N=Yr(ie),P=JSON.parse(localStorage.getItem(N)||"{}"),[J,W]=we.useState(P.requestType||"checkout"),[le,ge]=we.useState({}),[be,ye]=we.useState(!1),[ue,Je]=we.useState({start:P.checkoutDate||"",end:P.returnDate||""}),At=he=>{const Ee={...ue,[he.target.name==="checkoutDate"?"start":"end"]:he.target.value};Je(Ee)};we.useEffect(()=>{(async()=>{if(!ue.start||!ue.end||J!=="checkout"){ye(!1);return}ye(!0);const Ee=$a(er(wn,"requests"),jc("dept","==","Film"),jc("requestType","==","checkout")),xe=await kv(Ee),Pe={};xe.forEach(Ae=>{const Ie=Ae.data();if(Ie.status==="Denied"||Ie.status==="Completed")return;const Kt=Ie.checkoutDate,zn=Ie.returnDate;Kt<=ue.end&&zn>=ue.start&&Ie.equipment&&(Array.isArray(Ie.equipment)?Ie.equipment:[Ie.equipment]).forEach(qe=>{Pe[qe]=(Pe[qe]||0)+1})});const et={};Object.keys(ee).forEach(Ae=>{(ee[Ae].category==="film"||ee[Ae].category==="general")&&(et[Ae]=Math.max(0,ee[Ae].count-(Pe[Ae]||0)))}),ge(et)})()},[ue,J,ee]);const _t=ue.start&&ue.end&&ue.start===ue.end,pe=Object.entries(ee).filter(([he,Ee])=>Ee.category==="film"||Ee.category==="general").sort((he,Ee)=>he[0].localeCompare(Ee[0]));return p.jsxs(w,{title:ie,icon:T_,colorClass:"bg-blue-600",setSubmitted:de,initialData:P,onCancel:L,currentUser:X,blackouts:ce,children:[p.jsx("input",{type:"hidden",name:"requestType",value:J}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>W("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${J==="checkout"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(h_,{size:24}),p.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]}),p.jsxs("button",{type:"button",onClick:()=>W("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${J==="service"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(sS,{size:24}),p.jsx("span",{className:"font-bold",children:"Production Team"})]})]})]}),J==="checkout"?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 text-sm text-blue-200 flex items-start gap-3",children:[p.jsx(m_,{className:"shrink-0 mt-0.5 text-blue-400",size:16}),p.jsxs("p",{children:[p.jsx("strong",{children:"Protocol:"})," Equipment return deadline is 0800 hours the following school day."]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),p.jsx("input",{name:"checkoutDate",defaultValue:P.checkoutDate,onChange:At,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),p.jsx("input",{name:"returnDate",defaultValue:P.returnDate,onChange:At,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),_t&&p.jsxs("div",{className:"animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("label",{className:"block text-xs font-mono text-cyan-400 uppercase mb-1",children:"Specific Duration"}),p.jsxs("select",{name:"durationHours",defaultValue:P.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[p.jsx("option",{value:"",children:"Select Duration..."}),p.jsx("option",{value:"1 Hour",children:"1 Hour"}),p.jsx("option",{value:"2 Hours",children:"2 Hours"}),p.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),p.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:["Select Assets ",p.jsx("span",{className:"text-red-500 ml-2 normal-case tracking-normal",children:"* Certification Required"})]}),be?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:pe.map(([he,Ee])=>{const xe=le[he]!==void 0?le[he]:99,Pe=xe<=0,et=he.replace(" *","").replace("*","");return p.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${Pe?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-cyan-500/50 hover:shadow-[0_0_10px_rgba(8,145,178,0.1)] cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",name:"equipment",value:he,disabled:Pe,defaultChecked:P.equipment?.includes(he),className:"w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[et," ",Ee.requiresTraining&&p.jsx("span",{className:"text-red-400",children:"*"})]}),p.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${Pe?"text-red-500":"text-emerald-500"}`,children:Pe?"OFFLINE / UNAVAILABLE":`${xe} UNITS ACTIVE`})]})]},he)})}):p.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[p.jsx(Gd,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),p.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),p.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[p.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:P.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),p.jsx("input",{name:"startTime",defaultValue:P.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Required"}),p.jsxs("select",{name:"serviceType",defaultValue:P.serviceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[p.jsx("option",{children:"Live Broadcast (Stream)"}),p.jsx("option",{children:"Event Recording (Edited later)"}),p.jsx("option",{children:"Raw Footage Only"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Mission Details"}),p.jsx("textarea",{name:"details",defaultValue:P.details,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none h-24",placeholder:"Describe specific shots, locations, or requirements..."})]})]})]})}function O({setSubmitted:de,onCancel:L,currentUser:X}){const ee="Graphic",ce=Yr(ee),ie=JSON.parse(localStorage.getItem(ce)||"{}");return p.jsx(w,{title:ee,icon:__,colorClass:"bg-purple-600",setSubmitted:de,initialData:ie,onCancel:L,currentUser:X,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Type"}),p.jsxs("select",{name:"projectType",defaultValue:ie.projectType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",children:[p.jsx("option",{children:"Event Poster / Flyer"}),p.jsx("option",{children:"Logo Design"}),p.jsx("option",{children:"Website Design"}),p.jsx("option",{children:"T-Shirt / Merch"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dimensions"}),p.jsx("input",{name:"dimensions",defaultValue:ie.dimensions,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",placeholder:"e.g., 11x17"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Deadline"}),p.jsx("input",{name:"deadline",defaultValue:ie.deadline,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Creative Brief"}),p.jsx("textarea",{name:"brief",defaultValue:ie.brief,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function j({setSubmitted:de,onCancel:L,currentUser:X}){const ee="Business",ce=Yr(ee),ie=JSON.parse(localStorage.getItem(ce)||"{}");return p.jsx(w,{title:ee,icon:Fd,colorClass:"bg-emerald-600",setSubmitted:de,initialData:ie,onCancel:L,currentUser:X,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Support Required"}),p.jsxs("select",{name:"assistanceType",defaultValue:ie.assistanceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none",children:[p.jsx("option",{children:"Business Plan Review"}),p.jsx("option",{children:"Financial Modeling Help"}),p.jsx("option",{children:"Marketing Strategy"}),p.jsx("option",{children:"General Mentorship"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Concept Overview"}),p.jsx("textarea",{name:"description",defaultValue:ie.description,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none h-40",placeholder:"Briefly describe your product or service...",required:!0})]})]})})}function R({setSubmitted:de,onCancel:L,currentUser:X}){const ee="Culinary",ce=Yr(ee),ie=JSON.parse(localStorage.getItem(ce)||"{}");return p.jsx(w,{title:ee,icon:E_,colorClass:"bg-orange-500",setSubmitted:de,initialData:ie,onCancel:L,currentUser:X,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:ie.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Serve Time"}),p.jsx("input",{name:"serveTime",defaultValue:ie.serveTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Guest Count"}),p.jsx("input",{name:"guestCount",defaultValue:ie.guestCount,type:"number",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",min:"1",placeholder:"50",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Style"}),p.jsxs("select",{name:"serviceStyle",defaultValue:ie.serviceStyle,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",children:[p.jsx("option",{children:"Buffet Style"}),p.jsx("option",{children:"Boxed Lunches"}),p.jsx("option",{children:"Plated Service"}),p.jsx("option",{children:"Appetizers"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dietary Requirements"}),p.jsx("textarea",{name:"menuNotes",defaultValue:ie.menuNotes,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none h-24",placeholder:"Preferences, allergies, restrictions...",required:!0})]})]})})}function gt({setSubmitted:de,onCancel:L,currentUser:X,inventory:ee,blackouts:ce}){const ie="Photo",N=Yr(ie),P=JSON.parse(localStorage.getItem(N)||"{}"),[J,W]=we.useState(P.requestType||"service"),[le,ge]=we.useState({}),[be,ye]=we.useState(!1),[ue,Je]=we.useState({start:P.pickupDate||"",end:P.returnDate||""}),At=he=>{const Ee={...ue,[he.target.name==="pickupDate"?"start":"end"]:he.target.value};Je(Ee)};we.useEffect(()=>{(async()=>{if(!ue.start||!ue.end||J!=="checkout"){ye(!1);return}ye(!0);const Ee=$a(er(wn,"requests"),jc("dept","==","Photo"),jc("requestType","==","checkout")),xe=await kv(Ee),Pe={};xe.forEach(Ae=>{const Ie=Ae.data();if(Ie.status==="Denied"||Ie.status==="Completed")return;const Kt=Ie.pickupDate,zn=Ie.returnDate;Kt<=ue.end&&zn>=ue.start&&Ie.equipment&&(Array.isArray(Ie.equipment)?Ie.equipment:[Ie.equipment]).forEach(qe=>{Pe[qe]=(Pe[qe]||0)+1})});const et={};Object.keys(ee).forEach(Ae=>{const Ie=ee[Ae].count,Kt=Pe[Ae]||0;et[Ae]=Math.max(0,Ie-Kt)}),ge(et)})()},[ue,J,ee]);const _t=ue.start&&ue.end&&ue.start===ue.end,pe=Object.entries(ee).filter(([he,Ee])=>Ee.category==="photo"||Ee.category==="general").sort((he,Ee)=>he[0].localeCompare(Ee[0]));return p.jsxs(w,{title:ie,icon:Qd,colorClass:"bg-pink-600",setSubmitted:de,initialData:P,onCancel:L,currentUser:X,blackouts:ce,children:[p.jsx("input",{type:"hidden",name:"requestType",value:J}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>W("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${J==="service"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(NS,{size:24}),p.jsx("span",{className:"font-bold",children:"Event Coverage"})]}),p.jsxs("button",{type:"button",onClick:()=>W("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${J==="checkout"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(h_,{size:24}),p.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]})]})]}),J==="checkout"?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-pink-900/20 p-4 rounded-lg border border-pink-500/30 text-sm text-pink-200 flex items-start gap-3",children:[p.jsx(m_,{className:"shrink-0 mt-0.5 text-pink-400",size:16}),p.jsxs("p",{children:[p.jsx("strong",{children:"Requirement:"})," Advanced Photo I certification required for DSLR bodies."]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Pickup Date"}),p.jsx("input",{name:"pickupDate",defaultValue:P.pickupDate,onChange:At,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),p.jsx("input",{name:"returnDate",defaultValue:P.returnDate,onChange:At,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),_t&&p.jsxs("div",{className:"mb-4 animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("label",{className:"block text-xs font-mono text-pink-400 uppercase mb-1",children:"Specific Duration"}),p.jsxs("select",{name:"durationHours",defaultValue:P.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",children:[p.jsx("option",{value:"",children:"Select Duration..."}),p.jsx("option",{value:"1 Hour",children:"1 Hour"}),p.jsx("option",{value:"2 Hours",children:"2 Hours"}),p.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),p.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:"Select Assets"}),be?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:pe.map(([he,Ee])=>{const xe=le[he]!==void 0?le[he]:99,Pe=xe<=0,et=he.replace(" *","").replace("*","");return p.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${Pe?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-pink-500/50 hover:shadow-[0_0_10px_rgba(236,72,153,0.1)] cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",name:"equipment",value:he,disabled:Pe,defaultChecked:P.equipment?.includes(he),className:"w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[et," ",Ee.requiresTraining&&p.jsx("span",{className:"text-red-400",children:"*"})]}),p.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${Pe?"text-red-500":"text-emerald-500"}`,children:Pe?"OFFLINE / UNAVAILABLE":`${xe} UNITS ACTIVE`})]})]},he)})}):p.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[p.jsx(Gd,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),p.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),p.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[p.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:P.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),p.jsx("input",{name:"startTime",defaultValue:P.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Location"}),p.jsx("input",{name:"location",defaultValue:P.location,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",placeholder:"e.g., Gym"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Specific Shots"}),p.jsx("textarea",{name:"shotList",defaultValue:P.shotList,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none h-24",placeholder:"Key moments..."})]})]})]})}};bx.createRoot(document.getElementById("root")).render(p.jsx(we.StrictMode,{children:p.jsx(FI,{})}));
