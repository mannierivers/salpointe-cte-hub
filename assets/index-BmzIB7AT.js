(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Sd={exports:{}},go={};var z_;function P1(){if(z_)return go;z_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return go.Fragment=e,go.jsx=i,go.jsxs=i,go}var q_;function z1(){return q_||(q_=1,Sd.exports=P1()),Sd.exports}var E=z1(),wd={exports:{}},Se={};var B_;function q1(){if(B_)return Se;B_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function K(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,te={};function ge(D,j,G){this.props=D,this.context=j,this.refs=te,this.updater=G||ee}ge.prototype.isReactComponent={},ge.prototype.setState=function(D,j){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,j,"setState")},ge.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function be(){}be.prototype=ge.prototype;function _e(D,j,G){this.props=D,this.context=j,this.refs=te,this.updater=G||ee}var Fe=_e.prototype=new be;Fe.constructor=_e,ie(Fe,ge.prototype),Fe.isPureReactComponent=!0;var fe=Array.isArray;function ue(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(D,j,G){var W=G.ref;return{$$typeof:s,type:D,key:j,ref:W!==void 0?W:null,props:G}}function V(D,j){return R(D.type,j,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function k(D){var j={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(G){return j[G]})}var C=/\/+/g;function Ge(D,j){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):j.toString(36)}function Ae(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ue,ue):(D.status="pending",D.then(function(j){D.status==="pending"&&(D.status="fulfilled",D.value=j)},function(j){D.status==="pending"&&(D.status="rejected",D.reason=j)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,j,G,W,oe){var ce=typeof D;(ce==="undefined"||ce==="boolean")&&(D=null);var de=!1;if(D===null)de=!0;else switch(ce){case"bigint":case"string":case"number":de=!0;break;case"object":switch(D.$$typeof){case s:case e:de=!0;break;case A:return de=D._init,F(de(D._payload),j,G,W,oe)}}if(de)return oe=oe(D),de=W===""?"."+Ge(D,0):W,fe(oe)?(G="",de!=null&&(G=de.replace(C,"$&/")+"/"),F(oe,j,G,"",function(qn){return qn})):oe!=null&&(N(oe)&&(oe=V(oe,G+(oe.key==null||D&&D.key===oe.key?"":(""+oe.key).replace(C,"$&/")+"/")+de)),j.push(oe)),1;de=0;var lt=W===""?".":W+":";if(fe(D))for(var $e=0;$e<D.length;$e++)W=D[$e],ce=lt+Ge(W,$e),de+=F(W,j,G,ce,oe);else if($e=K(D),typeof $e=="function")for(D=$e.call(D),$e=0;!(W=D.next()).done;)W=W.value,ce=lt+Ge(W,$e++),de+=F(W,j,G,ce,oe);else if(ce==="object"){if(typeof D.then=="function")return F(Ae(D),j,G,W,oe);throw j=String(D),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return de}function J(D,j,G){if(D==null)return D;var W=[],oe=0;return F(D,W,"","",function(ce){return j.call(G,ce,oe++)}),W}function se(D){if(D._status===-1){var j=D._result;j=j(),j.then(function(G){(D._status===0||D._status===-1)&&(D._status=1,D._result=G)},function(G){(D._status===0||D._status===-1)&&(D._status=2,D._result=G)}),D._status===-1&&(D._status=0,D._result=j)}if(D._status===1)return D._result.default;throw D._result}var Re=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ue={map:J,forEach:function(D,j,G){J(D,function(){j.apply(this,arguments)},G)},count:function(D){var j=0;return J(D,function(){j++}),j},toArray:function(D){return J(D,function(j){return j})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Se.Activity=w,Se.Children=Ue,Se.Component=ge,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=_e,Se.StrictMode=a,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},Se.cache=function(D){return function(){return D.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(D,j,G){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=ie({},D.props),oe=D.key;if(j!=null)for(ce in j.key!==void 0&&(oe=""+j.key),j)!S.call(j,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&j.ref===void 0||(W[ce]=j[ce]);var ce=arguments.length-2;if(ce===1)W.children=G;else if(1<ce){for(var de=Array(ce),lt=0;lt<ce;lt++)de[lt]=arguments[lt+2];W.children=de}return R(D.type,oe,W)},Se.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Se.createElement=function(D,j,G){var W,oe={},ce=null;if(j!=null)for(W in j.key!==void 0&&(ce=""+j.key),j)S.call(j,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(oe[W]=j[W]);var de=arguments.length-2;if(de===1)oe.children=G;else if(1<de){for(var lt=Array(de),$e=0;$e<de;$e++)lt[$e]=arguments[$e+2];oe.children=lt}if(D&&D.defaultProps)for(W in de=D.defaultProps,de)oe[W]===void 0&&(oe[W]=de[W]);return R(D,ce,oe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:g,render:D}},Se.isValidElement=N,Se.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:se}},Se.memo=function(D,j){return{$$typeof:_,type:D,compare:j===void 0?null:j}},Se.startTransition=function(D){var j=x.T,G={};x.T=G;try{var W=D(),oe=x.S;oe!==null&&oe(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ue,Re)}catch(ce){Re(ce)}finally{j!==null&&G.types!==null&&(j.types=G.types),x.T=j}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(D){return x.H.use(D)},Se.useActionState=function(D,j,G){return x.H.useActionState(D,j,G)},Se.useCallback=function(D,j){return x.H.useCallback(D,j)},Se.useContext=function(D){return x.H.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D,j){return x.H.useDeferredValue(D,j)},Se.useEffect=function(D,j){return x.H.useEffect(D,j)},Se.useEffectEvent=function(D){return x.H.useEffectEvent(D)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(D,j,G){return x.H.useImperativeHandle(D,j,G)},Se.useInsertionEffect=function(D,j){return x.H.useInsertionEffect(D,j)},Se.useLayoutEffect=function(D,j){return x.H.useLayoutEffect(D,j)},Se.useMemo=function(D,j){return x.H.useMemo(D,j)},Se.useOptimistic=function(D,j){return x.H.useOptimistic(D,j)},Se.useReducer=function(D,j,G){return x.H.useReducer(D,j,G)},Se.useRef=function(D){return x.H.useRef(D)},Se.useState=function(D){return x.H.useState(D)},Se.useSyncExternalStore=function(D,j,G){return x.H.useSyncExternalStore(D,j,G)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.0",Se}var H_;function bm(){return H_||(H_=1,wd.exports=q1()),wd.exports}var ct=bm(),Rd={exports:{}},yo={},xd={exports:{}},Cd={};var F_;function B1(){return F_||(F_=1,(function(s){function e(F,J){var se=F.length;F.push(J);e:for(;0<se;){var Re=se-1>>>1,Ue=F[Re];if(0<o(Ue,J))F[Re]=J,F[se]=Ue,se=Re;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var J=F[0],se=F.pop();if(se!==J){F[0]=se;e:for(var Re=0,Ue=F.length,D=Ue>>>1;Re<D;){var j=2*(Re+1)-1,G=F[j],W=j+1,oe=F[W];if(0>o(G,se))W<Ue&&0>o(oe,G)?(F[Re]=oe,F[W]=se,Re=W):(F[Re]=G,F[j]=se,Re=j);else if(W<Ue&&0>o(oe,se))F[Re]=oe,F[W]=se,Re=W;else break e}}return J}function o(F,J){var se=F.sortIndex-J.sortIndex;return se!==0?se:F.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,w=null,M=3,K=!1,ee=!1,ie=!1,te=!1,ge=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Fe(F){for(var J=i(_);J!==null;){if(J.callback===null)a(_);else if(J.startTime<=F)a(_),J.sortIndex=J.expirationTime,e(y,J);else break;J=i(_)}}function fe(F){if(ie=!1,Fe(F),!ee)if(i(y)!==null)ee=!0,ue||(ue=!0,k());else{var J=i(_);J!==null&&Ae(fe,J.startTime-F)}}var ue=!1,x=-1,S=5,R=-1;function V(){return te?!0:!(s.unstable_now()-R<S)}function N(){if(te=!1,ue){var F=s.unstable_now();R=F;var J=!0;try{e:{ee=!1,ie&&(ie=!1,be(x),x=-1),K=!0;var se=M;try{t:{for(Fe(F),w=i(y);w!==null&&!(w.expirationTime>F&&V());){var Re=w.callback;if(typeof Re=="function"){w.callback=null,M=w.priorityLevel;var Ue=Re(w.expirationTime<=F);if(F=s.unstable_now(),typeof Ue=="function"){w.callback=Ue,Fe(F),J=!0;break t}w===i(y)&&a(y),Fe(F)}else a(y);w=i(y)}if(w!==null)J=!0;else{var D=i(_);D!==null&&Ae(fe,D.startTime-F),J=!1}}break e}finally{w=null,M=se,K=!1}J=void 0}}finally{J?k():ue=!1}}}var k;if(typeof _e=="function")k=function(){_e(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ge=C.port2;C.port1.onmessage=N,k=function(){Ge.postMessage(null)}}else k=function(){ge(N,0)};function Ae(F,J){x=ge(function(){F(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var J=3;break;default:J=M}var se=M;M=J;try{return F()}finally{M=se}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=M;M=F;try{return J()}finally{M=se}},s.unstable_scheduleCallback=function(F,J,se){var Re=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Re+se:Re):se=Re,F){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=se+Ue,F={id:A++,callback:J,priorityLevel:F,startTime:se,expirationTime:Ue,sortIndex:-1},se>Re?(F.sortIndex=se,e(_,F),i(y)===null&&F===i(_)&&(ie?(be(x),x=-1):ie=!0,Ae(fe,se-Re))):(F.sortIndex=Ue,e(y,F),ee||K||(ee=!0,ue||(ue=!0,k()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var J=M;return function(){var se=M;M=J;try{return F.apply(this,arguments)}finally{M=se}}}})(Cd)),Cd}var G_;function H1(){return G_||(G_=1,xd.exports=B1()),xd.exports}var Id={exports:{}},Zt={};var Q_;function F1(){if(Q_)return Zt;Q_=1;var s=bm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Zt.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,A)},Zt.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Zt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Zt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Zt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:K}):A==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Zt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Zt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Zt.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Zt.requestFormReset=function(y){a.d.r(y)},Zt.unstable_batchedUpdates=function(y,_){return y(_)},Zt.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Zt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var K_;function G1(){if(K_)return Id.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Id.exports=F1(),Id.exports}var Y_;function Q1(){if(Y_)return yo;Y_=1;var s=H1(),e=bm(),i=G1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,l=f;break}if(T===l){p=!0,l=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,l=h;break}if(T===l){p=!0,l=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ie:return"Fragment";case ge:return"Profiler";case te:return"StrictMode";case fe:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case _e:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Fe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Ge(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ge(t(n))}catch{}}return null}var Ae=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Re=[],Ue=-1;function D(t){return{current:t}}function j(t){0>Ue||(t.current=Re[Ue],Re[Ue]=null,Ue--)}function G(t,n){Ue++,Re[Ue]=t.current,t.current=n}var W=D(null),oe=D(null),ce=D(null),de=D(null);function lt(t,n){switch(G(ce,n),G(oe,t),G(W,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?u_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=u_(n),t=c_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(W),G(W,t)}function $e(){j(W),j(oe),j(ce)}function qn(t){t.memoizedState!==null&&G(de,t);var n=W.current,r=c_(n,t.type);n!==r&&(G(oe,t),G(W,r))}function an(t){oe.current===t&&(j(W),j(oe)),de.current===t&&(j(de),ho._currentValue=se)}var ri,us;function Rn(t){if(ri===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ri=n&&n[1]||"",us=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ri+t+us}var or=!1;function ki(t,n){if(!t||or)return"";or=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var q=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){q=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){q=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{or=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Rn(r):""}function fl(t,n){switch(t.tag){case 26:case 27:case 5:return Rn(t.type);case 16:return Rn("Lazy");case 13:return t.child!==n&&n!==null?Rn("Suspense Fallback"):Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return ki(t.type,!1);case 11:return ki(t.type.render,!1);case 1:return ki(t.type,!0);case 31:return Rn("Activity");default:return""}}function dl(t){try{var n="",r=null;do n+=fl(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,cs=s.unstable_cancelCallback,wh=s.unstable_shouldYield,$o=s.unstable_requestPaint,nn=s.unstable_now,ur=s.unstable_getCurrentPriorityLevel,ml=s.unstable_ImmediatePriority,pl=s.unstable_UserBlockingPriority,hs=s.unstable_NormalPriority,Rh=s.unstable_LowPriority,Zo=s.unstable_IdlePriority,Jo=s.log,Wo=s.unstable_setDisableYieldValue,Bn=null,zt=null;function xn(t){if(typeof Jo=="function"&&Wo(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Bn,t)}catch{}}var mt=Math.clz32?Math.clz32:tu,eu=Math.log,Jr=Math.LN2;function tu(t){return t>>>=0,t===0?32:31-(eu(t)/Jr|0)|0}var ai=256,cr=262144,Et=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=li(l):(p&=T,p!==0?h=li(p):r||(r=T&~t,r!==0&&(h=li(r))))):(T=l&~f,T!==0?h=li(T):p!==0?h=li(p):r||(r=l&~t,r!==0&&(h=li(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Hn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ch(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var Q=31-mt(r),X=1<<Q;T[Q]=0,I[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var H=q[Q];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&fr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function fr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-mt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function gl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-mt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function yl(t,n){var r=n&-n;return r=(r&42)!==0?1:dr(r),(r&(t.suspendedLanes|n))!==0?0:r}function dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function iu(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:V_(t.type))}function Fn(t,n){var r=J.p;try{return J.p=t,n()}finally{J.p=r}}var Gn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,ci="__reactContainer$"+Gn,Wr="__reactEvents$"+Gn,Ih="__reactListeners$"+Gn,su="__reactHandles$"+Gn,ru="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function ea(t){delete t[Tt],delete t[Lt],delete t[Wr],delete t[Ih],delete t[su]}function fi(t){var n=t[Tt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ci]||r[Tt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=y_(t);t!==null;){if(r=t[Tt])return r;t=y_(t)}return n}t=r,r=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[ci]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function di(t){var n=t[ru];return n||(n=t[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[hi]=!0}var _l=new Set,vl={};function mi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(vl[t]=n,t=0;t<n.length;t++)_l.add(n[t])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},bl={};function au(t){return vt.call(bl,t)?!0:vt.call(Tl,t)?!1:El.test(t)?bl[t]=!0:(Tl[t]=!0,!1)}function ta(t,n,r){if(au(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function yn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function At(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Al(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ke(t){if(!t._valueTracker){var n=fs(t)?"checked":"value";t._valueTracker=Al(t,n,""+t[n])}}function mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=fs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pr=/[\n"\\]/g;function ln(t){return t.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(t,n,r,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ut(n)):t.value!==""+Ut(n)&&(t.value=""+Ut(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Sl(t,p,Ut(n)):r!=null?Sl(t,p,Ut(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ut(T):t.removeAttribute("name")}function lu(t,n,r,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ke(t);return}r=r!=null?""+Ut(r):"",n=n!=null?""+Ut(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Ke(t)}function Sl(t,n,r){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ds(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function ou(t,n,r){if(n!=null&&(n=""+Ut(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ut(r):""}function ms(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Ae(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ut(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||uu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Rl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&wl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&wl(t,f,n[f])}function ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return ps.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var xl=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,yi=null;function gr(t){var n=Cn(t);if(n&&(t=n.stateNode)){var r=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(na(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(a(90));na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&mr(l)}break e;case"textarea":ou(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ds(t,!!r.multiple,n,!1)}}}var ra=!1;function ys(t,n,r){if(ra)return t(n,r);ra=!0;try{var l=t(n);return l}finally{if(ra=!1,(gs!==null||yi!==null)&&(ic(),gs&&(n=gs,t=yi,yi=gs=null,gr(n),t)))for(n=0;n<t.length;n++)gr(t[n])}}function Kn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Lt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Nn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{yr=!1}var _i=null,Cl=null,_r=null;function Il(){if(_r)return _r;var t,n=Cl,r=n.length,l,h="value"in _i?_i.value:_i.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return _r=h.slice(t,1<l?1-l:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Yn(){return!1}function qt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Yn,this.isPropagationStopped=Yn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=qt(ji),_s=w({},ji,{view:0,detail:0}),Nl=qt(_s),vs,aa,Ei,la=w({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(vs=t.screenX-Ei.screenX,aa=t.screenY-Ei.screenY):aa=vs=0,Ei=t),vs)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),Dl=qt(la),Er=w({},la,{dataTransfer:0}),hu=qt(Er),fu=w({},_s,{relatedTarget:0}),Tr=qt(fu),Ol=w({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),du=qt(Ol),oa=w({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mu=qt(oa),pu=w({},ji,{data:0}),Ti=qt(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=_u[t])?!!n[t]:!1}function Es(){return vu}var sn=w({},_s,{key:function(t){if(t.key){var n=gu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Eu=qt(sn),Tu=w({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=qt(Tu),u=w({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),m=qt(u),v=w({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qt(v),U=w({},la,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=qt(U),ne=w({},ji,{newState:0,oldState:0}),xe=qt(ne),pt=[9,13,27,32],Be=Nn&&"CompositionEvent"in window,ot=null;Nn&&"documentMode"in document&&(ot=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ot,bi=Nn&&(!Be||ot&&8<ot&&11>=ot),Xn=" ",$n=!1;function br(t,n){switch(t){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function ub(t,n){switch(t){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return t=n.data,t===Xn&&$n?null:t;default:return null}}function cb(t,n){if(ca)return t==="compositionend"||!Be&&br(t,n)?(t=Il(),_r=Cl=_i=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!hb[t.type]:n==="textarea"}function Tp(t,n,r,l){gs?yi?yi.push(l):yi=[l]:gs=l,n=cc(n,"onChange"),0<n.length&&(r=new vi("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Vl=null,Ml=null;function fb(t){i_(t,0)}function bu(t){var n=gn(t);if(mr(n))return t}function bp(t,n){if(t==="change")return n}var Ap=!1;if(Nn){var Nh;if(Nn){var Dh="oninput"in document;if(!Dh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Dh=typeof Sp.oninput=="function"}Nh=Dh}else Nh=!1;Ap=Nh&&(!document.documentMode||9<document.documentMode)}function wp(){Vl&&(Vl.detachEvent("onpropertychange",Rp),Ml=Vl=null)}function Rp(t){if(t.propertyName==="value"&&bu(Ml)){var n=[];Tp(n,Ml,t,In(t)),ys(fb,n)}}function db(t,n,r){t==="focusin"?(wp(),Vl=n,Ml=r,Vl.attachEvent("onpropertychange",Rp)):t==="focusout"&&wp()}function mb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Ml)}function pb(t,n){if(t==="click")return bu(n)}function gb(t,n){if(t==="input"||t==="change")return bu(n)}function yb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var _n=typeof Object.is=="function"?Object.is:yb;function kl(t,n){if(_n(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!vt.call(n,h)||!_n(t[h],n[h]))return!1}return!0}function xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cp(t,n){var r=xp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xp(r)}}function Ip(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ip(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Np(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=gi(t.document)}return n}function Oh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _b=Nn&&"documentMode"in document&&11>=document.documentMode,ha=null,Vh=null,Ll=null,Mh=!1;function Dp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mh||ha==null||ha!==gi(l)||(l=ha,"selectionStart"in l&&Oh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&kl(Ll,l)||(Ll=l,l=cc(Vh,"onSelect"),0<l.length&&(n=new vi("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ha)))}function Ar(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var fa={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},kh={},Op={};Nn&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Sr(t){if(kh[t])return kh[t];if(!fa[t])return t;var n=fa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Op)return kh[t]=n[r];return t}var Vp=Sr("animationend"),Mp=Sr("animationiteration"),kp=Sr("animationstart"),vb=Sr("transitionrun"),Eb=Sr("transitionstart"),Tb=Sr("transitioncancel"),Lp=Sr("transitionend"),Up=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Zn(t,n){Up.set(t,n),mi(n,[t])}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],da=0,Uh=0;function Su(){for(var t=da,n=Uh=da=0;n<t;){var r=On[n];On[n++]=null;var l=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&jp(r,h,f)}}function wu(t,n,r,l){On[da++]=t,On[da++]=n,On[da++]=r,On[da++]=l,Uh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jh(t,n,r,l){return wu(t,n,r,l),Ru(t)}function wr(t,n){return wu(t,null,null,n),Ru(t)}function jp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-mt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Ru(t){if(50<so)throw so=0,Yf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ma={};function bb(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,n,r,l){return new bb(t,n,r,l)}function Ph(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,n){var r=t.alternate;return r===null?(r=vn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function xu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Ph(t)&&(p=1);else if(typeof t=="string")p=x1(t,r,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,r,n,h),t.elementType=R,t.lanes=f,t;case ie:return Rr(r.children,h,f,n);case te:p=8,h|=24;break;case ge:return t=vn(12,r,n,h|2),t.elementType=ge,t.lanes=f,t;case fe:return t=vn(13,r,n,h),t.elementType=fe,t.lanes=f,t;case ue:return t=vn(19,r,n,h),t.elementType=ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case be:p=9;break e;case Fe:p=11;break e;case x:p=14;break e;case S:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=vn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Rr(t,n,r,l){return t=vn(7,t,l,n),t.lanes=r,t}function zh(t,n,r){return t=vn(6,t,null,n),t.lanes=r,t}function zp(t){var n=vn(18,null,null,0);return n.stateNode=t,n}function qh(t,n,r){return n=vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function Vn(t,n){if(typeof t=="object"&&t!==null){var r=qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:dl(n)},qp.set(t,n),n)}return{value:t,source:n,stack:dl(n)}}var pa=[],ga=0,Cu=null,Ul=0,Mn=[],kn=0,Ts=null,Ai=1,Si="";function qi(t,n){pa[ga++]=Ul,pa[ga++]=Cu,Cu=t,Ul=n}function Bp(t,n,r){Mn[kn++]=Ai,Mn[kn++]=Si,Mn[kn++]=Ts,Ts=t;var l=Ai;t=Si;var h=32-mt(l)-1;l&=~(1<<h),r+=1;var f=32-mt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ai=1<<32-mt(n)+h|r<<h|l,Si=f+t}else Ai=1<<f|r<<h|l,Si=t}function Bh(t){t.return!==null&&(qi(t,1),Bp(t,1,0))}function Hh(t){for(;t===Cu;)Cu=pa[--ga],pa[ga]=null,Ul=pa[--ga],pa[ga]=null;for(;t===Ts;)Ts=Mn[--kn],Mn[kn]=null,Si=Mn[--kn],Mn[kn]=null,Ai=Mn[--kn],Mn[kn]=null}function Hp(t,n){Mn[kn++]=Ai,Mn[kn++]=Si,Mn[kn++]=Ts,Ai=n.id,Si=n.overflow,Ts=t}var Bt=null,st=null,je=!1,bs=null,Ln=!1,Fh=Error(a(519));function As(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Vn(n,t)),Fh}function Fp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Tt]=t,n[Lt]=l,r){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(r=0;r<ao.length;r++)De(ao[r],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),lu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),ms(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||l_(n.textContent,r)?(l.popover!=null&&(De("beforetoggle",n),De("toggle",n)),l.onScroll!=null&&De("scroll",n),l.onScrollEnd!=null&&De("scrollend",n),l.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||As(t,!0)}function Gp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Bt=Bt.return}}function ya(t){if(t!==Bt)return!1;if(!je)return Gp(t),je=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ud(t.type,t.memoizedProps)),r=!r),r&&st&&As(t),Gp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));st=g_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));st=g_(t)}else n===27?(n=st,Us(t.type)?(t=md,md=null,st=t):st=n):st=Bt?jn(t.stateNode.nextSibling):null;return!0}function xr(){st=Bt=null,je=!1}function Gh(){var t=bs;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),bs=null),t}function jl(t){bs===null?bs=[t]:bs.push(t)}var Qh=D(null),Cr=null,Bi=null;function Ss(t,n,r){G(Qh,n._currentValue),n._currentValue=r}function Hi(t){t._currentValue=Qh.current,j(Qh)}function Kh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Yh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Kh(f.return,r,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Kh(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function _a(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;_n(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===de.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ho):t=[ho])}h=h.return}t!==null&&Yh(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){Cr=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Qp(Cr,t)}function Nu(t,n){return Cr===null&&Ir(t),Qp(t,n)}function Qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Bi===null){if(t===null)throw Error(a(308));Bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bi=Bi.next=n;return r}var Ab=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Sb=s.unstable_scheduleCallback,wb=s.unstable_NormalPriority,St={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new Ab,data:new Map,refCount:0}}function Pl(t){t.refCount--,t.refCount===0&&Sb(wb,function(){t.controller.abort()})}var zl=null,$h=0,va=0,Ea=null;function Rb(t,n){if(zl===null){var r=zl=[];$h=0,va=ed(),Ea={status:"pending",value:void 0,then:function(l){r.push(l)}}}return $h++,n.then(Kp,Kp),n}function Kp(){if(--$h===0&&zl!==null){Ea!==null&&(Ea.status="fulfilled");var t=zl;zl=null,va=0,Ea=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xb(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Yp=F.S;F.S=function(t,n){Dy=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Rb(t,n),Yp!==null&&Yp(t,n)};var Nr=D(null);function Zh(){var t=Nr.current;return t!==null?t:tt.pooledCache}function Du(t,n){n===null?G(Nr,Nr.current):G(Nr,n.pool)}function Xp(){var t=Zh();return t===null?null:{parent:St._currentValue,pool:t}}var Ta=Error(a(460)),Jh=Error(a(474)),Ou=Error(a(542)),Vu={then:function(){}};function $p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Qn,Qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wp(t),t;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wp(t),t}throw Or=n,Ta}}function Dr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Or=r,Ta):r}}var Or=null;function Jp(){if(Or===null)throw Error(a(459));var t=Or;return Or=null,t}function Wp(t){if(t===Ta||t===Ou)throw Error(a(483))}var ba=null,ql=0;function Mu(t){var n=ql;return ql+=1,ba===null&&(ba=[]),Zp(ba,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function eg(t){function n(L,O){if(t){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function r(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=zi(L,O),L.index=0,L.sibling=null,L}function f(L,O,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,P,Y){return O===null||O.tag!==6?(O=zh(P,L.mode,Y),O.return=L,O):(O=h(O,P),O.return=L,O)}function I(L,O,P,Y){var me=P.type;return me===ie?Q(L,O,P.props.children,Y,P.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Dr(me)===O.type)?(O=h(O,P.props),Bl(O,P),O.return=L,O):(O=xu(P.type,P.key,P.props,null,L.mode,Y),Bl(O,P),O.return=L,O)}function z(L,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=qh(P,L.mode,Y),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function Q(L,O,P,Y,me){return O===null||O.tag!==7?(O=Rr(P,L.mode,Y,me),O.return=L,O):(O=h(O,P),O.return=L,O)}function X(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zh(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return P=xu(O.type,O.key,O.props,null,L.mode,P),Bl(P,O),P.return=L,P;case ee:return O=qh(O,L.mode,P),O.return=L,O;case S:return O=Dr(O),X(L,O,P)}if(Ae(O)||k(O))return O=Rr(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return X(L,Mu(O),P);if(O.$$typeof===_e)return X(L,Nu(L,O),P);ku(L,O)}return null}function q(L,O,P,Y){var me=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return me!==null?null:T(L,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===me?I(L,O,P,Y):null;case ee:return P.key===me?z(L,O,P,Y):null;case S:return P=Dr(P),q(L,O,P,Y)}if(Ae(P)||k(P))return me!==null?null:Q(L,O,P,Y,null);if(typeof P.then=="function")return q(L,O,Mu(P),Y);if(P.$$typeof===_e)return q(L,O,Nu(L,P),Y);ku(L,P)}return null}function H(L,O,P,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(P)||null,T(O,L,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return L=L.get(Y.key===null?P:Y.key)||null,I(O,L,Y,me);case ee:return L=L.get(Y.key===null?P:Y.key)||null,z(O,L,Y,me);case S:return Y=Dr(Y),H(L,O,P,Y,me)}if(Ae(Y)||k(Y))return L=L.get(P)||null,Q(O,L,Y,me,null);if(typeof Y.then=="function")return H(L,O,P,Mu(Y),me);if(Y.$$typeof===_e)return H(L,O,P,Nu(O,Y),me);ku(O,Y)}return null}function le(L,O,P,Y){for(var me=null,ze=null,he=O,Ie=O=0,Ve=null;he!==null&&Ie<P.length;Ie++){he.index>Ie?(Ve=he,he=null):Ve=he.sibling;var qe=q(L,he,P[Ie],Y);if(qe===null){he===null&&(he=Ve);break}t&&he&&qe.alternate===null&&n(L,he),O=f(qe,O,Ie),ze===null?me=qe:ze.sibling=qe,ze=qe,he=Ve}if(Ie===P.length)return r(L,he),je&&qi(L,Ie),me;if(he===null){for(;Ie<P.length;Ie++)he=X(L,P[Ie],Y),he!==null&&(O=f(he,O,Ie),ze===null?me=he:ze.sibling=he,ze=he);return je&&qi(L,Ie),me}for(he=l(he);Ie<P.length;Ie++)Ve=H(he,L,Ie,P[Ie],Y),Ve!==null&&(t&&Ve.alternate!==null&&he.delete(Ve.key===null?Ie:Ve.key),O=f(Ve,O,Ie),ze===null?me=Ve:ze.sibling=Ve,ze=Ve);return t&&he.forEach(function(Bs){return n(L,Bs)}),je&&qi(L,Ie),me}function ye(L,O,P,Y){if(P==null)throw Error(a(151));for(var me=null,ze=null,he=O,Ie=O=0,Ve=null,qe=P.next();he!==null&&!qe.done;Ie++,qe=P.next()){he.index>Ie?(Ve=he,he=null):Ve=he.sibling;var Bs=q(L,he,qe.value,Y);if(Bs===null){he===null&&(he=Ve);break}t&&he&&Bs.alternate===null&&n(L,he),O=f(Bs,O,Ie),ze===null?me=Bs:ze.sibling=Bs,ze=Bs,he=Ve}if(qe.done)return r(L,he),je&&qi(L,Ie),me;if(he===null){for(;!qe.done;Ie++,qe=P.next())qe=X(L,qe.value,Y),qe!==null&&(O=f(qe,O,Ie),ze===null?me=qe:ze.sibling=qe,ze=qe);return je&&qi(L,Ie),me}for(he=l(he);!qe.done;Ie++,qe=P.next())qe=H(he,L,Ie,qe.value,Y),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?Ie:qe.key),O=f(qe,O,Ie),ze===null?me=qe:ze.sibling=qe,ze=qe);return t&&he.forEach(function(j1){return n(L,j1)}),je&&qi(L,Ie),me}function et(L,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===ie&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:e:{for(var me=P.key;O!==null;){if(O.key===me){if(me=P.type,me===ie){if(O.tag===7){r(L,O.sibling),Y=h(O,P.props.children),Y.return=L,L=Y;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Dr(me)===O.type){r(L,O.sibling),Y=h(O,P.props),Bl(Y,P),Y.return=L,L=Y;break e}r(L,O);break}else n(L,O);O=O.sibling}P.type===ie?(Y=Rr(P.props.children,L.mode,Y,P.key),Y.return=L,L=Y):(Y=xu(P.type,P.key,P.props,null,L.mode,Y),Bl(Y,P),Y.return=L,L=Y)}return p(L);case ee:e:{for(me=P.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(L,O.sibling),Y=h(O,P.children||[]),Y.return=L,L=Y;break e}else{r(L,O);break}else n(L,O);O=O.sibling}Y=qh(P,L.mode,Y),Y.return=L,L=Y}return p(L);case S:return P=Dr(P),et(L,O,P,Y)}if(Ae(P))return le(L,O,P,Y);if(k(P)){if(me=k(P),typeof me!="function")throw Error(a(150));return P=me.call(P),ye(L,O,P,Y)}if(typeof P.then=="function")return et(L,O,Mu(P),Y);if(P.$$typeof===_e)return et(L,O,Nu(L,P),Y);ku(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(L,O.sibling),Y=h(O,P),Y.return=L,L=Y):(r(L,O),Y=zh(P,L.mode,Y),Y.return=L,L=Y),p(L)):r(L,O)}return function(L,O,P,Y){try{ql=0;var me=et(L,O,P,Y);return ba=null,me}catch(he){if(he===Ta||he===Ou)throw he;var ze=vn(29,he,null,L.mode);return ze.lanes=Y,ze.return=L,ze}finally{}}}var Vr=eg(!0),tg=eg(!1),ws=!1;function Wh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ru(t),jp(t,null,r),n}return wu(t,l,n,r),Ru(t)}function Hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,gl(t,r)}}function tf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var nf=!1;function Fl(){if(nf){var t=Ea;if(t!==null)throw t}}function Gl(t,n,r,l){nf=!1;var h=t.updateQueue;ws=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==p&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,Q=z=I=null,T=f;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Oe&q)===q:(l&q)===q){q!==0&&q===va&&(nf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var le=t,ye=T;q=n;var et=r;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){X=le.call(et,X,q);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,q=typeof le=="function"?le.call(et,X,q):le,q==null)break e;X=w({},X,q);break e;case 2:ws=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=H,I=X):Q=Q.next=H,p|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Os|=p,t.lanes=p,t.memoizedState=X}}function ng(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ig(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ng(r[t],n)}var Aa=D(null),Lu=D(0);function sg(t,n){t=Ji,G(Lu,t),G(Aa,n),Ji=t|n.baseLanes}function sf(){G(Lu,Ji),G(Aa,Aa.current)}function rf(){Ji=Lu.current,j(Aa),j(Lu)}var En=D(null),Un=null;function Cs(t){var n=t.alternate;G(gt,gt.current&1),G(En,t),Un===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Un=t)}function af(t){G(gt,gt.current),G(En,t),Un===null&&(Un=t)}function rg(t){t.tag===22?(G(gt,gt.current),G(En,t),Un===null&&(Un=t)):Is()}function Is(){G(gt,gt.current),G(En,En.current)}function Tn(t){j(En),Un===t&&(Un=null),j(gt)}var gt=D(0);function Uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||fd(r)||dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Fi=0,Ce=null,Je=null,wt=null,ju=!1,Sa=!1,Mr=!1,Pu=0,Ql=0,wa=null,Cb=0;function ft(){throw Error(a(321))}function lf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!_n(t[r],n[r]))return!1;return!0}function of(t,n,r,l,h,f){return Fi=f,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Bg:Af,Mr=!1,f=r(l,h),Mr=!1,Sa&&(f=lg(n,r,l,h)),ag(t),f}function ag(t){F.H=Xl;var n=Je!==null&&Je.next!==null;if(Fi=0,wt=Je=Ce=null,ju=!1,Ql=0,wa=null,n)throw Error(a(300));t===null||Rt||(t=t.dependencies,t!==null&&Iu(t)&&(Rt=!0))}function lg(t,n,r,l){Ce=t;var h=0;do{if(Sa&&(wa=null),Ql=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,wt=Je=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Hg,f=n(r,l)}while(Sa);return f}function Ib(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Kl(n):n,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ce.flags|=1024),n}function uf(){var t=Pu!==0;return Pu=0,t}function cf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function hf(t){if(ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ju=!1}Fi=0,wt=Je=Ce=null,Sa=!1,Ql=Pu=0,wa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(Je===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var n=wt===null?Ce.memoizedState:wt.next;if(n!==null)wt=n,Je=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},wt===null?Ce.memoizedState=wt=t:wt=wt.next=t}return wt}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(t){var n=Ql;return Ql+=1,wa===null&&(wa=[]),t=Zp(wa,t,n),n=Ce,(wt===null?n.memoizedState:wt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Bg:Af),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kl(t);if(t.$$typeof===_e)return Ht(t)}throw Error(a(438,String(t)))}function ff(t){var n=null,r=Ce.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),Ce.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Gi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=yt();return df(n,Je,t)}function df(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,I=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Oe&X)===X:(Fi&X)===X){var q=z.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===va&&(Q=!0);else if((Fi&q)===q){z=z.next,q===va&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=X,p=f):I=I.next=X,Ce.lanes|=q,Os|=q;X=z.action,Mr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else q={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=q,p=f):I=I.next=q,Ce.lanes|=X,Os|=X;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=T,!_n(f,t.memoizedState)&&(Rt=!0,Q&&(r=Ea,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mf(t){var n=yt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);_n(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function og(t,n,r){var l=Ce,h=yt(),f=je;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!_n((Je||h).memoizedState,r);if(p&&(h.memoizedState=r,Rt=!0),h=h.queue,yf(hg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},cg.bind(null,l,h,r,n),null),tt===null)throw Error(a(349));f||(Fi&127)!==0||ug(l,n,r)}return r}function ug(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ce.updateQueue,n===null?(n=zu(),Ce.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function cg(t,n,r,l){n.value=r,n.getSnapshot=l,fg(n)&&dg(t)}function hg(t,n,r){return r(function(){fg(n)&&dg(t)})}function fg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!_n(t,r)}catch{return!0}}function dg(t){var n=wr(t,2);n!==null&&dn(n,t,2)}function pf(t){var n=rn();if(typeof t=="function"){var r=t;if(t=r(),Mr){xn(!0);try{r()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},n}function mg(t,n,r,l){return t.baseState=r,df(t,Je,typeof l=="function"?l:Gi)}function Nb(t,n,r,l,h){if(Gu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,pg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=r(h,l),I=F.S;I!==null&&I(p,T),gg(t,n,T)}catch(z){gf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,l),gg(t,n,f)}catch(z){gf(t,n,z)}}function gg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){yg(t,n,l)},function(l){return gf(t,n,l)}):yg(t,n,r)}function yg(t,n,r){n.status="fulfilled",n.value=r,_g(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pg(t,r)))}function gf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,_g(n),n=n.next;while(n!==l)}t.action=null}function _g(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vg(t,n){return n}function Eg(t,n){if(je){var r=tt.formState;if(r!==null){e:{var l=Ce;if(je){if(st){t:{for(var h=st,f=Ln;h.nodeType!==8;){if(!f){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){st=jn(h.nextSibling),l=h.data==="F!";break e}}As(l)}l=!1}l&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},r.queue=l,r=Pg.bind(null,Ce,l),l.dispatch=r,l=pf(!1),f=bf.bind(null,Ce,!1,l.queue),l=rn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=Nb.bind(null,Ce,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Tg(t){var n=yt();return bg(n,Je,t)}function bg(t,n,r){if(n=df(t,n,vg)[0],t=Bu(Gi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(p){throw p===Ta?Ou:p}else l=n;n=yt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ce.flags|=2048,Ra(9,{destroy:void 0},Db.bind(null,h,r),null)),[l,f,t]}function Db(t,n){t.action=n}function Ag(t){var n=yt(),r=Je;if(r!==null)return bg(n,r,t);yt(),n=n.memoizedState,r=yt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ra(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=zu(),Ce.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Sg(){return yt().memoizedState}function Hu(t,n,r,l){var h=rn();Ce.flags|=t,h.memoizedState=Ra(1|n,{destroy:void 0},r,l===void 0?null:l)}function Fu(t,n,r,l){var h=yt();l=l===void 0?null:l;var f=h.memoizedState.inst;Je!==null&&l!==null&&lf(l,Je.memoizedState.deps)?h.memoizedState=Ra(n,f,r,l):(Ce.flags|=t,h.memoizedState=Ra(1|n,f,r,l))}function wg(t,n){Hu(8390656,8,t,n)}function yf(t,n){Fu(2048,8,t,n)}function Ob(t){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=zu(),Ce.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rg(t){var n=yt().memoizedState;return Ob({ref:n,nextImpl:t}),function(){if((He&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xg(t,n){return Fu(4,2,t,n)}function Cg(t,n){return Fu(4,4,t,n)}function Ig(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ng(t,n,r){r=r!=null?r.concat([t]):null,Fu(4,4,Ig.bind(null,n,t),r)}function _f(){}function Dg(t,n){var r=yt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&lf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Og(t,n){var r=yt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&lf(n,l[1]))return l[0];if(l=t(),Mr){xn(!0);try{t()}finally{xn(!1)}}return r.memoizedState=[l,n],l}function vf(t,n,r){return r===void 0||(Fi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Vy(),Ce.lanes|=t,Os|=t,r)}function Vg(t,n,r,l){return _n(r,n)?r:Aa.current!==null?(t=vf(t,r,l),_n(t,n)||(Rt=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=r):(t=Vy(),Ce.lanes|=t,Os|=t,n)}function Mg(t,n,r,l,h){var f=J.p;J.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,bf(t,!1,n,r);try{var I=h(),z=F.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=xb(I,l);Yl(t,n,Q,Sn(t))}else Yl(t,n,l,Sn(t))}catch(X){Yl(t,n,{then:function(){},status:"rejected",reason:X},Sn())}finally{J.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function Vb(){}function Ef(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=kg(t).queue;Mg(t,h,n,se,r===null?Vb:function(){return Lg(t),r(l)})}function kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:se},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lg(t){var n=kg(t);n.next===null&&(n=t.alternate.memoizedState),Yl(t,n.next.queue,{},Sn())}function Tf(){return Ht(ho)}function Ug(){return yt().memoizedState}function jg(){return yt().memoizedState}function Mb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Sn();t=Rs(r);var l=xs(n,t,r);l!==null&&(dn(l,n,r),Hl(l,n,r)),n={cache:Xh()},t.payload=n;return}n=n.return}}function kb(t,n,r){var l=Sn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(t)?zg(n,r):(r=jh(t,n,r,l),r!==null&&(dn(r,t,l),qg(r,n,l)))}function Pg(t,n,r){var l=Sn();Yl(t,n,r,l)}function Yl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))zg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,_n(T,p))return wu(t,n,h,0),tt===null&&Su(),!1}catch{}finally{}if(r=jh(t,n,h,l),r!==null)return dn(r,t,l),qg(r,n,l),!0}return!1}function bf(t,n,r,l){if(l={lane:2,revertLane:ed(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(a(479))}else n=jh(t,r,l,2),n!==null&&dn(n,t,2)}function Gu(t){var n=t.alternate;return t===Ce||n!==null&&n===Ce}function zg(t,n){Sa=ju=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,gl(t,r)}}var Xl={readContext:Ht,use:qu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Xl.useEffectEvent=ft;var Bg={readContext:Ht,use:qu,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:wg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Hu(4194308,4,Ig.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var r=rn();n=n===void 0?null:n;var l=t();if(Mr){xn(!0);try{t()}finally{xn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=rn();if(r!==void 0){var h=r(n);if(Mr){xn(!0);try{r(n)}finally{xn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kb.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=pf(t);var n=t.queue,r=Pg.bind(null,Ce,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:_f,useDeferredValue:function(t,n){var r=rn();return vf(r,t,n)},useTransition:function(){var t=pf(!1);return t=Mg.bind(null,Ce,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ce,h=rn();if(je){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),tt===null)throw Error(a(349));(Oe&127)!==0||ug(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,wg(hg.bind(null,l,f,t),[t]),l.flags|=2048,Ra(9,{destroy:void 0},cg.bind(null,l,f,r,n),null),r},useId:function(){var t=rn(),n=tt.identifierPrefix;if(je){var r=Si,l=Ai;r=(l&~(1<<32-mt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Cb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Tf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=bf.bind(null,Ce,!0,r),r.dispatch=n,[t,n]},useMemoCache:ff,useCacheRefresh:function(){return rn().memoizedState=Mb.bind(null,Ce)},useEffectEvent:function(t){var n=rn(),r={impl:t};return n.memoizedState=r,function(){if((He&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Af={readContext:Ht,use:qu,useCallback:Dg,useContext:Ht,useEffect:yf,useImperativeHandle:Ng,useInsertionEffect:xg,useLayoutEffect:Cg,useMemo:Og,useReducer:Bu,useRef:Sg,useState:function(){return Bu(Gi)},useDebugValue:_f,useDeferredValue:function(t,n){var r=yt();return Vg(r,Je.memoizedState,t,n)},useTransition:function(){var t=Bu(Gi)[0],n=yt().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:og,useId:Ug,useHostTransitionStatus:Tf,useFormState:Tg,useActionState:Tg,useOptimistic:function(t,n){var r=yt();return mg(r,Je,t,n)},useMemoCache:ff,useCacheRefresh:jg};Af.useEffectEvent=Rg;var Hg={readContext:Ht,use:qu,useCallback:Dg,useContext:Ht,useEffect:yf,useImperativeHandle:Ng,useInsertionEffect:xg,useLayoutEffect:Cg,useMemo:Og,useReducer:mf,useRef:Sg,useState:function(){return mf(Gi)},useDebugValue:_f,useDeferredValue:function(t,n){var r=yt();return Je===null?vf(r,t,n):Vg(r,Je.memoizedState,t,n)},useTransition:function(){var t=mf(Gi)[0],n=yt().memoizedState;return[typeof t=="boolean"?t:Kl(t),n]},useSyncExternalStore:og,useId:Ug,useHostTransitionStatus:Tf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,n){var r=yt();return Je!==null?mg(r,Je,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ff,useCacheRefresh:jg};Hg.useEffectEvent=Rg;function Sf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Sn(),h=Rs(l);h.payload=n,r!=null&&(h.callback=r),n=xs(t,h,l),n!==null&&(dn(n,t,l),Hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Sn(),h=Rs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=xs(t,h,l),n!==null&&(dn(n,t,l),Hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Sn(),l=Rs(r);l.tag=2,n!=null&&(l.callback=n),n=xs(t,l,r),n!==null&&(dn(n,t,r),Hl(n,t,r))}};function Fg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!kl(r,l)||!kl(h,f):!0}function Gg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&wf.enqueueReplaceState(n,n.state,null)}function kr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Qg(t){Au(t)}function Kg(t){console.error(t)}function Yg(t){Au(t)}function Qu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(t,n,r){return r=Rs(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(t,n)},r}function $g(t){return t=Rs(t),t.tag=3,t}function Zg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Xg(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Xg(n,r,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Lb(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&_a(n,r,h,!0),r=En.current,r!==null){switch(r.tag){case 31:case 13:return Un===null?sc():r.alternate===null&&dt===0&&(dt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Zf(t,l,h)),!1;case 22:return r.flags|=65536,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Zf(t,l,h)),!1}throw Error(a(435,r.tag))}return Zf(t,l,h),sc(),!1}if(je)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Fh&&(t=Error(a(422),{cause:l}),jl(Vn(t,r)))):(l!==Fh&&(n=Error(a(423),{cause:l}),jl(Vn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Vn(l,r),h=Rf(t.stateNode,l,h),tf(t,h),dt!==4&&(dt=2)),!1;var f=Error(a(520),{cause:l});if(f=Vn(f,r),io===null?io=[f]:io.push(f),dt!==4&&(dt=2),n===null)return!0;l=Vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Rf(r.stateNode,l,t),tf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=$g(h),Zg(h,t,r,l),tf(r,h),!1}r=r.return}while(r!==null);return!1}var xf=Error(a(461)),Rt=!1;function Ft(t,n,r,l){n.child=t===null?tg(n,null,r,l):Vr(n,t.child,r,l)}function Jg(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Ir(n),l=of(t,n,r,p,f,h),T=uf(),t!==null&&!Rt?(cf(t,n,h),Qi(t,n,h)):(je&&T&&Bh(n),n.flags|=1,Ft(t,n,l,h),n.child)}function Wg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ey(t,n,f,l,h)):(t=xu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(p,l)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=zi(f,l),t.ref=n.ref,t.return=n,n.child=t}function ey(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(kl(f,l)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=l=f,kf(t,h))(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return Cf(t,n,r,l,h)}function ty(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ny(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Du(n,f!==null?f.cachePool:null),f!==null?sg(n,f):sf(),rg(n);else return l=n.lanes=536870912,ny(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Du(n,f.cachePool),sg(n,f),Is(),n.memoizedState=null):(t!==null&&Du(n,null),sf(),Is());return Ft(t,n,h,r),n.child}function $l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(t,n,r,l,h){var f=Zh();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Du(n,null),sf(),rg(n),t!==null&&_a(t,n,l,!0),n.childLanes=h,null}function Ku(t,n){return n=Xu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function iy(t,n,r){return Vr(n,t.child,null,r),t=Ku(n,n.pendingProps),t.flags|=2,Tn(n),n.memoizedState=null,t}function Ub(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=Ku(n,l),n.lanes=536870912,$l(null,t);if(af(n),(t=st)?(t=p_(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},r=zp(t),r.return=n,n.child=r,Bt=n,st=null)):t=null,t===null)throw As(n);return n.lanes=536870912,null}return Ku(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=iy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Rt||_a(t,n,r,!1),h=(r&t.childLanes)!==0,Rt||h){if(l=tt,l!==null&&(p=yl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,wr(t,p),dn(l,t,p),xf;sc(),n=iy(t,n,r)}else t=f.treeContext,st=jn(p.nextSibling),Bt=n,je=!0,bs=null,Ln=!1,t!==null&&Hp(n,t),n=Ku(n,l),n.flags|=4096;return n}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Yu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Cf(t,n,r,l,h){return Ir(n),r=of(t,n,r,l,void 0,h),l=uf(),t!==null&&!Rt?(cf(t,n,h),Qi(t,n,h)):(je&&l&&Bh(n),n.flags|=1,Ft(t,n,r,h),n.child)}function sy(t,n,r,l,h,f){return Ir(n),n.updateQueue=null,r=lg(n,l,r,h),ag(t),l=uf(),t!==null&&!Rt?(cf(t,n,f),Qi(t,n,f)):(je&&l&&Bh(n),n.flags|=1,Ft(t,n,r,f),n.child)}function ry(t,n,r,l,h){if(Ir(n),n.stateNode===null){var f=ma,p=r.contextType;typeof p=="object"&&p!==null&&(f=Ht(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Wh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Ht(p):ma,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Sf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&wf.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=kr(r,T);f.props=I;var z=f.context,Q=r.contextType;p=ma,typeof Q=="object"&&Q!==null&&(p=Ht(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==p)&&Gg(n,f,l,p),ws=!1;var q=n.memoizedState;f.state=q,Gl(n,l,f,h),Fl(),z=n.memoizedState,T||q!==z||ws?(typeof X=="function"&&(Sf(n,r,X,l),z=n.memoizedState),(I=ws||Fg(n,r,I,l,q,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ef(t,n),p=n.memoizedProps,Q=kr(r,p),f.props=Q,X=n.pendingProps,q=f.context,z=r.contextType,I=ma,typeof z=="object"&&z!==null&&(I=Ht(z)),T=r.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||q!==I)&&Gg(n,f,l,I),ws=!1,q=n.memoizedState,f.state=q,Gl(n,l,f,h),Fl();var H=n.memoizedState;p!==X||q!==H||ws||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof T=="function"&&(Sf(n,r,T,l),H=n.memoizedState),(Q=ws||Fg(n,r,Q,l,q,H,I)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Yu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Vr(n,t.child,null,h),n.child=Vr(n,null,r,h)):Ft(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Qi(t,n,h),t}function ay(t,n,r,l){return xr(),n.flags|=256,Ft(t,n,r,l),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:Xp()}}function Df(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function ly(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(je){if(h?Cs(n):Is(),(t=st)?(t=p_(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},r=zp(t),r.return=n,n.child=r,Bt=n,st=null)):t=null,t===null)throw As(n);return dd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Is(),h=n.mode,T=Xu({mode:"hidden",children:T},h),l=Rr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Nf(r),l.childLanes=Df(t,p,r),n.memoizedState=If,$l(null,l)):(Cs(n),Of(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Vf(t,n,r)):n.memoizedState!==null?(Is(),n.child=t.child,n.flags|=128,n=null):(Is(),T=l.fallback,h=n.mode,l=Xu({mode:"visible",children:l.children},h),T=Rr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Vr(n,t.child,null,r),l=n.child,l.memoizedState=Nf(r),l.childLanes=Df(t,p,r),n.memoizedState=If,n=$l(null,l));else if(Cs(n),dd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,jl({value:l,source:null,stack:null}),n=Vf(t,n,r)}else if(Rt||_a(t,n,r,!1),p=(r&t.childLanes)!==0,Rt||p){if(p=tt,p!==null&&(l=yl(p,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,wr(t,l),dn(p,t,l),xf;fd(T)||sc(),n=Vf(t,n,r)}else fd(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,st=jn(T.nextSibling),Bt=n,je=!0,bs=null,Ln=!1,t!==null&&Hp(n,t),n=Of(n,l.children),n.flags|=4096);return n}return h?(Is(),T=l.fallback,h=n.mode,I=t.child,z=I.sibling,l=zi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=zi(z,T):(T=Rr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,$l(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Nf(r):(h=T.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Xp(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Df(t,p,r),n.memoizedState=If,$l(t.child,l)):(Cs(n),r=t.child,t=r.sibling,r=zi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Of(t,n){return n=Xu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Xu(t,n){return t=vn(22,t,null,n),t.lanes=0,t}function Vf(t,n,r){return Vr(n,t.child,null,r),t=Of(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function oy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kh(t.return,n,r)}function Mf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function uy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=gt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,G(gt,p),Ft(t,n,l,r),l=je?Ul:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,r,n);else if(t.tag===19)oy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Uu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Mf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Uu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Mf(n,!0,r,null,f,l);break;case"together":Mf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Os|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(_a(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=zi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=zi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function jb(t,n,r){switch(n.tag){case 3:lt(n,n.stateNode.containerInfo),Ss(n,St,t.memoizedState.cache),xr();break;case 27:case 5:qn(n);break;case 4:lt(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ly(t,n,r):(Cs(n),t=Qi(t,n,r),t!==null?t.sibling:null);Cs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(_a(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return uy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(gt,gt.current),l)break;return null;case 22:return n.lanes=0,ty(t,n,r,n.pendingProps);case 24:Ss(n,St,t.memoizedState.cache)}return Qi(t,n,r)}function cy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rt=!0;else{if(!kf(t,r)&&(n.flags&128)===0)return Rt=!1,jb(t,n,r);Rt=(t.flags&131072)!==0}else Rt=!1,je&&(n.flags&1048576)!==0&&Bp(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Dr(n.elementType),n.type=t,typeof t=="function")Ph(t)?(l=kr(t,l),n.tag=1,n=ry(null,n,t,l,r)):(n.tag=0,n=Cf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Fe){n.tag=11,n=Jg(null,n,t,l,r);break e}else if(h===x){n.tag=14,n=Wg(null,n,t,l,r);break e}}throw n=Ge(t)||t,Error(a(306,n,""))}}return n;case 0:return Cf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=kr(l,n.pendingProps),ry(t,n,l,h,r);case 3:e:{if(lt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,ef(t,n),Gl(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Ss(n,St,l),l!==f.cache&&Yh(n,[St],r,!0),Fl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(t,n,l,r);break e}else if(l!==h){h=Vn(Error(a(424)),n),jl(h),n=ay(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=jn(t.firstChild),Bt=n,je=!0,bs=null,Ln=!0,r=tg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(xr(),l===h){n=Qi(t,n,r);break e}Ft(t,n,l,r)}n=n.child}return n;case 26:return Yu(t,n),t===null?(r=T_(n.type,null,n.pendingProps,null))?n.memoizedState=r:je||(r=n.type,t=n.pendingProps,l=hc(ce.current).createElement(r),l[Tt]=n,l[Lt]=t,Gt(l,r,t),bt(l),n.stateNode=l):n.memoizedState=T_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qn(n),t===null&&je&&(l=n.stateNode=__(n.type,n.pendingProps,ce.current),Bt=n,Ln=!0,h=st,Us(n.type)?(md=h,st=jn(l.firstChild)):st=h),Ft(t,n,n.pendingProps.children,r),Yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&je&&((h=l=st)&&(l=m1(l,n.type,n.pendingProps,Ln),l!==null?(n.stateNode=l,Bt=n,st=jn(l.firstChild),Ln=!1,h=!0):h=!1),h||As(n)),qn(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,ud(h,f)?l=null:p!==null&&ud(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=of(t,n,Ib,null,null,r),ho._currentValue=h),Yu(t,n),Ft(t,n,l,r),n.child;case 6:return t===null&&je&&((t=r=st)&&(r=p1(r,n.pendingProps,Ln),r!==null?(n.stateNode=r,Bt=n,st=null,t=!0):t=!1),t||As(n)),null;case 13:return ly(t,n,r);case 4:return lt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Vr(n,null,l,r):Ft(t,n,l,r),n.child;case 11:return Jg(t,n,n.type,n.pendingProps,r);case 7:return Ft(t,n,n.pendingProps,r),n.child;case 8:return Ft(t,n,n.pendingProps.children,r),n.child;case 12:return Ft(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Ss(n,n.type,l.value),Ft(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=Ht(h),l=l(h),n.flags|=1,Ft(t,n,l,r),n.child;case 14:return Wg(t,n,n.type,n.pendingProps,r);case 15:return ey(t,n,n.type,n.pendingProps,r);case 19:return uy(t,n,r);case 31:return Ub(t,n,r);case 22:return ty(t,n,r,n.pendingProps);case 24:return Ir(n),l=Ht(St),t===null?(h=Zh(),h===null&&(h=tt,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Wh(n),Ss(n,St,h)):((t.lanes&r)!==0&&(ef(t,n),Gl(n,null,null,r),Fl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ss(n,St,l)):(l=f.cache,Ss(n,St,l),l!==h.cache&&Yh(n,[St],r,!0))),Ft(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ki(t){t.flags|=4}function Lf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw Or=Vu,Jh}else t.flags&=-16777217}function hy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!R_(n))if(Uy())t.flags|=8192;else throw Or=Vu,Jh}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?nu():536870912,t.lanes|=n,Na|=n)}function Zl(t,n){if(!je)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Pb(t,n,r){var l=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Hi(St),$e(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ya(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),rt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ki(n),f!==null?(rt(n),hy(n,f)):(rt(n),Lf(n,h,null,l,r))):f?f!==t.memoizedState?(Ki(n),rt(n),hy(n,f)):(rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ki(n),rt(n),Lf(n,h,t,l,r)),null;case 27:if(an(n),r=ce.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return rt(n),null}t=W.current,ya(n)?Fp(n):(t=__(h,l,r),n.stateNode=t,Ki(n))}return rt(n),null;case 5:if(an(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return rt(n),null}if(f=W.current,ya(n))Fp(n);else{var p=hc(ce.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Tt]=n,f[Lt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Gt(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ki(n)}}return rt(n),Lf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ki(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ce.current,ya(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||l_(t.nodeValue,r)),t||As(n,!0)}else t=hc(t).createTextNode(l),t[Tt]=n,n.stateNode=t}return rt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=ya(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Tt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),t=!1}else r=Gh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return rt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ya(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Tt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),h=!1}else h=Gh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),rt(n),null);case 4:return $e(),t===null&&sd(n.stateNode.containerInfo),rt(n),null;case 10:return Hi(n.type),rt(n),null;case 19:if(j(gt),l=n.memoizedState,l===null)return rt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Uu(t),f!==null){for(n.flags|=128,Zl(l,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Pp(r,t),r=r.sibling;return G(gt,gt.current&1|2),je&&qi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&nn()>tc&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(t=Uu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!je)return rt(n),null}else 2*nn()-l.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,r=gt.current,G(gt,h?r&1|2:r&1),je&&qi(n,l.treeForkCount),t):(rt(n),null);case 22:case 23:return Tn(n),rf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&j(Nr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Hi(St),rt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function zb(t,n){switch(Hh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(St),$e(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return an(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(a(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Tn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return j(gt),null;case 4:return $e(),null;case 10:return Hi(n.type),null;case 22:case 23:return Tn(n),rf(),t!==null&&j(Nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hi(St),null;case 25:return null;default:return null}}function fy(t,n){switch(Hh(n),n.tag){case 3:Hi(St),$e();break;case 26:case 27:case 5:an(n);break;case 4:$e();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:j(gt);break;case 10:Hi(n.type);break;case 22:case 23:Tn(n),rf(),t!==null&&j(Nr);break;case 24:Hi(St)}}function Jl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(T){Xe(n,n.return,T)}}function Ns(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=r,z=T;try{z()}catch(Q){Xe(h,I,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xe(n,n.return,Q)}}function dy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ig(n,r)}catch(l){Xe(t,t.return,l)}}}function my(t,n,r){r.props=kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xe(t,n,l)}}function Wl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Xe(t,n,h)}}function wi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Xe(t,n,h)}else r.current=null}function py(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Xe(t,t.return,h)}}function Uf(t,n,r){try{var l=t.stateNode;o1(l,t.type,r,n),l[Lt]=n}catch(h){Xe(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Qn));else if(l!==4&&(l===27&&Us(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Pf(t,n,r),t=t.sibling;t!==null;)Pf(t,n,r),t=t.sibling}function Zu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Us(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Zu(t,n,r),t=t.sibling;t!==null;)Zu(t,n,r),t=t.sibling}function yy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,l,r),n[Tt]=t,n[Lt]=r}catch(f){Xe(t,t.return,f)}}var Yi=!1,xt=!1,zf=!1,_y=typeof WeakSet=="function"?WeakSet:Set,jt=null;function qb(t,n){if(t=t.containerInfo,ld=_c,t=Np(t),Oh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,I=-1,z=0,Q=0,X=t,q=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(T=p+h),X!==f||l!==0&&X.nodeType!==3||(I=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)q=X,X=H;for(;;){if(X===t)break t;if(q===r&&++z===h&&(T=p),q===f&&++Q===l&&(I=p),(H=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=H}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(od={focusedElem:t,selectionRange:r},_c=!1,jt=n;jt!==null;)if(n=jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,jt=t;else for(;jt!==null;){switch(n=jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var le=kr(r.type,h);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(r,r.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)hd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,jt=t;break}jt=n.return}}function vy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:$i(t,r),l&4&&Jl(5,r);break;case 1:if($i(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){Xe(r,r.return,p)}else{var h=kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Xe(r,r.return,p)}}l&64&&dy(r),l&512&&Wl(r,r.return);break;case 3:if($i(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ig(t,n)}catch(p){Xe(r,r.return,p)}}break;case 27:n===null&&l&4&&yy(r);case 26:case 5:$i(t,r),n===null&&l&4&&py(r),l&512&&Wl(r,r.return);break;case 12:$i(t,r);break;case 31:$i(t,r),l&4&&by(t,r);break;case 13:$i(t,r),l&4&&Ay(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=$b.bind(null,r),g1(t,r))));break;case 22:if(l=r.memoizedState!==null||Yi,!l){n=n!==null&&n.memoizedState!==null||xt,h=Yi;var f=xt;Yi=l,(xt=n)&&!f?Zi(t,r,(r.subtreeFlags&8772)!==0):$i(t,r),Yi=h,xt=f}break;case 30:break;default:$i(t,r)}}function Ey(t){var n=t.alternate;n!==null&&(t.alternate=null,Ey(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function Xi(t,n,r){for(r=r.child;r!==null;)Ty(t,n,r),r=r.sibling}function Ty(t,n,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Bn,r)}catch{}switch(r.tag){case 26:xt||wi(r,n),Xi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:xt||wi(r,n);var l=ut,h=un;Us(r.type)&&(ut=r.stateNode,un=!1),Xi(t,n,r),oo(r.stateNode),ut=l,un=h;break;case 5:xt||wi(r,n);case 6:if(l=ut,h=un,ut=null,Xi(t,n,r),ut=l,un=h,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(r.stateNode)}catch(f){Xe(r,n,f)}else try{ut.removeChild(r.stateNode)}catch(f){Xe(r,n,f)}break;case 18:ut!==null&&(un?(t=ut,d_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ja(t)):d_(ut,r.stateNode));break;case 4:l=ut,h=un,ut=r.stateNode.containerInfo,un=!0,Xi(t,n,r),ut=l,un=h;break;case 0:case 11:case 14:case 15:Ns(2,r,n),xt||Ns(4,r,n),Xi(t,n,r);break;case 1:xt||(wi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&my(r,n,l)),Xi(t,n,r);break;case 21:Xi(t,n,r);break;case 22:xt=(l=xt)||r.memoizedState!==null,Xi(t,n,r),xt=l;break;default:Xi(t,n,r)}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(r){Xe(n,n.return,r)}}}function Ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(r){Xe(n,n.return,r)}}function Bb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _y),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _y),n;default:throw Error(a(435,t.tag))}}function Ju(t,n){var r=Bb(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=Zb.bind(null,t,l);l.then(h,h)}})}function cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Us(T.type)){ut=T.stateNode,un=!1;break e}break;case 5:ut=T.stateNode,un=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ut===null)throw Error(a(160));Ty(f,p,h),ut=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,t),n=n.sibling}var Jn=null;function Sy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&(Ns(3,t,t.return),Jl(3,t),Ns(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(xt||r===null||wi(r,r.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Jn;if(cn(n,t),hn(t),l&512&&(xt||r===null||wi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,l,r),f[Tt]=t,bt(f),l=f;break e;case"link":var p=S_("link","href",h).get(l+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),Gt(f,l,r),h.head.appendChild(f);break;case"meta":if(p=S_("meta","content",h).get(l+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(l),Gt(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Tt]=t,bt(f),l=f}t.stateNode=l}else w_(h,t.type,t.stateNode);else t.stateNode=A_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?w_(h,t.type,t.stateNode):A_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,r.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(xt||r===null||wi(r,r.return)),r!==null&&l&4&&Uf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(xt||r===null||wi(r,r.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(le){Xe(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Uf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(zf=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(le){Xe(t,t.return,le)}}break;case 3:if(mc=null,h=Jn,Jn=fc(n.containerInfo),cn(n,t),Jn=h,hn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(le){Xe(t,t.return,le)}zf&&(zf=!1,wy(t));break;case 4:l=Jn,Jn=fc(t.stateNode.containerInfo),cn(n,t),hn(t),Jn=l;break;case 12:cn(n,t),hn(t);break;case 31:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ec=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=Yi,Q=xt;if(Yi=z||h,xt=Q||I,cn(n,t),xt=Q,Yi=z,hn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Yi||xt||Lr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(le){Xe(I,I.return,le)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(le){Xe(I,I.return,le)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?m_(H,!0):m_(I.stateNode,!1)}catch(le){Xe(I,I.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ju(t,r))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ju(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(gy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=jf(t);Zu(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(on(p,""),r.flags&=-33);var T=jf(t);Zu(t,T,p);break;case 3:case 4:var I=r.stateNode.containerInfo,z=jf(t);Pf(t,z,I);break;default:throw Error(a(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(t,n.alternate,n),n=n.sibling}function Lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ns(4,n,n.return),Lr(n);break;case 1:wi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&my(n,n.return,r),Lr(n);break;case 27:oo(n.stateNode);case 26:case 5:wi(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}t=t.sibling}}function Zi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,r),Jl(4,f);break;case 1:if(Zi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xe(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ng(I[h],T)}catch(z){Xe(l,l.return,z)}}r&&p&64&&dy(f),Wl(f,f.return);break;case 27:yy(f);case 26:case 5:Zi(h,f,r),r&&l===null&&p&4&&py(f),Wl(f,f.return);break;case 12:Zi(h,f,r);break;case 31:Zi(h,f,r),r&&p&4&&by(h,f);break;case 13:Zi(h,f,r),r&&p&4&&Ay(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,r),Wl(f,f.return);break;case 30:break;default:Zi(h,f,r)}n=n.sibling}}function qf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Pl(r))}function Bf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pl(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(t,n,r,l),n=n.sibling}function Ry(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),h&2048&&Jl(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Pl(t)));break;case 12:if(h&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(n,n.return,I)}}else Wn(t,n,r,l);break;case 31:Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):eo(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,xa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(p,n);break;case 24:Wn(t,n,r,l),h&2048&&Bf(n.alternate,n);break;default:Wn(t,n,r,l)}}function xa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:xa(f,p,T,I,h),Jl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?xa(f,p,T,I,h):eo(f,p):(Q._visibility|=2,xa(f,p,T,I,h)),h&&z&2048&&qf(p.alternate,p);break;case 24:xa(f,p,T,I,h),h&&z&2048&&Bf(p.alternate,p);break;default:xa(f,p,T,I,h)}n=n.sibling}}function eo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:eo(r,l),h&2048&&qf(l.alternate,l);break;case 24:eo(r,l),h&2048&&Bf(l.alternate,l);break;default:eo(r,l)}n=n.sibling}}var to=8192;function Ca(t,n,r){if(t.subtreeFlags&to)for(t=t.child;t!==null;)xy(t,n,r),t=t.sibling}function xy(t,n,r){switch(t.tag){case 26:Ca(t,n,r),t.flags&to&&t.memoizedState!==null&&C1(r,Jn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t,n,r);break;case 3:case 4:var l=Jn;Jn=fc(t.stateNode.containerInfo),Ca(t,n,r),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,Ca(t,n,r),to=l):Ca(t,n,r));break;default:Ca(t,n,r)}}function Cy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function no(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];jt=l,Ny(l,t)}Cy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:no(t),t.flags&2048&&Ns(9,t,t.return);break;case 3:no(t);break;case 12:no(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):no(t);break;default:no(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];jt=l,Ny(l,t)}Cy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ns(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function Ny(t,n){for(;jt!==null;){var r=jt;switch(r.tag){case 0:case 11:case 15:Ns(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,jt=l;else e:for(r=t;jt!==null;){l=jt;var h=l.sibling,f=l.return;if(Ey(l),l===r){jt=null;break e}if(h!==null){h.return=f,jt=h;break e}jt=f}}}var Hb={getCacheForType:function(t){var n=Ht(St),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Ht(St).controller.signal}},Fb=typeof WeakMap=="function"?WeakMap:Map,He=0,tt=null,Ne=null,Oe=0,Ye=0,bn=null,Ds=!1,Ia=!1,Hf=!1,Ji=0,dt=0,Os=0,Ur=0,Ff=0,An=0,Na=0,io=null,fn=null,Gf=!1,ec=0,Dy=0,tc=1/0,nc=null,Vs=null,Mt=0,Ms=null,Da=null,Wi=0,Qf=0,Kf=null,Oy=null,so=0,Yf=null;function Sn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:F.T!==null?ed():iu()}function Vy(){if(An===0)if((Oe&536870912)===0||je){var t=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function dn(t,n,r){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),ks(t,Oe,An,!1)),hr(t,r),((He&2)===0||t!==tt)&&(t===tt&&((He&2)===0&&(Ur|=r),dt===4&&ks(t,Oe,An,!1)),Ri(t))}function My(t,n,r){if((He&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Hn(t,n),h=l?Kb(t,n):$f(t,n,!0),f=l;do{if(h===0){Ia&&!l&&ks(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Gb(r)){h=$f(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=io;var I=T.current.memoizedState.isDehydrated;if(I&&(Oa(T,p).flags|=256),p=$f(T,p,!1),p!==2){if(Hf&&!I){T.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break e}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Oa(t,0),ks(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ks(l,n,An,!Ds);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-nn(),10<h)){if(ks(l,n,An,!Ds),oi(l,0,!0)!==0)break e;Wi=n,l.timeoutHandle=h_(ky.bind(null,l,r,fn,nc,Gf,n,An,Ur,Na,Ds,f,"Throttled",-0,0),h);break e}ky(l,r,fn,nc,Gf,n,An,Ur,Na,Ds,f,null,-0,0)}}break}while(!0);Ri(t)}function ky(t,n,r,l,h,f,p,T,I,z,Q,X,q,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},xy(n,f,X);var le=(f&62914560)===f?ec-nn():(f&4194048)===f?Dy-nn():0;if(le=I1(X,le),le!==null){Wi=f,t.cancelPendingCommit=le(Hy.bind(null,t,n,f,r,l,h,p,T,I,Q,X,null,q,H)),ks(t,f,p,!z);return}}Hy(t,n,f,r,l,h,p,T,I)}function Gb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(t,n,r,l){n&=~Ff,n&=~Ur,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-mt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&fr(t,r,n)}function ic(){return(He&6)===0?(ro(0),!1):!0}function Xf(){if(Ne!==null){if(Ye===0)var t=Ne.return;else t=Ne,Bi=Cr=null,hf(t),ba=null,ql=0,t=Ne;for(;t!==null;)fy(t.alternate,t),t=t.return;Ne=null}}function Oa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,h1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Wi=0,Xf(),tt=t,Ne=r=zi(t.current,null),Oe=n,Ye=0,bn=null,Ds=!1,Ia=Hn(t,n),Hf=!1,Na=An=Ff=Ur=Os=dt=0,fn=io=null,Gf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-mt(l),f=1<<h;n|=t[h],l&=~f}return Ji=n,Su(),r}function Ly(t,n){Ce=null,F.H=Xl,n===Ta||n===Ou?(n=Jp(),Ye=3):n===Jh?(n=Jp(),Ye=4):Ye=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Ne===null&&(dt=1,Qu(t,Vn(n,t.current)))}function Uy(){var t=En.current;return t===null?!0:(Oe&4194048)===Oe?Un===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Un:!1}function jy(){var t=F.H;return F.H=Xl,t===null?Xl:t}function Py(){var t=F.A;return F.A=Hb,t}function sc(){dt=4,Ds||(Oe&4194048)!==Oe&&En.current!==null||(Ia=!0),(Os&134217727)===0&&(Ur&134217727)===0||tt===null||ks(tt,Oe,An,!1)}function $f(t,n,r){var l=He;He|=2;var h=jy(),f=Py();(tt!==t||Oe!==n)&&(nc=null,Oa(t,n)),n=!1;var p=dt;e:do try{if(Ye!==0&&Ne!==null){var T=Ne,I=bn;switch(Ye){case 8:Xf(),p=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var z=Ye;if(Ye=0,bn=null,Va(t,T,I,z),r&&Ia){p=0;break e}break;default:z=Ye,Ye=0,bn=null,Va(t,T,I,z)}}Qb(),p=dt;break}catch(Q){Ly(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Bi=Cr=null,He=l,F.H=h,F.A=f,Ne===null&&(tt=null,Oe=0,Su()),p}function Qb(){for(;Ne!==null;)zy(Ne)}function Kb(t,n){var r=He;He|=2;var l=jy(),h=Py();tt!==t||Oe!==n?(nc=null,tc=nn()+500,Oa(t,n)):Ia=Hn(t,n);e:do try{if(Ye!==0&&Ne!==null){n=Ne;var f=bn;t:switch(Ye){case 1:Ye=0,bn=null,Va(t,n,f,1);break;case 2:case 9:if($p(f)){Ye=0,bn=null,qy(n);break}n=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),Ri(t)},f.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:$p(f)?(Ye=0,bn=null,qy(n)):(Ye=0,bn=null,Va(t,n,f,7));break;case 5:var p=null;switch(Ne.tag){case 26:p=Ne.memoizedState;case 5:case 27:var T=Ne;if(p?R_(p):T.stateNode.complete){Ye=0,bn=null;var I=T.sibling;if(I!==null)Ne=I;else{var z=T.return;z!==null?(Ne=z,rc(z)):Ne=null}break t}}Ye=0,bn=null,Va(t,n,f,5);break;case 6:Ye=0,bn=null,Va(t,n,f,6);break;case 8:Xf(),dt=6;break e;default:throw Error(a(462))}}Yb();break}catch(Q){Ly(t,Q)}while(!0);return Bi=Cr=null,F.H=l,F.A=h,He=r,Ne!==null?0:(tt=null,Oe=0,Su(),dt)}function Yb(){for(;Ne!==null&&!wh();)zy(Ne)}function zy(t){var n=cy(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?rc(t):Ne=n}function qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=sy(r,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=sy(r,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:hf(n);default:fy(r,n),n=Ne=Pp(n,Ji),n=cy(r,n,Ji)}t.memoizedProps=t.pendingProps,n===null?rc(t):Ne=n}function Va(t,n,r,l){Bi=Cr=null,hf(n),ba=null,ql=0;var h=n.return;try{if(Lb(t,h,n,r,Oe)){dt=1,Qu(t,Vn(r,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;dt=1,Qu(t,Vn(r,t.current)),Ne=null;return}n.flags&32768?(je||l===1?t=!0:Ia||(Oe&536870912)!==0?t=!1:(Ds=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),By(n,t)):rc(n)}function rc(t){var n=t;do{if((n.flags&32768)!==0){By(n,Ds);return}t=n.return;var r=Pb(n.alternate,n,Ji);if(r!==null){Ne=r;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);dt===0&&(dt=5)}function By(t,n){do{var r=zb(t.alternate,t);if(r!==null){r.flags&=32767,Ne=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=r}while(t!==null);dt=6,Ne=null}function Hy(t,n,r,l,h,f,p,T,I){t.cancelPendingCommit=null;do ac();while(Mt!==0);if((He&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uh,Ch(t,r,f,p,T,I),t===tt&&(Ne=tt=null,Oe=0),Da=n,Ms=t,Wi=r,Qf=f,Kf=h,Oy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jb(hs,function(){return Yy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=J.p,J.p=2,p=He,He|=4;try{qb(t,n,r)}finally{He=p,J.p=h,F.T=l}}Mt=1,Fy(),Gy(),Qy()}}function Fy(){if(Mt===1){Mt=0;var t=Ms,n=Da,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=J.p;J.p=2;var h=He;He|=4;try{Sy(n,t);var f=od,p=Np(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Ip(T.ownerDocument.documentElement,T)){if(I!==null&&Oh(T)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var H=q.getSelection(),le=T.textContent.length,ye=Math.min(I.start,le),et=I.end===void 0?ye:Math.min(I.end,le);!H.extend&&ye>et&&(p=et,et=ye,ye=p);var L=Cp(T,ye),O=Cp(T,et);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(L.node,L.offset),H.removeAllRanges(),ye>et?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}_c=!!ld,od=ld=null}finally{He=h,J.p=l,F.T=r}}t.current=n,Mt=2}}function Gy(){if(Mt===2){Mt=0;var t=Ms,n=Da,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=J.p;J.p=2;var h=He;He|=4;try{vy(t,n.alternate,n)}finally{He=h,J.p=l,F.T=r}}Mt=3}}function Qy(){if(Mt===4||Mt===3){Mt=0,$o();var t=Ms,n=Da,r=Wi,l=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Da=Ms=null,Ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vs=null),Li(r),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=J.p,J.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,J.p=h}}(Wi&3)!==0&&ac(),Ri(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Yf?so++:(so=0,Yf=t):so=0,ro(0)}}function Ky(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Pl(n)))}function ac(){return Fy(),Gy(),Qy(),Yy()}function Yy(){if(Mt!==5)return!1;var t=Ms,n=Qf;Qf=0;var r=Li(Wi),l=F.T,h=J.p;try{J.p=32>r?32:r,F.T=null,r=Kf,Kf=null;var f=Ms,p=Wi;if(Mt=0,Da=Ms=null,Wi=0,(He&6)!==0)throw Error(a(331));var T=He;if(He|=4,Iy(f.current),Ry(f,f.current,p,r),He=T,ro(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{J.p=h,F.T=l,Ky(t,n)}}function Xy(t,n,r){n=Vn(r,n),n=Rf(t.stateNode,n,2),t=xs(t,n,2),t!==null&&(hr(t,2),Ri(t))}function Xe(t,n,r){if(t.tag===3)Xy(t,t,r);else for(;n!==null;){if(n.tag===3){Xy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){t=Vn(r,t),r=$g(2),l=xs(n,r,2),l!==null&&(Zg(r,l,n,t),hr(l,2),Ri(l));break}}n=n.return}}function Zf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new Fb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Hf=!0,h.add(r),t=Xb.bind(null,t,n,r),n.then(t,t))}function Xb(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,tt===t&&(Oe&r)===r&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>nn()-ec?(He&2)===0&&Oa(t,0):Ff|=r,Na===Oe&&(Na=0)),Ri(t)}function $y(t,n){n===0&&(n=nu()),t=wr(t,n),t!==null&&(hr(t,n),Ri(t))}function $b(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),$y(t,r)}function Zb(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),$y(t,r)}function Jb(t,n){return Vt(t,n)}var lc=null,Ma=null,Jf=!1,oc=!1,Wf=!1,Ls=0;function Ri(t){t!==Ma&&t.next===null&&(Ma===null?lc=Ma=t:Ma=Ma.next=t),oc=!0,Jf||(Jf=!0,e1())}function ro(t,n){if(!Wf&&oc){Wf=!0;do for(var r=!1,l=lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,e_(l,f))}else f=Oe,f=oi(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Hn(l,f)||(r=!0,e_(l,f));l=l.next}while(r);Wf=!1}}function Wb(){Zy()}function Zy(){oc=Jf=!1;var t=0;Ls!==0&&c1()&&(t=Ls);for(var n=nn(),r=null,l=lc;l!==null;){var h=l.next,f=Jy(l,n);f===0?(l.next=null,r===null?lc=h:r.next=h,h===null&&(Ma=r)):(r=l,(t!==0||(f&3)!==0)&&(oc=!0)),l=h}Mt!==0&&Mt!==5||ro(t),Ls!==0&&(Ls=0)}function Jy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-mt(f),T=1<<p,I=h[p];I===-1?((T&r)===0||(T&l)!==0)&&(h[p]=xh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=tt,r=Oe,r=oi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&cs(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Hn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&cs(l),Li(r)){case 2:case 8:r=pl;break;case 32:r=hs;break;case 268435456:r=Zo;break;default:r=hs}return l=Wy.bind(null,t),r=Vt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&cs(l),t.callbackPriority=2,t.callbackNode=null,2}function Wy(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ac()&&t.callbackNode!==r)return null;var l=Oe;return l=oi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(My(t,l,n),Jy(t,nn()),t.callbackNode!=null&&t.callbackNode===r?Wy.bind(null,t):null)}function e_(t,n){if(ac())return null;My(t,n,!0)}function e1(){f1(function(){(He&6)!==0?Vt(ml,Wb):Zy()})}function ed(){if(Ls===0){var t=va;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ls=t}return Ls}function t_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function n_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function t1(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=t_((h[Lt]||null).action),p=l.submitter;p&&(n=(n=p[Lt]||null)?t_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var I=p?n_(h,p):new FormData(h);Ef(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?n_(h,p):new FormData(h),Ef(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var td=0;td<Lh.length;td++){var nd=Lh[td],n1=nd.toLowerCase(),i1=nd[0].toUpperCase()+nd.slice(1);Zn(n1,"on"+i1)}Zn(Vp,"onAnimationEnd"),Zn(Mp,"onAnimationIteration"),Zn(kp,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(vb,"onTransitionRun"),Zn(Eb,"onTransitionStart"),Zn(Tb,"onTransitionCancel"),Zn(Lp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function i_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(T=l[p],I=T.instance,z=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(Q){Au(Q)}h.currentTarget=null,f=I}}}}function De(t,n){var r=n[Wr];r===void 0&&(r=n[Wr]=new Set);var l=t+"__bubble";r.has(l)||(s_(n,t,2,!1),r.add(l))}function id(t,n,r){var l=0;n&&(l|=4),s_(r,t,l,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[uc]){t[uc]=!0,_l.forEach(function(r){r!=="selectionchange"&&(s1.has(r)||id(r,!1,t),id(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uc]||(n[uc]=!0,id("selectionchange",!1,n))}}function s_(t,n,r,l){switch(V_(n)){case 2:var h=O1;break;case 8:h=V1;break;default:h=vd}r=h.bind(null,n,r,t),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function rd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=fi(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue e}T=T.parentNode}}l=l.return}ys(function(){var z=f,Q=In(r),X=[];e:{var q=Up.get(t);if(q!==void 0){var H=vi,le=t;switch(t){case"keypress":if(vr(r)===0)break e;case"keydown":case"keyup":H=Eu;break;case"focusin":le="focus",H=Tr;break;case"focusout":le="blur",H=Tr;break;case"beforeblur":case"afterblur":H=Tr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Vp:case Mp:case kp:H=du;break;case Lp:H=b;break;case"scroll":case"scrollend":H=Nl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pi;break;case"toggle":case"beforetoggle":H=xe}var ye=(n&4)!==0,et=!ye&&(t==="scroll"||t==="scrollend"),L=ye?q!==null?q+"Capture":null:q;ye=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||L===null||(Y=Kn(O,L),Y!=null&&ye.push(lo(O,Y,P))),et)break;O=O.return}0<ye.length&&(q=new H(q,le,null,r,Q),X.push({event:q,listeners:ye}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&r!==xl&&(le=r.relatedTarget||r.fromElement)&&(fi(le)||le[ci]))break e;if((H||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,H?(le=r.relatedTarget||r.toElement,H=z,le=le?fi(le):null,le!==null&&(et=c(le),ye=le.tag,le!==et||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(H=null,le=z),H!==le)){if(ye=Dl,Y="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Pi,Y="onPointerLeave",L="onPointerEnter",O="pointer"),et=H==null?q:gn(H),P=le==null?q:gn(le),q=new ye(Y,O+"leave",H,r,Q),q.target=et,q.relatedTarget=P,Y=null,fi(Q)===z&&(ye=new ye(L,O+"enter",le,r,Q),ye.target=P,ye.relatedTarget=et,Y=ye),et=Y,H&&le)t:{for(ye=r1,L=H,O=le,P=0,Y=L;Y;Y=ye(Y))P++;Y=0;for(var me=O;me;me=ye(me))Y++;for(;0<P-Y;)L=ye(L),P--;for(;0<Y-P;)O=ye(O),Y--;for(;P--;){if(L===O||O!==null&&L===O.alternate){ye=L;break t}L=ye(L),O=ye(O)}ye=null}else ye=null;H!==null&&r_(X,q,H,ye,!1),le!==null&&et!==null&&r_(X,et,le,ye,!0)}}e:{if(q=z?gn(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ze=bp;else if(Ep(q))if(Ap)ze=gb;else{ze=mb;var he=db}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ia(z.elementType)&&(ze=bp):ze=pb;if(ze&&(ze=ze(t,z))){Tp(X,ze,r,Q);break e}he&&he(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Sl(q,"number",q.value)}switch(he=z?gn(z):window,t){case"focusin":(Ep(he)||he.contentEditable==="true")&&(ha=he,Vh=z,Ll=null);break;case"focusout":Ll=Vh=ha=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Dp(X,r,Q);break;case"selectionchange":if(_b)break;case"keydown":case"keyup":Dp(X,r,Q)}var Ie;if(Be)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ca?br(t,r)&&(Ve="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ve="onCompositionStart");Ve&&(bi&&r.locale!=="ko"&&(ca||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ca&&(Ie=Il()):(_i=Q,Cl="value"in _i?_i.value:_i.textContent,ca=!0)),he=cc(z,Ve),0<he.length&&(Ve=new Ti(Ve,t,null,r,Q),X.push({event:Ve,listeners:he}),Ie?Ve.data=Ie:(Ie=ua(r),Ie!==null&&(Ve.data=Ie)))),(Ie=Dn?ub(t,r):cb(t,r))&&(Ve=cc(z,"onBeforeInput"),0<Ve.length&&(he=new Ti("onBeforeInput","beforeinput",null,r,Q),X.push({event:he,listeners:Ve}),he.data=Ie)),t1(X,t,z,r,Q)}i_(X,n)})}function lo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function cc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,r),h!=null&&l.unshift(lo(t,h,f)),h=Kn(t,n),h!=null&&l.push(lo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function r1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r_(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var T=r,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Kn(r,f),z!=null&&p.unshift(lo(r,z,I))):h||(z=Kn(r,f),z!=null&&p.push(lo(r,z,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var a1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function a_(t){return(typeof t=="string"?t:""+t).replace(a1,`
`).replace(l1,"")}function l_(t,n){return n=a_(n),a_(t)===n}function We(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,r,l);break;case"style":Rl(t,l,f);break;case"data":if(n!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=sa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&We(t,n,"name",h.name,h,null),We(t,n,"formEncType",h.formEncType,h,null),We(t,n,"formMethod",h.formMethod,h,null),We(t,n,"formTarget",h.formTarget,h,null)):(We(t,n,"encType",h.encType,h,null),We(t,n,"method",h.method,h,null),We(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=sa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ta(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=cu.get(r)||r,ta(t,r,l))}}function ad(t,n,r,l,h,f){switch(r){case"style":Rl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Lt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ta(t,r,l)}}}function Gt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,f,p,r,null)}}h&&We(t,n,"srcSet",r.srcSet,r,null),l&&We(t,n,"src",r.src,r,null);return;case"input":De("invalid",t);var T=f=p=h=null,I=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:We(t,n,l,Q,r,null)}}lu(t,f,T,I,z,p,h,!1);return;case"select":De("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:We(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!l,n!=null?ds(t,!!l,n,!1):r!=null&&ds(t,!!l,r,!0);return;case"textarea":De("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:We(t,n,p,T,r,null)}ms(t,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,n,I,l,r,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<ao.length;l++)De(ao[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(t,n,z,l,r,null)}return;default:if(ia(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&ad(t,n,Q,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&We(t,n,T,l,r,null))}function o1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,z=null,Q=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||We(t,n,H,null,l,X)}}for(var q in l){var H=l[q];if(X=r[q],l.hasOwnProperty(q)&&(H!=null||X!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&We(t,n,q,H,l,X)}}na(t,p,T,I,z,Q,f,h);return;case"select":H=p=T=q=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||We(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&We(t,n,h,f,l,I)}n=T,r=p,l=H,q!=null?ds(t,!!r,q,!1):!!l!=!!r&&(n!=null?ds(t,!!r,n,!0):ds(t,!!r,r?[]:"",!1));return;case"textarea":H=q=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&We(t,n,p,h,l,f)}ou(t,q,H);return;case"option":for(var le in r)if(q=r[le],r.hasOwnProperty(le)&&q!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:We(t,n,le,null,l,q)}for(I in l)if(q=l[I],H=r[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:We(t,n,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in r)q=r[ye],r.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&We(t,n,ye,null,l,q);for(z in l)if(q=l[z],H=r[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:We(t,n,z,q,l,H)}return;default:if(ia(n)){for(var et in r)q=r[et],r.hasOwnProperty(et)&&q!==void 0&&!l.hasOwnProperty(et)&&ad(t,n,et,void 0,l,q);for(Q in l)q=l[Q],H=r[Q],!l.hasOwnProperty(Q)||q===H||q===void 0&&H===void 0||ad(t,n,Q,q,l,H);return}}for(var L in r)q=r[L],r.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&We(t,n,L,null,l,q);for(X in l)q=l[X],H=r[X],!l.hasOwnProperty(X)||q===H||q==null&&H==null||We(t,n,X,q,l,H)}function o_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&o_(p)){for(p=0,T=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],z=I.startTime;if(z>T)break;var Q=I.transferSize,X=I.initiatorType;Q&&o_(X)&&(I=I.responseEnd,p+=Q*(I<T?1:(T-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ld=null,od=null;function hc(t){return t.nodeType===9?t:t.ownerDocument}function u_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ud(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function c1(){var t=window.event;return t&&t.type==="popstate"?t===cd?!1:(cd=t,!0):(cd=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,h1=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,f1=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(t){return f_.resolve(null).then(t).catch(d1)}:h_;function d1(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function d_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),ja(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")oo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,oo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&oo(t.ownerDocument.body);r=h}while(r);ja(n)}function m_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function hd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hd(r),ea(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function m1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function p1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=jn(t.nextSibling),t===null))return null;return t}function p_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function fd(t){return t.data==="$?"||t.data==="$~"}function dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function g1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var md=null;function g_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return jn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function y_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function __(t,n,r){switch(n=hc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function oo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ea(t)}var Pn=new Map,v_=new Set;function fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=J.d;J.d={f:y1,r:_1,D:v1,C:E1,L:T1,m:b1,X:S1,S:A1,M:w1};function y1(){var t=es.f(),n=ic();return t||n}function _1(t){var n=Cn(t);n!==null&&n.tag===5&&n.type==="form"?Lg(n):es.r(t)}var ka=typeof document>"u"?null:document;function E_(t,n,r){var l=ka;if(l&&typeof n=="string"&&n){var h=ln(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),v_.has(h)||(v_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Gt(n,"link",t),bt(n),l.head.appendChild(n)))}}function v1(t){es.D(t),E_("dns-prefetch",t,null)}function E1(t,n){es.C(t,n),E_("preconnect",t,n)}function T1(t,n,r){es.L(t,n,r);var l=ka;if(l&&t&&n){var h='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ln(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ln(r.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var f=h;switch(n){case"style":f=La(t);break;case"script":f=Ua(t)}Pn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Pn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(uo(f))||n==="script"&&l.querySelector(co(f))||(n=l.createElement("link"),Gt(n,"link",t),bt(n),l.head.appendChild(n)))}}function b1(t,n){es.m(t,n);var r=ka;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(t)}if(!Pn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Pn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(co(f)))return}l=r.createElement("link"),Gt(l,"link",t),bt(l),r.head.appendChild(l)}}}function A1(t,n,r){es.S(t,n,r);var l=ka;if(l&&t){var h=di(l).hoistableStyles,f=La(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(uo(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Pn.get(f))&&pd(t,r);var I=p=l.createElement("link");bt(I),Gt(I,"link",t),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function S1(t,n){es.X(t,n);var r=ka;if(r&&t){var l=di(r).hoistableScripts,h=Ua(t),f=l.get(h);f||(f=r.querySelector(co(h)),f||(t=w({src:t,async:!0},n),(n=Pn.get(h))&&gd(t,n),f=r.createElement("script"),bt(f),Gt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function w1(t,n){es.M(t,n);var r=ka;if(r&&t){var l=di(r).hoistableScripts,h=Ua(t),f=l.get(h);f||(f=r.querySelector(co(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Pn.get(h))&&gd(t,n),f=r.createElement("script"),bt(f),Gt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function T_(t,n,r,l){var h=(h=ce.current)?fc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=La(r.href),r=di(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=La(r.href);var f=di(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(uo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Pn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Pn.set(t,r),f||R1(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(r),r=di(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function La(t){return'href="'+ln(t)+'"'}function uo(t){return'link[rel="stylesheet"]['+t+"]"}function b_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function R1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Gt(n,"link",r),bt(n),t.head.appendChild(n))}function Ua(t){return'[src="'+ln(t)+'"]'}function co(t){return"script[async]"+t}function A_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ln(r.href)+'"]');if(l)return n.instance=l,bt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Gt(l,"style",h),dc(l,r.precedence,t),n.instance=l;case"stylesheet":h=La(r.href);var f=t.querySelector(uo(h));if(f)return n.state.loading|=4,n.instance=f,bt(f),f;l=b_(r),(h=Pn.get(h))&&pd(l,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Gt(f,"link",l),n.state.loading|=4,dc(f,r.precedence,t),n.instance=f;case"script":return f=Ua(r.src),(h=t.querySelector(co(f)))?(n.instance=h,bt(h),h):(l=r,(h=Pn.get(f))&&(l=w({},r),gd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Gt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,dc(l,r.precedence,t));return n.instance}function dc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mc=null;function S_(t,n,r){if(mc===null){var l=new Map,h=mc=new Map;h.set(r,l)}else h=mc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[hi]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function w_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function x1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function C1(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(l.href),f=n.querySelector(uo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=pc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,bt(f);return}f=n.ownerDocument||n,l=b_(l),(h=Pn.get(h))&&pd(l,h),f=f.createElement("link"),bt(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Gt(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=pc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var yd=0;function I1(t,n){return t.stylesheets&&t.count===0&&yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&yc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&yd===0&&(yd=62500*u1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>yd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function yc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,n.forEach(N1,t),gc=null,pc.call(t))}function N1(t,n){if(!(n.state.loading&4)){var r=gc.get(t);if(r)var l=r.get(null);else{r=new Map,gc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ho={$$typeof:_e,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function D1(t,n,r,l,h,f,p,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function x_(t,n,r,l,h,f,p,T,I,z,Q,X){return t=new D1(t,n,r,p,I,z,Q,X,T),n=1,f===!0&&(n|=24),f=vn(3,null,null,n),t.current=f,f.stateNode=t,n=Xh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Wh(f),t}function C_(t){return t?(t=ma,t):ma}function I_(t,n,r,l,h,f){h=C_(h),l.context===null?l.context=h:l.pendingContext=h,l=Rs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=xs(t,l,n),r!==null&&(dn(r,t,n),Hl(r,t,n))}function N_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function _d(t,n){N_(t,n),(t=t.alternate)&&N_(t,n)}function D_(t){if(t.tag===13||t.tag===31){var n=wr(t,67108864);n!==null&&dn(n,t,67108864),_d(t,67108864)}}function O_(t){if(t.tag===13||t.tag===31){var n=Sn();n=dr(n);var r=wr(t,n);r!==null&&dn(r,t,n),_d(t,n)}}var _c=!0;function O1(t,n,r,l){var h=F.T;F.T=null;var f=J.p;try{J.p=2,vd(t,n,r,l)}finally{J.p=f,F.T=h}}function V1(t,n,r,l){var h=F.T;F.T=null;var f=J.p;try{J.p=8,vd(t,n,r,l)}finally{J.p=f,F.T=h}}function vd(t,n,r,l){if(_c){var h=Ed(l);if(h===null)rd(t,n,l,vc,r),M_(t,l);else if(k1(h,t,n,r,l))l.stopPropagation();else if(M_(t,l),n&4&&-1<M1.indexOf(t)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=li(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-mt(p);T.entanglements[1]|=I,p&=~I}Ri(f),(He&6)===0&&(tc=nn()+500,ro(0))}}break;case 31:case 13:T=wr(f,2),T!==null&&dn(T,f,2),ic(),_d(f,2)}if(f=Ed(l),f===null&&rd(t,n,l,vc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else rd(t,n,l,null,r)}}function Ed(t){return t=In(t),Td(t)}var vc=null;function Td(t){if(vc=null,t=fi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return vc=t,null}function V_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case ml:return 2;case pl:return 8;case hs:case Rh:return 32;case Zo:return 268435456;default:return 32}default:return 32}}var bd=!1,js=null,Ps=null,zs=null,fo=new Map,mo=new Map,qs=[],M1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(t,n){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(n.pointerId)}}function po(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&D_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function k1(t,n,r,l,h){switch(n){case"focusin":return js=po(js,t,n,r,l,h),!0;case"dragenter":return Ps=po(Ps,t,n,r,l,h),!0;case"mouseover":return zs=po(zs,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return fo.set(f,po(fo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,mo.set(f,po(mo.get(f)||null,t,n,r,l,h)),!0}return!1}function k_(t){var n=fi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Fn(t.priority,function(){O_(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,Fn(t.priority,function(){O_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ed(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);xl=l,r.target.dispatchEvent(l),xl=null}else return n=Cn(r),n!==null&&D_(n),t.blockedOn=r,!1;n.shift()}return!0}function L_(t,n,r){Ec(t)&&r.delete(n)}function L1(){bd=!1,js!==null&&Ec(js)&&(js=null),Ps!==null&&Ec(Ps)&&(Ps=null),zs!==null&&Ec(zs)&&(zs=null),fo.forEach(L_),mo.forEach(L_)}function Tc(t,n){t.blockedOn===n&&(t.blockedOn=null,bd||(bd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,L1)))}var bc=null;function U_(t){bc!==t&&(bc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===t&&(bc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Td(l||r)===null)continue;break}var f=Cn(r);f!==null&&(t.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ja(t){function n(I){return Tc(I,t)}js!==null&&Tc(js,t),Ps!==null&&Tc(Ps,t),zs!==null&&Tc(zs,t),fo.forEach(n),mo.forEach(n);for(var r=0;r<qs.length;r++){var l=qs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qs.length&&(r=qs[0],r.blockedOn===null);)k_(r),r.blockedOn===null&&qs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[Lt]||null;if(typeof f=="function")p||U_(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Lt]||null)T=p.formAction;else if(Td(h)!==null)continue}else T=p.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),U_(r)}}}function j_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(t){this._internalRoot=t}Ac.prototype.render=Ad.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Sn();I_(r,l,t,n,null,null)},Ac.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;I_(t.current,2,null,t,null,null),ic(),n[ci]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var n=iu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<qs.length&&n!==0&&n<qs[r].priority;r++);qs.splice(r,0,t),r===0&&k_(t)}};var P_=e.version;if(P_!=="19.2.0")throw Error(a(527,P_,"19.2.0"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var U1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Bn=Sc.inject(U1),zt=Sc}catch{}}return yo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Qg,f=Kg,p=Yg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=x_(t,1,!1,null,null,r,l,null,h,f,p,j_),t[ci]=n.current,sd(t),new Ad(n)},yo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Qg,p=Kg,T=Yg,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=x_(t,1,!0,n,r??null,l,h,I,f,p,T,j_),n.context=C_(null),r=n.current,l=Sn(),l=dr(l),h=Rs(l),h.callback=null,xs(r,h,l),r=l,n.current.lanes=r,hr(n,r),Ri(n),t[ci]=n.current,sd(t),new Ac(n)},yo.version="19.2.0",yo}var X_;function K1(){if(X_)return Rd.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Rd.exports=Q1(),Rd.exports}var Y1=K1();const X1=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$1=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),$_=s=>{const e=$1(s);return e.charAt(0).toUpperCase()+e.slice(1)},k0=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),Z1=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var J1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const W1=ct.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>ct.createElement("svg",{ref:y,...J1,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:k0("lucide",o),...!c&&!Z1(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>ct.createElement(_,A)),...Array.isArray(c)?c:[c]]));const Ot=(s,e)=>{const i=ct.forwardRef(({className:a,...o},c)=>ct.createElement(W1,{ref:c,iconNode:e,className:k0(`lucide-${X1($_(s))}`,`lucide-${s}`,a),...o}));return i.displayName=$_(s),i};const eA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Nd=Ot("box",eA);const tA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Dd=Ot("briefcase",tA);const nA=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],iA=Ot("calendar-plus",nA);const sA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Od=Ot("calendar",sA);const rA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Z_=Ot("camera",rA);const aA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lA=Ot("check",aA);const oA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uA=Ot("circle-check-big",oA);const cA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],J_=Ot("clipboard-list",cA);const hA=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fA=Ot("clock-3",hA);const dA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mA=Ot("eye",dA);const pA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gA=Ot("lock",pA);const yA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_A=Ot("log-out",yA);const vA=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],EA=Ot("monitor-play",vA);const TA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Vd=Ot("pen-tool",TA);const bA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AA=Ot("save",bA);const SA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wA=Ot("user",SA);const RA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xA=Ot("users",RA);const CA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],W_=Ot("utensils",CA);const IA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ev=Ot("video",IA);const NA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tv=Ot("x",NA),DA=()=>{};var nv={};const L0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},OA=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,K=_&63;y||(K=64,d||(M=64)),a.push(i[A],i[w],i[M],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(L0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):OA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||w==null)throw new VA;const M=c<<2|g>>4;if(a.push(M),_!==64){const K=g<<4&240|_>>2;if(a.push(K),w!==64){const ee=_<<6&192|w;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MA=function(s){const e=L0(s);return U0.encodeByteArray(e,!0)},qc=function(s){return MA(s).replace(/\./g,"")},j0=function(s){try{return U0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LA=()=>kA().__FIREBASE_DEFAULTS__,UA=()=>{if(typeof process>"u"||typeof nv>"u")return;const s=nv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&j0(s[1]);return e&&JSON.parse(e)},ah=()=>{try{return DA()||LA()||UA()||jA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},P0=s=>ah()?.emulatorHosts?.[s],PA=s=>{const e=P0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},z0=()=>ah()?.config,q0=s=>ah()?.[`_${s}`];class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function sl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(s){return(await fetch(s,{credentials:"include"})).ok}function qA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Ao={};function BA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ao))Ao[e]?s.emulator.push(e):s.prod.push(e);return s}function HA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let iv=!1;function H0(s,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Ao[s]===e||Ao[s]||iv)return;Ao[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=BA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{iv=!0,d()},M}function A(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=HA(a),K=i("text"),ee=document.getElementById(K)||document.createElement("span"),ie=i("learnmore"),te=document.getElementById(ie)||document.createElement("a"),ge=i("preprendIcon"),be=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _e=M.element;g(_e),A(te,ie);const Fe=_();y(be,ge),_e.append(be,ee,te,Fe),document.body.appendChild(_e)}c?(ee.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function GA(){const s=ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function YA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XA(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $A(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const WA="FirebaseError";class os extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=WA,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jo.prototype.create)}}class jo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?eS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new os(o,g,a)}}function eS(s,e){return s.replace(tS,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const tS=/\{\$([^}]+)}/g;function nS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Fr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(sv(c)&&sv(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function sv(s){return s!==null&&typeof s=="object"}function Po(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function iS(s,e){const i=new sS(s,e);return i.subscribe.bind(i)}class sS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");rS(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function Xt(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jr="[DEFAULT]";class aS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new zA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oS(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(s){return s===jr?void 0:s}function oS(s){return s.instantiationMode==="EAGER"}class uS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const cS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},hS=Me.INFO,fS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},dS=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=fS[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Am{constructor(e){this.name=e,this._logLevel=hS,this._logHandler=dS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const mS=(s,e)=>e.some(i=>s instanceof i);let rv,av;function pS(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,Xd=new WeakMap,G0=new WeakMap,kd=new WeakMap,Sm=new WeakMap;function yS(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ys(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&F0.set(i,s)}).catch(()=>{}),Sm.set(e,s),e}function _S(s){if(Xd.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Xd.set(s,e)}let $d={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Xd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||G0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function vS(s){$d=s($d)}function ES(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ld(this),e,...i);return G0.set(a,e.sort?e.sort():[e]),Ys(a)}:gS().includes(s)?function(...e){return s.apply(Ld(this),e),Ys(F0.get(this))}:function(...e){return Ys(s.apply(Ld(this),e))}}function TS(s){return typeof s=="function"?ES(s):(s instanceof IDBTransaction&&_S(s),mS(s,pS())?new Proxy(s,$d):s)}function Ys(s){if(s instanceof IDBRequest)return yS(s);if(kd.has(s))return kd.get(s);const e=TS(s);return e!==s&&(kd.set(s,e),Sm.set(e,s)),e}const Ld=s=>Sm.get(s);function bS(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Ys(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ys(d.result),y.oldVersion,y.newVersion,Ys(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const AS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],Ud=new Map;function lv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=SS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||AS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return Ud.set(e,c),c}vS(s=>({...s,get:(e,i,a)=>lv(e,i)||s.get(e,i,a),has:(e,i)=>!!lv(e,i)||s.has(e,i)}));class wS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function RS(s){return s.getComponent()?.type==="VERSION"}const Zd="@firebase/app",ov="0.14.6";const ss=new Am("@firebase/app"),xS="@firebase/app-compat",CS="@firebase/analytics-compat",IS="@firebase/analytics",NS="@firebase/app-check-compat",DS="@firebase/app-check",OS="@firebase/auth",VS="@firebase/auth-compat",MS="@firebase/database",kS="@firebase/data-connect",LS="@firebase/database-compat",US="@firebase/functions",jS="@firebase/functions-compat",PS="@firebase/installations",zS="@firebase/installations-compat",qS="@firebase/messaging",BS="@firebase/messaging-compat",HS="@firebase/performance",FS="@firebase/performance-compat",GS="@firebase/remote-config",QS="@firebase/remote-config-compat",KS="@firebase/storage",YS="@firebase/storage-compat",XS="@firebase/firestore",$S="@firebase/ai",ZS="@firebase/firestore-compat",JS="firebase",WS="12.6.0";const Jd="[DEFAULT]",ew={[Zd]:"fire-core",[xS]:"fire-core-compat",[IS]:"fire-analytics",[CS]:"fire-analytics-compat",[DS]:"fire-app-check",[NS]:"fire-app-check-compat",[OS]:"fire-auth",[VS]:"fire-auth-compat",[MS]:"fire-rtdb",[kS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[US]:"fire-fn",[jS]:"fire-fn-compat",[PS]:"fire-iid",[zS]:"fire-iid-compat",[qS]:"fire-fcm",[BS]:"fire-fcm-compat",[HS]:"fire-perf",[FS]:"fire-perf-compat",[GS]:"fire-rc",[QS]:"fire-rc-compat",[KS]:"fire-gcs",[YS]:"fire-gcs-compat",[XS]:"fire-fst",[ZS]:"fire-fst-compat",[$S]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};const Bc=new Map,tw=new Map,Wd=new Map;function uv(s,e){try{s.container.addComponent(e)}catch(i){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const e=s.name;if(Wd.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,s);for(const i of Bc.values())uv(i,s);for(const i of tw.values())uv(i,s);return!0}function wm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ei(s){return s==null?!1:s.settings!==void 0}const nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new jo("app","Firebase",nw);class iw{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const rl=WS;function Q0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Jd,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Xs.create("bad-app-name",{appName:String(o)});if(i||(i=z0()),!i)throw Xs.create("no-options");const c=Bc.get(o);if(c){if(Fr(i,c.options)&&Fr(a,c.config))return c;throw Xs.create("duplicate-app",{appName:o})}const d=new uS(o);for(const y of Wd.values())d.addComponent(y);const g=new iw(i,a,d);return Bc.set(o,g),g}function K0(s=Jd){const e=Bc.get(s);if(!e&&s===Jd&&z0())return Q0();if(!e)throw Xs.create("no-app",{appName:s});return e}function $s(s,e,i){let a=ew[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}Xa(new Gr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const sw="firebase-heartbeat-database",rw=1,Io="firebase-heartbeat-store";let jd=null;function Y0(){return jd||(jd=bS(sw,rw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),jd}async function aw(s){try{const i=(await Y0()).transaction(Io),a=await i.objectStore(Io).get(X0(s));return await i.done,a}catch(e){if(e instanceof os)ss.warn(e.message);else{const i=Xs.create("idb-get",{originalErrorMessage:e?.message});ss.warn(i.message)}}}async function cv(s,e){try{const a=(await Y0()).transaction(Io,"readwrite");await a.objectStore(Io).put(e,X0(s)),await a.done}catch(i){if(i instanceof os)ss.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});ss.warn(a.message)}}}function X0(s){return`${s.name}!${s.options.appId}`}const lw=1024,ow=30;class uw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ow){const o=fw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hv(),{heartbeatsToSend:i,unsentEntries:a}=cw(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ss.warn(e),""}}}function hv(){return new Date().toISOString().substring(0,10)}function cw(s,e=lw){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),fv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),fv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZA()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await aw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return cv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function fv(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function fw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function dw(s){Xa(new Gr("platform-logger",e=>new wS(e),"PRIVATE")),Xa(new Gr("heartbeat",e=>new uw(e),"PRIVATE")),$s(Zd,ov,s),$s(Zd,ov,"esm2020"),$s("fire-js","")}dw("");var mw="firebase",pw="12.6.0";$s(mw,pw,"app");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,$0;(function(){var s;function e(x,S){function R(){}R.prototype=S.prototype,x.F=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(V,N,k){for(var C=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)C[Ge-2]=arguments[Ge];return S.prototype[N].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,R){R||(R=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],N=x.g[2];let k=x.g[3],C;C=S+(k^R&(N^k))+V[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(N^S&(R^N))+V[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=N+(R^k&(S^R))+V[2]+606105819&4294967295,N=k+(C<<17&4294967295|C>>>15),C=R+(S^N&(k^S))+V[3]+3250441966&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(k^R&(N^k))+V[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(N^S&(R^N))+V[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=N+(R^k&(S^R))+V[6]+2821735955&4294967295,N=k+(C<<17&4294967295|C>>>15),C=R+(S^N&(k^S))+V[7]+4249261313&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(k^R&(N^k))+V[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(N^S&(R^N))+V[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=N+(R^k&(S^R))+V[10]+4294925233&4294967295,N=k+(C<<17&4294967295|C>>>15),C=R+(S^N&(k^S))+V[11]+2304563134&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(k^R&(N^k))+V[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(N^S&(R^N))+V[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=N+(R^k&(S^R))+V[14]+2792965006&4294967295,N=k+(C<<17&4294967295|C>>>15),C=R+(S^N&(k^S))+V[15]+1236535329&4294967295,R=N+(C<<22&4294967295|C>>>10),C=S+(N^k&(R^N))+V[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^N&(S^R))+V[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(k^S))+V[11]+643717713&4294967295,N=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(N^k))+V[0]+3921069994&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^k&(R^N))+V[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^N&(S^R))+V[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(k^S))+V[15]+3634488961&4294967295,N=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(N^k))+V[4]+3889429448&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^k&(R^N))+V[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^N&(S^R))+V[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(k^S))+V[3]+4107603335&4294967295,N=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(N^k))+V[8]+1163531501&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(N^k&(R^N))+V[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^N&(S^R))+V[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=N+(S^R&(k^S))+V[7]+1735328473&4294967295,N=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(N^k))+V[12]+2368359562&4294967295,R=N+(C<<20&4294967295|C>>>12),C=S+(R^N^k)+V[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^N)+V[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=N+(k^S^R)+V[11]+1839030562&4294967295,N=k+(C<<16&4294967295|C>>>16),C=R+(N^k^S)+V[14]+4259657740&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^k)+V[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^N)+V[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=N+(k^S^R)+V[7]+4139469664&4294967295,N=k+(C<<16&4294967295|C>>>16),C=R+(N^k^S)+V[10]+3200236656&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^k)+V[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^N)+V[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=N+(k^S^R)+V[3]+3572445317&4294967295,N=k+(C<<16&4294967295|C>>>16),C=R+(N^k^S)+V[6]+76029189&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(R^N^k)+V[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^N)+V[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=N+(k^S^R)+V[15]+530742520&4294967295,N=k+(C<<16&4294967295|C>>>16),C=R+(N^k^S)+V[2]+3299628645&4294967295,R=N+(C<<23&4294967295|C>>>9),C=S+(N^(R|~k))+V[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~N))+V[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=N+(S^(k|~R))+V[14]+2878612391&4294967295,N=k+(C<<15&4294967295|C>>>17),C=R+(k^(N|~S))+V[5]+4237533241&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~k))+V[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~N))+V[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=N+(S^(k|~R))+V[10]+4293915773&4294967295,N=k+(C<<15&4294967295|C>>>17),C=R+(k^(N|~S))+V[1]+2240044497&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~k))+V[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~N))+V[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=N+(S^(k|~R))+V[6]+2734768916&4294967295,N=k+(C<<15&4294967295|C>>>17),C=R+(k^(N|~S))+V[13]+1309151649&4294967295,R=N+(C<<21&4294967295|C>>>11),C=S+(N^(R|~k))+V[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~N))+V[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=N+(S^(k|~R))+V[2]+718787259&4294967295,N=k+(C<<15&4294967295|C>>>17),C=R+(k^(N|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const R=S-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<S;){if(N==0)for(;k<=R;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<S;)if(V[N++]=x.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<S;)if(V[N++]=x[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)x[S++]=this.g[R]>>>V&255;return x};function c(x,S){var R=g;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function d(x,S){this.h=S;const R=[];let V=!0;for(let N=x.length-1;N>=0;N--){const k=x[N]|0;V&&k==S||(R[N]=k,V=!1)}this.g=R}var g={};function y(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return te(_(-x));const S=[];let R=1;for(let V=0;x>=R;V++)S[V]=x/R|0,R*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return te(A(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(S,8));let V=w;for(let k=0;k<x.length;k+=8){var N=Math.min(8,x.length-k);const C=parseInt(x.substring(k,k+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(C))):(V=V.j(R),V=V.add(_(C)))}return V}var w=y(0),M=y(1),K=y(16777216);s=d.prototype,s.m=function(){if(ie(this))return-te(this).m();let x=0,S=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);x+=(V>=0?V:4294967296+V)*S,S*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(ee(this))return"0";if(ie(this))return"-"+te(this).toString(x);const S=_(Math.pow(x,6));var R=this;let V="";for(;;){const N=Fe(R,S).g;R=ge(R,N.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=N,ee(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function ee(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function ie(x){return x.h==-1}s.l=function(x){return x=ge(this,x),ie(x)?-1:ee(x)?0:1};function te(x){const S=x.g.length,R=[];for(let V=0;V<S;V++)R[V]=~x.g[V];return new d(R,~x.h).add(M)}s.abs=function(){return ie(this)?te(this):this},s.add=function(x){const S=Math.max(this.g.length,x.g.length),R=[];let V=0;for(let N=0;N<=S;N++){let k=V+(this.i(N)&65535)+(x.i(N)&65535),C=(k>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=C>>>16,k&=65535,C&=65535,R[N]=C<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ge(x,S){return x.add(te(S))}s.j=function(x){if(ee(this)||ee(x))return w;if(ie(this))return ie(x)?te(this).j(te(x)):te(te(this).j(x));if(ie(x))return te(this.j(te(x)));if(this.l(K)<0&&x.l(K)<0)return _(this.m()*x.m());const S=this.g.length+x.g.length,R=[];for(var V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const k=this.i(V)>>>16,C=this.i(V)&65535,Ge=x.i(N)>>>16,Ae=x.i(N)&65535;R[2*V+2*N]+=C*Ae,be(R,2*V+2*N),R[2*V+2*N+1]+=k*Ae,be(R,2*V+2*N+1),R[2*V+2*N+1]+=C*Ge,be(R,2*V+2*N+1),R[2*V+2*N+2]+=k*Ge,be(R,2*V+2*N+2)}for(x=0;x<S;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=S;x<2*S;x++)R[x]=0;return new d(R,0)};function be(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function _e(x,S){this.g=x,this.h=S}function Fe(x,S){if(ee(S))throw Error("division by zero");if(ee(x))return new _e(w,w);if(ie(x))return S=Fe(te(x),S),new _e(te(S.g),te(S.h));if(ie(S))return S=Fe(x,te(S)),new _e(te(S.g),S.h);if(x.g.length>30){if(ie(x)||ie(S))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=S;V.l(x)<=0;)R=fe(R),V=fe(V);var N=ue(R,1),k=ue(V,1);for(V=ue(V,2),R=ue(R,2);!ee(V);){var C=k.add(V);C.l(x)<=0&&(N=N.add(R),k=C),V=ue(V,1),R=ue(R,1)}return S=ge(x,N.j(S)),new _e(N,S)}for(N=w;x.l(S)>=0;){for(R=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(R),C=k.j(S);ie(C)||C.l(x)>0;)R-=V,k=_(R),C=k.j(S);ee(k)&&(k=M),N=N.add(k),x=ge(x,C)}return new _e(N,x)}s.B=function(x){return Fe(this,x).h},s.and=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)&x.i(V);return new d(R,this.h&x.h)},s.or=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)|x.i(V);return new d(R,this.h|x.h)},s.xor=function(x){const S=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<S;V++)R[V]=this.i(V)^x.i(V);return new d(R,this.h^x.h)};function fe(x){const S=x.g.length+1,R=[];for(let V=0;V<S;V++)R[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(R,x.h)}function ue(x,S){const R=S>>5;S%=32;const V=x.g.length-R,N=[];for(let k=0;k<V;k++)N[k]=S>0?x.i(k+R)>>>S|x.i(k+R+1)<<32-S:x.i(k+R);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,$0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Zs=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z0,vo,J0,Dc,em,W0,eE,tE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var ne=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ne[xe-2]=arguments[xe];return m.prototype[U].apply(b,ne)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function ee(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=U[ne]}else u.push(U)}}class ie{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const b=_e.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var _e=new ie(()=>new Fe,u=>u.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ue=!1,x=new be,S=()=>{const u=Promise.resolve(void 0);fe=()=>{u.then(R)}};function R(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){te(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ue=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Ge(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Ge,N),Ge.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),F=0;function J(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++F,this.da=this.fa=!1}function se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Re(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ue(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<j.length;B++)v=j[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=ce(u,m,b,U);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new J(m,this.src,B,!!b,U),m.fa=v,u.push(m)),m};function oe(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(se(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ce(u,m,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return U}return-1}var de="closure_lm_"+(Math.random()*1e6|0),lt={};function $e(u,m,v,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)$e(u,m[B],v,b,U);return null}return v=dl(v),u&&u[Ae]?u.J(m,v,g(b)?!!b.capture:!1,U):qn(u,m,v,!1,b,U)}function qn(u,m,v,b,U,B){if(!m)throw Error("Invalid event type");const ne=g(U)?!!U.capture:!!U;let xe=ki(u);if(xe||(u[de]=xe=new W(u)),v=xe.add(m,v,b,ne,B),v.proxy)return v;if(b=an(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Rn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function an(){function u(v){return m.call(u.src,u.listener,v)}const m=or;return u}function ri(u,m,v,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)ri(u,m[B],v,b,U);else b=g(b)?!!b.capture:!!b,v=dl(v),u&&u[Ae]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=ce(m,v,b,U),v>-1&&(se(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ki(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ce(m,v,b,U)),(v=u>-1?m[u]:null)&&us(v))}function us(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ae])oe(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Rn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ki(m))?(oe(v,u),v.h==0&&(v.src=null,m[de]=null)):se(u)}}}function Rn(u){return u in lt?lt[u]:lt[u]="on"+u}function or(u,m){if(u.da)u=!0;else{m=new Ge(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&us(u),u=v.call(b,m)}return u}function ki(u){return u=u[de],u instanceof W?u:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(u){return typeof u=="function"?u:(u[fl]||(u[fl]=function(m){return u.handleEvent(m)}),u[fl])}function vt(){V.call(this),this.i=new W(this),this.M=this,this.G=null}w(vt,V),vt.prototype[Ae]=!0,vt.prototype.removeEventListener=function(u,m,v,b){ri(this,u,m,v,b)};function Vt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),G(m,U)}U=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],U=cs(B,b,!0,m)&&U;if(B=m.g=u,U=cs(B,b,!0,m)&&U,U=cs(B,b,!1,m)&&U,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],U=cs(B,b,!1,m)&&U}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)se(v[b]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},vt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function cs(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const xe=ne.listener,pt=ne.ha||ne.src;ne.fa&&oe(u.i,ne),U=xe.call(pt,b)!==!1&&U}}return U&&!b.defaultPrevented}function wh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $o(u){u.g=wh(()=>{u.g=null,u.i&&(u.i=!1,$o(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$o(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){V.call(this),this.h=u,this.g={}}w(ur,V);var ml=[];function pl(u){Re(u.g,function(m,v){this.g.hasOwnProperty(v)&&us(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),pl(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=d.JSON.stringify,Rh=d.JSON.parse,Zo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jo(){}function Wo(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){N.call(this,"d")}w(zt,N);function xn(){N.call(this,"c")}w(xn,N);var mt={},eu=null;function Jr(){return eu=eu||new vt}mt.Ia="serverreachability";function tu(u){N.call(this,mt.Ia,u)}w(tu,N);function ai(u){const m=Jr();Vt(m,new tu(m))}mt.STAT_EVENT="statevent";function cr(u,m){N.call(this,mt.STAT_EVENT,u),this.stat=m}w(cr,N);function Et(u){const m=Jr();Vt(m,new cr(m,u))}mt.Ja="timingevent";function li(u,m){N.call(this,mt.Ja,u),this.size=m}w(li,N);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function xh(u,m,v,b,U,B){u.info(function(){if(u.g)if(B){var ne="",xe=B.split("&");for(let Be=0;Be<xe.length;Be++){var pt=xe[Be].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const Dn=ot.split("_");ne=Dn.length>=2&&Dn[1]=="type"?ne+(ot+"="+pt+"&"):ne+(ot+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+ne})}function nu(u,m,v,b,U,B,ne){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+ne})}function ui(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ch(u,v)+(b?" "+b:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Ch(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return hs(B)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function dr(){}w(dr,Jo),dr.prototype.g=function(){return new XMLHttpRequest},yl=new dr;function Li(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function ci(u,m,v){u.M=1,u.A=mr(At(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),hi(u),u.B=At(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ia(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Gn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ml[0]=U.toString()),U=ml);for(let B=0;B<U.length;B++){const ne=$e(v,U[B],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const xe=Yn(this.g),pt=this.g.ya(),Be=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||xe!=4||pt==7||(pt==8||Be<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Ih(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,xe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var B=b;break t}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Et(12),gn(this),Cn(this);break e}}if(this.R){u=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=ru(this,v),ot==Lt){xe==4&&(this.m=4,Et(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,ot,null),di(this,ot);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||v.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ol(ne),ne.P=!0,Et(11))}}else ui(this.i,this.l,v,null),di(this,v);xe==4&&gn(this),this.o&&!this.K&&(xe==4?mu(this.j,this):(this.o=!1,hi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),Cn(this)}}}catch{}finally{}};function Ih(u){if(!su(u))return u.g.la();const m=qt(u.g);if(m==="")return"";let v="";const b=m.length,U=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Lt:(v=Number(m.substring(v,b)),isNaN(v)?Tt:(b+=1,b+v>m.length?Lt:(m=m.slice(b,b+v),u.C=b+v,m)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(_(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ai(),Et(17)),gn(this),this.m=2,Cn(this)):ea(this,this.T-u)};function Cn(u){u.j.I==0||u.K||mu(u.j,u)}function gn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),vs(v);else break e;Tr(v),Et(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(_(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&oa(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Be=U[m];const ot=Be[0];if(!(ot<=v.K))if(v.K=ot,Be=Be[1],v.I==2)if(Be[0]=="c"){v.M=Be[1],v.ba=Be[2];const Dn=Be[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const bi=Be[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Xn=Be[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(b=1.5*Xn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const $n=u.g;if($n){const br=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var B=b.h;B.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(El(B,B.h),B.h=null))}if(b.G){const ua=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(b.wa=ua,Ke(b.J,b.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ne=u;if(b.na=yu(b,b.L?b.ba:null,b.W),ne.L){Tl(b.h,ne);var xe=ne,pt=b.O;pt&&(xe.H=pt),xe.D&&(fi(xe),hi(xe)),b.g=ne}else fu(b);v.i.length>0&&Ei(v)}else Be[0]!="stop"&&Be[0]!="close"||Ti(v,7);else v.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ti(v,7):Nl(v):Be[0]!="noop"&&v.l&&v.l.qa(Be),v.A=0)}}ai(4)}catch{}}var bt=class{constructor(u,m){this.g=u,this.map=m}};function _l(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function Tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_l.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof yn?(this.l=u.l,Ut(this,u.j),this.o=u.o,this.g=u.g,fs(this,u.u),this.h=u.h,Al(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),fs(this,m[4]),this.h=gi(m[5]||"",!0),Al(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}yn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(pr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pr(m,na,!0),"@"),u.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pr(v,v.charAt(0)=="/"?Sl:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pr(v,ou)),u.join("")},yn.prototype.resolve=function(u){const m=At(this);let v=!!u.j;v?Ut(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)fs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let ne=0;ne<U.length;){const xe=U[ne++];xe=="."?b&&ne==U.length&&B.push(""):xe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ne==U.length&&B.push("")):(B.push(xe),b=!0)}b=B.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Al(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function At(u){return new yn(u)}function Ut(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Al(u,m,v){m instanceof ms?(u.i=m,sa(u.i,u.l)):(v||(m=pr(m,ds)),u.i=new ms(m,u.l))}function Ke(u,m,v){u.i.set(m,v)}function mr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ln),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ln(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,lu=/[#\?:]/g,Sl=/[#\?]/g,ds=/[#\?@]/g,ou=/#/g;function ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ms.prototype,s.add=function(u,m){on(this),this.i=null,u=ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){on(u),m=ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wl(u,m){return on(u),m=ps(u,m),u.g.has(m)}s.forEach=function(u,m){on(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Rl(u,m){on(u);let v=[];if(typeof m=="string")wl(u,m)&&(v=v.concat(u.g.get(ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return on(this),this.i=null,u=ps(this,u),wl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Rl(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(ps(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Li(v);v=Rl(this,v);for(let B=0;B<v.length;B++){let ne=U;v[B]!==""&&(ne+="="+Li(v[B])),u.push(ne)}}return this.i=u.join("&")};function cu(u){const m=new ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(uu(this,b),ia(this,U,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const b=new Image;b.onload=A(In,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(In,v,"TestLoadImage: error",!1,m,b),b.onabort=A(In,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(In,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function xl(u,m){const v=new Hn,b=new AbortController,U=setTimeout(()=>{b.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function gs(){this.g=new Zo}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(yi,Jo),yi.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(gr,vt),s=gr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ys(this):Kn(this),this.readyState==3&&ra(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ys(this))},s.Na=function(u){this.g&&(this.response=u,ys(this))},s.ga=function(){this.g&&ys(this)};function ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return Re(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Nn(v),typeof u=="string"?v!=null&&Li(v):Ke(u,m,v))}function Ze(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ze,vt);var _i=/^https?$/i,Cl=["POST","PUT"];s=Ze.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_r(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_r(this,B)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Ui(u)}function Il(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},s.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ne=String(u.D).match(au)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!_i.test(ne?ne.toLowerCase():"")}v=b}if(v)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var U=Yn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Il(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Vt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var v=iu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ue(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function _s(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(u&&u.concurrentRequestLimit),this.Ba=new gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=_s.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Et(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=yu(this,null,this.W),Ei(this)};function Nl(u){if(aa(u),u.I==3){var m=u.V++,v=At(u.J);if(Ke(v,"SID",u.M),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),Er(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=mr(At(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}gu(u)}function vs(u){u.g&&(Ol(u),u.g.cancel(),u.g=null)}function aa(u){vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!vl(u.h)&&!u.m){u.m=!0;var m=u.Ea;fe||S(),ue||(fe(),ue=!0),x.add(m,u),u.D=0}}function la(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Fn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),G(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=hu(this,U,m),v=At(this.J),Ke(v,"RID",u),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Er(this,v),B&&(this.R?m="headers="+Li(Nn(B))+"&"+m:this.u&&yr(v,this.u,B)),El(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",m),Ke(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,m),this.I=2}}else this.I==3&&(u?Dl(this,u):this.i.length==0||vl(this.h)||Dl(this))};function Dl(u,m){var v;m?v=m.l:v=u.V++;const b=At(u.J);Ke(b,"SID",u.M),Ke(b,"RID",v),Ke(b,"AID",u.K),Er(u,b),u.u&&u.o&&yr(b,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,v),ci(v,b,m)}function Er(u,m){u.H&&Re(u.H,function(v,b){Ke(m,b,v)}),u.l&&Re({},function(v,b){Ke(m,b,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let xe=-1;for(;;){const pt=["count="+v];xe==-1?v>0?(xe=U[0].g,pt.push("ofs="+xe)):xe=0:pt.push("ofs="+xe);let Be=!0;for(let ot=0;ot<v;ot++){var B=U[ot].g;const Dn=U[ot].map;if(B-=xe,B<0)xe=Math.max(0,U[ot].g-100),Be=!1;else try{B="req"+B+"_"||"";try{var ne=Dn instanceof Map?Dn:Object.entries(Dn);for(const[bi,Xn]of ne){let $n=Xn;g(Xn)&&($n=hs(Xn)),pt.push(B+bi+"="+encodeURIComponent($n))}}catch(bi){throw pt.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Dn)}}if(Be){ne=pt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;fe||S(),ue||(fe(),ue=!0),x.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(_(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),vs(this),du(this))};function Ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=At(u.na);Ke(m,"RID","rpc"),Ke(m,"SID",u.M),Ke(m,"AID",u.K),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(m,"TO",u.ia),Ke(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(At(m)),v.u=null,v.R=!0,Wr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,vs(this),Tr(this),Et(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){oa(u),Ol(u),u.g=null;var b=2}else if(pi(u.h,m))v=m.G,Tl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=Jr(),Vt(b,new li(b,v)),Ei(u)}else fu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&la(u,m)||b==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new yn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ut(b,"https"),mr(b),U?Qn(b.toString(),v):xl(b.toString(),v)}else Et(2);u.I=0,u.l&&u.l.pa(m),gu(u),aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var b=v instanceof yn?At(v):new yn(v);if(b.g!="")m&&(b.g=m+"."+b.g),fs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new yn(null);b&&Ut(B,b),m&&(B.g=m),U&&fs(B,U),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Ke(b,v,m),Ke(b,"VER",u.ka),Er(u,b),b}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ze(new yi({ab:v})):new Ze(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Es(){}Es.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){vt.call(this),this.g=new _s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}w(sn,vt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Nl(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hs(u),u=v);m.i.push(new bt(m.Ya++,u)),m.I==3&&Ei(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,sn.Z.N.call(this)};function Eu(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Eu,zt);function Tu(){xn.call(this),this.status=1}w(Tu,xn);function Pi(u){this.g=u}w(Pi,vu),Pi.prototype.ra=function(){Vt(this.g,"a")},Pi.prototype.qa=function(u){Vt(this.g,new Eu(u))},Pi.prototype.pa=function(u){Vt(this.g,new Tu)},Pi.prototype.oa=function(){Vt(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,tE=function(){return new Es},eE=function(){return Jr()},W0=mt,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Dc=fr,gl.COMPLETE="complete",J0=gl,Wo.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,vo=Wo,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Z0=Ze}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.2";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let al="12.3.0";const Qr=new Am("@firebase/firestore");function za(){return Qr.logLevel}function ae(s,...e){if(Qr.logLevel<=Me.DEBUG){const i=e.map(Rm);Qr.debug(`Firestore (${al}): ${s}`,...i)}}function rs(s,...e){if(Qr.logLevel<=Me.ERROR){const i=e.map(Rm);Qr.error(`Firestore (${al}): ${s}`,...i)}}function $a(s,...e){if(Qr.logLevel<=Me.WARN){const i=e.map(Rm);Qr.warn(`Firestore (${al}): ${s}`,...i)}}function Rm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ve(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,nE(s,a,i)}function nE(s,e,i){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw rs(a),new Error(a)}function Qe(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||nE(e,o,a)}function we(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class iE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Wt.UNAUTHENTICATED)))}shutdown(){}}class yw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _w{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qe(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qe(typeof a.accessToken=="string",31837,{l:a}),new iE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class vw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ew{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new vw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qe(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Qe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=bw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ke(s,e){return s<e?-1:s>e?1:0}function tm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Pd(o)===Pd(c)?ke(o,c):Pd(o)?1:-1}return ke(s.length,e.length)}const Aw=55296,Sw=57343;function Pd(s){const e=s.charCodeAt(0);return e>=Aw&&e<=Sw}function Za(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const yv="__name__";class xi{constructor(e,i,a){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&ve(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=xi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ke(e.length,i.length)}static compareSegments(e,i){const a=xi.isNumericId(e),o=xi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):tm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class it extends xi{construct(e,i,a){return new it(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new re($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new it(i)}static emptyPath(){return new it([])}}const ww=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends xi{construct(e,i,a){return new Yt(e,i,a)}static isValidIdentifier(e){return ww.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Yt([yv])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new re($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new re($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new re($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new re($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(i)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return it.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}function sE(s,e,i){if(!i)throw new re($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Rw(s,e,i,a){if(e===!0&&a===!0)throw new re($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function _v(s){if(!pe.isDocumentKey(s))throw new re($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function vv(s){if(pe.isDocumentKey(s))throw new re($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function rE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function Js(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new re($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(s);throw new re($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Nt(s,e){const i={typeString:s};return e&&(i.value=e),i}function zo(s,e){if(!rE(s))throw new re($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new re($.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Tv);return new at(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new re($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ev)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zo(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ev;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Nt("string",at._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new at(0,0))}static max(){return new Te(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const No=-1;function xw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(a===1e9?new at(i+1,0):new at(i,a));return new er(o,pe.empty(),e)}function Cw(s){return new er(s.readTime,s.key,No)}class er{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new er(Te.min(),pe.empty(),No)}static max(){return new er(Te.max(),pe.empty(),No)}}function Iw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:ke(s.largestBatchId,e.largestBatchId))}const Nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Nw)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((A=>{d[_]=A,++g,g===c&&a(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Ow(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(s){return s.name==="IndexedDbTransactionError"}class oh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oh.ce=-1;const Cm=-1;function uh(s){return s==null}function Hc(s){return s===0&&1/s==-1/0}function Vw(s){return typeof s=="number"&&Number.isInteger(s)&&!Hc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const aE="";function Mw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=bv(e)),e=kw(s.get(i),e);return bv(e)}function kw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case aE:i+="";break;default:i+=c}}return i}function bv(s){return s+aE+""}function Av(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ar(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function lE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ht{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Qt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(e){return new Sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class Sv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new wn([])}unionWith(e){let i=new kt(Yt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}})(e);return new $t(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new $t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const i=Lw.exec(s);if(Qe(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function nr(s){return typeof s=="string"?$t.fromBase64String(s):$t.fromUint8Array(s)}const uE="server_timestamp",cE="__type__",hE="__previous_value__",fE="__local_write_time__";function Im(s){return(s?.mapValue?.fields||{})[cE]?.stringValue===uE}function ch(s){const e=s.mapValue.fields[hE];return Im(e)?ch(e):e}function Do(s){const e=tr(s.mapValue.fields[fE].timestampValue);return new at(e.seconds,e.nanos)}class Uw{constructor(e,i,a,o,c,d,g,y,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Fc="(default)";class Oo{constructor(e,i){this.projectId=e,this.database=i||Fc}static empty(){return new Oo("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(e){return e instanceof Oo&&e.projectId===this.projectId&&e.database===this.database}}const dE="__type__",jw="__max__",xc={mapValue:{}},mE="__vector__",Gc="value";function ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Im(s)?4:zw(s)?9007199254740991:Pw(s)?10:11:ve(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const i=ir(s);if(i!==ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Do(s).isEqual(Do(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=tr(o.timestampValue),g=tr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return nr(o.bytesValue).isEqual(nr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return _t(o.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _t(o.integerValue)===_t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=_t(o.doubleValue),g=_t(c.doubleValue);return d===g?Hc(d)===Hc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return Za(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Av(d)!==Av(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Vi(d[y],g[y])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Vo(s,e){return(s.values||[]).find((i=>Vi(i,e)))!==void 0}function Ja(s,e){if(s===e)return 0;const i=ir(s),a=ir(e);if(i!==a)return ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=_t(c.integerValue||c.doubleValue),y=_t(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return wv(s.timestampValue,e.timestampValue);case 4:return wv(Do(s),Do(e));case 5:return tm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=nr(c),y=nr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=ke(g[_],y[_]);if(A!==0)return A}return ke(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=ke(_t(c.latitude),_t(d.latitude));return g!==0?g:ke(_t(c.longitude),_t(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Rv(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Gc]?.arrayValue,A=y[Gc]?.arrayValue,w=ke(_?.values?.length||0,A?.values?.length||0);return w!==0?w:Rv(_,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let w=0;w<y.length&&w<A.length;++w){const M=tm(y[w],A[w]);if(M!==0)return M;const K=Ja(g[y[w]],_[A[w]]);if(K!==0)return K}return ke(y.length,A.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function wv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ke(s,e);const i=tr(s),a=tr(e),o=ke(i.seconds,a.seconds);return o!==0?o:ke(i.nanos,a.nanos)}function Rv(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Ja(i[o],a[o]);if(c)return c}return ke(i.length,a.length)}function Wa(s){return nm(s)}function nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=tr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return nr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=nm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${nm(i.fields[d])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function Oc(s){switch(ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ch(s);return e?16+Oc(e):16;case 5:return 2*s.stringValue.length;case 6:return nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Oc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return ar(a.fields,((c,d)=>{o+=c.length+Oc(d)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function xv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function im(s){return!!s&&"integerValue"in s}function Nm(s){return!!s&&"arrayValue"in s}function Cv(s){return!!s&&"nullValue"in s}function Iv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vc(s){return!!s&&"mapValue"in s}function Pw(s){return(s?.mapValue?.fields||{})[dE]?.stringValue===mE}function So(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ar(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=So(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=So(s.arrayValue.values[i]);return e}return{...s}}function zw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jw}class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Vc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(i)}setAll(e){let i=Yt.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=So(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ar(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new pn(So(this.value))}}function pE(s){const e=[];return ar(s.fields,((i,a)=>{const o=new Yt([i]);if(Vc(a)){const c=pE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new wn(e)}class en{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new en(e,0,Te.min(),Te.min(),Te.min(),pn.empty(),0)}static newFoundDocument(e,i,a,o){return new en(e,1,i,Te.min(),a,o,0)}static newNoDocument(e,i){return new en(e,2,i,Te.min(),Te.min(),pn.empty(),0)}static newUnknownDocument(e,i){return new en(e,3,i,Te.min(),Te.min(),pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(e,i){this.position=e,this.inclusive=i}}function Nv(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Dv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Vi(s.position[i],e.position[i]))return!1;return!0}class Mo{constructor(e,i="asc"){this.field=e,this.dir=i}}function qw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class gE{}class It extends gE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Hw(e,i,a):i==="array-contains"?new Qw(e,a):i==="in"?new Kw(e,a):i==="not-in"?new Yw(e,a):i==="array-contains-any"?new Xw(e,a):new It(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Fw(e,a):new Gw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends gE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new si(e,i)}matches(e){return yE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(s){return s.op==="and"}function _E(s){return Bw(s)&&yE(s)}function Bw(s){for(const e of s.filters)if(e instanceof si)return!1;return!0}function sm(s){if(s instanceof It)return s.field.canonicalString()+s.op.toString()+Wa(s.value);if(_E(s))return s.filters.map((e=>sm(e))).join(",");{const e=s.filters.map((i=>sm(i))).join(",");return`${s.op}(${e})`}}function vE(s,e){return s instanceof It?(function(a,o){return o instanceof It&&a.op===o.op&&a.field.isEqual(o.field)&&Vi(a.value,o.value)})(s,e):s instanceof si?(function(a,o){return o instanceof si&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&vE(d,o.filters[g])),!0):!1})(s,e):void ve(19439)}function EE(s){return s instanceof It?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(s):s instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(EE).join(" ,")+"}"})(s):"Filter"}class Hw extends It{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class Fw extends It{constructor(e,i){super(e,"in",i),this.keys=TE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Gw extends It{constructor(e,i){super(e,"not-in",i),this.keys=TE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function TE(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class Qw extends It{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Nm(i)&&Vo(i.arrayValue,this.value)}}class Kw extends It{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class Yw extends It{constructor(e,i){super(e,"not-in",i)}matches(e){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class Xw extends It{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vo(this.value.arrayValue,a)))}}class $w{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Ov(s,e=null,i=[],a=[],o=null,c=null,d=null){return new $w(s,e,i,a,o,c,d)}function Dm(s){const e=we(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),uh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Wa(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Wa(a))).join(",")),e.Te=i}return e.Te}function Om(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!qw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!vE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Dv(s.startAt,e.startAt)&&Dv(s.endAt,e.endAt)}function rm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ul{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Zw(s,e,i,a,o,c,d,g){return new ul(s,e,i,a,o,c,d,g)}function Vm(s){return new ul(s)}function Vv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bE(s){return s.collectionGroup!==null}function wo(s){const e=we(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new kt(Yt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Mo(c,a))})),i.has(Yt.keyField().canonicalString())||e.Ie.push(new Mo(Yt.keyField(),a))}return e.Ie}function Ci(s){const e=we(s);return e.Ee||(e.Ee=Jw(e,wo(s))),e.Ee}function Jw(s,e){if(s.limitType==="F")return Ov(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Mo(o.field,c)}));const i=s.endAt?new Qc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Qc(s.startAt.position,s.startAt.inclusive):null;return Ov(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function am(s,e){const i=s.filters.concat([e]);return new ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function lm(s,e,i){return new ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function hh(s,e){return Om(Ci(s),Ci(e))&&s.limitType===e.limitType}function AE(s){return`${Dm(Ci(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>EE(o))).join(", ")}]`),uh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${a})`})(Ci(s))}; limitType=${s.limitType})`}function fh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of wo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=Nv(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,wo(a),o)||a.endAt&&!(function(d,g,y){const _=Nv(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,wo(a),o))})(s,e)}function Ww(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function SE(s){return(e,i)=>{let a=!1;for(const o of wo(s)){const c=e2(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function e2(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Ja(y,_):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ve(19790,{direction:s.dir})}}class Xr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ar(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}const t2=new ht(pe.comparator);function as(){return t2}const wE=new ht(pe.comparator);function Eo(...s){let e=wE;for(const i of s)e=e.insert(i.key,i);return e}function RE(s){let e=wE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Pr(){return Ro()}function xE(){return Ro()}function Ro(){return new Xr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const n2=new ht(pe.comparator),i2=new kt(pe.comparator);function Le(...s){let e=i2;for(const i of s)e=e.add(i);return e}const s2=new kt(ke);function r2(){return s2}function Mm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function CE(s){return{integerValue:""+s}}function a2(s,e){return Vw(e)?CE(e):Mm(s,e)}class dh{constructor(){this._=void 0}}function l2(s,e,i){return s instanceof Kc?(function(o,c){const d={fields:{[cE]:{stringValue:uE},[fE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Im(c)&&(c=ch(c)),c&&(d.fields[hE]=c),{mapValue:d}})(i,e):s instanceof ko?NE(s,e):s instanceof Lo?DE(s,e):(function(o,c){const d=IE(o,c),g=Mv(d)+Mv(o.Ae);return im(d)&&im(o.Ae)?CE(g):Mm(o.serializer,g)})(s,e)}function o2(s,e,i){return s instanceof ko?NE(s,e):s instanceof Lo?DE(s,e):i}function IE(s,e){return s instanceof Yc?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Kc extends dh{}class ko extends dh{constructor(e){super(),this.elements=e}}function NE(s,e){const i=OE(e);for(const a of s.elements)i.some((o=>Vi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Lo extends dh{constructor(e){super(),this.elements=e}}function DE(s,e){let i=OE(e);for(const a of s.elements)i=i.filter((o=>!Vi(o,a)));return{arrayValue:{values:i}}}class Yc extends dh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Mv(s){return _t(s.integerValue||s.doubleValue)}function OE(s){return Nm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function u2(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof ko&&o instanceof ko||a instanceof Lo&&o instanceof Lo?Za(a.elements,o.elements,Vi):a instanceof Yc&&o instanceof Yc?Vi(a.Ae,o.Ae):a instanceof Kc&&o instanceof Kc})(s.transform,e.transform)}class c2{constructor(e,i){this.version=e,this.transformResults=i}}class ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class mh{}function VE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new km(s.key,ni.none()):new qo(s.key,s.data,ni.none());{const i=s.data,a=pn.empty();let o=new kt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new lr(s.key,a,new wn(o.toArray()),ni.none())}}function h2(s,e,i){s instanceof qo?(function(o,c,d){const g=o.value.clone(),y=Lv(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof lr?(function(o,c,d){if(!Mc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Lv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(ME(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function xo(s,e,i,a){return s instanceof qo?(function(c,d,g,y){if(!Mc(c.precondition,d))return g;const _=c.value.clone(),A=Uv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof lr?(function(c,d,g,y){if(!Mc(c.precondition,d))return g;const _=Uv(c.fieldTransforms,y,d),A=d.data;return A.setAll(ME(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,g){return Mc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function f2(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=IE(a.transform,o||null);c!=null&&(i===null&&(i=pn.empty()),i.set(a.field,c))}return i||null}function kv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Za(a,o,((c,d)=>u2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class qo extends mh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lr extends mh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ME(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Lv(s,e,i){const a=new Map;Qe(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,o2(d,g,i[o]))}return a}function Uv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,l2(c,d,e))}return a}class km extends mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m2{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&h2(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=xo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=xo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=xE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=VE(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Te.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((i,a)=>kv(i,a)))&&Za(this.baseMutations,e.baseMutations,((i,a)=>kv(i,a)))}}class Lm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Qe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return n2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Lm(e,i,a,o)}}class p2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class g2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,Pe;function y2(s){switch(s){case $.OK:return ve(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function kE(s){if(s===void 0)return rs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ct.OK:return $.OK;case Ct.CANCELLED:return $.CANCELLED;case Ct.UNKNOWN:return $.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return $.INTERNAL;case Ct.UNAVAILABLE:return $.UNAVAILABLE;case Ct.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ct.NOT_FOUND:return $.NOT_FOUND;case Ct.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ct.ABORTED:return $.ABORTED;case Ct.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ct.DATA_LOSS:return $.DATA_LOSS;default:return ve(39323,{code:s})}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function _2(){return new TextEncoder}const v2=new Zs([4294967295,4294967295],0);function jv(s){const e=_2().encode(s),i=new $0;return i.update(e),new Uint8Array(i.digest())}function Pv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Zs([i,a],0),new Zs([o,c],0)]}class Um{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new To(`Invalid padding: ${i}`);if(a<0)throw new To(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new To(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Zs.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Zs.fromNumber(a)));return o.compare(v2)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=jv(e),[a,o]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Um(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=jv(e),[a,o]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Bo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ph(Te.min(),o,new ht(ke),as(),Le())}}class Bo{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Bo(a,i,Le(),Le(),Le())}}class kc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class LE{constructor(e,i){this.targetId=e,this.Ce=i}}class UE{constructor(e,i,a=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class zv{constructor(){this.ve=0,this.Fe=qv(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),i=Le(),a=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ve(38017,{changeType:c})}})),new Bo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=qv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E2{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.Je=Cc(),this.He=Cc(),this.Ye=new ht(ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(a===0){const d=new pe(c.path);this.et(i,d,en.newNoDocument(d,Te.min()))}else Qe(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=nr(a).toUint8Array()}catch(y){if(y instanceof oE)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Um(d,o,c)}catch(y){return $a(y instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&rm(g.target)){const y=new pe(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,en.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Le();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new ph(e,i,this.Ye,this.je,a);return this.je=as(),this.Je=Cc(),this.He=Cc(),this.Ye=new ht(ke),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new zv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new kt(ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new kt(ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Cc(){return new ht(pe.comparator)}function qv(){return new ht(pe.comparator)}const T2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A2={and:"AND",or:"OR"};class S2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function om(s,e){return s.useProto3Json||uh(e)?e:{value:e}}function Xc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function w2(s,e){return Xc(s,e.toTimestamp())}function Ii(s){return Qe(!!s,49232),Te.fromTimestamp((function(i){const a=tr(i);return new at(a.seconds,a.nanos)})(s))}function jm(s,e){return um(s,e).canonicalString()}function um(s,e){const i=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function PE(s){const e=it.fromString(s);return Qe(FE(e),10190,{key:e.toString()}),e}function cm(s,e){return jm(s.databaseId,e.path)}function zd(s,e){const i=PE(e);if(i.get(1)!==s.databaseId.projectId)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new re($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(qE(i))}function zE(s,e){return jm(s.databaseId,e)}function R2(s){const e=PE(s);return e.length===4?it.emptyPath():qE(e)}function hm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qE(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Bv(s,e,i){return{name:cm(s,e),fields:i.value.mapValue.fields}}function x2(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Qe(A===void 0||typeof A=="string",58123),$t.fromBase64String(A||"")):(Qe(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),$t.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:kE(_.code);return new re(A,_.message||"")})(d);i=new UE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=zd(s,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):Te.min(),g=new pn({mapValue:{fields:a.document.fields}}),y=en.newFoundDocument(o,c,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new kc(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=zd(s,a.document),c=a.readTime?Ii(a.readTime):Te.min(),d=en.newNoDocument(o,c),g=a.removedTargetIds||[];i=new kc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=zd(s,a.document),c=a.removedTargetIds||[];i=new kc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new g2(o,c),g=a.targetId;i=new LE(g,d)}}return i}function C2(s,e){let i;if(e instanceof qo)i={update:Bv(s,e.key,e.value)};else if(e instanceof km)i={delete:cm(s,e.key)};else if(e instanceof lr)i={update:Bv(s,e.key,e.data),updateMask:U2(e.fieldMask)};else{if(!(e instanceof d2))return ve(16599,{Vt:e.type});i={verify:cm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ko)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:w2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function I2(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ii(o.updateTime):Ii(c);return d.isEqual(Te.min())&&(d=Ii(c)),new c2(d,o.transformResults||[])})(i,e)))):[]}function N2(s,e){return{documents:[zE(s,e.path)]}}function D2(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=zE(s,o);const c=(function(_){if(_.length!==0)return HE(si.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:Ba(M.field),direction:M2(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=om(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function O2(s){let e=R2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Qe(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const M=BE(w);return M instanceof si&&_E(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(ee){return new Mo(Ha(ee.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,uh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,K=w.values||[];return new Qc(K,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,K=w.values||[];return new Qc(K,M)})(i.endAt)),Zw(e,o,d,c,g,"F",y,_)}function V2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function BE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return It.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(i.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return It.create(Ha(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((a=>BE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function M2(s){return T2[s]}function k2(s){return b2[s]}function L2(s){return A2[s]}function Ba(s){return{fieldPath:s.canonicalString()}}function Ha(s){return Yt.fromServerFormat(s.fieldPath)}function HE(s){return s instanceof It?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:k2(i.op),value:i.value}}})(s):s instanceof si?(function(i){const a=i.getFilters().map((o=>HE(o)));return a.length===1?a[0]:{compositeFilter:{op:L2(i.op),filters:a}}})(s):ve(54877,{filter:s})}function U2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function FE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ks{constructor(e,i,a,o,c=Te.min(),d=Te.min(),g=$t.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class j2{constructor(e){this.yt=e}}function P2(s){const e=O2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?lm(e,e.limit,"L"):e}class z2{constructor(){this.Cn=new q2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(er.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(er.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class q2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new kt(it.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(GE,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Fv="LruGarbageCollector",B2=1048576;function Gv([s,e],[i,a]){const o=ke(s,i);return o===0?ke(e,a):o}class H2{constructor(e){this.Ir=e,this.buffer=new kt(Gv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class F2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(Fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?ae(Fv,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Vr(3e5)}))}}class G2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(oh.ce);const a=new H2(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Hv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),za()<=Me.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function Q2(s,e){return new G2(s,e)}class K2{constructor(){this.changes=new Xr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Y2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class X2{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&xo(a.mutation,o,wn.empty(),at.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Le()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Le()){const o=Pr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Eo();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Pr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Le())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=as();const d=Ro(),g=(function(){return Ro()})();return i.forEach(((y,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof lr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),xo(A.mutation,_,A.mutation.getFieldMask(),at.now())):d.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new Y2(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Ro();let o=new ht(((d,g)=>d-g)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||wn.empty();A=g.applyToLocalView(_,A),a.set(y,A);const w=(o.get(g.batchId)||Le()).add(y);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,w=xE();A.forEach((M=>{if(!c.has(M)){const K=VE(i.get(M),a.get(M));K!==null&&w.set(M,K),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(Pr());let g=No,y=c;return d.next((_=>Z.forEach(_,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{y=y.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Le()))).next((A=>({batchId:g,changes:RE(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=Eo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Eo();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const _=(function(w,M){return new ul(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next((A=>{A.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))}));let g=Eo();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&xo(A.mutation,_,wn.empty(),at.now()),fh(i,_)&&(g=g.insert(y,_))})),g}))}}class $2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:P2(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),Z.resolve()}}class Z2{constructor(){this.overlays=new ht(pe.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Pr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=Pr(),c=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new ht(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=Pr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Pr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new p2(i,a));let c=this.qr.get(i);c===void 0&&(c=Le(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class J2{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Pm{constructor(){this.Qr=new kt(Pt.$r),this.Ur=new kt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Pt(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Pt(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new pe(new it([])),a=new Pt(i,e),o=new Pt(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new it([])),a=new Pt(i,e),o=new Pt(i,e+1);let c=Le();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Pt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||ke(e.Yr,i.Yr)}static Kr(e,i){return ke(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class W2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Pt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new m2(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Pt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new kt(ke);return i.forEach((o=>{const c=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new pe(c),0);let g=new kt(ke);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Qe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Pt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Pt(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class eR{constructor(e){this.ri=e,this.docs=(function(){return new ht(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():en.newInvalidDocument(i))}getEntries(e,i){let a=as();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=as();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Iw(Cw(A),a)<=0||(o.has(A.key)||fh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){ve(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new tR(this)}getSize(e){return Z.resolve(this.size)}}class tR extends K2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class nR{constructor(e){this.persistence=e,this.si=new Xr((i=>Dm(i)),Om),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class QE{constructor(e,i){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new J2,this.referenceDelegate=e(this),this.Pi=new nR(this),this.indexManager=new z2,this.remoteDocumentCache=(function(o){return new eR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new j2(i),this.Ii=new $2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Z2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new W2(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new iR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class iR extends Dw{constructor(e){super(),this.currentSequenceNumber=e}}class zm{constructor(e){this.persistence=e,this.Ri=new Pm,this.Vi=null}static mi(e){return new zm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=pe.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class $c{constructor(e,i){this.persistence=e,this.pi=new Xr((a=>Mw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Q2(this,i)}static mi(e,i){return new $c(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Oc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Le(),o=Le();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qm(e,i.fromCache,a,o)}}class sR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $A()?8:Ow(tn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new sR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(za()<=Me.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(za()<=Me.DEBUG&&ae("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(za()<=Me.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(i))):Z.resolve())}ys(e,i){if(Vv(i))return Z.resolve(null);let a=Ci(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=lm(i,null,"F"),a=Ci(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Le(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,lm(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,o){return Vv(i)||o.isEqual(Te.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(za()<=Me.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(i)),this.vs(e,d,i,xw(o,No)).next((g=>g)))}))}Ds(e,i){let a=new kt(SE(e));return i.forEach(((o,c)=>{fh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return za()<=Me.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(e,i,er.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",aR=3e8;class lR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ht(ke),this.xs=new Xr((c=>Dm(c)),Om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function oR(s,e,i,a){return new lR(s,e,i,a)}async function KE(s,e){const i=we(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Le();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function uR(s,e){const i=we(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const w=_.batch,M=w.keys();let K=Z.resolve();return M.forEach((ee=>{K=K.next((()=>A.getEntry(y,ee))).next((ie=>{const te=_.docVersions.get(ee);Qe(te!==null,48541),ie.version.compareTo(te)<0&&(w.applyToRemoteDocument(ie,_),ie.isValidDocument()&&(ie.setReadTime(_.commitVersion),A.addEntry(ie)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Le();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function YE(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function cR(s,e){const i=we(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,w)=>{const M=o.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let K=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken($t.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,a)),o=o.insert(w,K),(function(ie,te,ge){return ie.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=aR?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(M,K,A)&&g.push(i.Pi.updateTargetData(c,K))}));let y=as(),_=Le();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(hR(c,d,e.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(Te.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function hR(s,e,i){let a=Le(),o=Le();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=as();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ae(Bm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function fR(s,e){const i=we(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function dR(s,e){const i=we(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Ks(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fm(s,e,i){const a=we(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;ae(Bm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Qv(s,e,i){const a=we(s);let o=Te.min(),c=Le();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const w=we(y),M=w.xs.get(A);return M!==void 0?Z.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,A)})(a,d,Ci(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Te.min(),i?c:Le()))).next((g=>(mR(a,Ww(e),g),{documents:g,Qs:c})))))}function mR(s,e,i){let a=s.Os.get(e)||Te.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class Kv{constructor(){this.activeTargetIds=r2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pR{constructor(){this.Mo=new Kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Kv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gR{Oo(e){}shutdown(){}}const Yv="ConnectivityMonitor";class Xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(Yv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(Yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function dm(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const qd="RestConnection",yR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _R{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=dm(),g=this.zo(e,i.toUriEncodedString());ae(qd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),A=sl(_);return this.Jo(e,g,y,a,A).then((w=>(ae(qd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw $a(qd,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=yR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class vR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class ER extends _R{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=dm();return new Promise(((g,y)=>{const _=new Z0;_.setWithCredentials(!0),_.listenOnce(J0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Dc.NO_ERROR:const w=_.getResponseJson();ae(Jt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Dc.TIMEOUT:ae(Jt,`RPC '${e}' ${d} timed out`),y(new re($.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const M=_.getStatus();if(ae(Jt,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const ee=K?.error;if(ee&&ee.status&&ee.message){const ie=(function(ge){const be=ge.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(be)>=0?be:$.UNKNOWN})(ee.status);y(new re(ie,ee.message))}else y(new re($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new re($.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ae(Jt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ae(Jt,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const o=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tE(),g=eE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");ae(Jt,`Creating RPC '${e}' stream ${o}: ${A}`,y);const w=d.createWebChannel(A,y);this.I_(w);let M=!1,K=!1;const ee=new vR({Yo:te=>{K?ae(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,te):(M||(ae(Jt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),M=!0),ae(Jt,`RPC '${e}' stream ${o} sending:`,te),w.send(te))},Zo:()=>w.close()}),ie=(te,ge,be)=>{te.listen(ge,(_e=>{try{be(_e)}catch(Fe){setTimeout((()=>{throw Fe}),0)}}))};return ie(w,vo.EventType.OPEN,(()=>{K||(ae(Jt,`RPC '${e}' stream ${o} transport opened.`),ee.o_())})),ie(w,vo.EventType.CLOSE,(()=>{K||(K=!0,ae(Jt,`RPC '${e}' stream ${o} transport closed`),ee.a_(),this.E_(w))})),ie(w,vo.EventType.ERROR,(te=>{K||(K=!0,$a(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,te.name,"Message:",te.message),ee.a_(new re($.UNAVAILABLE,"The operation could not be completed")))})),ie(w,vo.EventType.MESSAGE,(te=>{if(!K){const ge=te.data[0];Qe(!!ge,16349);const be=ge,_e=be?.error||be[0]?.error;if(_e){ae(Jt,`RPC '${e}' stream ${o} received error:`,_e);const Fe=_e.status;let fe=(function(S){const R=Ct[S];if(R!==void 0)return kE(R)})(Fe),ue=_e.message;fe===void 0&&(fe=$.INTERNAL,ue="Unknown error status: "+Fe+" with message "+_e.message),K=!0,ee.a_(new re(fe,ue)),w.close()}else ae(Jt,`RPC '${e}' stream ${o} received:`,ge),ee.u_(ge)}})),ie(g,W0.STAT_EVENT,(te=>{te.stat===em.PROXY?ae(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):te.stat===em.NOPROXY&&ae(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Bd(){return typeof document<"u"?document:null}function gh(s){return new S2(s,!0)}class XE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const $v="PersistentStream";class $E{constructor(e,i,a,o,c,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new re($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae($v,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TR extends $E{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=x2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Ii(d.readTime):Te.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=rm(y)?{documents:N2(c,y)}:{query:D2(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=jE(c,d.resumeToken);const _=om(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Te.min())>0){g.readTime=Xc(c,d.snapshotVersion.toTimestamp());const _=om(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=V2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hm(this.serializer),i.removeTarget=e,this.q_(i)}}class bR extends $E{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=I2(e.writeResults,e.commitTime),a=Ii(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>C2(this.serializer,a)))};this.q_(i)}}class AR{}class SR extends AR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,um(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re($.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,um(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class RR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{$r(this)&&(ae(Kr,"Restarting streams for network reachability change."),await(async function(y){const _=we(y);_.Ea.add(4),await Ho(_),_.Ra.set("Unknown"),_.Ea.delete(4),await yh(_)})(this))}))})),this.Ra=new wR(a,o)}}async function yh(s){if($r(s))for(const e of s.da)await e(!0)}async function Ho(s){for(const e of s.da)await e(!1)}function ZE(s,e){const i=we(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Qm(i)?Gm(i):cl(i).O_()&&Fm(i,e))}function Hm(s,e){const i=we(s),a=cl(i);i.Ia.delete(e),a.O_()&&JE(i,e),i.Ia.size===0&&(a.O_()?a.L_():$r(i)&&i.Ra.set("Unknown"))}function Fm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}cl(s).Y_(e)}function JE(s,e){s.Va.Ue(e),cl(s).Z_(e)}function Gm(s){s.Va=new E2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),cl(s).start(),s.Ra.ua()}function Qm(s){return $r(s)&&!cl(s).x_()&&s.Ia.size>0}function $r(s){return we(s).Ea.size===0}function WE(s){s.Va=void 0}async function xR(s){s.Ra.set("Online")}async function CR(s){s.Ia.forEach(((e,i)=>{Fm(s,e)}))}async function IR(s,e){WE(s),Qm(s)?(s.Ra.ha(e),Gm(s)):s.Ra.set("Unknown")}async function NR(s,e,i){if(s.Ra.set("Online"),e instanceof UE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){ae(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Zc(s,a)}else if(e instanceof kc?s.Va.Ze(e):e instanceof LE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Te.min()))try{const a=await YE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken($t.EMPTY_BYTE_STRING,A.snapshotVersion)),JE(c,y);const w=new Ks(A.target,y,_,A.sequenceNumber);Fm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ae(Kr,"Failed to raise snapshot:",a),await Zc(s,a)}}async function Zc(s,e,i){if(!ol(e))throw e;s.Ea.add(1),await Ho(s),s.Ra.set("Offline"),i||(i=()=>YE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(Kr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await yh(s)}))}function eT(s,e){return e().catch((i=>Zc(s,i,e)))}async function _h(s){const e=we(s),i=sr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cm;for(;DR(e);)try{const o=await fR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,OR(e,o)}catch(o){await Zc(e,o)}tT(e)&&nT(e)}function DR(s){return $r(s)&&s.Ta.length<10}function OR(s,e){s.Ta.push(e);const i=sr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function tT(s){return $r(s)&&!sr(s).x_()&&s.Ta.length>0}function nT(s){sr(s).start()}async function VR(s){sr(s).ra()}async function MR(s){const e=sr(s);for(const i of s.Ta)e.ea(i.mutations)}async function kR(s,e,i){const a=s.Ta.shift(),o=Lm.from(a,e,i);await eT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await _h(s)}async function LR(s,e){e&&sr(s).X_&&await(async function(a,o){if((function(d){return y2(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();sr(a).B_(),await eT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await _h(a)}})(s,e),tT(s)&&nT(s)}async function Zv(s,e){const i=we(s);i.asyncQueue.verifyOperationInProgress(),ae(Kr,"RemoteStore received new credentials");const a=$r(i);i.Ea.add(3),await Ho(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await yh(i)}async function UR(s,e){const i=we(s);e?(i.Ea.delete(2),await yh(i)):e||(i.Ea.add(2),await Ho(i),i.Ra.set("Unknown"))}function cl(s){return s.ma||(s.ma=(function(i,a,o){const c=we(i);return c.sa(),new TR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:xR.bind(null,s),t_:CR.bind(null,s),r_:IR.bind(null,s),H_:NR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Qm(s)?Gm(s):s.Ra.set("Unknown")):(await s.ma.stop(),WE(s))}))),s.ma}function sr(s){return s.fa||(s.fa=(function(i,a,o){const c=we(i);return c.sa(),new bR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VR.bind(null,s),r_:LR.bind(null,s),ta:MR.bind(null,s),na:kR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await _h(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(Kr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Km{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new Km(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(s,e){if(rs("AsyncQueue",`${e}: ${s}`),ol(s))return new re($.UNAVAILABLE,`${e}: ${s}`);throw s}class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Eo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class Jv{constructor(){this.ga=new ht(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class tl{constructor(e,i,a,o,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new tl(e,i,Fa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class jR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PR{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=we(i),c=o.queries;o.queries=Wv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new re($.ABORTED,"Firestore shutting down"))}}function Wv(){return new Xr((s=>AE(s)),hh)}async function zR(s,e){const i=we(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new jR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Ym(d,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Xm(i)}async function qR(s,e){const i=we(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function BR(s,e){const i=we(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Xm(i)}function HR(s,e,i){const a=we(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function Xm(s){s.Ca.forEach((e=>{e.next()}))}var mm,e0;(e0=mm||(mm={})).Ma="default",e0.Cache="cache";class FR{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new tl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}class iT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class GR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=SE(e),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Jv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,w)=>{const M=o.get(A),K=fh(this.query,w)?w:null,ee=!!M&&this.mutatedKeys.has(M.key),ie=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let te=!1;M&&K?M.data.isEqual(K.data)?ee!==ie&&(a.track({type:3,doc:K}),te=!0):this.su(M,K)||(a.track({type:2,doc:K}),te=!0,(y&&this.eu(K,y)>0||_&&this.eu(K,_)<0)&&(g=!0)):!M&&K?(a.track({type:0,doc:K}),te=!0):M&&!K&&(a.track({type:1,doc:M}),te=!0,(y||_)&&(g=!0)),te&&(K?(d=d.add(K),c=ie?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(K,ee){const ie=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:te})}};return ie(K)-ie(ee)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new tl(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new sT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new iT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Le();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $m="SyncEngine";class QR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class KR{constructor(e){this.key=e,this.hu=!1}}class YR{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((g=>AE(g)),hh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(pe.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XR(s,e,i=!0){const a=cT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await rT(a,e,i,!0),o}async function $R(s,e){const i=cT(s);await rT(i,e,!0,!1)}async function rT(s,e,i,a){const o=await dR(s.localStore,Ci(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await ZR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&ZE(s.remoteStore,o),g}async function ZR(s,e,i,a,o){s.pu=(w,M,K)=>(async function(ie,te,ge,be){let _e=te.view.ru(ge);_e.Cs&&(_e=await Qv(ie.localStore,te.query,!1).then((({documents:x})=>te.view.ru(x,_e))));const Fe=be&&be.targetChanges.get(te.targetId),fe=be&&be.targetMismatches.get(te.targetId)!=null,ue=te.view.applyChanges(_e,ie.isPrimaryClient,Fe,fe);return n0(ie,te.targetId,ue.au),ue.snapshot})(s,w,M,K);const c=await Qv(s.localStore,e,!0),d=new GR(e,c.Qs),g=d.ru(c.documents),y=Bo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,y);n0(s,i,_.au);const A=new QR(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function JR(s,e,i){const a=we(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!hh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Hm(a.remoteStore,o.targetId),pm(a,o.targetId)})).catch(ll)):(pm(a,o.targetId),await fm(a.localStore,o.targetId,!0))}async function WR(s,e){const i=we(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hm(i.remoteStore,a.targetId))}async function ex(s,e,i){const a=lx(s);try{const o=await(function(d,g){const y=we(d),_=at.now(),A=g.reduce(((K,ee)=>K.add(ee.key)),Le());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let ee=as(),ie=Le();return y.Ns.getEntries(K,A).next((te=>{ee=te,ee.forEach(((ge,be)=>{be.isValidDocument()||(ie=ie.add(ge))}))})).next((()=>y.localDocuments.getOverlayedDocuments(K,ee))).next((te=>{w=te;const ge=[];for(const be of g){const _e=f2(be,w.get(be.key).overlayedDocument);_e!=null&&ge.push(new lr(be.key,_e,pE(_e.value.mapValue),ni.exists(!0)))}return y.mutationQueue.addMutationBatch(K,_,ge,g)})).next((te=>{M=te;const ge=te.applyToLocalDocumentSet(w,ie);return y.documentOverlayCache.saveOverlays(K,te.batchId,ge)}))})).then((()=>({batchId:M.batchId,changes:RE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ht(ke)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await Fo(a,o.changes),await _h(a.remoteStore)}catch(o){const c=Ym(o,"Failed to persist write");i.reject(c)}}async function aT(s,e){const i=we(s);try{const a=await cR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Qe(d.hu,14607):o.removedDocuments.size>0&&(Qe(d.hu,42227),d.hu=!1))})),await Fo(i,a,e)}catch(a){await ll(a)}}function t0(s,e,i){const a=we(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=we(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&Xm(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function tx(s,e,i){const a=we(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new ht(pe.comparator);d=d.insert(c,en.newNoDocument(c,Te.min()));const g=Le().add(c),y=new ph(Te.min(),new Map,new ht(ke),d,g);await aT(a,y),a.du=a.du.remove(c),a.Au.delete(e),Zm(a)}else await fm(a.localStore,e,!1).then((()=>pm(a,e,i))).catch(ll)}async function nx(s,e){const i=we(s),a=e.batch.batchId;try{const o=await uR(i.localStore,e);oT(i,a,null),lT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Fo(i,o)}catch(o){await ll(o)}}async function ix(s,e,i){const a=we(s);try{const o=await(function(d,g){const y=we(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(Qe(w!==null,37113),A=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);oT(a,e,i),lT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Fo(a,o)}catch(o){await ll(o)}}function lT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function oT(s,e,i){const a=we(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function pm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||uT(s,a)}))}function uT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Hm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Zm(s))}function n0(s,e,i){for(const a of i)a instanceof iT?(s.Ru.addReference(a.key,e),sx(s,a)):a instanceof sT?(ae($m,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||uT(s,a.key)):ve(19791,{wu:a})}function sx(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ae($m,"New document in limbo: "+i),s.Eu.add(a),Zm(s))}function Zm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(it.fromString(e)),a=s.fu.next();s.Au.set(a,new KR(i)),s.du=s.du.insert(i,a),ZE(s.remoteStore,new Ks(Ci(Vm(i.path)),a,"TargetPurposeLimboResolution",oh.ce))}}async function Fo(s,e,i){const a=we(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=qm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const A=we(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(M=>Z.forEach(M.Es,(K=>A.persistence.referenceDelegate.addReference(w,M.targetId,K))).next((()=>Z.forEach(M.ds,(K=>A.persistence.referenceDelegate.removeReference(w,M.targetId,K)))))))))}catch(w){if(!ol(w))throw w;ae(Bm,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const K=A.Ms.get(M),ee=K.snapshotVersion,ie=K.withLastLimboFreeSnapshotVersion(ee);A.Ms=A.Ms.insert(M,ie)}}})(a.localStore,c))}async function rx(s,e){const i=we(s);if(!i.currentUser.isEqual(e)){ae($m,"User change. New user:",e.toKey());const a=await KE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new re($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Fo(i,a.Ls)}}function ax(s,e){const i=we(s),a=i.Au.get(e);if(a&&a.hu)return Le().add(a.key);{let o=Le();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function cT(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tx.bind(null,e),e.Pu.H_=BR.bind(null,e.eventManager),e.Pu.yu=HR.bind(null,e.eventManager),e}function lx(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return oR(this.persistence,new rR,e.initialUser,this.serializer)}Cu(e){return new QE(zm.mi,this.serializer)}Du(e){return new pR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class ox extends Jc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Qe(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new F2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new QE((a=>$c.mi(a,i)),this.serializer)}}class gm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>t0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rx.bind(null,this.syncEngine),await UR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PR})()}createDatastore(e){const i=gh(e.databaseInfo.databaseId),a=(function(c){return new ER(c)})(e.databaseInfo);return(function(c,d,g,y){return new SR(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new RR(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>t0(this.syncEngine,i,0)),(function(){return Xv.v()?new Xv:new gR})())}createSyncEngine(e,i){return(function(o,c,d,g,y,_,A){const w=new YR(o,c,d,g,y,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=we(i);ae(Kr,"RemoteStore shutting down."),a.Ea.add(5),await Ho(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const rr="FirestoreClient";class cx{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Ym(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Hd(s,e){s.asyncQueue.verifyOperationInProgress(),ae(rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await KE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function i0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await hx(s);ae(rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Zv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Zv(e.remoteStore,o))),s._onlineComponents=e}async function hx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(rr,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new Jc)}}else ae(rr,"Using default OfflineComponentProvider"),await Hd(s,new ox(void 0));return s._offlineComponents}async function hT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(rr,"Using user provided OnlineComponentProvider"),await i0(s,s._uninitializedComponentsProvider._online)):(ae(rr,"Using default OnlineComponentProvider"),await i0(s,new gm))),s._onlineComponents}function fx(s){return hT(s).then((e=>e.syncEngine))}async function s0(s){const e=await hT(s),i=e.eventManager;return i.onListen=XR.bind(null,e.syncEngine),i.onUnlisten=JR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$R.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=WR.bind(null,e.syncEngine),i}function fT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const r0=new Map;const dT="firestore.googleapis.com",a0=!0;class l0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=a0}else this.host=e.host,this.ssl=e.ssl??a0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B2)throw new re($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new re($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new gw;switch(a.type){case"firstParty":return new Ew(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new re($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=r0.get(i);a&&(ae("ComponentProvider","Removing Datastore"),r0.delete(i),a.terminate())})(this),Promise.resolve()}}function dx(s,e,i,a={}){s=Js(s,vh);const o=sl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(B0(`https://${g}`),H0("Firestore",!0)),c.host!==dT&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!Fr(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Wt.MOCK_USER;else{_=qA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new re($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Wt(w)}s._authCredentials=new yw(new iE(_,A))}}class Zr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class Dt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(zo(i,Dt._jsonSchema))return new Dt(e,a||null,new pe(it.fromString(i.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Nt("string",Dt._jsonSchemaVersion),referencePath:Nt("string")};class Ws extends Zr{constructor(e,i,a){super(e,i,Vm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new pe(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function Fd(s,e,...i){if(s=Xt(s),sE("collection","path",e),s instanceof vh){const a=it.fromString(e,...i);return vv(a),new Ws(s,null,a)}{if(!(s instanceof Dt||s instanceof Ws))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(it.fromString(e,...i));return vv(a),new Ws(s.firestore,null,a)}}function ym(s,e,...i){if(s=Xt(s),arguments.length===1&&(e=xm.newId()),sE("doc","path",e),s instanceof vh){const a=it.fromString(e,...i);return _v(a),new Dt(s,null,new pe(a))}{if(!(s instanceof Dt||s instanceof Ws))throw new re($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(it.fromString(e,...i));return _v(a),new Dt(s.firestore,s instanceof Ws?s.converter:null,new pe(a))}}const o0="AsyncQueue";class u0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&ae(o0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;ae(o0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",c0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Km.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function c0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function h0(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class nl extends vh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new u0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u0(e),this._firestoreClient=void 0,await e}}}function mx(s,e){const i=typeof s=="object"?s:K0(),a=typeof s=="string"?s:Fc,o=wm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=PA("firestore");c&&dx(o,...c)}return o}function mT(s){if(s._terminated)throw new re($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||px(s),s._firestoreClient}function px(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new Uw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,fT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new cx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn($t.fromBase64String(e))}catch(i){throw new re($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zo(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Nt("string",zn._jsonSchemaVersion),bytes:Nt("string")};class Eh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new re($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jm{constructor(e){this._methodName=e}}class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new re($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new re($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(zo(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Nt("string",Ni._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zo(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Di(e.vectorValues);throw new re($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Nt("string",Di._jsonSchemaVersion),vectorValues:Nt("object")};const gx=/^__.*__$/;class yx{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,i,this.fieldTransforms):new qo(e,this.data,i,this.fieldTransforms)}}class pT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new lr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function gT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:s})}}class Wm{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gT(this.Ac)&&gx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _x{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||gh(e)}Cc(e,i,a,o=!1){return new Wm({Ac:e,methodName:i,Dc:a,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(s){const e=s._freezeSettings(),i=gh(s._databaseId);return new _x(s._databaseId,!!e.ignoreUndefinedProperties,i)}function vx(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);tp("Data must be an object, but it was:",d,a);const g=yT(a,d);let y,_;if(c.merge)y=new wn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const M=_m(e,w,i);if(!d.contains(M))throw new re($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);vT(A,M)||A.push(M)}y=new wn(A),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new yx(new pn(g),y,_)}class Th extends Jm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function Ex(s,e,i,a){const o=s.Cc(1,e,i);tp("Data must be an object, but it was:",o,a);const c=[],d=pn.empty();ar(a,((y,_)=>{const A=np(e,y,i);_=Xt(_);const w=o.yc(A);if(_ instanceof Th)c.push(A);else{const M=Go(_,w);M!=null&&(c.push(A),d.set(A,M))}}));const g=new wn(c);return new pT(d,g,o.fieldTransforms)}function Tx(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[_m(e,a,i)],y=[o];if(c.length%2!=0)throw new re($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(_m(e,c[M])),y.push(c[M+1]);const _=[],A=pn.empty();for(let M=g.length-1;M>=0;--M)if(!vT(_,g[M])){const K=g[M];let ee=y[M];ee=Xt(ee);const ie=d.yc(K);if(ee instanceof Th)_.push(K);else{const te=Go(ee,ie);te!=null&&(_.push(K),A.set(K,te))}}const w=new wn(_);return new pT(A,w,d.fieldTransforms)}function bx(s,e,i,a=!1){return Go(i,s.Cc(a?4:3,e))}function Go(s,e){if(_T(s=Xt(s)))return tp("Unsupported field value:",e,s),yT(s,e);if(s instanceof Jm)return(function(a,o){if(!gT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=Go(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Xt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return a2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=at.fromDate(a);return{timestampValue:Xc(o.serializer,c)}}if(a instanceof at){const c=new at(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,c)}}if(a instanceof Ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:jE(o.serializer,a._byteString)};if(a instanceof Dt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Di)return(function(d,g){return{mapValue:{fields:{[dE]:{stringValue:mE},[Gc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Mm(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${lh(a)}`)})(s,e)}function yT(s,e){const i={};return lE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ar(s,((a,o)=>{const c=Go(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function _T(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof at||s instanceof Ni||s instanceof zn||s instanceof Dt||s instanceof Jm||s instanceof Di)}function tp(s,e,i){if(!_T(i)||!rE(i)){const a=lh(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function _m(s,e,i){if((e=Xt(e))instanceof Eh)return e._internalPath;if(typeof e=="string")return np(s,e);throw Wc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ax=new RegExp("[~\\*/\\[\\]]");function np(s,e,i){if(e.search(Ax)>=0)throw Wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Eh(...e.split("."))._internalPath}catch{throw Wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Wc(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new re($.INVALID_ARGUMENT,g+s+y)}function vT(s,e){return s.some((i=>i.isEqual(e)))}class ET{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ip("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Sx extends ET{data(){return super.data()}}function ip(s,e){return typeof e=="string"?np(s,e):e instanceof Eh?e._internalPath:e._delegate._internalPath}function wx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new re($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class TT extends sp{}function f0(s,e,...i){let a=[];e instanceof sp&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof ap)).length,g=c.filter((y=>y instanceof rp)).length;if(d>1||d>0&&g>0)throw new re($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class rp extends TT{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new rp(e,i,a)}_apply(e){const i=this._parse(e);return bT(e._query,i),new Zr(e.firestore,e.converter,am(e._query,i))}_parse(e){const i=ep(e.firestore);return(function(c,d,g,y,_,A,w){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new re($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){m0(w,A);const ee=[];for(const ie of w)ee.push(d0(y,c,ie));M={arrayValue:{values:ee}}}else M=d0(y,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||m0(w,A),M=bx(g,d,w,A==="in"||A==="not-in");return It.create(_,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class ap extends sp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new ap(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)bT(d,y),d=am(d,y)})(e._query,i),new Zr(e.firestore,e.converter,am(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lp extends TT{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new lp(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new re($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mo(c,d)})(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new ul(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Rx(s,e="asc"){const i=e,a=ip("orderBy",s);return lp._create(a,i)}function d0(s,e,i){if(typeof(i=Xt(i))=="string"){if(i==="")throw new re($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bE(e)&&i.indexOf("/")!==-1)throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(it.fromString(i));if(!pe.isDocumentKey(a))throw new re($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return xv(s,new pe(a))}if(i instanceof Dt)return xv(s,i._key);throw new re($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function m0(s,e){if(!Array.isArray(s)||s.length===0)throw new re($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bT(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new re($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class xx{convertValue(e,i="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ar(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Gc].arrayValue?.values?.map((a=>_t(a.doubleValue)));return new Di(i)}convertGeoPoint(e){return new Ni(_t(e.latitude),_t(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ch(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const i=tr(e);return new at(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=it.fromString(e);Qe(FE(a),9688,{name:e});const o=new Oo(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Cx(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class bo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Br extends ET{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(ip("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Br._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Nt("string",Br._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Lc extends Br{data(e={}){return super.data(e)}}class Ga{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Lc(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new re($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Lc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Lc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Ix(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ix(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Nt("string",Ga._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class AT extends xx{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,i)}}function Nx(s,e,i,...a){s=Js(s,Dt);const o=Js(s.firestore,nl),c=ep(o);let d;return d=typeof(e=Xt(e))=="string"||e instanceof Eh?Tx(c,"updateDoc",s._key,e,i,a):Ex(c,"updateDoc",s._key,e),op(o,[d.toMutation(s._key,ni.exists(!0))])}function Dx(s){return op(Js(s.firestore,nl),[new km(s._key,ni.none())])}function Ox(s,e){const i=Js(s.firestore,nl),a=ym(s),o=Cx(s.converter,e);return op(i,[vx(ep(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ni.exists(!1))]).then((()=>a))}function p0(s,...e){s=Xt(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||h0(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(h0(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,g;if(s instanceof Dt)d=Js(s.firestore,nl),g=Vm(s._key.path),c={next:y=>{e[a]&&e[a](Vx(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=Js(s,Zr);d=Js(y.firestore,nl),g=y._query;const _=new AT(d);c={next:A=>{e[a]&&e[a](new Ga(d,_,y,A))},error:e[a+1],complete:e[a+2]},wx(s._query)}return(function(_,A,w,M){const K=new ux(M),ee=new FR(A,K,w);return _.asyncQueue.enqueueAndForget((async()=>zR(await s0(_),ee))),()=>{K.Nu(),_.asyncQueue.enqueueAndForget((async()=>qR(await s0(_),ee)))}})(mT(d),g,o,c)}function op(s,e){return(function(a,o){const c=new qr;return a.asyncQueue.enqueueAndForget((async()=>ex(await fx(a),o,c))),c.promise})(mT(s),e)}function Vx(s,e,i){const a=i.docs.get(e._key),o=new AT(s);return new Br(s,o,e._key,a,new bo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){al=o})(rl),Xa(new Gr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new nl(new _w(a.getProvider("auth-internal")),new Tw(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new re($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(mv,pv,e),$s(mv,pv,"esm2020")})();function ST(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mx=ST,wT=new jo("auth","Firebase",ST());const eh=new Am("@firebase/auth");function kx(s,...e){eh.logLevel<=Me.WARN&&eh.warn(`Auth (${rl}): ${s}`,...e)}function Uc(s,...e){eh.logLevel<=Me.ERROR&&eh.error(`Auth (${rl}): ${s}`,...e)}function Mi(s,...e){throw cp(s,...e)}function ii(s,...e){return cp(s,...e)}function up(s,e,i){const a={...Mx(),[e]:i};return new jo("auth","Firebase",a).create(e,{appName:s.name})}function Hr(s){return up(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lx(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Mi(s,"argument-error"),up(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cp(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return wT.create(s,...e)}function Ee(s,e,...i){if(!s)throw cp(e,...i)}function ns(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Uc(e),new Error(e)}function ls(s,e){s||ns(e)}function vm(){return typeof self<"u"&&self.location?.href||""}function Ux(){return g0()==="http:"||g0()==="https:"}function g0(){return typeof self<"u"&&self.location?.protocol||null}function jx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ux()||KA()||"connection"in navigator)?navigator.onLine:!0}function Px(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Qo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ls(i>e,"Short delay should be less than long delay!"),this.isMobile=FA()||YA()}get(){return jx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hp(s,e){ls(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class RT{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bx=new Qo(3e4,6e4);function fp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function hl(s,e,i,a,o={}){return xT(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Po({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return QA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&sl(s.emulatorConfig.host)&&(_.credentials="include"),RT.fetch()(await CT(s,s.config.apiHost,i,g),_)})}async function xT(s,e,i){s._canInitEmulator=!1;const a={...zx,...e};try{const o=new Fx(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw up(s,A,_);Mi(s,A)}}catch(o){if(o instanceof os)throw o;Mi(s,"network-request-failed",{message:String(o)})}}async function Hx(s,e,i,a,o={}){const c=await hl(s,e,i,a,o);return"mfaPendingCredential"in c&&Mi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function CT(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?hp(s.config,o):`${s.config.apiScheme}://${o}`;return qx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Fx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ii(this.auth,"network-request-failed")),Bx.get())})}}function Nc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ii(s,e,a);return o.customData._tokenResponse=i,o}async function Gx(s,e){return hl(s,"POST","/v1/accounts:delete",e)}async function th(s,e){return hl(s,"POST","/v1/accounts:lookup",e)}function Co(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qx(s,e=!1){const i=Xt(s),a=await i.getIdToken(e),o=dp(a);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Co(Gd(o.auth_time)),issuedAtTime:Co(Gd(o.iat)),expirationTime:Co(Gd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Gd(s){return Number(s)*1e3}function dp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const o=j0(i);return o?JSON.parse(o):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function y0(s){const e=dp(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Uo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof os&&Kx(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Kx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Em{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(s){const e=s.auth,i=await s.getIdToken(),a=await Uo(s,th(e,{idToken:i}));Ee(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?IT(o.providerUserInfo):[],d=$x(s.providerData,c),g=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!d?.length,_=g?y:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function Xx(s){const e=Xt(s);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $x(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function IT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Zx(s,e){const i=await xT(s,{},async()=>{const a=Po({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await CT(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&sl(s.emulatorConfig.host)&&(y.credentials="include"),RT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Jx(s,e){return hl(s,"POST","/v2/accounts:revokeToken",fp(s,e))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=y0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Zx(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Qa;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Hs(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Qx(this,e)}reload(){return Xx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await Uo(this,Gx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:K,providerData:ee,stsTokenManager:ie}=i;Ee(w&&ie,e,"internal-error");const te=Qa.fromJSON(this.name,ie);Ee(typeof w=="string",e,"internal-error"),Hs(a,e.name),Hs(o,e.name),Ee(typeof M=="boolean",e,"internal-error"),Ee(typeof K=="boolean",e,"internal-error"),Hs(c,e.name),Hs(d,e.name),Hs(g,e.name),Hs(y,e.name),Hs(_,e.name),Hs(A,e.name);const ge=new ti({uid:w,auth:e,email:o,emailVerified:M,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:te,createdAt:_,lastLoginAt:A});return ee&&Array.isArray(ee)&&(ge.providerData=ee.map(be=>({...be}))),y&&(ge._redirectEventId=y),ge}static async _fromIdTokenResponse(e,i,a=!1){const o=new Qa;o.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?IT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(a);const y=new ti({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const _0=new Map;function is(s){ls(s instanceof Function,"Expected a class definition");let e=_0.get(s);return e?(ls(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,_0.set(s,e),e)}class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}NT.type="NONE";const v0=NT;function jc(s,e,i){return`firebase:${s}:${e}:${i}`}class Ka{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await th(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ka(is(v0),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||is(v0);const d=jc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const M=await th(e,{idToken:A}).catch(()=>{});if(!M)break;w=await ti._fromGetAccountInfoResponse(e,M,A)}else w=ti._fromJSON(e,A);_!==c&&(g=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ka(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,e,a))}}function E0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LT(e))return"Blackberry";if(UT(e))return"Webos";if(OT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function DT(s=tn()){return/firefox\//i.test(s)}function OT(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(s=tn()){return/crios\//i.test(s)}function MT(s=tn()){return/iemobile/i.test(s)}function kT(s=tn()){return/android/i.test(s)}function LT(s=tn()){return/blackberry/i.test(s)}function UT(s=tn()){return/webos/i.test(s)}function mp(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Wx(s=tn()){return mp(s)&&!!window.navigator?.standalone}function eC(){return XA()&&document.documentMode===10}function jT(s=tn()){return mp(s)||kT(s)||UT(s)||LT(s)||/windows phone/i.test(s)||MT(s)}function PT(s,e=[]){let i;switch(s){case"Browser":i=E0(tn());break;case"Worker":i=`${E0(tn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${rl}/${a}`}class tC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function nC(s,e={}){return hl(s,"GET","/v2/passwordPolicy",fp(s,e))}const iC=6;class sC{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??iC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class rC{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new tC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await th(this,{idToken:e}),a=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Px()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Hr(this));const i=e?Xt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nC(this),i=new sC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Jx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&is(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bh(s){return Xt(s)}class T0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iS(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(s){pp=s}function lC(s){return pp.loadJS(s)}function oC(){return pp.gapiScript}function uC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function cC(s,e){const i=wm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fr(c,e??{}))return o;Mi(o,"already-initialized")}return i.initialize({options:e})}function hC(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(is);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function fC(s,e,i){const a=bh(s);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=zT(e),{host:d,port:g}=dC(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(Fr(_,a.config.emulator)&&Fr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,sl(d)?(B0(`${c}//${d}${y}`),H0("Auth",!0)):mC()}function zT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function dC(s){const e=zT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:b0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:b0(d)}}}function b0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function mC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class qT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,i){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function Ya(s,e){return Hx(s,"POST","/v1/accounts:signInWithIdp",fp(s,e))}const pC="http://localhost";class Yr extends qT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Mi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Yr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ya(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ya(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ya(e,i)}buildRequest(){const e={requestUri:pC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Po(i)}return e}}class gp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ko extends gp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fs extends Ko{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class ts extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Yr._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ts.credential(i,a)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class Gs extends Ko{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Qs extends Ko{constructor(){super("twitter.com")}static credential(e,i){return Yr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ti._fromIdTokenResponse(e,a,o),d=A0(a);return new il({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=A0(a);return new il({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function A0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class ih extends os{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new ih(e,i,a,o)}}function BT(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(s,c,e,a):c})}async function gC(s,e,i=!1){const a=await Uo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return il._forOperation(s,"link",a)}async function yC(s,e,i=!1){const{auth:a}=s;if(ei(a.app))return Promise.reject(Hr(a));const o="reauthenticate";try{const c=await Uo(s,BT(a,o,e,s),i);Ee(c.idToken,a,"internal-error");const d=dp(c.idToken);Ee(d,a,"internal-error");const{sub:g}=d;return Ee(s.uid===g,a,"user-mismatch"),il._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Mi(a,"user-mismatch"),c}}async function _C(s,e,i=!1){if(ei(s.app))return Promise.reject(Hr(s));const a="signIn",o=await BT(s,a,e),c=await il._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function vC(s,e,i,a){return Xt(s).onIdTokenChanged(e,i,a)}function EC(s,e,i){return Xt(s).beforeAuthStateChanged(e,i)}function S0(s){return Xt(s).signOut()}const sh="__sak";class HT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TC=1e3,bC=10;class FT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);eC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bC):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}FT.type="LOCAL";const AC=FT;class GT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}GT.type="SESSION";const QT=GT;function SC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Ah(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await SC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function yp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class wC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=yp("",20);o.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function RC(s){Oi().location.href=s}function KT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function xC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CC(){return navigator?.serviceWorker?.controller||null}function IC(){return KT()?self:null}const YT="firebaseLocalStorageDb",NC=1,rh="firebaseLocalStorage",XT="fbase_key";class Yo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(s,e){return s.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function DC(){const s=indexedDB.deleteDatabase(YT);return new Yo(s).toPromise()}function Tm(){const s=indexedDB.open(YT,NC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(rh,{keyPath:XT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(rh)?e(a):(a.close(),await DC(),e(await Tm()))})})}async function w0(s,e,i){const a=Sh(s,!0).put({[XT]:e,value:i});return new Yo(a).toPromise()}async function OC(s,e){const i=Sh(s,!1).get(e),a=await new Yo(i).toPromise();return a===void 0?null:a.value}function R0(s,e){const i=Sh(s,!0).delete(e);return new Yo(i).toPromise()}const VC=800,MC=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>MC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(IC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xC(),!this.activeServiceWorker)return;this.sender=new wC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await w0(e,sh,"1"),await R0(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>w0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>OC(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>R0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Sh(o,!1).getAll();return new Yo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const kC=$T;new Qo(3e4,6e4);function ZT(s,e){return e?is(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class _p extends qT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ya(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function LC(s){return _C(s.auth,new _p(s),s.bypassAuthState)}function UC(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),yC(i,new _p(s),s.bypassAuthState)}async function jC(s){const{auth:e,user:i}=s;return Ee(i,e,"internal-error"),gC(i,new _p(s),s.bypassAuthState)}class JT{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return UC;default:Mi(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PC=new Qo(2e3,1e4);async function zC(s,e,i){if(ei(s.app))return Promise.reject(ii(s,"operation-not-supported-in-this-environment"));const a=bh(s);Lx(s,e,gp);const o=ZT(a,i);return new zr(a,"signInViaPopup",e,o).executeNotNull()}class zr extends JT{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}zr.currentPopupAction=null;const qC="pendingRedirect",Pc=new Map;class BC extends JT{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const a=await HC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HC(s,e){const i=QC(e),a=GC(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function FC(s,e){Pc.set(s._key(),e)}function GC(s){return is(s._redirectPersistence)}function QC(s){return jc(qC,s.config.apiKey,s.name)}async function KC(s,e,i=!1){if(ei(s.app))return Promise.reject(Hr(s));const a=bh(s),o=ZT(a,e),d=await new BC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const YC=600*1e3;class XC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$C(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!WT(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ii(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YC&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function WT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function $C(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WT(s);default:return!1}}async function ZC(s,e={}){return hl(s,"GET","/v1/projects",e)}const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function eI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ZC(s);for(const i of e)try{if(tI(i))return}catch{}Mi(s,"unauthorized-domain")}function tI(s){const e=vm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!WC.test(i))return!1;if(JC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const nI=new Qo(3e4,6e4);function C0(){const s=Oi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function iI(s){return new Promise((e,i)=>{function a(){C0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C0(),i(ii(s,"network-request-failed"))},timeout:nI.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)a();else{const o=uC("iframefcb");return Oi()[o]=()=>{gapi.load?a():i(ii(s,"network-request-failed"))},lC(`${oC()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw zc=null,e})}let zc=null;function sI(s){return zc=zc||iI(s),zc}const rI=new Qo(5e3,15e3),aI="__/auth/iframe",lI="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cI(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?hp(e,lI):`https://${s.config.authDomain}/${aI}`,a={apiKey:e.apiKey,appName:s.name,v:rl},o=uI.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Po(a).slice(1)}`}async function hI(s){const e=await sI(s),i=Oi().gapi;return Ee(i,s,"internal-error"),e.open({where:document.body,url:cI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ii(s,"network-request-failed"),g=Oi().setTimeout(()=>{c(d)},rI.get());function y(){Oi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const fI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dI=500,mI=600,pI="_blank",gI="http://localhost";class I0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yI(s,e,i,a=dI,o=mI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...fI,width:a.toString(),height:o.toString(),top:c,left:d},_=tn().toLowerCase();i&&(g=VT(_)?pI:i),DT(_)&&(e=e||gI,y.scrollbars="yes");const A=Object.entries(y).reduce((M,[K,ee])=>`${M}${K}=${ee},`,"");if(Wx(_)&&g!=="_self")return _I(e||"",g),new I0(null);const w=window.open(e||"",g,A);Ee(w,s,"popup-blocked");try{w.focus()}catch{}return new I0(w)}function _I(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const vI="__/auth/handler",EI="emulator/auth/handler",TI=encodeURIComponent("fac");async function N0(s,e,i,a,o,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:rl,eventId:o};if(e instanceof gp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",nS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof Ko){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),_=y?`#${TI}=${encodeURIComponent(y)}`:"";return`${bI(s)}?${Po(g).slice(1)}${_}`}function bI({config:s}){return s.emulator?hp(s,EI):`https://${s.authDomain}/${vI}`}const Qd="webStorageSupport";class AI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=KC,this._overrideRedirectResult=FC}async _openPopup(e,i,a,o){ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await N0(e,i,a,vm(),o);return yI(e,c,yp())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await N0(e,i,a,vm(),o);return RC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ls(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await hI(e),a=new XC(e);return i.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qd,{type:Qd},o=>{const c=o?.[0]?.[Qd];c!==void 0&&i(!!c),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return jT()||OT()||mp()}}const SI=AI;var D0="@firebase/auth",O0="1.11.1";class wI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xI(s){Xa(new Gr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(s)},_=new rC(a,o,c,y);return hC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Xa(new Gr("auth-internal",e=>{const i=bh(e.getProvider("auth").getImmediate());return(a=>new wI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(D0,O0,RI(s)),$s(D0,O0,"esm2020")}const CI=300,II=q0("authIdTokenMaxAge")||CI;let V0=null;const NI=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>II)return;const o=i?.token;V0!==o&&(V0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DI(s=K0()){const e=wm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=cC(s,{popupRedirectResolver:SI,persistence:[kC,AC,QT]}),a=q0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=NI(c.toString());EC(i,d,()=>d(i.currentUser)),vC(i,g=>d(g))}}const o=P0("auth");return o&&fC(i,`http://${o}`),i}function OI(){return document.getElementsByTagName("head")?.[0]??document}aC({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=ii("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",OI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xI("Browser");const VI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},eb=Q0(VI),_o=mx(eb),Kd=DI(eb),MI=new ts;class Xo{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const kI=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},Kt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:kI()},vp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},LI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=vp(s);Kt.publicKey=i.publicKey,Kt.blockHeadless=i.blockHeadless,Kt.storageProvider=i.storageProvider,Kt.blockList=i.blockList,Kt.limitRate=i.limitRate,Kt.origin=i.origin||e},tb=async(s,e,i={})=>{const a=await fetch(Kt.origin+s,{method:"POST",headers:i,body:e}),o=await a.text(),c=new Xo(a.status,o);if(a.ok)return c;throw c},nb=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},UI=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},ib=s=>s.webdriver||!s.languages||s.languages.length===0,sb=()=>new Xo(451,"Unavailable For Headless Browser"),jI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},PI=s=>!s.list?.length||!s.watchVariable,zI=(s,e)=>s instanceof FormData?s.get(e):s[e],rb=(s,e)=>{if(PI(s))return!1;jI(s.list,s.watchVariable);const i=zI(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},ab=()=>new Xo(403,"Forbidden"),qI=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},BI=async(s,e,i)=>{const a=Number(await i.get(s)||0);return e-Date.now()+a},lb=async(s,e,i)=>{if(!e.throttle||!i)return!1;qI(e.throttle,e.id);const a=e.id||s;return await BI(a,e.throttle,i)>0?!0:(await i.set(a,Date.now().toString()),!1)},ob=()=>new Xo(429,"Too Many Requests"),HI=async(s,e,i,a)=>{const o=vp(a),c=o.publicKey||Kt.publicKey,d=o.blockHeadless||Kt.blockHeadless,g=o.storageProvider||Kt.storageProvider,y={...Kt.blockList,...o.blockList},_={...Kt.limitRate,...o.limitRate};return d&&ib(navigator)?Promise.reject(sb()):(nb(c,s,e),UI(i),i&&rb(y,i)?Promise.reject(ab()):await lb(location.pathname,_,g)?Promise.reject(ob()):tb("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},FI=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},GI=s=>typeof s=="string"?document.querySelector(s):s,QI=async(s,e,i,a)=>{const o=vp(a),c=o.publicKey||Kt.publicKey,d=o.blockHeadless||Kt.blockHeadless,g=Kt.storageProvider||o.storageProvider,y={...Kt.blockList,...o.blockList},_={...Kt.limitRate,...o.limitRate};if(d&&ib(navigator))return Promise.reject(sb());const A=GI(i);nb(c,s,e),FI(A);const w=new FormData(A);return rb(y,w)?Promise.reject(ab()):await lb(location.pathname,_,g)?Promise.reject(ob()):(w.append("lib_version","4.4.1"),w.append("service_id",s),w.append("template_id",e),w.append("user_id",c),tb("/api/v1.0/email/send-form",w))},KI={init:LI,send:HI,sendForm:QI,EmailJSResponseStatus:Xo},YI="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",Yd={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},XI=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","erivers@salpointe.org"],nt={FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue"},Pa=s=>`salpointe_draft_${s}`,M0=s=>{KI.send(Yd.SERVICE_ID,Yd.TEMPLATE_ID,s,Yd.PUBLIC_KEY).then(e=>{console.log("EMAIL SUCCESS!",e.status,e.text)},e=>{console.log("EMAIL FAILED...",e)})},$I=()=>{const[s,e]=ct.useState("home"),[i,a]=ct.useState(!1),[o,c]=ct.useState(null),[d,g]=ct.useState(!1),y=()=>{e("home"),a(!1)},_=["home",nt.FILM,nt.GRAPHIC,nt.BUSINESS,nt.CULINARY,nt.PHOTO].includes(s);return E.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-slate-800",children:[E.jsx("header",{className:"bg-red-900 text-white shadow-lg sticky top-0 z-50",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3",children:[E.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:y,children:[E.jsx("img",{src:YI,alt:"Salpointe Catholic Logo",className:"w-9 h-9 md:w-10 md:h-10 object-contain group-hover:scale-105 transition-transform"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-lg md:text-xl font-bold tracking-wide leading-tight",children:"Salpointe Catholic"}),E.jsx("p",{className:"text-[10px] md:text-xs text-red-200 uppercase tracking-wider",children:"CTE Request Hub"})]})]}),E.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[E.jsxs("button",{onClick:y,className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${_?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(Vd,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"New Request"})]}),E.jsxs("button",{onClick:()=>{e(nt.CALENDAR),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===nt.CALENDAR?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(Od,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),E.jsxs("button",{onClick:()=>{e(nt.QUEUE),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===nt.QUEUE?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(J_,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Queue"})]})]})]})}),E.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:i?E.jsx(A,{onReset:y}):E.jsxs(E.Fragment,{children:[s==="home"&&E.jsx(w,{onViewChange:e}),s===nt.FILM&&E.jsx(te,{setSubmitted:a}),s===nt.GRAPHIC&&E.jsx(ge,{setSubmitted:a}),s===nt.BUSINESS&&E.jsx(be,{setSubmitted:a}),s===nt.CULINARY&&E.jsx(_e,{setSubmitted:a}),s===nt.PHOTO&&E.jsx(Fe,{setSubmitted:a}),s===nt.CALENDAR&&E.jsx(K,{}),s===nt.QUEUE&&E.jsx(ee,{adminMode:d,setAdminMode:g,setAdminUser:c,ALLOWED_ADMINS:XI})]})}),E.jsxs("footer",{className:"text-center text-slate-400 text-xs md:text-sm py-8 px-4",children:[" ",new Date().getFullYear()," Salpointe Catholic High School CTE Department"]})]});function A({onReset:fe}){return E.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded-xl shadow-md p-6 md:p-8 text-center animate-fade-in-up mt-8 md:mt-16",children:[E.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600",children:E.jsx(uA,{size:32,className:"md:w-10 md:h-10"})}),E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mb-2",children:"Request Received!"}),E.jsx("p",{className:"text-slate-600 mb-8 text-sm md:text-base",children:"Your request has been saved to the database and the department head has been notified."}),E.jsx("button",{onClick:fe,className:"bg-red-900 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg hover:shadow-xl w-full text-sm md:text-base",children:"Submit Another Request"})]})}function w({onViewChange:fe}){const ue=[{id:nt.FILM,title:"Film & TV",icon:ev,desc:"Checkout equipment (cameras, drones) or request event recording/broadcasting.",color:"bg-blue-50 text-blue-700 border-blue-200"},{id:nt.GRAPHIC,title:"Graphic Design",icon:Vd,desc:"Request creative assets like logos, posters, flyers, or website designs.",color:"bg-purple-50 text-purple-700 border-purple-200"},{id:nt.BUSINESS,title:"Business",icon:Dd,desc:"Submit business plans for review or request consultation for student startups.",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{id:nt.CULINARY,title:"Culinary Arts",icon:W_,desc:"Request catering services for school clubs, faculty meetings, or special events.",color:"bg-orange-50 text-orange-700 border-orange-200"},{id:nt.PHOTO,title:"Photography",icon:Z_,desc:"Reserve cameras/lenses or request a photographer for your event.",color:"bg-pink-50 text-pink-700 border-pink-200"}];return E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[E.jsxs("div",{className:"col-span-full mb-2 md:mb-4",children:[E.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Welcome, Lancer."}),E.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Select a department below to start your request."})]}),ue.map(x=>E.jsxs("div",{onClick:()=>fe(x.id),className:"group bg-white rounded-xl shadow-sm hover:shadow-md border border-slate-200 p-5 md:p-6 cursor-pointer transition-all hover:-translate-y-1 flex flex-col h-full active:scale-95 md:active:scale-100",children:[E.jsx("div",{className:`w-12 h-12 rounded-lg ${x.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:E.jsx(x.icon,{size:24})}),E.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:x.title}),E.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:x.desc})]},x.id))]})}function M({initialData:fe={}}){return E.jsxs("div",{className:"bg-slate-50 p-5 md:p-6 rounded-lg border border-slate-200 mb-6",children:[E.jsxs("h3",{className:"text-base md:text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[E.jsx(wA,{size:18})," Contact Information"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Full Name"}),E.jsx("input",{name:"fullName",type:"text",defaultValue:fe.fullName||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"Jane Doe",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Salpointe Email"}),E.jsx("input",{name:"email",type:"email",defaultValue:fe.email||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"jdoe@salpointe.org",required:!0})]}),E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Role"}),E.jsxs("select",{name:"role",defaultValue:fe.role||"Student",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm bg-white",children:[E.jsx("option",{children:"Student"}),E.jsx("option",{children:"Faculty / Staff"}),E.jsx("option",{children:"Club Representative"})]})]})]})]})}function K(){const fe=new Date,[ue,x]=ct.useState(null),[S,R]=ct.useState("all"),[V,N]=ct.useState([]),[k,C]=ct.useState(!0);ct.useEffect(()=>{const j=f0(Fd(_o,"requests")),G=p0(j,W=>{const oe=W.docs.map(ce=>{const de=ce.data();let lt=de.eventDate||de.checkoutDate||de.pickupDate||de.deadline;if(!lt)return null;const[$e,qn,an]=lt.split("-").map(Number),ri=new Date($e,qn-1,an);return{id:ce.id,title:de.title||"Request",dept:de.dept,type:de.requestType==="checkout"||de.dept==="Graphic"?"checkout":"event",status:de.status,date:ri,...de}}).filter(ce=>ce!==null&&ce.status==="Approved");N(oe),C(!1)});return()=>G()},[]);const Ge=j=>{const G=j.getFullYear(),W=j.getMonth(),oe=new Date(G,W+1,0).getDate(),ce=new Date(G,W,1).getDay();return{days:oe,firstDay:ce,monthName:j.toLocaleString("default",{month:"long"}),year:G}},{days:Ae,firstDay:F,monthName:J}=Ge(fe),se=Array.from({length:Ae},(j,G)=>G+1),Re=Array.from({length:F},(j,G)=>G),Ue=j=>V.filter(G=>G.date.getDate()===j&&G.date.getMonth()===fe.getMonth()&&(S==="all"||G.dept===S)),D=j=>{const G="https://calendar.google.com/calendar/render?action=TEMPLATE",W=`&text=${encodeURIComponent(`[${j.dept}] ${j.title}`)}`,oe=`&details=${encodeURIComponent(`Requested by: ${j.fullName}
Role: ${j.role}
Details: ${j.details||j.brief||j.description||"N/A"}`)}`,ce=`&location=${encodeURIComponent(j.location||"Salpointe Catholic High School")}`,de=j.date.getFullYear(),lt=String(j.date.getMonth()+1).padStart(2,"0"),$e=String(j.date.getDate()).padStart(2,"0"),qn=`${de}${lt}${$e}`,an=new Date(j.date);an.setDate(an.getDate()+1);const ri=an.getFullYear(),us=String(an.getMonth()+1).padStart(2,"0"),Rn=String(an.getDate()).padStart(2,"0"),or=`${ri}${us}${Rn}`,ki=`&dates=${qn}/${or}`;return`${G}${W}${ki}${oe}${ce}`};return E.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[E.jsxs("div",{className:"bg-red-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[E.jsx(Od,{className:"text-amber-400",size:24})," Master Schedule"]}),E.jsx("p",{className:"text-red-200 text-sm",children:"Approved requests and checkouts"})]}),E.jsxs("div",{className:"flex bg-red-800 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:[E.jsx("button",{onClick:()=>R("all"),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${S==="all"?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"All"}),E.jsx("button",{onClick:()=>R(nt.FILM),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${S===nt.FILM?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Film"}),E.jsx("button",{onClick:()=>R(nt.PHOTO),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${S===nt.PHOTO?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Photo"}),E.jsx("button",{onClick:()=>R(nt.CULINARY),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${S===nt.CULINARY?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Culinary"})]})]}),E.jsxs("div",{className:"p-4 md:p-6",children:[E.jsx("div",{className:"overflow-x-auto pb-2",children:k?E.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading schedule..."}):E.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(j=>E.jsx("div",{className:"bg-slate-50 p-2 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider",children:j},j)),Re.map(j=>E.jsx("div",{className:"bg-white min-h-[80px] md:min-h-[100px]"},`empty-${j}`)),se.map(j=>{const G=Ue(j),W=j===fe.getDate(),oe=ue===j;return E.jsxs("div",{className:`bg-white min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-100 relative group cursor-pointer transition-colors ${oe?"bg-red-50":"hover:bg-slate-50"}`,onClick:()=>x(oe?null:j),children:[E.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${W?"bg-red-900 text-white":"text-slate-700"}`,children:j}),E.jsx("div",{className:"space-y-1",children:G.map(ce=>E.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${ce.type==="checkout"?"bg-blue-50 border-blue-100 text-blue-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:ce.title},ce.id))})]},j)})]})}),ue&&E.jsxs("div",{className:"mt-4 md:mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200 animate-fade-in",children:[E.jsxs("h4",{className:"font-bold text-slate-800 mb-3",children:["Events for ",J," ",ue]}),Ue(ue).length===0?E.jsx("p",{className:"text-slate-500 text-sm",children:"No approved events for this day."}):E.jsx("div",{className:"space-y-3",children:Ue(ue).map(j=>E.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 bg-white p-3 rounded border border-slate-200 shadow-sm",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:`mt-1 p-2 rounded-full flex-shrink-0 ${j.type==="checkout"?"bg-blue-100 text-blue-600":"bg-emerald-100 text-emerald-600"}`,children:j.type==="checkout"?E.jsx(Nd,{size:14}):E.jsx(Od,{size:14})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-slate-800 text-sm",children:j.title}),E.jsxs("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:[j.dept," Dept  ",j.fullName]})]})]}),E.jsxs("a",{href:D(j),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 text-xs font-medium px-3 py-2 rounded-lg transition-colors",children:[E.jsx(iA,{size:14}),E.jsx("span",{className:"hidden sm:inline",children:"Add to Google Calendar"}),E.jsx("span",{className:"sm:hidden",children:"Add"})]})]},j.id))})]})]})]})}function ee({adminMode:fe,setAdminMode:ue,setAdminUser:x,ALLOWED_ADMINS:S}){const[R,V]=ct.useState([]),[N,k]=ct.useState("all"),[C,Ge]=ct.useState(!0),[Ae,F]=ct.useState(null);ct.useEffect(()=>{const G=f0(Fd(_o,"requests"),Rx("createdAt","desc")),W=p0(G,oe=>{const ce=oe.docs.map(de=>({id:de.id,...de.data(),formattedDate:de.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));V(ce),Ge(!1)});return()=>W()},[]);const J=async(G,W)=>{const oe=ym(_o,"requests",G.id);await Nx(oe,{status:W}),Ae&&Ae.id===G.id&&F(de=>({...de,status:W}));const ce={to_name:G.fullName,to_email:G.email,subject:`Request Update: ${G.title}`,title:G.title,status:W,message:`Your request status has been updated to: ${W}. Please check the portal or contact the CTE department for more details.`};M0(ce)},se=async G=>{window.confirm("Are you sure you want to delete this request?")&&(await Dx(ym(_o,"requests",G)),Ae&&Ae.id===G&&F(null))},Re=async()=>{try{const G=await zC(Kd,MI),W=G.user.email;S.includes(W)?(ue(!0),x(G.user)):(alert(`Access Denied. The email "${W}" is not authorized as an administrator.`),await S0(Kd))}catch(G){console.error("Login failed:",G),alert("Login failed. Please try again.")}},Ue=async()=>{await S0(Kd),ue(!1),x(null)},D=N==="all"?R:R.filter(G=>G.dept?.toLowerCase().includes(N.toLowerCase())),j=G=>{switch(G){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return E.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden relative",children:[Ae&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[E.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start sticky top-0 bg-white z-10",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Request Details"}),E.jsxs("p",{className:"text-xs text-slate-400 font-mono mt-1",children:["ID: ",Ae.id]})]}),E.jsx("button",{onClick:()=>F(null),className:"text-slate-400 hover:text-slate-600 transition-colors bg-slate-100 p-2 rounded-full",children:E.jsx(tv,{size:20})})]}),E.jsxs("div",{className:"p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Department"}),E.jsx("p",{className:"font-semibold text-slate-800 text-lg capitalize",children:Ae.dept})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Status"}),E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide inline-block ${j(Ae.status)}`,children:Ae.status})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Submitted By"}),E.jsx("p",{className:"text-slate-800",children:Ae.fullName}),E.jsx("p",{className:"text-slate-500 text-xs",children:Ae.role})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Contact"}),E.jsx("p",{className:"text-slate-800",children:Ae.email})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Date Submitted"}),E.jsx("p",{className:"text-slate-800",children:Ae.formattedDate})]})]}),E.jsx("hr",{className:"border-slate-100"}),E.jsxs("div",{children:[E.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[E.jsx(Dd,{size:18,className:"text-slate-400"})," Project / Event Information"]}),E.jsx("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 border border-slate-100",children:Object.entries(Ae).map(([G,W])=>{if(["id","dept","status","fullName","email","role","formattedDate","createdAt","title"].includes(G))return null;const oe=G.replace(/([A-Z])/g," $1").trim();return Array.isArray(W)?E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:oe}),E.jsx("ul",{className:"list-disc list-inside text-slate-700 text-sm bg-white p-2 rounded border border-slate-200",children:W.map((ce,de)=>E.jsx("li",{children:ce},de))})]},G):E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:oe}),E.jsx("p",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:W?W.toString():"N/A"})]},G)})})]}),fe&&E.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[E.jsx("h4",{className:"font-bold text-indigo-900 mb-2 text-sm",children:"Admin Actions"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>J(Ae,"Approved"),className:"flex-1 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-medium text-sm",children:"Approve"}),E.jsx("button",{onClick:()=>J(Ae,"Denied"),className:"flex-1 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-medium text-sm",children:"Deny"}),E.jsx("button",{onClick:()=>J(Ae,"Completed"),className:"flex-1 py-2 bg-slate-600 text-white rounded hover:bg-slate-700 font-medium text-sm",children:"Mark Complete"})]})]})]}),E.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex justify-end rounded-b-xl",children:E.jsx("button",{onClick:()=>F(null),className:"bg-white border border-slate-300 text-slate-700 px-6 py-2 rounded-lg font-medium hover:bg-slate-50 transition-colors",children:"Close"})})]})}),E.jsxs("div",{className:"bg-indigo-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[E.jsx(J_,{className:"text-indigo-300"})," Request Status Queue"]}),E.jsx("p",{className:"text-indigo-200 text-sm",children:"Real-time updates from database."})]}),E.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[fe?E.jsxs("button",{onClick:Ue,className:"flex items-center gap-2 p-2 text-red-200 hover:text-white transition-colors bg-red-950/30 rounded-lg px-3",title:"Log Out",children:[E.jsx(_A,{size:16})," ",E.jsx("span",{className:"text-xs font-bold uppercase",children:"Admin Logout"})]}):E.jsxs("button",{onClick:Re,className:"flex items-center gap-2 p-2 text-indigo-300 hover:text-white transition-colors",title:"Admin Login",children:[E.jsx(gA,{size:18})," ",E.jsx("span",{className:"text-xs",children:"Staff Login"})]}),E.jsxs("select",{className:"flex-1 md:w-auto bg-indigo-800 text-white border border-indigo-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",value:N,onChange:G=>k(G.target.value),children:[E.jsx("option",{value:"all",children:"All Departments"}),E.jsx("option",{value:"film",children:"Film"}),E.jsx("option",{value:"graphic",children:"Graphic"}),E.jsx("option",{value:"business",children:"Business"}),E.jsx("option",{value:"culinary",children:"Culinary"}),E.jsx("option",{value:"photo",children:"Photo"})]})]})]}),E.jsxs("div",{className:"overflow-x-auto",children:[C?E.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading requests..."}):E.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs uppercase tracking-wider text-slate-500 font-semibold",children:[E.jsx("th",{className:"p-4",children:"Department"}),E.jsx("th",{className:"p-4",children:"Request Details"}),E.jsx("th",{className:"p-4",children:"Requester"}),E.jsx("th",{className:"p-4",children:"Submitted"}),E.jsx("th",{className:"p-4",children:"Status"}),E.jsx("th",{className:"p-4",children:"Action"}),fe&&E.jsx("th",{className:"p-4",children:"Admin"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:D.map(G=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[E.jsx("td",{className:"p-4 text-slate-700 font-medium text-sm capitalize",children:G.dept}),E.jsx("td",{className:"p-4 text-slate-800 font-semibold text-sm md:text-base",children:G.title||G.eventName||G.projectType||"General Request"}),E.jsx("td",{className:"p-4 text-slate-600 text-sm",children:G.fullName}),E.jsx("td",{className:"p-4 text-slate-500 text-sm",children:E.jsxs("div",{className:"flex items-center gap-2 w-max",children:[E.jsx(fA,{size:14})," ",G.formattedDate]})}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide whitespace-nowrap ${j(G.status)}`,children:G.status})}),E.jsx("td",{className:"p-4",children:E.jsx("button",{onClick:()=>F(G),className:"text-slate-400 hover:text-indigo-600 transition-colors p-2 rounded-full hover:bg-indigo-50",title:"View Details",children:E.jsx(mA,{size:20})})}),fe&&E.jsxs("td",{className:"p-4 flex gap-2",children:[E.jsx("button",{onClick:()=>J(G,"Approved"),className:"p-1 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Approve",children:E.jsx(lA,{size:16})}),E.jsx("button",{onClick:()=>J(G,"Denied"),className:"p-1 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Deny",children:E.jsx(tv,{size:16})}),E.jsx("button",{onClick:()=>se(G.id),className:"p-1 bg-slate-100 text-slate-700 rounded hover:bg-slate-200",title:"Delete",children:E.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},G.id))})]}),!C&&D.length===0&&E.jsx("div",{className:"p-8 text-center text-slate-500",children:"No pending requests found."})]})]})}function ie({title:fe,icon:ue,colorClass:x,children:S,setSubmitted:R,initialData:V={}}){const N=ct.useRef(null),k=Pa(fe),C=Ae=>{Ae.preventDefault();const F=new FormData(N.current),J={};for(const[se,Re]of F.entries())J[se]?(Array.isArray(J[se])||(J[se]=[J[se]]),J[se].push(Re)):J[se]=Re;localStorage.setItem(k,JSON.stringify(J)),alert("Draft saved! You can resume this form later on this device.")},Ge=async Ae=>{Ae.preventDefault();const F=new FormData(Ae.target),J={};for(const[se,Re]of F.entries())J[se]?(Array.isArray(J[se])||(J[se]=[J[se]]),J[se].push(Re)):J[se]=Re;try{await Ox(Fd(_o,"requests"),{...J,dept:fe,status:"Pending Review",createdAt:new Date,title:J.eventName||J.projectType||J.businessName||"New Request"});const se={to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request from ${J.fullName}`,title:J.eventName||J.projectType||"New Request",status:"Pending Review",message:`A new request has been submitted by ${J.fullName} for ${fe}. 

Details: ${J.details||J.brief||J.description||"N/A"}`};M0(se),localStorage.removeItem(k),R(!0)}catch(se){console.error("Error adding document: ",se),alert("Error submitting request. See console.")}};return E.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden",children:[E.jsx("div",{className:`h-2 ${x}`}),E.jsxs("div",{className:"p-5 md:p-8",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6 md:mb-8 pb-4 border-b border-slate-100",children:[E.jsx("div",{className:`p-3 rounded-lg ${x} bg-opacity-10 text-opacity-100`,children:E.jsx(ue,{size:24,className:`md:w-7 md:h-7 ${x.replace("bg-","text-")}`})}),E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:[fe," Request"]}),E.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Please fill out all details accurately."})]})]}),E.jsxs("form",{ref:N,onSubmit:Ge,children:[E.jsx(M,{initialData:V}),S,E.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[E.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-2 bg-white border border-slate-300 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors",children:[E.jsx(AA,{size:18})," Save Draft"]}),E.jsx("button",{type:"submit",className:"w-full md:w-auto bg-red-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg active:scale-95 md:active:scale-100",children:"Submit Request"})]})]})]})]})}function te({setSubmitted:fe}){const ue="Film",x=Pa(ue),S=JSON.parse(localStorage.getItem(x)||"{}"),[R,V]=ct.useState(S.requestType||"checkout");return E.jsxs(ie,{title:ue,icon:ev,colorClass:"bg-blue-600",setSubmitted:fe,initialData:S,children:[E.jsx("input",{type:"hidden",name:"requestType",value:R}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("button",{type:"button",onClick:()=>V("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${R==="checkout"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[E.jsx(Nd,{className:"mx-auto mb-2"})," Equipment Checkout"]}),E.jsxs("button",{type:"button",onClick:()=>V("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${R==="service"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[E.jsx(EA,{className:"mx-auto mb-2"})," Broadcasting/Recording Team"]})]})]}),R==="checkout"?E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100 text-sm text-blue-800 mb-4",children:[E.jsx("strong",{children:"Note:"})," Equipment must be returned by 8:00 AM the following school day."]}),E.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Select Equipment Needed: ",E.jsx("span",{className:"text-red-500 text-xs font-normal ml-1",children:"* Requires Training"})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Cinema Camera Kit *","Gimbal / Stabilizer *","DJI Mic Kit (Wireless)","DJI Flip Drone *","Tripod","Lighting Kit"].map(N=>E.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-slate-50 cursor-pointer transition-colors active:bg-blue-50",children:[E.jsx("input",{type:"checkbox",name:"equipment",value:N,defaultChecked:S.equipment?.includes(N),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:"text-slate-700 text-sm",children:N})]},N))}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Checkout Date"}),E.jsx("input",{name:"checkoutDate",defaultValue:S.checkoutDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),E.jsx("input",{name:"returnDate",defaultValue:S.returnDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:E.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),E.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[E.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Name"}),E.jsx("input",{name:"eventName",defaultValue:S.eventName,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Varsity Football",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),E.jsx("input",{name:"eventDate",defaultValue:S.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),E.jsx("input",{name:"startTime",defaultValue:S.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Needed"}),E.jsxs("select",{name:"serviceType",defaultValue:S.serviceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm bg-white",children:[E.jsx("option",{children:"Live Broadcast (Stream)"}),E.jsx("option",{children:"Event Recording (Edited later)"}),E.jsx("option",{children:"Raw Footage Only"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Details"}),E.jsx("textarea",{name:"details",defaultValue:S.details,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Describe specifics..."})]})]})]})}function ge({setSubmitted:fe}){const ue="Graphic",x=Pa(ue),S=JSON.parse(localStorage.getItem(x)||"{}");return E.jsx(ie,{title:ue,icon:Vd,colorClass:"bg-purple-600",setSubmitted:fe,initialData:S,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Type"}),E.jsxs("select",{name:"projectType",defaultValue:S.projectType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Event Poster / Flyer"}),E.jsx("option",{children:"Logo Design"}),E.jsx("option",{children:"Website Design"}),E.jsx("option",{children:"T-Shirt / Merch"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dimensions"}),E.jsx("input",{name:"dimensions",defaultValue:S.dimensions,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., 11x17"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Deadline"}),E.jsx("input",{name:"deadline",defaultValue:S.deadline,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Design Brief"}),E.jsx("textarea",{name:"brief",defaultValue:S.brief,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function be({setSubmitted:fe}){const ue="Business",x=Pa(ue),S=JSON.parse(localStorage.getItem(x)||"{}");return E.jsx(ie,{title:ue,icon:Dd,colorClass:"bg-emerald-600",setSubmitted:fe,initialData:S,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Business Name"}),E.jsx("input",{name:"businessName",defaultValue:S.businessName,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"Project Alpha"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assistance Needed"}),E.jsxs("select",{name:"assistanceType",defaultValue:S.assistanceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Business Plan Review"}),E.jsx("option",{children:"Financial Modeling Help"}),E.jsx("option",{children:"Marketing Strategy"}),E.jsx("option",{children:"General Mentorship"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Idea Description"}),E.jsx("textarea",{name:"description",defaultValue:S.description,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-40",placeholder:"Briefly describe your product...",required:!0})]})]})})}function _e({setSubmitted:fe}){const ue="Culinary",x=Pa(ue),S=JSON.parse(localStorage.getItem(x)||"{}");return E.jsx(ie,{title:ue,icon:W_,colorClass:"bg-orange-500",setSubmitted:fe,initialData:S,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Name"}),E.jsx("input",{name:"eventName",defaultValue:S.eventName,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Faculty Luncheon",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Date"}),E.jsx("input",{name:"eventDate",defaultValue:S.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Serve Time"}),E.jsx("input",{name:"serveTime",defaultValue:S.serveTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Guest Count"}),E.jsx("input",{name:"guestCount",defaultValue:S.guestCount,type:"number",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",min:"1",placeholder:"50",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Style"}),E.jsxs("select",{name:"serviceStyle",defaultValue:S.serviceStyle,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Buffet Style"}),E.jsx("option",{children:"Boxed Lunches"}),E.jsx("option",{children:"Plated Service"}),E.jsx("option",{children:"Appetizers"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Menu/Dietary Notes"}),E.jsx("textarea",{name:"menuNotes",defaultValue:S.menuNotes,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Preferences, allergies...",required:!0})]})]})})}function Fe({setSubmitted:fe}){const ue="Photo",x=Pa(ue),S=JSON.parse(localStorage.getItem(x)||"{}"),[R,V]=ct.useState(S.requestType||"service");return E.jsxs(ie,{title:ue,icon:Z_,colorClass:"bg-pink-600",setSubmitted:fe,initialData:S,children:[E.jsx("input",{type:"hidden",name:"requestType",value:R}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("button",{type:"button",onClick:()=>V("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${R==="service"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[E.jsx(xA,{className:"mx-auto mb-2"})," Event Coverage"]}),E.jsxs("button",{type:"button",onClick:()=>V("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${R==="checkout"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[E.jsx(Nd,{className:"mx-auto mb-2"})," Equipment Checkout"]})]})]}),R==="checkout"?E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-pink-50 p-4 rounded-md border border-pink-100 text-sm text-pink-800 mb-4",children:[E.jsx("strong",{children:"Requirement:"})," Photo I completion required."]}),E.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Select Equipment Needed:"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["DSLR Camera Body","Zoom Lens (18-55mm)","Telephoto Lens (70-200mm)","Portrait Lens (50mm)","SD Card Reader","Tripod","Flash Unit"].map(N=>E.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-slate-50 cursor-pointer active:bg-pink-50",children:[E.jsx("input",{type:"checkbox",name:"equipment",value:N,defaultChecked:S.equipment?.includes(N),className:"w-5 h-5 text-pink-600 rounded focus:ring-pink-500"}),E.jsx("span",{className:"text-slate-700 text-sm",children:N})]},N))}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Pickup Date"}),E.jsx("input",{name:"pickupDate",defaultValue:S.pickupDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),E.jsx("input",{name:"returnDate",defaultValue:S.returnDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:E.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-pink-600 rounded focus:ring-pink-500 border-gray-300"}),E.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[E.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Name"}),E.jsx("input",{name:"eventName",defaultValue:S.eventName,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Homecoming",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),E.jsx("input",{name:"eventDate",defaultValue:S.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),E.jsx("input",{name:"startTime",defaultValue:S.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),E.jsx("input",{name:"location",defaultValue:S.location,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Gym"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Specific Shots"}),E.jsx("textarea",{name:"shotList",defaultValue:S.shotList,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Key moments..."})]})]})]})}};Y1.createRoot(document.getElementById("root")).render(E.jsx(ct.StrictMode,{children:E.jsx($I,{})}));
