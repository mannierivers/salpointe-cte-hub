(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var bd={exports:{}},po={};var U_;function R1(){if(U_)return po;U_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:c}}return po.Fragment=e,po.jsx=i,po.jsxs=i,po}var L_;function x1(){return L_||(L_=1,bd.exports=R1()),bd.exports}var E=x1(),Ad={exports:{}},Ae={};var j_;function C1(){if(j_)return Ae;j_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.iterator;function Y(O){return O===null||typeof O!="object"?null:(O=k&&O[k]||O["@@iterator"],typeof O=="function"?O:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,W={};function ge(O,K,Q){this.props=O,this.context=K,this.refs=W,this.updater=Q||te}ge.prototype.isReactComponent={},ge.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ge.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function be(){}be.prototype=ge.prototype;function _e(O,K,Q){this.props=O,this.context=K,this.refs=W,this.updater=Q||te}var Ge=_e.prototype=new be;Ge.constructor=_e,se(Ge,ge.prototype),Ge.isPureReactComponent=!0;var et=Array.isArray;function ue(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function S(O,K,Q){var F=Q.ref;return{$$typeof:a,type:O,key:K,ref:F!==void 0?F:null,props:Q}}function D(O,K){return S(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function M(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return K[Q]})}var C=/\/+/g;function qe(O,K){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):K.toString(36)}function st(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ue,ue):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,K,Q,F,ae){var he=typeof O;(he==="undefined"||he==="boolean")&&(O=null);var me=!1;if(O===null)me=!0;else switch(he){case"bigint":case"string":case"number":me=!0;break;case"object":switch(O.$$typeof){case a:case e:me=!0;break;case A:return me=O._init,q(me(O._payload),K,Q,F,ae)}}if(me)return ae=ae(O),me=F===""?"."+qe(O,0):F,et(ae)?(Q="",me!=null&&(Q=me.replace(C,"$&/")+"/"),q(ae,K,Q,"",function(zn){return zn})):ae!=null&&(N(ae)&&(ae=D(ae,Q+(ae.key==null||O&&O.key===ae.key?"":(""+ae.key).replace(C,"$&/")+"/")+me)),K.push(ae)),1;me=0;var Ie=F===""?".":F+":";if(et(O))for(var Qe=0;Qe<O.length;Qe++)F=O[Qe],he=Ie+qe(F,Qe),me+=q(F,K,Q,he,ae);else if(Qe=Y(O),typeof Qe=="function")for(O=Qe.call(O),Qe=0;!(F=O.next()).done;)F=F.value,he=Ie+qe(F,Qe++),me+=q(F,K,Q,he,ae);else if(he==="object"){if(typeof O.then=="function")return q(st(O),K,Q,F,ae);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return me}function ee(O,K,Q){if(O==null)return O;var F=[],ae=0;return q(O,F,"","",function(he){return K.call(Q,he,ae++)}),F}function ie(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ce={map:ee,forEach:function(O,K,Q){ee(O,function(){K.apply(this,arguments)},Q)},count:function(O){var K=0;return ee(O,function(){K++}),K},toArray:function(O){return ee(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=R,Ae.Children=Ce,Ae.Component=ge,Ae.Fragment=i,Ae.Profiler=o,Ae.PureComponent=_e,Ae.StrictMode=r,Ae.Suspense=_,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,K,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var F=se({},O.props),ae=O.key;if(K!=null)for(he in K.key!==void 0&&(ae=""+K.key),K)!w.call(K,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&K.ref===void 0||(F[he]=K[he]);var he=arguments.length-2;if(he===1)F.children=Q;else if(1<he){for(var me=Array(he),Ie=0;Ie<he;Ie++)me[Ie]=arguments[Ie+2];F.children=me}return S(O.type,ae,F)},Ae.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ae.createElement=function(O,K,Q){var F,ae={},he=null;if(K!=null)for(F in K.key!==void 0&&(he=""+K.key),K)w.call(K,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ae[F]=K[F]);var me=arguments.length-2;if(me===1)ae.children=Q;else if(1<me){for(var Ie=Array(me),Qe=0;Qe<me;Qe++)Ie[Qe]=arguments[Qe+2];ae.children=Ie}if(O&&O.defaultProps)for(F in me=O.defaultProps,me)ae[F]===void 0&&(ae[F]=me[F]);return S(O,he,ae)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:g,render:O}},Ae.isValidElement=N,Ae.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ie}},Ae.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Ae.startTransition=function(O){var K=x.T,Q={};x.T=Q;try{var F=O(),ae=x.S;ae!==null&&ae(Q,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ue,pe)}catch(he){pe(he)}finally{K!==null&&Q.types!==null&&(K.types=Q.types),x.T=K}},Ae.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ae.use=function(O){return x.H.use(O)},Ae.useActionState=function(O,K,Q){return x.H.useActionState(O,K,Q)},Ae.useCallback=function(O,K){return x.H.useCallback(O,K)},Ae.useContext=function(O){return x.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,K){return x.H.useDeferredValue(O,K)},Ae.useEffect=function(O,K){return x.H.useEffect(O,K)},Ae.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Ae.useId=function(){return x.H.useId()},Ae.useImperativeHandle=function(O,K,Q){return x.H.useImperativeHandle(O,K,Q)},Ae.useInsertionEffect=function(O,K){return x.H.useInsertionEffect(O,K)},Ae.useLayoutEffect=function(O,K){return x.H.useLayoutEffect(O,K)},Ae.useMemo=function(O,K){return x.H.useMemo(O,K)},Ae.useOptimistic=function(O,K){return x.H.useOptimistic(O,K)},Ae.useReducer=function(O,K,Q){return x.H.useReducer(O,K,Q)},Ae.useRef=function(O){return x.H.useRef(O)},Ae.useState=function(O){return x.H.useState(O)},Ae.useSyncExternalStore=function(O,K,Q){return x.H.useSyncExternalStore(O,K,Q)},Ae.useTransition=function(){return x.H.useTransition()},Ae.version="19.2.0",Ae}var P_;function vm(){return P_||(P_=1,Ad.exports=C1()),Ad.exports}var ct=vm(),Sd={exports:{}},go={},wd={exports:{}},Rd={};var z_;function I1(){return z_||(z_=1,(function(a){function e(q,ee){var ie=q.length;q.push(ee);e:for(;0<ie;){var pe=ie-1>>>1,Ce=q[pe];if(0<o(Ce,ee))q[pe]=ee,q[ie]=Ce,ie=pe;else break e}}function i(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ee=q[0],ie=q.pop();if(ie!==ee){q[0]=ie;e:for(var pe=0,Ce=q.length,O=Ce>>>1;pe<O;){var K=2*(pe+1)-1,Q=q[K],F=K+1,ae=q[F];if(0>o(Q,ie))F<Ce&&0>o(ae,Q)?(q[pe]=ae,q[F]=ie,pe=F):(q[pe]=Q,q[K]=ie,pe=K);else if(F<Ce&&0>o(ae,ie))q[pe]=ae,q[F]=ie,pe=F;else break e}}return ee}function o(q,ee){var ie=q.sortIndex-ee.sortIndex;return ie!==0?ie:q.id-ee.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,R=null,k=3,Y=!1,te=!1,se=!1,W=!1,ge=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function Ge(q){for(var ee=i(y);ee!==null;){if(ee.callback===null)r(y);else if(ee.startTime<=q)r(y),ee.sortIndex=ee.expirationTime,e(_,ee);else break;ee=i(y)}}function et(q){if(se=!1,Ge(q),!te)if(i(_)!==null)te=!0,ue||(ue=!0,M());else{var ee=i(y);ee!==null&&st(et,ee.startTime-q)}}var ue=!1,x=-1,w=5,S=-1;function D(){return W?!0:!(a.unstable_now()-S<w)}function N(){if(W=!1,ue){var q=a.unstable_now();S=q;var ee=!0;try{e:{te=!1,se&&(se=!1,be(x),x=-1),Y=!0;var ie=k;try{t:{for(Ge(q),R=i(_);R!==null&&!(R.expirationTime>q&&D());){var pe=R.callback;if(typeof pe=="function"){R.callback=null,k=R.priorityLevel;var Ce=pe(R.expirationTime<=q);if(q=a.unstable_now(),typeof Ce=="function"){R.callback=Ce,Ge(q),ee=!0;break t}R===i(_)&&r(_),Ge(q)}else r(_);R=i(_)}if(R!==null)ee=!0;else{var O=i(y);O!==null&&st(et,O.startTime-q),ee=!1}}break e}finally{R=null,k=ie,Y=!1}ee=void 0}}finally{ee?M():ue=!1}}}var M;if(typeof _e=="function")M=function(){_e(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,qe=C.port2;C.port1.onmessage=N,M=function(){qe.postMessage(null)}}else M=function(){ge(N,0)};function st(q,ee){x=ge(function(){q(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return k},a.unstable_next=function(q){switch(k){case 1:case 2:case 3:var ee=3;break;default:ee=k}var ie=k;k=ee;try{return q()}finally{k=ie}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ie=k;k=q;try{return ee()}finally{k=ie}},a.unstable_scheduleCallback=function(q,ee,ie){var pe=a.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?pe+ie:pe):ie=pe,q){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ie+Ce,q={id:A++,callback:ee,priorityLevel:q,startTime:ie,expirationTime:Ce,sortIndex:-1},ie>pe?(q.sortIndex=ie,e(y,q),i(_)===null&&q===i(y)&&(se?(be(x),x=-1):se=!0,st(et,ie-pe))):(q.sortIndex=Ce,e(_,q),te||Y||(te=!0,ue||(ue=!0,M()))),q},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(q){var ee=k;return function(){var ie=k;k=ee;try{return q.apply(this,arguments)}finally{k=ie}}}})(Rd)),Rd}var q_;function N1(){return q_||(q_=1,wd.exports=I1()),wd.exports}var xd={exports:{}},$t={};var B_;function D1(){if(B_)return $t;B_=1;var a=vm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:_,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,A)},$t.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},$t.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},$t.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},$t.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,R=g(A,y.crossOrigin),k=typeof y.integrity=="string"?y.integrity:void 0,Y=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:k,fetchPriority:Y}):A==="script"&&r.d.X(_,{crossOrigin:R,integrity:k,fetchPriority:Y,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},$t.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,R=g(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},$t.requestFormReset=function(_){r.d.r(_)},$t.unstable_batchedUpdates=function(_,y){return _(y)},$t.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},$t.useFormStatus=function(){return d.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var H_;function O1(){if(H_)return xd.exports;H_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),xd.exports=D1(),xd.exports}var G_;function V1(){if(G_)return go;G_=1;var a=N1(),e=vm(),i=O1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(r(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,l=f;break}if(T===l){p=!0,l=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,l=h;break}if(T===l){p=!0,l=f,s=h;break}T=T.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var R=Object.assign,k=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case ge:return"Profiler";case W:return"StrictMode";case et:return"Suspense";case ue:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case _e:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case Ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:qe(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return qe(t(n))}catch{}}return null}var st=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},pe=[],Ce=-1;function O(t){return{current:t}}function K(t){0>Ce||(t.current=pe[Ce],pe[Ce]=null,Ce--)}function Q(t,n){Ce++,pe[Ce]=t.current,t.current=n}var F=O(null),ae=O(null),he=O(null),me=O(null);function Ie(t,n){switch(Q(he,n),Q(ae,t),Q(F,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?r_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=r_(n),t=a_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(F),Q(F,t)}function Qe(){K(F),K(ae),K(he)}function zn(t){t.memoizedState!==null&&Q(me,t);var n=F.current,s=a_(n,t.type);n!==s&&(Q(ae,t),Q(F,s))}function si(t){ae.current===t&&(K(F),K(ae)),me.current===t&&(K(me),co._currentValue=ie)}var rn,ri;function wn(t){if(rn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);rn=n&&n[1]||"",ri=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+t+ri}var lr=!1;function ki(t,n){if(!t||lr)return"";lr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var z=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){z=H}t.call($.prototype)}}else{try{throw Error()}catch(H){z=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var I=p.split(`
`),P=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var G=`
`+I[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{lr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?wn(s):""}function or(t,n){switch(t.tag){case 26:case 27:case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return t.child!==n&&n!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return ki(t.type,!1);case 11:return ki(t.type.render,!1);case 1:return ki(t.type,!0);case 31:return wn("Activity");default:return""}}function fl(t){try{var n="",s=null;do n+=or(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Vt=a.unstable_scheduleCallback,us=a.unstable_cancelCallback,Ah=a.unstable_shouldYield,Ko=a.unstable_requestPaint,tn=a.unstable_now,ur=a.unstable_getCurrentPriorityLevel,dl=a.unstable_ImmediatePriority,ml=a.unstable_UserBlockingPriority,cs=a.unstable_NormalPriority,Sh=a.unstable_LowPriority,Xo=a.unstable_IdlePriority,$o=a.log,Zo=a.unstable_setDisableYieldValue,qn=null,zt=null;function Rn(t){if(typeof $o=="function"&&Zo(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var mt=Math.clz32?Math.clz32:Wo,Jo=Math.log,Jr=Math.LN2;function Wo(t){return t>>>=0,t===0?32:31-(Jo(t)/Jr|0)|0}var ai=256,cr=262144,Et=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=li(l):(p&=T,p!==0?h=li(p):s||(s=T&~t,s!==0&&(h=li(s))))):(T=l&~f,T!==0?h=li(T):p!==0?h=li(p):s||(s=l&~t,s!==0&&(h=li(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function wh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ui(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rh(t,n,s,l,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(s=p&~s;0<s;){var G=31-mt(s),$=1<<G;T[G]=0,I[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}s&=~$}l!==0&&fr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function fr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-mt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function pl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-mt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function gl(t,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(t.suspendedLanes|n))!==0?0:s}function dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tu(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:I_(t.type))}function Hn(t,n){var s=ee.p;try{return ee.p=t,n()}finally{ee.p=s}}var Gn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Gn,Ut="__reactProps$"+Gn,ci="__reactContainer$"+Gn,Wr="__reactEvents$"+Gn,xh="__reactListeners$"+Gn,nu="__reactHandles$"+Gn,iu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function ea(t){delete t[Tt],delete t[Ut],delete t[Wr],delete t[xh],delete t[nu]}function fi(t){var n=t[Tt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ci]||s[Tt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=d_(t);t!==null;){if(s=t[Tt])return s;t=d_(t)}return n}t=s,s=t.parentNode}return null}function xn(t){if(t=t[Tt]||t[ci]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function di(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[hi]=!0}var yl=new Set,_l={};function mi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(_l[t]=n,t=0;t<n.length;t++)yl.add(n[t])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function su(t){return vt.call(Tl,t)?!0:vt.call(El,t)?!1:vl.test(t)?Tl[t]=!0:(El[t]=!0,!1)}function ta(t,n,s){if(su(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function gn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function At(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ye(t){if(!t._valueTracker){var n=hs(t)?"checked":"value";t._valueTracker=bl(t,n,""+t[n])}}function mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=hs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pr=/[\n"\\]/g;function an(t){return t.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(t,n,s,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Lt(n)):t.value!==""+Lt(n)&&(t.value=""+Lt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Al(t,p,Lt(n)):s!=null?Al(t,p,Lt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function ru(t,n,s,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ye(t);return}s=s!=null?""+Lt(s):"",n=n!=null?""+Lt(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Ye(t)}function Al(t,n,s){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function fs(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Lt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function au(t,n,s){if(n!=null&&(n=""+Lt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Lt(s):""}function ds(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(st(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Lt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ye(t)}function ln(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function wl(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Sl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(t,f,n[f])}function ia(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return ms.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Rl=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,yi=null;function gr(t){var n=xn(t);if(n&&(t=n.stateNode)){var s=t[Ut]||null;e:switch(t=n.stateNode,n.type){case"input":if(na(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(r(90));na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&mr(l)}break e;case"textarea":au(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&fs(t,!!s.multiple,n,!1)}}}var ra=!1;function gs(t,n,s){if(ra)return t(n,s);ra=!0;try{var l=t(n);return l}finally{if(ra=!1,(ps!==null||yi!==null)&&(tc(),ps&&(n=ps,t=yi,yi=ps=null,gr(n),t)))for(n=0;n<t.length;n++)gr(t[n])}}function Qn(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ut]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(In)try{var $e={};Object.defineProperty($e,"passive",{get:function(){yr=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{yr=!1}var _i=null,xl=null,_r=null;function Cl(){if(_r)return _r;var t,n=xl,s=n.length,l,h="value"in _i?_i.value:_i.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return _r=h.slice(t,1<l?1-l:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function qt(t){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=qt(ji),ys=R({},ji,{view:0,detail:0}),Il=qt(ys),_s,aa,Ei,la=R({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(_s=t.screenX-Ei.screenX,aa=t.screenY-Ei.screenY):aa=_s=0,Ei=t),_s)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),Nl=qt(la),Er=R({},la,{dataTransfer:0}),uu=qt(Er),cu=R({},ys,{relatedTarget:0}),Tr=qt(cu),Dl=R({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=qt(Dl),oa=R({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fu=qt(oa),du=R({},ji,{data:0}),Ti=qt(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gu[t])?!!n[t]:!1}function vs(){return yu}var nn=R({},ys,{key:function(t){if(t.key){var n=mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_u=qt(nn),vu=R({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=qt(vu),u=R({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=qt(u),v=R({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qt(v),L=R({},la,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=qt(L),ne=R({},ji,{newState:0,oldState:0}),we=qt(ne),pt=[9,13,27,32],Be=In&&"CompositionEvent"in window,ot=null;In&&"documentMode"in document&&(ot=document.documentMode);var Nn=In&&"TextEvent"in window&&!ot,bi=In&&(!Be||ot&&8<ot&&11>=ot),Kn=" ",Xn=!1;function br(t,n){switch(t){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function $T(t,n){switch(t){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Xn=!0,Kn);case"textInput":return t=n.data,t===Kn&&Xn?null:t;default:return null}}function ZT(t,n){if(ca)return t==="compositionend"||!Be&&br(t,n)?(t=Cl(),_r=xl=_i=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!JT[t.type]:n==="textarea"}function yp(t,n,s,l){ps?yi?yi.push(l):yi=[l]:ps=l,n=oc(n,"onChange"),0<n.length&&(s=new vi("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ol=null,Vl=null;function WT(t){Wy(t,0)}function Eu(t){var n=pn(t);if(mr(n))return t}function _p(t,n){if(t==="change")return n}var vp=!1;if(In){var Ch;if(In){var Ih="oninput"in document;if(!Ih){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Ih=typeof Ep.oninput=="function"}Ch=Ih}else Ch=!1;vp=Ch&&(!document.documentMode||9<document.documentMode)}function Tp(){Ol&&(Ol.detachEvent("onpropertychange",bp),Vl=Ol=null)}function bp(t){if(t.propertyName==="value"&&Eu(Vl)){var n=[];yp(n,Vl,t,Cn(t)),gs(WT,n)}}function eb(t,n,s){t==="focusin"?(Tp(),Ol=n,Vl=s,Ol.attachEvent("onpropertychange",bp)):t==="focusout"&&Tp()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(Vl)}function nb(t,n){if(t==="click")return Eu(n)}function ib(t,n){if(t==="input"||t==="change")return Eu(n)}function sb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var yn=typeof Object.is=="function"?Object.is:sb;function Ml(t,n){if(yn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!vt.call(n,h)||!yn(t[h],n[h]))return!1}return!0}function Ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sp(t,n){var s=Ap(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ap(s)}}function wp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=gi(t.document)}return n}function Nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rb=In&&"documentMode"in document&&11>=document.documentMode,ha=null,Dh=null,kl=null,Oh=!1;function xp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oh||ha==null||ha!==gi(l)||(l=ha,"selectionStart"in l&&Nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Ml(kl,l)||(kl=l,l=oc(Dh,"onSelect"),0<l.length&&(n=new vi("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=ha)))}function Ar(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var fa={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},Vh={},Cp={};In&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Sr(t){if(Vh[t])return Vh[t];if(!fa[t])return t;var n=fa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cp)return Vh[t]=n[s];return t}var Ip=Sr("animationend"),Np=Sr("animationiteration"),Dp=Sr("animationstart"),ab=Sr("transitionrun"),lb=Sr("transitionstart"),ob=Sr("transitioncancel"),Op=Sr("transitionend"),Vp=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function $n(t,n){Vp.set(t,n),mi(n,[t])}var Tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],da=0,kh=0;function bu(){for(var t=da,n=kh=da=0;n<t;){var s=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Mp(s,h,f)}}function Au(t,n,s,l){Dn[da++]=t,Dn[da++]=n,Dn[da++]=s,Dn[da++]=l,kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uh(t,n,s,l){return Au(t,n,s,l),Su(t)}function wr(t,n){return Au(t,null,null,n),Su(t)}function Mp(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-mt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Su(t){if(50<io)throw io=0,Qf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ma={};function ub(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,n,s,l){return new ub(t,n,s,l)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,n){var s=t.alternate;return s===null?(s=_n(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function kp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wu(t,n,s,l,h,f){var p=0;if(l=t,typeof t=="function")Lh(t)&&(p=1);else if(typeof t=="string")p=m1(t,s,F.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=_n(31,s,n,h),t.elementType=S,t.lanes=f,t;case se:return Rr(s.children,h,f,n);case W:p=8,h|=24;break;case ge:return t=_n(12,s,n,h|2),t.elementType=ge,t.lanes=f,t;case et:return t=_n(13,s,n,h),t.elementType=et,t.lanes=f,t;case ue:return t=_n(19,s,n,h),t.elementType=ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case be:p=9;break e;case Ge:p=11;break e;case x:p=14;break e;case w:p=16,l=null;break e}p=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=_n(p,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Rr(t,n,s,l){return t=_n(7,t,l,n),t.lanes=s,t}function jh(t,n,s){return t=_n(6,t,null,n),t.lanes=s,t}function Up(t){var n=_n(18,null,null,0);return n.stateNode=t,n}function Ph(t,n,s){return n=_n(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Lp=new WeakMap;function On(t,n){if(typeof t=="object"&&t!==null){var s=Lp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:fl(n)},Lp.set(t,n),n)}return{value:t,source:n,stack:fl(n)}}var pa=[],ga=0,Ru=null,Ul=0,Vn=[],Mn=0,Es=null,Ai=1,Si="";function qi(t,n){pa[ga++]=Ul,pa[ga++]=Ru,Ru=t,Ul=n}function jp(t,n,s){Vn[Mn++]=Ai,Vn[Mn++]=Si,Vn[Mn++]=Es,Es=t;var l=Ai;t=Si;var h=32-mt(l)-1;l&=~(1<<h),s+=1;var f=32-mt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ai=1<<32-mt(n)+h|s<<h|l,Si=f+t}else Ai=1<<f|s<<h|l,Si=t}function zh(t){t.return!==null&&(qi(t,1),jp(t,1,0))}function qh(t){for(;t===Ru;)Ru=pa[--ga],pa[ga]=null,Ul=pa[--ga],pa[ga]=null;for(;t===Es;)Es=Vn[--Mn],Vn[Mn]=null,Si=Vn[--Mn],Vn[Mn]=null,Ai=Vn[--Mn],Vn[Mn]=null}function Pp(t,n){Vn[Mn++]=Ai,Vn[Mn++]=Si,Vn[Mn++]=Es,Ai=n.id,Si=n.overflow,Es=t}var Bt=null,rt=null,Le=!1,Ts=null,kn=!1,Bh=Error(r(519));function bs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(On(n,t)),Bh}function zp(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Tt]=t,n[Ut]=l,s){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)De(ro[s],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),ru(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),ds(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||i_(n.textContent,s)?(l.popover!=null&&(De("beforetoggle",n),De("toggle",n)),l.onScroll!=null&&De("scroll",n),l.onScrollEnd!=null&&De("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||bs(t,!0)}function qp(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Bt=Bt.return}}function ya(t){if(t!==Bt)return!1;if(!Le)return qp(t),Le=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ld(t.type,t.memoizedProps)),s=!s),s&&rt&&bs(t),qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=f_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=f_(t)}else n===27?(n=rt,Us(t.type)?(t=fd,fd=null,rt=t):rt=n):rt=Bt?Ln(t.stateNode.nextSibling):null;return!0}function xr(){rt=Bt=null,Le=!1}function Hh(){var t=Ts;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Ts=null),t}function Ll(t){Ts===null?Ts=[t]:Ts.push(t)}var Gh=O(null),Cr=null,Bi=null;function As(t,n,s){Q(Gh,n._currentValue),n._currentValue=s}function Hi(t){t._currentValue=Gh.current,K(Gh)}function Fh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Qh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Fh(f.return,s,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Fh(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function _a(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=h.type;yn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===me.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(co):t=[co])}h=h.return}t!==null&&Qh(n,t,s,l),n.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ir(t){Cr=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Bp(Cr,t)}function Cu(t,n){return Cr===null&&Ir(t),Bp(t,n)}function Bp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Bi===null){if(t===null)throw Error(r(308));Bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bi=Bi.next=n;return s}var cb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},hb=a.unstable_scheduleCallback,fb=a.unstable_NormalPriority,St={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new cb,data:new Map,refCount:0}}function jl(t){t.refCount--,t.refCount===0&&hb(fb,function(){t.controller.abort()})}var Pl=null,Kh=0,va=0,Ea=null;function db(t,n){if(Pl===null){var s=Pl=[];Kh=0,va=Jf(),Ea={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Kh++,n.then(Hp,Hp),n}function Hp(){if(--Kh===0&&Pl!==null){Ea!==null&&(Ea.status="fulfilled");var t=Pl;Pl=null,va=0,Ea=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function mb(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Gp=q.S;q.S=function(t,n){xy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&db(t,n),Gp!==null&&Gp(t,n)};var Nr=O(null);function Xh(){var t=Nr.current;return t!==null?t:tt.pooledCache}function Iu(t,n){n===null?Q(Nr,Nr.current):Q(Nr,n.pool)}function Fp(){var t=Xh();return t===null?null:{parent:St._currentValue,pool:t}}var Ta=Error(r(460)),$h=Error(r(474)),Nu=Error(r(542)),Du={then:function(){}};function Qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Fn,Fn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xp(t),t}throw Or=n,Ta}}function Dr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Or=s,Ta):s}}var Or=null;function Kp(){if(Or===null)throw Error(r(459));var t=Or;return Or=null,t}function Xp(t){if(t===Ta||t===Nu)throw Error(r(483))}var ba=null,zl=0;function Ou(t){var n=zl;return zl+=1,ba===null&&(ba=[]),Yp(ba,t,n)}function ql(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vu(t,n){throw n.$$typeof===k?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $p(t){function n(U,V){if(t){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function s(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=zi(U,V),U.index=0,U.sibling=null,U}function f(U,V,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,j,X){return V===null||V.tag!==6?(V=jh(j,U.mode,X),V.return=U,V):(V=h(V,j),V.return=U,V)}function I(U,V,j,X){var fe=j.type;return fe===se?G(U,V,j.props.children,X,j.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Dr(fe)===V.type)?(V=h(V,j.props),ql(V,j),V.return=U,V):(V=wu(j.type,j.key,j.props,null,U.mode,X),ql(V,j),V.return=U,V)}function P(U,V,j,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Ph(j,U.mode,X),V.return=U,V):(V=h(V,j.children||[]),V.return=U,V)}function G(U,V,j,X,fe){return V===null||V.tag!==7?(V=Rr(j,U.mode,X,fe),V.return=U,V):(V=h(V,j),V.return=U,V)}function $(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=jh(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Y:return j=wu(V.type,V.key,V.props,null,U.mode,j),ql(j,V),j.return=U,j;case te:return V=Ph(V,U.mode,j),V.return=U,V;case w:return V=Dr(V),$(U,V,j)}if(st(V)||M(V))return V=Rr(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return $(U,Ou(V),j);if(V.$$typeof===_e)return $(U,Cu(U,V),j);Vu(U,V)}return null}function z(U,V,j,X){var fe=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return fe!==null?null:T(U,V,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return j.key===fe?I(U,V,j,X):null;case te:return j.key===fe?P(U,V,j,X):null;case w:return j=Dr(j),z(U,V,j,X)}if(st(j)||M(j))return fe!==null?null:G(U,V,j,X,null);if(typeof j.then=="function")return z(U,V,Ou(j),X);if(j.$$typeof===_e)return z(U,V,Cu(U,j),X);Vu(U,j)}return null}function H(U,V,j,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(j)||null,T(V,U,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Y:return U=U.get(X.key===null?j:X.key)||null,I(V,U,X,fe);case te:return U=U.get(X.key===null?j:X.key)||null,P(V,U,X,fe);case w:return X=Dr(X),H(U,V,j,X,fe)}if(st(X)||M(X))return U=U.get(j)||null,G(V,U,X,fe,null);if(typeof X.then=="function")return H(U,V,j,Ou(X),fe);if(X.$$typeof===_e)return H(U,V,j,Cu(V,X),fe);Vu(V,X)}return null}function oe(U,V,j,X){for(var fe=null,Pe=null,ce=V,xe=V=0,Ve=null;ce!==null&&xe<j.length;xe++){ce.index>xe?(Ve=ce,ce=null):Ve=ce.sibling;var ze=z(U,ce,j[xe],X);if(ze===null){ce===null&&(ce=Ve);break}t&&ce&&ze.alternate===null&&n(U,ce),V=f(ze,V,xe),Pe===null?fe=ze:Pe.sibling=ze,Pe=ze,ce=Ve}if(xe===j.length)return s(U,ce),Le&&qi(U,xe),fe;if(ce===null){for(;xe<j.length;xe++)ce=$(U,j[xe],X),ce!==null&&(V=f(ce,V,xe),Pe===null?fe=ce:Pe.sibling=ce,Pe=ce);return Le&&qi(U,xe),fe}for(ce=l(ce);xe<j.length;xe++)Ve=H(ce,U,xe,j[xe],X),Ve!==null&&(t&&Ve.alternate!==null&&ce.delete(Ve.key===null?xe:Ve.key),V=f(Ve,V,xe),Pe===null?fe=Ve:Pe.sibling=Ve,Pe=Ve);return t&&ce.forEach(function(qs){return n(U,qs)}),Le&&qi(U,xe),fe}function ye(U,V,j,X){if(j==null)throw Error(r(151));for(var fe=null,Pe=null,ce=V,xe=V=0,Ve=null,ze=j.next();ce!==null&&!ze.done;xe++,ze=j.next()){ce.index>xe?(Ve=ce,ce=null):Ve=ce.sibling;var qs=z(U,ce,ze.value,X);if(qs===null){ce===null&&(ce=Ve);break}t&&ce&&qs.alternate===null&&n(U,ce),V=f(qs,V,xe),Pe===null?fe=qs:Pe.sibling=qs,Pe=qs,ce=Ve}if(ze.done)return s(U,ce),Le&&qi(U,xe),fe;if(ce===null){for(;!ze.done;xe++,ze=j.next())ze=$(U,ze.value,X),ze!==null&&(V=f(ze,V,xe),Pe===null?fe=ze:Pe.sibling=ze,Pe=ze);return Le&&qi(U,xe),fe}for(ce=l(ce);!ze.done;xe++,ze=j.next())ze=H(ce,U,xe,ze.value,X),ze!==null&&(t&&ze.alternate!==null&&ce.delete(ze.key===null?xe:ze.key),V=f(ze,V,xe),Pe===null?fe=ze:Pe.sibling=ze,Pe=ze);return t&&ce.forEach(function(w1){return n(U,w1)}),Le&&qi(U,xe),fe}function We(U,V,j,X){if(typeof j=="object"&&j!==null&&j.type===se&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:e:{for(var fe=j.key;V!==null;){if(V.key===fe){if(fe=j.type,fe===se){if(V.tag===7){s(U,V.sibling),X=h(V,j.props.children),X.return=U,U=X;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Dr(fe)===V.type){s(U,V.sibling),X=h(V,j.props),ql(X,j),X.return=U,U=X;break e}s(U,V);break}else n(U,V);V=V.sibling}j.type===se?(X=Rr(j.props.children,U.mode,X,j.key),X.return=U,U=X):(X=wu(j.type,j.key,j.props,null,U.mode,X),ql(X,j),X.return=U,U=X)}return p(U);case te:e:{for(fe=j.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){s(U,V.sibling),X=h(V,j.children||[]),X.return=U,U=X;break e}else{s(U,V);break}else n(U,V);V=V.sibling}X=Ph(j,U.mode,X),X.return=U,U=X}return p(U);case w:return j=Dr(j),We(U,V,j,X)}if(st(j))return oe(U,V,j,X);if(M(j)){if(fe=M(j),typeof fe!="function")throw Error(r(150));return j=fe.call(j),ye(U,V,j,X)}if(typeof j.then=="function")return We(U,V,Ou(j),X);if(j.$$typeof===_e)return We(U,V,Cu(U,j),X);Vu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(s(U,V.sibling),X=h(V,j),X.return=U,U=X):(s(U,V),X=jh(j,U.mode,X),X.return=U,U=X),p(U)):s(U,V)}return function(U,V,j,X){try{zl=0;var fe=We(U,V,j,X);return ba=null,fe}catch(ce){if(ce===Ta||ce===Nu)throw ce;var Pe=_n(29,ce,null,U.mode);return Pe.lanes=X,Pe.return=U,Pe}finally{}}}var Vr=$p(!0),Zp=$p(!1),Ss=!1;function Zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ws(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(t),Mp(t,null,s),n}return Au(t,l,n,s),Su(t)}function Bl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,pl(t,s)}}function Wh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var ef=!1;function Hl(){if(ef){var t=Ea;if(t!==null)throw t}}function Gl(t,n,s,l){ef=!1;var h=t.updateQueue;Ss=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==p&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,G=P=I=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Oe&z)===z:(l&z)===z){z!==0&&z===va&&(ef=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=t,ye=T;z=n;var We=s;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){$=oe.call(We,$,z);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,z=typeof oe=="function"?oe.call(We,$,z):oe,z==null)break e;$=R({},$,z);break e;case 2:Ss=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,I=$):G=G.next=H,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ds|=p,t.lanes=p,t.memoizedState=$}}function Jp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Wp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Jp(s[t],n)}var Aa=O(null),Mu=O(0);function eg(t,n){t=Ji,Q(Mu,t),Q(Aa,n),Ji=t|n.baseLanes}function tf(){Q(Mu,Ji),Q(Aa,Aa.current)}function nf(){Ji=Mu.current,K(Aa),K(Mu)}var vn=O(null),Un=null;function xs(t){var n=t.alternate;Q(gt,gt.current&1),Q(vn,t),Un===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Un=t)}function sf(t){Q(gt,gt.current),Q(vn,t),Un===null&&(Un=t)}function tg(t){t.tag===22?(Q(gt,gt.current),Q(vn,t),Un===null&&(Un=t)):Cs()}function Cs(){Q(gt,gt.current),Q(vn,vn.current)}function En(t){K(vn),Un===t&&(Un=null),K(gt)}var gt=O(0);function ku(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cd(s)||hd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Re=null,Ze=null,wt=null,Uu=!1,Sa=!1,Mr=!1,Lu=0,Fl=0,wa=null,pb=0;function ft(){throw Error(r(321))}function rf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!yn(t[s],n[s]))return!1;return!0}function af(t,n,s,l,h,f){return Gi=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?jg:Tf,Mr=!1,f=s(l,h),Mr=!1,Sa&&(f=ig(n,s,l,h)),ng(t),f}function ng(t){q.H=Kl;var n=Ze!==null&&Ze.next!==null;if(Gi=0,wt=Ze=Re=null,Uu=!1,Fl=0,wa=null,n)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&xu(t)&&(Rt=!0))}function ig(t,n,s,l){Re=t;var h=0;do{if(Sa&&(wa=null),Fl=0,Sa=!1,25<=h)throw Error(r(301));if(h+=1,wt=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Pg,f=n(s,l)}while(Sa);return f}function gb(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Ql(n):n,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),n}function lf(){var t=Lu!==0;return Lu=0,t}function of(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function uf(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}Gi=0,wt=Ze=Re=null,Sa=!1,Fl=Lu=0,wa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=wt===null?Re.memoizedState:wt.next;if(n!==null)wt=n,Ze=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(t){var n=Fl;return Fl+=1,wa===null&&(wa=[]),t=Yp(wa,t,n),n=Re,(wt===null?n.memoizedState:wt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?jg:Tf),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ql(t);if(t.$$typeof===_e)return Ht(t)}throw Error(r(438,String(t)))}function cf(t){var n=null,s=Re.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ju(),Re.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=D;return n.index++,s}function Fi(t,n){return typeof n=="function"?n(t):n}function zu(t){var n=yt();return hf(n,Ze,t)}function hf(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,I=null,P=n,G=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Oe&$)===$:(Gi&$)===$){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===va&&(G=!0);else if((Gi&z)===z){P=P.next,z===va&&(G=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=$,p=f):I=I.next=$,Re.lanes|=z,Ds|=z;$=P.action,Mr&&s(f,$),f=P.hasEagerState?P.eagerState:s(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=z,p=f):I=I.next=z,Re.lanes|=$,Ds|=$;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=T,!yn(f,t.memoizedState)&&(Rt=!0,G&&(s=Ea,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ff(t){var n=yt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);yn(f,n.memoizedState)||(Rt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function sg(t,n,s){var l=Re,h=yt(),f=Le;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!yn((Ze||h).memoizedState,s);if(p&&(h.memoizedState=s,Rt=!0),h=h.queue,pf(lg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},ag.bind(null,l,h,s,n),null),tt===null)throw Error(r(349));f||(Gi&127)!==0||rg(l,n,s)}return s}function rg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Re.updateQueue,n===null?(n=ju(),Re.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ag(t,n,s,l){n.value=s,n.getSnapshot=l,og(n)&&ug(t)}function lg(t,n,s){return s(function(){og(n)&&ug(t)})}function og(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!yn(t,s)}catch{return!0}}function ug(t){var n=wr(t,2);n!==null&&fn(n,t,2)}function df(t){var n=sn();if(typeof t=="function"){var s=t;if(t=s(),Mr){Rn(!0);try{s()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},n}function cg(t,n,s,l){return t.baseState=s,hf(t,Ze,typeof l=="function"?l:Fi)}function yb(t,n,s,l,h){if(Hu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,hg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function hg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var T=s(h,l),I=q.S;I!==null&&I(p,T),fg(t,n,T)}catch(P){mf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=s(h,l),fg(t,n,f)}catch(P){mf(t,n,P)}}function fg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dg(t,n,l)},function(l){return mf(t,n,l)}):dg(t,n,s)}function dg(t,n,s){n.status="fulfilled",n.value=s,mg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,hg(t,s)))}function mf(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,mg(n),n=n.next;while(n!==l)}t.action=null}function mg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pg(t,n){return n}function gg(t,n){if(Le){var s=tt.formState;if(s!==null){e:{var l=Re;if(Le){if(rt){t:{for(var h=rt,f=kn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){rt=Ln(h.nextSibling),l=h.data==="F!";break e}}bs(l)}l=!1}l&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},s.queue=l,s=kg.bind(null,Re,l),l.dispatch=s,l=df(!1),f=Ef.bind(null,Re,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=yb.bind(null,Re,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function yg(t){var n=yt();return _g(n,Ze,t)}function _g(t,n,s){if(n=hf(t,n,pg)[0],t=zu(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(p){throw p===Ta?Nu:p}else l=n;n=yt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Re.flags|=2048,Ra(9,{destroy:void 0},_b.bind(null,h,s),null)),[l,f,t]}function _b(t,n){t.action=n}function vg(t){var n=yt(),s=Ze;if(s!==null)return _g(n,s,t);yt(),n=n.memoizedState,s=yt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Ra(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=ju(),Re.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Eg(){return yt().memoizedState}function qu(t,n,s,l){var h=sn();Re.flags|=t,h.memoizedState=Ra(1|n,{destroy:void 0},s,l===void 0?null:l)}function Bu(t,n,s,l){var h=yt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&rf(l,Ze.memoizedState.deps)?h.memoizedState=Ra(n,f,s,l):(Re.flags|=t,h.memoizedState=Ra(1|n,f,s,l))}function Tg(t,n){qu(8390656,8,t,n)}function pf(t,n){Bu(2048,8,t,n)}function vb(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=ju(),Re.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function bg(t){var n=yt().memoizedState;return vb({ref:n,nextImpl:t}),function(){if((He&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ag(t,n){return Bu(4,2,t,n)}function Sg(t,n){return Bu(4,4,t,n)}function wg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rg(t,n,s){s=s!=null?s.concat([t]):null,Bu(4,4,wg.bind(null,n,t),s)}function gf(){}function xg(t,n){var s=yt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&rf(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Cg(t,n){var s=yt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&rf(n,l[1]))return l[0];if(l=t(),Mr){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[l,n],l}function yf(t,n,s){return s===void 0||(Gi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Iy(),Re.lanes|=t,Ds|=t,s)}function Ig(t,n,s,l){return yn(s,n)?s:Aa.current!==null?(t=yf(t,s,l),yn(t,n)||(Rt=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=s):(t=Iy(),Re.lanes|=t,Ds|=t,n)}function Ng(t,n,s,l,h){var f=ee.p;ee.p=f!==0&&8>f?f:8;var p=q.T,T={};q.T=T,Ef(t,!1,n,s);try{var I=h(),P=q.S;if(P!==null&&P(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=mb(I,l);Yl(t,n,G,An(t))}else Yl(t,n,l,An(t))}catch($){Yl(t,n,{then:function(){},status:"rejected",reason:$},An())}finally{ee.p=f,p!==null&&T.types!==null&&(p.types=T.types),q.T=p}}function Eb(){}function _f(t,n,s,l){if(t.tag!==5)throw Error(r(476));var h=Dg(t).queue;Ng(t,h,n,ie,s===null?Eb:function(){return Og(t),s(l)})}function Dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ie},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Og(t){var n=Dg(t);n.next===null&&(n=t.alternate.memoizedState),Yl(t,n.next.queue,{},An())}function vf(){return Ht(co)}function Vg(){return yt().memoizedState}function Mg(){return yt().memoizedState}function Tb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=An();t=ws(s);var l=Rs(n,t,s);l!==null&&(fn(l,n,s),Bl(l,n,s)),n={cache:Yh()},t.payload=n;return}n=n.return}}function bb(t,n,s){var l=An();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(t)?Ug(n,s):(s=Uh(t,n,s,l),s!==null&&(fn(s,t,l),Lg(s,n,l)))}function kg(t,n,s){var l=An();Yl(t,n,s,l)}function Yl(t,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))Ug(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,yn(T,p))return Au(t,n,h,0),tt===null&&bu(),!1}catch{}finally{}if(s=Uh(t,n,h,l),s!==null)return fn(s,t,l),Lg(s,n,l),!0}return!1}function Ef(t,n,s,l){if(l={lane:2,revertLane:Jf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(r(479))}else n=Uh(t,s,l,2),n!==null&&fn(n,t,2)}function Hu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Ug(t,n){Sa=Uu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Lg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,pl(t,s)}}var Kl={readContext:Ht,use:Pu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};Kl.useEffectEvent=ft;var jg={readContext:Ht,use:Pu,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Tg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,qu(4194308,4,wg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var s=sn();n=n===void 0?null:n;var l=t();if(Mr){Rn(!0);try{t()}finally{Rn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=sn();if(s!==void 0){var h=s(n);if(Mr){Rn(!0);try{s(n)}finally{Rn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=bb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=df(t);var n=t.queue,s=kg.bind(null,Re,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:gf,useDeferredValue:function(t,n){var s=sn();return yf(s,t,n)},useTransition:function(){var t=df(!1);return t=Ng.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Re,h=sn();if(Le){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),tt===null)throw Error(r(349));(Oe&127)!==0||rg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Tg(lg.bind(null,l,f,t),[t]),l.flags|=2048,Ra(9,{destroy:void 0},ag.bind(null,l,f,s,n),null),s},useId:function(){var t=sn(),n=tt.identifierPrefix;if(Le){var s=Si,l=Ai;s=(l&~(1<<32-mt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=pb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vf,useFormState:gg,useActionState:gg,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ef.bind(null,Re,!0,s),s.dispatch=n,[t,n]},useMemoCache:cf,useCacheRefresh:function(){return sn().memoizedState=Tb.bind(null,Re)},useEffectEvent:function(t){var n=sn(),s={impl:t};return n.memoizedState=s,function(){if((He&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Tf={readContext:Ht,use:Pu,useCallback:xg,useContext:Ht,useEffect:pf,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:Sg,useMemo:Cg,useReducer:zu,useRef:Eg,useState:function(){return zu(Fi)},useDebugValue:gf,useDeferredValue:function(t,n){var s=yt();return Ig(s,Ze.memoizedState,t,n)},useTransition:function(){var t=zu(Fi)[0],n=yt().memoizedState;return[typeof t=="boolean"?t:Ql(t),n]},useSyncExternalStore:sg,useId:Vg,useHostTransitionStatus:vf,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=yt();return cg(s,Ze,t,n)},useMemoCache:cf,useCacheRefresh:Mg};Tf.useEffectEvent=bg;var Pg={readContext:Ht,use:Pu,useCallback:xg,useContext:Ht,useEffect:pf,useImperativeHandle:Rg,useInsertionEffect:Ag,useLayoutEffect:Sg,useMemo:Cg,useReducer:ff,useRef:Eg,useState:function(){return ff(Fi)},useDebugValue:gf,useDeferredValue:function(t,n){var s=yt();return Ze===null?yf(s,t,n):Ig(s,Ze.memoizedState,t,n)},useTransition:function(){var t=ff(Fi)[0],n=yt().memoizedState;return[typeof t=="boolean"?t:Ql(t),n]},useSyncExternalStore:sg,useId:Vg,useHostTransitionStatus:vf,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var s=yt();return Ze!==null?cg(s,Ze,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Mg};Pg.useEffectEvent=bg;function bf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:R({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Af={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=An(),h=ws(l);h.payload=n,s!=null&&(h.callback=s),n=Rs(t,h,l),n!==null&&(fn(n,t,l),Bl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=An(),h=ws(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Rs(t,h,l),n!==null&&(fn(n,t,l),Bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=An(),l=ws(s);l.tag=2,n!=null&&(l.callback=n),n=Rs(t,l,s),n!==null&&(fn(n,t,s),Bl(n,t,s))}};function zg(t,n,s,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ml(s,l)||!Ml(h,f):!0}function qg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Af.enqueueReplaceState(n,n.state,null)}function kr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=R({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Bg(t){Tu(t)}function Hg(t){console.error(t)}function Gg(t){Tu(t)}function Gu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(t,n,s){return s=ws(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(t,n)},s}function Qg(t){return t=ws(t),t.tag=3,t}function Yg(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Fg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Fg(n,s,l),typeof h!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Ab(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?nc():s.alternate===null&&dt===0&&(dt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Xf(t,l,h)),!1;case 22:return s.flags|=65536,l===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Xf(t,l,h)),!1}throw Error(r(435,s.tag))}return Xf(t,l,h),nc(),!1}if(Le)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Bh&&(t=Error(r(422),{cause:l}),Ll(On(t,s)))):(l!==Bh&&(n=Error(r(423),{cause:l}),Ll(On(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,s),h=Sf(t.stateNode,l,h),Wh(t,h),dt!==4&&(dt=2)),!1;var f=Error(r(520),{cause:l});if(f=On(f,s),no===null?no=[f]:no.push(f),dt!==4&&(dt=2),n===null)return!0;l=On(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Sf(s.stateNode,l,t),Wh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Os===null||!Os.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Qg(h),Yg(h,t,s,l),Wh(s,h),!1}s=s.return}while(s!==null);return!1}var wf=Error(r(461)),Rt=!1;function Gt(t,n,s,l){n.child=t===null?Zp(n,null,s,l):Vr(n,t.child,s,l)}function Kg(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Ir(n),l=af(t,n,s,p,f,h),T=lf(),t!==null&&!Rt?(of(t,n,h),Qi(t,n,h)):(Le&&T&&zh(n),n.flags|=1,Gt(t,n,l,h),n.child)}function Xg(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,$g(t,n,f,l,h)):(t=wu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Vf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ml,s(p,l)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=zi(f,l),t.ref=n.ref,t.return=n,n.child=t}function $g(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(Ml(f,l)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=l=f,Vf(t,h))(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return Rf(t,n,s,l,h)}function Zg(t,n,s,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Jg(t,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?eg(n,f):tf(),tg(n);else return l=n.lanes=536870912,Jg(t,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Iu(n,f.cachePool),eg(n,f),Cs(),n.memoizedState=null):(t!==null&&Iu(n,null),tf(),Cs());return Gt(t,n,h,s),n.child}function Xl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(t,n,s,l,h){var f=Xh();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Iu(n,null),tf(),tg(n),t!==null&&_a(t,n,l,!0),n.childLanes=h,null}function Fu(t,n){return n=Yu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wg(t,n,s){return Vr(n,t.child,null,s),t=Fu(n,n.pendingProps),t.flags|=2,En(n),n.memoizedState=null,t}function Sb(t,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Fu(n,l),n.lanes=536870912,Xl(null,t);if(sf(n),(t=rt)?(t=h_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Es!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=Up(t),s.return=n,n.child=s,Bt=n,rt=null)):t=null,t===null)throw bs(n);return n.lanes=536870912,null}return Fu(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(sf(n),h)if(n.flags&256)n.flags&=-257,n=Wg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Rt||_a(t,n,s,!1),h=(s&t.childLanes)!==0,Rt||h){if(l=tt,l!==null&&(p=gl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,wr(t,p),fn(l,t,p),wf;nc(),n=Wg(t,n,s)}else t=f.treeContext,rt=Ln(p.nextSibling),Bt=n,Le=!0,Ts=null,kn=!1,t!==null&&Pp(n,t),n=Fu(n,l),n.flags|=4096;return n}return t=zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Qu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Rf(t,n,s,l,h){return Ir(n),s=af(t,n,s,l,void 0,h),l=lf(),t!==null&&!Rt?(of(t,n,h),Qi(t,n,h)):(Le&&l&&zh(n),n.flags|=1,Gt(t,n,s,h),n.child)}function ey(t,n,s,l,h,f){return Ir(n),n.updateQueue=null,s=ig(n,l,s,h),ng(t),l=lf(),t!==null&&!Rt?(of(t,n,f),Qi(t,n,f)):(Le&&l&&zh(n),n.flags|=1,Gt(t,n,s,f),n.child)}function ty(t,n,s,l,h){if(Ir(n),n.stateNode===null){var f=ma,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ht(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ht(p):ma,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(bf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Af.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,I=kr(s,T);f.props=I;var P=f.context,G=s.contextType;p=ma,typeof G=="object"&&G!==null&&(p=Ht(G));var $=s.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==p)&&qg(n,f,l,p),Ss=!1;var z=n.memoizedState;f.state=z,Gl(n,l,f,h),Hl(),P=n.memoizedState,T||z!==P||Ss?(typeof $=="function"&&(bf(n,s,$,l),P=n.memoizedState),(I=Ss||zg(n,s,I,l,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Jh(t,n),p=n.memoizedProps,G=kr(s,p),f.props=G,$=n.pendingProps,z=f.context,P=s.contextType,I=ma,typeof P=="object"&&P!==null&&(I=Ht(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||z!==I)&&qg(n,f,l,I),Ss=!1,z=n.memoizedState,f.state=z,Gl(n,l,f,h),Hl();var H=n.memoizedState;p!==$||z!==H||Ss||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof T=="function"&&(bf(n,s,T,l),H=n.memoizedState),(G=Ss||zg(n,s,G,l,z,H,I)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Vr(n,t.child,null,h),n.child=Vr(n,null,s,h)):Gt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Qi(t,n,h),t}function ny(t,n,s,l){return xr(),n.flags|=256,Gt(t,n,s,l),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:Fp()}}function If(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=bn),t}function iy(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?xs(n):Cs(),(t=rt)?(t=h_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Es!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},s=Up(t),s.return=n,n.child=s,Bt=n,rt=null)):t=null,t===null)throw bs(n);return hd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Cs(),h=n.mode,T=Yu({mode:"hidden",children:T},h),l=Rr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Cf(s),l.childLanes=If(t,p,s),n.memoizedState=xf,Xl(null,l)):(xs(n),Nf(n,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=Df(t,n,s)):n.memoizedState!==null?(Cs(),n.child=t.child,n.flags|=128,n=null):(Cs(),T=l.fallback,h=n.mode,l=Yu({mode:"visible",children:l.children},h),T=Rr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Vr(n,t.child,null,s),l=n.child,l.memoizedState=Cf(s),l.childLanes=If(t,p,s),n.memoizedState=xf,n=Xl(null,l));else if(xs(n),hd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(r(419)),l.stack="",l.digest=p,Ll({value:l,source:null,stack:null}),n=Df(t,n,s)}else if(Rt||_a(t,n,s,!1),p=(s&t.childLanes)!==0,Rt||p){if(p=tt,p!==null&&(l=gl(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,wr(t,l),fn(p,t,l),wf;cd(T)||nc(),n=Df(t,n,s)}else cd(T)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,rt=Ln(T.nextSibling),Bt=n,Le=!0,Ts=null,kn=!1,t!==null&&Pp(n,t),n=Nf(n,l.children),n.flags|=4096);return n}return h?(Cs(),T=l.fallback,h=n.mode,I=t.child,P=I.sibling,l=zi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,P!==null?T=zi(P,T):(T=Rr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Xl(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Cf(s):(h=T.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Fp(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=If(t,p,s),n.memoizedState=xf,Xl(t.child,l)):(xs(n),s=t.child,t=s.sibling,s=zi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Nf(t,n){return n=Yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Yu(t,n){return t=_n(22,t,null,n),t.lanes=0,t}function Df(t,n,s){return Vr(n,t.child,null,s),t=Nf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sy(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Fh(t.return,n,s)}function Of(t,n,s,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ry(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=gt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,Q(gt,p),Gt(t,n,l,s),l=Le?Ul:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,s,n);else if(t.tag===19)sy(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ku(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Of(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ku(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Of(n,!0,s,null,f,l);break;case"together":Of(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Qi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ds|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(_a(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=zi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=zi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function wb(t,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),As(n,St,t.memoizedState.cache),xr();break;case 27:case 5:zn(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?iy(t,n,s):(xs(n),t=Qi(t,n,s),t!==null?t.sibling:null);xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(_a(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ry(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(gt,gt.current),l)break;return null;case 22:return n.lanes=0,Zg(t,n,s,n.pendingProps);case 24:As(n,St,t.memoizedState.cache)}return Qi(t,n,s)}function ay(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rt=!0;else{if(!Vf(t,s)&&(n.flags&128)===0)return Rt=!1,wb(t,n,s);Rt=(t.flags&131072)!==0}else Rt=!1,Le&&(n.flags&1048576)!==0&&jp(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Dr(n.elementType),n.type=t,typeof t=="function")Lh(t)?(l=kr(t,l),n.tag=1,n=ty(null,n,t,l,s)):(n.tag=0,n=Rf(null,n,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===Ge){n.tag=11,n=Kg(null,n,t,l,s);break e}else if(h===x){n.tag=14,n=Xg(null,n,t,l,s);break e}}throw n=qe(t)||t,Error(r(306,n,""))}}return n;case 0:return Rf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=kr(l,n.pendingProps),ty(t,n,l,h,s);case 3:e:{if(Ie(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Jh(t,n),Gl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,As(n,St,l),l!==f.cache&&Qh(n,[St],s,!0),Hl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(t,n,l,s);break e}else if(l!==h){h=On(Error(r(424)),n),Ll(h),n=ny(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Ln(t.firstChild),Bt=n,Le=!0,Ts=null,kn=!0,s=Zp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(xr(),l===h){n=Qi(t,n,s);break e}Gt(t,n,l,s)}n=n.child}return n;case 26:return Qu(t,n),t===null?(s=y_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Le||(s=n.type,t=n.pendingProps,l=uc(he.current).createElement(s),l[Tt]=n,l[Ut]=t,Ft(l,s,t),bt(l),n.stateNode=l):n.memoizedState=y_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return zn(n),t===null&&Le&&(l=n.stateNode=m_(n.type,n.pendingProps,he.current),Bt=n,kn=!0,h=rt,Us(n.type)?(fd=h,rt=Ln(l.firstChild)):rt=h),Gt(t,n,n.pendingProps.children,s),Qu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=l=rt)&&(l=t1(l,n.type,n.pendingProps,kn),l!==null?(n.stateNode=l,Bt=n,rt=Ln(l.firstChild),kn=!1,h=!0):h=!1),h||bs(n)),zn(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,ld(h,f)?l=null:p!==null&&ld(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=af(t,n,gb,null,null,s),co._currentValue=h),Qu(t,n),Gt(t,n,l,s),n.child;case 6:return t===null&&Le&&((t=s=rt)&&(s=n1(s,n.pendingProps,kn),s!==null?(n.stateNode=s,Bt=n,rt=null,t=!0):t=!1),t||bs(n)),null;case 13:return iy(t,n,s);case 4:return Ie(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Vr(n,null,l,s):Gt(t,n,l,s),n.child;case 11:return Kg(t,n,n.type,n.pendingProps,s);case 7:return Gt(t,n,n.pendingProps,s),n.child;case 8:return Gt(t,n,n.pendingProps.children,s),n.child;case 12:return Gt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,As(n,n.type,l.value),Gt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=Ht(h),l=l(h),n.flags|=1,Gt(t,n,l,s),n.child;case 14:return Xg(t,n,n.type,n.pendingProps,s);case 15:return $g(t,n,n.type,n.pendingProps,s);case 19:return ry(t,n,s);case 31:return Sb(t,n,s);case 22:return Zg(t,n,s,n.pendingProps);case 24:return Ir(n),l=Ht(St),t===null?(h=Xh(),h===null&&(h=tt,f=Yh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Zh(n),As(n,St,h)):((t.lanes&s)!==0&&(Jh(t,n),Gl(n,null,null,s),Hl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,St,l)):(l=f.cache,As(n,St,l),l!==h.cache&&Qh(n,[St],s,!0))),Gt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Yi(t){t.flags|=4}function Mf(t,n,s,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Vy())t.flags|=8192;else throw Or=Du,$h}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b_(n))if(Vy())t.flags|=8192;else throw Or=Du,$h}function Ku(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?eu():536870912,t.lanes|=n,Na|=n)}function $l(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function Rb(t,n,s){var l=n.pendingProps;switch(qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(n),null;case 1:return at(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Hi(St),Qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ya(n)?Yi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hh())),at(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Yi(n),f!==null?(at(n),ly(n,f)):(at(n),Mf(n,h,null,l,s))):f?f!==t.memoizedState?(Yi(n),at(n),ly(n,f)):(at(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Yi(n),at(n),Mf(n,h,t,l,s)),null;case 27:if(si(n),s=he.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return at(n),null}t=F.current,ya(n)?zp(n):(t=m_(h,l,s),n.stateNode=t,Yi(n))}return at(n),null;case 5:if(si(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return at(n),null}if(f=F.current,ya(n))zp(n);else{var p=uc(he.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Tt]=n,f[Ut]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Ft(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Yi(n)}}return at(n),Mf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Yi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=he.current,ya(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||i_(t.nodeValue,s)),t||bs(n,!0)}else t=uc(t).createTextNode(l),t[Tt]=n,n.stateNode=t}return at(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=ya(n),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),t=!1}else s=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return at(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ya(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;at(n),h=!1}else h=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Ku(n,n.updateQueue),at(n),null);case 4:return Qe(),t===null&&nd(n.stateNode.containerInfo),at(n),null;case 10:return Hi(n.type),at(n),null;case 19:if(K(gt),l=n.memoizedState,l===null)return at(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)$l(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ku(t),f!==null){for(n.flags|=128,$l(l,!1),t=f.updateQueue,n.updateQueue=t,Ku(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)kp(s,t),s=s.sibling;return Q(gt,gt.current&1|2),Le&&qi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&tn()>Wu&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304)}else{if(!h)if(t=ku(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Ku(n,t),$l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Le)return at(n),null}else 2*tn()-l.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,h=!0,$l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,s=gt.current,Q(gt,h?s&1|2:s&1),Le&&qi(n,l.treeForkCount),t):(at(n),null);case 22:case 23:return En(n),nf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(at(n),n.subtreeFlags&6&&(n.flags|=8192)):at(n),s=n.updateQueue,s!==null&&Ku(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&K(Nr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Hi(St),at(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function xb(t,n){switch(qh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Hi(St),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(En(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(gt),null;case 4:return Qe(),null;case 10:return Hi(n.type),null;case 22:case 23:return En(n),nf(),t!==null&&K(Nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Hi(St),null;case 25:return null;default:return null}}function oy(t,n){switch(qh(n),n.tag){case 3:Hi(St),Qe();break;case 26:case 27:case 5:si(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:K(gt);break;case 10:Hi(n.type);break;case 22:case 23:En(n),nf(),t!==null&&K(Nr);break;case 24:Hi(St)}}function Zl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(T){Xe(n,n.return,T)}}function Is(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var I=s,P=T;try{P()}catch(G){Xe(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){Xe(n,n.return,G)}}function uy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Wp(n,s)}catch(l){Xe(t,t.return,l)}}}function cy(t,n,s){s.props=kr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xe(t,n,l)}}function Jl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Xe(t,n,h)}}function wi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xe(t,n,h)}else s.current=null}function hy(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Xe(t,t.return,h)}}function kf(t,n,s){try{var l=t.stateNode;Xb(l,t.type,s,n),l[Ut]=n}catch(h){Xe(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Us(t.type)||t.tag===4}function Uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Us(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Us(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Lf(t,n,s),t=t.sibling;t!==null;)Lf(t,n,s),t=t.sibling}function Xu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Us(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Xu(t,n,s),t=t.sibling;t!==null;)Xu(t,n,s),t=t.sibling}function dy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,l,s),n[Tt]=t,n[Ut]=s}catch(f){Xe(t,t.return,f)}}var Ki=!1,xt=!1,jf=!1,my=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Cb(t,n){if(t=t.containerInfo,rd=gc,t=Rp(t),Nh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,T=-1,I=-1,P=0,G=0,$=t,z=null;t:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(T=p+h),$!==f||l!==0&&$.nodeType!==3||(I=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)z=$,$=H;for(;;){if($===t)break t;if(z===s&&++P===h&&(T=p),z===f&&++G===l&&(I=p),(H=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=H}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:t,selectionRange:s},gc=!1,jt=n;jt!==null;)if(n=jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,jt=t;else for(;jt!==null;){switch(n=jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var oe=kr(s.type,h);t=l.getSnapshotBeforeUpdate(oe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)ud(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,jt=t;break}jt=n.return}}function py(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:$i(t,s),l&4&&Zl(5,s);break;case 1:if($i(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){Xe(s,s.return,p)}else{var h=kr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Xe(s,s.return,p)}}l&64&&uy(s),l&512&&Jl(s,s.return);break;case 3:if($i(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Wp(t,n)}catch(p){Xe(s,s.return,p)}}break;case 27:n===null&&l&4&&dy(s);case 26:case 5:$i(t,s),n===null&&l&4&&hy(s),l&512&&Jl(s,s.return);break;case 12:$i(t,s);break;case 31:$i(t,s),l&4&&_y(t,s);break;case 13:$i(t,s),l&4&&vy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Lb.bind(null,s),i1(t,s))));break;case 22:if(l=s.memoizedState!==null||Ki,!l){n=n!==null&&n.memoizedState!==null||xt,h=Ki;var f=xt;Ki=l,(xt=n)&&!f?Zi(t,s,(s.subtreeFlags&8772)!==0):$i(t,s),Ki=h,xt=f}break;case 30:break;default:$i(t,s)}}function gy(t){var n=t.alternate;n!==null&&(t.alternate=null,gy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ea(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,on=!1;function Xi(t,n,s){for(s=s.child;s!==null;)yy(t,n,s),s=s.sibling}function yy(t,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:xt||wi(s,n),Xi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xt||wi(s,n);var l=ut,h=on;Us(s.type)&&(ut=s.stateNode,on=!1),Xi(t,n,s),lo(s.stateNode),ut=l,on=h;break;case 5:xt||wi(s,n);case 6:if(l=ut,h=on,ut=null,Xi(t,n,s),ut=l,on=h,ut!==null)if(on)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(f){Xe(s,n,f)}else try{ut.removeChild(s.stateNode)}catch(f){Xe(s,n,f)}break;case 18:ut!==null&&(on?(t=ut,u_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),ja(t)):u_(ut,s.stateNode));break;case 4:l=ut,h=on,ut=s.stateNode.containerInfo,on=!0,Xi(t,n,s),ut=l,on=h;break;case 0:case 11:case 14:case 15:Is(2,s,n),xt||Is(4,s,n),Xi(t,n,s);break;case 1:xt||(wi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&cy(s,n,l)),Xi(t,n,s);break;case 21:Xi(t,n,s);break;case 22:xt=(l=xt)||s.memoizedState!==null,Xi(t,n,s),xt=l;break;default:Xi(t,n,s)}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ja(t)}catch(s){Xe(n,n.return,s)}}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ja(t)}catch(s){Xe(n,n.return,s)}}function Ib(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new my),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new my),n;default:throw Error(r(435,t.tag))}}function $u(t,n){var s=Ib(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=jb.bind(null,t,l);l.then(h,h)}})}function un(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Us(T.type)){ut=T.stateNode,on=!1;break e}break;case 5:ut=T.stateNode,on=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(ut===null)throw Error(r(160));yy(f,p,h),ut=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ey(n,t),n=n.sibling}var Zn=null;function Ey(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(Is(3,t,t.return),Zl(3,t),Is(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(xt||s===null||wi(s,s.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Zn;if(un(n,t),cn(t),l&512&&(xt||s===null||wi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,l,s),f[Tt]=t,bt(f),l=f;break e;case"link":var p=E_("link","href",h).get(l+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),Ft(f,l,s),h.head.appendChild(f);break;case"meta":if(p=E_("meta","content",h).get(l+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break t}}f=h.createElement(l),Ft(f,l,s),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Tt]=t,bt(f),l=f}t.stateNode=l}else T_(h,t.type,t.stateNode);else t.stateNode=v_(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?T_(h,t.type,t.stateNode):v_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kf(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(xt||s===null||wi(s,s.return)),s!==null&&l&4&&kf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(xt||s===null||wi(s,s.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(oe){Xe(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,kf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(jf=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(oe){Xe(t,t.return,oe)}}break;case 3:if(fc=null,h=Zn,Zn=cc(n.containerInfo),un(n,t),Zn=h,cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(oe){Xe(t,t.return,oe)}jf&&(jf=!1,Ty(t));break;case 4:l=Zn,Zn=cc(t.stateNode.containerInfo),un(n,t),cn(t),Zn=l;break;case 12:un(n,t),cn(t);break;case 31:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Ki,G=xt;if(Ki=P||h,xt=G||I,un(n,t),xt=G,Ki=P,cn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Ki||xt||Ur(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){Xe(I,I.return,oe)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(oe){Xe(I,I.return,oe)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?c_(H,!0):c_(I.stateNode,!1)}catch(oe){Xe(I,I.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,$u(t,s))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(fy(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Uf(t);Xu(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(ln(p,""),s.flags&=-33);var T=Uf(t);Xu(t,T,p);break;case 3:case 4:var I=s.stateNode.containerInfo,P=Uf(t);Lf(t,P,I);break;default:throw Error(r(161))}}catch(G){Xe(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(t,n.alternate,n),n=n.sibling}function Ur(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),Ur(n);break;case 1:wi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&cy(n,n.return,s),Ur(n);break;case 27:lo(n.stateNode);case 26:case 5:wi(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}t=t.sibling}}function Zi(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,s),Zl(4,f);break;case 1:if(Zi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xe(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jp(I[h],T)}catch(P){Xe(l,l.return,P)}}s&&p&64&&uy(f),Jl(f,f.return);break;case 27:dy(f);case 26:case 5:Zi(h,f,s),s&&l===null&&p&4&&hy(f),Jl(f,f.return);break;case 12:Zi(h,f,s);break;case 31:Zi(h,f,s),s&&p&4&&_y(h,f);break;case 13:Zi(h,f,s),s&&p&4&&vy(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,s),Jl(f,f.return);break;case 30:break;default:Zi(h,f,s)}n=n.sibling}}function Pf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&jl(s))}function zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jl(t))}function Jn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(t,n,s,l),n=n.sibling}function by(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,s,l),h&2048&&Zl(9,n);break;case 1:Jn(t,n,s,l);break;case 3:Jn(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&jl(t)));break;case 12:if(h&2048){Jn(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(n,n.return,I)}}else Jn(t,n,s,l);break;case 31:Jn(t,n,s,l);break;case 13:Jn(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,s,l):Wl(t,n):f._visibility&2?Jn(t,n,s,l):(f._visibility|=2,xa(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pf(p,n);break;case 24:Jn(t,n,s,l),h&2048&&zf(n.alternate,n);break;default:Jn(t,n,s,l)}}function xa(t,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=s,I=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:xa(f,p,T,I,h),Zl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?xa(f,p,T,I,h):Wl(f,p):(G._visibility|=2,xa(f,p,T,I,h)),h&&P&2048&&Pf(p.alternate,p);break;case 24:xa(f,p,T,I,h),h&&P&2048&&zf(p.alternate,p);break;default:xa(f,p,T,I,h)}n=n.sibling}}function Wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:Wl(s,l),h&2048&&Pf(l.alternate,l);break;case 24:Wl(s,l),h&2048&&zf(l.alternate,l);break;default:Wl(s,l)}n=n.sibling}}var eo=8192;function Ca(t,n,s){if(t.subtreeFlags&eo)for(t=t.child;t!==null;)Ay(t,n,s),t=t.sibling}function Ay(t,n,s){switch(t.tag){case 26:Ca(t,n,s),t.flags&eo&&t.memoizedState!==null&&p1(s,Zn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t,n,s);break;case 3:case 4:var l=Zn;Zn=cc(t.stateNode.containerInfo),Ca(t,n,s),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=eo,eo=16777216,Ca(t,n,s),eo=l):Ca(t,n,s));break;default:Ca(t,n,s)}}function Sy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function to(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];jt=l,Ry(l,t)}Sy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 0:case 11:case 15:to(t),t.flags&2048&&Is(9,t,t.return);break;case 3:to(t);break;case 12:to(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zu(t)):to(t);break;default:to(t)}}function Zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];jt=l,Ry(l,t)}Sy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Is(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}t=t.sibling}}function Ry(t,n){for(;jt!==null;){var s=jt;switch(s.tag){case 0:case 11:case 15:Is(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,jt=l;else e:for(s=t;jt!==null;){l=jt;var h=l.sibling,f=l.return;if(gy(l),l===s){jt=null;break e}if(h!==null){h.return=f,jt=h;break e}jt=f}}}var Nb={getCacheForType:function(t){var n=Ht(St),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return Ht(St).controller.signal}},Db=typeof WeakMap=="function"?WeakMap:Map,He=0,tt=null,Ne=null,Oe=0,Ke=0,Tn=null,Ns=!1,Ia=!1,qf=!1,Ji=0,dt=0,Ds=0,Lr=0,Bf=0,bn=0,Na=0,no=null,hn=null,Hf=!1,Ju=0,xy=0,Wu=1/0,ec=null,Os=null,Mt=0,Vs=null,Da=null,Wi=0,Gf=0,Ff=null,Cy=null,io=0,Qf=null;function An(){return(He&2)!==0&&Oe!==0?Oe&-Oe:q.T!==null?Jf():tu()}function Iy(){if(bn===0)if((Oe&536870912)===0||Le){var t=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function fn(t,n,s){(t===tt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Oa(t,0),Ms(t,Oe,bn,!1)),hr(t,s),((He&2)===0||t!==tt)&&(t===tt&&((He&2)===0&&(Lr|=s),dt===4&&Ms(t,Oe,bn,!1)),Ri(t))}function Ny(t,n,s){if((He&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=l?Mb(t,n):Kf(t,n,!0),f=l;do{if(h===0){Ia&&!l&&Ms(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!Ob(s)){h=Kf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=no;var I=T.current.memoizedState.isDehydrated;if(I&&(Oa(T,p).flags|=256),p=Kf(T,p,!1),p!==2){if(qf&&!I){T.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break e}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Oa(t,0),Ms(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ms(l,n,bn,!Ns);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Ju+300-tn(),10<h)){if(Ms(l,n,bn,!Ns),oi(l,0,!0)!==0)break e;Wi=n,l.timeoutHandle=l_(Dy.bind(null,l,s,hn,ec,Hf,n,bn,Lr,Na,Ns,f,"Throttled",-0,0),h);break e}Dy(l,s,hn,ec,Hf,n,bn,Lr,Na,Ns,f,null,-0,0)}}break}while(!0);Ri(t)}function Dy(t,n,s,l,h,f,p,T,I,P,G,$,z,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Ay(n,f,$);var oe=(f&62914560)===f?Ju-tn():(f&4194048)===f?xy-tn():0;if(oe=g1($,oe),oe!==null){Wi=f,t.cancelPendingCommit=oe(Py.bind(null,t,n,f,s,l,h,p,T,I,G,$,null,z,H)),Ms(t,f,p,!P);return}}Py(t,n,f,s,l,h,p,T,I)}function Ob(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,s,l){n&=~Bf,n&=~Lr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-mt(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&fr(t,s,n)}function tc(){return(He&6)===0?(so(0),!1):!0}function Yf(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Bi=Cr=null,uf(t),ba=null,zl=0,t=Ne;for(;t!==null;)oy(t.alternate,t),t=t.return;Ne=null}}function Oa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Jb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Wi=0,Yf(),tt=t,Ne=s=zi(t.current,null),Oe=n,Ke=0,Tn=null,Ns=!1,Ia=Bn(t,n),qf=!1,Na=bn=Bf=Lr=Ds=dt=0,hn=no=null,Hf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-mt(l),f=1<<h;n|=t[h],l&=~f}return Ji=n,bu(),s}function Oy(t,n){Re=null,q.H=Kl,n===Ta||n===Nu?(n=Kp(),Ke=3):n===$h?(n=Kp(),Ke=4):Ke=n===wf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Ne===null&&(dt=1,Gu(t,On(n,t.current)))}function Vy(){var t=vn.current;return t===null?!0:(Oe&4194048)===Oe?Un===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Un:!1}function My(){var t=q.H;return q.H=Kl,t===null?Kl:t}function ky(){var t=q.A;return q.A=Nb,t}function nc(){dt=4,Ns||(Oe&4194048)!==Oe&&vn.current!==null||(Ia=!0),(Ds&134217727)===0&&(Lr&134217727)===0||tt===null||Ms(tt,Oe,bn,!1)}function Kf(t,n,s){var l=He;He|=2;var h=My(),f=ky();(tt!==t||Oe!==n)&&(ec=null,Oa(t,n)),n=!1;var p=dt;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,I=Tn;switch(Ke){case 8:Yf(),p=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var P=Ke;if(Ke=0,Tn=null,Va(t,T,I,P),s&&Ia){p=0;break e}break;default:P=Ke,Ke=0,Tn=null,Va(t,T,I,P)}}Vb(),p=dt;break}catch(G){Oy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Bi=Cr=null,He=l,q.H=h,q.A=f,Ne===null&&(tt=null,Oe=0,bu()),p}function Vb(){for(;Ne!==null;)Uy(Ne)}function Mb(t,n){var s=He;He|=2;var l=My(),h=ky();tt!==t||Oe!==n?(ec=null,Wu=tn()+500,Oa(t,n)):Ia=Bn(t,n);e:do try{if(Ke!==0&&Ne!==null){n=Ne;var f=Tn;t:switch(Ke){case 1:Ke=0,Tn=null,Va(t,n,f,1);break;case 2:case 9:if(Qp(f)){Ke=0,Tn=null,Ly(n);break}n=function(){Ke!==2&&Ke!==9||tt!==t||(Ke=7),Ri(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Qp(f)?(Ke=0,Tn=null,Ly(n)):(Ke=0,Tn=null,Va(t,n,f,7));break;case 5:var p=null;switch(Ne.tag){case 26:p=Ne.memoizedState;case 5:case 27:var T=Ne;if(p?b_(p):T.stateNode.complete){Ke=0,Tn=null;var I=T.sibling;if(I!==null)Ne=I;else{var P=T.return;P!==null?(Ne=P,ic(P)):Ne=null}break t}}Ke=0,Tn=null,Va(t,n,f,5);break;case 6:Ke=0,Tn=null,Va(t,n,f,6);break;case 8:Yf(),dt=6;break e;default:throw Error(r(462))}}kb();break}catch(G){Oy(t,G)}while(!0);return Bi=Cr=null,q.H=l,q.A=h,He=s,Ne!==null?0:(tt=null,Oe=0,bu(),dt)}function kb(){for(;Ne!==null&&!Ah();)Uy(Ne)}function Uy(t){var n=ay(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?ic(t):Ne=n}function Ly(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=ey(s,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=ey(s,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:uf(n);default:oy(s,n),n=Ne=kp(n,Ji),n=ay(s,n,Ji)}t.memoizedProps=t.pendingProps,n===null?ic(t):Ne=n}function Va(t,n,s,l){Bi=Cr=null,uf(n),ba=null,zl=0;var h=n.return;try{if(Ab(t,h,n,s,Oe)){dt=1,Gu(t,On(s,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;dt=1,Gu(t,On(s,t.current)),Ne=null;return}n.flags&32768?(Le||l===1?t=!0:Ia||(Oe&536870912)!==0?t=!1:(Ns=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jy(n,t)):ic(n)}function ic(t){var n=t;do{if((n.flags&32768)!==0){jy(n,Ns);return}t=n.return;var s=Rb(n.alternate,n,Ji);if(s!==null){Ne=s;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);dt===0&&(dt=5)}function jy(t,n){do{var s=xb(t.alternate,t);if(s!==null){s.flags&=32767,Ne=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=s}while(t!==null);dt=6,Ne=null}function Py(t,n,s,l,h,f,p,T,I){t.cancelPendingCommit=null;do sc();while(Mt!==0);if((He&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=kh,Rh(t,s,f,p,T,I),t===tt&&(Ne=tt=null,Oe=0),Da=n,Vs=t,Wi=s,Gf=f,Ff=h,Cy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Pb(cs,function(){return Gy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=ee.p,ee.p=2,p=He,He|=4;try{Cb(t,n,s)}finally{He=p,ee.p=h,q.T=l}}Mt=1,zy(),qy(),By()}}function zy(){if(Mt===1){Mt=0;var t=Vs,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=ee.p;ee.p=2;var h=He;He|=4;try{Ey(n,t);var f=ad,p=Rp(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&wp(T.ownerDocument.documentElement,T)){if(I!==null&&Nh(T)){var P=I.start,G=I.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var H=z.getSelection(),oe=T.textContent.length,ye=Math.min(I.start,oe),We=I.end===void 0?ye:Math.min(I.end,oe);!H.extend&&ye>We&&(p=We,We=ye,ye=p);var U=Sp(T,ye),V=Sp(T,We);if(U&&V&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var j=$.createRange();j.setStart(U.node,U.offset),H.removeAllRanges(),ye>We?(H.addRange(j),H.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),H.addRange(j))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}gc=!!rd,ad=rd=null}finally{He=h,ee.p=l,q.T=s}}t.current=n,Mt=2}}function qy(){if(Mt===2){Mt=0;var t=Vs,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=ee.p;ee.p=2;var h=He;He|=4;try{py(t,n.alternate,n)}finally{He=h,ee.p=l,q.T=s}}Mt=3}}function By(){if(Mt===4||Mt===3){Mt=0,Ko();var t=Vs,n=Da,s=Wi,l=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Da=Vs=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Os=null),Ui(s),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=ee.p,ee.p=2,q.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{q.T=n,ee.p=h}}(Wi&3)!==0&&sc(),Ri(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Qf?io++:(io=0,Qf=t):io=0,so(0)}}function Hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,jl(n)))}function sc(){return zy(),qy(),By(),Gy()}function Gy(){if(Mt!==5)return!1;var t=Vs,n=Gf;Gf=0;var s=Ui(Wi),l=q.T,h=ee.p;try{ee.p=32>s?32:s,q.T=null,s=Ff,Ff=null;var f=Vs,p=Wi;if(Mt=0,Da=Vs=null,Wi=0,(He&6)!==0)throw Error(r(331));var T=He;if(He|=4,wy(f.current),by(f,f.current,p,s),He=T,so(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{ee.p=h,q.T=l,Hy(t,n)}}function Fy(t,n,s){n=On(s,n),n=Sf(t.stateNode,n,2),t=Rs(t,n,2),t!==null&&(hr(t,2),Ri(t))}function Xe(t,n,s){if(t.tag===3)Fy(t,t,s);else for(;n!==null;){if(n.tag===3){Fy(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){t=On(s,t),s=Qg(2),l=Rs(n,s,2),l!==null&&(Yg(s,l,n,t),hr(l,2),Ri(l));break}}n=n.return}}function Xf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Db;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(qf=!0,h.add(s),t=Ub.bind(null,t,n,s),n.then(t,t))}function Ub(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,tt===t&&(Oe&s)===s&&(dt===4||dt===3&&(Oe&62914560)===Oe&&300>tn()-Ju?(He&2)===0&&Oa(t,0):Bf|=s,Na===Oe&&(Na=0)),Ri(t)}function Qy(t,n){n===0&&(n=eu()),t=wr(t,n),t!==null&&(hr(t,n),Ri(t))}function Lb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Qy(t,s)}function jb(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Qy(t,s)}function Pb(t,n){return Vt(t,n)}var rc=null,Ma=null,$f=!1,ac=!1,Zf=!1,ks=0;function Ri(t){t!==Ma&&t.next===null&&(Ma===null?rc=Ma=t:Ma=Ma.next=t),ac=!0,$f||($f=!0,qb())}function so(t,n){if(!Zf&&ac){Zf=!0;do for(var s=!1,l=rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-mt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,$y(l,f))}else f=Oe,f=oi(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bn(l,f)||(s=!0,$y(l,f));l=l.next}while(s);Zf=!1}}function zb(){Yy()}function Yy(){ac=$f=!1;var t=0;ks!==0&&Zb()&&(t=ks);for(var n=tn(),s=null,l=rc;l!==null;){var h=l.next,f=Ky(l,n);f===0?(l.next=null,s===null?rc=h:s.next=h,h===null&&(Ma=s)):(s=l,(t!==0||(f&3)!==0)&&(ac=!0)),l=h}Mt!==0&&Mt!==5||so(t),ks!==0&&(ks=0)}function Ky(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-mt(f),T=1<<p,I=h[p];I===-1?((T&s)===0||(T&l)!==0)&&(h[p]=wh(T,n)):I<=n&&(t.expiredLanes|=T),f&=~T}if(n=tt,s=Oe,s=oi(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Bn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&us(l),Ui(s)){case 2:case 8:s=ml;break;case 32:s=cs;break;case 268435456:s=Xo;break;default:s=cs}return l=Xy.bind(null,t),s=Vt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&us(l),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(sc()&&t.callbackNode!==s)return null;var l=Oe;return l=oi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ny(t,l,n),Ky(t,tn()),t.callbackNode!=null&&t.callbackNode===s?Xy.bind(null,t):null)}function $y(t,n){if(sc())return null;Ny(t,n,!0)}function qb(){Wb(function(){(He&6)!==0?Vt(dl,zb):Yy()})}function Jf(){if(ks===0){var t=va;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),ks=t}return ks}function Zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function Jy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Bb(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Zy((h[Ut]||null).action),p=l.submitter;p&&(n=(n=p[Ut]||null)?Zy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new vi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var I=p?Jy(h,p):new FormData(h);_f(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=p?Jy(h,p):new FormData(h),_f(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Wf=0;Wf<Mh.length;Wf++){var ed=Mh[Wf],Hb=ed.toLowerCase(),Gb=ed[0].toUpperCase()+ed.slice(1);$n(Hb,"on"+Gb)}$n(Ip,"onAnimationEnd"),$n(Np,"onAnimationIteration"),$n(Dp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(ab,"onTransitionRun"),$n(lb,"onTransitionStart"),$n(ob,"onTransitionCancel"),$n(Op,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Wy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],I=T.instance,P=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Tu(G)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(T=l[p],I=T.instance,P=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(G){Tu(G)}h.currentTarget=null,f=I}}}}function De(t,n){var s=n[Wr];s===void 0&&(s=n[Wr]=new Set);var l=t+"__bubble";s.has(l)||(e_(n,t,2,!1),s.add(l))}function td(t,n,s){var l=0;n&&(l|=4),e_(s,t,l,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[lc]){t[lc]=!0,yl.forEach(function(s){s!=="selectionchange"&&(Fb.has(s)||td(s,!1,t),td(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lc]||(n[lc]=!0,td("selectionchange",!1,n))}}function e_(t,n,s,l){switch(I_(n)){case 2:var h=v1;break;case 8:h=E1;break;default:h=yd}s=h.bind(null,n,s,t),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function id(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=fi(T),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue e}T=T.parentNode}}l=l.return}gs(function(){var P=f,G=Cn(s),$=[];e:{var z=Vp.get(t);if(z!==void 0){var H=vi,oe=t;switch(t){case"keypress":if(vr(s)===0)break e;case"keydown":case"keyup":H=_u;break;case"focusin":oe="focus",H=Tr;break;case"focusout":oe="blur",H=Tr;break;case"beforeblur":case"afterblur":H=Tr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ip:case Np:case Dp:H=hu;break;case Op:H=b;break;case"scroll":case"scrollend":H=Il;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pi;break;case"toggle":case"beforetoggle":H=we}var ye=(n&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),U=ye?z!==null?z+"Capture":null:z;ye=[];for(var V=P,j;V!==null;){var X=V;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||U===null||(X=Qn(V,U),X!=null&&ye.push(ao(V,X,j))),We)break;V=V.return}0<ye.length&&(z=new H(z,oe,null,s,G),$.push({event:z,listeners:ye}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&s!==Rl&&(oe=s.relatedTarget||s.fromElement)&&(fi(oe)||oe[ci]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(oe=s.relatedTarget||s.toElement,H=P,oe=oe?fi(oe):null,oe!==null&&(We=c(oe),ye=oe.tag,oe!==We||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(H=null,oe=P),H!==oe)){if(ye=Nl,X="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Pi,X="onPointerLeave",U="onPointerEnter",V="pointer"),We=H==null?z:pn(H),j=oe==null?z:pn(oe),z=new ye(X,V+"leave",H,s,G),z.target=We,z.relatedTarget=j,X=null,fi(G)===P&&(ye=new ye(U,V+"enter",oe,s,G),ye.target=j,ye.relatedTarget=We,X=ye),We=X,H&&oe)t:{for(ye=Qb,U=H,V=oe,j=0,X=U;X;X=ye(X))j++;X=0;for(var fe=V;fe;fe=ye(fe))X++;for(;0<j-X;)U=ye(U),j--;for(;0<X-j;)V=ye(V),X--;for(;j--;){if(U===V||V!==null&&U===V.alternate){ye=U;break t}U=ye(U),V=ye(V)}ye=null}else ye=null;H!==null&&t_($,z,H,ye,!1),oe!==null&&We!==null&&t_($,We,oe,ye,!0)}}e:{if(z=P?pn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Pe=_p;else if(gp(z))if(vp)Pe=ib;else{Pe=tb;var ce=eb}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ia(P.elementType)&&(Pe=_p):Pe=nb;if(Pe&&(Pe=Pe(t,P))){yp($,Pe,s,G);break e}ce&&ce(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Al(z,"number",z.value)}switch(ce=P?pn(P):window,t){case"focusin":(gp(ce)||ce.contentEditable==="true")&&(ha=ce,Dh=P,kl=null);break;case"focusout":kl=Dh=ha=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,xp($,s,G);break;case"selectionchange":if(rb)break;case"keydown":case"keyup":xp($,s,G)}var xe;if(Be)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ca?br(t,s)&&(Ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ve="onCompositionStart");Ve&&(bi&&s.locale!=="ko"&&(ca||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ca&&(xe=Cl()):(_i=G,xl="value"in _i?_i.value:_i.textContent,ca=!0)),ce=oc(P,Ve),0<ce.length&&(Ve=new Ti(Ve,t,null,s,G),$.push({event:Ve,listeners:ce}),xe?Ve.data=xe:(xe=ua(s),xe!==null&&(Ve.data=xe)))),(xe=Nn?$T(t,s):ZT(t,s))&&(Ve=oc(P,"onBeforeInput"),0<Ve.length&&(ce=new Ti("onBeforeInput","beforeinput",null,s,G),$.push({event:ce,listeners:Ve}),ce.data=xe)),Bb($,t,P,s,G)}Wy($,n)})}function ao(t,n,s){return{instance:t,listener:n,currentTarget:s}}function oc(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(t,s),h!=null&&l.unshift(ao(t,h,f)),h=Qn(t,n),h!=null&&l.push(ao(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Qb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t_(t,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var T=s,I=T.alternate,P=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||P===null||(I=P,h?(P=Qn(s,f),P!=null&&p.unshift(ao(s,P,I))):h||(P=Qn(s,f),P!=null&&p.push(ao(s,P,I)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var Yb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function n_(t){return(typeof t=="string"?t:""+t).replace(Yb,`
`).replace(Kb,"")}function i_(t,n){return n=n_(n),n_(t)===n}function Je(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ln(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,s,l);break;case"style":wl(t,l,f);break;case"data":if(n!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=sa(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=sa(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ta(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ta(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ou.get(s)||s,ta(t,s,l))}}function sd(t,n,s,l,h,f){switch(s){case"style":wl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Ut]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ta(t,s,l)}}}function Ft(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,f,p,s,null)}}h&&Je(t,n,"srcSet",s.srcSet,s,null),l&&Je(t,n,"src",s.src,s,null);return;case"input":De("invalid",t);var T=f=p=h=null,I=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Je(t,n,l,G,s,null)}}ru(t,f,T,I,P,p,h,!1);return;case"select":De("invalid",t),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:Je(t,n,h,T,s,null)}n=f,s=p,t.multiple=!!l,n!=null?fs(t,!!l,n,!1):s!=null&&fs(t,!!l,s,!0);return;case"textarea":De("invalid",t),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Je(t,n,p,T,s,null)}ds(t,l,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,n,I,l,s,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<ro.length;l++)De(ro[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Je(t,n,P,l,s,null)}return;default:if(ia(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&sd(t,n,G,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Je(t,n,T,l,s,null))}function Xb(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,I=null,P=null,G=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(H)||Je(t,n,H,null,l,$)}}for(var z in l){var H=l[z];if($=s[z],l.hasOwnProperty(z)&&(H!=null||$!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==$&&Je(t,n,z,H,l,$)}}na(t,p,T,I,P,G,f,h);return;case"select":H=p=T=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||Je(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==I&&Je(t,n,h,f,l,I)}n=T,s=p,l=H,z!=null?fs(t,!!s,z,!1):!!l!=!!s&&(n!=null?fs(t,!!s,n,!0):fs(t,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Je(t,n,p,h,l,f)}au(t,z,H);return;case"option":for(var oe in s)if(z=s[oe],s.hasOwnProperty(oe)&&z!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:Je(t,n,oe,null,l,z)}for(I in l)if(z=l[I],H=s[I],l.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Je(t,n,I,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)z=s[ye],s.hasOwnProperty(ye)&&z!=null&&!l.hasOwnProperty(ye)&&Je(t,n,ye,null,l,z);for(P in l)if(z=l[P],H=s[P],l.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Je(t,n,P,z,l,H)}return;default:if(ia(n)){for(var We in s)z=s[We],s.hasOwnProperty(We)&&z!==void 0&&!l.hasOwnProperty(We)&&sd(t,n,We,void 0,l,z);for(G in l)z=l[G],H=s[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||sd(t,n,G,z,l,H);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&Je(t,n,U,null,l,z);for($ in l)z=l[$],H=s[$],!l.hasOwnProperty($)||z===H||z==null&&H==null||Je(t,n,$,z,l,H)}function s_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $b(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&s_(p)){for(p=0,T=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],P=I.startTime;if(P>T)break;var G=I.transferSize,$=I.initiatorType;G&&s_($)&&(I=I.responseEnd,p+=G*(I<T?1:(T-P)/(I-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rd=null,ad=null;function uc(t){return t.nodeType===9?t:t.ownerDocument}function r_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ld(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var od=null;function Zb(){var t=window.event;return t&&t.type==="popstate"?t===od?!1:(od=t,!0):(od=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,Jb=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,Wb=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(e1)}:l_;function e1(t){setTimeout(function(){throw t})}function Us(t){return t==="head"}function u_(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),ja(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")lo(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,lo(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&lo(t.ownerDocument.body);s=h}while(s);ja(n)}function c_(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function ud(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ud(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function t1(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function n1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ln(t.nextSibling),t===null))return null;return t}function h_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function cd(t){return t.data==="$?"||t.data==="$~"}function hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function i1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var fd=null;function f_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function d_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function m_(t,n,s){switch(n=uc(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function lo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ea(t)}var jn=new Map,p_=new Set;function cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=ee.d;ee.d={f:s1,r:r1,D:a1,C:l1,L:o1,m:u1,X:h1,S:c1,M:f1};function s1(){var t=es.f(),n=tc();return t||n}function r1(t){var n=xn(t);n!==null&&n.tag===5&&n.type==="form"?Og(n):es.r(t)}var ka=typeof document>"u"?null:document;function g_(t,n,s){var l=ka;if(l&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),p_.has(h)||(p_.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function a1(t){es.D(t),g_("dns-prefetch",t,null)}function l1(t,n){es.C(t,n),g_("preconnect",t,n)}function o1(t,n,s){es.L(t,n,s);var l=ka;if(l&&t&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var f=h;switch(n){case"style":f=Ua(t);break;case"script":f=La(t)}jn.has(f)||(t=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),jn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Ft(n,"link",t),bt(n),l.head.appendChild(n)))}}function u1(t,n){es.m(t,n);var s=ka;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(t)}if(!jn.has(f)&&(t=R({rel:"modulepreload",href:t},n),jn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(f)))return}l=s.createElement("link"),Ft(l,"link",t),bt(l),s.head.appendChild(l)}}}function c1(t,n,s){es.S(t,n,s);var l=ka;if(l&&t){var h=di(l).hoistableStyles,f=Ua(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(oo(f)))T.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":n},s),(s=jn.get(f))&&dd(t,s);var I=p=l.createElement("link");bt(I),Ft(I,"link",t),I._p=new Promise(function(P,G){I.onload=P,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function h1(t,n){es.X(t,n);var s=ka;if(s&&t){var l=di(s).hoistableScripts,h=La(t),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(t=R({src:t,async:!0},n),(n=jn.get(h))&&md(t,n),f=s.createElement("script"),bt(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function f1(t,n){es.M(t,n);var s=ka;if(s&&t){var l=di(s).hoistableScripts,h=La(t),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(t=R({src:t,async:!0,type:"module"},n),(n=jn.get(h))&&md(t,n),f=s.createElement("script"),bt(f),Ft(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function y_(t,n,s,l){var h=(h=he.current)?cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=di(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ua(s.href);var f=di(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(oo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),jn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(t,s),f||d1(h,t,s,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=di(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ua(t){return'href="'+an(t)+'"'}function oo(t){return'link[rel="stylesheet"]['+t+"]"}function __(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function d1(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ft(n,"link",s),bt(n),t.head.appendChild(n))}function La(t){return'[src="'+an(t)+'"]'}function uo(t){return"script[async]"+t}function v_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(s.href)+'"]');if(l)return n.instance=l,bt(l),l;var h=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Ft(l,"style",h),hc(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ua(s.href);var f=t.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,bt(f),f;l=__(s),(h=jn.get(h))&&dd(l,h),f=(t.ownerDocument||t).createElement("link"),bt(f);var p=f;return p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Ft(f,"link",l),n.state.loading|=4,hc(f,s.precedence,t),n.instance=f;case"script":return f=La(s.src),(h=t.querySelector(uo(f)))?(n.instance=h,bt(h),h):(l=s,(h=jn.get(f))&&(l=R({},s),md(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Ft(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,hc(l,s.precedence,t));return n.instance}function hc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fc=null;function E_(t,n,s){if(fc===null){var l=new Map,h=fc=new Map;h.set(s,l)}else h=fc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[hi]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function T_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function m1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function p1(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=dc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,bt(f);return}f=n.ownerDocument||n,l=__(l),(h=jn.get(h))&&dd(l,h),f=f.createElement("link"),bt(f);var p=f;p._p=new Promise(function(T,I){p.onload=T,p.onerror=I}),Ft(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=dc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var pd=0;function g1(t,n){return t.stylesheets&&t.count===0&&pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&pc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&pd===0&&(pd=62500*$b());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>pd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mc=null;function pc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mc=new Map,n.forEach(y1,t),mc=null,dc.call(t))}function y1(t,n){if(!(n.state.loading&4)){var s=mc.get(t);if(s)var l=s.get(null);else{s=new Map,mc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var co={$$typeof:_e,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function _1(t,n,s,l,h,f,p,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function A_(t,n,s,l,h,f,p,T,I,P,G,$){return t=new _1(t,n,s,p,I,P,G,$,T),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),t.current=f,f.stateNode=t,n=Yh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Zh(f),t}function S_(t){return t?(t=ma,t):ma}function w_(t,n,s,l,h,f){h=S_(h),l.context===null?l.context=h:l.pendingContext=h,l=ws(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Rs(t,l,n),s!==null&&(fn(s,t,n),Bl(s,t,n))}function R_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function gd(t,n){R_(t,n),(t=t.alternate)&&R_(t,n)}function x_(t){if(t.tag===13||t.tag===31){var n=wr(t,67108864);n!==null&&fn(n,t,67108864),gd(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var n=An();n=dr(n);var s=wr(t,n);s!==null&&fn(s,t,n),gd(t,n)}}var gc=!0;function v1(t,n,s,l){var h=q.T;q.T=null;var f=ee.p;try{ee.p=2,yd(t,n,s,l)}finally{ee.p=f,q.T=h}}function E1(t,n,s,l){var h=q.T;q.T=null;var f=ee.p;try{ee.p=8,yd(t,n,s,l)}finally{ee.p=f,q.T=h}}function yd(t,n,s,l){if(gc){var h=_d(l);if(h===null)id(t,n,l,yc,s),N_(t,l);else if(b1(h,t,n,s,l))l.stopPropagation();else if(N_(t,l),n&4&&-1<T1.indexOf(t)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=li(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var I=1<<31-mt(p);T.entanglements[1]|=I,p&=~I}Ri(f),(He&6)===0&&(Wu=tn()+500,so(0))}}break;case 31:case 13:T=wr(f,2),T!==null&&fn(T,f,2),tc(),gd(f,2)}if(f=_d(l),f===null&&id(t,n,l,yc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else id(t,n,l,null,s)}}function _d(t){return t=Cn(t),vd(t)}var yc=null;function vd(t){if(yc=null,t=fi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yc=t,null}function I_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case dl:return 2;case ml:return 8;case cs:case Sh:return 32;case Xo:return 268435456;default:return 32}default:return 32}}var Ed=!1,Ls=null,js=null,Ps=null,ho=new Map,fo=new Map,zs=[],T1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&x_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function b1(t,n,s,l,h){switch(n){case"focusin":return Ls=mo(Ls,t,n,s,l,h),!0;case"dragenter":return js=mo(js,t,n,s,l,h),!0;case"mouseover":return Ps=mo(Ps,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,t,n,s,l,h)),!0}return!1}function D_(t){var n=fi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Hn(t.priority,function(){C_(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,Hn(t.priority,function(){C_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=_d(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Rl=l,s.target.dispatchEvent(l),Rl=null}else return n=xn(s),n!==null&&x_(n),t.blockedOn=s,!1;n.shift()}return!0}function O_(t,n,s){_c(t)&&s.delete(n)}function A1(){Ed=!1,Ls!==null&&_c(Ls)&&(Ls=null),js!==null&&_c(js)&&(js=null),Ps!==null&&_c(Ps)&&(Ps=null),ho.forEach(O_),fo.forEach(O_)}function vc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ed||(Ed=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,A1)))}var Ec=null;function V_(t){Ec!==t&&(Ec=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(vd(l||s)===null)continue;break}var f=xn(s);f!==null&&(t.splice(n,3),n-=3,_f(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function ja(t){function n(I){return vc(I,t)}Ls!==null&&vc(Ls,t),js!==null&&vc(js,t),Ps!==null&&vc(Ps,t),ho.forEach(n),fo.forEach(n);for(var s=0;s<zs.length;s++){var l=zs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zs.length&&(s=zs[0],s.blockedOn===null);)D_(s),s.blockedOn===null&&zs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Ut]||null;if(typeof f=="function")p||V_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ut]||null)T=p.formAction;else if(vd(h)!==null)continue}else T=p.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),V_(s)}}}function M_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(t){this._internalRoot=t}Tc.prototype.render=Td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=An();w_(s,l,t,n,null,null)},Tc.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;w_(t.current,2,null,t,null,null),tc(),n[ci]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var n=tu();t={blockedOn:null,target:t,priority:n};for(var s=0;s<zs.length&&n!==0&&n<zs[s].priority;s++);zs.splice(s,0,t),s===0&&D_(t)}};var k_=e.version;if(k_!=="19.2.0")throw Error(r(527,k_,"19.2.0"));ee.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var S1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{qn=bc.inject(S1),zt=bc}catch{}}return go.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",h=Bg,f=Hg,p=Gg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=A_(t,1,!1,null,null,s,l,null,h,f,p,M_),t[ci]=n.current,nd(t),new Td(n)},go.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,h="",f=Bg,p=Hg,T=Gg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=A_(t,1,!0,n,s??null,l,h,I,f,p,T,M_),n.context=S_(null),s=n.current,l=An(),l=dr(l),h=ws(l),h.callback=null,Rs(s,h,l),s=l,n.current.lanes=s,hr(n,s),Ri(n),t[ci]=n.current,nd(t),new Tc(n)},go.version="19.2.0",go}var F_;function M1(){if(F_)return Sd.exports;F_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sd.exports=V1(),Sd.exports}var k1=M1();const U1=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L1=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Q_=a=>{const e=L1(a);return e.charAt(0).toUpperCase()+e.slice(1)},Nv=(...a)=>a.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),j1=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var P1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const z1=ct.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...g},_)=>ct.createElement("svg",{ref:_,...P1,width:e,height:e,stroke:a,strokeWidth:r?Number(i)*24/Number(e):i,className:Nv("lucide",o),...!c&&!j1(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>ct.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Ot=(a,e)=>{const i=ct.forwardRef(({className:r,...o},c)=>ct.createElement(z1,{ref:c,iconNode:e,className:Nv(`lucide-${U1(Q_(a))}`,`lucide-${a}`,r),...o}));return i.displayName=Q_(a),i};const q1=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Cd=Ot("box",q1);const B1=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Id=Ot("briefcase",B1);const H1=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],G1=Ot("calendar-plus",H1);const F1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Nd=Ot("calendar",F1);const Q1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Y_=Ot("camera",Q1);const Y1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],K1=Ot("check",Y1);const X1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$1=Ot("circle-check-big",X1);const Z1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],K_=Ot("clipboard-list",Z1);const J1=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],W1=Ot("clock-3",J1);const eA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tA=Ot("eye",eA);const nA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],iA=Ot("lock",nA);const sA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rA=Ot("log-out",sA);const aA=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],lA=Ot("monitor-play",aA);const oA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Dd=Ot("pen-tool",oA);const uA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cA=Ot("save",uA);const hA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fA=Ot("user",hA);const dA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mA=Ot("users",dA);const pA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],X_=Ot("utensils",pA);const gA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],$_=Ot("video",gA);const yA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z_=Ot("x",yA),_A=()=>{};var J_={};const Dv=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},vA=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,y=_?a[o+2]:0,A=c>>2,R=(c&3)<<4|g>>4;let k=(g&15)<<2|y>>6,Y=y&63;_||(Y=64,d||(k=64)),r.push(i[A],i[R],i[k],i[Y])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Dv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):vA(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const R=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||g==null||y==null||R==null)throw new EA;const k=c<<2|g>>4;if(r.push(k),y!==64){const Y=g<<4&240|y>>2;if(r.push(Y),R!==64){const te=y<<6&192|R;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class EA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TA=function(a){const e=Dv(a);return Ov.encodeByteArray(e,!0)},Pc=function(a){return TA(a).replace(/\./g,"")},Vv=function(a){try{return Ov.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const AA=()=>bA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof J_>"u")return;const a=J_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},wA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Vv(a[1]);return e&&JSON.parse(e)},sh=()=>{try{return _A()||AA()||SA()||wA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Mv=a=>sh()?.emulatorHosts?.[a],RA=a=>{const e=Mv(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},kv=()=>sh()?.config,Uv=a=>sh()?.[`_${a}`];class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function sl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(a){return(await fetch(a,{credentials:"include"})).ok}function CA(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const bo={};function IA(){const a={prod:[],emulator:[]};for(const e of Object.keys(bo))bo[e]?a.emulator.push(e):a.prod.push(e);return a}function NA(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let W_=!1;function jv(a,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||bo[a]===e||bo[a]||W_)return;bo[a]=e;function i(k){return`__firebase__banner__${k}`}const r="__firebase__banner",c=IA().prod.length>0;function d(){const k=document.getElementById(r);k&&k.remove()}function g(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function _(k,Y){k.setAttribute("width","24"),k.setAttribute("id",Y),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function y(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{W_=!0,d()},k}function A(k,Y){k.setAttribute("id",Y),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function R(){const k=NA(r),Y=i("text"),te=document.getElementById(Y)||document.createElement("span"),se=i("learnmore"),W=document.getElementById(se)||document.createElement("a"),ge=i("preprendIcon"),be=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const _e=k.element;g(_e),A(W,se);const Ge=y();_(be,ge),_e.append(be,te,W,Ge),document.body.appendChild(_e)}c?(te.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function OA(){const a=sh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function kA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UA(){const a=en();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function LA(){return!OA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jA(){try{return typeof indexedDB=="object"}catch{return!1}}function PA(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const zA="FirebaseError";class os extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=zA,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?qA(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new os(o,g,r)}}function qA(a,e){return a.replace(BA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const BA=/\{\$([^}]+)}/g;function HA(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Gr(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=a[o],d=e[o];if(e0(c)&&e0(d)){if(!Gr(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function e0(a){return a!==null&&typeof a=="object"}function jo(a){const e=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function GA(a,e){const i=new FA(a,e);return i.subscribe.bind(i)}class FA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");QA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QA(a,e){if(typeof a!="object"||a===null)return!1;for(const i of e)if(i in a&&typeof a[i]=="function")return!0;return!1}function Od(){}function Kt(a){return a&&a._delegate?a._delegate:a}class Fr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jr="[DEFAULT]";class YA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new xA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XA(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KA(a){return a===jr?void 0:a}function XA(a){return a.instantiationMode==="EAGER"}class $A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new YA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Me||(Me={}));const ZA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},JA=Me.INFO,WA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},eS=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=WA[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=JA,this._logHandler=eS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const tS=(a,e)=>e.some(i=>a instanceof i);let t0,n0;function nS(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iS(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,Qd=new WeakMap,zv=new WeakMap,Vd=new WeakMap,Tm=new WeakMap;function sS(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Ys(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Pv.set(i,a)}).catch(()=>{}),Tm.set(e,a),e}function rS(a){if(Qd.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Qd.set(a,e)}let Yd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Qd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||zv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function aS(a){Yd=a(Yd)}function lS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(Md(this),e,...i);return zv.set(r,e.sort?e.sort():[e]),Ys(r)}:iS().includes(a)?function(...e){return a.apply(Md(this),e),Ys(Pv.get(this))}:function(...e){return Ys(a.apply(Md(this),e))}}function oS(a){return typeof a=="function"?lS(a):(a instanceof IDBTransaction&&rS(a),tS(a,nS())?new Proxy(a,Yd):a)}function Ys(a){if(a instanceof IDBRequest)return sS(a);if(Vd.has(a))return Vd.get(a);const e=oS(a);return e!==a&&(Vd.set(a,e),Tm.set(e,a)),e}const Md=a=>Tm.get(a);function uS(a,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),g=Ys(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ys(d.result),_.oldVersion,_.newVersion,Ys(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const cS=["get","getKey","getAll","getAllKeys","count"],hS=["put","add","delete","clear"],kd=new Map;function i0(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=hS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||cS.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return kd.set(e,c),c}aS(a=>({...a,get:(e,i,r)=>i0(e,i)||a.get(e,i,r),has:(e,i)=>!!i0(e,i)||a.has(e,i)}));class fS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function dS(a){return a.getComponent()?.type==="VERSION"}const Kd="@firebase/app",s0="0.14.6";const ss=new Em("@firebase/app"),mS="@firebase/app-compat",pS="@firebase/analytics-compat",gS="@firebase/analytics",yS="@firebase/app-check-compat",_S="@firebase/app-check",vS="@firebase/auth",ES="@firebase/auth-compat",TS="@firebase/database",bS="@firebase/data-connect",AS="@firebase/database-compat",SS="@firebase/functions",wS="@firebase/functions-compat",RS="@firebase/installations",xS="@firebase/installations-compat",CS="@firebase/messaging",IS="@firebase/messaging-compat",NS="@firebase/performance",DS="@firebase/performance-compat",OS="@firebase/remote-config",VS="@firebase/remote-config-compat",MS="@firebase/storage",kS="@firebase/storage-compat",US="@firebase/firestore",LS="@firebase/ai",jS="@firebase/firestore-compat",PS="firebase",zS="12.6.0";const Xd="[DEFAULT]",qS={[Kd]:"fire-core",[mS]:"fire-core-compat",[gS]:"fire-analytics",[pS]:"fire-analytics-compat",[_S]:"fire-app-check",[yS]:"fire-app-check-compat",[vS]:"fire-auth",[ES]:"fire-auth-compat",[TS]:"fire-rtdb",[bS]:"fire-data-connect",[AS]:"fire-rtdb-compat",[SS]:"fire-fn",[wS]:"fire-fn-compat",[RS]:"fire-iid",[xS]:"fire-iid-compat",[CS]:"fire-fcm",[IS]:"fire-fcm-compat",[NS]:"fire-perf",[DS]:"fire-perf-compat",[OS]:"fire-rc",[VS]:"fire-rc-compat",[MS]:"fire-gcs",[kS]:"fire-gcs-compat",[US]:"fire-fst",[jS]:"fire-fst-compat",[LS]:"fire-vertex","fire-js":"fire-js",[PS]:"fire-js-all"};const zc=new Map,BS=new Map,$d=new Map;function r0(a,e){try{a.container.addComponent(e)}catch(i){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Xa(a){const e=a.name;if($d.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;$d.set(e,a);for(const i of zc.values())r0(i,a);for(const i of BS.values())r0(i,a);return!0}function bm(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Wn(a){return a==null?!1:a.settings!==void 0}const HS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Lo("app","Firebase",HS);class GS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const rl=zS;function qv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Xd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ks.create("bad-app-name",{appName:String(o)});if(i||(i=kv()),!i)throw Ks.create("no-options");const c=zc.get(o);if(c){if(Gr(i,c.options)&&Gr(r,c.config))return c;throw Ks.create("duplicate-app",{appName:o})}const d=new $A(o);for(const _ of $d.values())d.addComponent(_);const g=new GS(i,r,d);return zc.set(o,g),g}function Bv(a=Xd){const e=zc.get(a);if(!e&&a===Xd&&kv())return qv();if(!e)throw Ks.create("no-app",{appName:a});return e}function Xs(a,e,i){let r=qS[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}Xa(new Fr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const FS="firebase-heartbeat-database",QS=1,Co="firebase-heartbeat-store";let Ud=null;function Hv(){return Ud||(Ud=uS(FS,QS,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Co)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ks.create("idb-open",{originalErrorMessage:a.message})})),Ud}async function YS(a){try{const i=(await Hv()).transaction(Co),r=await i.objectStore(Co).get(Gv(a));return await i.done,r}catch(e){if(e instanceof os)ss.warn(e.message);else{const i=Ks.create("idb-get",{originalErrorMessage:e?.message});ss.warn(i.message)}}}async function a0(a,e){try{const r=(await Hv()).transaction(Co,"readwrite");await r.objectStore(Co).put(e,Gv(a)),await r.done}catch(i){if(i instanceof os)ss.warn(i.message);else{const r=Ks.create("idb-set",{originalErrorMessage:i?.message});ss.warn(r.message)}}}function Gv(a){return`${a.name}!${a.options.appId}`}const KS=1024,XS=30;class $S{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new JS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>XS){const o=WS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l0(),{heartbeatsToSend:i,unsentEntries:r}=ZS(this._heartbeatsCache.heartbeats),o=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ss.warn(e),""}}}function l0(){return new Date().toISOString().substring(0,10)}function ZS(a,e=KS){const i=[];let r=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),o0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),o0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class JS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jA()?PA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function o0(a){return Pc(JSON.stringify({version:2,heartbeats:a})).length}function WS(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}function ew(a){Xa(new Fr("platform-logger",e=>new fS(e),"PRIVATE")),Xa(new Fr("heartbeat",e=>new $S(e),"PRIVATE")),Xs(Kd,s0,a),Xs(Kd,s0,"esm2020"),Xs("fire-js","")}ew("");var tw="firebase",nw="12.6.0";Xs(tw,nw,"app");var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,Fv;(function(){var a;function e(x,w){function S(){}S.prototype=w.prototype,x.F=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.D=function(D,N,M){for(var C=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)C[qe-2]=arguments[qe];return w.prototype[N].apply(D,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,S){S||(S=0);const D=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)D[N]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(N=0;N<16;++N)D[N]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],N=x.g[2];let M=x.g[3],C;C=w+(M^S&(N^M))+D[0]+3614090360&4294967295,w=S+(C<<7&4294967295|C>>>25),C=M+(N^w&(S^N))+D[1]+3905402710&4294967295,M=w+(C<<12&4294967295|C>>>20),C=N+(S^M&(w^S))+D[2]+606105819&4294967295,N=M+(C<<17&4294967295|C>>>15),C=S+(w^N&(M^w))+D[3]+3250441966&4294967295,S=N+(C<<22&4294967295|C>>>10),C=w+(M^S&(N^M))+D[4]+4118548399&4294967295,w=S+(C<<7&4294967295|C>>>25),C=M+(N^w&(S^N))+D[5]+1200080426&4294967295,M=w+(C<<12&4294967295|C>>>20),C=N+(S^M&(w^S))+D[6]+2821735955&4294967295,N=M+(C<<17&4294967295|C>>>15),C=S+(w^N&(M^w))+D[7]+4249261313&4294967295,S=N+(C<<22&4294967295|C>>>10),C=w+(M^S&(N^M))+D[8]+1770035416&4294967295,w=S+(C<<7&4294967295|C>>>25),C=M+(N^w&(S^N))+D[9]+2336552879&4294967295,M=w+(C<<12&4294967295|C>>>20),C=N+(S^M&(w^S))+D[10]+4294925233&4294967295,N=M+(C<<17&4294967295|C>>>15),C=S+(w^N&(M^w))+D[11]+2304563134&4294967295,S=N+(C<<22&4294967295|C>>>10),C=w+(M^S&(N^M))+D[12]+1804603682&4294967295,w=S+(C<<7&4294967295|C>>>25),C=M+(N^w&(S^N))+D[13]+4254626195&4294967295,M=w+(C<<12&4294967295|C>>>20),C=N+(S^M&(w^S))+D[14]+2792965006&4294967295,N=M+(C<<17&4294967295|C>>>15),C=S+(w^N&(M^w))+D[15]+1236535329&4294967295,S=N+(C<<22&4294967295|C>>>10),C=w+(N^M&(S^N))+D[1]+4129170786&4294967295,w=S+(C<<5&4294967295|C>>>27),C=M+(S^N&(w^S))+D[6]+3225465664&4294967295,M=w+(C<<9&4294967295|C>>>23),C=N+(w^S&(M^w))+D[11]+643717713&4294967295,N=M+(C<<14&4294967295|C>>>18),C=S+(M^w&(N^M))+D[0]+3921069994&4294967295,S=N+(C<<20&4294967295|C>>>12),C=w+(N^M&(S^N))+D[5]+3593408605&4294967295,w=S+(C<<5&4294967295|C>>>27),C=M+(S^N&(w^S))+D[10]+38016083&4294967295,M=w+(C<<9&4294967295|C>>>23),C=N+(w^S&(M^w))+D[15]+3634488961&4294967295,N=M+(C<<14&4294967295|C>>>18),C=S+(M^w&(N^M))+D[4]+3889429448&4294967295,S=N+(C<<20&4294967295|C>>>12),C=w+(N^M&(S^N))+D[9]+568446438&4294967295,w=S+(C<<5&4294967295|C>>>27),C=M+(S^N&(w^S))+D[14]+3275163606&4294967295,M=w+(C<<9&4294967295|C>>>23),C=N+(w^S&(M^w))+D[3]+4107603335&4294967295,N=M+(C<<14&4294967295|C>>>18),C=S+(M^w&(N^M))+D[8]+1163531501&4294967295,S=N+(C<<20&4294967295|C>>>12),C=w+(N^M&(S^N))+D[13]+2850285829&4294967295,w=S+(C<<5&4294967295|C>>>27),C=M+(S^N&(w^S))+D[2]+4243563512&4294967295,M=w+(C<<9&4294967295|C>>>23),C=N+(w^S&(M^w))+D[7]+1735328473&4294967295,N=M+(C<<14&4294967295|C>>>18),C=S+(M^w&(N^M))+D[12]+2368359562&4294967295,S=N+(C<<20&4294967295|C>>>12),C=w+(S^N^M)+D[5]+4294588738&4294967295,w=S+(C<<4&4294967295|C>>>28),C=M+(w^S^N)+D[8]+2272392833&4294967295,M=w+(C<<11&4294967295|C>>>21),C=N+(M^w^S)+D[11]+1839030562&4294967295,N=M+(C<<16&4294967295|C>>>16),C=S+(N^M^w)+D[14]+4259657740&4294967295,S=N+(C<<23&4294967295|C>>>9),C=w+(S^N^M)+D[1]+2763975236&4294967295,w=S+(C<<4&4294967295|C>>>28),C=M+(w^S^N)+D[4]+1272893353&4294967295,M=w+(C<<11&4294967295|C>>>21),C=N+(M^w^S)+D[7]+4139469664&4294967295,N=M+(C<<16&4294967295|C>>>16),C=S+(N^M^w)+D[10]+3200236656&4294967295,S=N+(C<<23&4294967295|C>>>9),C=w+(S^N^M)+D[13]+681279174&4294967295,w=S+(C<<4&4294967295|C>>>28),C=M+(w^S^N)+D[0]+3936430074&4294967295,M=w+(C<<11&4294967295|C>>>21),C=N+(M^w^S)+D[3]+3572445317&4294967295,N=M+(C<<16&4294967295|C>>>16),C=S+(N^M^w)+D[6]+76029189&4294967295,S=N+(C<<23&4294967295|C>>>9),C=w+(S^N^M)+D[9]+3654602809&4294967295,w=S+(C<<4&4294967295|C>>>28),C=M+(w^S^N)+D[12]+3873151461&4294967295,M=w+(C<<11&4294967295|C>>>21),C=N+(M^w^S)+D[15]+530742520&4294967295,N=M+(C<<16&4294967295|C>>>16),C=S+(N^M^w)+D[2]+3299628645&4294967295,S=N+(C<<23&4294967295|C>>>9),C=w+(N^(S|~M))+D[0]+4096336452&4294967295,w=S+(C<<6&4294967295|C>>>26),C=M+(S^(w|~N))+D[7]+1126891415&4294967295,M=w+(C<<10&4294967295|C>>>22),C=N+(w^(M|~S))+D[14]+2878612391&4294967295,N=M+(C<<15&4294967295|C>>>17),C=S+(M^(N|~w))+D[5]+4237533241&4294967295,S=N+(C<<21&4294967295|C>>>11),C=w+(N^(S|~M))+D[12]+1700485571&4294967295,w=S+(C<<6&4294967295|C>>>26),C=M+(S^(w|~N))+D[3]+2399980690&4294967295,M=w+(C<<10&4294967295|C>>>22),C=N+(w^(M|~S))+D[10]+4293915773&4294967295,N=M+(C<<15&4294967295|C>>>17),C=S+(M^(N|~w))+D[1]+2240044497&4294967295,S=N+(C<<21&4294967295|C>>>11),C=w+(N^(S|~M))+D[8]+1873313359&4294967295,w=S+(C<<6&4294967295|C>>>26),C=M+(S^(w|~N))+D[15]+4264355552&4294967295,M=w+(C<<10&4294967295|C>>>22),C=N+(w^(M|~S))+D[6]+2734768916&4294967295,N=M+(C<<15&4294967295|C>>>17),C=S+(M^(N|~w))+D[13]+1309151649&4294967295,S=N+(C<<21&4294967295|C>>>11),C=w+(N^(S|~M))+D[4]+4149444226&4294967295,w=S+(C<<6&4294967295|C>>>26),C=M+(S^(w|~N))+D[11]+3174756917&4294967295,M=w+(C<<10&4294967295|C>>>22),C=N+(w^(M|~S))+D[2]+718787259&4294967295,N=M+(C<<15&4294967295|C>>>17),C=S+(M^(N|~w))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+M&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const S=w-this.blockSize,D=this.C;let N=this.h,M=0;for(;M<w;){if(N==0)for(;M<=S;)o(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<w;)if(D[N++]=x.charCodeAt(M++),N==this.blockSize){o(this,D),N=0;break}}else for(;M<w;)if(D[N++]=x[M++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var S=x.length-8;S<x.length;++S)x[S]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,S=0;S<4;++S)for(let D=0;D<32;D+=8)x[w++]=this.g[S]>>>D&255;return x};function c(x,w){var S=g;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function d(x,w){this.h=w;const S=[];let D=!0;for(let N=x.length-1;N>=0;N--){const M=x[N]|0;D&&M==w||(S[N]=M,D=!1)}this.g=S}var g={};function _(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return R;if(x<0)return W(y(-x));const w=[];let S=1;for(let D=0;x>=S;D++)w[D]=x/S|0,S*=4294967296;return new d(w,0)}function A(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return W(A(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=y(Math.pow(w,8));let D=R;for(let M=0;M<x.length;M+=8){var N=Math.min(8,x.length-M);const C=parseInt(x.substring(M,M+N),w);N<8?(N=y(Math.pow(w,N)),D=D.j(N).add(y(C))):(D=D.j(S),D=D.add(y(C)))}return D}var R=_(0),k=_(1),Y=_(16777216);a=d.prototype,a.m=function(){if(se(this))return-W(this).m();let x=0,w=1;for(let S=0;S<this.g.length;S++){const D=this.i(S);x+=(D>=0?D:4294967296+D)*w,w*=4294967296}return x},a.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(te(this))return"0";if(se(this))return"-"+W(this).toString(x);const w=y(Math.pow(x,6));var S=this;let D="";for(;;){const N=Ge(S,w).g;S=ge(S,N.j(w));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(x);if(S=N,te(S))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},a.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function te(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function se(x){return x.h==-1}a.l=function(x){return x=ge(this,x),se(x)?-1:te(x)?0:1};function W(x){const w=x.g.length,S=[];for(let D=0;D<w;D++)S[D]=~x.g[D];return new d(S,~x.h).add(k)}a.abs=function(){return se(this)?W(this):this},a.add=function(x){const w=Math.max(this.g.length,x.g.length),S=[];let D=0;for(let N=0;N<=w;N++){let M=D+(this.i(N)&65535)+(x.i(N)&65535),C=(M>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);D=C>>>16,M&=65535,C&=65535,S[N]=C<<16|M}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ge(x,w){return x.add(W(w))}a.j=function(x){if(te(this)||te(x))return R;if(se(this))return se(x)?W(this).j(W(x)):W(W(this).j(x));if(se(x))return W(this.j(W(x)));if(this.l(Y)<0&&x.l(Y)<0)return y(this.m()*x.m());const w=this.g.length+x.g.length,S=[];for(var D=0;D<2*w;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<x.g.length;N++){const M=this.i(D)>>>16,C=this.i(D)&65535,qe=x.i(N)>>>16,st=x.i(N)&65535;S[2*D+2*N]+=C*st,be(S,2*D+2*N),S[2*D+2*N+1]+=M*st,be(S,2*D+2*N+1),S[2*D+2*N+1]+=C*qe,be(S,2*D+2*N+1),S[2*D+2*N+2]+=M*qe,be(S,2*D+2*N+2)}for(x=0;x<w;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=w;x<2*w;x++)S[x]=0;return new d(S,0)};function be(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function _e(x,w){this.g=x,this.h=w}function Ge(x,w){if(te(w))throw Error("division by zero");if(te(x))return new _e(R,R);if(se(x))return w=Ge(W(x),w),new _e(W(w.g),W(w.h));if(se(w))return w=Ge(x,W(w)),new _e(W(w.g),w.h);if(x.g.length>30){if(se(x)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var S=k,D=w;D.l(x)<=0;)S=et(S),D=et(D);var N=ue(S,1),M=ue(D,1);for(D=ue(D,2),S=ue(S,2);!te(D);){var C=M.add(D);C.l(x)<=0&&(N=N.add(S),M=C),D=ue(D,1),S=ue(S,1)}return w=ge(x,N.j(w)),new _e(N,w)}for(N=R;x.l(w)>=0;){for(S=Math.max(1,Math.floor(x.m()/w.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=y(S),C=M.j(w);se(C)||C.l(x)>0;)S-=D,M=y(S),C=M.j(w);te(M)&&(M=k),N=N.add(M),x=ge(x,C)}return new _e(N,x)}a.B=function(x){return Ge(this,x).h},a.and=function(x){const w=Math.max(this.g.length,x.g.length),S=[];for(let D=0;D<w;D++)S[D]=this.i(D)&x.i(D);return new d(S,this.h&x.h)},a.or=function(x){const w=Math.max(this.g.length,x.g.length),S=[];for(let D=0;D<w;D++)S[D]=this.i(D)|x.i(D);return new d(S,this.h|x.h)},a.xor=function(x){const w=Math.max(this.g.length,x.g.length),S=[];for(let D=0;D<w;D++)S[D]=this.i(D)^x.i(D);return new d(S,this.h^x.h)};function et(x){const w=x.g.length+1,S=[];for(let D=0;D<w;D++)S[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(S,x.h)}function ue(x,w){const S=w>>5;w%=32;const D=x.g.length-S,N=[];for(let M=0;M<D;M++)N[M]=w>0?x.i(M+S)>>>w|x.i(M+S+1)<<32-w:x.i(M+S);return new d(N,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,$s=d}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qv,_o,Yv,Ic,Zd,Kv,Xv,$v;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var v=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function R(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var ne=Array(arguments.length-2),we=2;we<arguments.length;we++)ne[we-2]=arguments[we];return m.prototype[L].apply(b,ne)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function te(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let ne=0;ne<B;ne++)u[v+ne]=L[ne]}else u.push(L)}}class se{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ge(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class be{constructor(){this.h=this.g=null}add(m,v){const b=_e.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var _e=new se(()=>new Ge,u=>u.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ue=!1,x=new be,w=()=>{const u=Promise.resolve(void 0);et=()=>{u.then(S)}};function S(){for(var u;u=ge();){try{u.h.call(u.g)}catch(v){W(v)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ue=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function qe(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(qe,N),qe.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),q=0;function ee(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++q,this.da=this.fa=!1}function ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Ce(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function F(u){this.src=u,this.g={},this.h=0}F.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=he(u,m,b,L);return ne>-1?(m=u[ne],v||(m.fa=!1)):(m=new ee(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function ae(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(ie(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function he(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ie={};function Qe(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Qe(u,m[B],v,b,L);return null}return v=fl(v),u&&u[st]?u.J(m,v,g(b)?!!b.capture:!1,L):zn(u,m,v,!1,b,L)}function zn(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const ne=g(L)?!!L.capture:!!L;let we=ki(u);if(we||(u[me]=we=new F(u)),v=we.add(m,v,b,ne,B),v.proxy)return v;if(b=si(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)M||(L=ne),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(wn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function si(){function u(v){return m.call(u.src,u.listener,v)}const m=lr;return u}function rn(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)rn(u,m[B],v,b,L);else b=g(b)?!!b.capture:!!b,v=fl(v),u&&u[st]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=he(m,v,b,L),v>-1&&(ie(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ki(u))&&(m=u.g[m.toString()],u=-1,m&&(u=he(m,v,b,L)),(v=u>-1?m[u]:null)&&ri(v))}function ri(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[st])ae(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(wn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ki(m))?(ae(v,u),v.h==0&&(v.src=null,m[me]=null)):ie(u)}}}function wn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function lr(u,m){if(u.da)u=!0;else{m=new qe(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ri(u),u=v.call(b,m)}return u}function ki(u){return u=u[me],u instanceof F?u:null}var or="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[or]||(u[or]=function(m){return u.handleEvent(m)}),u[or])}function vt(){D.call(this),this.i=new F(this),this.M=this,this.G=null}R(vt,D),vt.prototype[st]=!0,vt.prototype.removeEventListener=function(u,m,v,b){rn(this,u,m,v,b)};function Vt(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),Q(m,L)}L=!0;let B,ne;if(v)for(ne=v.length-1;ne>=0;ne--)B=m.g=v[ne],L=us(B,b,!0,m)&&L;if(B=m.g=u,L=us(B,b,!0,m)&&L,L=us(B,b,!1,m)&&L,v)for(ne=0;ne<v.length;ne++)B=m.g=v[ne],L=us(B,b,!1,m)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ie(v[b]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},vt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function us(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==v){const we=ne.listener,pt=ne.ha||ne.src;ne.fa&&ae(u.i,ne),L=we.call(pt,b)!==!1&&L}}return L&&!b.defaultPrevented}function Ah(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ko(u){u.g=Ah(()=>{u.g=null,u.i&&(u.i=!1,Ko(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends D{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ko(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){D.call(this),this.h=u,this.g={}}R(ur,D);var dl=[];function ml(u){pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&ri(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),ml(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,Sh=d.JSON.parse,Xo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $o(){}function Zo(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){N.call(this,"d")}R(zt,N);function Rn(){N.call(this,"c")}R(Rn,N);var mt={},Jo=null;function Jr(){return Jo=Jo||new vt}mt.Ia="serverreachability";function Wo(u){N.call(this,mt.Ia,u)}R(Wo,N);function ai(u){const m=Jr();Vt(m,new Wo(m))}mt.STAT_EVENT="statevent";function cr(u,m){N.call(this,mt.STAT_EVENT,u),this.stat=m}R(cr,N);function Et(u){const m=Jr();Vt(m,new cr(m,u))}mt.Ja="timingevent";function li(u,m){N.call(this,mt.Ja,u),this.size=m}R(li,N);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function wh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var ne="",we=B.split("&");for(let Be=0;Be<we.length;Be++){var pt=we[Be].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const Nn=ot.split("_");ne=Nn.length>=2&&Nn[1]=="type"?ne+(ot+"="+pt+"&"):ne+(ot+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+ne})}function eu(u,m,v,b,L,B,ne){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+ne})}function ui(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Rh(u,v)+(b?" "+b:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Rh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return cs(B)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function dr(){}R(dr,$o),dr.prototype.g=function(){return new XMLHttpRequest},gl=new dr;function Ui(u){return encodeURIComponent(String(u))}function tu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Tt={},Ut={};function ci(u,m,v){u.M=1,u.A=mr(At(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),hi(u),u.B=At(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ia(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Gn,u.g=gu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let B=0;B<L.length;B++){const ne=Qe(v,L[B],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),wh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const we=Yn(this.g),pt=this.g.ya(),Be=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||we!=4||pt==7||(pt==8||Be<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=xh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var B=b;break t}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Et(12),pn(this),xn(this);break e}}if(this.R){u=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=iu(this,v),ot==Ut){we==4&&(this.m=4,Et(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,ot,null),di(this,ot);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Dl(ne),ne.P=!0,Et(11))}}else ui(this.i,this.l,v,null),di(this,v);we==4&&pn(this),this.o&&!this.K&&(we==4?fu(this.j,this):(this.o=!1,hi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),xn(this)}}}catch{}finally{}};function xh(u){if(!nu(u))return u.g.la();const m=qt(u.g);if(m==="")return"";let v="";const b=m.length,L=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Ut:(v=Number(m.substring(v,b)),isNaN(v)?Tt:(b+=1,b+v>m.length?Ut:(m=m.slice(b,b+v),u.C=b+v,m)))}Hn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ai(),Et(17)),pn(this),this.m=2,xn(this)):ea(this,this.T-u)};function xn(u){u.j.I==0||u.K||fu(u.j,u)}function pn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),_s(v);else break e;Tr(v),Et(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&oa(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Be=L[m];const ot=Be[0];if(!(ot<=v.K))if(v.K=ot,Be=Be[1],v.I==2)if(Be[0]=="c"){v.M=Be[1],v.ba=Be[2];const Nn=Be[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const bi=Be[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Kn=Be[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Xn=u.g;if(Xn){const br=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var B=b.h;B.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vl(B,B.h),B.h=null))}if(b.G){const ua=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(b.wa=ua,Ye(b.J,b.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ne=u;if(b.na=pu(b,b.L?b.ba:null,b.W),ne.L){El(b.h,ne);var we=ne,pt=b.O;pt&&(we.H=pt),we.D&&(fi(we),hi(we)),b.g=ne}else cu(b);v.i.length>0&&Ei(v)}else Be[0]!="stop"&&Be[0]!="close"||Ti(v,7);else v.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ti(v,7):Il(v):Be[0]!="noop"&&v.l&&v.l.qa(Be),v.A=0)}}ai(4)}catch{}}var bt=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Y(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,bl(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),hs(this,m[4]),this.h=gi(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(pr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pr(m,na,!0),"@"),u.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pr(v,v.charAt(0)=="/"?Al:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pr(v,au)),u.join("")},gn.prototype.resolve=function(u){const m=At(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)hs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const we=L[ne++];we=="."?b&&ne==L.length&&B.push(""):we==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ne==L.length&&B.push("")):(B.push(we),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?bl(m,ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function At(u){return new gn(u)}function Lt(u,m,v){u.j=v?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,v){m instanceof ds?(u.i=m,sa(u.i,u.l)):(v||(m=pr(m,fs)),u.i=new ds(m,u.l))}function Ye(u,m,v){u.i.set(m,v)}function mr(u){return Ye(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,ru=/[#\?:]/g,Al=/[#\?]/g,fs=/[#\?@]/g,au=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=ds.prototype,a.add=function(u,m){ln(this),this.i=null,u=ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){ln(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sl(u,m){return ln(u),m=ms(u,m),u.g.has(m)}a.forEach=function(u,m){ln(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function wl(u,m){ln(u);let v=[];if(typeof m=="string")Sl(u,m)&&(v=v.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return ln(this),this.i=null,u=ms(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(ms(u,m),Y(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ui(v);v=wl(this,v);for(let B=0;B<v.length;B++){let ne=L;v[B]!==""&&(ne+="="+Ui(v[B])),u.push(ne)}}return this.i=u.join("&")};function ou(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(lu(this,b),ia(this,L,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const b=new Image;b.onload=A(Cn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Cn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Cn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Cn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Rl(u,m){const v=new Bn,b=new AbortController,L=setTimeout(()=>{b.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function ps(){this.g=new Xo}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}R(yi,$o),yi.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(gr,vt),a=gr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):Qn(this),this.readyState==3&&ra(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},a.Na=function(u){this.g&&(this.response=u,gs(this))},a.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return pe(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=In(v),typeof u=="string"?v!=null&&Ui(v):Ye(u,m,v))}function $e(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R($e,vt);var _i=/^https?$/i,xl=["POST","PUT"];a=$e.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=k(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_r(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xl,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of v)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_r(this,B)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Cl(u),Li(u)}function Cl(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),Li(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$e.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},a.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let ne=String(u.D).match(su)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!_i.test(ne?ne.toLowerCase():"")}v=b}if(v)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var L=Yn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Cl(u)}}finally{Li(u)}}}}function Li(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Vt(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sh(m)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var v=tu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Ce(m,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ys.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,b){Et(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=pu(this,null,this.W),Ei(this)};function Il(u){if(aa(u),u.I==3){var m=u.V++,v=At(u.J);if(Ye(v,"SID",u.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Er(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=mr(At(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}mu(u)}function _s(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function aa(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;et||w(),ue||(et(),ue=!0),x.add(m,u),u.D=0}}function la(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(y(u.Ea,u,m),du(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),Q(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=uu(this,L,m),v=At(this.J),Ye(v,"RID",u),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Er(this,v),B&&(this.R?m="headers="+Ui(In(B))+"&"+m:this.u&&yr(v,this.u,B)),vl(this.h,L),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var v;m?v=m.l:v=u.V++;const b=At(u.J);Ye(b,"SID",u.M),Ye(b,"RID",v),Ye(b,"AID",u.K),Er(u,b),u.u&&u.o&&yr(b,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,v),ci(v,b,m)}function Er(u,m){u.H&&pe(u.H,function(v,b){Ye(m,b,v)}),u.l&&pe({},function(v,b){Ye(m,b,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=L[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let Be=!0;for(let ot=0;ot<v;ot++){var B=L[ot].g;const Nn=L[ot].map;if(B-=we,B<0)we=Math.max(0,L[ot].g-100),Be=!1;else try{B="req"+B+"_"||"";try{var ne=Nn instanceof Map?Nn:Object.entries(Nn);for(const[bi,Kn]of ne){let Xn=Kn;g(Kn)&&(Xn=cs(Kn)),pt.push(B+bi+"="+encodeURIComponent(Xn))}}catch(bi){throw pt.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(Nn)}}if(Be){ne=pt.join("&");break e}}ne=void 0}return u=u.i.splice(0,v),m.G=u,ne}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;et||w(),ue||(et(),ue=!0),x.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(y(u.Da,u),du(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),_s(this),hu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=At(u.na);Ye(m,"RID","rpc"),Ye(m,"SID",u.M),Ye(m,"AID",u.K),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ye(m,"TO",u.ia),Ye(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(At(m)),v.u=null,v.R=!0,Wr(v,u)}a.Va=function(){this.C!=null&&(this.C=null,_s(this),Tr(this),Et(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){oa(u),Dl(u),u.g=null;var b=2}else if(pi(u.h,m))v=m.G,El(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Jr(),Vt(b,new li(b,v)),Ei(u)}else cu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&la(u,m)||b==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new gn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(b,"https"),mr(b),L?Fn(b.toString(),v):Rl(b.toString(),v)}else Et(2);u.I=0,u.l&&u.l.pa(m),mu(u),aa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var b=v instanceof gn?At(v):new gn(v);if(b.g!="")m&&(b.g=m+"."+b.g),hs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new gn(null);b&&Lt(B,b),m&&(B.g=m),L&&hs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Ye(b,v,m),Ye(b,"VER",u.ka),Er(u,b),b}function gu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new yi({ab:v})):new $e(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}a=yu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){vt.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}R(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Il(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cs(u),u=v);m.i.push(new bt(m.Ya++,u)),m.I==3&&Ei(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,nn.Z.N.call(this)};function _u(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(_u,zt);function vu(){Rn.call(this),this.status=1}R(vu,Rn);function Pi(u){this.g=u}R(Pi,yu),Pi.prototype.ra=function(){Vt(this.g,"a")},Pi.prototype.qa=function(u){Vt(this.g,new _u(u))},Pi.prototype.pa=function(u){Vt(this.g,new vu)},Pi.prototype.oa=function(){Vt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,$v=function(){return new vs},Xv=function(){return Jr()},Kv=mt,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Ic=fr,pl.COMPLETE="complete",Yv=pl,Zo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,_o=Zo,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,Qv=$e}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const c0="@firebase/firestore",h0="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let al="12.3.0";const Qr=new Em("@firebase/firestore");function za(){return Qr.logLevel}function le(a,...e){if(Qr.logLevel<=Me.DEBUG){const i=e.map(Am);Qr.debug(`Firestore (${al}): ${a}`,...i)}}function rs(a,...e){if(Qr.logLevel<=Me.ERROR){const i=e.map(Am);Qr.error(`Firestore (${al}): ${a}`,...i)}}function $a(a,...e){if(Qr.logLevel<=Me.WARN){const i=e.map(Am);Qr.warn(`Firestore (${al}): ${a}`,...i)}}function Am(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function ve(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Zv(a,r,i)}function Zv(a,e,i){let r=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw rs(r),new Error(r)}function Fe(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||Zv(e,o,r)}function Se(a,e){return a}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Jv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class sw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rw{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string",31837,{l:r}),new Jv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class aw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new aw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ow{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new f0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uw(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Sm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=uw(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function ke(a,e){return a<e?-1:a>e?1:0}function Jd(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),c=e.charAt(r);if(o!==c)return Ld(o)===Ld(c)?ke(o,c):Ld(o)?1:-1}return ke(a.length,e.length)}const cw=55296,hw=57343;function Ld(a){const e=a.charCodeAt(0);return e>=cw&&e<=hw}function Za(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}const d0="__name__";class xi{constructor(e,i,r){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ve(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=xi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ke(e.length,i.length)}static compareSegments(e,i){const r=xi.isNumericId(e),o=xi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(i)):Jd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class it extends xi{construct(e,i,r){return new it(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new it(i)}static emptyPath(){return new it([])}}const fw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends xi{construct(e,i,r){return new Yt(e,i,r)}static isValidIdentifier(e){return fw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new Yt([d0])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new re(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new re(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new re(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new re(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(i)}static emptyPath(){return new Yt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(it.fromString(e))}static fromName(e){return new de(it.fromString(e).popFirst(5))}static empty(){return new de(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return it.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new it(e.slice()))}}function Wv(a,e,i){if(!i)throw new re(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function dw(a,e,i,r){if(e===!0&&r===!0)throw new re(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function m0(a){if(!de.isDocumentKey(a))throw new re(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function p0(a){if(de.isDocumentKey(a))throw new re(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function eE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function rh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":ve(12329,{type:typeof a})}function Zs(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new re(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rh(a);throw new re(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}function Nt(a,e){const i={typeString:a};return e&&(i.value=e),i}function Po(a,e){if(!eE(a))throw new re(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new re(Z.INVALID_ARGUMENT,i);return!0}const g0=-62135596800,y0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*y0);return new lt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new re(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new re(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<g0)throw new re(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Po(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Nt("string",lt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new lt(0,0))}static max(){return new Te(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;function mw(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new lt(i+1,0):new lt(i,r));return new Ws(o,de.empty(),e)}function pw(a){return new Ws(a.readTime,a.key,Io)}class Ws{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ws(Te.min(),de.empty(),Io)}static max(){return new Ws(Te.max(),de.empty(),Io)}}function gw(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=de.comparator(a.documentKey,e.documentKey),i!==0?i:ke(a.largestBatchId,e.largestBatchId))}const yw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _w{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ll(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==yw)throw a;le("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((A=>{d[y]=A,++g,g===c&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new J(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function vw(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ol(a){return a.name==="IndexedDbTransactionError"}class ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ah.ce=-1;const wm=-1;function lh(a){return a==null}function qc(a){return a===0&&1/a==-1/0}function Ew(a){return typeof a=="number"&&Number.isInteger(a)&&!qc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const tE="";function Tw(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=_0(e)),e=bw(a.get(i),e);return _0(e)}function bw(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case tE:i+="";break;default:i+=c}}return i}function _0(a){return a+tE+""}function v0(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function rr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function nE(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class ht{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new ht(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new Qt(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new kt(this.comparator);return i.data=e,i}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Sn([])}unionWith(e){let i=new kt(Yt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Sn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class iE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new iE("Invalid base64 string: "+c):c}})(e);return new Xt(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new Xt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const Aw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(a){if(Fe(!!a,39018),typeof a=="string"){let e=0;const i=Aw.exec(a);if(Fe(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(a.seconds),nanos:_t(a.nanos)}}function _t(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function tr(a){return typeof a=="string"?Xt.fromBase64String(a):Xt.fromUint8Array(a)}const sE="server_timestamp",rE="__type__",aE="__previous_value__",lE="__local_write_time__";function Rm(a){return(a?.mapValue?.fields||{})[rE]?.stringValue===sE}function oh(a){const e=a.mapValue.fields[aE];return Rm(e)?oh(e):e}function No(a){const e=er(a.mapValue.fields[lE].timestampValue);return new lt(e.seconds,e.nanos)}class Sw{constructor(e,i,r,o,c,d,g,_,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Bc="(default)";class Do{constructor(e,i){this.projectId=e,this.database=i||Bc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}const oE="__type__",ww="__max__",wc={mapValue:{}},uE="__vector__",Hc="value";function nr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Rm(a)?4:xw(a)?9007199254740991:Rw(a)?10:11:ve(28295,{value:a})}function Vi(a,e){if(a===e)return!0;const i=nr(a);if(i!==nr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return No(a).isEqual(No(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=er(o.timestampValue),g=er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,c){return tr(o.bytesValue).isEqual(tr(c.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,c){return _t(o.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(c.geoPointValue.longitude)})(a,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _t(o.integerValue)===_t(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=_t(o.doubleValue),g=_t(c.doubleValue);return d===g?qc(d)===qc(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return Za(a.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(v0(d)!==v0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Vi(d[_],g[_])))return!1;return!0})(a,e);default:return ve(52216,{left:a})}}function Oo(a,e){return(a.values||[]).find((i=>Vi(i,e)))!==void 0}function Ja(a,e){if(a===e)return 0;const i=nr(a),r=nr(e);if(i!==r)return ke(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return ke(a.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=_t(c.integerValue||c.doubleValue),_=_t(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(a,e);case 3:return T0(a.timestampValue,e.timestampValue);case 4:return T0(No(a),No(e));case 5:return Jd(a.stringValue,e.stringValue);case 6:return(function(c,d){const g=tr(c),_=tr(d);return g.compareTo(_)})(a.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=ke(g[y],_[y]);if(A!==0)return A}return ke(g.length,_.length)})(a.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=ke(_t(c.latitude),_t(d.latitude));return g!==0?g:ke(_t(c.longitude),_t(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return b0(a.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Hc]?.arrayValue,A=_[Hc]?.arrayValue,R=ke(y?.values?.length||0,A?.values?.length||0);return R!==0?R:b0(y,A)})(a.mapValue,e.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let R=0;R<_.length&&R<A.length;++R){const k=Jd(_[R],A[R]);if(k!==0)return k;const Y=Ja(g[_[R]],y[A[R]]);if(Y!==0)return Y}return ke(_.length,A.length)})(a.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function T0(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return ke(a,e);const i=er(a),r=er(e),o=ke(i.seconds,r.seconds);return o!==0?o:ke(i.nanos,r.nanos)}function b0(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Ja(i[o],r[o]);if(c)return c}return ke(i.length,r.length)}function Wa(a){return Wd(a)}function Wd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=er(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return tr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return de.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Wd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Wd(i.fields[d])}`;return o+"}"})(a.mapValue):ve(61005,{value:a})}function Nc(a){switch(nr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(a);return e?16+Nc(e):16;case 5:return 2*a.stringValue.length;case 6:return tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Nc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return rr(r.fields,((c,d)=>{o+=c.length+Nc(d)})),o})(a.mapValue);default:throw ve(13486,{value:a})}}function A0(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function em(a){return!!a&&"integerValue"in a}function xm(a){return!!a&&"arrayValue"in a}function S0(a){return!!a&&"nullValue"in a}function w0(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Dc(a){return!!a&&"mapValue"in a}function Rw(a){return(a?.mapValue?.fields||{})[oE]?.stringValue===uE}function Ao(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return rr(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Ao(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ao(a.arrayValue.values[i]);return e}return{...a}}function xw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===ww}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Dc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ao(i)}setAll(e){let i=Yt.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Ao(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){rr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new mn(Ao(this.value))}}function cE(a){const e=[];return rr(a.fields,((i,r)=>{const o=new Yt([i]);if(Dc(r)){const c=cE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Sn(e)}class Wt{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,Te.min(),Te.min(),Te.min(),mn.empty(),0)}static newFoundDocument(e,i,r,o){return new Wt(e,1,i,Te.min(),r,o,0)}static newNoDocument(e,i){return new Wt(e,2,i,Te.min(),Te.min(),mn.empty(),0)}static newUnknownDocument(e,i){return new Wt(e,3,i,Te.min(),Te.min(),mn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gc{constructor(e,i){this.position=e,this.inclusive=i}}function R0(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?r=de.comparator(de.fromName(d.referenceValue),i.key):r=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function x0(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Vi(a.position[i],e.position[i]))return!1;return!0}class Vo{constructor(e,i="asc"){this.field=e,this.dir=i}}function Cw(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class hE{}class It extends hE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Nw(e,i,r):i==="array-contains"?new Vw(e,r):i==="in"?new Mw(e,r):i==="not-in"?new kw(e,r):i==="array-contains-any"?new Uw(e,r):new It(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Dw(e,r):new Ow(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends hE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ii(e,i)}matches(e){return fE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fE(a){return a.op==="and"}function dE(a){return Iw(a)&&fE(a)}function Iw(a){for(const e of a.filters)if(e instanceof ii)return!1;return!0}function tm(a){if(a instanceof It)return a.field.canonicalString()+a.op.toString()+Wa(a.value);if(dE(a))return a.filters.map((e=>tm(e))).join(",");{const e=a.filters.map((i=>tm(i))).join(",");return`${a.op}(${e})`}}function mE(a,e){return a instanceof It?(function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(a,e):a instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&mE(d,o.filters[g])),!0):!1})(a,e):void ve(19439)}function pE(a){return a instanceof It?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(a):a instanceof ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(pE).join(" ,")+"}"})(a):"Filter"}class Nw extends It{constructor(e,i,r){super(e,i,r),this.key=de.fromName(r.referenceValue)}matches(e){const i=de.comparator(e.key,this.key);return this.matchesComparison(i)}}class Dw extends It{constructor(e,i){super(e,"in",i),this.keys=gE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Ow extends It{constructor(e,i){super(e,"not-in",i),this.keys=gE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function gE(a,e){return(e.arrayValue?.values||[]).map((i=>de.fromName(i.referenceValue)))}class Vw extends It{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return xm(i)&&Oo(i.arrayValue,this.value)}}class Mw extends It{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class kw extends It{constructor(e,i){super(e,"not-in",i)}matches(e){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class Uw extends It{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Oo(this.value.arrayValue,r)))}}class Lw{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function C0(a,e=null,i=[],r=[],o=null,c=null,d=null){return new Lw(a,e,i,r,o,c,d)}function Cm(a){const e=Se(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>tm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),lh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Wa(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Wa(r))).join(",")),e.Te=i}return e.Te}function Im(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Cw(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!mE(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!x0(a.startAt,e.startAt)&&x0(a.endAt,e.endAt)}function nm(a){return de.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class ul{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jw(a,e,i,r,o,c,d,g){return new ul(a,e,i,r,o,c,d,g)}function Nm(a){return new ul(a)}function I0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function yE(a){return a.collectionGroup!==null}function So(a){const e=Se(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new kt(Yt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Vo(c,r))})),i.has(Yt.keyField().canonicalString())||e.Ie.push(new Vo(Yt.keyField(),r))}return e.Ie}function Ci(a){const e=Se(a);return e.Ee||(e.Ee=Pw(e,So(a))),e.Ee}function Pw(a,e){if(a.limitType==="F")return C0(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Vo(o.field,c)}));const i=a.endAt?new Gc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Gc(a.startAt.position,a.startAt.inclusive):null;return C0(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function im(a,e){const i=a.filters.concat([e]);return new ul(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function sm(a,e,i){return new ul(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function uh(a,e){return Im(Ci(a),Ci(e))&&a.limitType===e.limitType}function _E(a){return`${Cm(Ci(a))}|lt:${a.limitType}`}function qa(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>pE(o))).join(", ")}]`),lh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${r})`})(Ci(a))}; limitType=${a.limitType})`}function ch(a,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):de.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,e)&&(function(r,o){for(const c of So(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,_){const y=R0(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,So(r),o)||r.endAt&&!(function(d,g,_){const y=R0(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,So(r),o))})(a,e)}function zw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function vE(a){return(e,i)=>{let r=!1;for(const o of So(a)){const c=qw(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function qw(a,e,i){const r=a.field.isKeyField()?de.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?Ja(_,y):ve(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:a.dir})}}class Xr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return nE(this.inner)}size(){return this.innerSize}}const Bw=new ht(de.comparator);function as(){return Bw}const EE=new ht(de.comparator);function vo(...a){let e=EE;for(const i of a)e=e.insert(i.key,i);return e}function TE(a){let e=EE;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Pr(){return wo()}function bE(){return wo()}function wo(){return new Xr((a=>a.toString()),((a,e)=>a.isEqual(e)))}const Hw=new ht(de.comparator),Gw=new kt(de.comparator);function Ue(...a){let e=Gw;for(const i of a)e=e.add(i);return e}const Fw=new kt(ke);function Qw(){return Fw}function Dm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function AE(a){return{integerValue:""+a}}function Yw(a,e){return Ew(e)?AE(e):Dm(a,e)}class hh{constructor(){this._=void 0}}function Kw(a,e,i){return a instanceof Fc?(function(o,c){const d={fields:{[rE]:{stringValue:sE},[lE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Rm(c)&&(c=oh(c)),c&&(d.fields[aE]=c),{mapValue:d}})(i,e):a instanceof Mo?wE(a,e):a instanceof ko?RE(a,e):(function(o,c){const d=SE(o,c),g=N0(d)+N0(o.Ae);return em(d)&&em(o.Ae)?AE(g):Dm(o.serializer,g)})(a,e)}function Xw(a,e,i){return a instanceof Mo?wE(a,e):a instanceof ko?RE(a,e):i}function SE(a,e){return a instanceof Qc?(function(r){return em(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Fc extends hh{}class Mo extends hh{constructor(e){super(),this.elements=e}}function wE(a,e){const i=xE(e);for(const r of a.elements)i.some((o=>Vi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class ko extends hh{constructor(e){super(),this.elements=e}}function RE(a,e){let i=xE(e);for(const r of a.elements)i=i.filter((o=>!Vi(o,r)));return{arrayValue:{values:i}}}class Qc extends hh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function N0(a){return _t(a.integerValue||a.doubleValue)}function xE(a){return xm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function $w(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof Mo&&o instanceof Mo||r instanceof ko&&o instanceof ko?Za(r.elements,o.elements,Vi):r instanceof Qc&&o instanceof Qc?Vi(r.Ae,o.Ae):r instanceof Fc&&o instanceof Fc})(a.transform,e.transform)}class Zw{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class fh{}function CE(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Om(a.key,ti.none()):new zo(a.key,a.data,ti.none());{const i=a.data,r=mn.empty();let o=new kt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new ar(a.key,r,new Sn(o.toArray()),ti.none())}}function Jw(a,e,i){a instanceof zo?(function(o,c,d){const g=o.value.clone(),_=O0(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof ar?(function(o,c,d){if(!Oc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=O0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(IE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ro(a,e,i,r){return a instanceof zo?(function(c,d,g,_){if(!Oc(c.precondition,d))return g;const y=c.value.clone(),A=V0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,e,i,r):a instanceof ar?(function(c,d,g,_){if(!Oc(c.precondition,d))return g;const y=V0(c.fieldTransforms,_,d),A=d.data;return A.setAll(IE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((R=>R.field)))})(a,e,i,r):(function(c,d,g){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function Ww(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),c=SE(r.transform,o||null);c!=null&&(i===null&&(i=mn.empty()),i.set(r.field,c))}return i||null}function D0(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Za(r,o,((c,d)=>$w(c,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class zo extends fh{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ar extends fh{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IE(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function O0(a,e,i){const r=new Map;Fe(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,Xw(d,g,i[o]))}return r}function V0(a,e,i){const r=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);r.set(o.field,Kw(c,d,e))}return r}class Om extends fh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e2 extends fh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class t2{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Jw(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ro(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ro(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=bE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=CE(d,g);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,((i,r)=>D0(i,r)))&&Za(this.baseMutations,e.baseMutations,((i,r)=>D0(i,r)))}}class Vm{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return Hw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Vm(e,i,r,o)}}class n2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class i2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,je;function s2(a){switch(a){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:a})}}function NE(a){if(a===void 0)return rs("GRPC error has no .code"),Z.UNKNOWN;switch(a){case Ct.OK:return Z.OK;case Ct.CANCELLED:return Z.CANCELLED;case Ct.UNKNOWN:return Z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Z.INTERNAL;case Ct.UNAVAILABLE:return Z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Z.NOT_FOUND;case Ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ct.ABORTED:return Z.ABORTED;case Ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ct.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:a})}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function r2(){return new TextEncoder}const a2=new $s([4294967295,4294967295],0);function M0(a){const e=r2().encode(a),i=new Fv;return i.update(e),new Uint8Array(i.digest())}function k0(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new $s([i,r],0),new $s([o,c],0)]}class Mm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(r<0)throw new Eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=$s.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply($s.fromNumber(r)));return o.compare(a2)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=M0(e),[r,o]=k0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Mm(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=M0(e),[r,o]=k0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,qo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new dh(Te.min(),o,new ht(ke),as(),Ue())}}class qo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new qo(r,i,Ue(),Ue(),Ue())}}class Vc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class DE{constructor(e,i){this.targetId=e,this.Ce=i}}class OE{constructor(e,i,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class U0{constructor(){this.ve=0,this.Fe=L0(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),i=Ue(),r=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:ve(38017,{changeType:c})}})),new qo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=L0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class l2{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.Je=Rc(),this.He=Rc(),this.Ye=new ht(ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(nm(c))if(r===0){const d=new de(c.path);this.et(i,d,Wt.newNoDocument(d,Te.min()))}else Fe(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=tr(r).toUint8Array()}catch(_){if(_ instanceof iE)return $a("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Mm(d,o,c)}catch(_){return $a(_ instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&nm(g.target)){const _=new de(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Wt.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ue();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new dh(e,i,this.Ye,this.je,r);return this.je=as(),this.Je=Rc(),this.He=Rc(),this.Ye=new ht(ke),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new U0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new kt(ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new kt(ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Rc(){return new ht(de.comparator)}function L0(){return new ht(de.comparator)}const o2={asc:"ASCENDING",desc:"DESCENDING"},u2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c2={and:"AND",or:"OR"};class h2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function rm(a,e){return a.useProto3Json||lh(e)?e:{value:e}}function Yc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function f2(a,e){return Yc(a,e.toTimestamp())}function Ii(a){return Fe(!!a,49232),Te.fromTimestamp((function(i){const r=er(i);return new lt(r.seconds,r.nanos)})(a))}function km(a,e){return am(a,e).canonicalString()}function am(a,e){const i=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function ME(a){const e=it.fromString(a);return Fe(PE(e),10190,{key:e.toString()}),e}function lm(a,e){return km(a.databaseId,e.path)}function jd(a,e){const i=ME(e);if(i.get(1)!==a.databaseId.projectId)throw new re(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new re(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new de(UE(i))}function kE(a,e){return km(a.databaseId,e)}function d2(a){const e=ME(a);return e.length===4?it.emptyPath():UE(e)}function om(a){return new it(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function UE(a){return Fe(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function j0(a,e,i){return{name:lm(a,e),fields:i.value.mapValue.fields}}function m2(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Fe(A===void 0||typeof A=="string",58123),Xt.fromBase64String(A||"")):(Fe(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xt.fromUint8Array(A||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:NE(y.code);return new re(A,y.message||"")})(d);i=new OE(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=jd(a,r.document.name),c=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):Te.min(),g=new mn({mapValue:{fields:r.document.fields}}),_=Wt.newFoundDocument(o,c,d,g),y=r.targetIds||[],A=r.removedTargetIds||[];i=new Vc(y,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=jd(a,r.document),c=r.readTime?Ii(r.readTime):Te.min(),d=Wt.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Vc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=jd(a,r.document),c=r.removedTargetIds||[];i=new Vc([],c,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new i2(o,c),g=r.targetId;i=new DE(g,d)}}return i}function p2(a,e){let i;if(e instanceof zo)i={update:j0(a,e.key,e.value)};else if(e instanceof Om)i={delete:lm(a,e.key)};else if(e instanceof ar)i={update:j0(a,e.key,e.data),updateMask:S2(e.fieldMask)};else{if(!(e instanceof e2))return ve(16599,{Vt:e.type});i={verify:lm(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Fc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:f2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(a,e.precondition)),i}function g2(a,e){return a&&a.length>0?(Fe(e!==void 0,14353),a.map((i=>(function(o,c){let d=o.updateTime?Ii(o.updateTime):Ii(c);return d.isEqual(Te.min())&&(d=Ii(c)),new Zw(d,o.transformResults||[])})(i,e)))):[]}function y2(a,e){return{documents:[kE(a,e.path)]}}function _2(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=kE(a,o);const c=(function(y){if(y.length!==0)return jE(ii.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(k){return{field:Ba(k.field),direction:T2(k.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=rm(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function v2(a){let e=d2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Fe(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(R){const k=LE(R);return k instanceof ii&&dE(k)?k.getFilters():[k]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((k=>(function(te){return new Vo(Ha(te.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(k)))})(i.orderBy));let g=null;i.limit&&(g=(function(R){let k;return k=typeof R=="object"?R.value:R,lh(k)?null:k})(i.limit));let _=null;i.startAt&&(_=(function(R){const k=!!R.before,Y=R.values||[];return new Gc(Y,k)})(i.startAt));let y=null;return i.endAt&&(y=(function(R){const k=!R.before,Y=R.values||[];return new Gc(Y,k)})(i.endAt)),jw(e,o,d,c,g,"F",_,y)}function E2(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function LE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ha(i.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(i.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return It.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(a):a.fieldFilter!==void 0?(function(i){return It.create(Ha(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return ii.create(i.compositeFilter.filters.map((r=>LE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(a):ve(30097,{filter:a})}function T2(a){return o2[a]}function b2(a){return u2[a]}function A2(a){return c2[a]}function Ba(a){return{fieldPath:a.canonicalString()}}function Ha(a){return Yt.fromServerFormat(a.fieldPath)}function jE(a){return a instanceof It?(function(i){if(i.op==="=="){if(w0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(S0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(w0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(S0(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:b2(i.op),value:i.value}}})(a):a instanceof ii?(function(i){const r=i.getFilters().map((o=>jE(o)));return r.length===1?r[0]:{compositeFilter:{op:A2(i.op),filters:r}}})(a):ve(54877,{filter:a})}function S2(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function PE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Qs{constructor(e,i,r,o,c=Te.min(),d=Te.min(),g=Xt.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class w2{constructor(e){this.yt=e}}function R2(a){const e=v2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?sm(e,e.limit,"L"):e}class x2{constructor(){this.Cn=new C2}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Ws.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class C2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new kt(it.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(zE,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const z0="LruGarbageCollector",I2=1048576;function q0([a,e],[i,r]){const o=ke(a,i);return o===0?ke(e,r):o}class N2{constructor(e){this.Ir=e,this.buffer=new kt(q0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();q0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class D2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ol(i)?le(z0,"Ignoring IndexedDB error during garbage collection: ",i):await ll(i)}await this.Vr(3e5)}))}}class O2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(ah.ce);const r=new N2(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(P0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(r=R,g=Date.now(),this.removeTargets(e,r,i)))).next((R=>(c=R,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((R=>(y=Date.now(),za()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${R} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R}))))}}function V2(a,e){return new O2(a,e)}class M2{constructor(){this.changes=new Xr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class k2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class U2{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Ro(r.mutation,o,Sn.empty(),lt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ue()){const o=Pr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=vo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Pr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ue())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=as();const d=wo(),g=(function(){return wo()})();return i.forEach(((_,y)=>{const A=r.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof ar)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Ro(A.mutation,y,A.mutation.getFieldMask(),lt.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new k2(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=wo();let o=new ht(((d,g)=>d-g)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Sn.empty();A=g.applyToLocalView(y,A),r.set(_,A);const R=(o.get(g.batchId)||Ue()).add(_);o=o.insert(g.batchId,R)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,R=bE();A.forEach((k=>{if(!c.has(k)){const Y=CE(i.get(k),r.get(k));Y!==null&&R.set(k,Y),c=c.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,R))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return de.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):yE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):J.resolve(Pr());let g=Io,_=c;return d.next((y=>J.forEach(y,((A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((k=>{_=_.insert(A,k)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Ue()))).next((A=>({batchId:g,changes:TE(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new de(i)).next((r=>{let o=vo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=vo();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(_=>{const y=(function(R,k){return new ul(k,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((A=>{A.forEach(((R,k)=>{d=d.insert(R,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Wt.newInvalidDocument(A)))}));let g=vo();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Ro(A.mutation,y,Sn.empty(),lt.now()),ch(i,y)&&(g=g.insert(_,y))})),g}))}}class L2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:R2(o.bundledQuery),readTime:Ii(o.readTime)}})(i)),J.resolve()}}class j2{constructor(){this.overlays=new ht(de.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Pr();return J.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const o=Pr(),c=i.length+1,d=new de(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new ht(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=Pr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Pr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=o)););return J.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new n2(i,r));let c=this.qr.get(i);c===void 0&&(c=Ue(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class P2{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Um{constructor(){this.Qr=new kt(Pt.$r),this.Ur=new kt(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Pt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Pt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new de(new it([])),r=new Pt(i,e),o=new Pt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new de(new it([])),r=new Pt(i,e),o=new Pt(i,e+1);let c=Ue();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Pt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return de.comparator(e.key,i.key)||ke(e.Yr,i.Yr)}static Kr(e,i){return ke(e.Yr,i.Yr)||de.comparator(e.key,i.key)}}class z2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Pt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new t2(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Pt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?wm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new kt(ke);return i.forEach((o=>{const c=new Pt(o,0),d=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;de.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new de(c),0);let g=new kt(ke);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Fe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const c=new Pt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Pt(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class q2{constructor(e){this.ri=e,this.docs=(function(){return new ht(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(e,i){let r=as();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Wt.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=as();const d=i.path,g=new de(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||gw(pw(A),r)<=0||(o.has(A.key)||ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,o){ve(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new B2(this)}getSize(e){return J.resolve(this.size)}}class B2 extends M2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class H2{constructor(e){this.persistence=e,this.si=new Xr((i=>Cm(i)),Im),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Um,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class qE{constructor(e,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new P2,this.referenceDelegate=e(this),this.Pi=new H2(this),this.indexManager=new x2,this.remoteDocumentCache=(function(o){return new q2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new w2(i),this.Ii=new L2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new j2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new z2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){le("MemoryPersistence","Starting transaction:",e);const o=new G2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class G2 extends _w{constructor(e){super(),this.currentSequenceNumber=e}}class Lm{constructor(e){this.persistence=e,this.Ri=new Um,this.Vi=null}static mi(e){return new Lm(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=de.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Kc{constructor(e,i){this.persistence=e,this.pi=new Xr((r=>Tw(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=V2(this,i)}static mi(e,i){return new Kc(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?J.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Te.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Nc(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ue(),o=Ue();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new jm(e,i.fromCache,r,o)}}class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Q2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LA()?8:vw(en())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new F2;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(za()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(za()<=Me.DEBUG&&le("QueryEngine","Query:",qa(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(za()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(i))):J.resolve())}ys(e,i){if(I0(i))return J.resolve(null);let r=Ci(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=sm(i,null,"F"),r=Ci(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ue(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,sm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,r,o){return I0(i)||o.isEqual(Te.min())?J.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?J.resolve(null):(za()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(i)),this.vs(e,d,i,mw(o,Io)).next((g=>g)))}))}Ds(e,i){let r=new kt(vE(e));return i.forEach(((o,c)=>{ch(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return za()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(e,i,Ws.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Pm="LocalStore",Y2=3e8;class K2{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ht(ke),this.xs=new Xr((c=>Cm(c)),Im),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function X2(a,e,i,r){return new K2(a,e,i,r)}async function BE(a,e){const i=Se(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=Ue();for(const y of o){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function $2(a,e){const i=Se(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const R=y.batch,k=R.keys();let Y=J.resolve();return k.forEach((te=>{Y=Y.next((()=>A.getEntry(_,te))).next((se=>{const W=y.docVersions.get(te);Fe(W!==null,48541),se.version.compareTo(W)<0&&(R.applyToRemoteDocument(se,y),se.isValidDocument()&&(se.setReadTime(y.commitVersion),A.addEntry(se)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(_,R)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=Ue();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function HE(a){const e=Se(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Z2(a,e){const i=Se(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((A,R)=>{const k=o.get(R);if(!k)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,R))));let Y=k.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?Y=Y.withResumeToken(Xt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),o=o.insert(R,Y),(function(se,W,ge){return se.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=Y2?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0})(k,Y,A)&&g.push(i.Pi.updateTargetData(c,Y))}));let _=as(),y=Ue();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(J2(c,d,e.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(Te.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((R=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(A)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function J2(a,e,i){let r=Ue(),o=Ue();return i.forEach((c=>r=r.add(c))),e.getEntries(a,r).next((c=>{let d=as();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Te.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):le(Pm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function W2(a,e){const i=Se(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function eR(a,e){const i=Se(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Qs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function um(a,e,i){const r=Se(a),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ol(d))throw d;le(Pm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function B0(a,e,i){const r=Se(a);let o=Te.min(),c=Ue();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const R=Se(_),k=R.xs.get(A);return k!==void 0?J.resolve(R.Ms.get(k)):R.Pi.getTargetData(y,A)})(r,d,Ci(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Te.min(),i?c:Ue()))).next((g=>(tR(r,zw(e),g),{documents:g,Qs:c})))))}function tR(a,e,i){let r=a.Os.get(e)||Te.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(e,r)}class H0{constructor(){this.activeTargetIds=Qw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nR{constructor(){this.Mo=new H0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iR{Oo(e){}shutdown(){}}const G0="ConnectivityMonitor";class F0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(G0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(G0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function cm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Pd="RestConnection",sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Bc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=cm(),g=this.zo(e,i.toUriEncodedString());le(Pd,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),A=sl(y);return this.Jo(e,g,_,r,A).then((R=>(le(Pd,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw $a(Pd,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",r),R}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=sR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class aR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class lR extends rR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=cm();return new Promise(((g,_)=>{const y=new Qv;y.setWithCredentials(!0),y.listenOnce(Yv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ic.NO_ERROR:const R=y.getResponseJson();le(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case Ic.TIMEOUT:le(Zt,`RPC '${e}' ${d} timed out`),_(new re(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const k=y.getStatus();if(le(Zt,`RPC '${e}' ${d} failed with status:`,k,"response text:",y.getResponseText()),k>0){let Y=y.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const te=Y?.error;if(te&&te.status&&te.message){const se=(function(ge){const be=ge.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(be)>=0?be:Z.UNKNOWN})(te.status);_(new re(se,te.message))}else _(new re(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new re(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Zt,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);le(Zt,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$v(),g=Xv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");le(Zt,`Creating RPC '${e}' stream ${o}: ${A}`,_);const R=d.createWebChannel(A,_);this.I_(R);let k=!1,Y=!1;const te=new aR({Yo:W=>{Y?le(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(k||(le(Zt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),k=!0),le(Zt,`RPC '${e}' stream ${o} sending:`,W),R.send(W))},Zo:()=>R.close()}),se=(W,ge,be)=>{W.listen(ge,(_e=>{try{be(_e)}catch(Ge){setTimeout((()=>{throw Ge}),0)}}))};return se(R,_o.EventType.OPEN,(()=>{Y||(le(Zt,`RPC '${e}' stream ${o} transport opened.`),te.o_())})),se(R,_o.EventType.CLOSE,(()=>{Y||(Y=!0,le(Zt,`RPC '${e}' stream ${o} transport closed`),te.a_(),this.E_(R))})),se(R,_o.EventType.ERROR,(W=>{Y||(Y=!0,$a(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),te.a_(new re(Z.UNAVAILABLE,"The operation could not be completed")))})),se(R,_o.EventType.MESSAGE,(W=>{if(!Y){const ge=W.data[0];Fe(!!ge,16349);const be=ge,_e=be?.error||be[0]?.error;if(_e){le(Zt,`RPC '${e}' stream ${o} received error:`,_e);const Ge=_e.status;let et=(function(w){const S=Ct[w];if(S!==void 0)return NE(S)})(Ge),ue=_e.message;et===void 0&&(et=Z.INTERNAL,ue="Unknown error status: "+Ge+" with message "+_e.message),Y=!0,te.a_(new re(et,ue)),R.close()}else le(Zt,`RPC '${e}' stream ${o} received:`,ge),te.u_(ge)}})),se(g,Kv.STAT_EVENT,(W=>{W.stat===Zd.PROXY?le(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===Zd.NOPROXY&&le(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function zd(){return typeof document<"u"?document:null}function mh(a){return new h2(a,!0)}class GE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Q0="PersistentStream";class FE{constructor(e,i,r,o,c,d,g,_){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(rs(i.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new re(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(Q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oR extends FE{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=m2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Ii(d.readTime):Te.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=nm(_)?{documents:y2(c,_)}:{query:_2(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=VE(c,d.resumeToken);const y=rm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Te.min())>0){g.readTime=Yc(c,d.snapshotVersion.toTimestamp());const y=rm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const r=E2(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=om(this.serializer),i.removeTarget=e,this.q_(i)}}class uR extends FE{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=g2(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=om(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>p2(this.serializer,r)))};this.q_(i)}}class cR{}class hR extends cR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,am(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(Z.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,am(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class dR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{$r(this)&&(le(Yr,"Restarting streams for network reachability change."),await(async function(_){const y=Se(_);y.Ea.add(4),await Bo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ph(y)})(this))}))})),this.Ra=new fR(r,o)}}async function ph(a){if($r(a))for(const e of a.da)await e(!0)}async function Bo(a){for(const e of a.da)await e(!1)}function QE(a,e){const i=Se(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Hm(i)?Bm(i):cl(i).O_()&&qm(i,e))}function zm(a,e){const i=Se(a),r=cl(i);i.Ia.delete(e),r.O_()&&YE(i,e),i.Ia.size===0&&(r.O_()?r.L_():$r(i)&&i.Ra.set("Unknown"))}function qm(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}cl(a).Y_(e)}function YE(a,e){a.Va.Ue(e),cl(a).Z_(e)}function Bm(a){a.Va=new l2({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),cl(a).start(),a.Ra.ua()}function Hm(a){return $r(a)&&!cl(a).x_()&&a.Ia.size>0}function $r(a){return Se(a).Ea.size===0}function KE(a){a.Va=void 0}async function mR(a){a.Ra.set("Online")}async function pR(a){a.Ia.forEach(((e,i)=>{qm(a,e)}))}async function gR(a,e){KE(a),Hm(a)?(a.Ra.ha(e),Bm(a)):a.Ra.set("Unknown")}async function yR(a,e,i){if(a.Ra.set("Online"),e instanceof OE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(a,e)}catch(r){le(Yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xc(a,r)}else if(e instanceof Vc?a.Va.Ze(e):e instanceof DE?a.Va.st(e):a.Va.tt(e),!i.isEqual(Te.min()))try{const r=await HE(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Xt.EMPTY_BYTE_STRING,A.snapshotVersion)),YE(c,_);const R=new Qs(A.target,_,y,A.sequenceNumber);qm(c,R)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){le(Yr,"Failed to raise snapshot:",r),await Xc(a,r)}}async function Xc(a,e,i){if(!ol(e))throw e;a.Ea.add(1),await Bo(a),a.Ra.set("Offline"),i||(i=()=>HE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{le(Yr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await ph(a)}))}function XE(a,e){return e().catch((i=>Xc(a,i,e)))}async function gh(a){const e=Se(a),i=ir(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wm;for(;_R(e);)try{const o=await W2(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,vR(e,o)}catch(o){await Xc(e,o)}$E(e)&&ZE(e)}function _R(a){return $r(a)&&a.Ta.length<10}function vR(a,e){a.Ta.push(e);const i=ir(a);i.O_()&&i.X_&&i.ea(e.mutations)}function $E(a){return $r(a)&&!ir(a).x_()&&a.Ta.length>0}function ZE(a){ir(a).start()}async function ER(a){ir(a).ra()}async function TR(a){const e=ir(a);for(const i of a.Ta)e.ea(i.mutations)}async function bR(a,e,i){const r=a.Ta.shift(),o=Vm.from(r,e,i);await XE(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await gh(a)}async function AR(a,e){e&&ir(a).X_&&await(async function(r,o){if((function(d){return s2(d)&&d!==Z.ABORTED})(o.code)){const c=r.Ta.shift();ir(r).B_(),await XE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await gh(r)}})(a,e),$E(a)&&ZE(a)}async function Y0(a,e){const i=Se(a);i.asyncQueue.verifyOperationInProgress(),le(Yr,"RemoteStore received new credentials");const r=$r(i);i.Ea.add(3),await Bo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await ph(i)}async function SR(a,e){const i=Se(a);e?(i.Ea.delete(2),await ph(i)):e||(i.Ea.add(2),await Bo(i),i.Ra.set("Unknown"))}function cl(a){return a.ma||(a.ma=(function(i,r,o){const c=Se(i);return c.sa(),new oR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:mR.bind(null,a),t_:pR.bind(null,a),r_:gR.bind(null,a),H_:yR.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Hm(a)?Bm(a):a.Ra.set("Unknown")):(await a.ma.stop(),KE(a))}))),a.ma}function ir(a){return a.fa||(a.fa=(function(i,r,o){const c=Se(i);return c.sa(),new uR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:ER.bind(null,a),r_:AR.bind(null,a),ta:TR.bind(null,a),na:bR.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await gh(a)):(await a.fa.stop(),a.Ta.length>0&&(le(Yr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Gm{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new Gm(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(a,e){if(rs("AsyncQueue",`${e}: ${a}`),ol(a))return new re(Z.UNAVAILABLE,`${e}: ${a}`);throw a}class Ga{static emptySet(e){return new Ga(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||de.comparator(i.key,r.key):(i,r)=>de.comparator(i.key,r.key),this.keyedMap=vo(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class K0{constructor(){this.ga=new ht(de.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class tl{constructor(e,i,r,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new tl(e,i,Ga.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class wR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class RR{constructor(){this.queries=X0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Se(i),c=o.queries;o.queries=X0(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new re(Z.ABORTED,"Firestore shutting down"))}}function X0(){return new Xr((a=>_E(a)),uh)}async function xR(a,e){const i=Se(a);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new wR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Fm(d,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Qm(i)}async function CR(a,e){const i=Se(a),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function IR(a,e){const i=Se(a);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&Qm(i)}function NR(a,e,i){const r=Se(a),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function Qm(a){a.Ca.forEach((e=>{e.next()}))}var hm,$0;($0=hm||(hm={})).Ma="default",$0.Cache="cache";class DR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hm.Cache}}class JE{constructor(e){this.key=e}}class WE{constructor(e){this.key=e}}class OR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=vE(e),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new K0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,R)=>{const k=o.get(A),Y=ch(this.query,R)?R:null,te=!!k&&this.mutatedKeys.has(k.key),se=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let W=!1;k&&Y?k.data.isEqual(Y.data)?te!==se&&(r.track({type:3,doc:Y}),W=!0):this.su(k,Y)||(r.track({type:2,doc:Y}),W=!0,(_&&this.eu(Y,_)>0||y&&this.eu(Y,y)<0)&&(g=!0)):!k&&Y?(r.track({type:0,doc:Y}),W=!0):k&&!Y&&(r.track({type:1,doc:k}),W=!0,(_||y)&&(g=!0)),W&&(Y?(d=d.add(Y),c=se?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,R)=>(function(Y,te){const se=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:W})}};return se(Y)-se(te)})(A.type,R.type)||this.eu(A.doc,R.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new tl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new WE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new JE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ue();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ym="SyncEngine";class VR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class MR{constructor(e){this.key=e,this.hu=!1}}class kR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xr((g=>_E(g)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new ht(de.comparator),this.Au=new Map,this.Ru=new Um,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UR(a,e,i=!0){const r=rT(a);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await eT(r,e,i,!0),o}async function LR(a,e){const i=rT(a);await eT(i,e,!0,!1)}async function eT(a,e,i,r){const o=await eR(a.localStore,Ci(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await jR(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&QE(a.remoteStore,o),g}async function jR(a,e,i,r,o){a.pu=(R,k,Y)=>(async function(se,W,ge,be){let _e=W.view.ru(ge);_e.Cs&&(_e=await B0(se.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,_e))));const Ge=be&&be.targetChanges.get(W.targetId),et=be&&be.targetMismatches.get(W.targetId)!=null,ue=W.view.applyChanges(_e,se.isPrimaryClient,Ge,et);return J0(se,W.targetId,ue.au),ue.snapshot})(a,R,k,Y);const c=await B0(a.localStore,e,!0),d=new OR(e,c.Qs),g=d.ru(c.documents),_=qo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),y=d.applyChanges(g,a.isPrimaryClient,_);J0(a,i,y.au);const A=new VR(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),y.snapshot}async function PR(a,e,i){const r=Se(a),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!uh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await um(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&zm(r.remoteStore,o.targetId),fm(r,o.targetId)})).catch(ll)):(fm(r,o.targetId),await um(r.localStore,o.targetId,!0))}async function zR(a,e){const i=Se(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),zm(i.remoteStore,r.targetId))}async function qR(a,e,i){const r=KR(a);try{const o=await(function(d,g){const _=Se(d),y=lt.now(),A=g.reduce(((Y,te)=>Y.add(te.key)),Ue());let R,k;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let te=as(),se=Ue();return _.Ns.getEntries(Y,A).next((W=>{te=W,te.forEach(((ge,be)=>{be.isValidDocument()||(se=se.add(ge))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,te))).next((W=>{R=W;const ge=[];for(const be of g){const _e=Ww(be,R.get(be.key).overlayedDocument);_e!=null&&ge.push(new ar(be.key,_e,cE(_e.value.mapValue),ti.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,y,ge,g)})).next((W=>{k=W;const ge=W.applyToLocalDocumentSet(R,se);return _.documentOverlayCache.saveOverlays(Y,W.batchId,ge)}))})).then((()=>({batchId:k.batchId,changes:TE(R)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ht(ke)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(r,o.batchId,i),await Ho(r,o.changes),await gh(r.remoteStore)}catch(o){const c=Fm(o,"Failed to persist write");i.reject(c)}}async function tT(a,e){const i=Se(a);try{const r=await Z2(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Fe(d.hu,14607):o.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await Ho(i,r,e)}catch(r){await ll(r)}}function Z0(a,e,i){const r=Se(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Se(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,R)=>{for(const k of R.Sa)k.va(g)&&(y=!0)})),y&&Qm(_)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BR(a,e,i){const r=Se(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new ht(de.comparator);d=d.insert(c,Wt.newNoDocument(c,Te.min()));const g=Ue().add(c),_=new dh(Te.min(),new Map,new ht(ke),d,g);await tT(r,_),r.du=r.du.remove(c),r.Au.delete(e),Km(r)}else await um(r.localStore,e,!1).then((()=>fm(r,e,i))).catch(ll)}async function HR(a,e){const i=Se(a),r=e.batch.batchId;try{const o=await $2(i.localStore,e);iT(i,r,null),nT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ho(i,o)}catch(o){await ll(o)}}async function GR(a,e,i){const r=Se(a);try{const o=await(function(d,g){const _=Se(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((R=>(Fe(R!==null,37113),A=R.keys(),_.mutationQueue.removeMutationBatch(y,R)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,e);iT(r,e,i),nT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Ho(r,o)}catch(o){await ll(o)}}function nT(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function iT(a,e,i){const r=Se(a);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function fm(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||sT(a,r)}))}function sT(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(zm(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Km(a))}function J0(a,e,i){for(const r of i)r instanceof JE?(a.Ru.addReference(r.key,e),FR(a,r)):r instanceof WE?(le(Ym,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||sT(a,r.key)):ve(19791,{wu:r})}function FR(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(le(Ym,"New document in limbo: "+i),a.Eu.add(r),Km(a))}function Km(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new de(it.fromString(e)),r=a.fu.next();a.Au.set(r,new MR(i)),a.du=a.du.insert(i,r),QE(a.remoteStore,new Qs(Ci(Nm(i.path)),r,"TargetPurposeLimboResolution",ah.ce))}}async function Ho(a,e,i){const r=Se(a),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,e,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){o.push(y);const A=jm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,y){const A=Se(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>J.forEach(y,(k=>J.forEach(k.Es,(Y=>A.persistence.referenceDelegate.addReference(R,k.targetId,Y))).next((()=>J.forEach(k.ds,(Y=>A.persistence.referenceDelegate.removeReference(R,k.targetId,Y)))))))))}catch(R){if(!ol(R))throw R;le(Pm,"Failed to update sequence numbers: "+R)}for(const R of y){const k=R.targetId;if(!R.fromCache){const Y=A.Ms.get(k),te=Y.snapshotVersion,se=Y.withLastLimboFreeSnapshotVersion(te);A.Ms=A.Ms.insert(k,se)}}})(r.localStore,c))}async function QR(a,e){const i=Se(a);if(!i.currentUser.isEqual(e)){le(Ym,"User change. New user:",e.toKey());const r=await BE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new re(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ho(i,r.Ls)}}function YR(a,e){const i=Se(a),r=i.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function rT(a){const e=Se(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BR.bind(null,e),e.Pu.H_=IR.bind(null,e.eventManager),e.Pu.yu=NR.bind(null,e.eventManager),e}function KR(a){const e=Se(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GR.bind(null,e),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return X2(this.persistence,new Q2,e.initialUser,this.serializer)}Cu(e){return new qE(Lm.mi,this.serializer)}Du(e){return new nR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class XR extends $c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof Kc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new qE((r=>Kc.mi(r,i)),this.serializer)}}class dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QR.bind(null,this.syncEngine),await SR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RR})()}createDatastore(e){const i=mh(e.databaseInfo.databaseId),r=(function(c){return new lR(c)})(e.databaseInfo);return(function(c,d,g,_){return new hR(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new dR(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Z0(this.syncEngine,i,0)),(function(){return F0.v()?new F0:new iR})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,A){const R=new kR(o,c,d,g,_,y);return A&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Se(i);le(Yr,"RemoteStore shutting down."),r.Ea.add(5),await Bo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class $R{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const sr="FirestoreClient";class ZR{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{le(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Fm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qd(a,e){a.asyncQueue.verifyOperationInProgress(),le(sr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await BE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function W0(a,e){a.asyncQueue.verifyOperationInProgress();const i=await JR(a);le(sr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>Y0(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>Y0(e.remoteStore,o))),a._onlineComponents=e}async function JR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){le(sr,"Using user provided OfflineComponentProvider");try{await qd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await qd(a,new $c)}}else le(sr,"Using default OfflineComponentProvider"),await qd(a,new XR(void 0));return a._offlineComponents}async function aT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(le(sr,"Using user provided OnlineComponentProvider"),await W0(a,a._uninitializedComponentsProvider._online)):(le(sr,"Using default OnlineComponentProvider"),await W0(a,new dm))),a._onlineComponents}function WR(a){return aT(a).then((e=>e.syncEngine))}async function ev(a){const e=await aT(a),i=e.eventManager;return i.onListen=UR.bind(null,e.syncEngine),i.onUnlisten=PR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=LR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=zR.bind(null,e.syncEngine),i}function lT(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}const tv=new Map;const oT="firestore.googleapis.com",nv=!0;class iv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oT,this.ssl=nv}else this.host=e.host,this.ssl=e.ssl??nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I2)throw new re(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iw;switch(r.type){case"firstParty":return new lw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=tv.get(i);r&&(le("ComponentProvider","Removing Datastore"),tv.delete(i),r.terminate())})(this),Promise.resolve()}}function ex(a,e,i,r={}){a=Zs(a,yh);const o=sl(e),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(Lv(`https://${g}`),jv("Firestore",!0)),c.host!==oT&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:r};if(!Gr(_,d)&&(a._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Jt.MOCK_USER;else{y=CA(r.mockUserToken,a._app?.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new re(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Jt(R)}a._authCredentials=new sw(new Jv(y,A))}}class Zr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class Dt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Po(i,Dt._jsonSchema))return new Dt(e,r||null,new de(it.fromString(i.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Nt("string",Dt._jsonSchemaVersion),referencePath:Nt("string")};class Js extends Zr{constructor(e,i,r){super(e,i,Nm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new de(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Bd(a,e,...i){if(a=Kt(a),Wv("collection","path",e),a instanceof yh){const r=it.fromString(e,...i);return p0(r),new Js(a,null,r)}{if(!(a instanceof Dt||a instanceof Js))throw new re(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(it.fromString(e,...i));return p0(r),new Js(a.firestore,null,r)}}function mm(a,e,...i){if(a=Kt(a),arguments.length===1&&(e=Sm.newId()),Wv("doc","path",e),a instanceof yh){const r=it.fromString(e,...i);return m0(r),new Dt(a,null,new de(r))}{if(!(a instanceof Dt||a instanceof Js))throw new re(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(it.fromString(e,...i));return m0(r),new Dt(a.firestore,a instanceof Js?a.converter:null,new de(r))}}const sv="AsyncQueue";class rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GE(this,"async_queue_retry"),this._c=()=>{const r=zd();r&&le(sv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;le(sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",av(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Gm.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:av(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function av(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}function lv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(a,["next","error","complete"])}class nl extends yh{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new rv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rv(e),this._firestoreClient=void 0,await e}}}function tx(a,e){const i=typeof a=="object"?a:Bv(),r=typeof a=="string"?a:Bc,o=bm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=RA("firestore");c&&ex(o,...c)}return o}function uT(a){if(a._terminated)throw new re(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||nx(a),a._firestoreClient}function nx(a){const e=a._freezeSettings(),i=(function(o,c,d,g){return new Sw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,lT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new ZR(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Xt.fromBase64String(e))}catch(i){throw new re(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Pn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Po(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Nt("string",Pn._jsonSchemaVersion),bytes:Nt("string")};class _h{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new re(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xm{constructor(e){this._methodName=e}}class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new re(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new re(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(Po(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Nt("string",Ni._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Po(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Di(e.vectorValues);throw new re(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Nt("string",Di._jsonSchemaVersion),vectorValues:Nt("object")};const ix=/^__.*__$/;class sx{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,i,this.fieldTransforms):new zo(e,this.data,i,this.fieldTransforms)}}class cT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new ar(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function hT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:a})}}class $m{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $m({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hT(this.Ac)&&ix.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rx{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||mh(e)}Cc(e,i,r,o=!1){return new $m({Ac:e,methodName:i,Dc:r,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(a){const e=a._freezeSettings(),i=mh(a._databaseId);return new rx(a._databaseId,!!e.ignoreUndefinedProperties,i)}function ax(a,e,i,r,o,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,e,i,o);Jm("Data must be an object, but it was:",d,r);const g=fT(r,d);let _,y;if(c.merge)_=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const k=pm(e,R,i);if(!d.contains(k))throw new re(Z.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);mT(A,k)||A.push(k)}_=new Sn(A),y=d.fieldTransforms.filter((R=>_.covers(R.field)))}else _=null,y=d.fieldTransforms;return new sx(new mn(g),_,y)}class vh extends Xm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function lx(a,e,i,r){const o=a.Cc(1,e,i);Jm("Data must be an object, but it was:",o,r);const c=[],d=mn.empty();rr(r,((_,y)=>{const A=Wm(e,_,i);y=Kt(y);const R=o.yc(A);if(y instanceof vh)c.push(A);else{const k=Go(y,R);k!=null&&(c.push(A),d.set(A,k))}}));const g=new Sn(c);return new cT(d,g,o.fieldTransforms)}function ox(a,e,i,r,o,c){const d=a.Cc(1,e,i),g=[pm(e,r,i)],_=[o];if(c.length%2!=0)throw new re(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<c.length;k+=2)g.push(pm(e,c[k])),_.push(c[k+1]);const y=[],A=mn.empty();for(let k=g.length-1;k>=0;--k)if(!mT(y,g[k])){const Y=g[k];let te=_[k];te=Kt(te);const se=d.yc(Y);if(te instanceof vh)y.push(Y);else{const W=Go(te,se);W!=null&&(y.push(Y),A.set(Y,W))}}const R=new Sn(y);return new cT(A,R,d.fieldTransforms)}function ux(a,e,i,r=!1){return Go(i,a.Cc(r?4:3,e))}function Go(a,e){if(dT(a=Kt(a)))return Jm("Unsupported field value:",e,a),fT(a,e);if(a instanceof Xm)return(function(r,o){if(!hT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let _=Go(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,e)}return(function(r,o){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=lt.fromDate(r);return{timestampValue:Yc(o.serializer,c)}}if(r instanceof lt){const c=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,c)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:VE(o.serializer,r._byteString)};if(r instanceof Dt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:km(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Di)return(function(d,g){return{mapValue:{fields:{[oE]:{stringValue:uE},[Hc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Dm(g.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${rh(r)}`)})(a,e)}function fT(a,e){const i={};return nE(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(a,((r,o)=>{const c=Go(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function dT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof lt||a instanceof Ni||a instanceof Pn||a instanceof Dt||a instanceof Xm||a instanceof Di)}function Jm(a,e,i){if(!dT(i)||!eE(i)){const r=rh(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function pm(a,e,i){if((e=Kt(e))instanceof _h)return e._internalPath;if(typeof e=="string")return Wm(a,e);throw Zc("Field path arguments must be of type string or ",a,!1,void 0,i)}const cx=new RegExp("[~\\*/\\[\\]]");function Wm(a,e,i){if(e.search(cx)>=0)throw Zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new _h(...e.split("."))._internalPath}catch{throw Zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Zc(a,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new re(Z.INVALID_ARGUMENT,g+a+_)}function mT(a,e){return a.some((i=>i.isEqual(e)))}class pT{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ep("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class hx extends pT{data(){return super.data()}}function ep(a,e){return typeof e=="string"?Wm(a,e):e instanceof _h?e._internalPath:e._delegate._internalPath}function fx(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new re(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tp{}class gT extends tp{}function ov(a,e,...i){let r=[];e instanceof tp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((_=>_ instanceof ip)).length,g=c.filter((_=>_ instanceof np)).length;if(d>1||d>0&&g>0)throw new re(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class np extends gT{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new np(e,i,r)}_apply(e){const i=this._parse(e);return yT(e._query,i),new Zr(e.firestore,e.converter,im(e._query,i))}_parse(e){const i=Zm(e.firestore);return(function(c,d,g,_,y,A,R){let k;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new re(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){cv(R,A);const te=[];for(const se of R)te.push(uv(_,c,se));k={arrayValue:{values:te}}}else k=uv(_,c,R)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||cv(R,A),k=ux(g,d,R,A==="in"||A==="not-in");return It.create(y,A,k)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class ip extends tp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new ip(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ii.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const _ of g)yT(d,_),d=im(d,_)})(e._query,i),new Zr(e.firestore,e.converter,im(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sp extends gT{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new sp(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new re(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vo(c,d)})(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new ul(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function dx(a,e="asc"){const i=e,r=ep("orderBy",a);return sp._create(r,i)}function uv(a,e,i){if(typeof(i=Kt(i))=="string"){if(i==="")throw new re(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yE(e)&&i.indexOf("/")!==-1)throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(it.fromString(i));if(!de.isDocumentKey(r))throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A0(a,new de(r))}if(i instanceof Dt)return A0(a,i._key);throw new re(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(i)}.`)}function cv(a,e){if(!Array.isArray(a)||a.length===0)throw new re(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yT(a,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new re(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class mx{convertValue(e,i="none"){switch(nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return rr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Hc].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new Di(i)}convertGeoPoint(e){return new Ni(_t(e.latitude),_t(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=oh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(No(e));default:return null}}convertTimestamp(e){const i=er(e);return new lt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=it.fromString(e);Fe(PE(r),9688,{name:e});const o=new Do(r.get(1),r.get(3)),c=new de(r.popFirst(5));return o.isEqual(i)||rs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function px(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class To{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Br extends pT{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(ep("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Br._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Nt("string",Br._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Mc extends Br{data(e={}){return super.data(e)}}class Fa{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Mc(this._firestore,this._userDataWriter,r.key,r,new To(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new re(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Mc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Mc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new To(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:gx(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gx(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:a})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Nt("string",Fa._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class _T extends mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,i)}}function yx(a,e,i,...r){a=Zs(a,Dt);const o=Zs(a.firestore,nl),c=Zm(o);let d;return d=typeof(e=Kt(e))=="string"||e instanceof _h?ox(c,"updateDoc",a._key,e,i,r):lx(c,"updateDoc",a._key,e),rp(o,[d.toMutation(a._key,ti.exists(!0))])}function _x(a){return rp(Zs(a.firestore,nl),[new Om(a._key,ti.none())])}function vx(a,e){const i=Zs(a.firestore,nl),r=mm(a),o=px(a.converter,e);return rp(i,[ax(Zm(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then((()=>r))}function hv(a,...e){a=Kt(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||lv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lv(e[r])){const _=e[r];e[r]=_.next?.bind(_),e[r+1]=_.error?.bind(_),e[r+2]=_.complete?.bind(_)}let c,d,g;if(a instanceof Dt)d=Zs(a.firestore,nl),g=Nm(a._key.path),c={next:_=>{e[r]&&e[r](Ex(d,a,_))},error:e[r+1],complete:e[r+2]};else{const _=Zs(a,Zr);d=Zs(_.firestore,nl),g=_._query;const y=new _T(d);c={next:A=>{e[r]&&e[r](new Fa(d,y,_,A))},error:e[r+1],complete:e[r+2]},fx(a._query)}return(function(y,A,R,k){const Y=new $R(k),te=new DR(A,Y,R);return y.asyncQueue.enqueueAndForget((async()=>xR(await ev(y),te))),()=>{Y.Nu(),y.asyncQueue.enqueueAndForget((async()=>CR(await ev(y),te)))}})(uT(d),g,o,c)}function rp(a,e){return(function(r,o){const c=new qr;return r.asyncQueue.enqueueAndForget((async()=>qR(await WR(r),o,c))),c.promise})(uT(a),e)}function Ex(a,e,i){const r=i.docs.get(e._key),o=new _T(a);return new Br(a,o,e._key,r,new To(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){al=o})(rl),Xa(new Fr("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new nl(new rw(r.getProvider("auth-internal")),new ow(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new re(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Xs(c0,h0,e),Xs(c0,h0,"esm2020")})();function vT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tx=vT,ET=new Lo("auth","Firebase",vT());const Jc=new Em("@firebase/auth");function bx(a,...e){Jc.logLevel<=Me.WARN&&Jc.warn(`Auth (${rl}): ${a}`,...e)}function kc(a,...e){Jc.logLevel<=Me.ERROR&&Jc.error(`Auth (${rl}): ${a}`,...e)}function Mi(a,...e){throw lp(a,...e)}function ni(a,...e){return lp(a,...e)}function ap(a,e,i){const r={...Tx(),[e]:i};return new Lo("auth","Firebase",r).create(e,{appName:a.name})}function Hr(a){return ap(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ax(a,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mi(a,"argument-error"),ap(a,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(a,...e){if(typeof a!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return ET.create(a,...e)}function Ee(a,e,...i){if(!a)throw lp(e,...i)}function ns(a){const e="INTERNAL ASSERTION FAILED: "+a;throw kc(e),new Error(e)}function ls(a,e){a||ns(e)}function gm(){return typeof self<"u"&&self.location?.href||""}function Sx(){return fv()==="http:"||fv()==="https:"}function fv(){return typeof self<"u"&&self.location?.protocol||null}function wx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sx()||MA()||"connection"in navigator)?navigator.onLine:!0}function Rx(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Fo{constructor(e,i){this.shortDelay=e,this.longDelay=i,ls(i>e,"Short delay should be less than long delay!"),this.isMobile=DA()||kA()}get(){return wx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function op(a,e){ls(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class TT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Cx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ix=new Fo(3e4,6e4);function up(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function hl(a,e,i,r,o={}){return bT(a,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=jo({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:_,...c};return VA()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&sl(a.emulatorConfig.host)&&(y.credentials="include"),TT.fetch()(await AT(a,a.config.apiHost,i,g),y)})}async function bT(a,e,i){a._canInitEmulator=!1;const r={...xx,...e};try{const o=new Dx(a),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Cc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Cc(a,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ap(a,A,y);Mi(a,A)}}catch(o){if(o instanceof os)throw o;Mi(a,"network-request-failed",{message:String(o)})}}async function Nx(a,e,i,r,o={}){const c=await hl(a,e,i,r,o);return"mfaPendingCredential"in c&&Mi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function AT(a,e,i,r){const o=`${e}${i}?${r}`,c=a,d=c.config.emulator?op(a.config,o):`${a.config.apiScheme}://${o}`;return Cx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Dx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),Ix.get())})}}function Cc(a,e,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=ni(a,e,r);return o.customData._tokenResponse=i,o}async function Ox(a,e){return hl(a,"POST","/v1/accounts:delete",e)}async function Wc(a,e){return hl(a,"POST","/v1/accounts:lookup",e)}function xo(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vx(a,e=!1){const i=Kt(a),r=await i.getIdToken(e),o=cp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:xo(Hd(o.auth_time)),issuedAtTime:xo(Hd(o.iat)),expirationTime:xo(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(a){return Number(a)*1e3}function cp(a){const[e,i,r]=a.split(".");if(e===void 0||i===void 0||r===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vv(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function dv(a){const e=cp(a);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Uo(a,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof os&&Mx(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function Mx({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class kx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xo(this.lastLoginAt),this.creationTime=xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(a){const e=a.auth,i=await a.getIdToken(),r=await Uo(a,Wc(e,{idToken:i}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const c=o.providerUserInfo?.length?ST(o.providerUserInfo):[],d=Lx(a.providerData,c),g=a.isAnonymous,_=!(a.email&&o.passwordHash)&&!d?.length,y=g?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(a,A)}async function Ux(a){const e=Kt(a);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lx(a,e){return[...a.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function ST(a){return a.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function jx(a,e){const i=await bT(a,{},async()=>{const r=jo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,d=await AT(a,o,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return a.emulatorConfig&&sl(a.emulatorConfig.host)&&(_.credentials="include"),TT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Px(a,e){return hl(a,"POST","/v2/accounts:revokeToken",up(a,e))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const i=dv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await jx(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new Qa;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return ns("not implemented")}}function Bs(a,e){Ee(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new kx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Vx(this,e)}reload(){return Ux(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await Uo(this,Ox(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:R,emailVerified:k,isAnonymous:Y,providerData:te,stsTokenManager:se}=i;Ee(R&&se,e,"internal-error");const W=Qa.fromJSON(this.name,se);Ee(typeof R=="string",e,"internal-error"),Bs(r,e.name),Bs(o,e.name),Ee(typeof k=="boolean",e,"internal-error"),Ee(typeof Y=="boolean",e,"internal-error"),Bs(c,e.name),Bs(d,e.name),Bs(g,e.name),Bs(_,e.name),Bs(y,e.name),Bs(A,e.name);const ge=new ei({uid:R,auth:e,email:o,emailVerified:k,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:A});return te&&Array.isArray(te)&&(ge.providerData=te.map(be=>({...be}))),_&&(ge._redirectEventId=_),ge}static async _fromIdTokenResponse(e,i,r=!1){const o=new Qa;o.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await eh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?ST(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Qa;g.updateFromIdToken(r);const _=new ei({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const mv=new Map;function is(a){ls(a instanceof Function,"Expected a class definition");let e=mv.get(a);return e?(ls(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,mv.set(a,e),e)}class wT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}wT.type="NONE";const pv=wT;function Uc(a,e,i){return`firebase:${a}:${e}:${i}`}class Ya{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Wc(this.auth,{idToken:e}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new Ya(is(pv),e,r);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||is(pv);const d=Uc(r,e.config.apiKey,e.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let R;if(typeof A=="string"){const k=await Wc(e,{idToken:A}).catch(()=>{});if(!k)break;R=await ei._fromGetAccountInfoResponse(e,k,A)}else R=ei._fromJSON(e,A);y!==c&&(g=R),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ya(c,e,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ya(c,e,r))}}function gv(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DT(e))return"Blackberry";if(OT(e))return"Webos";if(xT(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(NT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function RT(a=en()){return/firefox\//i.test(a)}function xT(a=en()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(a=en()){return/crios\//i.test(a)}function IT(a=en()){return/iemobile/i.test(a)}function NT(a=en()){return/android/i.test(a)}function DT(a=en()){return/blackberry/i.test(a)}function OT(a=en()){return/webos/i.test(a)}function hp(a=en()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function zx(a=en()){return hp(a)&&!!window.navigator?.standalone}function qx(){return UA()&&document.documentMode===10}function VT(a=en()){return hp(a)||NT(a)||OT(a)||DT(a)||/windows phone/i.test(a)||IT(a)}function MT(a,e=[]){let i;switch(a){case"Browser":i=gv(en());break;case"Worker":i=`${gv(en())}-${a}`;break;default:i=a}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${rl}/${r}`}class Bx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Hx(a,e={}){return hl(a,"GET","/v2/passwordPolicy",up(a,e))}const Gx=6;class Fx{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Gx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Qx{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new Bx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ET,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Wc(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Hr(this));const i=e?Kt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hx(this),i=new Fx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Px(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&is(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Eh(a){return Kt(a)}class yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=GA(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yx(a){fp=a}function Kx(a){return fp.loadJS(a)}function Xx(){return fp.gapiScript}function $x(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function Zx(a,e){const i=bm(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Gr(c,e??{}))return o;Mi(o,"already-initialized")}return i.initialize({options:e})}function Jx(a,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(is);e?.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(r,e?.popupRedirectResolver)}function Wx(a,e,i){const r=Eh(a);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=kT(e),{host:d,port:g}=eC(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Gr(y,r.config.emulator)&&Gr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,sl(d)?(Lv(`${c}//${d}${_}`),jv("Auth",!0)):tC()}function kT(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function eC(a){const e=kT(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:_v(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:_v(d)}}}function _v(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function tC(){function a(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class UT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,i){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function Ka(a,e){return Nx(a,"POST","/v1/accounts:signInWithIdp",up(a,e))}const nC="http://localhost";class Kr extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Kr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Mi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new Kr(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ka(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ka(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ka(e,i)}buildRequest(){const e={requestUri:nC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=jo(i)}return e}}class dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qo extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hs extends Qo{constructor(){super("facebook.com")}static credential(e){return Kr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class ts extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Kr._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return ts.credential(i,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class Gs extends Qo{constructor(){super("github.com")}static credential(e){return Kr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Fs extends Qo{constructor(){super("twitter.com")}static credential(e,i){return Kr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Fs.credential(i,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";class il{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await ei._fromIdTokenResponse(e,r,o),d=vv(r);return new il({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=vv(r);return new il({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function vv(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class th extends os{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new th(e,i,r,o)}}function LT(a,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(a,c,e,r):c})}async function iC(a,e,i=!1){const r=await Uo(a,e._linkToIdToken(a.auth,await a.getIdToken()),i);return il._forOperation(a,"link",r)}async function sC(a,e,i=!1){const{auth:r}=a;if(Wn(r.app))return Promise.reject(Hr(r));const o="reauthenticate";try{const c=await Uo(a,LT(r,o,e,a),i);Ee(c.idToken,r,"internal-error");const d=cp(c.idToken);Ee(d,r,"internal-error");const{sub:g}=d;return Ee(a.uid===g,r,"user-mismatch"),il._forOperation(a,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Mi(r,"user-mismatch"),c}}async function rC(a,e,i=!1){if(Wn(a.app))return Promise.reject(Hr(a));const r="signIn",o=await LT(a,r,e),c=await il._fromIdTokenResponse(a,r,o);return i||await a._updateCurrentUser(c.user),c}function aC(a,e,i,r){return Kt(a).onIdTokenChanged(e,i,r)}function lC(a,e,i){return Kt(a).beforeAuthStateChanged(e,i)}function Ev(a){return Kt(a).signOut()}const nh="__sak";class jT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oC=1e3,uC=10;class PT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);qx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uC):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const cC=PT;class zT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}zT.type="SESSION";const qT=zT;function hC(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await hC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function mp(a="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return a+i}class fC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=mp("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(R){const k=R;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(k.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Oi(){return window}function dC(a){Oi().location.href=a}function BT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function mC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pC(){return navigator?.serviceWorker?.controller||null}function gC(){return BT()?self:null}const HT="firebaseLocalStorageDb",yC=1,ih="firebaseLocalStorage",GT="fbase_key";class Yo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(a,e){return a.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function _C(){const a=indexedDB.deleteDatabase(HT);return new Yo(a).toPromise()}function _m(){const a=indexedDB.open(HT,yC);return new Promise((e,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(ih,{keyPath:GT})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(ih)?e(r):(r.close(),await _C(),e(await _m()))})})}async function Tv(a,e,i){const r=bh(a,!0).put({[GT]:e,value:i});return new Yo(r).toPromise()}async function vC(a,e){const i=bh(a,!1).get(e),r=await new Yo(i).toPromise();return r===void 0?null:r.value}function bv(a,e){const i=bh(a,!0).delete(e);return new Yo(i).toPromise()}const EC=800,TC=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>TC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(gC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mC(),!this.activeServiceWorker)return;this.sender=new fC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await Tv(e,nh,"1"),await bv(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>vC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>bv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=bh(o,!1).getAll();return new Yo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const bC=FT;new Fo(3e4,6e4);function QT(a,e){return e?is(e):(Ee(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class pp extends UT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ka(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function AC(a){return rC(a.auth,new pp(a),a.bypassAuthState)}function SC(a){const{auth:e,user:i}=a;return Ee(i,e,"internal-error"),sC(i,new pp(a),a.bypassAuthState)}async function wC(a){const{auth:e,user:i}=a;return Ee(i,e,"internal-error"),iC(i,new pp(a),a.bypassAuthState)}class YT{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AC;case"linkViaPopup":case"linkViaRedirect":return wC;case"reauthViaPopup":case"reauthViaRedirect":return SC;default:Mi(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RC=new Fo(2e3,1e4);async function xC(a,e,i){if(Wn(a.app))return Promise.reject(ni(a,"operation-not-supported-in-this-environment"));const r=Eh(a);Ax(a,e,dp);const o=QT(r,i);return new zr(r,"signInViaPopup",e,o).executeNotNull()}class zr extends YT{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RC.get())};e()}}zr.currentPopupAction=null;const CC="pendingRedirect",Lc=new Map;class IC extends YT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const r=await NC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NC(a,e){const i=VC(e),r=OC(a);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function DC(a,e){Lc.set(a._key(),e)}function OC(a){return is(a._redirectPersistence)}function VC(a){return Uc(CC,a.config.apiKey,a.name)}async function MC(a,e,i=!1){if(Wn(a.app))return Promise.reject(Hr(a));const r=Eh(a),o=QT(r,e),d=await new IC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const kC=600*1e3;class UC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!KT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(ni(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(e))}saveEventToCache(e){this.cachedEventUids.add(Av(e)),this.lastProcessedEventTime=Date.now()}}function Av(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function KT({type:a,error:e}){return a==="unknown"&&e?.code==="auth/no-auth-event"}function LC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KT(a);default:return!1}}async function jC(a,e={}){return hl(a,"GET","/v1/projects",e)}const PC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zC=/^https?/;async function qC(a){if(a.config.emulator)return;const{authorizedDomains:e}=await jC(a);for(const i of e)try{if(BC(i))return}catch{}Mi(a,"unauthorized-domain")}function BC(a){const e=gm(),{protocol:i,hostname:r}=new URL(e);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!zC.test(i))return!1;if(PC.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const HC=new Fo(3e4,6e4);function Sv(){const a=Oi().___jsl;if(a?.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function GC(a){return new Promise((e,i)=>{function r(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),i(ni(a,"network-request-failed"))},timeout:HC.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const o=$x("iframefcb");return Oi()[o]=()=>{gapi.load?r():i(ni(a,"network-request-failed"))},Kx(`${Xx()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw jc=null,e})}let jc=null;function FC(a){return jc=jc||GC(a),jc}const QC=new Fo(5e3,15e3),YC="__/auth/iframe",KC="emulator/auth/iframe",XC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZC(a){const e=a.config;Ee(e.authDomain,a,"auth-domain-config-required");const i=e.emulator?op(e,KC):`https://${a.config.authDomain}/${YC}`,r={apiKey:e.apiKey,appName:a.name,v:rl},o=$C.get(a.config.apiHost);o&&(r.eid=o);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${jo(r).slice(1)}`}async function JC(a){const e=await FC(a),i=Oi().gapi;return Ee(i,a,"internal-error"),e.open({where:document.body,url:ZC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=ni(a,"network-request-failed"),g=Oi().setTimeout(()=>{c(d)},QC.get());function _(){Oi().clearTimeout(g),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const WC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eI=500,tI=600,nI="_blank",iI="http://localhost";class wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sI(a,e,i,r=eI,o=tI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...WC,width:r.toString(),height:o.toString(),top:c,left:d},y=en().toLowerCase();i&&(g=CT(y)?nI:i),RT(y)&&(e=e||iI,_.scrollbars="yes");const A=Object.entries(_).reduce((k,[Y,te])=>`${k}${Y}=${te},`,"");if(zx(y)&&g!=="_self")return rI(e||"",g),new wv(null);const R=window.open(e||"",g,A);Ee(R,a,"popup-blocked");try{R.focus()}catch{}return new wv(R)}function rI(a,e){const i=document.createElement("a");i.href=a,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const aI="__/auth/handler",lI="emulator/auth/handler",oI=encodeURIComponent("fac");async function Rv(a,e,i,r,o,c){Ee(a.config.authDomain,a,"auth-domain-config-required"),Ee(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:rl,eventId:o};if(e instanceof dp){e.setDefaultLanguage(a.languageCode),d.providerId=e.providerId||"",HA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,R]of Object.entries({}))d[A]=R}if(e instanceof Qo){const A=e.getScopes().filter(R=>R!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await a._getAppCheckToken(),y=_?`#${oI}=${encodeURIComponent(_)}`:"";return`${uI(a)}?${jo(g).slice(1)}${y}`}function uI({config:a}){return a.emulator?op(a,lI):`https://${a.authDomain}/${aI}`}const Gd="webStorageSupport";class cI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=MC,this._overrideRedirectResult=DC}async _openPopup(e,i,r,o){ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Rv(e,i,r,gm(),o);return sI(e,c,mp())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Rv(e,i,r,gm(),o);return dC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ls(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await JC(e),r=new UC(e);return i.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},o=>{const c=o?.[0]?.[Gd];c!==void 0&&i(!!c),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=qC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return VT()||xT()||hp()}}const hI=cI;var xv="@firebase/auth",Cv="1.11.1";class fI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dI(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mI(a){Xa(new Fr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Ee(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(a)},y=new Qx(r,o,c,_);return Jx(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Xa(new Fr("auth-internal",e=>{const i=Eh(e.getProvider("auth").getImmediate());return(r=>new fI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(xv,Cv,dI(a)),Xs(xv,Cv,"esm2020")}const pI=300,gI=Uv("authIdTokenMaxAge")||pI;let Iv=null;const yI=a=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>gI)return;const o=i?.token;Iv!==o&&(Iv=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _I(a=Bv()){const e=bm(a,"auth");if(e.isInitialized())return e.getImmediate();const i=Zx(a,{popupRedirectResolver:hI,persistence:[bC,cC,qT]}),r=Uv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=yI(c.toString());lC(i,d,()=>d(i.currentUser)),aC(i,g=>d(g))}}const o=Mv("auth");return o&&Wx(i,`http://${o}`),i}function vI(){return document.getElementsByTagName("head")?.[0]??document}Yx({loadJS(a){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=e,r.onerror=o=>{const c=ni("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",vI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mI("Browser");const EI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},XT=qv(EI),yo=tx(XT),Fd=_I(XT),TI=new ts,bI="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",nt={FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue"},Pa=a=>`salpointe_draft_${a}`,AI=()=>{const[a,e]=ct.useState("home"),[i,r]=ct.useState(!1),[o,c]=ct.useState(null),[d,g]=ct.useState(!1),_=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","erivers@salpointe.org"],y=()=>{e("home"),r(!1)},A=["home",nt.FILM,nt.GRAPHIC,nt.BUSINESS,nt.CULINARY,nt.PHOTO].includes(a);return E.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-slate-800",children:[E.jsx("header",{className:"bg-red-900 text-white shadow-lg sticky top-0 z-50",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3",children:[E.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:y,children:[E.jsx("img",{src:bI,alt:"Salpointe Catholic Logo",className:"w-9 h-9 md:w-10 md:h-10 object-contain group-hover:scale-105 transition-transform"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-lg md:text-xl font-bold tracking-wide leading-tight",children:"Salpointe Catholic"}),E.jsx("p",{className:"text-[10px] md:text-xs text-red-200 uppercase tracking-wider",children:"CTE Request Hub"})]})]}),E.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[E.jsxs("button",{onClick:y,className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${A?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(Dd,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"New Request"})]}),E.jsxs("button",{onClick:()=>{e(nt.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${a===nt.CALENDAR?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(Nd,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),E.jsxs("button",{onClick:()=>{e(nt.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${a===nt.QUEUE?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[E.jsx(K_,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Queue"})]})]})]})}),E.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:i?E.jsx(R,{onReset:y}):E.jsxs(E.Fragment,{children:[a==="home"&&E.jsx(k,{onViewChange:e}),a===nt.FILM&&E.jsx(ge,{setSubmitted:r}),a===nt.GRAPHIC&&E.jsx(be,{setSubmitted:r}),a===nt.BUSINESS&&E.jsx(_e,{setSubmitted:r}),a===nt.CULINARY&&E.jsx(Ge,{setSubmitted:r}),a===nt.PHOTO&&E.jsx(et,{setSubmitted:r}),a===nt.CALENDAR&&E.jsx(te,{}),a===nt.QUEUE&&E.jsx(se,{adminMode:d,setAdminMode:g,setAdminUser:c,ALLOWED_ADMINS:_})]})}),E.jsxs("footer",{className:"text-center text-slate-400 text-xs md:text-sm py-8 px-4",children:[" ",new Date().getFullYear()," Salpointe Catholic High School CTE Department"]})]});function R({onReset:ue}){return E.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded-xl shadow-md p-6 md:p-8 text-center animate-fade-in-up mt-8 md:mt-16",children:[E.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600",children:E.jsx($1,{size:32,className:"md:w-10 md:h-10"})}),E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mb-2",children:"Request Received!"}),E.jsx("p",{className:"text-slate-600 mb-8 text-sm md:text-base",children:"Your request has been saved to the database. You can track its status in the Queue."}),E.jsx("button",{onClick:ue,className:"bg-red-900 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg hover:shadow-xl w-full text-sm md:text-base",children:"Submit Another Request"})]})}function k({onViewChange:ue}){const x=[{id:nt.FILM,title:"Film & TV",icon:$_,desc:"Checkout equipment (cameras, drones) or request event recording/broadcasting.",color:"bg-blue-50 text-blue-700 border-blue-200"},{id:nt.GRAPHIC,title:"Graphic Design",icon:Dd,desc:"Request creative assets like logos, posters, flyers, or website designs.",color:"bg-purple-50 text-purple-700 border-purple-200"},{id:nt.BUSINESS,title:"Business",icon:Id,desc:"Submit business plans for review or request consultation for student startups.",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{id:nt.CULINARY,title:"Culinary Arts",icon:X_,desc:"Request catering services for school clubs, faculty meetings, or special events.",color:"bg-orange-50 text-orange-700 border-orange-200"},{id:nt.PHOTO,title:"Photography",icon:Y_,desc:"Reserve cameras/lenses or request a photographer for your event.",color:"bg-pink-50 text-pink-700 border-pink-200"}];return E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[E.jsxs("div",{className:"col-span-full mb-2 md:mb-4",children:[E.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:"Welcome, Lancer."}),E.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Select a department below to start your request."})]}),x.map(w=>E.jsxs("div",{onClick:()=>ue(w.id),className:"group bg-white rounded-xl shadow-sm hover:shadow-md border border-slate-200 p-5 md:p-6 cursor-pointer transition-all hover:-translate-y-1 flex flex-col h-full active:scale-95 md:active:scale-100",children:[E.jsx("div",{className:`w-12 h-12 rounded-lg ${w.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:E.jsx(w.icon,{size:24})}),E.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:w.title}),E.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:w.desc})]},w.id))]})}function Y({initialData:ue={}}){return E.jsxs("div",{className:"bg-slate-50 p-5 md:p-6 rounded-lg border border-slate-200 mb-6",children:[E.jsxs("h3",{className:"text-base md:text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[E.jsx(fA,{size:18})," Contact Information"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Full Name"}),E.jsx("input",{name:"fullName",type:"text",defaultValue:ue.fullName||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"Jane Doe",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Salpointe Email"}),E.jsx("input",{name:"email",type:"email",defaultValue:ue.email||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"jdoe@salpointe.org",required:!0})]}),E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Role"}),E.jsxs("select",{name:"role",defaultValue:ue.role||"Student",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm bg-white",children:[E.jsx("option",{children:"Student"}),E.jsx("option",{children:"Faculty / Staff"}),E.jsx("option",{children:"Club Representative"})]})]})]})]})}function te(){const ue=new Date,[x,w]=ct.useState(null),[S,D]=ct.useState("all"),[N,M]=ct.useState([]),[C,qe]=ct.useState(!0);ct.useEffect(()=>{const Q=ov(Bd(yo,"requests")),F=hv(Q,ae=>{const he=ae.docs.map(me=>{const Ie=me.data();let Qe=Ie.eventDate||Ie.checkoutDate||Ie.pickupDate||Ie.deadline;if(!Qe)return null;const[zn,si,rn]=Qe.split("-").map(Number),ri=new Date(zn,si-1,rn);return{id:me.id,title:Ie.title||"Request",dept:Ie.dept,type:Ie.requestType==="checkout"||Ie.dept==="Graphic"?"checkout":"event",status:Ie.status,date:ri,...Ie}}).filter(me=>me!==null&&me.status==="Approved");M(he),qe(!1)});return()=>F()},[]);const st=Q=>{const F=Q.getFullYear(),ae=Q.getMonth(),he=new Date(F,ae+1,0).getDate(),me=new Date(F,ae,1).getDay();return{days:he,firstDay:me,monthName:Q.toLocaleString("default",{month:"long"}),year:F}},{days:q,firstDay:ee,monthName:ie}=st(ue),pe=Array.from({length:q},(Q,F)=>F+1),Ce=Array.from({length:ee},(Q,F)=>F),O=Q=>N.filter(F=>F.date.getDate()===Q&&F.date.getMonth()===ue.getMonth()&&(S==="all"||F.dept===S)),K=Q=>{const F="https://calendar.google.com/calendar/render?action=TEMPLATE",ae=`&text=${encodeURIComponent(`[${Q.dept}] ${Q.title}`)}`,he=`&details=${encodeURIComponent(`Requested by: ${Q.fullName}
Role: ${Q.role}
Details: ${Q.details||Q.brief||Q.description||"N/A"}`)}`,me=`&location=${encodeURIComponent(Q.location||"Salpointe Catholic High School")}`,Ie=Q.date.getFullYear(),Qe=String(Q.date.getMonth()+1).padStart(2,"0"),zn=String(Q.date.getDate()).padStart(2,"0"),si=`${Ie}${Qe}${zn}`,rn=new Date(Q.date);rn.setDate(rn.getDate()+1);const ri=rn.getFullYear(),wn=String(rn.getMonth()+1).padStart(2,"0"),lr=String(rn.getDate()).padStart(2,"0"),ki=`${ri}${wn}${lr}`,or=`&dates=${si}/${ki}`;return`${F}${ae}${or}${he}${me}`};return E.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[E.jsxs("div",{className:"bg-red-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[E.jsx(Nd,{className:"text-amber-400",size:24})," Master Schedule"]}),E.jsx("p",{className:"text-red-200 text-sm",children:"Approved requests and checkouts"})]}),E.jsxs("div",{className:"flex bg-red-800 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:[E.jsx("button",{onClick:()=>D("all"),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${S==="all"?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"All"}),E.jsx("button",{onClick:()=>D(nt.FILM),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${S===nt.FILM?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Film"}),E.jsx("button",{onClick:()=>D(nt.PHOTO),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${S===nt.PHOTO?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Photo"}),E.jsx("button",{onClick:()=>D(nt.CULINARY),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap ${S===nt.CULINARY?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:"Culinary"})]})]}),E.jsxs("div",{className:"p-4 md:p-6",children:[E.jsx("div",{className:"overflow-x-auto pb-2",children:C?E.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading schedule..."}):E.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Q=>E.jsx("div",{className:"bg-slate-50 p-2 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider",children:Q},Q)),Ce.map(Q=>E.jsx("div",{className:"bg-white min-h-[80px] md:min-h-[100px]"},`empty-${Q}`)),pe.map(Q=>{const F=O(Q),ae=Q===ue.getDate(),he=x===Q;return E.jsxs("div",{className:`bg-white min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-100 relative group cursor-pointer transition-colors ${he?"bg-red-50":"hover:bg-slate-50"}`,onClick:()=>w(he?null:Q),children:[E.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${ae?"bg-red-900 text-white":"text-slate-700"}`,children:Q}),E.jsx("div",{className:"space-y-1",children:F.map(me=>E.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${me.type==="checkout"?"bg-blue-50 border-blue-100 text-blue-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:me.title},me.id))})]},Q)})]})}),x&&E.jsxs("div",{className:"mt-4 md:mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200 animate-fade-in",children:[E.jsxs("h4",{className:"font-bold text-slate-800 mb-3",children:["Events for ",ie," ",x]}),O(x).length===0?E.jsx("p",{className:"text-slate-500 text-sm",children:"No approved events for this day."}):E.jsx("div",{className:"space-y-3",children:O(x).map(Q=>E.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 bg-white p-3 rounded border border-slate-200 shadow-sm",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:`mt-1 p-2 rounded-full flex-shrink-0 ${Q.type==="checkout"?"bg-blue-100 text-blue-600":"bg-emerald-100 text-emerald-600"}`,children:Q.type==="checkout"?E.jsx(Cd,{size:14}):E.jsx(Nd,{size:14})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-slate-800 text-sm",children:Q.title}),E.jsxs("p",{className:"text-xs text-slate-500 uppercase tracking-wide",children:[Q.dept," Dept  ",Q.fullName]})]})]}),E.jsxs("a",{href:K(Q),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 text-xs font-medium px-3 py-2 rounded-lg transition-colors",children:[E.jsx(G1,{size:14}),E.jsx("span",{className:"hidden sm:inline",children:"Add to Google Calendar"}),E.jsx("span",{className:"sm:hidden",children:"Add"})]})]},Q.id))})]})]})]})}function se({adminMode:ue,setAdminMode:x,setAdminUser:w,ALLOWED_ADMINS:S}){const[D,N]=ct.useState([]),[M,C]=ct.useState("all"),[qe,st]=ct.useState(!0),[q,ee]=ct.useState(null);ct.useEffect(()=>{const F=ov(Bd(yo,"requests"),dx("createdAt","desc")),ae=hv(F,he=>{const me=he.docs.map(Ie=>({id:Ie.id,...Ie.data(),formattedDate:Ie.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));N(me),st(!1)});return()=>ae()},[]);const ie=async(F,ae)=>{const he=mm(yo,"requests",F);await yx(he,{status:ae}),q&&q.id===F&&ee(me=>({...me,status:ae}))},pe=async F=>{window.confirm("Are you sure you want to delete this request?")&&(await _x(mm(yo,"requests",F)),q&&q.id===F&&ee(null))},Ce=async()=>{try{const F=await xC(Fd,TI),ae=F.user.email;S.includes(ae)?(x(!0),w(F.user)):(alert(`Access Denied. The email "${ae}" is not authorized as an administrator.`),await Ev(Fd))}catch(F){console.error("Login failed:",F),alert("Login failed. Please try again.")}},O=async()=>{await Ev(Fd),x(!1),w(null)},K=M==="all"?D:D.filter(F=>F.dept?.toLowerCase().includes(M.toLowerCase())),Q=F=>{switch(F){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return E.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden relative",children:[q&&E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[E.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start sticky top-0 bg-white z-10",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Request Details"}),E.jsxs("p",{className:"text-xs text-slate-400 font-mono mt-1",children:["ID: ",q.id]})]}),E.jsx("button",{onClick:()=>ee(null),className:"text-slate-400 hover:text-slate-600 transition-colors bg-slate-100 p-2 rounded-full",children:E.jsx(Z_,{size:20})})]}),E.jsxs("div",{className:"p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Department"}),E.jsx("p",{className:"font-semibold text-slate-800 text-lg capitalize",children:q.dept})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Status"}),E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide inline-block ${Q(q.status)}`,children:q.status})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Submitted By"}),E.jsx("p",{className:"text-slate-800",children:q.fullName}),E.jsx("p",{className:"text-slate-500 text-xs",children:q.role})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Contact"}),E.jsx("p",{className:"text-slate-800",children:q.email})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:"Date Submitted"}),E.jsx("p",{className:"text-slate-800",children:q.formattedDate})]})]}),E.jsx("hr",{className:"border-slate-100"}),E.jsxs("div",{children:[E.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[E.jsx(Id,{size:18,className:"text-slate-400"})," Project / Event Information"]}),E.jsx("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 border border-slate-100",children:Object.entries(q).map(([F,ae])=>{if(["id","dept","status","fullName","email","role","formattedDate","createdAt","title"].includes(F))return null;const he=F.replace(/([A-Z])/g," $1").trim();return Array.isArray(ae)?E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:he}),E.jsx("ul",{className:"list-disc list-inside text-slate-700 text-sm bg-white p-2 rounded border border-slate-200",children:ae.map((me,Ie)=>E.jsx("li",{children:me},Ie))})]},F):E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:he}),E.jsx("p",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:ae?ae.toString():"N/A"})]},F)})})]}),ue&&E.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[E.jsx("h4",{className:"font-bold text-indigo-900 mb-2 text-sm",children:"Admin Actions"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>ie(q.id,"Approved"),className:"flex-1 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-medium text-sm",children:"Approve"}),E.jsx("button",{onClick:()=>ie(q.id,"Denied"),className:"flex-1 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-medium text-sm",children:"Deny"}),E.jsx("button",{onClick:()=>ie(q.id,"Completed"),className:"flex-1 py-2 bg-slate-600 text-white rounded hover:bg-slate-700 font-medium text-sm",children:"Mark Complete"})]})]})]}),E.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50 flex justify-end rounded-b-xl",children:E.jsx("button",{onClick:()=>ee(null),className:"bg-white border border-slate-300 text-slate-700 px-6 py-2 rounded-lg font-medium hover:bg-slate-50 transition-colors",children:"Close"})})]})}),E.jsxs("div",{className:"bg-indigo-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[E.jsx(K_,{className:"text-indigo-300"})," Request Status Queue"]}),E.jsx("p",{className:"text-indigo-200 text-sm",children:"Real-time updates from database."})]}),E.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[ue?E.jsxs("button",{onClick:O,className:"flex items-center gap-2 p-2 text-red-200 hover:text-white transition-colors bg-red-950/30 rounded-lg px-3",title:"Log Out",children:[E.jsx(rA,{size:16})," ",E.jsx("span",{className:"text-xs font-bold uppercase",children:"Admin Logout"})]}):E.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 p-2 text-indigo-300 hover:text-white transition-colors",title:"Admin Login",children:[E.jsx(iA,{size:18})," ",E.jsx("span",{className:"text-xs",children:"Staff Login"})]}),E.jsxs("select",{className:"flex-1 md:w-auto bg-indigo-800 text-white border border-indigo-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",value:M,onChange:F=>C(F.target.value),children:[E.jsx("option",{value:"all",children:"All Departments"}),E.jsx("option",{value:"film",children:"Film"}),E.jsx("option",{value:"graphic",children:"Graphic"}),E.jsx("option",{value:"business",children:"Business"}),E.jsx("option",{value:"culinary",children:"Culinary"}),E.jsx("option",{value:"photo",children:"Photo"})]})]})]}),E.jsxs("div",{className:"overflow-x-auto",children:[qe?E.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading requests..."}):E.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs uppercase tracking-wider text-slate-500 font-semibold",children:[E.jsx("th",{className:"p-4",children:"Department"}),E.jsx("th",{className:"p-4",children:"Request Details"}),E.jsx("th",{className:"p-4",children:"Requester"}),E.jsx("th",{className:"p-4",children:"Submitted"}),E.jsx("th",{className:"p-4",children:"Status"}),E.jsx("th",{className:"p-4",children:"Action"}),ue&&E.jsx("th",{className:"p-4",children:"Admin"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:K.map(F=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[E.jsx("td",{className:"p-4 text-slate-700 font-medium text-sm capitalize",children:F.dept}),E.jsx("td",{className:"p-4 text-slate-800 font-semibold text-sm md:text-base",children:F.title||F.eventName||F.projectType||"General Request"}),E.jsx("td",{className:"p-4 text-slate-600 text-sm",children:F.fullName}),E.jsx("td",{className:"p-4 text-slate-500 text-sm",children:E.jsxs("div",{className:"flex items-center gap-2 w-max",children:[E.jsx(W1,{size:14})," ",F.formattedDate]})}),E.jsx("td",{className:"p-4",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide whitespace-nowrap ${Q(F.status)}`,children:F.status})}),E.jsx("td",{className:"p-4",children:E.jsx("button",{onClick:()=>ee(F),className:"text-slate-400 hover:text-indigo-600 transition-colors p-2 rounded-full hover:bg-indigo-50",title:"View Details",children:E.jsx(tA,{size:20})})}),ue&&E.jsxs("td",{className:"p-4 flex gap-2",children:[E.jsx("button",{onClick:()=>ie(F.id,"Approved"),className:"p-1 bg-green-100 text-green-700 rounded hover:bg-green-200",title:"Approve",children:E.jsx(K1,{size:16})}),E.jsx("button",{onClick:()=>ie(F.id,"Denied"),className:"p-1 bg-red-100 text-red-700 rounded hover:bg-red-200",title:"Deny",children:E.jsx(Z_,{size:16})}),E.jsx("button",{onClick:()=>pe(F.id),className:"p-1 bg-slate-100 text-slate-700 rounded hover:bg-slate-200",title:"Delete",children:E.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},F.id))})]}),!qe&&K.length===0&&E.jsx("div",{className:"p-8 text-center text-slate-500",children:"No pending requests found."})]})]})}function W({title:ue,icon:x,colorClass:w,children:S,setSubmitted:D,initialData:N={}}){const M=ct.useRef(null),C=Pa(ue),qe=q=>{q.preventDefault();const ee=new FormData(M.current),ie={};for(const[pe,Ce]of ee.entries())ie[pe]?(Array.isArray(ie[pe])||(ie[pe]=[ie[pe]]),ie[pe].push(Ce)):ie[pe]=Ce;localStorage.setItem(C,JSON.stringify(ie)),alert("Draft saved! You can resume this form later on this device.")},st=async q=>{q.preventDefault();const ee=new FormData(q.target),ie={};for(const[pe,Ce]of ee.entries())ie[pe]?(Array.isArray(ie[pe])||(ie[pe]=[ie[pe]]),ie[pe].push(Ce)):ie[pe]=Ce;try{await vx(Bd(yo,"requests"),{...ie,dept:ue,status:"Pending Review",createdAt:new Date,title:ie.eventName||ie.projectType||ie.businessName||"New Request"}),localStorage.removeItem(C),D(!0)}catch(pe){console.error("Error adding document: ",pe),alert("Error submitting request. See console.")}};return E.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden",children:[E.jsx("div",{className:`h-2 ${w}`}),E.jsxs("div",{className:"p-5 md:p-8",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6 md:mb-8 pb-4 border-b border-slate-100",children:[E.jsx("div",{className:`p-3 rounded-lg ${w} bg-opacity-10 text-opacity-100`,children:E.jsx(x,{size:24,className:`md:w-7 md:h-7 ${w.replace("bg-","text-")}`})}),E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:[ue," Request"]}),E.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Please fill out all details accurately."})]})]}),E.jsxs("form",{ref:M,onSubmit:st,children:[E.jsx(Y,{initialData:N}),S,E.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[E.jsxs("button",{type:"button",onClick:qe,className:"flex items-center gap-2 bg-white border border-slate-300 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors",children:[E.jsx(cA,{size:18})," Save Draft"]}),E.jsx("button",{type:"submit",className:"w-full md:w-auto bg-red-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg active:scale-95 md:active:scale-100",children:"Submit Request"})]})]})]})]})}function ge({setSubmitted:ue}){const x="Film",w=Pa(x),S=JSON.parse(localStorage.getItem(w)||"{}"),[D,N]=ct.useState(S.requestType||"checkout");return E.jsxs(W,{title:x,icon:$_,colorClass:"bg-blue-600",setSubmitted:ue,initialData:S,children:[E.jsx("input",{type:"hidden",name:"requestType",value:D}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("button",{type:"button",onClick:()=>N("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${D==="checkout"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[E.jsx(Cd,{className:"mx-auto mb-2"})," Equipment Checkout"]}),E.jsxs("button",{type:"button",onClick:()=>N("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${D==="service"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[E.jsx(lA,{className:"mx-auto mb-2"})," Broadcasting/Recording Team"]})]})]}),D==="checkout"?E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100 text-sm text-blue-800 mb-4",children:[E.jsx("strong",{children:"Note:"})," Equipment must be returned by 8:00 AM the following school day."]}),E.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Select Equipment Needed: ",E.jsx("span",{className:"text-red-500 text-xs font-normal ml-1",children:"* Requires Training"})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Cinema Camera Kit *","Gimbal / Stabilizer *","DJI Mic Kit (Wireless)","DJI Flip Drone *","Tripod","Lighting Kit"].map(M=>E.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-slate-50 cursor-pointer transition-colors active:bg-blue-50",children:[E.jsx("input",{type:"checkbox",name:"equipment",value:M,defaultChecked:S.equipment?.includes(M),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),E.jsx("span",{className:"text-slate-700 text-sm",children:M})]},M))}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Checkout Date"}),E.jsx("input",{name:"checkoutDate",defaultValue:S.checkoutDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),E.jsx("input",{name:"returnDate",defaultValue:S.returnDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:E.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),E.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[E.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Name"}),E.jsx("input",{name:"eventName",defaultValue:S.eventName,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Varsity Football",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),E.jsx("input",{name:"eventDate",defaultValue:S.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),E.jsx("input",{name:"startTime",defaultValue:S.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Needed"}),E.jsxs("select",{name:"serviceType",defaultValue:S.serviceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm bg-white",children:[E.jsx("option",{children:"Live Broadcast (Stream)"}),E.jsx("option",{children:"Event Recording (Edited later)"}),E.jsx("option",{children:"Raw Footage Only"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Details"}),E.jsx("textarea",{name:"details",defaultValue:S.details,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Describe specifics..."})]})]})]})}function be({setSubmitted:ue}){const x="Graphic",w=Pa(x),S=JSON.parse(localStorage.getItem(w)||"{}");return E.jsx(W,{title:x,icon:Dd,colorClass:"bg-purple-600",setSubmitted:ue,initialData:S,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Type"}),E.jsxs("select",{name:"projectType",defaultValue:S.projectType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Event Poster / Flyer"}),E.jsx("option",{children:"Logo Design"}),E.jsx("option",{children:"Website Design"}),E.jsx("option",{children:"T-Shirt / Merch"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dimensions"}),E.jsx("input",{name:"dimensions",defaultValue:S.dimensions,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., 11x17"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Deadline"}),E.jsx("input",{name:"deadline",defaultValue:S.deadline,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Design Brief"}),E.jsx("textarea",{name:"brief",defaultValue:S.brief,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function _e({setSubmitted:ue}){const x="Business",w=Pa(x),S=JSON.parse(localStorage.getItem(w)||"{}");return E.jsx(W,{title:x,icon:Id,colorClass:"bg-emerald-600",setSubmitted:ue,initialData:S,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Business Name"}),E.jsx("input",{name:"businessName",defaultValue:S.businessName,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"Project Alpha"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assistance Needed"}),E.jsxs("select",{name:"assistanceType",defaultValue:S.assistanceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Business Plan Review"}),E.jsx("option",{children:"Financial Modeling Help"}),E.jsx("option",{children:"Marketing Strategy"}),E.jsx("option",{children:"General Mentorship"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Idea Description"}),E.jsx("textarea",{name:"description",defaultValue:S.description,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-40",placeholder:"Briefly describe your product...",required:!0})]})]})})}function Ge({setSubmitted:ue}){const x="Culinary",w=Pa(x),S=JSON.parse(localStorage.getItem(w)||"{}");return E.jsx(W,{title:x,icon:X_,colorClass:"bg-orange-500",setSubmitted:ue,initialData:S,children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Name"}),E.jsx("input",{name:"eventName",defaultValue:S.eventName,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Faculty Luncheon",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Date"}),E.jsx("input",{name:"eventDate",defaultValue:S.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Serve Time"}),E.jsx("input",{name:"serveTime",defaultValue:S.serveTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Guest Count"}),E.jsx("input",{name:"guestCount",defaultValue:S.guestCount,type:"number",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",min:"1",placeholder:"50",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Style"}),E.jsxs("select",{name:"serviceStyle",defaultValue:S.serviceStyle,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[E.jsx("option",{children:"Buffet Style"}),E.jsx("option",{children:"Boxed Lunches"}),E.jsx("option",{children:"Plated Service"}),E.jsx("option",{children:"Appetizers"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Menu/Dietary Notes"}),E.jsx("textarea",{name:"menuNotes",defaultValue:S.menuNotes,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Preferences, allergies...",required:!0})]})]})})}function et({setSubmitted:ue}){const x="Photo",w=Pa(x),S=JSON.parse(localStorage.getItem(w)||"{}"),[D,N]=ct.useState(S.requestType||"service");return E.jsxs(W,{title:x,icon:Y_,colorClass:"bg-pink-600",setSubmitted:ue,initialData:S,children:[E.jsx("input",{type:"hidden",name:"requestType",value:D}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("button",{type:"button",onClick:()=>N("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${D==="service"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[E.jsx(mA,{className:"mx-auto mb-2"})," Event Coverage"]}),E.jsxs("button",{type:"button",onClick:()=>N("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${D==="checkout"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[E.jsx(Cd,{className:"mx-auto mb-2"})," Equipment Checkout"]})]})]}),D==="checkout"?E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{className:"bg-pink-50 p-4 rounded-md border border-pink-100 text-sm text-pink-800 mb-4",children:[E.jsx("strong",{children:"Requirement:"})," Photo I completion required."]}),E.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Select Equipment Needed:"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["DSLR Camera Body","Zoom Lens (18-55mm)","Telephoto Lens (70-200mm)","Portrait Lens (50mm)","SD Card Reader","Tripod","Flash Unit"].map(M=>E.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-slate-50 cursor-pointer active:bg-pink-50",children:[E.jsx("input",{type:"checkbox",name:"equipment",value:M,defaultChecked:S.equipment?.includes(M),className:"w-5 h-5 text-pink-600 rounded focus:ring-pink-500"}),E.jsx("span",{className:"text-slate-700 text-sm",children:M})]},M))}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Pickup Date"}),E.jsx("input",{name:"pickupDate",defaultValue:S.pickupDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),E.jsx("input",{name:"returnDate",defaultValue:S.returnDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:E.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[E.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-pink-600 rounded focus:ring-pink-500 border-gray-300"}),E.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[E.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):E.jsxs("div",{className:"space-y-4 animate-fade-in",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Name"}),E.jsx("input",{name:"eventName",defaultValue:S.eventName,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Homecoming",required:!0})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),E.jsx("input",{name:"eventDate",defaultValue:S.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),E.jsx("input",{name:"startTime",defaultValue:S.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),E.jsx("input",{name:"location",defaultValue:S.location,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Gym"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Specific Shots"}),E.jsx("textarea",{name:"shotList",defaultValue:S.shotList,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Key moments..."})]})]})]})}};k1.createRoot(document.getElementById("root")).render(E.jsx(ct.StrictMode,{children:E.jsx(AI,{})}));
