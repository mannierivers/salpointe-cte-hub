(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Od={exports:{}},vo={};var Y_;function Z1(){if(Y_)return vo;Y_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return vo.Fragment=e,vo.jsx=i,vo.jsxs=i,vo}var X_;function W1(){return X_||(X_=1,Od.exports=Z1()),Od.exports}var v=W1(),Md={exports:{}},Ne={};var $_;function eS(){if($_)return Ne;$_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),k=Symbol.iterator;function K(C){return C===null||typeof C!="object"?null:(C=k&&C[k]||C["@@iterator"],typeof C=="function"?C:null)}var ne={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,ie={};function Ee(C,F,te){this.props=C,this.context=F,this.refs=ie,this.updater=te||ne}Ee.prototype.isReactComponent={},Ee.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},Ee.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Re(){}Re.prototype=Ee.prototype;function _e(C,F,te){this.props=C,this.context=F,this.refs=ie,this.updater=te||ne}var $e=_e.prototype=new Re;$e.constructor=_e,oe($e,Ee.prototype),$e.isPureReactComponent=!0;var rt=Array.isArray;function Be(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function A(C,F,te){var Q=te.ref;return{$$typeof:s,type:C,key:F,ref:Q!==void 0?Q:null,props:te}}function D(C,F){return A(C.type,F,C.props)}function N(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function M(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(te){return F[te]})}var x=/\/+/g;function ee(C,F){return typeof C=="object"&&C!==null&&C.key!=null?M(""+C.key):F.toString(36)}function ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Be,Be):(C.status="pending",C.then(function(F){C.status==="pending"&&(C.status="fulfilled",C.value=F)},function(F){C.status==="pending"&&(C.status="rejected",C.reason=F)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function U(C,F,te,Q,re){var X=typeof C;(X==="undefined"||X==="boolean")&&(C=null);var le=!1;if(C===null)le=!0;else switch(X){case"bigint":case"string":case"number":le=!0;break;case"object":switch(C.$$typeof){case s:case e:le=!0;break;case S:return le=C._init,U(le(C._payload),F,te,Q,re)}}if(le)return re=re(C),le=Q===""?"."+ee(C,0):Q,rt(re)?(te="",le!=null&&(te=le.replace(x,"$&/")+"/"),U(re,F,te,"",function(Ie){return Ie})):re!=null&&(N(re)&&(re=D(re,te+(re.key==null||C&&C.key===re.key?"":(""+re.key).replace(x,"$&/")+"/")+le)),F.push(re)),1;le=0;var ve=Q===""?".":Q+":";if(rt(C))for(var de=0;de<C.length;de++)Q=C[de],X=ve+ee(Q,de),le+=U(Q,F,te,X,re);else if(de=K(C),typeof de=="function")for(C=de.call(C),de=0;!(Q=C.next()).done;)Q=Q.value,X=ve+ee(Q,de++),le+=U(Q,F,te,X,re);else if(X==="object"){if(typeof C.then=="function")return U(ye(C),F,te,Q,re);throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return le}function W(C,F,te){if(C==null)return C;var Q=[],re=0;return U(C,Q,"","",function(X){return F.call(te,X,re++)}),Q}function se(C){if(C._status===-1){var F=C._result;F=F(),F.then(function(te){(C._status===0||C._status===-1)&&(C._status=1,C._result=te)},function(te){(C._status===0||C._status===-1)&&(C._status=2,C._result=te)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var be=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},me={map:W,forEach:function(C,F,te){W(C,function(){F.apply(this,arguments)},te)},count:function(C){var F=0;return W(C,function(){F++}),F},toArray:function(C){return W(C,function(F){return F})||[]},only:function(C){if(!N(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ne.Activity=w,Ne.Children=me,Ne.Component=Ee,Ne.Fragment=i,Ne.Profiler=o,Ne.PureComponent=_e,Ne.StrictMode=a,Ne.Suspense=_,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return O.H.useMemoCache(C)}},Ne.cache=function(C){return function(){return C.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(C,F,te){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Q=oe({},C.props),re=C.key;if(F!=null)for(X in F.key!==void 0&&(re=""+F.key),F)!R.call(F,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&F.ref===void 0||(Q[X]=F[X]);var X=arguments.length-2;if(X===1)Q.children=te;else if(1<X){for(var le=Array(X),ve=0;ve<X;ve++)le[ve]=arguments[ve+2];Q.children=le}return A(C.type,re,Q)},Ne.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ne.createElement=function(C,F,te){var Q,re={},X=null;if(F!=null)for(Q in F.key!==void 0&&(X=""+F.key),F)R.call(F,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(re[Q]=F[Q]);var le=arguments.length-2;if(le===1)re.children=te;else if(1<le){for(var ve=Array(le),de=0;de<le;de++)ve[de]=arguments[de+2];re.children=ve}if(C&&C.defaultProps)for(Q in le=C.defaultProps,le)re[Q]===void 0&&(re[Q]=le[Q]);return A(C,X,re)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(C){return{$$typeof:g,render:C}},Ne.isValidElement=N,Ne.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:se}},Ne.memo=function(C,F){return{$$typeof:y,type:C,compare:F===void 0?null:F}},Ne.startTransition=function(C){var F=O.T,te={};O.T=te;try{var Q=C(),re=O.S;re!==null&&re(te,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Be,be)}catch(X){be(X)}finally{F!==null&&te.types!==null&&(F.types=te.types),O.T=F}},Ne.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ne.use=function(C){return O.H.use(C)},Ne.useActionState=function(C,F,te){return O.H.useActionState(C,F,te)},Ne.useCallback=function(C,F){return O.H.useCallback(C,F)},Ne.useContext=function(C){return O.H.useContext(C)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(C,F){return O.H.useDeferredValue(C,F)},Ne.useEffect=function(C,F){return O.H.useEffect(C,F)},Ne.useEffectEvent=function(C){return O.H.useEffectEvent(C)},Ne.useId=function(){return O.H.useId()},Ne.useImperativeHandle=function(C,F,te){return O.H.useImperativeHandle(C,F,te)},Ne.useInsertionEffect=function(C,F){return O.H.useInsertionEffect(C,F)},Ne.useLayoutEffect=function(C,F){return O.H.useLayoutEffect(C,F)},Ne.useMemo=function(C,F){return O.H.useMemo(C,F)},Ne.useOptimistic=function(C,F){return O.H.useOptimistic(C,F)},Ne.useReducer=function(C,F,te){return O.H.useReducer(C,F,te)},Ne.useRef=function(C){return O.H.useRef(C)},Ne.useState=function(C){return O.H.useState(C)},Ne.useSyncExternalStore=function(C,F,te){return O.H.useSyncExternalStore(C,F,te)},Ne.useTransition=function(){return O.H.useTransition()},Ne.version="19.2.0",Ne}var J_;function Im(){return J_||(J_=1,Md.exports=eS()),Md.exports}var Ve=Im(),Vd={exports:{}},Eo={},kd={exports:{}},jd={};var Z_;function tS(){return Z_||(Z_=1,(function(s){function e(U,W){var se=U.length;U.push(W);e:for(;0<se;){var be=se-1>>>1,me=U[be];if(0<o(me,W))U[be]=W,U[se]=me,se=be;else break e}}function i(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var W=U[0],se=U.pop();if(se!==W){U[0]=se;e:for(var be=0,me=U.length,C=me>>>1;be<C;){var F=2*(be+1)-1,te=U[F],Q=F+1,re=U[Q];if(0>o(te,se))Q<me&&0>o(re,te)?(U[be]=re,U[Q]=se,be=Q):(U[be]=te,U[F]=se,be=F);else if(Q<me&&0>o(re,se))U[be]=re,U[Q]=se,be=Q;else break e}}return W}function o(U,W){var se=U.sortIndex-W.sortIndex;return se!==0?se:U.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],S=1,w=null,k=3,K=!1,ne=!1,oe=!1,ie=!1,Ee=typeof setTimeout=="function"?setTimeout:null,Re=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function $e(U){for(var W=i(y);W!==null;){if(W.callback===null)a(y);else if(W.startTime<=U)a(y),W.sortIndex=W.expirationTime,e(_,W);else break;W=i(y)}}function rt(U){if(oe=!1,$e(U),!ne)if(i(_)!==null)ne=!0,Be||(Be=!0,M());else{var W=i(y);W!==null&&ye(rt,W.startTime-U)}}var Be=!1,O=-1,R=5,A=-1;function D(){return ie?!0:!(s.unstable_now()-A<R)}function N(){if(ie=!1,Be){var U=s.unstable_now();A=U;var W=!0;try{e:{ne=!1,oe&&(oe=!1,Re(O),O=-1),K=!0;var se=k;try{t:{for($e(U),w=i(_);w!==null&&!(w.expirationTime>U&&D());){var be=w.callback;if(typeof be=="function"){w.callback=null,k=w.priorityLevel;var me=be(w.expirationTime<=U);if(U=s.unstable_now(),typeof me=="function"){w.callback=me,$e(U),W=!0;break t}w===i(_)&&a(_),$e(U)}else a(_);w=i(_)}if(w!==null)W=!0;else{var C=i(y);C!==null&&ye(rt,C.startTime-U),W=!1}}break e}finally{w=null,k=se,K=!1}W=void 0}}finally{W?M():Be=!1}}}var M;if(typeof _e=="function")M=function(){_e(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ee=x.port2;x.port1.onmessage=N,M=function(){ee.postMessage(null)}}else M=function(){Ee(N,0)};function ye(U,W){O=Ee(function(){U(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(U){switch(k){case 1:case 2:case 3:var W=3;break;default:W=k}var se=k;k=W;try{return U()}finally{k=se}},s.unstable_requestPaint=function(){ie=!0},s.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=k;k=U;try{return W()}finally{k=se}},s.unstable_scheduleCallback=function(U,W,se){var be=s.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,U){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=se+me,U={id:S++,callback:W,priorityLevel:U,startTime:se,expirationTime:me,sortIndex:-1},se>be?(U.sortIndex=se,e(y,U),i(_)===null&&U===i(y)&&(oe?(Re(O),O=-1):oe=!0,ye(rt,se-be))):(U.sortIndex=me,e(_,U),ne||K||(ne=!0,Be||(Be=!0,M()))),U},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(U){var W=k;return function(){var se=k;k=W;try{return U.apply(this,arguments)}finally{k=se}}}})(jd)),jd}var W_;function nS(){return W_||(W_=1,kd.exports=tS()),kd.exports}var Ld={exports:{}},nn={};var e0;function iS(){if(e0)return nn;e0=1;var s=Im();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:_,containerInfo:y,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,S)},nn.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},nn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},nn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},nn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,w=g(S,y.crossOrigin),k=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:k,fetchPriority:K}):S==="script"&&a.d.X(_,{crossOrigin:w,integrity:k,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},nn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,w=g(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},nn.requestFormReset=function(_){a.d.r(_)},nn.unstable_batchedUpdates=function(_,y){return _(y)},nn.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var t0;function sS(){if(t0)return Ld.exports;t0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ld.exports=iS(),Ld.exports}var n0;function rS(){if(n0)return Eo;n0=1;var s=nS(),e=Im(),i=sS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,b=h.child;b;){if(b===r){p=!0,r=h,l=f;break}if(b===l){p=!0,l=h,r=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===r){p=!0,r=f,l=h;break}if(b===l){p=!0,l=f,r=h;break}b=b.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,k=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),ne=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Re=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case Ee:return"Profiler";case ie:return"StrictMode";case rt:return"Suspense";case Be:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ne:return"Portal";case _e:return t.displayName||"Context";case Re:return(t._context.displayName||"Context")+".Consumer";case $e:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var ye=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},be=[],me=-1;function C(t){return{current:t}}function F(t){0>me||(t.current=be[me],be[me]=null,me--)}function te(t,n){me++,be[me]=t.current,t.current=n}var Q=C(null),re=C(null),X=C(null),le=C(null);function ve(t,n){switch(te(X,n),te(re,t),te(Q,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?y_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=y_(n),t=__(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(Q),te(Q,t)}function de(){F(Q),F(re),F(X)}function Ie(t){t.memoizedState!==null&&te(le,t);var n=Q.current,r=__(n,t.type);n!==r&&(te(re,t),te(Q,r))}function we(t){re.current===t&&(F(Q),F(re)),le.current===t&&(F(le),po._currentValue=se)}var At,hn;function tn(t){if(At===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);At=n&&n[1]||"",hn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+t+hn}var Lt=!1;function Gn(t,n){if(!t||Lt)return"";Lt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var q=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){q=H}t.call($.prototype)}}else{try{throw Error()}catch(H){q=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],b=f[1];if(p&&b){var I=p.split(`
`),z=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Lt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?tn(r):""}function fr(t,n){switch(t.tag){case 26:case 27:case 5:return tn(t.type);case 16:return tn("Lazy");case 13:return t.child!==n&&n!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Gn(t.type,!1);case 11:return Gn(t.type.render,!1);case 1:return Gn(t.type,!0);case 31:return tn("Activity");default:return""}}function dr(t){try{var n="",r=null;do n+=fr(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pt=Object.prototype.hasOwnProperty,_t=s.unstable_scheduleCallback,ds=s.unstable_cancelCallback,Mh=s.unstable_shouldYield,Wo=s.unstable_requestPaint,on=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,yl=s.unstable_ImmediatePriority,_l=s.unstable_UserBlockingPriority,ms=s.unstable_NormalPriority,Vh=s.unstable_LowPriority,eu=s.unstable_IdlePriority,tu=s.log,nu=s.unstable_setDisableYieldValue,Qn=null,Gt=null;function Dn(t){if(typeof tu=="function"&&nu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Qn,t)}catch{}}var vt=Math.clz32?Math.clz32:su,iu=Math.log,ra=Math.LN2;function su(t){return t>>>=0,t===0?32:31-(iu(t)/ra|0)|0}var ui=256,pr=262144,wt=4194304;function ci(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=ci(l):(p&=b,p!==0?h=ci(p):r||(r=b&~t,r!==0&&(h=ci(r))))):(b=l&~f,b!==0?h=ci(b):p!==0?h=ci(p):r||(r=l&~t,r!==0&&(h=ci(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function fi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function gr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-vt(r),$=1<<G;b[G]=0,I[G]=-1;var q=z[G];if(q!==null)for(z[G]=null,G=0;G<q.length;G++){var H=q[G];H!==null&&(H.lane&=-536870913)}r&=~$}l!==0&&yr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function yr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-vt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function vl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-vt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function El(t,n){var r=n&-n;return r=(r&42)!==0?1:_r(r),(r&(t.suspendedLanes|n))!==0?0:r}function _r(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:q_(t.type))}function Yn(t,n){var r=W.p;try{return W.p=t,n()}finally{W.p=r}}var Xn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Xn,zt="__reactProps$"+Xn,di="__reactContainer$"+Xn,aa="__reactEvents$"+Xn,Lh="__reactListeners$"+Xn,lu="__reactHandles$"+Xn,ou="__reactResources$"+Xn,mi="__reactMarker$"+Xn;function la(t){delete t[xt],delete t[zt],delete t[aa],delete t[Lh],delete t[lu]}function pi(t){var n=t[xt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[di]||r[xt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=w_(t);t!==null;){if(r=t[xt])return r;t=w_(t)}return n}t=r,r=t.parentNode}return null}function On(t){if(t=t[xt]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function gi(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Rt(t){t[mi]=!0}var bl=new Set,Tl={};function yi(t,n){_i(t,n),_i(t+"Capture",n)}function _i(t,n){for(Tl[t]=n,t=0;t<n.length;t++)bl.add(n[t])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},wl={};function uu(t){return pt.call(wl,t)?!0:pt.call(Al,t)?!1:Sl.test(t)?wl[t]=!0:(Al[t]=!0,!1)}function oa(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Tn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Nt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ps(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ze(t){if(!t._valueTracker){var n=ps(t)?"checked":"value";t._valueTracker=xl(t,n,""+t[n])}}function vr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ps(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Er=/[\n"\\]/g;function fn(t){return t.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(t,n,r,l,h,f,p,b){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+qt(n)):t.value!==""+qt(n)&&(t.value=""+qt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Rl(t,p,qt(n)):r!=null?Rl(t,p,qt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+qt(b):t.removeAttribute("name")}function cu(t,n,r,l,h,f,p,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ze(t);return}r=r!=null?""+qt(r):"",n=n!=null?""+qt(n):r,b||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Ze(t)}function Rl(t,n,r){n==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function gs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+qt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,r){if(n!=null&&(n=""+qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+qt(r):""}function ys(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ye(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=qt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Ze(t)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Cl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Nl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Nl(t,f,n[f])}function ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return _s.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var Il=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,Ei=null;function br(t){var n=On(t);if(n&&(t=n.stateNode)){var r=t[zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ua(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[zt]||null;if(!h)throw Error(a(90));ua(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&vr(l)}break e;case"textarea":hu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&gs(t,!!r.multiple,n,!1)}}}var fa=!1;function Es(t,n,r){if(fa)return t(n,r);fa=!0;try{var l=t(n);return l}finally{if(fa=!1,(vs!==null||Ei!==null)&&(ac(),vs&&(n=vs,t=Ei,Ei=vs=null,br(n),t)))for(n=0;n<t.length;n++)br(t[n])}}function Jn(t,n){var r=t.stateNode;if(r===null)return null;var l=r[zt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Vn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Tr=!1}var bi=null,Dl=null,Sr=null;function Ol(){if(Sr)return Sr;var t,n=Dl,r=n.length,l,h="value"in bi?bi.value:bi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Sr=h.slice(t,1<l?1-l:void 0)}function Ar(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Zn(){return!1}function Qt(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(r=t[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?qi:Zn,this.isPropagationStopped=Zn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Qt(Bi),bs=w({},Bi,{view:0,detail:0}),Ml=Qt(bs),Ts,da,Si,ma=w({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Ts=t.screenX-Si.screenX,da=t.screenY-Si.screenY):da=Ts=0,Si=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:da}}),Vl=Qt(ma),wr=w({},ma,{dataTransfer:0}),mu=Qt(wr),pu=w({},bs,{relatedTarget:0}),xr=Qt(pu),kl=w({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Qt(kl),pa=w({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=Qt(pa),_u=w({},Bi,{data:0}),Ai=Qt(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function Ss(){return Tu}var un=w({},bs,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(t){return t.type==="keypress"?Ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=Qt(un),Au=w({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Qt(Au),u=w({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),m=Qt(u),E=w({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qt(E),L=w({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qt(L),ae=w({},Bi,{newState:0,oldState:0}),De=Qt(ae),Et=[9,13,27,32],Ye=Vn&&"CompositionEvent"in window,ft=null;Vn&&"documentMode"in document&&(ft=document.documentMode);var kn=Vn&&"TextEvent"in window&&!ft,wi=Vn&&(!Ye||ft&&8<ft&&11>=ft),Wn=" ",ei=!1;function Rr(t,n){switch(t){case"keyup":return Et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ya=!1;function TT(t,n){switch(t){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ei=!0,Wn);case"textInput":return t=n.data,t===Wn&&ei?null:t;default:return null}}function ST(t,n){if(ya)return t==="compositionend"||!Ye&&Rr(t,n)?(t=Ol(),Sr=Dl=bi=null,ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!AT[t.type]:n==="textarea"}function Cp(t,n,r,l){vs?Ei?Ei.push(l):Ei=[l]:vs=l,n=dc(n,"onChange"),0<n.length&&(r=new Ti("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var jl=null,Ll=null;function wT(t){h_(t,0)}function wu(t){var n=bn(t);if(vr(n))return t}function Ip(t,n){if(t==="change")return n}var Dp=!1;if(Vn){var Uh;if(Vn){var Ph="oninput"in document;if(!Ph){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Ph=typeof Op.oninput=="function"}Uh=Ph}else Uh=!1;Dp=Uh&&(!document.documentMode||9<document.documentMode)}function Mp(){jl&&(jl.detachEvent("onpropertychange",Vp),Ll=jl=null)}function Vp(t){if(t.propertyName==="value"&&wu(Ll)){var n=[];Cp(n,Ll,t,Mn(t)),Es(wT,n)}}function xT(t,n,r){t==="focusin"?(Mp(),jl=n,Ll=r,jl.attachEvent("onpropertychange",Vp)):t==="focusout"&&Mp()}function RT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Ll)}function NT(t,n){if(t==="click")return wu(n)}function CT(t,n){if(t==="input"||t==="change")return wu(n)}function IT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Sn=typeof Object.is=="function"?Object.is:IT;function Ul(t,n){if(Sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!pt.call(n,h)||!Sn(t[h],n[h]))return!1}return!0}function kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,n){var r=kp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kp(r)}}function Lp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Lp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=vi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=vi(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var DT=Vn&&"documentMode"in document&&11>=document.documentMode,_a=null,qh=null,Pl=null,Bh=!1;function Pp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bh||_a==null||_a!==vi(l)||(l=_a,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Ul(Pl,l)||(Pl=l,l=dc(qh,"onSelect"),0<l.length&&(n=new Ti("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=_a)))}function Nr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var va={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Hh={},zp={};Vn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Cr(t){if(Hh[t])return Hh[t];if(!va[t])return t;var n=va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zp)return Hh[t]=n[r];return t}var qp=Cr("animationend"),Bp=Cr("animationiteration"),Hp=Cr("animationstart"),OT=Cr("transitionrun"),MT=Cr("transitionstart"),VT=Cr("transitioncancel"),Fp=Cr("transitionend"),Gp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function ti(t,n){Gp.set(t,n),yi(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Ea=0,Gh=0;function Ru(){for(var t=Ea,n=Gh=Ea=0;n<t;){var r=jn[n];jn[n++]=null;var l=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Qp(r,h,f)}}function Nu(t,n,r,l){jn[Ea++]=t,jn[Ea++]=n,jn[Ea++]=r,jn[Ea++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,n,r,l){return Nu(t,n,r,l),Cu(t)}function Ir(t,n){return Nu(t,null,null,n),Cu(t)}function Qp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-vt(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(t){if(50<lo)throw lo=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ba={};function kT(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,n,r,l){return new kT(t,n,r,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var r=t.alternate;return r===null?(r=An(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=z1(t,r,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=An(31,r,n,h),t.elementType=A,t.lanes=f,t;case oe:return Dr(r.children,h,f,n);case ie:p=8,h|=24;break;case Ee:return t=An(12,r,n,h|2),t.elementType=Ee,t.lanes=f,t;case rt:return t=An(13,r,n,h),t.elementType=rt,t.lanes=f,t;case Be:return t=An(19,r,n,h),t.elementType=Be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case Re:p=9;break e;case $e:p=11;break e;case O:p=14;break e;case R:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=An(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Dr(t,n,r,l){return t=An(7,t,l,n),t.lanes=r,t}function Yh(t,n,r){return t=An(6,t,null,n),t.lanes=r,t}function Yp(t){var n=An(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,r){return n=An(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xp=new WeakMap;function Ln(t,n){if(typeof t=="object"&&t!==null){var r=Xp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:dr(n)},Xp.set(t,n),n)}return{value:t,source:n,stack:dr(n)}}var Ta=[],Sa=0,Du=null,zl=0,Un=[],Pn=0,As=null,xi=1,Ri="";function Gi(t,n){Ta[Sa++]=zl,Ta[Sa++]=Du,Du=t,zl=n}function $p(t,n,r){Un[Pn++]=xi,Un[Pn++]=Ri,Un[Pn++]=As,As=t;var l=xi;t=Ri;var h=32-vt(l)-1;l&=~(1<<h),r+=1;var f=32-vt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,xi=1<<32-vt(n)+h|r<<h|l,Ri=f+t}else xi=1<<f|r<<h|l,Ri=t}function $h(t){t.return!==null&&(Gi(t,1),$p(t,1,0))}function Jh(t){for(;t===Du;)Du=Ta[--Sa],Ta[Sa]=null,zl=Ta[--Sa],Ta[Sa]=null;for(;t===As;)As=Un[--Pn],Un[Pn]=null,Ri=Un[--Pn],Un[Pn]=null,xi=Un[--Pn],Un[Pn]=null}function Jp(t,n){Un[Pn++]=xi,Un[Pn++]=Ri,Un[Pn++]=As,xi=n.id,Ri=n.overflow,As=t}var Kt=null,ut=null,He=!1,ws=null,zn=!1,Zh=Error(a(519));function xs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Ln(n,t)),Zh}function Zp(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[xt]=t,n[zt]=l,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(r=0;r<uo.length;r++)je(uo[r],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),ys(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||p_(n.textContent,r)?(l.popover!=null&&(je("beforetoggle",n),je("toggle",n)),l.onScroll!=null&&je("scroll",n),l.onScrollEnd!=null&&je("scrollend",n),l.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||xs(t,!0)}function Wp(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Kt=Kt.return}}function Aa(t){if(t!==Kt)return!1;if(!He)return Wp(t),He=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yd(t.type,t.memoizedProps)),r=!r),r&&ut&&xs(t),Wp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=A_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=A_(t)}else n===27?(n=ut,zs(t.type)?(t=Td,Td=null,ut=t):ut=n):ut=Kt?Bn(t.stateNode.nextSibling):null;return!0}function Or(){ut=Kt=null,He=!1}function Wh(){var t=ws;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),ws=null),t}function ql(t){ws===null?ws=[t]:ws.push(t)}var ef=C(null),Mr=null,Qi=null;function Rs(t,n,r){te(ef,n._currentValue),n._currentValue=r}function Ki(t){t._currentValue=ef.current,F(ef)}function tf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function nf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var I=0;I<n.length;I++)if(b.context===n[I]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),tf(f.return,r,t),l||(p=null);break e}f=b.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),tf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function wa(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var b=h.type;Sn(h.pendingProps.value,p.value)||(t!==null?t.push(b):t=[b])}}else if(h===le.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(po):t=[po])}h=h.return}t!==null&&nf(n,t,r,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vr(t){Mr=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return eg(Mr,t)}function Mu(t,n){return Mr===null&&Vr(t),eg(t,n)}function eg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Qi===null){if(t===null)throw Error(a(308));Qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Qi=Qi.next=n;return r}var jT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},LT=s.unstable_scheduleCallback,UT=s.unstable_NormalPriority,Ct={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new jT,data:new Map,refCount:0}}function Bl(t){t.refCount--,t.refCount===0&&LT(UT,function(){t.controller.abort()})}var Hl=null,rf=0,xa=0,Ra=null;function PT(t,n){if(Hl===null){var r=Hl=[];rf=0,xa=od(),Ra={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rf++,n.then(tg,tg),n}function tg(){if(--rf===0&&Hl!==null){Ra!==null&&(Ra.status="fulfilled");var t=Hl;Hl=null,xa=0,Ra=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zT(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ng=U.S;U.S=function(t,n){Py=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&PT(t,n),ng!==null&&ng(t,n)};var kr=C(null);function af(){var t=kr.current;return t!==null?t:at.pooledCache}function Vu(t,n){n===null?te(kr,kr.current):te(kr,n.pool)}function ig(){var t=af();return t===null?null:{parent:Ct._currentValue,pool:t}}var Na=Error(a(460)),lf=Error(a(474)),ku=Error(a(542)),ju={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then($n,$n),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t;default:if(typeof n.status=="string")n.then($n,$n);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lg(t),t}throw Lr=n,Na}}function jr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Lr=r,Na):r}}var Lr=null;function ag(){if(Lr===null)throw Error(a(459));var t=Lr;return Lr=null,t}function lg(t){if(t===Na||t===ku)throw Error(a(483))}var Ca=null,Fl=0;function Lu(t){var n=Fl;return Fl+=1,Ca===null&&(Ca=[]),rg(Ca,t,n)}function Gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===k?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){function n(j,V){if(t){var P=j.deletions;P===null?(j.deletions=[V],j.flags|=16):P.push(V)}}function r(j,V){if(!t)return null;for(;V!==null;)n(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=Fi(j,V),j.index=0,j.sibling=null,j}function f(j,V,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<V?(j.flags|=67108866,V):P):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function p(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,V,P,Y){return V===null||V.tag!==6?(V=Yh(P,j.mode,Y),V.return=j,V):(V=h(V,P),V.return=j,V)}function I(j,V,P,Y){var pe=P.type;return pe===oe?G(j,V,P.props.children,Y,P.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&jr(pe)===V.type)?(V=h(V,P.props),Gl(V,P),V.return=j,V):(V=Iu(P.type,P.key,P.props,null,j.mode,Y),Gl(V,P),V.return=j,V)}function z(j,V,P,Y){return V===null||V.tag!==4||V.stateNode.containerInfo!==P.containerInfo||V.stateNode.implementation!==P.implementation?(V=Xh(P,j.mode,Y),V.return=j,V):(V=h(V,P.children||[]),V.return=j,V)}function G(j,V,P,Y,pe){return V===null||V.tag!==7?(V=Dr(P,j.mode,Y,pe),V.return=j,V):(V=h(V,P),V.return=j,V)}function $(j,V,P){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Yh(""+V,j.mode,P),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case K:return P=Iu(V.type,V.key,V.props,null,j.mode,P),Gl(P,V),P.return=j,P;case ne:return V=Xh(V,j.mode,P),V.return=j,V;case R:return V=jr(V),$(j,V,P)}if(ye(V)||M(V))return V=Dr(V,j.mode,P,null),V.return=j,V;if(typeof V.then=="function")return $(j,Lu(V),P);if(V.$$typeof===_e)return $(j,Mu(j,V),P);Uu(j,V)}return null}function q(j,V,P,Y){var pe=V!==null?V.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:b(j,V,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===pe?I(j,V,P,Y):null;case ne:return P.key===pe?z(j,V,P,Y):null;case R:return P=jr(P),q(j,V,P,Y)}if(ye(P)||M(P))return pe!==null?null:G(j,V,P,Y,null);if(typeof P.then=="function")return q(j,V,Lu(P),Y);if(P.$$typeof===_e)return q(j,V,Mu(j,P),Y);Uu(j,P)}return null}function H(j,V,P,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(P)||null,b(V,j,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return j=j.get(Y.key===null?P:Y.key)||null,I(V,j,Y,pe);case ne:return j=j.get(Y.key===null?P:Y.key)||null,z(V,j,Y,pe);case R:return Y=jr(Y),H(j,V,P,Y,pe)}if(ye(Y)||M(Y))return j=j.get(P)||null,G(V,j,Y,pe,null);if(typeof Y.then=="function")return H(j,V,P,Lu(Y),pe);if(Y.$$typeof===_e)return H(j,V,P,Mu(V,Y),pe);Uu(V,Y)}return null}function he(j,V,P,Y){for(var pe=null,Qe=null,fe=V,Me=V=0,Ue=null;fe!==null&&Me<P.length;Me++){fe.index>Me?(Ue=fe,fe=null):Ue=fe.sibling;var Ke=q(j,fe,P[Me],Y);if(Ke===null){fe===null&&(fe=Ue);break}t&&fe&&Ke.alternate===null&&n(j,fe),V=f(Ke,V,Me),Qe===null?pe=Ke:Qe.sibling=Ke,Qe=Ke,fe=Ue}if(Me===P.length)return r(j,fe),He&&Gi(j,Me),pe;if(fe===null){for(;Me<P.length;Me++)fe=$(j,P[Me],Y),fe!==null&&(V=f(fe,V,Me),Qe===null?pe=fe:Qe.sibling=fe,Qe=fe);return He&&Gi(j,Me),pe}for(fe=l(fe);Me<P.length;Me++)Ue=H(fe,j,Me,P[Me],Y),Ue!==null&&(t&&Ue.alternate!==null&&fe.delete(Ue.key===null?Me:Ue.key),V=f(Ue,V,Me),Qe===null?pe=Ue:Qe.sibling=Ue,Qe=Ue);return t&&fe.forEach(function(Gs){return n(j,Gs)}),He&&Gi(j,Me),pe}function Te(j,V,P,Y){if(P==null)throw Error(a(151));for(var pe=null,Qe=null,fe=V,Me=V=0,Ue=null,Ke=P.next();fe!==null&&!Ke.done;Me++,Ke=P.next()){fe.index>Me?(Ue=fe,fe=null):Ue=fe.sibling;var Gs=q(j,fe,Ke.value,Y);if(Gs===null){fe===null&&(fe=Ue);break}t&&fe&&Gs.alternate===null&&n(j,fe),V=f(Gs,V,Me),Qe===null?pe=Gs:Qe.sibling=Gs,Qe=Gs,fe=Ue}if(Ke.done)return r(j,fe),He&&Gi(j,Me),pe;if(fe===null){for(;!Ke.done;Me++,Ke=P.next())Ke=$(j,Ke.value,Y),Ke!==null&&(V=f(Ke,V,Me),Qe===null?pe=Ke:Qe.sibling=Ke,Qe=Ke);return He&&Gi(j,Me),pe}for(fe=l(fe);!Ke.done;Me++,Ke=P.next())Ke=H(fe,j,Me,Ke.value,Y),Ke!==null&&(t&&Ke.alternate!==null&&fe.delete(Ke.key===null?Me:Ke.key),V=f(Ke,V,Me),Qe===null?pe=Ke:Qe.sibling=Ke,Qe=Ke);return t&&fe.forEach(function(J1){return n(j,J1)}),He&&Gi(j,Me),pe}function st(j,V,P,Y){if(typeof P=="object"&&P!==null&&P.type===oe&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:e:{for(var pe=P.key;V!==null;){if(V.key===pe){if(pe=P.type,pe===oe){if(V.tag===7){r(j,V.sibling),Y=h(V,P.props.children),Y.return=j,j=Y;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&jr(pe)===V.type){r(j,V.sibling),Y=h(V,P.props),Gl(Y,P),Y.return=j,j=Y;break e}r(j,V);break}else n(j,V);V=V.sibling}P.type===oe?(Y=Dr(P.props.children,j.mode,Y,P.key),Y.return=j,j=Y):(Y=Iu(P.type,P.key,P.props,null,j.mode,Y),Gl(Y,P),Y.return=j,j=Y)}return p(j);case ne:e:{for(pe=P.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===P.containerInfo&&V.stateNode.implementation===P.implementation){r(j,V.sibling),Y=h(V,P.children||[]),Y.return=j,j=Y;break e}else{r(j,V);break}else n(j,V);V=V.sibling}Y=Xh(P,j.mode,Y),Y.return=j,j=Y}return p(j);case R:return P=jr(P),st(j,V,P,Y)}if(ye(P))return he(j,V,P,Y);if(M(P)){if(pe=M(P),typeof pe!="function")throw Error(a(150));return P=pe.call(P),Te(j,V,P,Y)}if(typeof P.then=="function")return st(j,V,Lu(P),Y);if(P.$$typeof===_e)return st(j,V,Mu(j,P),Y);Uu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,V!==null&&V.tag===6?(r(j,V.sibling),Y=h(V,P),Y.return=j,j=Y):(r(j,V),Y=Yh(P,j.mode,Y),Y.return=j,j=Y),p(j)):r(j,V)}return function(j,V,P,Y){try{Fl=0;var pe=st(j,V,P,Y);return Ca=null,pe}catch(fe){if(fe===Na||fe===ku)throw fe;var Qe=An(29,fe,null,j.mode);return Qe.lanes=Y,Qe.return=j,Qe}finally{}}}var Ur=og(!0),ug=og(!1),Ns=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Is(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(t),Qp(t,null,r),n}return Nu(t,l,n,r),Cu(t)}function Ql(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,vl(t,r)}}function cf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hf=!1;function Kl(){if(hf){var t=Ra;if(t!==null)throw t}}function Yl(t,n,r,l){hf=!1;var h=t.updateQueue;Ns=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=t.alternate;G!==null&&(G=G.updateQueue,b=G.lastBaseUpdate,b!==p&&(b===null?G.firstBaseUpdate=z:b.next=z,G.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,G=z=I=null,b=f;do{var q=b.lane&-536870913,H=q!==b.lane;if(H?(Le&q)===q:(l&q)===q){q!==0&&q===xa&&(hf=!0),G!==null&&(G=G.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,Te=b;q=n;var st=r;switch(Te.tag){case 1:if(he=Te.payload,typeof he=="function"){$=he.call(st,$,q);break e}$=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Te.payload,q=typeof he=="function"?he.call(st,$,q):he,q==null)break e;$=w({},$,q);break e;case 2:Ns=!0}}q=b.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},G===null?(z=G=H,I=$):G=G.next=H,p|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),ks|=p,t.lanes=p,t.memoizedState=$}}function cg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cg(r[t],n)}var Ia=C(null),Pu=C(0);function fg(t,n){t=ns,te(Pu,t),te(Ia,n),ns=t|n.baseLanes}function ff(){te(Pu,ns),te(Ia,Ia.current)}function df(){ns=Pu.current,F(Ia),F(Pu)}var wn=C(null),qn=null;function Ds(t){var n=t.alternate;te(bt,bt.current&1),te(wn,t),qn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(qn=t)}function mf(t){te(bt,bt.current),te(wn,t),qn===null&&(qn=t)}function dg(t){t.tag===22?(te(bt,bt.current),te(wn,t),qn===null&&(qn=t)):Os()}function Os(){te(bt,bt.current),te(wn,wn.current)}function xn(t){F(wn),qn===t&&(qn=null),F(bt)}var bt=C(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||bd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Oe=null,nt=null,It=null,qu=!1,Da=!1,Pr=!1,Bu=0,Xl=0,Oa=null,qT=0;function gt(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Sn(t[r],n[r]))return!1;return!0}function gf(t,n,r,l,h,f){return Yi=f,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=t===null||t.memoizedState===null?$g:Df,Pr=!1,f=r(l,h),Pr=!1,Da&&(f=pg(n,r,l,h)),mg(t),f}function mg(t){U.H=Zl;var n=nt!==null&&nt.next!==null;if(Yi=0,It=nt=Oe=null,qu=!1,Xl=0,Oa=null,n)throw Error(a(300));t===null||Dt||(t=t.dependencies,t!==null&&Ou(t)&&(Dt=!0))}function pg(t,n,r,l){Oe=t;var h=0;do{if(Da&&(Oa=null),Xl=0,Da=!1,25<=h)throw Error(a(301));if(h+=1,It=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}U.H=Jg,f=n(r,l)}while(Da);return f}function BT(){var t=U.H,n=t.useState()[0];return n=typeof n.then=="function"?$l(n):n,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Oe.flags|=1024),n}function yf(){var t=Bu!==0;return Bu=0,t}function _f(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function vf(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}Yi=0,It=nt=Oe=null,Da=!1,Xl=Bu=0,Oa=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Oe.memoizedState=It=t:It=It.next=t,It}function Tt(){if(nt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var n=It===null?Oe.memoizedState:It.next;if(n!==null)It=n,nt=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},It===null?Oe.memoizedState=It=t:It=It.next=t}return It}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(t){var n=Xl;return Xl+=1,Oa===null&&(Oa=[]),t=rg(Oa,t,n),n=Oe,(It===null?n.memoizedState:It.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?$g:Df),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $l(t);if(t.$$typeof===_e)return Yt(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,r=Oe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),Oe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=D;return n.index++,r}function Xi(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=Tt();return bf(n,nt,t)}function bf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=p=null,I=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Le&$)===$:(Yi&$)===$){var q=z.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===xa&&(G=!0);else if((Yi&q)===q){z=z.next,q===xa&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(b=I=$,p=f):I=I.next=$,Oe.lanes|=q,ks|=q;$=z.action,Pr&&r(f,$),f=z.hasEagerState?z.eagerState:r(f,$)}else q={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(b=I=q,p=f):I=I.next=q,Oe.lanes|=$,ks|=$;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=b,!Sn(f,t.memoizedState)&&(Dt=!0,G&&(r=Ra,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var n=Tt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Sn(f,n.memoizedState)||(Dt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function gg(t,n,r){var l=Oe,h=Tt(),f=He;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Sn((nt||h).memoizedState,r);if(p&&(h.memoizedState=r,Dt=!0),h=h.queue,wf(vg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ma(9,{destroy:void 0},_g.bind(null,l,h,r,n),null),at===null)throw Error(a(349));f||(Yi&127)!==0||yg(l,n,r)}return r}function yg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Oe.updateQueue,n===null?(n=Hu(),Oe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _g(t,n,r,l){n.value=r,n.getSnapshot=l,Eg(n)&&bg(t)}function vg(t,n,r){return r(function(){Eg(n)&&bg(t)})}function Eg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Sn(t,r)}catch{return!0}}function bg(t){var n=Ir(t,2);n!==null&&_n(n,t,2)}function Sf(t){var n=cn();if(typeof t=="function"){var r=t;if(t=r(),Pr){Dn(!0);try{r()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},n}function Tg(t,n,r,l){return t.baseState=r,bf(t,nt,typeof l=="function"?l:Xi)}function HT(t,n,r,l,h){if(Yu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};U.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Sg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Sg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=U.T,p={};U.T=p;try{var b=r(h,l),I=U.S;I!==null&&I(p,b),Ag(t,n,b)}catch(z){Af(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),U.T=f}}else try{f=r(h,l),Ag(t,n,f)}catch(z){Af(t,n,z)}}function Ag(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wg(t,n,l)},function(l){return Af(t,n,l)}):wg(t,n,r)}function wg(t,n,r){n.status="fulfilled",n.value=r,xg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Sg(t,r)))}function Af(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,xg(n),n=n.next;while(n!==l)}t.action=null}function xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rg(t,n){return n}function Ng(t,n){if(He){var r=at.formState;if(r!==null){e:{var l=Oe;if(He){if(ut){t:{for(var h=ut,f=zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Bn(h.nextSibling),l=h.data==="F!";break e}}xs(l)}l=!1}l&&(n=r[0])}}return r=cn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:n},r.queue=l,r=Kg.bind(null,Oe,l),l.dispatch=r,l=Sf(!1),f=If.bind(null,Oe,!1,l.queue),l=cn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=HT.bind(null,Oe,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cg(t){var n=Tt();return Ig(n,nt,t)}function Ig(t,n,r){if(n=bf(t,n,Rg)[0],t=Gu(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=$l(n)}catch(p){throw p===Na?ku:p}else l=n;n=Tt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Oe.flags|=2048,Ma(9,{destroy:void 0},FT.bind(null,h,r),null)),[l,f,t]}function FT(t,n){t.action=n}function Dg(t){var n=Tt(),r=nt;if(r!==null)return Ig(n,r,t);Tt(),n=n.memoizedState,r=Tt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ma(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Hu(),Oe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Og(){return Tt().memoizedState}function Qu(t,n,r,l){var h=cn();Oe.flags|=t,h.memoizedState=Ma(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ku(t,n,r,l){var h=Tt();l=l===void 0?null:l;var f=h.memoizedState.inst;nt!==null&&l!==null&&pf(l,nt.memoizedState.deps)?h.memoizedState=Ma(n,f,r,l):(Oe.flags|=t,h.memoizedState=Ma(1|n,f,r,l))}function Mg(t,n){Qu(8390656,8,t,n)}function wf(t,n){Ku(2048,8,t,n)}function GT(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Hu(),Oe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Vg(t){var n=Tt().memoizedState;return GT({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function kg(t,n){return Ku(4,2,t,n)}function jg(t,n){return Ku(4,4,t,n)}function Lg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ug(t,n,r){r=r!=null?r.concat([t]):null,Ku(4,4,Lg.bind(null,n,t),r)}function xf(){}function Pg(t,n){var r=Tt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function zg(t,n){var r=Tt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=t(),Pr){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[l,n],l}function Rf(t,n,r){return r===void 0||(Yi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=qy(),Oe.lanes|=t,ks|=t,r)}function qg(t,n,r,l){return Sn(r,n)?r:Ia.current!==null?(t=Rf(t,r,l),Sn(t,n)||(Dt=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(Le&261930)===0?(Dt=!0,t.memoizedState=r):(t=qy(),Oe.lanes|=t,ks|=t,n)}function Bg(t,n,r,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var p=U.T,b={};U.T=b,If(t,!1,n,r);try{var I=h(),z=U.S;if(z!==null&&z(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=zT(I,l);Jl(t,n,G,Cn(t))}else Jl(t,n,l,Cn(t))}catch($){Jl(t,n,{then:function(){},status:"rejected",reason:$},Cn())}finally{W.p=f,p!==null&&b.types!==null&&(p.types=b.types),U.T=p}}function QT(){}function Nf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Hg(t).queue;Bg(t,h,n,se,r===null?QT:function(){return Fg(t),r(l)})}function Hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:se},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Fg(t){var n=Hg(t);n.next===null&&(n=t.alternate.memoizedState),Jl(t,n.next.queue,{},Cn())}function Cf(){return Yt(po)}function Gg(){return Tt().memoizedState}function Qg(){return Tt().memoizedState}function KT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Cn();t=Cs(r);var l=Is(n,t,r);l!==null&&(_n(l,n,r),Ql(l,n,r)),n={cache:sf()},t.payload=n;return}n=n.return}}function YT(t,n,r){var l=Cn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Yg(n,r):(r=Qh(t,n,r,l),r!==null&&(_n(r,t,l),Xg(r,n,l)))}function Kg(t,n,r){var l=Cn();Jl(t,n,r,l)}function Jl(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Yg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,b=f(p,r);if(h.hasEagerState=!0,h.eagerState=b,Sn(b,p))return Nu(t,n,h,0),at===null&&Ru(),!1}catch{}finally{}if(r=Qh(t,n,h,l),r!==null)return _n(r,t,l),Xg(r,n,l),!0}return!1}function If(t,n,r,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(n)throw Error(a(479))}else n=Qh(t,r,l,2),n!==null&&_n(n,t,2)}function Yu(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Yg(t,n){Da=qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,vl(t,r)}}var Zl={readContext:Yt,use:Fu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Zl.useEffectEvent=gt;var $g={readContext:Yt,use:Fu,useCallback:function(t,n){return cn().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:Mg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,Lg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=cn();n=n===void 0?null:n;var l=t();if(Pr){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=cn();if(r!==void 0){var h=r(n);if(Pr){Dn(!0);try{r(n)}finally{Dn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=YT.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var n=cn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,r=Kg.bind(null,Oe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xf,useDeferredValue:function(t,n){var r=cn();return Rf(r,t,n)},useTransition:function(){var t=Sf(!1);return t=Bg.bind(null,Oe,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Oe,h=cn();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),at===null)throw Error(a(349));(Le&127)!==0||yg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Mg(vg.bind(null,l,f,t),[t]),l.flags|=2048,Ma(9,{destroy:void 0},_g.bind(null,l,f,r,n),null),r},useId:function(){var t=cn(),n=at.identifierPrefix;if(He){var r=Ri,l=xi;r=(l&~(1<<32-vt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=qT++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Cf,useFormState:Ng,useActionState:Ng,useOptimistic:function(t){var n=cn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=If.bind(null,Oe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return cn().memoizedState=KT.bind(null,Oe)},useEffectEvent:function(t){var n=cn(),r={impl:t};return n.memoizedState=r,function(){if((Xe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:Yt,use:Fu,useCallback:Pg,useContext:Yt,useEffect:wf,useImperativeHandle:Ug,useInsertionEffect:kg,useLayoutEffect:jg,useMemo:zg,useReducer:Gu,useRef:Og,useState:function(){return Gu(Xi)},useDebugValue:xf,useDeferredValue:function(t,n){var r=Tt();return qg(r,nt.memoizedState,t,n)},useTransition:function(){var t=Gu(Xi)[0],n=Tt().memoizedState;return[typeof t=="boolean"?t:$l(t),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Cf,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var r=Tt();return Tg(r,nt,t,n)},useMemoCache:Ef,useCacheRefresh:Qg};Df.useEffectEvent=Vg;var Jg={readContext:Yt,use:Fu,useCallback:Pg,useContext:Yt,useEffect:wf,useImperativeHandle:Ug,useInsertionEffect:kg,useLayoutEffect:jg,useMemo:zg,useReducer:Tf,useRef:Og,useState:function(){return Tf(Xi)},useDebugValue:xf,useDeferredValue:function(t,n){var r=Tt();return nt===null?Rf(r,t,n):qg(r,nt.memoizedState,t,n)},useTransition:function(){var t=Tf(Xi)[0],n=Tt().memoizedState;return[typeof t=="boolean"?t:$l(t),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Cf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var r=Tt();return nt!==null?Tg(r,nt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Qg};Jg.useEffectEvent=Vg;function Of(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Cn(),h=Cs(l);h.payload=n,r!=null&&(h.callback=r),n=Is(t,h,l),n!==null&&(_n(n,t,l),Ql(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Cn(),h=Cs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Is(t,h,l),n!==null&&(_n(n,t,l),Ql(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Cn(),l=Cs(r);l.tag=2,n!=null&&(l.callback=n),n=Is(t,l,r),n!==null&&(_n(n,t,r),Ql(n,t,r))}};function Zg(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ul(r,l)||!Ul(h,f):!0}function Wg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function zr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function ey(t){xu(t)}function ty(t){console.error(t)}function ny(t){xu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function iy(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,r){return r=Cs(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function sy(t){return t=Cs(t),t.tag=3,t}function ry(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){iy(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){iy(n,r,l),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function XT(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&wa(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 31:case 13:return qn===null?lc():r.alternate===null&&yt===0&&(yt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),rd(t,l,h)),!1;case 22:return r.flags|=65536,l===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),rd(t,l,h)),!1}throw Error(a(435,r.tag))}return rd(t,l,h),lc(),!1}if(He)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(t=Error(a(422),{cause:l}),ql(Ln(t,r)))):(l!==Zh&&(n=Error(a(423),{cause:l}),ql(Ln(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,r),h=Vf(t.stateNode,l,h),cf(t,h),yt!==4&&(yt=2)),!1;var f=Error(a(520),{cause:l});if(f=Ln(f,r),ao===null?ao=[f]:ao.push(f),yt!==4&&(yt=2),n===null)return!0;l=Ln(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Vf(r.stateNode,l,t),cf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=sy(h),ry(h,t,r,l),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),Dt=!1;function Xt(t,n,r,l){n.child=t===null?ug(n,null,r,l):Ur(n,t.child,r,l)}function ay(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var b in l)b!=="ref"&&(p[b]=l[b])}else p=l;return Vr(n),l=gf(t,n,r,p,f,h),b=yf(),t!==null&&!Dt?(_f(t,n,h),$i(t,n,h)):(He&&b&&$h(n),n.flags|=1,Xt(t,n,l,h),n.child)}function ly(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,oy(t,n,f,l,h)):(t=Iu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ul,r(p,l)&&t.ref===n.ref)return $i(t,n,h)}return n.flags|=1,t=Fi(f,l),t.ref=n.ref,t.return=n,n.child=t}function oy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Ul(f,l)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return n.lanes=t.lanes,$i(t,n,h)}return jf(t,n,r,l,h)}function uy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return cy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?fg(n,f):ff(),dg(n);else return l=n.lanes=536870912,cy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Vu(n,f.cachePool),fg(n,f),Os(),n.memoizedState=null):(t!==null&&Vu(n,null),ff(),Os());return Xt(t,n,h,r),n.child}function Wl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(t,n,r,l,h){var f=af();return f=f===null?null:{parent:Ct._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Vu(n,null),ff(),dg(n),t!==null&&wa(t,n,l,!0),n.childLanes=h,null}function $u(t,n){return n=Zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function hy(t,n,r){return Ur(n,t.child,null,r),t=$u(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function $T(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=$u(n,l),n.lanes=536870912,Wl(null,t);if(mf(n),(t=ut)?(t=S_(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:As!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=Yp(t),r.return=n,n.child=r,Kt=n,ut=null)):t=null,t===null)throw xs(n);return n.lanes=536870912,null}return $u(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=hy(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Dt||wa(t,n,r,!1),h=(r&t.childLanes)!==0,Dt||h){if(l=at,l!==null&&(p=El(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ir(t,p),_n(l,t,p),kf;lc(),n=hy(t,n,r)}else t=f.treeContext,ut=Bn(p.nextSibling),Kt=n,He=!0,ws=null,zn=!1,t!==null&&Jp(n,t),n=$u(n,l),n.flags|=4096;return n}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function jf(t,n,r,l,h){return Vr(n),r=gf(t,n,r,l,void 0,h),l=yf(),t!==null&&!Dt?(_f(t,n,h),$i(t,n,h)):(He&&l&&$h(n),n.flags|=1,Xt(t,n,r,h),n.child)}function fy(t,n,r,l,h,f){return Vr(n),n.updateQueue=null,r=pg(n,l,r,h),mg(t),l=yf(),t!==null&&!Dt?(_f(t,n,f),$i(t,n,f)):(He&&l&&$h(n),n.flags|=1,Xt(t,n,r,f),n.child)}function dy(t,n,r,l,h){if(Vr(n),n.stateNode===null){var f=ba,p=r.contextType;typeof p=="object"&&p!==null&&(f=Yt(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Yt(p):ba,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Of(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Yl(n,l,f,h),Kl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,I=zr(r,b);f.props=I;var z=f.context,G=r.contextType;p=ba,typeof G=="object"&&G!==null&&(p=Yt(G));var $=r.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==p)&&Wg(n,f,l,p),Ns=!1;var q=n.memoizedState;f.state=q,Yl(n,l,f,h),Kl(),z=n.memoizedState,b||q!==z||Ns?(typeof $=="function"&&(Of(n,r,$,l),z=n.memoizedState),(I=Ns||Zg(n,r,I,l,q,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(t,n),p=n.memoizedProps,G=zr(r,p),f.props=G,$=n.pendingProps,q=f.context,z=r.contextType,I=ba,typeof z=="object"&&z!==null&&(I=Yt(z)),b=r.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||q!==I)&&Wg(n,f,l,I),Ns=!1,q=n.memoizedState,f.state=q,Yl(n,l,f,h),Kl();var H=n.memoizedState;p!==$||q!==H||Ns||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof b=="function"&&(Of(n,r,b,l),H=n.memoizedState),(G=Ns||Zg(n,r,G,l,q,H,I)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=I,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ur(n,t.child,null,h),n.child=Ur(n,null,r,h)):Xt(t,n,r,h),n.memoizedState=f.state,t=n.child):t=$i(t,n,h),t}function my(t,n,r,l){return Or(),n.flags|=256,Xt(t,n,r,l),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:ig()}}function Pf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function py(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(He){if(h?Ds(n):Os(),(t=ut)?(t=S_(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:As!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},r=Yp(t),r.return=n,n.child=r,Kt=n,ut=null)):t=null,t===null)throw xs(n);return bd(t)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Os(),h=n.mode,b=Zu({mode:"hidden",children:b},h),l=Dr(l,h,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Uf(r),l.childLanes=Pf(t,p,r),n.memoizedState=Lf,Wl(null,l)):(Ds(n),zf(n,b))}var I=t.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=qf(t,n,r)):n.memoizedState!==null?(Os(),n.child=t.child,n.flags|=128,n=null):(Os(),b=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),b=Dr(b,h,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Ur(n,t.child,null,r),l=n.child,l.memoizedState=Uf(r),l.childLanes=Pf(t,p,r),n.memoizedState=Lf,n=Wl(null,l));else if(Ds(n),bd(b)){if(p=b.nextSibling&&b.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(a(419)),l.stack="",l.digest=p,ql({value:l,source:null,stack:null}),n=qf(t,n,r)}else if(Dt||wa(t,n,r,!1),p=(r&t.childLanes)!==0,Dt||p){if(p=at,p!==null&&(l=El(p,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ir(t,l),_n(p,t,l),kf;Ed(b)||lc(),n=qf(t,n,r)}else Ed(b)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,ut=Bn(b.nextSibling),Kt=n,He=!0,ws=null,zn=!1,t!==null&&Jp(n,t),n=zf(n,l.children),n.flags|=4096);return n}return h?(Os(),b=l.fallback,h=n.mode,I=t.child,z=I.sibling,l=Fi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?b=Fi(z,b):(b=Dr(b,h,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,Wl(null,l),l=n.child,b=t.child.memoizedState,b===null?b=Uf(r):(h=b.cachePool,h!==null?(I=Ct._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ig(),b={baseLanes:b.baseLanes|r,cachePool:h}),l.memoizedState=b,l.childLanes=Pf(t,p,r),n.memoizedState=Lf,Wl(t.child,l)):(Ds(n),r=t.child,t=r.sibling,r=Fi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function zf(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=An(22,t,null,n),t.lanes=0,t}function qf(t,n,r){return Ur(n,t.child,null,r),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function gy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),tf(t.return,n,r)}function Bf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function yy(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=bt.current,b=(p&2)!==0;if(b?(p=p&1|2,n.flags|=128):p&=1,te(bt,p),Xt(t,n,l,r),l=He?zl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gy(t,r,n);else if(t.tag===19)gy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Bf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Bf(n,!0,r,null,f,l);break;case"together":Bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function $i(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ks|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(wa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Fi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Fi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function JT(t,n,r){switch(n.tag){case 3:ve(n,n.stateNode.containerInfo),Rs(n,Ct,t.memoizedState.cache),Or();break;case 27:case 5:Ie(n);break;case 4:ve(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(n),n.flags|=128,null):(r&n.child.childLanes)!==0?py(t,n,r):(Ds(n),t=$i(t,n,r),t!==null?t.sibling:null);Ds(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(wa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return yy(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(bt,bt.current),l)break;return null;case 22:return n.lanes=0,uy(t,n,r,n.pendingProps);case 24:Rs(n,Ct,t.memoizedState.cache)}return $i(t,n,r)}function _y(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Dt=!0;else{if(!Hf(t,r)&&(n.flags&128)===0)return Dt=!1,JT(t,n,r);Dt=(t.flags&131072)!==0}else Dt=!1,He&&(n.flags&1048576)!==0&&$p(n,zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=jr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(l=zr(t,l),n.tag=1,n=dy(null,n,t,l,r)):(n.tag=0,n=jf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===$e){n.tag=11,n=ay(null,n,t,l,r);break e}else if(h===O){n.tag=14,n=ly(null,n,t,l,r);break e}}throw n=ee(t)||t,Error(a(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=zr(l,n.pendingProps),dy(t,n,l,h,r);case 3:e:{if(ve(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),Yl(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Rs(n,Ct,l),l!==f.cache&&nf(n,[Ct],r,!0),Kl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(t,n,l,r);break e}else if(l!==h){h=Ln(Error(a(424)),n),ql(h),n=my(t,n,l,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Bn(t.firstChild),Kt=n,He=!0,ws=null,zn=!0,r=ug(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Or(),l===h){n=$i(t,n,r);break e}Xt(t,n,l,r)}n=n.child}return n;case 26:return Ju(t,n),t===null?(r=C_(n.type,null,n.pendingProps,null))?n.memoizedState=r:He||(r=n.type,t=n.pendingProps,l=mc(X.current).createElement(r),l[xt]=n,l[zt]=t,$t(l,r,t),Rt(l),n.stateNode=l):n.memoizedState=C_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ie(n),t===null&&He&&(l=n.stateNode=x_(n.type,n.pendingProps,X.current),Kt=n,zn=!0,h=ut,zs(n.type)?(Td=h,ut=Bn(l.firstChild)):ut=h),Xt(t,n,n.pendingProps.children,r),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&He&&((h=l=ut)&&(l=R1(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Kt=n,ut=Bn(l.firstChild),zn=!1,h=!0):h=!1),h||xs(n)),Ie(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,yd(h,f)?l=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,BT,null,null,r),po._currentValue=h),Ju(t,n),Xt(t,n,l,r),n.child;case 6:return t===null&&He&&((t=r=ut)&&(r=N1(r,n.pendingProps,zn),r!==null?(n.stateNode=r,Kt=n,ut=null,t=!0):t=!1),t||xs(n)),null;case 13:return py(t,n,r);case 4:return ve(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ur(n,null,l,r):Xt(t,n,l,r),n.child;case 11:return ay(t,n,n.type,n.pendingProps,r);case 7:return Xt(t,n,n.pendingProps,r),n.child;case 8:return Xt(t,n,n.pendingProps.children,r),n.child;case 12:return Xt(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Rs(n,n.type,l.value),Xt(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Vr(n),h=Yt(h),l=l(h),n.flags|=1,Xt(t,n,l,r),n.child;case 14:return ly(t,n,n.type,n.pendingProps,r);case 15:return oy(t,n,n.type,n.pendingProps,r);case 19:return yy(t,n,r);case 31:return $T(t,n,r);case 22:return uy(t,n,r,n.pendingProps);case 24:return Vr(n),l=Yt(Ct),t===null?(h=af(),h===null&&(h=at,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},of(n),Rs(n,Ct,h)):((t.lanes&r)!==0&&(uf(t,n),Yl(n,null,null,r),Kl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,Ct,l)):(l=f.cache,Rs(n,Ct,l),l!==h.cache&&nf(n,[Ct],r,!0))),Xt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ji(t){t.flags|=4}function Ff(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Gy())t.flags|=8192;else throw Lr=ju,lf}else t.flags&=-16777217}function vy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!V_(n))if(Gy())t.flags|=8192;else throw Lr=ju,lf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,La|=n)}function eo(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function ZT(t,n,r){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ki(Ct),de(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Aa(n)?Ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ji(n),f!==null?(ct(n),vy(n,f)):(ct(n),Ff(n,h,null,l,r))):f?f!==t.memoizedState?(Ji(n),ct(n),vy(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(n),ct(n),Ff(n,h,t,l,r)),null;case 27:if(we(n),r=X.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}t=Q.current,Aa(n)?Zp(n):(t=x_(h,l,r),n.stateNode=t,Ji(n))}return ct(n),null;case 5:if(we(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(f=Q.current,Aa(n))Zp(n);else{var p=mc(X.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[xt]=n,f[zt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch($t(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(n)}}return ct(n),Ff(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=X.current,Aa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Kt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||p_(t.nodeValue,r)),t||xs(n,!0)}else t=mc(t).createTextNode(l),t[xt]=n,n.stateNode=t}return ct(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Aa(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[xt]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else r=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ct(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xt]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),ct(n),null);case 4:return de(),t===null&&fd(n.stateNode.containerInfo),ct(n),null;case 10:return Ki(n.type),ct(n),null;case 19:if(F(bt),l=n.memoizedState,l===null)return ct(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)eo(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,eo(l,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Kp(r,t),r=r.sibling;return te(bt,bt.current&1|2),He&&Gi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&on()>sc&&(n.flags|=128,h=!0,eo(l,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),eo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!He)return ct(n),null}else 2*on()-l.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,eo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,r=bt.current,te(bt,h?r&1|2:r&1),He&&Gi(n,l.treeForkCount),t):(ct(n),null);case 22:case 23:return xn(n),df(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&F(kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ki(Ct),ct(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function WT(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(Ct),de(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return we(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(bt),null;case 4:return de(),null;case 10:return Ki(n.type),null;case 22:case 23:return xn(n),df(),t!==null&&F(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(Ct),null;case 25:return null;default:return null}}function Ey(t,n){switch(Jh(n),n.tag){case 3:Ki(Ct),de();break;case 26:case 27:case 5:we(n);break;case 4:de();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:F(bt);break;case 10:Ki(n.type);break;case 22:case 23:xn(n),df(),t!==null&&F(kr);break;case 24:Ki(Ct)}}function to(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(b){et(n,n.return,b)}}function Ms(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,b=p.destroy;if(b!==void 0){p.destroy=void 0,h=n;var I=r,z=b;try{z()}catch(G){et(h,I,G)}}}l=l.next}while(l!==f)}}catch(G){et(n,n.return,G)}}function by(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hg(n,r)}catch(l){et(t,t.return,l)}}}function Ty(t,n,r){r.props=zr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){et(t,n,l)}}function no(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){et(t,n,h)}}function Ni(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){et(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){et(t,n,h)}else r.current=null}function Sy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){et(t,t.return,h)}}function Gf(t,n,r){try{var l=t.stateNode;b1(l,t.type,r,n),l[zt]=n}catch(h){et(t,t.return,h)}}function Ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=$n));else if(l!==4&&(l===27&&zs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function ec(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&zs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function wy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$t(n,l,r),n[xt]=t,n[zt]=r}catch(f){et(t,t.return,f)}}var Zi=!1,Ot=!1,Yf=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function e1(t,n){if(t=t.containerInfo,pd=bc,t=Up(t),zh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,b=-1,I=-1,z=0,G=0,$=t,q=null;t:for(;;){for(var H;$!==r||h!==0&&$.nodeType!==3||(b=p+h),$!==f||l!==0&&$.nodeType!==3||(I=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(H=$.firstChild)!==null;)q=$,$=H;for(;;){if($===t)break t;if(q===r&&++z===h&&(b=p),q===f&&++G===l&&(I=p),(H=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=H}r=b===-1||I===-1?null:{start:b,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:t,selectionRange:r},bc=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var he=zr(r.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){et(r,r.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function Ry(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:es(t,r),l&4&&to(5,r);break;case 1:if(es(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){et(r,r.return,p)}else{var h=zr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){et(r,r.return,p)}}l&64&&by(r),l&512&&no(r,r.return);break;case 3:if(es(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hg(t,n)}catch(p){et(r,r.return,p)}}break;case 27:n===null&&l&4&&wy(r);case 26:case 5:es(t,r),n===null&&l&4&&Sy(r),l&512&&no(r,r.return);break;case 12:es(t,r);break;case 31:es(t,r),l&4&&Iy(t,r);break;case 13:es(t,r),l&4&&Dy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=u1.bind(null,r),C1(t,r))));break;case 22:if(l=r.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Ot,h=Zi;var f=Ot;Zi=l,(Ot=n)&&!f?ts(t,r,(r.subtreeFlags&8772)!==0):es(t,r),Zi=h,Ot=f}break;case 30:break;default:es(t,r)}}function Ny(t){var n=t.alternate;n!==null&&(t.alternate=null,Ny(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&la(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,mn=!1;function Wi(t,n,r){for(r=r.child;r!==null;)Cy(t,n,r),r=r.sibling}function Cy(t,n,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Qn,r)}catch{}switch(r.tag){case 26:Ot||Ni(r,n),Wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ot||Ni(r,n);var l=dt,h=mn;zs(r.type)&&(dt=r.stateNode,mn=!1),Wi(t,n,r),ho(r.stateNode),dt=l,mn=h;break;case 5:Ot||Ni(r,n);case 6:if(l=dt,h=mn,dt=null,Wi(t,n,r),dt=l,mn=h,dt!==null)if(mn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(r.stateNode)}catch(f){et(r,n,f)}else try{dt.removeChild(r.stateNode)}catch(f){et(r,n,f)}break;case 18:dt!==null&&(mn?(t=dt,b_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ga(t)):b_(dt,r.stateNode));break;case 4:l=dt,h=mn,dt=r.stateNode.containerInfo,mn=!0,Wi(t,n,r),dt=l,mn=h;break;case 0:case 11:case 14:case 15:Ms(2,r,n),Ot||Ms(4,r,n),Wi(t,n,r);break;case 1:Ot||(Ni(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ty(r,n,l)),Wi(t,n,r);break;case 21:Wi(t,n,r);break;case 22:Ot=(l=Ot)||r.memoizedState!==null,Wi(t,n,r),Ot=l;break;default:Wi(t,n,r)}}function Iy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ga(t)}catch(r){et(n,n.return,r)}}}function Dy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(r){et(n,n.return,r)}}function t1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var r=t1(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=c1.bind(null,t,l);l.then(h,h)}})}function pn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,b=p;e:for(;b!==null;){switch(b.tag){case 27:if(zs(b.type)){dt=b.stateNode,mn=!1;break e}break;case 5:dt=b.stateNode,mn=!1;break e;case 3:case 4:dt=b.stateNode.containerInfo,mn=!0;break e}b=b.return}if(dt===null)throw Error(a(160));Cy(f,p,h),dt=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,t),n=n.sibling}var ni=null;function Oy(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(n,t),gn(t),l&4&&(Ms(3,t,t.return),to(3,t),Ms(5,t,t.return));break;case 1:pn(n,t),gn(t),l&512&&(Ot||r===null||Ni(r,r.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ni;if(pn(n,t),gn(t),l&512&&(Ot||r===null||Ni(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$t(f,l,r),f[xt]=t,Rt(f),l=f;break e;case"link":var p=O_("link","href",h).get(l+(r.href||""));if(p){for(var b=0;b<p.length;b++)if(f=p[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(b,1);break t}}f=h.createElement(l),$t(f,l,r),h.head.appendChild(f);break;case"meta":if(p=O_("meta","content",h).get(l+(r.content||""))){for(b=0;b<p.length;b++)if(f=p[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(b,1);break t}}f=h.createElement(l),$t(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[xt]=t,Rt(f),l=f}t.stateNode=l}else M_(h,t.type,t.stateNode);else t.stateNode=D_(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?M_(h,t.type,t.stateNode):D_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,r.memoizedProps)}break;case 27:pn(n,t),gn(t),l&512&&(Ot||r===null||Ni(r,r.return)),r!==null&&l&4&&Gf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(pn(n,t),gn(t),l&512&&(Ot||r===null||Ni(r,r.return)),t.flags&32){h=t.stateNode;try{dn(h,"")}catch(he){et(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Gf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(pn(n,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){et(t,t.return,he)}}break;case 3:if(yc=null,h=ni,ni=pc(n.containerInfo),pn(n,t),ni=h,gn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(he){et(t,t.return,he)}Yf&&(Yf=!1,My(t));break;case 4:l=ni,ni=pc(t.stateNode.containerInfo),pn(n,t),gn(t),ni=l;break;case 12:pn(n,t),gn(t);break;case 31:pn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 13:pn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=Zi,G=Ot;if(Zi=z||h,Ot=G||I,pn(n,t),Ot=G,Zi=z,gn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Zi||Ot||qr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{b=I.stateNode;var $=I.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){et(I,I.return,he)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(he){et(I,I.return,he)}}}else if(n.tag===18){if(r===null){I=n;try{var H=I.stateNode;h?T_(H,!0):T_(I.stateNode,!1)}catch(he){et(I,I.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tc(t,r))));break;case 19:pn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,tc(t,l)));break;case 30:break;case 21:break;default:pn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ay(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(t);ec(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(dn(p,""),r.flags&=-33);var b=Qf(t);ec(t,b,p);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Qf(t);Kf(t,z,I);break;default:throw Error(a(161))}}catch(G){et(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(t,n.alternate,n),n=n.sibling}function qr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ms(4,n,n.return),qr(n);break;case 1:Ni(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ty(n,n.return,r),qr(n);break;case 27:ho(n.stateNode);case 26:case 5:Ni(n,n.return),qr(n);break;case 22:n.memoizedState===null&&qr(n);break;case 30:qr(n);break;default:qr(n)}t=t.sibling}}function ts(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,r),to(4,f);break;case 1:if(ts(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){et(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cg(I[h],b)}catch(z){et(l,l.return,z)}}r&&p&64&&by(f),no(f,f.return);break;case 27:wy(f);case 26:case 5:ts(h,f,r),r&&l===null&&p&4&&Sy(f),no(f,f.return);break;case 12:ts(h,f,r);break;case 31:ts(h,f,r),r&&p&4&&Iy(h,f);break;case 13:ts(h,f,r),r&&p&4&&Dy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,r),no(f,f.return);break;case 30:break;default:ts(h,f,r)}n=n.sibling}}function Xf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Bl(r))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bl(t))}function ii(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(t,n,r,l),n=n.sibling}function Vy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,r,l),h&2048&&to(9,n);break;case 1:ii(t,n,r,l);break;case 3:ii(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Bl(t)));break;case 12:if(h&2048){ii(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,b=f.onPostCommit;typeof b=="function"&&b(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){et(n,n.return,I)}}else ii(t,n,r,l);break;case 31:ii(t,n,r,l);break;case 13:ii(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ii(t,n,r,l):io(t,n):f._visibility&2?ii(t,n,r,l):(f._visibility|=2,Va(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:ii(t,n,r,l),h&2048&&$f(n.alternate,n);break;default:ii(t,n,r,l)}}function Va(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,b=r,I=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Va(f,p,b,I,h),to(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Va(f,p,b,I,h):io(f,p):(G._visibility|=2,Va(f,p,b,I,h)),h&&z&2048&&Xf(p.alternate,p);break;case 24:Va(f,p,b,I,h),h&&z&2048&&$f(p.alternate,p);break;default:Va(f,p,b,I,h)}n=n.sibling}}function io(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:io(r,l),h&2048&&Xf(l.alternate,l);break;case 24:io(r,l),h&2048&&$f(l.alternate,l);break;default:io(r,l)}n=n.sibling}}var so=8192;function ka(t,n,r){if(t.subtreeFlags&so)for(t=t.child;t!==null;)ky(t,n,r),t=t.sibling}function ky(t,n,r){switch(t.tag){case 26:ka(t,n,r),t.flags&so&&t.memoizedState!==null&&q1(r,ni,t.memoizedState,t.memoizedProps);break;case 5:ka(t,n,r);break;case 3:case 4:var l=ni;ni=pc(t.stateNode.containerInfo),ka(t,n,r),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=so,so=16777216,ka(t,n,r),so=l):ka(t,n,r));break;default:ka(t,n,r)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ro(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Bt=l,Uy(l,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:ro(t),t.flags&2048&&Ms(9,t,t.return);break;case 3:ro(t);break;case 12:ro(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):ro(t);break;default:ro(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Bt=l,Uy(l,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ms(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function Uy(t,n){for(;Bt!==null;){var r=Bt;switch(r.tag){case 0:case 11:case 15:Ms(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Bt=l;else e:for(r=t;Bt!==null;){l=Bt;var h=l.sibling,f=l.return;if(Ny(l),l===r){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var n1={getCacheForType:function(t){var n=Yt(Ct),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Yt(Ct).controller.signal}},i1=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,ke=null,Le=0,We=0,Rn=null,Vs=!1,ja=!1,Jf=!1,ns=0,yt=0,ks=0,Br=0,Zf=0,Nn=0,La=0,ao=null,yn=null,Wf=!1,ic=0,Py=0,sc=1/0,rc=null,js=null,Ut=0,Ls=null,Ua=null,is=0,ed=0,td=null,zy=null,lo=0,nd=null;function Cn(){return(Xe&2)!==0&&Le!==0?Le&-Le:U.T!==null?od():au()}function qy(){if(Nn===0)if((Le&536870912)===0||He){var t=pr;pr<<=1,(pr&3932160)===0&&(pr=262144),Nn=t}else Nn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Nn}function _n(t,n,r){(t===at&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Us(t,Le,Nn,!1)),gr(t,r),((Xe&2)===0||t!==at)&&(t===at&&((Xe&2)===0&&(Br|=r),yt===4&&Us(t,Le,Nn,!1)),Ci(t))}function By(t,n,r){if((Xe&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Kn(t,n),h=l?a1(t,n):sd(t,n,!0),f=l;do{if(h===0){ja&&!l&&Us(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!s1(r)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var b=t;h=ao;var I=b.current.memoizedState.isDehydrated;if(I&&(Pa(b,p).flags|=256),p=sd(b,p,!1),p!==2){if(Jf&&!I){b.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break e}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Pa(t,0),Us(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Us(l,n,Nn,!Vs);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-on(),10<h)){if(Us(l,n,Nn,!Vs),hi(l,0,!0)!==0)break e;is=n,l.timeoutHandle=v_(Hy.bind(null,l,r,yn,rc,Wf,n,Nn,Br,La,Vs,f,"Throttled",-0,0),h);break e}Hy(l,r,yn,rc,Wf,n,Nn,Br,La,Vs,f,null,-0,0)}}break}while(!0);Ci(t)}function Hy(t,n,r,l,h,f,p,b,I,z,G,$,q,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},ky(n,f,$);var he=(f&62914560)===f?ic-on():(f&4194048)===f?Py-on():0;if(he=B1($,he),he!==null){is=f,t.cancelPendingCommit=he(Jy.bind(null,t,n,f,r,l,h,p,b,I,G,$,null,q,H)),Us(t,f,p,!z);return}}Jy(t,n,f,r,l,h,p,b,I)}function s1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Us(t,n,r,l){n&=~Zf,n&=~Br,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-vt(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&yr(t,r,n)}function ac(){return(Xe&6)===0?(oo(0),!1):!0}function id(){if(ke!==null){if(We===0)var t=ke.return;else t=ke,Qi=Mr=null,vf(t),Ca=null,Fl=0,t=ke;for(;t!==null;)Ey(t.alternate,t),t=t.return;ke=null}}function Pa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,A1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),is=0,id(),at=t,ke=r=Fi(t.current,null),Le=n,We=0,Rn=null,Vs=!1,ja=Kn(t,n),Jf=!1,La=Nn=Zf=Br=ks=yt=0,yn=ao=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-vt(l),f=1<<h;n|=t[h],l&=~f}return ns=n,Ru(),r}function Fy(t,n){Oe=null,U.H=Zl,n===Na||n===ku?(n=ag(),We=3):n===lf?(n=ag(),We=4):We=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,ke===null&&(yt=1,Xu(t,Ln(n,t.current)))}function Gy(){var t=wn.current;return t===null?!0:(Le&4194048)===Le?qn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===qn:!1}function Qy(){var t=U.H;return U.H=Zl,t===null?Zl:t}function Ky(){var t=U.A;return U.A=n1,t}function lc(){yt=4,Vs||(Le&4194048)!==Le&&wn.current!==null||(ja=!0),(ks&134217727)===0&&(Br&134217727)===0||at===null||Us(at,Le,Nn,!1)}function sd(t,n,r){var l=Xe;Xe|=2;var h=Qy(),f=Ky();(at!==t||Le!==n)&&(rc=null,Pa(t,n)),n=!1;var p=yt;e:do try{if(We!==0&&ke!==null){var b=ke,I=Rn;switch(We){case 8:id(),p=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=We;if(We=0,Rn=null,za(t,b,I,z),r&&ja){p=0;break e}break;default:z=We,We=0,Rn=null,za(t,b,I,z)}}r1(),p=yt;break}catch(G){Fy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Qi=Mr=null,Xe=l,U.H=h,U.A=f,ke===null&&(at=null,Le=0,Ru()),p}function r1(){for(;ke!==null;)Yy(ke)}function a1(t,n){var r=Xe;Xe|=2;var l=Qy(),h=Ky();at!==t||Le!==n?(rc=null,sc=on()+500,Pa(t,n)):ja=Kn(t,n);e:do try{if(We!==0&&ke!==null){n=ke;var f=Rn;t:switch(We){case 1:We=0,Rn=null,za(t,n,f,1);break;case 2:case 9:if(sg(f)){We=0,Rn=null,Xy(n);break}n=function(){We!==2&&We!==9||at!==t||(We=7),Ci(t)},f.then(n,n);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:sg(f)?(We=0,Rn=null,Xy(n)):(We=0,Rn=null,za(t,n,f,7));break;case 5:var p=null;switch(ke.tag){case 26:p=ke.memoizedState;case 5:case 27:var b=ke;if(p?V_(p):b.stateNode.complete){We=0,Rn=null;var I=b.sibling;if(I!==null)ke=I;else{var z=b.return;z!==null?(ke=z,oc(z)):ke=null}break t}}We=0,Rn=null,za(t,n,f,5);break;case 6:We=0,Rn=null,za(t,n,f,6);break;case 8:id(),yt=6;break e;default:throw Error(a(462))}}l1();break}catch(G){Fy(t,G)}while(!0);return Qi=Mr=null,U.H=l,U.A=h,Xe=r,ke!==null?0:(at=null,Le=0,Ru(),yt)}function l1(){for(;ke!==null&&!Mh();)Yy(ke)}function Yy(t){var n=_y(t.alternate,t,ns);t.memoizedProps=t.pendingProps,n===null?oc(t):ke=n}function Xy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=fy(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=fy(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:vf(n);default:Ey(r,n),n=ke=Kp(n,ns),n=_y(r,n,ns)}t.memoizedProps=t.pendingProps,n===null?oc(t):ke=n}function za(t,n,r,l){Qi=Mr=null,vf(n),Ca=null,Fl=0;var h=n.return;try{if(XT(t,h,n,r,Le)){yt=1,Xu(t,Ln(r,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;yt=1,Xu(t,Ln(r,t.current)),ke=null;return}n.flags&32768?(He||l===1?t=!0:ja||(Le&536870912)!==0?t=!1:(Vs=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){$y(n,Vs);return}t=n.return;var r=ZT(n.alternate,n,ns);if(r!==null){ke=r;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);yt===0&&(yt=5)}function $y(t,n){do{var r=WT(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);yt=6,ke=null}function Jy(t,n,r,l,h,f,p,b,I){t.cancelPendingCommit=null;do uc();while(Ut!==0);if((Xe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,jh(t,r,f,p,b,I),t===at&&(ke=at=null,Le=0),Ua=n,Ls=t,is=r,ed=f,td=h,zy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,h1(ms,function(){return n_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=W.p,W.p=2,p=Xe,Xe|=4;try{e1(t,n,r)}finally{Xe=p,W.p=h,U.T=l}}Ut=1,Zy(),Wy(),e_()}}function Zy(){if(Ut===1){Ut=0;var t=Ls,n=Ua,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var l=W.p;W.p=2;var h=Xe;Xe|=4;try{Oy(n,t);var f=gd,p=Up(t.containerInfo),b=f.focusedElem,I=f.selectionRange;if(p!==b&&b&&b.ownerDocument&&Lp(b.ownerDocument.documentElement,b)){if(I!==null&&zh(b)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(G,b.value.length);else{var $=b.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var H=q.getSelection(),he=b.textContent.length,Te=Math.min(I.start,he),st=I.end===void 0?Te:Math.min(I.end,he);!H.extend&&Te>st&&(p=st,st=Te,Te=p);var j=jp(b,Te),V=jp(b,st);if(j&&V&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var P=$.createRange();P.setStart(j.node,j.offset),H.removeAllRanges(),Te>st?(H.addRange(P),H.extend(V.node,V.offset)):(P.setEnd(V.node,V.offset),H.addRange(P))}}}}for($=[],H=b;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var Y=$[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!pd,gd=pd=null}finally{Xe=h,W.p=l,U.T=r}}t.current=n,Ut=2}}function Wy(){if(Ut===2){Ut=0;var t=Ls,n=Ua,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var l=W.p;W.p=2;var h=Xe;Xe|=4;try{Ry(t,n.alternate,n)}finally{Xe=h,W.p=l,U.T=r}}Ut=3}}function e_(){if(Ut===4||Ut===3){Ut=0,Wo();var t=Ls,n=Ua,r=is,l=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ut=5:(Ut=0,Ua=Ls=null,t_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(js=null),zi(r),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=U.T,h=W.p,W.p=2,U.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var b=l[p];f(b.value,{componentStack:b.stack})}}finally{U.T=n,W.p=h}}(is&3)!==0&&uc(),Ci(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===nd?lo++:(lo=0,nd=t):lo=0,oo(0)}}function t_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Bl(n)))}function uc(){return Zy(),Wy(),e_(),n_()}function n_(){if(Ut!==5)return!1;var t=Ls,n=ed;ed=0;var r=zi(is),l=U.T,h=W.p;try{W.p=32>r?32:r,U.T=null,r=td,td=null;var f=Ls,p=is;if(Ut=0,Ua=Ls=null,is=0,(Xe&6)!==0)throw Error(a(331));var b=Xe;if(Xe|=4,Ly(f.current),Vy(f,f.current,p,r),Xe=b,oo(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{W.p=h,U.T=l,t_(t,n)}}function i_(t,n,r){n=Ln(r,n),n=Vf(t.stateNode,n,2),t=Is(t,n,2),t!==null&&(gr(t,2),Ci(t))}function et(t,n,r){if(t.tag===3)i_(t,t,r);else for(;n!==null;){if(n.tag===3){i_(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){t=Ln(r,t),r=sy(2),l=Is(n,r,2),l!==null&&(ry(r,l,n,t),gr(l,2),Ci(l));break}}n=n.return}}function rd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new i1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Jf=!0,h.add(r),t=o1.bind(null,t,n,r),n.then(t,t))}function o1(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,at===t&&(Le&r)===r&&(yt===4||yt===3&&(Le&62914560)===Le&&300>on()-ic?(Xe&2)===0&&Pa(t,0):Zf|=r,La===Le&&(La=0)),Ci(t)}function s_(t,n){n===0&&(n=ru()),t=Ir(t,n),t!==null&&(gr(t,n),Ci(t))}function u1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),s_(t,r)}function c1(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),s_(t,r)}function h1(t,n){return _t(t,n)}var cc=null,qa=null,ad=!1,hc=!1,ld=!1,Ps=0;function Ci(t){t!==qa&&t.next===null&&(qa===null?cc=qa=t:qa=qa.next=t),hc=!0,ad||(ad=!0,d1())}function oo(t,n){if(!ld&&hc){ld=!0;do for(var r=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-vt(42|t)+1)-1,f&=h&~(p&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,o_(l,f))}else f=Le,f=hi(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Kn(l,f)||(r=!0,o_(l,f));l=l.next}while(r);ld=!1}}function f1(){r_()}function r_(){hc=ad=!1;var t=0;Ps!==0&&S1()&&(t=Ps);for(var n=on(),r=null,l=cc;l!==null;){var h=l.next,f=a_(l,n);f===0?(l.next=null,r===null?cc=h:r.next=h,h===null&&(qa=r)):(r=l,(t!==0||(f&3)!==0)&&(hc=!0)),l=h}Ut!==0&&Ut!==5||oo(t),Ps!==0&&(Ps=0)}function a_(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-vt(f),b=1<<p,I=h[p];I===-1?((b&r)===0||(b&l)!==0)&&(h[p]=kh(b,n)):I<=n&&(t.expiredLanes|=b),f&=~b}if(n=at,r=Le,r=hi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Kn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ds(l),zi(r)){case 2:case 8:r=_l;break;case 32:r=ms;break;case 268435456:r=eu;break;default:r=ms}return l=l_.bind(null,t),r=_t(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ds(l),t.callbackPriority=2,t.callbackNode=null,2}function l_(t,n){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uc()&&t.callbackNode!==r)return null;var l=Le;return l=hi(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(By(t,l,n),a_(t,on()),t.callbackNode!=null&&t.callbackNode===r?l_.bind(null,t):null)}function o_(t,n){if(uc())return null;By(t,n,!0)}function d1(){w1(function(){(Xe&6)!==0?_t(yl,f1):r_()})}function od(){if(Ps===0){var t=xa;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Ps=t}return Ps}function u_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function c_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function m1(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=u_((h[zt]||null).action),p=l.submitter;p&&(n=(n=p[zt]||null)?u_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var b=new Ti("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var I=p?c_(h,p):new FormData(h);Nf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(b.preventDefault(),I=p?c_(h,p):new FormData(h),Nf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],p1=cd.toLowerCase(),g1=cd[0].toUpperCase()+cd.slice(1);ti(p1,"on"+g1)}ti(qp,"onAnimationEnd"),ti(Bp,"onAnimationIteration"),ti(Hp,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(OT,"onTransitionRun"),ti(MT,"onTransitionStart"),ti(VT,"onTransitionCancel"),ti(Fp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function h_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var b=l[p],I=b.instance,z=b.currentTarget;if(b=b.listener,I!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(b=l[p],I=b.instance,z=b.currentTarget,b=b.listener,I!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(G){xu(G)}h.currentTarget=null,f=I}}}}function je(t,n){var r=n[aa];r===void 0&&(r=n[aa]=new Set);var l=t+"__bubble";r.has(l)||(f_(n,t,2,!1),r.add(l))}function hd(t,n,r){var l=0;n&&(l|=4),f_(r,t,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[fc]){t[fc]=!0,bl.forEach(function(r){r!=="selectionchange"&&(y1.has(r)||hd(r,!1,t),hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,hd("selectionchange",!1,n))}}function f_(t,n,r,l){switch(q_(n)){case 2:var h=G1;break;case 8:h=Q1;break;default:h=Rd}r=h.bind(null,n,r,t),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function dd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var b=l.stateNode.containerInfo;if(b===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;b!==null;){if(p=pi(b),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue e}b=b.parentNode}}l=l.return}Es(function(){var z=f,G=Mn(r),$=[];e:{var q=Gp.get(t);if(q!==void 0){var H=Ti,he=t;switch(t){case"keypress":if(Ar(r)===0)break e;case"keydown":case"keyup":H=Su;break;case"focusin":he="focus",H=xr;break;case"focusout":he="blur",H=xr;break;case"beforeblur":case"afterblur":H=xr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case qp:case Bp:case Hp:H=gu;break;case Fp:H=T;break;case"scroll":case"scrollend":H=Ml;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Hi;break;case"toggle":case"beforetoggle":H=De}var Te=(n&4)!==0,st=!Te&&(t==="scroll"||t==="scrollend"),j=Te?q!==null?q+"Capture":null:q;Te=[];for(var V=z,P;V!==null;){var Y=V;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||j===null||(Y=Jn(V,j),Y!=null&&Te.push(co(V,Y,P))),st)break;V=V.return}0<Te.length&&(q=new H(q,he,null,r,G),$.push({event:q,listeners:Te}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&r!==Il&&(he=r.relatedTarget||r.fromElement)&&(pi(he)||he[di]))break e;if((H||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,H?(he=r.relatedTarget||r.toElement,H=z,he=he?pi(he):null,he!==null&&(st=c(he),Te=he.tag,he!==st||Te!==5&&Te!==27&&Te!==6)&&(he=null)):(H=null,he=z),H!==he)){if(Te=Vl,Y="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Hi,Y="onPointerLeave",j="onPointerEnter",V="pointer"),st=H==null?q:bn(H),P=he==null?q:bn(he),q=new Te(Y,V+"leave",H,r,G),q.target=st,q.relatedTarget=P,Y=null,pi(G)===z&&(Te=new Te(j,V+"enter",he,r,G),Te.target=P,Te.relatedTarget=st,Y=Te),st=Y,H&&he)t:{for(Te=_1,j=H,V=he,P=0,Y=j;Y;Y=Te(Y))P++;Y=0;for(var pe=V;pe;pe=Te(pe))Y++;for(;0<P-Y;)j=Te(j),P--;for(;0<Y-P;)V=Te(V),Y--;for(;P--;){if(j===V||V!==null&&j===V.alternate){Te=j;break t}j=Te(j),V=Te(V)}Te=null}else Te=null;H!==null&&d_($,q,H,Te,!1),he!==null&&st!==null&&d_($,st,he,Te,!0)}}e:{if(q=z?bn(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Qe=Ip;else if(Np(q))if(Dp)Qe=CT;else{Qe=RT;var fe=xT}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ca(z.elementType)&&(Qe=Ip):Qe=NT;if(Qe&&(Qe=Qe(t,z))){Cp($,Qe,r,G);break e}fe&&fe(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Rl(q,"number",q.value)}switch(fe=z?bn(z):window,t){case"focusin":(Np(fe)||fe.contentEditable==="true")&&(_a=fe,qh=z,Pl=null);break;case"focusout":Pl=qh=_a=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Pp($,r,G);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":Pp($,r,G)}var Me;if(Ye)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ya?Rr(t,r)&&(Ue="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(wi&&r.locale!=="ko"&&(ya||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ya&&(Me=Ol()):(bi=G,Dl="value"in bi?bi.value:bi.textContent,ya=!0)),fe=dc(z,Ue),0<fe.length&&(Ue=new Ai(Ue,t,null,r,G),$.push({event:Ue,listeners:fe}),Me?Ue.data=Me:(Me=ga(r),Me!==null&&(Ue.data=Me)))),(Me=kn?TT(t,r):ST(t,r))&&(Ue=dc(z,"onBeforeInput"),0<Ue.length&&(fe=new Ai("onBeforeInput","beforeinput",null,r,G),$.push({event:fe,listeners:Ue}),fe.data=Me)),m1($,t,z,r,G)}h_($,n)})}function co(t,n,r){return{instance:t,listener:n,currentTarget:r}}function dc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jn(t,r),h!=null&&l.unshift(co(t,h,f)),h=Jn(t,n),h!=null&&l.push(co(t,h,f))),t.tag===3)return l;t=t.return}return[]}function _1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var b=r,I=b.alternate,z=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||z===null||(I=z,h?(z=Jn(r,f),z!=null&&p.unshift(co(r,z,I))):h||(z=Jn(r,f),z!=null&&p.push(co(r,z,I)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var v1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function m_(t){return(typeof t=="string"?t:""+t).replace(v1,`
`).replace(E1,"")}function p_(t,n){return n=m_(n),m_(t)===n}function it(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,r,l);break;case"style":Cl(t,l,f);break;case"data":if(n!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ha(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&it(t,n,"name",h.name,h,null),it(t,n,"formEncType",h.formEncType,h,null),it(t,n,"formMethod",h.formMethod,h,null),it(t,n,"formTarget",h.formTarget,h,null)):(it(t,n,"encType",h.encType,h,null),it(t,n,"method",h.method,h,null),it(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ha(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":je("beforetoggle",t),je("toggle",t),oa(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,oa(t,r,l))}}function md(t,n,r,l,h,f){switch(r){case"style":Cl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[zt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):oa(t,r,l)}}}function $t(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:it(t,n,f,p,r,null)}}h&&it(t,n,"srcSet",r.srcSet,r,null),l&&it(t,n,"src",r.src,r,null);return;case"input":je("invalid",t);var b=f=p=h=null,I=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:it(t,n,l,G,r,null)}}cu(t,f,b,I,z,p,h,!1);return;case"select":je("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(b=r[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":p=b;break;case"multiple":l=b;default:it(t,n,h,b,r,null)}n=f,r=p,t.multiple=!!l,n!=null?gs(t,!!l,n,!1):r!=null&&gs(t,!!l,r,!0);return;case"textarea":je("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(b=r[p],b!=null))switch(p){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:it(t,n,p,b,r,null)}ys(t,l,h,f);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,n,I,l,r,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<uo.length;l++)je(uo[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:it(t,n,z,l,r,null)}return;default:if(ca(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&md(t,n,G,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&it(t,n,b,l,r,null))}function b1(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,b=null,I=null,z=null,G=null;for(H in r){var $=r[H];if(r.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(H)||it(t,n,H,null,l,$)}}for(var q in l){var H=l[q];if($=r[q],l.hasOwnProperty(q)&&(H!=null||$!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&it(t,n,q,H,l,$)}}ua(t,p,b,I,z,G,f,h);return;case"select":H=p=b=q=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||it(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":b=f;break;case"multiple":p=f;default:f!==I&&it(t,n,h,f,l,I)}n=b,r=p,l=H,q!=null?gs(t,!!r,q,!1):!!l!=!!r&&(n!=null?gs(t,!!r,n,!0):gs(t,!!r,r?[]:"",!1));return;case"textarea":H=q=null;for(b in r)if(h=r[b],r.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:it(t,n,b,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&it(t,n,p,h,l,f)}hu(t,q,H);return;case"option":for(var he in r)if(q=r[he],r.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:it(t,n,he,null,l,q)}for(I in l)if(q=l[I],H=r[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:it(t,n,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in r)q=r[Te],r.hasOwnProperty(Te)&&q!=null&&!l.hasOwnProperty(Te)&&it(t,n,Te,null,l,q);for(z in l)if(q=l[z],H=r[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:it(t,n,z,q,l,H)}return;default:if(ca(n)){for(var st in r)q=r[st],r.hasOwnProperty(st)&&q!==void 0&&!l.hasOwnProperty(st)&&md(t,n,st,void 0,l,q);for(G in l)q=l[G],H=r[G],!l.hasOwnProperty(G)||q===H||q===void 0&&H===void 0||md(t,n,G,q,l,H);return}}for(var j in r)q=r[j],r.hasOwnProperty(j)&&q!=null&&!l.hasOwnProperty(j)&&it(t,n,j,null,l,q);for($ in l)q=l[$],H=r[$],!l.hasOwnProperty($)||q===H||q==null&&H==null||it(t,n,$,q,l,H)}function g_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,b=h.duration;if(f&&b&&g_(p)){for(p=0,b=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],z=I.startTime;if(z>b)break;var G=I.transferSize,$=I.initiatorType;G&&g_($)&&(I=I.responseEnd,p+=G*(I<b?1:(b-z)/(I-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function S1(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(t){return E_.resolve(null).then(t).catch(x1)}:v_;function x1(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function b_(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Ga(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ho(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ho(r);for(var f=r.firstChild;f;){var p=f.nextSibling,b=f.nodeName;f[mi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ho(t.ownerDocument.body);r=h}while(r);Ga(n)}function T_(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),la(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function R1(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function N1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function S_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Bn(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function C1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function A_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Bn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function w_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function x_(t,n,r){switch(n=mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ho(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);la(t)}var Hn=new Map,R_=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=W.d;W.d={f:I1,r:D1,D:O1,C:M1,L:V1,m:k1,X:L1,S:j1,M:U1};function I1(){var t=ss.f(),n=ac();return t||n}function D1(t){var n=On(t);n!==null&&n.tag===5&&n.type==="form"?Fg(n):ss.r(t)}var Ba=typeof document>"u"?null:document;function N_(t,n,r){var l=Ba;if(l&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),R_.has(h)||(R_.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$t(n,"link",t),Rt(n),l.head.appendChild(n)))}}function O1(t){ss.D(t),N_("dns-prefetch",t,null)}function M1(t,n){ss.C(t,n),N_("preconnect",t,n)}function V1(t,n,r){ss.L(t,n,r);var l=Ba;if(l&&t&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+fn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+fn(r.imageSizes)+'"]')):h+='[href="'+fn(t)+'"]';var f=h;switch(n){case"style":f=Ha(t);break;case"script":f=Fa(t)}Hn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Hn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(fo(f))||n==="script"&&l.querySelector(mo(f))||(n=l.createElement("link"),$t(n,"link",t),Rt(n),l.head.appendChild(n)))}}function k1(t,n){ss.m(t,n);var r=Ba;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(t)}if(!Hn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Hn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(mo(f)))return}l=r.createElement("link"),$t(l,"link",t),Rt(l),r.head.appendChild(l)}}}function j1(t,n,r){ss.S(t,n,r);var l=Ba;if(l&&t){var h=gi(l).hoistableStyles,f=Ha(t);n=n||"default";var p=h.get(f);if(!p){var b={loading:0,preload:null};if(p=l.querySelector(fo(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Hn.get(f))&&Sd(t,r);var I=p=l.createElement("link");Rt(I),$t(I,"link",t),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,gc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:b},h.set(f,p)}}}function L1(t,n){ss.X(t,n);var r=Ba;if(r&&t){var l=gi(r).hoistableScripts,h=Fa(t),f=l.get(h);f||(f=r.querySelector(mo(h)),f||(t=w({src:t,async:!0},n),(n=Hn.get(h))&&Ad(t,n),f=r.createElement("script"),Rt(f),$t(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function U1(t,n){ss.M(t,n);var r=Ba;if(r&&t){var l=gi(r).hoistableScripts,h=Fa(t),f=l.get(h);f||(f=r.querySelector(mo(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Hn.get(h))&&Ad(t,n),f=r.createElement("script"),Rt(f),$t(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function C_(t,n,r,l){var h=(h=X.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ha(r.href),r=gi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ha(r.href);var f=gi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(fo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(t,r),f||P1(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(r),r=gi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ha(t){return'href="'+fn(t)+'"'}function fo(t){return'link[rel="stylesheet"]['+t+"]"}function I_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function P1(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$t(n,"link",r),Rt(n),t.head.appendChild(n))}function Fa(t){return'[src="'+fn(t)+'"]'}function mo(t){return"script[async]"+t}function D_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fn(r.href)+'"]');if(l)return n.instance=l,Rt(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),$t(l,"style",h),gc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ha(r.href);var f=t.querySelector(fo(h));if(f)return n.state.loading|=4,n.instance=f,Rt(f),f;l=I_(r),(h=Hn.get(h))&&Sd(l,h),f=(t.ownerDocument||t).createElement("link"),Rt(f);var p=f;return p._p=new Promise(function(b,I){p.onload=b,p.onerror=I}),$t(f,"link",l),n.state.loading|=4,gc(f,r.precedence,t),n.instance=f;case"script":return f=Fa(r.src),(h=t.querySelector(mo(f)))?(n.instance=h,Rt(h),h):(l=r,(h=Hn.get(f))&&(l=w({},r),Ad(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Rt(h),$t(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,r.precedence,t));return n.instance}function gc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var b=l[p];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function O_(t,n,r){if(yc===null){var l=new Map,h=yc=new Map;h.set(r,l)}else h=yc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[mi]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var b=l.get(p);b?b.push(f):l.set(p,[f])}}return l}function M_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function z1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function q1(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ha(l.href),f=n.querySelector(fo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Rt(f);return}f=n.ownerDocument||n,l=I_(l),(h=Hn.get(h))&&Sd(l,h),f=f.createElement("link"),Rt(f);var p=f;p._p=new Promise(function(b,I){p.onload=b,p.onerror=I}),$t(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=_c.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function B1(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*T1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(H1,t),vc=null,_c.call(t))}function H1(t,n){if(!(n.state.loading&4)){var r=vc.get(t);if(r)var l=r.get(null);else{r=new Map,vc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var po={$$typeof:_e,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function F1(t,n,r,l,h,f,p,b,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function k_(t,n,r,l,h,f,p,b,I,z,G,$){return t=new F1(t,n,r,p,I,z,G,$,b),n=1,f===!0&&(n|=24),f=An(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},of(f),t}function j_(t){return t?(t=ba,t):ba}function L_(t,n,r,l,h,f){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Is(t,l,n),r!==null&&(_n(r,t,n),Ql(r,t,n))}function U_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function xd(t,n){U_(t,n),(t=t.alternate)&&U_(t,n)}function P_(t){if(t.tag===13||t.tag===31){var n=Ir(t,67108864);n!==null&&_n(n,t,67108864),xd(t,67108864)}}function z_(t){if(t.tag===13||t.tag===31){var n=Cn();n=_r(n);var r=Ir(t,n);r!==null&&_n(r,t,n),xd(t,n)}}var bc=!0;function G1(t,n,r,l){var h=U.T;U.T=null;var f=W.p;try{W.p=2,Rd(t,n,r,l)}finally{W.p=f,U.T=h}}function Q1(t,n,r,l){var h=U.T;U.T=null;var f=W.p;try{W.p=8,Rd(t,n,r,l)}finally{W.p=f,U.T=h}}function Rd(t,n,r,l){if(bc){var h=Nd(l);if(h===null)dd(t,n,l,Tc,r),B_(t,l);else if(Y1(h,t,n,r,l))l.stopPropagation();else if(B_(t,l),n&4&&-1<K1.indexOf(t)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ci(f.pendingLanes);if(p!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;p;){var I=1<<31-vt(p);b.entanglements[1]|=I,p&=~I}Ci(f),(Xe&6)===0&&(sc=on()+500,oo(0))}}break;case 31:case 13:b=Ir(f,2),b!==null&&_n(b,f,2),ac(),xd(f,2)}if(f=Nd(l),f===null&&dd(t,n,l,Tc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(t,n,l,null,r)}}function Nd(t){return t=Mn(t),Cd(t)}var Tc=null;function Cd(t){if(Tc=null,t=pi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tc=t,null}function q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case yl:return 2;case _l:return 8;case ms:case Vh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Id=!1,qs=null,Bs=null,Hs=null,go=new Map,yo=new Map,Fs=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,n){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(n.pointerId)}}function _o(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&P_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Y1(t,n,r,l,h){switch(n){case"focusin":return qs=_o(qs,t,n,r,l,h),!0;case"dragenter":return Bs=_o(Bs,t,n,r,l,h),!0;case"mouseover":return Hs=_o(Hs,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return go.set(f,_o(go.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,yo.set(f,_o(yo.get(f)||null,t,n,r,l,h)),!0}return!1}function H_(t){var n=pi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Yn(t.priority,function(){z_(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,Yn(t.priority,function(){z_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Nd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Il=l,r.target.dispatchEvent(l),Il=null}else return n=On(r),n!==null&&P_(n),t.blockedOn=r,!1;n.shift()}return!0}function F_(t,n,r){Sc(t)&&r.delete(n)}function X1(){Id=!1,qs!==null&&Sc(qs)&&(qs=null),Bs!==null&&Sc(Bs)&&(Bs=null),Hs!==null&&Sc(Hs)&&(Hs=null),go.forEach(F_),yo.forEach(F_)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,Id||(Id=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,X1)))}var wc=null;function G_(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Cd(l||r)===null)continue;break}var f=On(r);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Ga(t){function n(I){return Ac(I,t)}qs!==null&&Ac(qs,t),Bs!==null&&Ac(Bs,t),Hs!==null&&Ac(Hs,t),go.forEach(n),yo.forEach(n);for(var r=0;r<Fs.length;r++){var l=Fs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fs.length&&(r=Fs[0],r.blockedOn===null);)H_(r),r.blockedOn===null&&Fs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[zt]||null;if(typeof f=="function")p||G_(r);else if(p){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[zt]||null)b=p.formAction;else if(Cd(h)!==null)continue}else b=p.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),G_(r)}}}function Q_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}xc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Cn();L_(r,l,t,n,null,null)},xc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;L_(t.current,2,null,t,null,null),ac(),n[di]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Fs.length&&n!==0&&n<Fs[r].priority;r++);Fs.splice(r,0,t),r===0&&H_(t)}};var K_=e.version;if(K_!=="19.2.0")throw Error(a(527,K_,"19.2.0"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var $1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Qn=Rc.inject($1),Gt=Rc}catch{}}return Eo.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=ey,f=ty,p=ny;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=k_(t,1,!1,null,null,r,l,null,h,f,p,Q_),t[di]=n.current,fd(t),new Dd(n)},Eo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=ey,p=ty,b=ny,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=k_(t,1,!0,n,r??null,l,h,I,f,p,b,Q_),n.context=j_(null),r=n.current,l=Cn(),l=_r(l),h=Cs(l),h.callback=null,Is(r,h,l),r=l,n.current.lanes=r,gr(n,r),Ci(n),t[di]=n.current,fd(t),new xc(n)},Eo.version="19.2.0",Eo}var i0;function aS(){if(i0)return Vd.exports;i0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=rS(),Vd.exports}var lS=aS();const oS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),s0=s=>{const e=uS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Gv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),cS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var hS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fS=Ve.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>Ve.createElement("svg",{ref:_,...hS,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Gv("lucide",o),...!c&&!cS(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>Ve.createElement(y,S)),...Array.isArray(c)?c:[c]]));const ot=(s,e)=>{const i=Ve.forwardRef(({className:a,...o},c)=>Ve.createElement(fS,{ref:c,iconNode:e,className:Gv(`lucide-${oS(s0(s))}`,`lucide-${s}`,a),...o}));return i.displayName=s0(s),i};const dS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mS=ot("arrow-left",dS);const pS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],r0=ot("box",pS);const gS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ud=ot("briefcase",gS);const yS=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],_S=ot("calendar-plus",yS);const vS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],a0=ot("calendar",vS);const ES=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Pd=ot("camera",ES);const bS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],TS=ot("chart-column",bS);const SS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],AS=ot("chart-pie",SS);const wS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xS=ot("check",wS);const RS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],l0=ot("circle-alert",RS);const NS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CS=ot("circle-check-big",NS);const IS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],zd=ot("clipboard-list",IS);const DS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OS=ot("eye",DS);const MS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],o0=ot("history",MS);const VS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],kS=ot("log-in",VS);const jS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LS=ot("log-out",jS);const US=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],PS=ot("monitor-play",US);const zS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],u0=ot("pen-tool",zS);const qS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qd=ot("save",qS);const BS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],HS=ot("trending-up",BS);const FS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],GS=ot("triangle-alert",FS);const QS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],KS=ot("user",QS);const YS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XS=ot("users",YS);const $S=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],c0=ot("utensils",$S);const JS=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],h0=ot("video",JS);const ZS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bd=ot("x",ZS),WS=()=>{};var f0={};const Qv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},eA=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,S=c>>2,w=(c&3)<<4|g>>4;let k=(g&15)<<2|y>>6,K=y&63;_||(K=64,d||(k=64)),a.push(i[S],i[w],i[k],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Qv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):eA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const w=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new tA;const k=c<<2|g>>4;if(a.push(k),y!==64){const K=g<<4&240|y>>2;if(a.push(K),w!==64){const ne=y<<6&192|w;a.push(ne)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(s){const e=Qv(s);return Kv.encodeByteArray(e,!0)},Kc=function(s){return nA(s).replace(/\./g,"")},Yv=function(s){try{return Kv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sA=()=>iA().__FIREBASE_DEFAULTS__,rA=()=>{if(typeof process>"u"||typeof f0>"u")return;const s=f0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},aA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Yv(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return WS()||sA()||rA()||aA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Xv=s=>fh()?.emulatorHosts?.[s],lA=s=>{const e=Xv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},$v=()=>fh()?.config,Jv=s=>fh()?.[`_${s}`];class oA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function ul(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zv(s){return(await fetch(s,{credentials:"include"})).ok}function uA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const xo={};function cA(){const s={prod:[],emulator:[]};for(const e of Object.keys(xo))xo[e]?s.emulator.push(e):s.prod.push(e);return s}function hA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let d0=!1;function Wv(s,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||xo[s]===e||xo[s]||d0)return;xo[s]=e;function i(k){return`__firebase__banner__${k}`}const a="__firebase__banner",c=cA().prod.length>0;function d(){const k=document.getElementById(a);k&&k.remove()}function g(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function _(k,K){k.setAttribute("width","24"),k.setAttribute("id",K),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function y(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{d0=!0,d()},k}function S(k,K){k.setAttribute("id",K),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function w(){const k=hA(a),K=i("text"),ne=document.getElementById(K)||document.createElement("span"),oe=i("learnmore"),ie=document.getElementById(oe)||document.createElement("a"),Ee=i("preprendIcon"),Re=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const _e=k.element;g(_e),S(ie,oe);const $e=y();_(Re,Ee),_e.append(Re,ne,ie,$e),document.body.appendChild(_e)}c?(ne.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ne.innerText="Preview backend running in this workspace."),ne.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function dA(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function gA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yA(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function _A(){return!dA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const bA="FirebaseError";class fs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=bA,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?TA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new fs(o,g,a)}}function TA(s,e){return s.replace(SA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const SA=/\{\$([^}]+)}/g;function AA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Jr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(m0(c)&&m0(d)){if(!Jr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function m0(s){return s!==null&&typeof s=="object"}function Bo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function wA(s,e){const i=new xA(s,e);return i.subscribe.bind(i)}class xA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");RA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Hd),o.error===void 0&&(o.error=Hd),o.complete===void 0&&(o.complete=Hd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hd(){}function Ft(s){return s&&s._delegate?s._delegate:s}class Zr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gr="[DEFAULT]";class NA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new oA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IA(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(s){return s===Gr?void 0:s}function IA(s){return s.instantiationMode==="EAGER"}class DA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new NA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const OA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},MA=Pe.INFO,VA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},kA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=VA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=MA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const jA=(s,e)=>e.some(i=>s instanceof i);let p0,g0;function LA(){return p0||(p0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UA(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,im=new WeakMap,tE=new WeakMap,Fd=new WeakMap,Om=new WeakMap;function PA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Js(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&eE.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function zA(s){if(im.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,e)}let sm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return im.get(s);if(e==="objectStoreNames")return s.objectStoreNames||tE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function qA(s){sm=s(sm)}function BA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Gd(this),e,...i);return tE.set(a,e.sort?e.sort():[e]),Js(a)}:UA().includes(s)?function(...e){return s.apply(Gd(this),e),Js(eE.get(this))}:function(...e){return Js(s.apply(Gd(this),e))}}function HA(s){return typeof s=="function"?BA(s):(s instanceof IDBTransaction&&zA(s),jA(s,LA())?new Proxy(s,sm):s)}function Js(s){if(s instanceof IDBRequest)return PA(s);if(Fd.has(s))return Fd.get(s);const e=HA(s);return e!==s&&(Fd.set(s,e),Om.set(e,s)),e}const Gd=s=>Om.get(s);function FA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Js(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Js(d.result),_.oldVersion,_.newVersion,Js(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const GA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],Qd=new Map;function y0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Qd.get(e))return Qd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=QA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||GA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Qd.set(e,c),c}qA(s=>({...s,get:(e,i,a)=>y0(e,i)||s.get(e,i,a),has:(e,i)=>!!y0(e,i)||s.has(e,i)}));class KA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function YA(s){return s.getComponent()?.type==="VERSION"}const rm="@firebase/app",_0="0.14.6";const os=new Dm("@firebase/app"),XA="@firebase/app-compat",$A="@firebase/analytics-compat",JA="@firebase/analytics",ZA="@firebase/app-check-compat",WA="@firebase/app-check",ew="@firebase/auth",tw="@firebase/auth-compat",nw="@firebase/database",iw="@firebase/data-connect",sw="@firebase/database-compat",rw="@firebase/functions",aw="@firebase/functions-compat",lw="@firebase/installations",ow="@firebase/installations-compat",uw="@firebase/messaging",cw="@firebase/messaging-compat",hw="@firebase/performance",fw="@firebase/performance-compat",dw="@firebase/remote-config",mw="@firebase/remote-config-compat",pw="@firebase/storage",gw="@firebase/storage-compat",yw="@firebase/firestore",_w="@firebase/ai",vw="@firebase/firestore-compat",Ew="firebase",bw="12.6.0";const am="[DEFAULT]",Tw={[rm]:"fire-core",[XA]:"fire-core-compat",[JA]:"fire-analytics",[$A]:"fire-analytics-compat",[WA]:"fire-app-check",[ZA]:"fire-app-check-compat",[ew]:"fire-auth",[tw]:"fire-auth-compat",[nw]:"fire-rtdb",[iw]:"fire-data-connect",[sw]:"fire-rtdb-compat",[rw]:"fire-fn",[aw]:"fire-fn-compat",[lw]:"fire-iid",[ow]:"fire-iid-compat",[uw]:"fire-fcm",[cw]:"fire-fcm-compat",[hw]:"fire-perf",[fw]:"fire-perf-compat",[dw]:"fire-rc",[mw]:"fire-rc-compat",[pw]:"fire-gcs",[gw]:"fire-gcs-compat",[yw]:"fire-fst",[vw]:"fire-fst-compat",[_w]:"fire-vertex","fire-js":"fire-js",[Ew]:"fire-js-all"};const Yc=new Map,Sw=new Map,lm=new Map;function v0(s,e){try{s.container.addComponent(e)}catch(i){os.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function tl(s){const e=s.name;if(lm.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,s);for(const i of Yc.values())v0(i,s);for(const i of Sw.values())v0(i,s);return!0}function Mm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function si(s){return s==null?!1:s.settings!==void 0}const Aw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new qo("app","Firebase",Aw);class ww{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const cl=bw;function nE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:am,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(i||(i=$v()),!i)throw Zs.create("no-options");const c=Yc.get(o);if(c){if(Jr(i,c.options)&&Jr(a,c.config))return c;throw Zs.create("duplicate-app",{appName:o})}const d=new DA(o);for(const _ of lm.values())d.addComponent(_);const g=new ww(i,a,d);return Yc.set(o,g),g}function iE(s=am){const e=Yc.get(s);if(!e&&s===am&&$v())return nE();if(!e)throw Zs.create("no-app",{appName:s});return e}function Ws(s,e,i){let a=Tw[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(d.join(" "));return}tl(new Zr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const xw="firebase-heartbeat-database",Rw=1,Oo="firebase-heartbeat-store";let Kd=null;function sE(){return Kd||(Kd=FA(xw,Rw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Oo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Zs.create("idb-open",{originalErrorMessage:s.message})})),Kd}async function Nw(s){try{const i=(await sE()).transaction(Oo),a=await i.objectStore(Oo).get(rE(s));return await i.done,a}catch(e){if(e instanceof fs)os.warn(e.message);else{const i=Zs.create("idb-get",{originalErrorMessage:e?.message});os.warn(i.message)}}}async function E0(s,e){try{const a=(await sE()).transaction(Oo,"readwrite");await a.objectStore(Oo).put(e,rE(s)),await a.done}catch(i){if(i instanceof fs)os.warn(i.message);else{const a=Zs.create("idb-set",{originalErrorMessage:i?.message});os.warn(a.message)}}}function rE(s){return`${s.name}!${s.options.appId}`}const Cw=1024,Iw=30;class Dw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Mw(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=b0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Iw){const o=Vw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b0(),{heartbeatsToSend:i,unsentEntries:a}=Ow(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function b0(){return new Date().toISOString().substring(0,10)}function Ow(s,e=Cw){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),T0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),T0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Mw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Nw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function T0(s){return Kc(JSON.stringify({version:2,heartbeats:s})).length}function Vw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function kw(s){tl(new Zr("platform-logger",e=>new KA(e),"PRIVATE")),tl(new Zr("heartbeat",e=>new Dw(e),"PRIVATE")),Ws(rm,_0,s),Ws(rm,_0,"esm2020"),Ws("fire-js","")}kw("");var jw="firebase",Lw="12.6.0";Ws(jw,Lw,"app");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,aE;(function(){var s;function e(O,R){function A(){}A.prototype=R.prototype,O.F=R.prototype,O.prototype=new A,O.prototype.constructor=O,O.D=function(D,N,M){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return R.prototype[N].apply(D,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,A){A||(A=0);const D=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)D[N]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(N=0;N<16;++N)D[N]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=O.g[0],A=O.g[1],N=O.g[2];let M=O.g[3],x;x=R+(M^A&(N^M))+D[0]+3614090360&4294967295,R=A+(x<<7&4294967295|x>>>25),x=M+(N^R&(A^N))+D[1]+3905402710&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(A^M&(R^A))+D[2]+606105819&4294967295,N=M+(x<<17&4294967295|x>>>15),x=A+(R^N&(M^R))+D[3]+3250441966&4294967295,A=N+(x<<22&4294967295|x>>>10),x=R+(M^A&(N^M))+D[4]+4118548399&4294967295,R=A+(x<<7&4294967295|x>>>25),x=M+(N^R&(A^N))+D[5]+1200080426&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(A^M&(R^A))+D[6]+2821735955&4294967295,N=M+(x<<17&4294967295|x>>>15),x=A+(R^N&(M^R))+D[7]+4249261313&4294967295,A=N+(x<<22&4294967295|x>>>10),x=R+(M^A&(N^M))+D[8]+1770035416&4294967295,R=A+(x<<7&4294967295|x>>>25),x=M+(N^R&(A^N))+D[9]+2336552879&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(A^M&(R^A))+D[10]+4294925233&4294967295,N=M+(x<<17&4294967295|x>>>15),x=A+(R^N&(M^R))+D[11]+2304563134&4294967295,A=N+(x<<22&4294967295|x>>>10),x=R+(M^A&(N^M))+D[12]+1804603682&4294967295,R=A+(x<<7&4294967295|x>>>25),x=M+(N^R&(A^N))+D[13]+4254626195&4294967295,M=R+(x<<12&4294967295|x>>>20),x=N+(A^M&(R^A))+D[14]+2792965006&4294967295,N=M+(x<<17&4294967295|x>>>15),x=A+(R^N&(M^R))+D[15]+1236535329&4294967295,A=N+(x<<22&4294967295|x>>>10),x=R+(N^M&(A^N))+D[1]+4129170786&4294967295,R=A+(x<<5&4294967295|x>>>27),x=M+(A^N&(R^A))+D[6]+3225465664&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^A&(M^R))+D[11]+643717713&4294967295,N=M+(x<<14&4294967295|x>>>18),x=A+(M^R&(N^M))+D[0]+3921069994&4294967295,A=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(A^N))+D[5]+3593408605&4294967295,R=A+(x<<5&4294967295|x>>>27),x=M+(A^N&(R^A))+D[10]+38016083&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^A&(M^R))+D[15]+3634488961&4294967295,N=M+(x<<14&4294967295|x>>>18),x=A+(M^R&(N^M))+D[4]+3889429448&4294967295,A=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(A^N))+D[9]+568446438&4294967295,R=A+(x<<5&4294967295|x>>>27),x=M+(A^N&(R^A))+D[14]+3275163606&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^A&(M^R))+D[3]+4107603335&4294967295,N=M+(x<<14&4294967295|x>>>18),x=A+(M^R&(N^M))+D[8]+1163531501&4294967295,A=N+(x<<20&4294967295|x>>>12),x=R+(N^M&(A^N))+D[13]+2850285829&4294967295,R=A+(x<<5&4294967295|x>>>27),x=M+(A^N&(R^A))+D[2]+4243563512&4294967295,M=R+(x<<9&4294967295|x>>>23),x=N+(R^A&(M^R))+D[7]+1735328473&4294967295,N=M+(x<<14&4294967295|x>>>18),x=A+(M^R&(N^M))+D[12]+2368359562&4294967295,A=N+(x<<20&4294967295|x>>>12),x=R+(A^N^M)+D[5]+4294588738&4294967295,R=A+(x<<4&4294967295|x>>>28),x=M+(R^A^N)+D[8]+2272392833&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^A)+D[11]+1839030562&4294967295,N=M+(x<<16&4294967295|x>>>16),x=A+(N^M^R)+D[14]+4259657740&4294967295,A=N+(x<<23&4294967295|x>>>9),x=R+(A^N^M)+D[1]+2763975236&4294967295,R=A+(x<<4&4294967295|x>>>28),x=M+(R^A^N)+D[4]+1272893353&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^A)+D[7]+4139469664&4294967295,N=M+(x<<16&4294967295|x>>>16),x=A+(N^M^R)+D[10]+3200236656&4294967295,A=N+(x<<23&4294967295|x>>>9),x=R+(A^N^M)+D[13]+681279174&4294967295,R=A+(x<<4&4294967295|x>>>28),x=M+(R^A^N)+D[0]+3936430074&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^A)+D[3]+3572445317&4294967295,N=M+(x<<16&4294967295|x>>>16),x=A+(N^M^R)+D[6]+76029189&4294967295,A=N+(x<<23&4294967295|x>>>9),x=R+(A^N^M)+D[9]+3654602809&4294967295,R=A+(x<<4&4294967295|x>>>28),x=M+(R^A^N)+D[12]+3873151461&4294967295,M=R+(x<<11&4294967295|x>>>21),x=N+(M^R^A)+D[15]+530742520&4294967295,N=M+(x<<16&4294967295|x>>>16),x=A+(N^M^R)+D[2]+3299628645&4294967295,A=N+(x<<23&4294967295|x>>>9),x=R+(N^(A|~M))+D[0]+4096336452&4294967295,R=A+(x<<6&4294967295|x>>>26),x=M+(A^(R|~N))+D[7]+1126891415&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~A))+D[14]+2878612391&4294967295,N=M+(x<<15&4294967295|x>>>17),x=A+(M^(N|~R))+D[5]+4237533241&4294967295,A=N+(x<<21&4294967295|x>>>11),x=R+(N^(A|~M))+D[12]+1700485571&4294967295,R=A+(x<<6&4294967295|x>>>26),x=M+(A^(R|~N))+D[3]+2399980690&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~A))+D[10]+4293915773&4294967295,N=M+(x<<15&4294967295|x>>>17),x=A+(M^(N|~R))+D[1]+2240044497&4294967295,A=N+(x<<21&4294967295|x>>>11),x=R+(N^(A|~M))+D[8]+1873313359&4294967295,R=A+(x<<6&4294967295|x>>>26),x=M+(A^(R|~N))+D[15]+4264355552&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~A))+D[6]+2734768916&4294967295,N=M+(x<<15&4294967295|x>>>17),x=A+(M^(N|~R))+D[13]+1309151649&4294967295,A=N+(x<<21&4294967295|x>>>11),x=R+(N^(A|~M))+D[4]+4149444226&4294967295,R=A+(x<<6&4294967295|x>>>26),x=M+(A^(R|~N))+D[11]+3174756917&4294967295,M=R+(x<<10&4294967295|x>>>22),x=N+(R^(M|~A))+D[2]+718787259&4294967295,N=M+(x<<15&4294967295|x>>>17),x=A+(M^(N|~R))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+M&4294967295}a.prototype.v=function(O,R){R===void 0&&(R=O.length);const A=R-this.blockSize,D=this.C;let N=this.h,M=0;for(;M<R;){if(N==0)for(;M<=A;)o(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<R;)if(D[N++]=O.charCodeAt(M++),N==this.blockSize){o(this,D),N=0;break}}else for(;M<R;)if(D[N++]=O[M++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=R},a.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;R=this.o*8;for(var A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.v(O),O=Array(16),R=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)O[R++]=this.g[A]>>>D&255;return O};function c(O,R){var A=g;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=R(O)}function d(O,R){this.h=R;const A=[];let D=!0;for(let N=O.length-1;N>=0;N--){const M=O[N]|0;D&&M==R||(A[N]=M,D=!1)}this.g=A}var g={};function _(O){return-128<=O&&O<128?c(O,function(R){return new d([R|0],R<0?-1:0)}):new d([O|0],O<0?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return w;if(O<0)return ie(y(-O));const R=[];let A=1;for(let D=0;O>=A;D++)R[D]=O/A|0,A*=4294967296;return new d(R,0)}function S(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return ie(S(O.substring(1),R));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=y(Math.pow(R,8));let D=w;for(let M=0;M<O.length;M+=8){var N=Math.min(8,O.length-M);const x=parseInt(O.substring(M,M+N),R);N<8?(N=y(Math.pow(R,N)),D=D.j(N).add(y(x))):(D=D.j(A),D=D.add(y(x)))}return D}var w=_(0),k=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(oe(this))return-ie(this).m();let O=0,R=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);O+=(D>=0?D:4294967296+D)*R,R*=4294967296}return O},s.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(ne(this))return"0";if(oe(this))return"-"+ie(this).toString(O);const R=y(Math.pow(O,6));var A=this;let D="";for(;;){const N=$e(A,R).g;A=Ee(A,N.j(R));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(O);if(A=N,ne(A))return M+D;for(;M.length<6;)M="0"+M;D=M+D}},s.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function ne(O){if(O.h!=0)return!1;for(let R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function oe(O){return O.h==-1}s.l=function(O){return O=Ee(this,O),oe(O)?-1:ne(O)?0:1};function ie(O){const R=O.g.length,A=[];for(let D=0;D<R;D++)A[D]=~O.g[D];return new d(A,~O.h).add(k)}s.abs=function(){return oe(this)?ie(this):this},s.add=function(O){const R=Math.max(this.g.length,O.g.length),A=[];let D=0;for(let N=0;N<=R;N++){let M=D+(this.i(N)&65535)+(O.i(N)&65535),x=(M>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);D=x>>>16,M&=65535,x&=65535,A[N]=x<<16|M}return new d(A,A[A.length-1]&-2147483648?-1:0)};function Ee(O,R){return O.add(ie(R))}s.j=function(O){if(ne(this)||ne(O))return w;if(oe(this))return oe(O)?ie(this).j(ie(O)):ie(ie(this).j(O));if(oe(O))return ie(this.j(ie(O)));if(this.l(K)<0&&O.l(K)<0)return y(this.m()*O.m());const R=this.g.length+O.g.length,A=[];for(var D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<O.g.length;N++){const M=this.i(D)>>>16,x=this.i(D)&65535,ee=O.i(N)>>>16,ye=O.i(N)&65535;A[2*D+2*N]+=x*ye,Re(A,2*D+2*N),A[2*D+2*N+1]+=M*ye,Re(A,2*D+2*N+1),A[2*D+2*N+1]+=x*ee,Re(A,2*D+2*N+1),A[2*D+2*N+2]+=M*ee,Re(A,2*D+2*N+2)}for(O=0;O<R;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=R;O<2*R;O++)A[O]=0;return new d(A,0)};function Re(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function _e(O,R){this.g=O,this.h=R}function $e(O,R){if(ne(R))throw Error("division by zero");if(ne(O))return new _e(w,w);if(oe(O))return R=$e(ie(O),R),new _e(ie(R.g),ie(R.h));if(oe(R))return R=$e(O,ie(R)),new _e(ie(R.g),R.h);if(O.g.length>30){if(oe(O)||oe(R))throw Error("slowDivide_ only works with positive integers.");for(var A=k,D=R;D.l(O)<=0;)A=rt(A),D=rt(D);var N=Be(A,1),M=Be(D,1);for(D=Be(D,2),A=Be(A,2);!ne(D);){var x=M.add(D);x.l(O)<=0&&(N=N.add(A),M=x),D=Be(D,1),A=Be(A,1)}return R=Ee(O,N.j(R)),new _e(N,R)}for(N=w;O.l(R)>=0;){for(A=Math.max(1,Math.floor(O.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),M=y(A),x=M.j(R);oe(x)||x.l(O)>0;)A-=D,M=y(A),x=M.j(R);ne(M)&&(M=k),N=N.add(M),O=Ee(O,x)}return new _e(N,O)}s.B=function(O){return $e(this,O).h},s.and=function(O){const R=Math.max(this.g.length,O.g.length),A=[];for(let D=0;D<R;D++)A[D]=this.i(D)&O.i(D);return new d(A,this.h&O.h)},s.or=function(O){const R=Math.max(this.g.length,O.g.length),A=[];for(let D=0;D<R;D++)A[D]=this.i(D)|O.i(D);return new d(A,this.h|O.h)},s.xor=function(O){const R=Math.max(this.g.length,O.g.length),A=[];for(let D=0;D<R;D++)A[D]=this.i(D)^O.i(D);return new d(A,this.h^O.h)};function rt(O){const R=O.g.length+1,A=[];for(let D=0;D<R;D++)A[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(A,O.h)}function Be(O,R){const A=R>>5;R%=32;const D=O.g.length-A,N=[];for(let M=0;M<D;M++)N[M]=R>0?O.i(M+A)>>>R|O.i(M+A+1)<<32-R:O.i(M+A);return new d(N,O.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,aE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,er=d}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,To,oE,jc,om,uE,cE,hE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var E=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in E))break e;E=E[L]}u=u[u.length-1],T=E[u],m=m(T),m!=T&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var E=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&E.push([T,m[T]]);return E}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,E){return u.call.apply(u.bind,arguments)}function y(u,m,E){return y=_,y.apply(null,arguments)}function S(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var T=E.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function E(){}E.prototype=m.prototype,u.Z=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var ae=Array(arguments.length-2),De=2;De<arguments.length;De++)ae[De-2]=arguments[De];return m.prototype[L].apply(T,ae)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const E=Array(m);for(let T=0;T<m;T++)E[T]=u[T];return E}return[]}function ne(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=u.length||0;const B=L.length||0;u.length=E+B;for(let ae=0;ae<B;ae++)u[E+ae]=L[ae]}else u.push(L)}}class oe{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ie(u){d.setTimeout(()=>{throw u},0)}function Ee(){var u=O;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Re{constructor(){this.h=this.g=null}add(m,E){const T=_e.get();T.set(m,E),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new oe(()=>new $e,u=>u.reset());class $e{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,Be=!1,O=new Re,R=()=>{const u=Promise.resolve(void 0);rt=()=>{u.then(A)}};function A(){for(var u;u=Ee();){try{u.h.call(u.g)}catch(E){ie(E)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Be=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,m),d.removeEventListener("test",E,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ee,N),ee.prototype.init=function(u,m){const E=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),U=0;function W(u,m,E,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!T,this.ha=L,this.key=++U,this.da=this.fa=!1}function se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function be(u,m,E){for(const T in u)m.call(E,u[T],T,u)}function me(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function C(u){const m={};for(const E in u)m[E]=u[E];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(u,m){let E,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(E in T)u[E]=T[E];for(let B=0;B<F.length;B++)E=F[B],Object.prototype.hasOwnProperty.call(T,E)&&(u[E]=T[E])}}function Q(u){this.src=u,this.g={},this.h=0}Q.prototype.add=function(u,m,E,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ae=X(u,m,T,L);return ae>-1?(m=u[ae],E||(m.fa=!1)):(m=new W(m,this.src,B,!!T,L),m.fa=E,u.push(m)),m};function re(u,m){const E=m.type;if(E in u.g){var T=u.g[E],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(se(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function X(u,m,E,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!E&&B.ha==T)return L}return-1}var le="closure_lm_"+(Math.random()*1e6|0),ve={};function de(u,m,E,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)de(u,m[B],E,T,L);return null}return E=dr(E),u&&u[ye]?u.J(m,E,g(T)?!!T.capture:!1,L):Ie(u,m,E,!1,T,L)}function Ie(u,m,E,T,L,B){if(!m)throw Error("Invalid event type");const ae=g(L)?!!L.capture:!!L;let De=Gn(u);if(De||(u[le]=De=new Q(u)),E=De.add(m,E,T,ae,B),E.proxy)return E;if(T=we(),E.proxy=T,T.src=u,T.listener=E,u.addEventListener)M||(L=ae),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(tn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return E}function we(){function u(E){return m.call(u.src,u.listener,E)}const m=Lt;return u}function At(u,m,E,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)At(u,m[B],E,T,L);else T=g(T)?!!T.capture:!!T,E=dr(E),u&&u[ye]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],E=X(m,E,T,L),E>-1&&(se(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Gn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=X(m,E,T,L)),(E=u>-1?m[u]:null)&&hn(E))}function hn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])re(m.i,u);else{var E=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(E,T,u.capture):m.detachEvent?m.detachEvent(tn(E),T):m.addListener&&m.removeListener&&m.removeListener(T),(E=Gn(m))?(re(E,u),E.h==0&&(E.src=null,m[le]=null)):se(u)}}}function tn(u){return u in ve?ve[u]:ve[u]="on"+u}function Lt(u,m){if(u.da)u=!0;else{m=new ee(m,this);const E=u.listener,T=u.ha||u.src;u.fa&&hn(u),u=E.call(T,m)}return u}function Gn(u){return u=u[le],u instanceof Q?u:null}var fr="__closure_events_fn_"+(Math.random()*1e9>>>0);function dr(u){return typeof u=="function"?u:(u[fr]||(u[fr]=function(m){return u.handleEvent(m)}),u[fr])}function pt(){D.call(this),this.i=new Q(this),this.M=this,this.G=null}w(pt,D),pt.prototype[ye]=!0,pt.prototype.removeEventListener=function(u,m,E,T){At(this,u,m,E,T)};function _t(u,m){var E,T=u.G;if(T)for(E=[];T;T=T.G)E.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),te(m,L)}L=!0;let B,ae;if(E)for(ae=E.length-1;ae>=0;ae--)B=m.g=E[ae],L=ds(B,T,!0,m)&&L;if(B=m.g=u,L=ds(B,T,!0,m)&&L,L=ds(B,T,!1,m)&&L,E)for(ae=0;ae<E.length;ae++)B=m.g=E[ae],L=ds(B,T,!1,m)&&L}pt.prototype.N=function(){if(pt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const E=u.g[m];for(let T=0;T<E.length;T++)se(E[T]);delete u.g[m],u.h--}}this.G=null},pt.prototype.J=function(u,m,E,T){return this.i.add(String(u),m,!1,E,T)},pt.prototype.K=function(u,m,E,T){return this.i.add(String(u),m,!0,E,T)};function ds(u,m,E,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const ae=m[B];if(ae&&!ae.da&&ae.capture==E){const De=ae.listener,Et=ae.ha||ae.src;ae.fa&&re(u.i,ae),L=De.call(Et,T)!==!1&&L}}return L&&!T.defaultPrevented}function Mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wo(u){u.g=Mh(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends D{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){D.call(this),this.h=u,this.g={}}w(mr,D);var yl=[];function _l(u){be(u.g,function(m,E){this.g.hasOwnProperty(E)&&hn(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),_l(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,Vh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function nu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){N.call(this,"d")}w(Gt,N);function Dn(){N.call(this,"c")}w(Dn,N);var vt={},iu=null;function ra(){return iu=iu||new pt}vt.Ia="serverreachability";function su(u){N.call(this,vt.Ia,u)}w(su,N);function ui(u){const m=ra();_t(m,new su(m))}vt.STAT_EVENT="statevent";function pr(u,m){N.call(this,vt.STAT_EVENT,u),this.stat=m}w(pr,N);function wt(u){const m=ra();_t(m,new pr(m,u))}vt.Ja="timingevent";function ci(u,m){N.call(this,vt.Ja,u),this.size=m}w(ci,N);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function kh(u,m,E,T,L,B){u.info(function(){if(u.g)if(B){var ae="",De=B.split("&");for(let Ye=0;Ye<De.length;Ye++){var Et=De[Ye].split("=");if(Et.length>1){const ft=Et[0];Et=Et[1];const kn=ft.split("_");ae=kn.length>=2&&kn[1]=="type"?ae+(ft+"="+Et+"&"):ae+(ft+"=redacted&")}}}else ae=null;else ae=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+E+`
`+ae})}function ru(u,m,E,T,L,B,ae){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+E+`
`+B+" "+ae})}function fi(u,m,E,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,E)+(T?" "+T:"")})}function gr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var E=B[u];if(!(E.length<2)){var T=E[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ae=1;ae<T.length;ae++)T[ae]=""}}}}return ms(B)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},El;function _r(){}w(_r,tu),_r.prototype.g=function(){return new XMLHttpRequest},El=new _r;function zi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const E=[];for(;m>0&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function Yn(u,m,E,T){this.j=u,this.i=m,this.l=E,this.S=T||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var xt={},zt={};function di(u,m,E){u.M=1,u.A=vr(Nt(m)),u.u=E,u.R=!0,aa(u,null)}function aa(u,m){u.F=Date.now(),mi(u),u.B=Nt(u.A);var E=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ca(E.i,"t",T),u.C=0,E=u.j.L,u.h=new Xn,u.g=bu(u.j,E?m:null,!u.u),u.P>0&&(u.O=new on(y(u.Y,u,u.g),u.P)),m=u.V,E=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yl[0]=L.toString()),L=yl);for(let B=0;B<L.length;B++){const ae=de(E,L[B],T||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.J?C(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Zn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)e:{const De=Zn(this.g),Et=this.g.ya(),Ye=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||De!=4||Et==7||(Et==8||Ye<=0?ui(3):ui(2)),pi(this);var m=this.g.ca();this.X=m;var E=Lh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var B=T;break t}}B=null}if(u=B)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,u);else{this.o=!1,this.m=3,wt(12),bn(this),On(this);break e}}if(this.R){u=!0;let ft;for(;!this.K&&this.C<E.length;)if(ft=ou(this,E),ft==zt){De==4&&(this.m=4,wt(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==xt){this.m=4,wt(15),fi(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,ft,null),gi(this,ft);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),kl(ae),ae.P=!0,wt(11))}}else fi(this.i,this.l,E,null),gi(this,E);De==4&&bn(this),this.o&&!this.K&&(De==4?yu(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),bn(this),On(this)}}}catch{}finally{}};function Lh(u){if(!lu(u))return u.g.la();const m=Qt(u.g);if(m==="")return"";let E="";const T=m.length,L=Zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),On(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,E+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=E,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var E=u.C,T=m.indexOf(`
`,E);return T==-1?zt:(E=Number(m.substring(E,T)),isNaN(E)?xt:(T+=1,T+E>m.length?zt:(m=m.slice(T,T+E),u.C=T+E,m)))}Yn.prototype.cancel=function(){this.K=!0,bn(this)};function mi(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(y(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(ui(),wt(17)),bn(this),this.m=2,On(this)):la(this,this.T-u)};function On(u){u.j.I==0||u.K||yu(u.j,u)}function bn(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_l(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function gi(u,m){try{var E=u.j;if(E.I!=0&&(E.g==u||_i(E.h,u))){if(!u.L&&_i(E.h,u)&&E.I==3){try{var T=E.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)pa(E),Ts(E);else break e;xr(E),wt(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=hi(y(E.Va,E),6e3));yi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ai(E,11)}else if((u.L||E.g==u)&&pa(E),!x(m))for(L=E.Ba.g.parse(m),m=0;m<L.length;m++){let Ye=L[m];const ft=Ye[0];if(!(ft<=E.K))if(E.K=ft,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const kn=Ye[3];kn!=null&&(E.ka=kn,E.j.info("VER="+E.ka));const wi=Ye[4];wi!=null&&(E.za=wi,E.j.info("SVER="+E.za));const Wn=Ye[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,E.O=T,E.j.info("backChannelRequestTimeoutMs_="+T)),T=E;const ei=u.g;if(ei){const Rr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=T.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Sl(B,B.h),B.h=null))}if(T.G){const ga=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,Ze(T.J,T.G,ga))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),T=E;var ae=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),ae.L){Al(T.h,ae);var De=ae,Et=T.O;Et&&(De.H=Et),De.D&&(pi(De),mi(De)),T.g=ae}else pu(T);E.i.length>0&&Si(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Ai(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ai(E,7):Ml(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}ui(4)}catch{}}var Rt=class{constructor(u,m){this.g=u,this.map=m}};function bl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sl(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.G);return m}return K(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const T=u[E].indexOf("=");let L,B=null;T>=0?(L=u[E].substring(0,T),B=u[E].substring(T+1)):L=u[E],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,ps(this,u.u),this.h=u.h,xl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,qt(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),ps(this,m[4]),this.h=vi(m[5]||"",!0),xl(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,ua,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,ua,!0),"@"),u.push(zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Er(E,E.charAt(0)=="/"?Rl:cu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Er(E,hu)),u.join("")},Tn.prototype.resolve=function(u){const m=Nt(this);let E=!!u.j;E?qt(m,u.j):E=!!u.o,E?m.o=u.o:E=!!u.g,E?m.g=u.g:E=u.u!=null;var T=u.h;if(E)ps(m,u.u);else if(E=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ae=0;ae<L.length;){const De=L[ae++];De=="."?T&&ae==L.length&&B.push(""):De==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&ae==L.length&&B.push("")):(B.push(De),T=!0)}T=B.join("/")}else T=L}return E?m.h=T:E=u.i.toString()!=="",E?xl(m,du(u.i)):E=!!u.m,E&&(m.m=u.m),m};function Nt(u){return new Tn(u)}function qt(u,m,E){u.j=E?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ps(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xl(u,m,E){m instanceof ys?(u.i=m,ha(u.i,u.l)):(E||(m=Er(m,gs)),u.i=new ys(m,u.l))}function Ze(u,m,E){u.i.set(m,E)}function vr(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ua=/[#\/\?@]/g,cu=/[#\?:]/g,Rl=/[#\?]/g,gs=/[#\?@]/g,hu=/#/g;function ys(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}s=ys.prototype,s.add=function(u,m){dn(this),this.i=null,u=_s(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function fu(u,m){dn(u),m=_s(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nl(u,m){return dn(u),m=_s(u,m),u.g.has(m)}s.forEach=function(u,m){dn(this),this.g.forEach(function(E,T){E.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Cl(u,m){dn(u);let E=[];if(typeof m=="string")Nl(u,m)&&(E=E.concat(u.g.get(_s(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)E=E.concat(u[m]);return E}s.set=function(u,m){return dn(this),this.i=null,u=_s(this,u),Nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Cl(this,u),u.length>0?String(u[0]):m):m};function ca(u,m,E){fu(u,m),E.length>0&&(u.i=null,u.g.set(_s(u,m),K(E)),u.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var E=m[T];const L=zi(E);E=Cl(this,E);for(let B=0;B<E.length;B++){let ae=L;E[B]!==""&&(ae+="="+zi(E[B])),u.push(ae)}}return this.i=u.join("&")};function du(u){const m=new ys;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function _s(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ha(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(E,T){const L=T.toLowerCase();T!=L&&(fu(this,T),ca(this,L,E))},u)),u.j=m}function $n(u,m){const E=new Kn;if(d.Image){const T=new Image;T.onload=S(Mn,E,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Mn,E,"TestLoadImage: error",!1,m,T),T.onabort=S(Mn,E,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Mn,E,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Il(u,m){const E=new Kn,T=new AbortController,L=setTimeout(()=>{T.abort(),Mn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Mn(E,"TestPingServer: ok",!0,m):Mn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Mn(E,"TestPingServer: error",!1,m)})}function Mn(u,m,E,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(E)}catch{}}function vs(){this.g=new eu}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ei,tu),Ei.prototype.g=function(){return new br(this.i,this.h)};function br(u,m){pt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(br,pt),s=br.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Es(this):Jn(this),this.readyState==3&&fa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Es(this))},s.Na=function(u){this.g&&(this.response=u,Es(this))},s.ga=function(){this.g&&Es(this)};function Es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return be(u,function(E,T){m+=T,m+=":",m+=E,m+=`\r
`}),m}function Tr(u,m,E){e:{for(T in E){var T=!1;break e}T=!0}T||(E=Vn(E),typeof u=="string"?E!=null&&zi(E):Ze(u,m,E))}function tt(u){pt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(tt,pt);var bi=/^https?$/i,Dl=["POST","PUT"];s=tt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,E,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():El.g(),this.g.onreadystatechange=k(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Sr(this,B);return}if(u=E||"",E=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)E.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())E.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(E.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Dl,m,void 0)>=0)||T||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ae]of E)this.g.setRequestHeader(B,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Sr(this,B)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ol(u),qi(u)}function Ol(u){u.A||(u.A=!0,_t(u,"complete"),_t(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_t(this,"complete"),_t(this,"abort"),qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),tt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&Zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(_t(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var T;if(T=B===0){let ae=String(u.D).match(uu)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),T=!bi.test(ae?ae.toLowerCase():"")}E=T}if(E)_t(u,"complete"),_t(u,"success");else{u.o=6;try{var L=Zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ol(u)}}finally{qi(u)}}}}function qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,m||_t(u,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vh(m)}};function Qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var E=au(u[T]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const B=m[L]||[];m[L]=B,B.push(E)}me(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function bs(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bl(u&&u.concurrentRequestLimit),this.Ba=new vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,E,T){wt(0),this.W=u,this.H=m||{},E&&T!==void 0&&(this.H.OSID=E,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Si(this)};function Ml(u){if(da(u),u.I==3){var m=u.V++,E=Nt(u.J);if(Ze(E,"SID",u.M),Ze(E,"RID",m),Ze(E,"TYPE","terminate"),wr(u,E),m=new Yn(u,u.j,m),m.M=2,m.A=vr(Nt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=m.A,E=!0),E||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}vu(u)}function Ts(u){u.g&&(kl(u),u.g.cancel(),u.g=null)}function da(u){Ts(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!Tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;rt||R(),Be||(rt(),Be=!0),O.add(m,u),u.D=0}}function ma(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=C(B),te(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var T=this.i[E];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=mu(this,L,m),E=Nt(this.J),Ze(E,"RID",u),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),wr(this,E),B&&(this.R?m="headers="+zi(Vn(B))+"&"+m:this.u&&Tr(E,this.u,B)),Sl(this.h,L),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",m),Ze(E,"SID","null"),L.U=!0,di(L,E,null)):di(L,E,m),this.I=2}}else this.I==3&&(u?Vl(this,u):this.i.length==0||Tl(this.h)||Vl(this))};function Vl(u,m){var E;m?E=m.l:E=u.V++;const T=Nt(u.J);Ze(T,"SID",u.M),Ze(T,"RID",E),Ze(T,"AID",u.K),wr(u,T),u.u&&u.o&&Tr(T,u.u,u.o),E=new Yn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Sl(u.h,E),di(E,T,m)}function wr(u,m){u.H&&be(u.H,function(E,T){Ze(m,T,E)}),u.l&&be({},function(E,T){Ze(m,T,E)})}function mu(u,m,E){E=Math.min(u.i.length,E);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var L=u.i;let De=-1;for(;;){const Et=["count="+E];De==-1?E>0?(De=L[0].g,Et.push("ofs="+De)):De=0:Et.push("ofs="+De);let Ye=!0;for(let ft=0;ft<E;ft++){var B=L[ft].g;const kn=L[ft].map;if(B-=De,B<0)De=Math.max(0,L[ft].g-100),Ye=!1;else try{B="req"+B+"_"||"";try{var ae=kn instanceof Map?kn:Object.entries(kn);for(const[wi,Wn]of ae){let ei=Wn;g(Wn)&&(ei=ms(Wn)),Et.push(B+wi+"="+encodeURIComponent(ei))}}catch(wi){throw Et.push(B+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(kn)}}if(Ye){ae=Et.join("&");break e}}ae=void 0}return u=u.i.splice(0,E),m.G=u,ae}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;rt||R(),Be||(rt(),Be=!0),O.add(m,u),u.A=0}}function xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(y(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ts(this),gu(this))};function kl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Nt(u.na);Ze(m,"RID","rpc"),Ze(m,"SID",u.M),Ze(m,"AID",u.K),Ze(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(m,"TO",u.ia),Ze(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=vr(Nt(m)),E.u=null,E.R=!0,aa(E,u)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),xr(this),wt(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var E=null;if(u.g==m){pa(u),kl(u),u.g=null;var T=2}else if(_i(u.h,m))E=m.G,Al(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ra(),_t(T,new ci(T,E)),Si(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ma(u,m)||T==2&&xr(u)))switch(E&&E.length>0&&(m=u.h,m.i=m.i.concat(E)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function _u(u,m){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var E=y(u.bb,u),T=u.Ua;const L=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(T,"https"),vr(T),L?$n(T.toString(),E):Il(T.toString(),E)}else wt(2);u.I=0,u.l&&u.l.pa(m),vu(u),da(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=wl(u.h);(m.length!=0||u.i.length!=0)&&(ne(u.ja,m),ne(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,E){var T=E instanceof Tn?Nt(E):new Tn(E);if(T.g!="")m&&(T.g=m+"."+T.g),ps(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Tn(null);T&&qt(B,T),m&&(B.g=m),L&&ps(B,L),E&&(B.h=E),T=B}return E=u.G,m=u.wa,E&&m&&Ze(T,E,m),Ze(T,"VER",u.ka),wr(u,T),T}function bu(u,m,E){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new tt(new Ei({ab:E})):new tt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ss(){}Ss.prototype.g=function(u,m){return new un(u,m)};function un(u,m){pt.call(this),this.g=new bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}w(un,pt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ml(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=ms(u),u=E);m.i.push(new Rt(m.Ya++,u)),m.I==3&&Si(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,un.Z.N.call(this)};function Su(u){Gt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,Gt);function Au(){Dn.call(this),this.status=1}w(Au,Dn);function Hi(u){this.g=u}w(Hi,Tu),Hi.prototype.ra=function(){_t(this.g,"a")},Hi.prototype.qa=function(u){_t(this.g,new Su(u))},Hi.prototype.pa=function(u){_t(this.g,new Au)},Hi.prototype.oa=function(){_t(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,hE=function(){return new Ss},cE=function(){return ra()},uE=vt,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,jc=yr,vl.COMPLETE="complete",oE=vl,nu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",pt.prototype.listen=pt.prototype.J,To=nu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,lE=tt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",w0="4.9.2";class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let hl="12.3.0";const Wr=new Dm("@firebase/firestore");function Ka(){return Wr.logLevel}function ce(s,...e){if(Wr.logLevel<=Pe.DEBUG){const i=e.map(Vm);Wr.debug(`Firestore (${hl}): ${s}`,...i)}}function us(s,...e){if(Wr.logLevel<=Pe.ERROR){const i=e.map(Vm);Wr.error(`Firestore (${hl}): ${s}`,...i)}}function nl(s,...e){if(Wr.logLevel<=Pe.WARN){const i=e.map(Vm);Wr.warn(`Firestore (${hl}): ${s}`,...i)}}function Vm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Se(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,fE(s,a,i)}function fE(s,e,i){let a=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw us(a),new Error(a)}function Je(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||fE(e,o,a)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends fs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class dE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class Pw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zw{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new dE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class qw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Bw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new qw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new x0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Fw(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function ze(s,e){return s<e?-1:s>e?1:0}function um(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Yd(o)===Yd(c)?ze(o,c):Yd(o)?1:-1}return ze(s.length,e.length)}const Gw=55296,Qw=57343;function Yd(s){const e=s.charCodeAt(0);return e>=Gw&&e<=Qw}function il(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const R0="__name__";class Di{constructor(e,i,a){i===void 0?i=0:i>e.length&&Se(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Se(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Di.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return ze(e.length,i.length)}static compareSegments(e,i){const a=Di.isNumericId(e),o=Di.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Di.extractNumericId(e).compare(Di.extractNumericId(i)):um(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return er.fromString(e.substring(4,e.length-2))}}class lt extends Di{construct(e,i,a){return new lt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const Kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Di{construct(e,i,a){return new Wt(e,i,a)}static isValidIdentifier(e){return Kw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new Wt([R0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(i)}static emptyPath(){return new Wt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(lt.fromString(e))}static fromName(e){return new ge(lt.fromString(e).popFirst(5))}static empty(){return new ge(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return lt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new lt(e.slice()))}}function mE(s,e,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Yw(s,e,i,a){if(e===!0&&a===!0)throw new ue(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N0(s){if(!ge.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function C0(s){if(ge.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function Oi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(s);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function kt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Ho(s,e){if(!pE(s))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ue(J.INVALID_ARGUMENT,i);return!0}const I0=-62135596800,D0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*D0);return new ht(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<I0)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ho(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:kt("string",ht._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ht(0,0))}static max(){return new xe(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mo=-1;function Xw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(a===1e9?new ht(i+1,0):new ht(i,a));return new ir(o,ge.empty(),e)}function $w(s){return new ir(s.readTime,s.key,Mo)}class ir{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ir(xe.min(),ge.empty(),Mo)}static max(){return new ir(xe.max(),ge.empty(),Mo)}}function Jw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:ze(s.largestBatchId,e.largestBatchId))}const Zw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ww{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Zw)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function ex(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function dl(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const jm=-1;function ph(s){return s==null}function Xc(s){return s===0&&1/s==-1/0}function tx(s){return typeof s=="number"&&Number.isInteger(s)&&!Xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const gE="";function nx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O0(e)),e=ix(s.get(i),e);return O0(e)}function ix(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case gE:i+="";break;default:i+=c}}return i}function O0(s){return s+gE+""}function M0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ur(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function yE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class mt{constructor(e,i){this.comparator=e,this.root=i||Jt.EMPTY}insert(e,i){return new mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Jt.RED,this.left=o??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Jt(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Jt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V0(this.data.getIterator())}getIteratorFrom(e){return new V0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Pt(this.comparator);return i.data=e,i}}class V0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new In([])}unionWith(e){let i=new Pt(Wt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new In(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _E("Invalid base64 string: "+c):c}})(e);return new en(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new en(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=sx.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:St(s.seconds),nanos:St(s.nanos)}}function St(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function rr(s){return typeof s=="string"?en.fromBase64String(s):en.fromUint8Array(s)}const vE="server_timestamp",EE="__type__",bE="__previous_value__",TE="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[EE]?.stringValue===vE}function gh(s){const e=s.mapValue.fields[bE];return Lm(e)?gh(e):e}function Vo(s){const e=sr(s.mapValue.fields[TE].timestampValue);return new ht(e.seconds,e.nanos)}class rx{constructor(e,i,a,o,c,d,g,_,y,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S}}const $c="(default)";class ko{constructor(e,i){this.projectId=e,this.database=i||$c}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}const SE="__type__",ax="__max__",Ic={mapValue:{}},AE="__vector__",Jc="value";function ar(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:ox(s)?9007199254740991:lx(s)?10:11:Se(28295,{value:s})}function Ui(s,e){if(s===e)return!0;const i=ar(s);if(i!==ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Vo(s).isEqual(Vo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=sr(o.timestampValue),g=sr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return rr(o.bytesValue).isEqual(rr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return St(o.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return St(o.integerValue)===St(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=St(o.doubleValue),g=St(c.doubleValue);return d===g?Xc(d)===Xc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return il(s.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(M0(d)!==M0(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ui(d[_],g[_])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function jo(s,e){return(s.values||[]).find((i=>Ui(i,e)))!==void 0}function sl(s,e){if(s===e)return 0;const i=ar(s),a=ar(e);if(i!==a)return ze(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=St(c.integerValue||c.doubleValue),_=St(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return k0(s.timestampValue,e.timestampValue);case 4:return k0(Vo(s),Vo(e));case 5:return um(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=rr(c),_=rr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const S=ze(g[y],_[y]);if(S!==0)return S}return ze(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=ze(St(c.latitude),St(d.latitude));return g!==0?g:ze(St(c.longitude),St(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return j0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Jc]?.arrayValue,S=_[Jc]?.arrayValue,w=ze(y?.values?.length||0,S?.values?.length||0);return w!==0?w:j0(y,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let w=0;w<_.length&&w<S.length;++w){const k=um(_[w],S[w]);if(k!==0)return k;const K=sl(g[_[w]],y[S[w]]);if(K!==0)return K}return ze(_.length,S.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:i})}}function k0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const i=sr(s),a=sr(e),o=ze(i.seconds,a.seconds);return o!==0?o:ze(i.nanos,a.nanos)}function j0(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=sl(i[o],a[o]);if(c)return c}return ze(i.length,a.length)}function rl(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=sr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return rr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=cm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${cm(i.fields[d])}`;return o+"}"})(s.mapValue):Se(61005,{value:s})}function Lc(s){switch(ar(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(s);return e?16+Lc(e):16;case 5:return 2*s.stringValue.length;case 6:return rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return ur(a.fields,((c,d)=>{o+=c.length+Lc(d)})),o})(s.mapValue);default:throw Se(13486,{value:s})}}function L0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function hm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function U0(s){return!!s&&"nullValue"in s}function P0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function lx(s){return(s?.mapValue?.fields||{})[SE]?.stringValue===AE}function Ro(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ur(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ro(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ro(s.arrayValue.values[i]);return e}return{...s}}function ox(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ax}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(i)}setAll(e){let i=Wt.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Ro(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ur(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new En(Ro(this.value))}}function wE(s){const e=[];return ur(s.fields,((i,a)=>{const o=new Wt([i]);if(Uc(a)){const c=wE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new In(e)}class an{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new an(e,0,xe.min(),xe.min(),xe.min(),En.empty(),0)}static newFoundDocument(e,i,a,o){return new an(e,1,i,xe.min(),a,o,0)}static newNoDocument(e,i){return new an(e,2,i,xe.min(),xe.min(),En.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,xe.min(),xe.min(),En.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(e,i){this.position=e,this.inclusive=i}}function z0(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=sl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function q0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ui(s.position[i],e.position[i]))return!1;return!0}class Lo{constructor(e,i="asc"){this.field=e,this.dir=i}}function ux(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class xE{}class Vt extends xE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new hx(e,i,a):i==="array-contains"?new mx(e,a):i==="in"?new px(e,a):i==="not-in"?new gx(e,a):i==="array-contains-any"?new yx(e,a):new Vt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new fx(e,a):new dx(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(sl(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(sl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends xE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new oi(e,i)}matches(e){return RE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RE(s){return s.op==="and"}function NE(s){return cx(s)&&RE(s)}function cx(s){for(const e of s.filters)if(e instanceof oi)return!1;return!0}function fm(s){if(s instanceof Vt)return s.field.canonicalString()+s.op.toString()+rl(s.value);if(NE(s))return s.filters.map((e=>fm(e))).join(",");{const e=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${e})`}}function CE(s,e){return s instanceof Vt?(function(a,o){return o instanceof Vt&&a.op===o.op&&a.field.isEqual(o.field)&&Ui(a.value,o.value)})(s,e):s instanceof oi?(function(a,o){return o instanceof oi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&CE(d,o.filters[g])),!0):!1})(s,e):void Se(19439)}function IE(s){return s instanceof Vt?(function(i){return`${i.field.canonicalString()} ${i.op} ${rl(i.value)}`})(s):s instanceof oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(IE).join(" ,")+"}"})(s):"Filter"}class hx extends Vt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class fx extends Vt{constructor(e,i){super(e,"in",i),this.keys=DE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dx extends Vt{constructor(e,i){super(e,"not-in",i),this.keys=DE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function DE(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class mx extends Vt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Um(i)&&jo(i.arrayValue,this.value)}}class px extends Vt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&jo(this.value.arrayValue,i)}}class gx extends Vt{constructor(e,i){super(e,"not-in",i)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jo(this.value.arrayValue,i)}}class yx extends Vt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jo(this.value.arrayValue,a)))}}class _x{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function B0(s,e=null,i=[],a=[],o=null,c=null,d=null){return new _x(s,e,i,a,o,c,d)}function Pm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>fm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>rl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>rl(a))).join(",")),e.Te=i}return e.Te}function zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!ux(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!CE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!q0(s.startAt,e.startAt)&&q0(s.endAt,e.endAt)}function dm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ml{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vx(s,e,i,a,o,c,d,g){return new ml(s,e,i,a,o,c,d,g)}function qm(s){return new ml(s)}function H0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function OE(s){return s.collectionGroup!==null}function No(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Pt(Wt.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Lo(c,a))})),i.has(Wt.keyField().canonicalString())||e.Ie.push(new Lo(Wt.keyField(),a))}return e.Ie}function Mi(s){const e=Ce(s);return e.Ee||(e.Ee=Ex(e,No(s))),e.Ee}function Ex(s,e){if(s.limitType==="F")return B0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Lo(o.field,c)}));const i=s.endAt?new Zc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Zc(s.startAt.position,s.startAt.inclusive):null;return B0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function mm(s,e){const i=s.filters.concat([e]);return new ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function pm(s,e,i){return new ml(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function yh(s,e){return zm(Mi(s),Mi(e))&&s.limitType===e.limitType}function ME(s){return`${Pm(Mi(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>IE(o))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>rl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>rl(o))).join(",")),`Target(${a})`})(Mi(s))}; limitType=${s.limitType})`}function _h(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of No(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=z0(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,No(a),o)||a.endAt&&!(function(d,g,_){const y=z0(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,No(a),o))})(s,e)}function bx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function VE(s){return(e,i)=>{let a=!1;for(const o of No(s)){const c=Tx(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Tx(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?sl(_,y):Se(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:s.dir})}}class ia{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ur(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}const Sx=new mt(ge.comparator);function cs(){return Sx}const kE=new mt(ge.comparator);function So(...s){let e=kE;for(const i of s)e=e.insert(i.key,i);return e}function jE(s){let e=kE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Qr(){return Co()}function LE(){return Co()}function Co(){return new ia((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Ax=new mt(ge.comparator),wx=new Pt(ge.comparator);function qe(...s){let e=wx;for(const i of s)e=e.add(i);return e}const xx=new Pt(ze);function Rx(){return xx}function Bm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function UE(s){return{integerValue:""+s}}function Nx(s,e){return tx(e)?UE(e):Bm(s,e)}class vh{constructor(){this._=void 0}}function Cx(s,e,i){return s instanceof Wc?(function(o,c){const d={fields:{[EE]:{stringValue:vE},[TE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=gh(c)),c&&(d.fields[bE]=c),{mapValue:d}})(i,e):s instanceof Uo?zE(s,e):s instanceof Po?qE(s,e):(function(o,c){const d=PE(o,c),g=F0(d)+F0(o.Ae);return hm(d)&&hm(o.Ae)?UE(g):Bm(o.serializer,g)})(s,e)}function Ix(s,e,i){return s instanceof Uo?zE(s,e):s instanceof Po?qE(s,e):i}function PE(s,e){return s instanceof eh?(function(a){return hm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Wc extends vh{}class Uo extends vh{constructor(e){super(),this.elements=e}}function zE(s,e){const i=BE(e);for(const a of s.elements)i.some((o=>Ui(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Po extends vh{constructor(e){super(),this.elements=e}}function qE(s,e){let i=BE(e);for(const a of s.elements)i=i.filter((o=>!Ui(o,a)));return{arrayValue:{values:i}}}class eh extends vh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function F0(s){return St(s.integerValue||s.doubleValue)}function BE(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Dx(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Uo&&o instanceof Uo||a instanceof Po&&o instanceof Po?il(a.elements,o.elements,Ui):a instanceof eh&&o instanceof eh?Ui(a.Ae,o.Ae):a instanceof Wc&&o instanceof Wc})(s.transform,e.transform)}class Ox{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Eh{}function HE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hm(s.key,ai.none()):new Fo(s.key,s.data,ai.none());{const i=s.data,a=En.empty();let o=new Pt(Wt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new cr(s.key,a,new In(o.toArray()),ai.none())}}function Mx(s,e,i){s instanceof Fo?(function(o,c,d){const g=o.value.clone(),_=Q0(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof cr?(function(o,c,d){if(!Pc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Q0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(FE(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Io(s,e,i,a){return s instanceof Fo?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),S=K0(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof cr?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=K0(c.fieldTransforms,_,d),S=d.data;return S.setAll(FE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Vx(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=PE(a.transform,o||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function G0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&il(a,o,((c,d)=>Dx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Fo extends Eh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cr extends Eh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function FE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function Q0(s,e,i){const a=new Map;Je(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,Ix(d,g,i[o]))}return a}function K0(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Cx(c,d,e))}return a}class Hm extends Eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kx extends Eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Mx(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Io(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=LE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=HE(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,((i,a)=>G0(i,a)))&&il(this.baseMutations,e.baseMutations,((i,a)=>G0(i,a)))}}class Fm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Ax})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Fm(e,i,a,o)}}class Lx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ux{constructor(e,i){this.count=e,this.unchangedNames=i}}var Mt,Ge;function Px(s){switch(s){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function GE(s){if(s===void 0)return us("GRPC error has no .code"),J.UNKNOWN;switch(s){case Mt.OK:return J.OK;case Mt.CANCELLED:return J.CANCELLED;case Mt.UNKNOWN:return J.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return J.INTERNAL;case Mt.UNAVAILABLE:return J.UNAVAILABLE;case Mt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Mt.NOT_FOUND:return J.NOT_FOUND;case Mt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Mt.ABORTED:return J.ABORTED;case Mt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Mt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:s})}}(Ge=Mt||(Mt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function zx(){return new TextEncoder}const qx=new er([4294967295,4294967295],0);function Y0(s){const e=zx().encode(s),i=new aE;return i.update(e),new Uint8Array(i.digest())}function X0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new er([i,a],0),new er([o,c],0)]}class Gm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ao(`Invalid padding: ${i}`);if(a<0)throw new Ao(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=er.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(er.fromNumber(a)));return o.compare(qx)===1&&(o=new er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Y0(e),[a,o]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Y0(e),[a,o]=X0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Go.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new bh(xe.min(),o,new mt(ze),cs(),qe())}}class Go{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Go(a,i,qe(),qe(),qe())}}class zc{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class QE{constructor(e,i){this.targetId=e,this.Ce=i}}class KE{constructor(e,i,a=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class $0{constructor(){this.ve=0,this.Fe=J0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:c})}})),new Go(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=J0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bx{constructor(e){this.Ge=e,this.ze=new Map,this.je=cs(),this.Je=Dc(),this.He=Dc(),this.Ye=new mt(ze)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(dm(c))if(a===0){const d=new ge(c.path);this.et(i,d,an.newNoDocument(d,xe.min()))}else Je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=rr(a).toUint8Array()}catch(_){if(_ instanceof _E)return nl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Gm(d,o,c)}catch(_){return nl(_ instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&dm(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=qe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new bh(e,i,this.Ye,this.je,a);return this.je=cs(),this.Je=Dc(),this.He=Dc(),this.Ye=new mt(ze),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Pt(ze),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Pt(ze),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Dc(){return new mt(ge.comparator)}function J0(){return new mt(ge.comparator)}const Hx={asc:"ASCENDING",desc:"DESCENDING"},Fx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gx={and:"AND",or:"OR"};class Qx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function gm(s,e){return s.useProto3Json||ph(e)?e:{value:e}}function th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Kx(s,e){return th(s,e.toTimestamp())}function Vi(s){return Je(!!s,49232),xe.fromTimestamp((function(i){const a=sr(i);return new ht(a.seconds,a.nanos)})(s))}function Qm(s,e){return ym(s,e).canonicalString()}function ym(s,e){const i=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function XE(s){const e=lt.fromString(s);return Je(eb(e),10190,{key:e.toString()}),e}function _m(s,e){return Qm(s.databaseId,e.path)}function Xd(s,e){const i=XE(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(JE(i))}function $E(s,e){return Qm(s.databaseId,e)}function Yx(s){const e=XE(s);return e.length===4?lt.emptyPath():JE(e)}function vm(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function JE(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Z0(s,e,i){return{name:_m(s,e),fields:i.value.mapValue.fields}}function Xx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Je(S===void 0||typeof S=="string",58123),en.fromBase64String(S||"")):(Je(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),en.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:GE(y.code);return new ue(S,y.message||"")})(d);i=new KE(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Xd(s,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):xe.min(),g=new En({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(o,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new zc(y,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Xd(s,a.document),c=a.readTime?Vi(a.readTime):xe.min(),d=an.newNoDocument(o,c),g=a.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Xd(s,a.document),c=a.removedTargetIds||[];i=new zc([],c,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Ux(o,c),g=a.targetId;i=new QE(g,d)}}return i}function $x(s,e){let i;if(e instanceof Fo)i={update:Z0(s,e.key,e.value)};else if(e instanceof Hm)i={delete:_m(s,e.key)};else if(e instanceof cr)i={update:Z0(s,e.key,e.data),updateMask:r2(e.fieldMask)};else{if(!(e instanceof kx))return Se(16599,{Vt:e.type});i={verify:_m(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Kx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),i}function Jx(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Vi(o.updateTime):Vi(c);return d.isEqual(xe.min())&&(d=Vi(c)),new Ox(d,o.transformResults||[])})(i,e)))):[]}function Zx(s,e){return{documents:[$E(s,e.path)]}}function Wx(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=$E(s,o);const c=(function(y){if(y.length!==0)return WE(oi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(k){return{field:Xa(k.field),direction:n2(k.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function e2(s){let e=Yx(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Je(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const k=ZE(w);return k instanceof oi&&NE(k)?k.getFilters():[k]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((k=>(function(ne){return new Lo($a(ne.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ne.direction))})(k)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let k;return k=typeof w=="object"?w.value:w,ph(k)?null:k})(i.limit));let _=null;i.startAt&&(_=(function(w){const k=!!w.before,K=w.values||[];return new Zc(K,k)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const k=!w.before,K=w.values||[];return new Zc(K,k)})(i.endAt)),vx(e,o,d,c,g,"F",_,y)}function t2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ZE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return Vt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(i.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Vt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Vt.create($a(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return oi.create(i.compositeFilter.filters.map((a=>ZE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(i.compositeFilter.op))})(s):Se(30097,{filter:s})}function n2(s){return Hx[s]}function i2(s){return Fx[s]}function s2(s){return Gx[s]}function Xa(s){return{fieldPath:s.canonicalString()}}function $a(s){return Wt.fromServerFormat(s.fieldPath)}function WE(s){return s instanceof Vt?(function(i){if(i.op==="=="){if(P0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(U0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(P0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(U0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:i2(i.op),value:i.value}}})(s):s instanceof oi?(function(i){const a=i.getFilters().map((o=>WE(o)));return a.length===1?a[0]:{compositeFilter:{op:s2(i.op),filters:a}}})(s):Se(54877,{filter:s})}function r2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function eb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class $s{constructor(e,i,a,o,c=xe.min(),d=xe.min(),g=en.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class a2{constructor(e){this.yt=e}}function l2(s){const e=e2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(e,e.limit,"L"):e}class o2{constructor(){this.Cn=new u2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(ir.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class u2{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Pt(lt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Pt(lt.comparator)).toArray()}}const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tb=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(tb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}const ev="LruGarbageCollector",c2=1048576;function tv([s,e],[i,a]){const o=ze(s,i);return o===0?ze(e,a):o}class h2{constructor(e){this.Ir=e,this.buffer=new Pt(tv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class f2{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){dl(i)?ce(ev,"Ignoring IndexedDB error during garbage collection: ",i):await fl(i)}await this.Vr(3e5)}))}}class d2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(mh.ce);const a=new h2(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(W0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,_,y;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),Ka()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function m2(s,e){return new d2(s,e)}class p2{constructor(){this.changes=new ia((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class g2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class y2{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Io(a.mutation,o,In.empty(),ht.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=Qr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=So();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Qr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=cs();const d=Co(),g=(function(){return Co()})();return i.forEach(((_,y)=>{const S=a.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof cr)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Io(S.mutation,y,S.mutation.getFieldMask(),ht.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new g2(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Co();let o=new mt(((d,g)=>d-g)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||In.empty();S=g.applyToLocalView(y,S),a.set(_,S);const w=(o.get(g.batchId)||qe()).add(_);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,S=_.value,w=LE();S.forEach((k=>{if(!c.has(k)){const K=HE(i.get(k),a.get(k));K!==null&&w.set(k,K),c=c.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):OE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):Z.resolve(Qr());let g=Mo,_=c;return d.next((y=>Z.forEach(y,((S,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((k=>{_=_.insert(S,k)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,qe()))).next((S=>({batchId:g,changes:jE(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=So();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=So();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(_=>{const y=(function(w,k){return new ml(k,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((S=>{S.forEach(((w,k)=>{d=d.insert(w,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,an.newInvalidDocument(S)))}));let g=So();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Io(S.mutation,y,In.empty(),ht.now()),_h(i,y)&&(g=g.insert(_,y))})),g}))}}class _2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:l2(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),Z.resolve()}}class v2{constructor(){this.overlays=new mt(ge.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Qr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=Qr(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new mt(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Qr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Qr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Lx(i,a));let c=this.qr.get(i);c===void 0&&(c=qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class E2{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Km{constructor(){this.Qr=new Pt(Ht.$r),this.Ur=new Pt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ht(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Ht(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new lt([])),a=new Ht(i,e),o=new Ht(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new lt([])),a=new Ht(i,e),o=new Ht(i,e+1);let c=qe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Ht(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ht{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||ze(e.Yr,i.Yr)}static Kr(e,i){return ze(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class b2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Ht.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jx(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ht(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Pt(ze);return i.forEach((o=>{const c=new Ht(o,0),d=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Ht(new ge(c),0);let g=new Pt(ze);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Ht(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Ht(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class T2{constructor(e){this.ri=e,this.docs=(function(){return new mt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=cs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=cs();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Jw($w(S),a)<=0||(o.has(S.key)||_h(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Se(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new S2(this)}getSize(e){return Z.resolve(this.size)}}class S2 extends p2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class A2{constructor(e){this.persistence=e,this.si=new ia((i=>Pm(i)),zm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new al(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class nb{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new E2,this.referenceDelegate=e(this),this.Pi=new A2(this),this.indexManager=new o2,this.remoteDocumentCache=(function(o){return new T2(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new a2(i),this.Ii=new _2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new v2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new b2(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const o=new w2(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class w2 extends Ww{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Km,this.Vi=null}static mi(e){return new Ym(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=ge.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class nh{constructor(e,i){this.persistence=e,this.pi=new ia((a=>nx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=m2(this,i)}static mi(e,i){return new nh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xm(e,i.fromCache,a,o)}}class x2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class R2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _A()?8:ex(ln())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new x2;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(Ka()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ka()<=Pe.DEBUG&&ce("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ka()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(i))):Z.resolve())}ys(e,i){if(H0(i))return Z.resolve(null);let a=Mi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=pm(i,null,"F"),a=Mi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=qe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,pm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,o){return H0(i)||o.isEqual(xe.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(Ka()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(i)),this.vs(e,d,i,Xw(o,Mo)).next((g=>g)))}))}Ds(e,i){let a=new Pt(VE(e));return i.forEach(((o,c)=>{_h(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return Ka()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.ps.getDocumentsMatchingQuery(e,i,ir.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",N2=3e8;class C2{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new mt(ze),this.xs=new ia((c=>Pm(c)),zm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function I2(s,e,i,a){return new C2(s,e,i,a)}async function ib(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=qe();for(const y of o){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function D2(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,S){const w=y.batch,k=w.keys();let K=Z.resolve();return k.forEach((ne=>{K=K.next((()=>S.getEntry(_,ne))).next((oe=>{const ie=y.docVersions.get(ne);Je(ie!==null,48541),oe.version.compareTo(ie)<0&&(w.applyToRemoteDocument(oe,y),oe.isValidDocument()&&(oe.setReadTime(y.commitVersion),S.addEntry(oe)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=qe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function sb(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function O2(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((S,w)=>{const k=o.get(w);if(!k)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,w))));let K=k.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(en.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,a)),o=o.insert(w,K),(function(oe,ie,Ee){return oe.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=N2?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0})(k,K,S)&&g.push(i.Pi.updateTargetData(c,K))}));let _=cs(),y=qe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(M2(c,d,e.documentUpdates).next((S=>{_=S.ks,y=S.qs}))),!a.isEqual(xe.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function M2(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=cs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(xe.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ce($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function V2(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function k2(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new $s(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Em(s,e,i){const a=Ce(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!dl(d))throw d;ce($m,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function nv(s,e,i){const a=Ce(s);let o=xe.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const w=Ce(_),k=w.xs.get(S);return k!==void 0?Z.resolve(w.Ms.get(k)):w.Pi.getTargetData(y,S)})(a,d,Mi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:xe.min(),i?c:qe()))).next((g=>(j2(a,bx(e),g),{documents:g,Qs:c})))))}function j2(s,e,i){let a=s.Os.get(e)||xe.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class iv{constructor(){this.activeTargetIds=Rx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L2{constructor(){this.Mo=new iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U2{Oo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function bm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const $d="RestConnection",P2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=bm(),g=this.zo(e,i.toUriEncodedString());ce($d,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),S=ul(y);return this.Jo(e,g,_,a,S).then((w=>(ce($d,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw nl($d,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=P2[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class q2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class B2 extends z2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=bm();return new Promise(((g,_)=>{const y=new lE;y.setWithCredentials(!0),y.listenOnce(oE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const w=y.getResponseJson();ce(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case jc.TIMEOUT:ce(sn,`RPC '${e}' ${d} timed out`),_(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const k=y.getStatus();if(ce(sn,`RPC '${e}' ${d} failed with status:`,k,"response text:",y.getResponseText()),k>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const ne=K?.error;if(ne&&ne.status&&ne.message){const oe=(function(Ee){const Re=Ee.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Re)>=0?Re:J.UNKNOWN})(ne.status);_(new ue(oe,ne.message))}else _(new ue(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(sn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ce(sn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",S,a,15)}))}T_(e,i,a){const o=bm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=hE(),g=cE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=c.join("");ce(sn,`Creating RPC '${e}' stream ${o}: ${S}`,_);const w=d.createWebChannel(S,_);this.I_(w);let k=!1,K=!1;const ne=new q2({Yo:ie=>{K?ce(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,ie):(k||(ce(sn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),k=!0),ce(sn,`RPC '${e}' stream ${o} sending:`,ie),w.send(ie))},Zo:()=>w.close()}),oe=(ie,Ee,Re)=>{ie.listen(Ee,(_e=>{try{Re(_e)}catch($e){setTimeout((()=>{throw $e}),0)}}))};return oe(w,To.EventType.OPEN,(()=>{K||(ce(sn,`RPC '${e}' stream ${o} transport opened.`),ne.o_())})),oe(w,To.EventType.CLOSE,(()=>{K||(K=!0,ce(sn,`RPC '${e}' stream ${o} transport closed`),ne.a_(),this.E_(w))})),oe(w,To.EventType.ERROR,(ie=>{K||(K=!0,nl(sn,`RPC '${e}' stream ${o} transport errored. Name:`,ie.name,"Message:",ie.message),ne.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),oe(w,To.EventType.MESSAGE,(ie=>{if(!K){const Ee=ie.data[0];Je(!!Ee,16349);const Re=Ee,_e=Re?.error||Re[0]?.error;if(_e){ce(sn,`RPC '${e}' stream ${o} received error:`,_e);const $e=_e.status;let rt=(function(R){const A=Mt[R];if(A!==void 0)return GE(A)})($e),Be=_e.message;rt===void 0&&(rt=J.INTERNAL,Be="Unknown error status: "+$e+" with message "+_e.message),K=!0,ne.a_(new ue(rt,Be)),w.close()}else ce(sn,`RPC '${e}' stream ${o} received:`,Ee),ne.u_(Ee)}})),oe(g,uE.STAT_EVENT,(ie=>{ie.stat===om.PROXY?ce(sn,`RPC '${e}' stream ${o} detected buffering proxy`):ie.stat===om.NOPROXY&&ce(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{ne.__()}),0),ne}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Jd(){return typeof document<"u"?document:null}function Th(s){return new Qx(s,!0)}class rb{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const av="PersistentStream";class ab{constructor(e,i,a,o,c,d,g,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(us(i.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H2 extends ab{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Xx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Vi(d.readTime):xe.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=vm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=dm(_)?{documents:Zx(c,_)}:{query:Wx(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=YE(c,d.resumeToken);const y=gm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(xe.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const y=gm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=t2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=vm(this.serializer),i.removeTarget=e,this.q_(i)}}class F2 extends ab{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Jx(e.writeResults,e.commitTime),a=Vi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=vm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>$x(this.serializer,a)))};this.q_(i)}}class G2{}class Q2 extends G2{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,ym(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,ym(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class K2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(us(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class Y2{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{sa(this)&&(ce(ea,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await Qo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Sh(y)})(this))}))})),this.Ra=new K2(a,o)}}async function Sh(s){if(sa(s))for(const e of s.da)await e(!0)}async function Qo(s){for(const e of s.da)await e(!1)}function lb(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ep(i)?Wm(i):pl(i).O_()&&Zm(i,e))}function Jm(s,e){const i=Ce(s),a=pl(i);i.Ia.delete(e),a.O_()&&ob(i,e),i.Ia.size===0&&(a.O_()?a.L_():sa(i)&&i.Ra.set("Unknown"))}function Zm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}pl(s).Y_(e)}function ob(s,e){s.Va.Ue(e),pl(s).Z_(e)}function Wm(s){s.Va=new Bx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),pl(s).start(),s.Ra.ua()}function ep(s){return sa(s)&&!pl(s).x_()&&s.Ia.size>0}function sa(s){return Ce(s).Ea.size===0}function ub(s){s.Va=void 0}async function X2(s){s.Ra.set("Online")}async function $2(s){s.Ia.forEach(((e,i)=>{Zm(s,e)}))}async function J2(s,e){ub(s),ep(s)?(s.Ra.ha(e),Wm(s)):s.Ra.set("Unknown")}async function Z2(s,e,i){if(s.Ra.set("Online"),e instanceof KE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){ce(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ih(s,a)}else if(e instanceof zc?s.Va.Ze(e):e instanceof QE?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const a=await sb(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(en.EMPTY_BYTE_STRING,S.snapshotVersion)),ob(c,_);const w=new $s(S.target,_,y,S.sequenceNumber);Zm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ce(ea,"Failed to raise snapshot:",a),await ih(s,a)}}async function ih(s,e,i){if(!dl(e))throw e;s.Ea.add(1),await Qo(s),s.Ra.set("Offline"),i||(i=()=>sb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(ea,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function cb(s,e){return e().catch((i=>ih(s,i,e)))}async function Ah(s){const e=Ce(s),i=lr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;W2(e);)try{const o=await V2(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,eR(e,o)}catch(o){await ih(e,o)}hb(e)&&fb(e)}function W2(s){return sa(s)&&s.Ta.length<10}function eR(s,e){s.Ta.push(e);const i=lr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function hb(s){return sa(s)&&!lr(s).x_()&&s.Ta.length>0}function fb(s){lr(s).start()}async function tR(s){lr(s).ra()}async function nR(s){const e=lr(s);for(const i of s.Ta)e.ea(i.mutations)}async function iR(s,e,i){const a=s.Ta.shift(),o=Fm.from(a,e,i);await cb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ah(s)}async function sR(s,e){e&&lr(s).X_&&await(async function(a,o){if((function(d){return Px(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();lr(a).B_(),await cb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ah(a)}})(s,e),hb(s)&&fb(s)}async function lv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ce(ea,"RemoteStore received new credentials");const a=sa(i);i.Ea.add(3),await Qo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sh(i)}async function rR(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Sh(i)):e||(i.Ea.add(2),await Qo(i),i.Ra.set("Unknown"))}function pl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new H2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:X2.bind(null,s),t_:$2.bind(null,s),r_:J2.bind(null,s),H_:Z2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ep(s)?Wm(s):s.Ra.set("Unknown")):(await s.ma.stop(),ub(s))}))),s.ma}function lr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new F2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:tR.bind(null,s),r_:sR.bind(null,s),ta:nR.bind(null,s),na:iR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ah(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new tp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(s,e){if(us("AsyncQueue",`${e}: ${s}`),dl(s))return new ue(J.UNAVAILABLE,`${e}: ${s}`);throw s}class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=So(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ov{constructor(){this.ga=new mt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class ll{constructor(e,i,a,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ll(e,i,Ja.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class aR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lR{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=uv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function uv(){return new ia((s=>ME(s)),yh)}async function db(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new aR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=np(d,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ip(i)}async function mb(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function oR(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&ip(i)}function uR(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function ip(s){s.Ca.forEach((e=>{e.next()}))}var Tm,cv;(cv=Tm||(Tm={})).Ma="default",cv.Cache="cache";class pb{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ll(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tm.Cache}}class gb{constructor(e){this.key=e}}class yb{constructor(e){this.key=e}}class cR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=VE(e),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new ov,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,w)=>{const k=o.get(S),K=_h(this.query,w)?w:null,ne=!!k&&this.mutatedKeys.has(k.key),oe=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ie=!1;k&&K?k.data.isEqual(K.data)?ne!==oe&&(a.track({type:3,doc:K}),ie=!0):this.su(k,K)||(a.track({type:2,doc:K}),ie=!0,(_&&this.eu(K,_)>0||y&&this.eu(K,y)<0)&&(g=!0)):!k&&K?(a.track({type:0,doc:K}),ie=!0):k&&!K&&(a.track({type:1,doc:k}),ie=!0,(_||y)&&(g=!0)),ie&&(K?(d=d.add(K),c=oe?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(K,ne){const oe=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:ie})}};return oe(K)-oe(ne)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ll(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new yb(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new gb(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class hR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class fR{constructor(e){this.key=e,this.hu=!1}}class dR{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ia((g=>ME(g)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ge.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mR(s,e,i=!0){const a=Sb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await _b(a,e,i,!0),o}async function pR(s,e){const i=Sb(s);await _b(i,e,!0,!1)}async function _b(s,e,i,a){const o=await k2(s.localStore,Mi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await gR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&lb(s.remoteStore,o),g}async function gR(s,e,i,a,o){s.pu=(w,k,K)=>(async function(oe,ie,Ee,Re){let _e=ie.view.ru(Ee);_e.Cs&&(_e=await nv(oe.localStore,ie.query,!1).then((({documents:O})=>ie.view.ru(O,_e))));const $e=Re&&Re.targetChanges.get(ie.targetId),rt=Re&&Re.targetMismatches.get(ie.targetId)!=null,Be=ie.view.applyChanges(_e,oe.isPrimaryClient,$e,rt);return fv(oe,ie.targetId,Be.au),Be.snapshot})(s,w,k,K);const c=await nv(s.localStore,e,!0),d=new cR(e,c.Qs),g=d.ru(c.documents),_=Go.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);fv(s,i,y.au);const S=new hR(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function yR(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!yh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Jm(a.remoteStore,o.targetId),Sm(a,o.targetId)})).catch(fl)):(Sm(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function _R(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function vR(s,e,i){const a=xR(s);try{const o=await(function(d,g){const _=Ce(d),y=ht.now(),S=g.reduce(((K,ne)=>K.add(ne.key)),qe());let w,k;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let ne=cs(),oe=qe();return _.Ns.getEntries(K,S).next((ie=>{ne=ie,ne.forEach(((Ee,Re)=>{Re.isValidDocument()||(oe=oe.add(Ee))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,ne))).next((ie=>{w=ie;const Ee=[];for(const Re of g){const _e=Vx(Re,w.get(Re.key).overlayedDocument);_e!=null&&Ee.push(new cr(Re.key,_e,wE(_e.value.mapValue),ai.exists(!0)))}return _.mutationQueue.addMutationBatch(K,y,Ee,g)})).next((ie=>{k=ie;const Ee=ie.applyToLocalDocumentSet(w,oe);return _.documentOverlayCache.saveOverlays(K,ie.batchId,Ee)}))})).then((()=>({batchId:k.batchId,changes:jE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new mt(ze)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Ko(a,o.changes),await Ah(a.remoteStore)}catch(o){const c=np(o,"Failed to persist write");i.reject(c)}}async function vb(s,e){const i=Ce(s);try{const a=await O2(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Je(d.hu,14607):o.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await Ko(i,a,e)}catch(a){await fl(a)}}function hv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Ce(d);_.onlineState=g;let y=!1;_.queries.forEach(((S,w)=>{for(const k of w.Sa)k.va(g)&&(y=!0)})),y&&ip(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function ER(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new mt(ge.comparator);d=d.insert(c,an.newNoDocument(c,xe.min()));const g=qe().add(c),_=new bh(xe.min(),new Map,new mt(ze),d,g);await vb(a,_),a.du=a.du.remove(c),a.Au.delete(e),rp(a)}else await Em(a.localStore,e,!1).then((()=>Sm(a,e,i))).catch(fl)}async function bR(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await D2(i.localStore,e);bb(i,a,null),Eb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ko(i,o)}catch(o){await fl(o)}}async function TR(s,e,i){const a=Ce(s);try{const o=await(function(d,g){const _=Ce(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,g).next((w=>(Je(w!==null,37113),S=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,e);bb(a,e,i),Eb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Ko(a,o)}catch(o){await fl(o)}}function Eb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function bb(s,e,i){const a=Ce(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Sm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||Tb(s,a)}))}function Tb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Jm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),rp(s))}function fv(s,e,i){for(const a of i)a instanceof gb?(s.Ru.addReference(a.key,e),SR(s,a)):a instanceof yb?(ce(sp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Tb(s,a.key)):Se(19791,{wu:a})}function SR(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ce(sp,"New document in limbo: "+i),s.Eu.add(a),rp(s))}function rp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(lt.fromString(e)),a=s.fu.next();s.Au.set(a,new fR(i)),s.du=s.du.insert(i,a),lb(s.remoteStore,new $s(Mi(qm(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Ko(s,e,i){const a=Ce(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Xm.As(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const S=Ce(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(y,(k=>Z.forEach(k.Es,(K=>S.persistence.referenceDelegate.addReference(w,k.targetId,K))).next((()=>Z.forEach(k.ds,(K=>S.persistence.referenceDelegate.removeReference(w,k.targetId,K)))))))))}catch(w){if(!dl(w))throw w;ce($m,"Failed to update sequence numbers: "+w)}for(const w of y){const k=w.targetId;if(!w.fromCache){const K=S.Ms.get(k),ne=K.snapshotVersion,oe=K.withLastLimboFreeSnapshotVersion(ne);S.Ms=S.Ms.insert(k,oe)}}})(a.localStore,c))}async function AR(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ce(sp,"User change. New user:",e.toKey());const a=await ib(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ue(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ko(i,a.Ls)}}function wR(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function Sb(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ER.bind(null,e),e.Pu.H_=oR.bind(null,e.eventManager),e.Pu.yu=uR.bind(null,e.eventManager),e}function xR(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TR.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return I2(this.persistence,new R2,e.initialUser,this.serializer)}Cu(e){return new nb(Ym.mi,this.serializer)}Du(e){return new L2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class RR extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof nh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new f2(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new nb((a=>nh.mi(a,i)),this.serializer)}}class Am{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=AR.bind(null,this.syncEngine),await rR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lR})()}createDatastore(e){const i=Th(e.databaseInfo.databaseId),a=(function(c){return new B2(c)})(e.databaseInfo);return(function(c,d,g,_){return new Q2(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new Y2(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new U2})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,S){const w=new dR(o,c,d,g,_,y);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);ce(ea,"RemoteStore shutting down."),a.Ea.add(5),await Qo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const or="FirestoreClient";class NR{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ce(or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zd(s,e){s.asyncQueue.verifyOperationInProgress(),ce(or,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await ib(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function dv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await CR(s);ce(or,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>lv(e.remoteStore,o))),s._onlineComponents=e}async function CR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(or,"Using user provided OfflineComponentProvider");try{await Zd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;nl("Error using user provided cache. Falling back to memory cache: "+i),await Zd(s,new sh)}}else ce(or,"Using default OfflineComponentProvider"),await Zd(s,new RR(void 0));return s._offlineComponents}async function wb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(or,"Using user provided OnlineComponentProvider"),await dv(s,s._uninitializedComponentsProvider._online)):(ce(or,"Using default OnlineComponentProvider"),await dv(s,new Am))),s._onlineComponents}function IR(s){return wb(s).then((e=>e.syncEngine))}async function wm(s){const e=await wb(s),i=e.eventManager;return i.onListen=mR.bind(null,e.syncEngine),i.onUnlisten=yR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_R.bind(null,e.syncEngine),i}function DR(s,e,i={}){const a=new tr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const S=new Ab({next:k=>{S.Nu(),d.enqueueAndForget((()=>mb(c,w))),k.fromCache&&_.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(k)},error:k=>y.reject(k)}),w=new pb(g,S,{includeMetadataChanges:!0,qa:!0});return db(c,w)})(await wm(s),s.asyncQueue,e,i,a))),a.promise}function xb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const mv=new Map;const Rb="firestore.googleapis.com",pv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rb,this.ssl=pv}else this.host=e.host,this.ssl=e.ssl??pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c2)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Uw;switch(a.type){case"firstParty":return new Bw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=mv.get(i);a&&(ce("ComponentProvider","Removing Datastore"),mv.delete(i),a.terminate())})(this),Promise.resolve()}}function OR(s,e,i,a={}){s=Oi(s,wh);const o=ul(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Zv(`https://${g}`),Wv("Firestore",!0)),c.host!==Rb&&c.host!==g&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!Jr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=rn.MOCK_USER;else{y=uA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new rn(w)}s._authCredentials=new Pw(new dE(y,S))}}class hr{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hr(this.firestore,e,this._query)}}class jt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Ho(i,jt._jsonSchema))return new jt(e,a||null,new ge(lt.fromString(i.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:kt("string",jt._jsonSchemaVersion),referencePath:kt("string")};class nr extends hr{constructor(e,i,a){super(e,i,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ge(e))}withConverter(e){return new nr(this.firestore,e,this._path)}}function Hr(s,e,...i){if(s=Ft(s),mE("collection","path",e),s instanceof wh){const a=lt.fromString(e,...i);return C0(a),new nr(s,null,a)}{if(!(s instanceof jt||s instanceof nr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(lt.fromString(e,...i));return C0(a),new nr(s.firestore,null,a)}}function qc(s,e,...i){if(s=Ft(s),arguments.length===1&&(e=km.newId()),mE("doc","path",e),s instanceof wh){const a=lt.fromString(e,...i);return N0(a),new jt(s,null,new ge(a))}{if(!(s instanceof jt||s instanceof nr))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(lt.fromString(e,...i));return N0(a),new jt(s.firestore,s instanceof nr?s.converter:null,new ge(a))}}const yv="AsyncQueue";class _v{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rb(this,"async_queue_retry"),this._c=()=>{const a=Jd();a&&ce(yv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;ce(yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,us("INTERNAL UNHANDLED ERROR: ",vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=tp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function vv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Ev(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ta extends wh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new _v,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _v(e),this._firestoreClient=void 0,await e}}}function MR(s,e){const i=typeof s=="object"?s:iE(),a=typeof s=="string"?s:$c,o=Mm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=lA("firestore");c&&OR(o,...c)}return o}function ap(s){if(s._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||VR(s),s._firestoreClient}function VR(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new rx(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,xb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new NR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(en.fromBase64String(e))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Fn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ho(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:kt("string",Fn._jsonSchemaVersion),bytes:kt("string")};class xh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lp{constructor(e){this._methodName=e}}class ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Ho(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:kt("string",ki._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class ji{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ho(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ji(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:kt("string",ji._jsonSchemaVersion),vectorValues:kt("object")};const kR=/^__.*__$/;class jR{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Fo(e,this.data,i,this.fieldTransforms)}}class Nb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new cr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Cb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class op{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Cb(this.Ac)&&kR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LR{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Th(e)}Cc(e,i,a,o=!1){return new op({Ac:e,methodName:i,Dc:a,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function up(s){const e=s._freezeSettings(),i=Th(s._databaseId);return new LR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function UR(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);cp("Data must be an object, but it was:",d,a);const g=Ib(a,d);let _,y;if(c.merge)_=new In(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const k=xm(e,w,i);if(!d.contains(k))throw new ue(J.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);Ob(S,k)||S.push(k)}_=new In(S),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new jR(new En(g),_,y)}class Rh extends lp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}function PR(s,e,i,a){const o=s.Cc(1,e,i);cp("Data must be an object, but it was:",o,a);const c=[],d=En.empty();ur(a,((_,y)=>{const S=hp(e,_,i);y=Ft(y);const w=o.yc(S);if(y instanceof Rh)c.push(S);else{const k=Yo(y,w);k!=null&&(c.push(S),d.set(S,k))}}));const g=new In(c);return new Nb(d,g,o.fieldTransforms)}function zR(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[xm(e,a,i)],_=[o];if(c.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<c.length;k+=2)g.push(xm(e,c[k])),_.push(c[k+1]);const y=[],S=En.empty();for(let k=g.length-1;k>=0;--k)if(!Ob(y,g[k])){const K=g[k];let ne=_[k];ne=Ft(ne);const oe=d.yc(K);if(ne instanceof Rh)y.push(K);else{const ie=Yo(ne,oe);ie!=null&&(y.push(K),S.set(K,ie))}}const w=new In(y);return new Nb(S,w,d.fieldTransforms)}function qR(s,e,i,a=!1){return Yo(i,s.Cc(a?4:3,e))}function Yo(s,e){if(Db(s=Ft(s)))return cp("Unsupported field value:",e,s),Ib(s,e);if(s instanceof lp)return(function(a,o){if(!Cb(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=Yo(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Ft(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Nx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ht.fromDate(a);return{timestampValue:th(o.serializer,c)}}if(a instanceof ht){const c=new ht(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(o.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:YE(o.serializer,a._byteString)};if(a instanceof jt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ji)return(function(d,g){return{mapValue:{fields:{[SE]:{stringValue:AE},[Jc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${dh(a)}`)})(s,e)}function Ib(s,e){const i={};return yE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ur(s,((a,o)=>{const c=Yo(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Db(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof ki||s instanceof Fn||s instanceof jt||s instanceof lp||s instanceof ji)}function cp(s,e,i){if(!Db(i)||!pE(i)){const a=dh(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function xm(s,e,i){if((e=Ft(e))instanceof xh)return e._internalPath;if(typeof e=="string")return hp(s,e);throw rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const BR=new RegExp("[~\\*/\\[\\]]");function hp(s,e,i){if(e.search(BR)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new xh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ue(J.INVALID_ARGUMENT,g+s+_)}function Ob(s,e){return s.some((i=>i.isEqual(e)))}class Mb{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Nh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class HR extends Mb{data(){return super.data()}}function Nh(s,e){return typeof e=="string"?hp(s,e):e instanceof xh?e._internalPath:e._delegate._internalPath}function Vb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fp{}class kb extends fp{}function Qa(s,e,...i){let a=[];e instanceof fp&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof dp)).length,g=c.filter((_=>_ instanceof Ch)).length;if(d>1||d>0&&g>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Ch extends kb{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Ch(e,i,a)}_apply(e){const i=this._parse(e);return jb(e._query,i),new hr(e.firestore,e.converter,mm(e._query,i))}_parse(e){const i=up(e.firestore);return(function(c,d,g,_,y,S,w){let k;if(y.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Sv(w,S);const ne=[];for(const oe of w)ne.push(Tv(_,c,oe));k={arrayValue:{values:ne}}}else k=Tv(_,c,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Sv(w,S),k=qR(g,d,w,S==="in"||S==="not-in");return Vt.create(y,S,k)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function bo(s,e,i){const a=e,o=Nh("where",s);return Ch._create(o,a,i)}class dp extends fp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:oi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const _ of g)jb(d,_),d=mm(d,_)})(e._query,i),new hr(e.firestore,e.converter,mm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mp extends kb{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new mp(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lo(c,d)})(e._query,this._field,this._direction);return new hr(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new ml(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function bv(s,e="asc"){const i=e,a=Nh("orderBy",s);return mp._create(a,i)}function Tv(s,e,i){if(typeof(i=Ft(i))=="string"){if(i==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OE(e)&&i.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(lt.fromString(i));if(!ge.isDocumentKey(a))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return L0(s,new ge(a))}if(i instanceof jt)return L0(s,i._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function Sv(s,e){if(!Array.isArray(s)||s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jb(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class FR{convertValue(e,i="none"){switch(ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ur(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Jc].arrayValue?.values?.map((a=>St(a.doubleValue)));return new ji(i)}convertGeoPoint(e){return new ki(St(e.latitude),St(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=gh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vo(e));default:return null}}convertTimestamp(e){const i=sr(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=lt.fromString(e);Je(eb(a),9688,{name:e});const o=new ko(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||us(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function GR(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class wo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends Mb{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Nh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:kt("string",Yr._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Bc extends Yr{data(e={}){return super.data(e)}}class Xr{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new wo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new wo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new wo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new wo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:QR(g.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}Xr._jsonSchemaVersion="firestore/querySnapshot/1.0",Xr._jsonSchema={type:kt("string",Xr._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class pp extends FR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,i)}}function Av(s){s=Oi(s,hr);const e=Oi(s.firestore,ta),i=ap(e),a=new pp(e);return Vb(s._query),DR(i,s._query).then((o=>new Xr(e,a,s,o)))}function KR(s,e,i,...a){s=Oi(s,jt);const o=Oi(s.firestore,ta),c=up(o);let d;return d=typeof(e=Ft(e))=="string"||e instanceof xh?zR(c,"updateDoc",s._key,e,i,a):PR(c,"updateDoc",s._key,e),gp(o,[d.toMutation(s._key,ai.exists(!0))])}function wv(s){return gp(Oi(s.firestore,ta),[new Hm(s._key,ai.none())])}function YR(s,e){const i=Oi(s.firestore,ta),a=qc(s),o=GR(s.converter,e);return gp(i,[UR(up(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ai.exists(!1))]).then((()=>a))}function Mc(s,...e){s=Ft(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Ev(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ev(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof jt)d=Oi(s.firestore,ta),g=qm(s._key.path),c={next:_=>{e[a]&&e[a](XR(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Oi(s,hr);d=Oi(_.firestore,ta),g=_._query;const y=new pp(d);c={next:S=>{e[a]&&e[a](new Xr(d,y,_,S))},error:e[a+1],complete:e[a+2]},Vb(s._query)}return(function(y,S,w,k){const K=new Ab(k),ne=new pb(S,K,w);return y.asyncQueue.enqueueAndForget((async()=>db(await wm(y),ne))),()=>{K.Nu(),y.asyncQueue.enqueueAndForget((async()=>mb(await wm(y),ne)))}})(ap(d),g,o,c)}function gp(s,e){return(function(a,o){const c=new tr;return a.asyncQueue.enqueueAndForget((async()=>vR(await IR(a),o,c))),c.promise})(ap(s),e)}function XR(s,e,i){const a=i.docs.get(e._key),o=new pp(s);return new Yr(s,o,e._key,a,new wo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){hl=o})(cl),tl(new Zr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ta(new zw(a.getProvider("auth-internal")),new Hw(d,a.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(y.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ws(A0,w0,e),Ws(A0,w0,"esm2020")})();function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=Lb,Ub=new qo("auth","Firebase",Lb());const ah=new Dm("@firebase/auth");function JR(s,...e){ah.logLevel<=Pe.WARN&&ah.warn(`Auth (${cl}): ${s}`,...e)}function Hc(s,...e){ah.logLevel<=Pe.ERROR&&ah.error(`Auth (${cl}): ${s}`,...e)}function Pi(s,...e){throw _p(s,...e)}function li(s,...e){return _p(s,...e)}function yp(s,e,i){const a={...$R(),[e]:i};return new qo("auth","Firebase",a).create(e,{appName:s.name})}function $r(s){return yp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZR(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Pi(s,"argument-error"),yp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _p(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Ub.create(s,...e)}function Ae(s,e,...i){if(!s)throw _p(e,...i)}function as(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function hs(s,e){s||as(e)}function Rm(){return typeof self<"u"&&self.location?.href||""}function WR(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}function eN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WR()||pA()||"connection"in navigator)?navigator.onLine:!0}function tN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Xo{constructor(e,i){this.shortDelay=e,this.longDelay=i,hs(i>e,"Short delay should be less than long delay!"),this.isMobile=fA()||gA()}get(){return eN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(s,e){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Pb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sN=new Xo(3e4,6e4);function Ep(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function gl(s,e,i,a,o={}){return zb(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return mA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&ul(s.emulatorConfig.host)&&(y.credentials="include"),Pb.fetch()(await qb(s,s.config.apiHost,i,g),y)})}async function zb(s,e,i){s._canInitEmulator=!1;const a={...nN,...e};try{const o=new aN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Vc(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yp(s,S,y);Pi(s,S)}}catch(o){if(o instanceof fs)throw o;Pi(s,"network-request-failed",{message:String(o)})}}async function rN(s,e,i,a,o={}){const c=await gl(s,e,i,a,o);return"mfaPendingCredential"in c&&Pi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function qb(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?vp(s.config,o):`${s.config.apiScheme}://${o}`;return iN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(li(this.auth,"network-request-failed")),sN.get())})}}function Vc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=li(s,e,a);return o.customData._tokenResponse=i,o}async function lN(s,e){return gl(s,"POST","/v1/accounts:delete",e)}async function lh(s,e){return gl(s,"POST","/v1/accounts:lookup",e)}function Do(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oN(s,e=!1){const i=Ft(s),a=await i.getIdToken(e),o=bp(a);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Do(Wd(o.auth_time)),issuedAtTime:Do(Wd(o.iat)),expirationTime:Do(Wd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function bp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yv(i);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Rv(s){const e=bp(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof fs&&uN(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function uN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class cN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(s){const e=s.auth,i=await s.getIdToken(),a=await zo(s,lh(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Bb(o.providerUserInfo):[],d=fN(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,S)}async function hN(s){const e=Ft(s);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fN(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Bb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function dN(s,e){const i=await zb(s,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await qb(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&ul(s.emulatorConfig.host)&&(_.credentials="include"),Pb.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function mN(s,e){return gl(s,"POST","/v2/accounts:revokeToken",Ep(s,e))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=Rv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await dN(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Za;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return as("not implemented")}}function Qs(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new cN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await zo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return oN(this,e)}reload(){return hN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await zo(this,lN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:k,isAnonymous:K,providerData:ne,stsTokenManager:oe}=i;Ae(w&&oe,e,"internal-error");const ie=Za.fromJSON(this.name,oe);Ae(typeof w=="string",e,"internal-error"),Qs(a,e.name),Qs(o,e.name),Ae(typeof k=="boolean",e,"internal-error"),Ae(typeof K=="boolean",e,"internal-error"),Qs(c,e.name),Qs(d,e.name),Qs(g,e.name),Qs(_,e.name),Qs(y,e.name),Qs(S,e.name);const Ee=new ri({uid:w,auth:e,email:o,emailVerified:k,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ie,createdAt:y,lastLoginAt:S});return ne&&Array.isArray(ne)&&(Ee.providerData=ne.map(Re=>({...Re}))),_&&(Ee._redirectEventId=_),Ee}static async _fromIdTokenResponse(e,i,a=!1){const o=new Za;o.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await oh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Bb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Za;g.updateFromIdToken(a);const _=new ri({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Nv=new Map;function ls(s){hs(s instanceof Function,"Expected a class definition");let e=Nv.get(s);return e?(hs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Nv.set(s,e),e)}class Hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Hb.type="NONE";const Cv=Hb;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class Wa{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Fc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await lh(this.auth,{idToken:e}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Wa(ls(Cv),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ls(Cv);const d=Fc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let w;if(typeof S=="string"){const k=await lh(e,{idToken:S}).catch(()=>{});if(!k)break;w=await ri._fromGetAccountInfoResponse(e,k,S)}else w=ri._fromJSON(e,S);y!==c&&(g=w),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Wa(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Wa(c,e,a))}}function Iv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xb(e))return"Blackberry";if($b(e))return"Webos";if(Gb(e))return"Safari";if((e.includes("chrome/")||Qb(e))&&!e.includes("edge/"))return"Chrome";if(Yb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Fb(s=ln()){return/firefox\//i.test(s)}function Gb(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qb(s=ln()){return/crios\//i.test(s)}function Kb(s=ln()){return/iemobile/i.test(s)}function Yb(s=ln()){return/android/i.test(s)}function Xb(s=ln()){return/blackberry/i.test(s)}function $b(s=ln()){return/webos/i.test(s)}function Tp(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function pN(s=ln()){return Tp(s)&&!!window.navigator?.standalone}function gN(){return yA()&&document.documentMode===10}function Jb(s=ln()){return Tp(s)||Yb(s)||$b(s)||Xb(s)||/windows phone/i.test(s)||Kb(s)}function Zb(s,e=[]){let i;switch(s){case"Browser":i=Iv(ln());break;case"Worker":i=`${Iv(ln())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${cl}/${a}`}class yN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function _N(s,e={}){return gl(s,"GET","/v2/passwordPolicy",Ep(s,e))}const vN=6;class EN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??vN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class bN{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new yN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await lh(this,{idToken:e}),a=await ri._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject($r(this));const i=e?Ft(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _N(this),i=new EN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await mN(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ls(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ih(s){return Ft(s)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=wA(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TN(s){Sp=s}function SN(s){return Sp.loadJS(s)}function AN(){return Sp.gapiScript}function wN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function xN(s,e){const i=Mm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Jr(c,e??{}))return o;Pi(o,"already-initialized")}return i.initialize({options:e})}function RN(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function NN(s,e,i){const a=Ih(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=Wb(e),{host:d,port:g}=CN(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Jr(y,a.config.emulator)&&Jr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ul(d)?(Zv(`${c}//${d}${_}`),Wv("Auth",!0)):IN()}function Wb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function CN(s){const e=Wb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Ov(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Ov(d)}}}function Ov(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function IN(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class eT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,i){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}async function el(s,e){return rN(s,"POST","/v1/accounts:signInWithIdp",Ep(s,e))}const DN="http://localhost";class na extends eT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Pi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new na(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return el(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,el(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,el(e,i)}buildRequest(){const e={requestUri:DN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Bo(i)}return e}}class Ap{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $o extends Ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ks extends $o{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class rs extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return na._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return rs.credential(i,a)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";class Ys extends $o{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Xs extends $o{constructor(){super("twitter.com")}static credential(e,i){return na._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Xs.credential(i,a)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";class ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await ri._fromIdTokenResponse(e,a,o),d=Mv(a);return new ol({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Mv(a);return new ol({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Mv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends fs{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new uh(e,i,a,o)}}function tT(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,a):c})}async function ON(s,e,i=!1){const a=await zo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ol._forOperation(s,"link",a)}async function MN(s,e,i=!1){const{auth:a}=s;if(si(a.app))return Promise.reject($r(a));const o="reauthenticate";try{const c=await zo(s,tT(a,o,e,s),i);Ae(c.idToken,a,"internal-error");const d=bp(c.idToken);Ae(d,a,"internal-error");const{sub:g}=d;return Ae(s.uid===g,a,"user-mismatch"),ol._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Pi(a,"user-mismatch"),c}}async function VN(s,e,i=!1){if(si(s.app))return Promise.reject($r(s));const a="signIn",o=await tT(s,a,e),c=await ol._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function kN(s,e,i,a){return Ft(s).onIdTokenChanged(e,i,a)}function jN(s,e,i){return Ft(s).beforeAuthStateChanged(e,i)}function LN(s,e,i,a){return Ft(s).onAuthStateChanged(e,i,a)}function UN(s){return Ft(s).signOut()}const ch="__sak";class nT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PN=1e3,zN=10;class iT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);gN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zN):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}iT.type="LOCAL";const qN=iT;class sT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}sT.type="SESSION";const rT=sT;function BN(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await BN(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function wp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class HN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=wp("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const k=w;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(k.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Li(){return window}function FN(s){Li().location.href=s}function aT(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function GN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QN(){return navigator?.serviceWorker?.controller||null}function KN(){return aT()?self:null}const lT="firebaseLocalStorageDb",YN=1,hh="firebaseLocalStorage",oT="fbase_key";class Jo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Oh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function XN(){const s=indexedDB.deleteDatabase(lT);return new Jo(s).toPromise()}function Cm(){const s=indexedDB.open(lT,YN);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(hh,{keyPath:oT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(hh)?e(a):(a.close(),await XN(),e(await Cm()))})})}async function Vv(s,e,i){const a=Oh(s,!0).put({[oT]:e,value:i});return new Jo(a).toPromise()}async function $N(s,e){const i=Oh(s,!1).get(e),a=await new Jo(i).toPromise();return a===void 0?null:a.value}function kv(s,e){const i=Oh(s,!0).delete(e);return new Jo(i).toPromise()}const JN=800,ZN=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>ZN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(KN()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GN(),!this.activeServiceWorker)return;this.sender=new HN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await Vv(e,ch,"1"),await kv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Vv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>$N(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>kv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Oh(o,!1).getAll();return new Jo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const WN=uT;new Xo(3e4,6e4);function cT(s,e){return e?ls(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class xp extends eT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,i){return el(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function eC(s){return VN(s.auth,new xp(s),s.bypassAuthState)}function tC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),MN(i,new xp(s),s.bypassAuthState)}async function nC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),ON(i,new xp(s),s.bypassAuthState)}class hT{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return tC;default:Pi(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iC=new Xo(2e3,1e4);async function sC(s,e,i){if(si(s.app))return Promise.reject(li(s,"operation-not-supported-in-this-environment"));const a=Ih(s);ZR(s,e,Ap);const o=cT(a,i);return new Kr(a,"signInViaPopup",e,o).executeNotNull()}class Kr extends hT{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Kr.currentPopupAction&&Kr.currentPopupAction.cancel(),Kr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iC.get())};e()}}Kr.currentPopupAction=null;const rC="pendingRedirect",Gc=new Map;class aC extends hT{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await lC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lC(s,e){const i=cC(e),a=uC(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function oC(s,e){Gc.set(s._key(),e)}function uC(s){return ls(s._redirectPersistence)}function cC(s){return Fc(rC,s.config.apiKey,s.name)}async function hC(s,e,i=!1){if(si(s.app))return Promise.reject($r(s));const a=Ih(s),o=cT(a,e),d=await new aC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const fC=600*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!fT(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(li(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(e))}saveEventToCache(e){this.cachedEventUids.add(jv(e)),this.lastProcessedEventTime=Date.now()}}function jv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function fT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function mC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(s);default:return!1}}async function pC(s,e={}){return gl(s,"GET","/v1/projects",e)}const gC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yC=/^https?/;async function _C(s){if(s.config.emulator)return;const{authorizedDomains:e}=await pC(s);for(const i of e)try{if(vC(i))return}catch{}Pi(s,"unauthorized-domain")}function vC(s){const e=Rm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!yC.test(i))return!1;if(gC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const EC=new Xo(3e4,6e4);function Lv(){const s=Li().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function bC(s){return new Promise((e,i)=>{function a(){Lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lv(),i(li(s,"network-request-failed"))},timeout:EC.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const o=wN("iframefcb");return Li()[o]=()=>{gapi.load?a():i(li(s,"network-request-failed"))},SN(`${AN()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function TC(s){return Qc=Qc||bC(s),Qc}const SC=new Xo(5e3,15e3),AC="__/auth/iframe",wC="emulator/auth/iframe",xC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?vp(e,wC):`https://${s.config.authDomain}/${AC}`,a={apiKey:e.apiKey,appName:s.name,v:cl},o=RC.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function CC(s){const e=await TC(s),i=Li().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:NC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=li(s,"network-request-failed"),g=Li().setTimeout(()=>{c(d)},SC.get());function _(){Li().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const IC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,OC=600,MC="_blank",VC="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kC(s,e,i,a=DC,o=OC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...IC,width:a.toString(),height:o.toString(),top:c,left:d},y=ln().toLowerCase();i&&(g=Qb(y)?MC:i),Fb(y)&&(e=e||VC,_.scrollbars="yes");const S=Object.entries(_).reduce((k,[K,ne])=>`${k}${K}=${ne},`,"");if(pN(y)&&g!=="_self")return jC(e||"",g),new Uv(null);const w=window.open(e||"",g,S);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new Uv(w)}function jC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const LC="__/auth/handler",UC="emulator/auth/handler",PC=encodeURIComponent("fac");async function Pv(s,e,i,a,o,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:cl,eventId:o};if(e instanceof Ap){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",AA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof $o){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await s._getAppCheckToken(),y=_?`#${PC}=${encodeURIComponent(_)}`:"";return`${zC(s)}?${Bo(g).slice(1)}${y}`}function zC({config:s}){return s.emulator?vp(s,UC):`https://${s.authDomain}/${LC}`}const em="webStorageSupport";class qC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rT,this._completeRedirectFn=hC,this._overrideRedirectResult=oC}async _openPopup(e,i,a,o){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Pv(e,i,a,Rm(),o);return kC(e,c,wp())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await Pv(e,i,a,Rm(),o);return FN(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await CC(e),a=new dC(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},o=>{const c=o?.[0]?.[em];c!==void 0&&i(!!c),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_C(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jb()||Gb()||Tp()}}const BC=qC;var zv="@firebase/auth",qv="1.11.1";class HC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GC(s){tl(new Zr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zb(s)},y=new bN(a,o,c,_);return RN(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),tl(new Zr("auth-internal",e=>{const i=Ih(e.getProvider("auth").getImmediate());return(a=>new HC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(zv,qv,FC(s)),Ws(zv,qv,"esm2020")}const QC=300,KC=Jv("authIdTokenMaxAge")||QC;let Bv=null;const YC=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>KC)return;const o=i?.token;Bv!==o&&(Bv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XC(s=iE()){const e=Mm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=xN(s,{popupRedirectResolver:BC,persistence:[WN,qN,rT]}),a=Jv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=YC(c.toString());jN(i,d,()=>d(i.currentUser)),kN(i,g=>d(g))}}const o=Xv("auth");return o&&NN(i,`http://${o}`),i}function $C(){return document.getElementsByTagName("head")?.[0]??document}TN({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=li("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",$C().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GC("Browser");const JC={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},dT=nE(JC),Ii=MR(dT),tm=XC(dT),ZC=new rs;class Zo{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const WC=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},Zt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:WC()},Rp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},eI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Rp(s);Zt.publicKey=i.publicKey,Zt.blockHeadless=i.blockHeadless,Zt.storageProvider=i.storageProvider,Zt.blockList=i.blockList,Zt.limitRate=i.limitRate,Zt.origin=i.origin||e},mT=async(s,e,i={})=>{const a=await fetch(Zt.origin+s,{method:"POST",headers:i,body:e}),o=await a.text(),c=new Zo(a.status,o);if(a.ok)return c;throw c},pT=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},tI=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},gT=s=>s.webdriver||!s.languages||s.languages.length===0,yT=()=>new Zo(451,"Unavailable For Headless Browser"),nI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},iI=s=>!s.list?.length||!s.watchVariable,sI=(s,e)=>s instanceof FormData?s.get(e):s[e],_T=(s,e)=>{if(iI(s))return!1;nI(s.list,s.watchVariable);const i=sI(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},vT=()=>new Zo(403,"Forbidden"),rI=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},aI=async(s,e,i)=>{const a=Number(await i.get(s)||0);return e-Date.now()+a},ET=async(s,e,i)=>{if(!e.throttle||!i)return!1;rI(e.throttle,e.id);const a=e.id||s;return await aI(a,e.throttle,i)>0?!0:(await i.set(a,Date.now().toString()),!1)},bT=()=>new Zo(429,"Too Many Requests"),lI=async(s,e,i,a)=>{const o=Rp(a),c=o.publicKey||Zt.publicKey,d=o.blockHeadless||Zt.blockHeadless,g=o.storageProvider||Zt.storageProvider,_={...Zt.blockList,...o.blockList},y={...Zt.limitRate,...o.limitRate};return d&&gT(navigator)?Promise.reject(yT()):(pT(c,s,e),tI(i),i&&_T(_,i)?Promise.reject(vT()):await ET(location.pathname,y,g)?Promise.reject(bT()):mT("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},oI=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},uI=s=>typeof s=="string"?document.querySelector(s):s,cI=async(s,e,i,a)=>{const o=Rp(a),c=o.publicKey||Zt.publicKey,d=o.blockHeadless||Zt.blockHeadless,g=Zt.storageProvider||o.storageProvider,_={...Zt.blockList,...o.blockList},y={...Zt.limitRate,...o.limitRate};if(d&&gT(navigator))return Promise.reject(yT());const S=uI(i);pT(c,s,e),oI(S);const w=new FormData(S);return _T(_,w)?Promise.reject(vT()):await ET(location.pathname,y,g)?Promise.reject(bT()):(w.append("lib_version","4.4.1"),w.append("service_id",s),w.append("template_id",e),w.append("user_id",c),mT("/api/v1.0/email/send-form",w))},hI={init:eI,send:lI,sendForm:cI,EmailJSResponseStatus:Zo},fI="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",nm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Hv=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","erivers@salpointe.org"],kc={"Cinema Camera Kit *":1,"Gimbal / Stabilizer *":6,"DJI Mic Kit (Wireless)":4,"DJI Flip Drone *":1,Tripod:4,"Lighting Kit":6,"DSLR Camera Body":6,"Zoom Lens (18-55mm)":6,"Telephoto Lens (70-200mm)":2,"Portrait Lens (50mm)":3,"SD Card Reader":5,"Flash Unit":3},Fe={FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics"},Fr=s=>`salpointe_draft_${s}`,Fv=s=>{hI.send(nm.SERVICE_ID,nm.TEMPLATE_ID,s,nm.PUBLIC_KEY).then(e=>{console.log("EMAIL SUCCESS!",e.status,e.text)},e=>{console.log("EMAIL FAILED...",e)})},dI=()=>{const[s,e]=Ve.useState("home"),[i,a]=Ve.useState(!1),[o,c]=Ve.useState(null),[d,g]=Ve.useState(!1);Ve.useEffect(()=>{const A=LN(tm,D=>{D?(c(D),g(Hv.includes(D.email))):(c(null),g(!1))});return()=>A()},[]);const _=async()=>{try{await sC(tm,ZC)}catch(A){console.error("Login failed:",A),alert("Login failed. Please try again.")}},y=async()=>{await UN(tm),S()},S=()=>{e("home"),a(!1)},w=["home",Fe.FILM,Fe.GRAPHIC,Fe.BUSINESS,Fe.CULINARY,Fe.PHOTO].includes(s);return v.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-slate-800",children:[v.jsx("header",{className:"bg-red-900 text-white shadow-lg sticky top-0 z-50",children:v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3",children:[v.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:S,children:[v.jsx("img",{src:fI,alt:"Salpointe Catholic Logo",className:"w-9 h-9 md:w-10 md:h-10 object-contain group-hover:scale-105 transition-transform"}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-lg md:text-xl font-bold tracking-wide leading-tight",children:"Salpointe Catholic"}),v.jsx("p",{className:"text-[10px] md:text-xs text-red-200 uppercase tracking-wider",children:"CTE Request Hub"})]})]}),v.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!w&&s!=="home"&&v.jsxs("button",{onClick:S,className:"text-xs md:text-sm bg-red-800 hover:bg-red-700 text-white px-3 py-2 rounded-lg transition-colors flex items-center gap-2 mr-1",children:[v.jsx(mS,{size:16}),v.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),v.jsxs("button",{onClick:()=>{e(Fe.CALENDAR),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Fe.CALENDAR?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[v.jsx(a0,{size:16}),v.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),o?v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>{e(Fe.MY_REQUESTS),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Fe.MY_REQUESTS?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[v.jsx(o0,{size:16}),v.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>{e(Fe.QUEUE),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Fe.QUEUE?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[v.jsx(zd,{size:16}),v.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),v.jsxs("button",{onClick:()=>{e(Fe.ANALYTICS),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===Fe.ANALYTICS?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[v.jsx(TS,{size:16}),v.jsx("span",{className:"hidden sm:inline",children:"Stats"})]})]}),v.jsx("button",{onClick:y,className:"ml-2 text-xs md:text-sm font-medium px-3 py-2 rounded-lg bg-red-950/50 hover:bg-red-950 text-red-200 hover:text-white transition-colors flex items-center gap-2",title:`Logged in as ${o.email}`,children:v.jsx(LS,{size:16})})]}):v.jsxs("button",{onClick:_,className:"ml-2 text-xs md:text-sm font-bold bg-white text-red-900 px-4 py-2 rounded-lg hover:bg-amber-50 transition-colors flex items-center gap-2 shadow-sm",children:[v.jsx(kS,{size:16})," Login"]})]})]})}),v.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:i?v.jsx(k,{onReset:S}):v.jsxs(v.Fragment,{children:[s==="home"&&v.jsx(K,{onViewChange:e,currentUser:o}),s===Fe.FILM&&v.jsx($e,{setSubmitted:a,onCancel:S,currentUser:o}),s===Fe.GRAPHIC&&v.jsx(rt,{setSubmitted:a,onCancel:S,currentUser:o}),s===Fe.BUSINESS&&v.jsx(Be,{setSubmitted:a,onCancel:S,currentUser:o}),s===Fe.CULINARY&&v.jsx(O,{setSubmitted:a,onCancel:S,currentUser:o}),s===Fe.PHOTO&&v.jsx(R,{setSubmitted:a,onCancel:S,currentUser:o}),s===Fe.CALENDAR&&v.jsx(Ee,{}),s===Fe.QUEUE&&v.jsx(Re,{adminMode:d,setAdminMode:g,ALLOWED_ADMINS:Hv}),s===Fe.MY_REQUESTS&&v.jsx(ie,{currentUser:o}),s===Fe.ANALYTICS&&d&&v.jsx(ne,{})]})}),v.jsxs("footer",{className:"text-center text-slate-400 text-xs md:text-sm py-8 px-4",children:[" ",new Date().getFullYear()," Salpointe Catholic High School CTE Department"]})]});function k({onReset:A}){return v.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded-xl shadow-md p-6 md:p-8 text-center animate-fade-in-up mt-8 md:mt-16",children:[v.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600",children:v.jsx(CS,{size:32,className:"md:w-10 md:h-10"})}),v.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mb-2",children:"Request Received!"}),v.jsx("p",{className:"text-slate-600 mb-8 text-sm md:text-base",children:"Your request has been saved to the database and the department head has been notified."}),v.jsx("button",{onClick:A,className:"bg-red-900 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg hover:shadow-xl w-full text-sm md:text-base",children:"Submit Another Request"})]})}function K({onViewChange:A,currentUser:D}){const[N,M]=Ve.useState({});Ve.useEffect(()=>{(()=>{const ye={},U={[Fe.FILM]:"Film",[Fe.GRAPHIC]:"Graphic",[Fe.BUSINESS]:"Business",[Fe.CULINARY]:"Culinary",[Fe.PHOTO]:"Photo"};Object.keys(U).forEach(W=>{const se=Fr(U[W]);localStorage.getItem(se)&&(ye[W]=!0)}),M(ye)})()},[]);const x=[{id:Fe.FILM,title:"Film & TV",icon:h0,desc:"Checkout equipment (cameras, drones) or request event recording/broadcasting.",color:"bg-blue-50 text-blue-700 border-blue-200"},{id:Fe.GRAPHIC,title:"Graphic Design",icon:u0,desc:"Request creative assets like logos, posters, flyers, or website designs.",color:"bg-purple-50 text-purple-700 border-purple-200"},{id:Fe.BUSINESS,title:"Business",icon:Ud,desc:"Submit business plans for review or request consultation for student startups.",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{id:Fe.CULINARY,title:"Culinary Arts",icon:c0,desc:"Request catering services for school clubs, faculty meetings, or special events.",color:"bg-orange-50 text-orange-700 border-orange-200"},{id:Fe.PHOTO,title:"Photography",icon:Pd,desc:"Reserve cameras/lenses or request a photographer for your event.",color:"bg-pink-50 text-pink-700 border-pink-200"}];return v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[v.jsxs("div",{className:"col-span-full mb-2 md:mb-4",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:D?`Welcome, ${D.displayName.split(" ")[0]}.`:"Welcome, Lancer."}),v.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Select a department below to start your request."})]}),x.map(ee=>v.jsxs("div",{onClick:()=>A(ee.id),className:"group relative bg-white rounded-xl shadow-sm hover:shadow-md border border-slate-200 p-5 md:p-6 cursor-pointer transition-all hover:-translate-y-1 flex flex-col h-full active:scale-95 md:active:scale-100",children:[N[ee.id]&&v.jsxs("span",{className:"absolute top-4 right-4 bg-amber-100 text-amber-800 border border-amber-200 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-sm z-10",children:[v.jsx(qd,{size:12})," Resume Draft"]}),v.jsx("div",{className:`w-12 h-12 rounded-lg ${ee.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:v.jsx(ee.icon,{size:24})}),v.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:ee.title}),v.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:ee.desc})]},ee.id))]})}function ne(){const[A,D]=Ve.useState(!0),[N,M]=Ve.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});Ve.useEffect(()=>{const ee=Qa(Hr(Ii,"requests")),ye=Mc(ee,U=>{let W=0,se=0,be=0;const me={},C={};U.forEach(te=>{const Q=te.data();W++,(Q.status==="Approved"||Q.status==="Completed")&&se++,Q.status==="Pending Review"&&be++,me[Q.dept]=(me[Q.dept]||0)+1,Q.equipment&&(Array.isArray(Q.equipment)?Q.equipment:[Q.equipment]).forEach(X=>{C[X]=(C[X]||0)+1})});const F=Object.entries(C).sort(([,te],[,Q])=>Q-te).slice(0,5);M({total:W,approved:se,pending:be,deptCounts:me,topEquipment:F}),D(!1)});return()=>ye()},[]);const x=N.total>0?Math.round(N.approved/N.total*100):0;return v.jsx("div",{className:"space-y-6 animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[v.jsx(HS,{className:"text-emerald-600"})," CTE Insights"]}),v.jsx("p",{className:"text-slate-500 text-sm",children:"Real-time usage metrics and trends."})]}),v.jsxs("div",{className:"bg-slate-100 px-4 py-2 rounded-lg text-slate-600 font-mono text-sm",children:["Total Requests: ",v.jsx("strong",{children:N.total})]})]}),A?v.jsx("div",{className:"text-center py-12 text-slate-400",children:"Crunching numbers..."}):v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"bg-emerald-50 rounded-xl p-5 border border-emerald-100",children:[v.jsx("h4",{className:"text-emerald-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Approval Rate"}),v.jsxs("div",{className:"flex items-end gap-2",children:[v.jsxs("span",{className:"text-4xl font-bold text-emerald-600",children:[x,"%"]}),v.jsx("span",{className:"text-emerald-500 text-sm mb-1",children:"of all requests"})]})]}),v.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-100",children:[v.jsx("h4",{className:"text-blue-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Completed / Approved"}),v.jsxs("div",{className:"flex items-end gap-2",children:[v.jsx("span",{className:"text-4xl font-bold text-blue-600",children:N.approved}),v.jsx("span",{className:"text-blue-500 text-sm mb-1",children:"projects greenlit"})]})]}),v.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-100",children:[v.jsx("h4",{className:"text-amber-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Pending Review"}),v.jsxs("div",{className:"flex items-end gap-2",children:[v.jsx("span",{className:"text-4xl font-bold text-amber-600",children:N.pending}),v.jsx("span",{className:"text-amber-500 text-sm mb-1",children:"awaiting action"})]})]}),v.jsxs("div",{className:"md:col-span-2 bg-white rounded-xl border border-slate-200 p-5 shadow-sm",children:[v.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[v.jsx(AS,{size:18,className:"text-slate-400"})," Requests by Department"]}),v.jsxs("div",{className:"space-y-4",children:[Object.entries(N.deptCounts).sort(([,ee],[,ye])=>ye-ee).map(([ee,ye])=>{const U=ye/N.total*100;return v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[v.jsx("span",{className:"font-medium text-slate-700",children:ee}),v.jsxs("span",{className:"text-slate-500",children:[ye," requests"]})]}),v.jsx("div",{className:"w-full bg-slate-100 rounded-full h-3 overflow-hidden",children:v.jsx("div",{className:"bg-red-800 h-3 rounded-full transition-all duration-1000 ease-out",style:{width:`${U}%`}})})]},ee)}),Object.keys(N.deptCounts).length===0&&v.jsx("div",{className:"text-center text-slate-400 py-4",children:"No data yet."})]})]}),v.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 shadow-sm",children:[v.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[v.jsx(Pd,{size:18,className:"text-slate-400"})," Top Equipment"]}),N.topEquipment.length>0?v.jsx("ul",{className:"space-y-3",children:N.topEquipment.map(([ee,ye],U)=>v.jsxs("li",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold",children:U+1}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-medium text-slate-700 truncate",children:ee.replace(" *","")}),v.jsxs("p",{className:"text-xs text-slate-400",children:[ye," checkouts"]})]})]},ee))}):v.jsx("p",{className:"text-slate-400 text-sm text-center py-4",children:"No checkouts recorded."})]})]})]})})}function oe({initialData:A={},currentUser:D}){const N=D?.displayName||A.fullName||"",M=D?.email||A.email||"";return v.jsxs("div",{className:"bg-slate-50 p-5 md:p-6 rounded-lg border border-slate-200 mb-6",children:[v.jsxs("h3",{className:"text-base md:text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[v.jsx(KS,{size:18})," Contact Information"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Project / Request Name"}),v.jsx("input",{name:"requestName",type:"text",defaultValue:A.requestName||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"e.g. Football Video, Catering for NHS",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Full Name"}),v.jsx("input",{name:"fullName",type:"text",defaultValue:N,readOnly:!!D,className:`w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm ${D?"bg-slate-100 text-slate-500 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Salpointe Email"}),v.jsx("input",{name:"email",type:"email",defaultValue:M,readOnly:!!D,className:`w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm ${D?"bg-slate-100 text-slate-500 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Role"}),v.jsxs("select",{name:"role",defaultValue:A.role||"Student",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm bg-white",children:[v.jsx("option",{children:"Student"}),v.jsx("option",{children:"Faculty / Staff"}),v.jsx("option",{children:"Club Representative"})]})]})]})]})}function ie({currentUser:A}){const[D,N]=Ve.useState([]),[M,x]=Ve.useState(!0);Ve.useEffect(()=>{if(!A)return;const U=Qa(Hr(Ii,"requests"),bo("email","==",A.email),bv("createdAt","desc")),W=Mc(U,se=>{const be=se.docs.map(me=>({id:me.id,...me.data(),formattedDate:me.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));N(be),x(!1)});return()=>W()},[A]);const ee=async U=>{window.confirm("Are you sure you want to cancel this request? This action cannot be undone.")&&await wv(qc(Ii,"requests",U))},ye=U=>{switch(U){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return v.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[v.jsxs("div",{className:"bg-red-900 text-white p-6",children:[v.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[v.jsx(o0,{className:"text-amber-400"})," My Request History"]}),v.jsx("p",{className:"text-red-200 text-sm",children:"Track your past and current requests."})]}),v.jsx("div",{className:"overflow-x-auto",children:M?v.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading your history..."}):D.length===0?v.jsxs("div",{className:"p-12 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-400",children:v.jsx(zd,{size:32})}),v.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"No Requests Found"}),v.jsx("p",{className:"text-slate-500 text-sm",children:"You haven't submitted any requests yet."})]}):v.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs uppercase tracking-wider text-slate-500 font-semibold",children:[v.jsx("th",{className:"p-4",children:"ID"}),v.jsx("th",{className:"p-4",children:"Department"}),v.jsx("th",{className:"p-4",children:"Request Name"}),v.jsx("th",{className:"p-4",children:"Date"}),v.jsx("th",{className:"p-4",children:"Status"}),v.jsx("th",{className:"p-4",children:"Actions"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:D.map(U=>v.jsxs("tr",{className:"hover:bg-slate-50",children:[v.jsx("td",{className:"p-4 text-slate-400 font-mono text-xs",children:U.displayId||"..."}),v.jsx("td",{className:"p-4 text-slate-700 font-medium text-sm capitalize",children:U.dept}),v.jsx("td",{className:"p-4 text-slate-800 font-semibold text-sm",children:U.title}),v.jsx("td",{className:"p-4 text-slate-500 text-sm",children:U.formattedDate}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide whitespace-nowrap ${ye(U.status)}`,children:U.status})}),v.jsx("td",{className:"p-4",children:U.status==="Pending Review"&&v.jsx("button",{onClick:()=>ee(U.id),className:"text-xs text-red-600 hover:text-red-800 hover:bg-red-50 px-3 py-1 rounded border border-red-200 transition-colors",children:"Cancel Request"})})]},U.id))})]})})]})}function Ee(){const A=new Date,[D,N]=Ve.useState(null),[M,x]=Ve.useState("all"),[ee,ye]=Ve.useState([]),[U,W]=Ve.useState(!0);Ve.useEffect(()=>{const X=Qa(Hr(Ii,"requests")),le=Mc(X,ve=>{const de=ve.docs.map(Ie=>{const we=Ie.data();let At=we.eventDate||we.checkoutDate||we.pickupDate||we.deadline;if(!At)return null;const[hn,tn,Lt]=At.split("-").map(Number),Gn=new Date(hn,tn-1,Lt);return{id:Ie.id,title:we.title||"Request",displayId:we.displayId,dept:we.dept,type:we.requestType==="checkout"||we.dept==="Graphic"?"checkout":"event",status:we.status,date:Gn,...we}}).filter(Ie=>Ie!==null&&Ie.status==="Approved");ye(de),W(!1)});return()=>le()},[]);const se=X=>{const le=X.getFullYear(),ve=X.getMonth(),de=new Date(le,ve+1,0).getDate(),Ie=new Date(le,ve,1).getDay();return{days:de,firstDay:Ie,monthName:X.toLocaleString("default",{month:"long"}),year:le}},{days:be,firstDay:me,monthName:C}=se(A),F=Array.from({length:be},(X,le)=>le+1),te=Array.from({length:me},(X,le)=>le),Q=X=>ee.filter(le=>le.date.getDate()===X&&le.date.getMonth()===A.getMonth()&&(M==="all"||le.dept===M)),re=X=>{const le="https://calendar.google.com/calendar/render?action=TEMPLATE",ve=`&text=${encodeURIComponent(`[${X.dept}] ${X.title}`)}`,de=`&details=${encodeURIComponent(`Ref: ${X.displayId}
Requested by: ${X.fullName}
Role: ${X.role}
Details: ${X.details||X.brief||X.description||"N/A"}`)}`,Ie=`&location=${encodeURIComponent(X.location||"Salpointe Catholic High School")}`,we=X.date.getFullYear(),At=String(X.date.getMonth()+1).padStart(2,"0"),hn=String(X.date.getDate()).padStart(2,"0"),tn=`${we}${At}${hn}`,Lt=new Date(X.date);Lt.setDate(Lt.getDate()+1);const Gn=Lt.getFullYear(),fr=String(Lt.getMonth()+1).padStart(2,"0"),dr=String(Lt.getDate()).padStart(2,"0"),pt=`${Gn}${fr}${dr}`,_t=`&dates=${tn}/${pt}`;return`${le}${ve}${_t}${de}${Ie}`};return v.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[v.jsxs("div",{className:"bg-red-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[v.jsx(a0,{className:"text-amber-400",size:24})," Master Schedule"]}),v.jsx("p",{className:"text-red-200 text-sm",children:"Approved requests and checkouts"})]}),v.jsx("div",{className:"flex bg-red-800 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",Fe.FILM,Fe.PHOTO,Fe.CULINARY].map(X=>v.jsx("button",{onClick:()=>x(X),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${M===X?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:X==="all"?"All":X},X))})]}),v.jsxs("div",{className:"p-4 md:p-6",children:[v.jsx("div",{className:"overflow-x-auto pb-2",children:U?v.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading schedule..."}):v.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(X=>v.jsx("div",{className:"bg-slate-50 p-2 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider",children:X},X)),te.map(X=>v.jsx("div",{className:"bg-white min-h-[80px] md:min-h-[100px]"},`empty-${X}`)),F.map(X=>{const le=Q(X);return v.jsxs("div",{className:`bg-white min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-100 relative group cursor-pointer transition-colors ${D===X?"bg-red-50":"hover:bg-slate-50"}`,onClick:()=>N(D===X?null:X),children:[v.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${X===A.getDate()?"bg-red-900 text-white":"text-slate-700"}`,children:X}),v.jsx("div",{className:"space-y-1",children:le.map(ve=>v.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${ve.type==="checkout"?"bg-blue-50 border-blue-100 text-blue-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:ve.title},ve.id))})]},X)})]})}),D&&v.jsxs("div",{className:"mt-4 md:mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200 animate-fade-in",children:[v.jsxs("h4",{className:"font-bold text-slate-800 mb-3",children:["Events for ",C," ",D]}),Q(D).length===0?v.jsx("p",{className:"text-slate-500 text-sm",children:"No approved events."}):v.jsx("div",{className:"space-y-3",children:Q(D).map(X=>v.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded border border-slate-200 shadow-sm",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-slate-800 text-sm",children:X.title}),v.jsxs("p",{className:"text-xs text-slate-500 uppercase",children:[X.dept,"  ",X.fullName]})]}),v.jsx("a",{href:re(X),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-50 hover:bg-slate-100 p-2 rounded text-slate-600",children:v.jsx(_S,{size:16})})]},X.id))})]})]})]})}function Re({adminMode:A,setAdminMode:D,ALLOWED_ADMINS:N}){const[M,x]=Ve.useState([]),[ee,ye]=Ve.useState("all"),[U,W]=Ve.useState(!0),[se,be]=Ve.useState(null);Ve.useEffect(()=>{const Q=Qa(Hr(Ii,"requests"),bv("createdAt","desc")),re=Mc(Q,X=>{const le=X.docs.map(ve=>({id:ve.id,...ve.data(),formattedDate:ve.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));x(le),W(!1)});return()=>re()},[]);const me=async(Q,re)=>{window.confirm(`Mark as ${re}?`)&&(await KR(qc(Ii,"requests",Q.id),{status:re}),se&&se.id===Q.id&&be(X=>({...X,status:re})),Fv({to_name:Q.fullName,to_email:Q.email,subject:`Request Update: ${Q.title}`,title:Q.title,status:re,message:`Status updated to ${re}.`}))},C=async Q=>{window.confirm("Delete request?")&&(await wv(qc(Ii,"requests",Q)),se&&se.id===Q&&be(null))},F=ee==="all"?M:M.filter(Q=>Q.dept?.toLowerCase().includes(ee.toLowerCase())),te=Q=>{switch(Q){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return v.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden relative",children:[se&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[v.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start sticky top-0 bg-white z-10",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Request Details"}),v.jsxs("p",{className:"text-xs text-slate-400 font-mono mt-1",children:["ID: ",se.displayId]})]}),v.jsx("button",{onClick:()=>be(null),className:"text-slate-400 hover:text-slate-600 bg-slate-100 p-2 rounded-full",children:v.jsx(Bd,{size:20})})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Department"}),v.jsx("p",{className:"font-semibold text-slate-800 capitalize",children:se.dept})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Status"}),v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${te(se.status)}`,children:se.status})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Submitted By"}),v.jsx("p",{className:"text-slate-800",children:se.fullName})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Contact"}),v.jsx("p",{className:"text-slate-800",children:se.email})]})]}),v.jsx("hr",{className:"border-slate-100"}),v.jsxs("div",{children:[v.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[v.jsx(Ud,{size:18,className:"text-slate-400"})," Details"]}),v.jsx("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 border border-slate-100",children:Object.entries(se).map(([Q,re])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(Q)?null:Array.isArray(re)?v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:Q}),v.jsx("ul",{className:"list-disc list-inside text-sm bg-white p-2 rounded border",children:re.map((X,le)=>v.jsx("li",{children:X},le))})]},Q):v.jsxs("div",{children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:Q.replace(/([A-Z])/g," $1").trim()}),v.jsx("p",{className:"text-slate-700 text-sm",children:re})]},Q))})]}),A&&v.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[v.jsx("h4",{className:"font-bold text-indigo-900 mb-2 text-sm",children:"Admin Actions"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>me(se,"Approved"),className:"flex-1 py-2 bg-green-600 text-white rounded text-sm",children:"Approve"}),v.jsx("button",{onClick:()=>me(se,"Denied"),className:"flex-1 py-2 bg-red-600 text-white rounded text-sm",children:"Deny"})]})]})]})]})}),v.jsxs("div",{className:"bg-indigo-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[v.jsx(zd,{className:"text-indigo-300"})," All Requests"]}),v.jsx("p",{className:"text-indigo-200 text-sm",children:"Live Admin Queue"})]}),v.jsxs("select",{className:"bg-indigo-800 text-white border border-indigo-700 rounded-lg px-4 py-2 text-sm",value:ee,onChange:Q=>ye(Q.target.value),children:[v.jsx("option",{value:"all",children:"All Departments"}),v.jsx("option",{value:"film",children:"Film"}),v.jsx("option",{value:"graphic",children:"Graphic"}),v.jsx("option",{value:"business",children:"Business"}),v.jsx("option",{value:"culinary",children:"Culinary"}),v.jsx("option",{value:"photo",children:"Photo"})]})]}),v.jsx("div",{className:"overflow-x-auto",children:U?v.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading..."}):v.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-slate-50 border-b text-xs uppercase text-slate-500",children:[v.jsx("th",{className:"p-4",children:"ID"}),v.jsx("th",{className:"p-4",children:"Dept"}),v.jsx("th",{className:"p-4",children:"Request"}),v.jsx("th",{className:"p-4",children:"User"}),v.jsx("th",{className:"p-4",children:"Status"}),v.jsx("th",{className:"p-4",children:"View"}),A&&v.jsx("th",{className:"p-4",children:"Action"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:F.map(Q=>v.jsxs("tr",{className:"hover:bg-slate-50",children:[v.jsx("td",{className:"p-4 text-slate-400 font-mono text-xs",children:Q.displayId}),v.jsx("td",{className:"p-4 text-slate-700 text-sm capitalize",children:Q.dept}),v.jsx("td",{className:"p-4 text-slate-800 font-semibold text-sm",children:Q.title}),v.jsx("td",{className:"p-4 text-slate-600 text-sm",children:Q.fullName}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${te(Q.status)}`,children:Q.status})}),v.jsx("td",{className:"p-4",children:v.jsx("button",{onClick:()=>be(Q),className:"text-slate-400 hover:text-indigo-600 p-2",children:v.jsx(OS,{size:20})})}),A&&v.jsxs("td",{className:"p-4 flex gap-2",children:[v.jsx("button",{onClick:()=>me(Q,"Approved"),className:"p-1 bg-green-100 text-green-700 rounded",children:v.jsx(xS,{size:16})}),v.jsx("button",{onClick:()=>me(Q,"Denied"),className:"p-1 bg-red-100 text-red-700 rounded",children:v.jsx(Bd,{size:16})}),v.jsx("button",{onClick:()=>C(Q.id),className:"p-1 bg-slate-100 text-slate-700 rounded",children:v.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},Q.id))})]})})]})}function _e({title:A,icon:D,colorClass:N,children:M,setSubmitted:x,initialData:ee={},onCancel:ye,currentUser:U}){const W=Ve.useRef(null),se=Fr(A),[be,me]=Ve.useState(!1),C=()=>{const le=new FormData(W.current),ve={};for(const[de,Ie]of le.entries())ve[de]?(Array.isArray(ve[de])||(ve[de]=[ve[de]]),ve[de].push(Ie)):ve[de]=Ie;return localStorage.setItem(se,JSON.stringify(ve)),!0},F=le=>{le.preventDefault(),C(),alert("Draft saved!")},te=()=>{me(!0)},Q=()=>{C(),me(!1),ye()},re=()=>{localStorage.removeItem(se),me(!1),ye()},X=async le=>{le.preventDefault();const ve=new FormData(le.target),de={};for(const[Ie,we]of ve.entries())de[Ie]?(Array.isArray(de[Ie])||(de[Ie]=[de[Ie]]),de[Ie].push(we)):de[Ie]=we;try{const Ie=Date.now().toString().slice(-4),we=Math.floor(1e3+Math.random()*9e3),At=`REQ-${Ie}-${we}`;await YR(Hr(Ii,"requests"),{...de,dept:A,displayId:At,status:"Pending Review",createdAt:new Date,title:de.requestName||de.eventName||de.projectType||de.businessName||"New Request"}),Fv({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${de.requestName}`,title:de.requestName,status:"Pending Review",message:`New request (${At}) from ${de.fullName}.`}),localStorage.removeItem(se),x(!0)}catch(Ie){console.error(Ie),alert("Error submitting.")}};return v.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden relative",children:[be&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-yellow-600",children:v.jsx(GS,{size:32})}),v.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Unsaved Changes"}),v.jsx("p",{className:"text-slate-600 mb-6",children:"Do you want to save your draft?"}),v.jsxs("div",{className:"flex flex-col gap-3",children:[v.jsxs("button",{onClick:Q,className:"w-full bg-slate-800 text-white py-3 rounded-lg font-semibold hover:bg-slate-900 flex items-center justify-center gap-2",children:[v.jsx(qd,{size:18})," Save Draft & Exit"]}),v.jsx("button",{onClick:re,className:"w-full bg-white border border-red-200 text-red-600 py-3 rounded-lg font-semibold hover:bg-red-50",children:"Discard Changes"}),v.jsx("button",{onClick:()=>me(!1),className:"w-full text-slate-400 py-2 hover:text-slate-600 text-sm",children:"Keep Editing"})]})]})}),v.jsx("div",{className:`h-2 ${N}`}),v.jsxs("div",{className:"p-5 md:p-8",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-100",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`p-3 rounded-lg ${N} bg-opacity-10 text-opacity-100`,children:v.jsx(D,{size:24,className:`md:w-7 md:h-7 ${N.replace("bg-","text-")}`})}),v.jsxs("div",{children:[v.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:[A," Request"]}),v.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Please fill out all details accurately."})]})]}),v.jsx("button",{type:"button",onClick:te,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 p-2 rounded-full transition-colors",children:v.jsx(Bd,{size:24})})]}),v.jsxs("form",{ref:W,onSubmit:X,children:[v.jsx(oe,{initialData:ee,currentUser:U}),M,v.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3",children:[v.jsx("button",{type:"button",onClick:te,className:"flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-500 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 hover:text-slate-700 transition-colors",children:"Cancel"}),v.jsxs("button",{type:"button",onClick:F,className:"flex items-center justify-center gap-2 bg-white border border-slate-300 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors",children:[v.jsx(qd,{size:18})," Save Draft"]}),v.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-red-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg active:scale-95 md:active:scale-100",children:"Submit Request"})]})]})]})]})}function $e({setSubmitted:A,onCancel:D,currentUser:N}){const M="Film",x=Fr(M),ee=JSON.parse(localStorage.getItem(x)||"{}"),[ye,U]=Ve.useState(ee.requestType||"checkout"),[W,se]=Ve.useState({}),[be,me]=Ve.useState(!1),[C,F]=Ve.useState({start:ee.checkoutDate||"",end:ee.returnDate||""}),te=re=>{const X={...C,[re.target.name==="checkoutDate"?"start":"end"]:re.target.value};F(X)};Ve.useEffect(()=>{(async()=>{if(!C.start||!C.end||ye!=="checkout"){me(!1);return}me(!0);const X=Qa(Hr(Ii,"requests"),bo("dept","==","Film"),bo("requestType","==","checkout")),le=await Av(X),ve={};le.forEach(Ie=>{const we=Ie.data();if(we.status==="Denied"||we.status==="Completed")return;const At=we.checkoutDate,hn=we.returnDate;At<=C.end&&hn>=C.start&&we.equipment&&(Array.isArray(we.equipment)?we.equipment:[we.equipment]).forEach(Lt=>{ve[Lt]=(ve[Lt]||0)+1})});const de={};Object.keys(kc).forEach(Ie=>{de[Ie]=Math.max(0,kc[Ie]-(ve[Ie]||0))}),se(de)})()},[C,ye]);const Q=C.start&&C.end&&C.start===C.end;return v.jsxs(_e,{title:M,icon:h0,colorClass:"bg-blue-600",setSubmitted:A,initialData:ee,onCancel:D,currentUser:N,children:[v.jsx("input",{type:"hidden",name:"requestType",value:ye}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("button",{type:"button",onClick:()=>U("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${ye==="checkout"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[v.jsx(r0,{className:"mx-auto mb-2"})," Equipment Checkout"]}),v.jsxs("button",{type:"button",onClick:()=>U("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${ye==="service"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[v.jsx(PS,{className:"mx-auto mb-2"})," Broadcasting/Recording Team"]})]})]}),ye==="checkout"?v.jsxs("div",{className:"space-y-4 animate-fade-in",children:[v.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100 text-sm text-blue-800 mb-4",children:[v.jsx("strong",{children:"Note:"})," Equipment must be returned by 8:00 AM the following school day."]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Checkout Date"}),v.jsx("input",{name:"checkoutDate",defaultValue:ee.checkoutDate,onChange:te,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),v.jsx("input",{name:"returnDate",defaultValue:ee.returnDate,onChange:te,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),Q&&v.jsxs("div",{className:"mb-4 animate-fade-in bg-blue-50 p-4 rounded-lg border border-blue-100",children:[v.jsx("label",{className:"block text-sm font-bold text-blue-800 mb-1",children:"Duration / Specific Hours"}),v.jsxs("select",{name:"durationHours",defaultValue:ee.durationHours,className:"w-full rounded-md border-blue-300 border p-2.5 text-sm bg-white",children:[v.jsx("option",{value:"",children:"Select Duration..."}),v.jsx("option",{value:"1 Hour",children:"1 Hour"}),v.jsx("option",{value:"2 Hours",children:"2 Hours"}),v.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),v.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),v.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Select Equipment Needed: ",v.jsx("span",{className:"text-red-500 text-xs font-normal ml-1",children:"* Requires Training"})]}),be?v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Cinema Camera Kit *","Gimbal / Stabilizer *","DJI Mic Kit (Wireless)","DJI Flip Drone *","Tripod","Lighting Kit"].map(re=>{const X=W[re]!==void 0?W[re]:99,le=X<=0;return v.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-colors ${le?"bg-gray-100 opacity-60 cursor-not-allowed":"hover:bg-slate-50 cursor-pointer active:bg-blue-50"}`,children:[v.jsx("input",{type:"checkbox",name:"equipment",value:re,disabled:le,defaultChecked:ee.equipment?.includes(re),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("span",{className:"text-slate-700 text-sm block",children:re}),v.jsx("span",{className:`text-xs ${le?"text-red-600 font-bold":"text-green-600"}`,children:le?"Unavailable for dates":`${X} available`})]})]},re)})}):v.jsxs("div",{className:"p-4 bg-slate-100 rounded text-center text-slate-500 text-sm",children:[v.jsx(l0,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Please select dates above to check equipment availability."]}),v.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),v.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[v.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):v.jsxs("div",{className:"space-y-4 animate-fade-in",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),v.jsx("input",{name:"eventDate",defaultValue:ee.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),v.jsx("input",{name:"startTime",defaultValue:ee.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Needed"}),v.jsxs("select",{name:"serviceType",defaultValue:ee.serviceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm bg-white",children:[v.jsx("option",{children:"Live Broadcast (Stream)"}),v.jsx("option",{children:"Event Recording (Edited later)"}),v.jsx("option",{children:"Raw Footage Only"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Details"}),v.jsx("textarea",{name:"details",defaultValue:ee.details,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Describe specifics..."})]})]})]})}function rt({setSubmitted:A,onCancel:D,currentUser:N}){const M="Graphic",x=Fr(M),ee=JSON.parse(localStorage.getItem(x)||"{}");return v.jsx(_e,{title:M,icon:u0,colorClass:"bg-purple-600",setSubmitted:A,initialData:ee,onCancel:D,currentUser:N,children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Type"}),v.jsxs("select",{name:"projectType",defaultValue:ee.projectType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[v.jsx("option",{children:"Event Poster / Flyer"}),v.jsx("option",{children:"Logo Design"}),v.jsx("option",{children:"Website Design"}),v.jsx("option",{children:"T-Shirt / Merch"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dimensions"}),v.jsx("input",{name:"dimensions",defaultValue:ee.dimensions,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., 11x17"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Deadline"}),v.jsx("input",{name:"deadline",defaultValue:ee.deadline,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Design Brief"}),v.jsx("textarea",{name:"brief",defaultValue:ee.brief,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function Be({setSubmitted:A,onCancel:D,currentUser:N}){const M="Business",x=Fr(M),ee=JSON.parse(localStorage.getItem(x)||"{}");return v.jsx(_e,{title:M,icon:Ud,colorClass:"bg-emerald-600",setSubmitted:A,initialData:ee,onCancel:D,currentUser:N,children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assistance Needed"}),v.jsxs("select",{name:"assistanceType",defaultValue:ee.assistanceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[v.jsx("option",{children:"Business Plan Review"}),v.jsx("option",{children:"Financial Modeling Help"}),v.jsx("option",{children:"Marketing Strategy"}),v.jsx("option",{children:"General Mentorship"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Idea Description"}),v.jsx("textarea",{name:"description",defaultValue:ee.description,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-40",placeholder:"Briefly describe your product...",required:!0})]})]})})}function O({setSubmitted:A,onCancel:D,currentUser:N}){const M="Culinary",x=Fr(M),ee=JSON.parse(localStorage.getItem(x)||"{}");return v.jsx(_e,{title:M,icon:c0,colorClass:"bg-orange-500",setSubmitted:A,initialData:ee,onCancel:D,currentUser:N,children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Date"}),v.jsx("input",{name:"eventDate",defaultValue:ee.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Serve Time"}),v.jsx("input",{name:"serveTime",defaultValue:ee.serveTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Guest Count"}),v.jsx("input",{name:"guestCount",defaultValue:ee.guestCount,type:"number",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",min:"1",placeholder:"50",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Style"}),v.jsxs("select",{name:"serviceStyle",defaultValue:ee.serviceStyle,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[v.jsx("option",{children:"Buffet Style"}),v.jsx("option",{children:"Boxed Lunches"}),v.jsx("option",{children:"Plated Service"}),v.jsx("option",{children:"Appetizers"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Menu/Dietary Notes"}),v.jsx("textarea",{name:"menuNotes",defaultValue:ee.menuNotes,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Preferences, allergies...",required:!0})]})]})})}function R({setSubmitted:A,onCancel:D,currentUser:N}){const M="Photo",x=Fr(M),ee=JSON.parse(localStorage.getItem(x)||"{}"),[ye,U]=Ve.useState(ee.requestType||"service"),[W,se]=Ve.useState({}),[be,me]=Ve.useState(!1),[C,F]=Ve.useState({start:ee.pickupDate||"",end:ee.returnDate||""}),te=re=>{const X={...C,[re.target.name==="pickupDate"?"start":"end"]:re.target.value};F(X)};Ve.useEffect(()=>{(async()=>{if(!C.start||!C.end||ye!=="checkout"){me(!1);return}me(!0);const X=Qa(Hr(Ii,"requests"),bo("dept","==","Photo"),bo("requestType","==","checkout")),le=await Av(X),ve={};le.forEach(Ie=>{const we=Ie.data();if(we.status==="Denied"||we.status==="Completed")return;const At=we.pickupDate,hn=we.returnDate;At<=C.end&&hn>=C.start&&we.equipment&&(Array.isArray(we.equipment)?we.equipment:[we.equipment]).forEach(Lt=>{ve[Lt]=(ve[Lt]||0)+1})});const de={};Object.keys(kc).forEach(Ie=>{const we=kc[Ie],At=ve[Ie]||0;de[Ie]=Math.max(0,we-At)}),se(de)})()},[C,ye]);const Q=C.start&&C.end&&C.start===C.end;return v.jsxs(_e,{title:M,icon:Pd,colorClass:"bg-pink-600",setSubmitted:A,initialData:ee,onCancel:D,currentUser:N,children:[v.jsx("input",{type:"hidden",name:"requestType",value:ye}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("button",{type:"button",onClick:()=>U("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${ye==="service"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[v.jsx(XS,{className:"mx-auto mb-2"})," Event Coverage"]}),v.jsxs("button",{type:"button",onClick:()=>U("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${ye==="checkout"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[v.jsx(r0,{className:"mx-auto mb-2"})," Equipment Checkout"]})]})]}),ye==="checkout"?v.jsxs("div",{className:"space-y-4 animate-fade-in",children:[v.jsxs("div",{className:"bg-pink-50 p-4 rounded-md border border-pink-100 text-sm text-pink-800 mb-4",children:[v.jsx("strong",{children:"Requirement:"})," Photo I completion required."]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Pickup Date"}),v.jsx("input",{name:"pickupDate",defaultValue:ee.pickupDate,onChange:te,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),v.jsx("input",{name:"returnDate",defaultValue:ee.returnDate,onChange:te,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),Q&&v.jsxs("div",{className:"mb-4 animate-fade-in bg-pink-50 p-4 rounded-lg border border-pink-100",children:[v.jsx("label",{className:"block text-sm font-bold text-pink-800 mb-1",children:"Duration / Specific Hours"}),v.jsxs("select",{name:"durationHours",defaultValue:ee.durationHours,className:"w-full rounded-md border-pink-300 border p-2.5 text-sm bg-white",children:[v.jsx("option",{value:"",children:"Select Duration..."}),v.jsx("option",{value:"1 Hour",children:"1 Hour"}),v.jsx("option",{value:"2 Hours",children:"2 Hours"}),v.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),v.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),v.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Select Equipment Needed:"}),be?v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["DSLR Camera Body","Zoom Lens (18-55mm)","Telephoto Lens (70-200mm)","Portrait Lens (50mm)","SD Card Reader","Tripod","Flash Unit"].map(re=>{const X=W[re]!==void 0?W[re]:99,le=X<=0;return v.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-colors ${le?"bg-gray-100 opacity-60 cursor-not-allowed":"hover:bg-slate-50 cursor-pointer active:bg-pink-50"}`,children:[v.jsx("input",{type:"checkbox",name:"equipment",value:re,disabled:le,defaultChecked:ee.equipment?.includes(re),className:"w-5 h-5 text-pink-600 rounded focus:ring-pink-500"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("span",{className:"text-slate-700 text-sm block",children:re}),v.jsx("span",{className:`text-xs ${le?"text-red-600 font-bold":"text-green-600"}`,children:le?"Unavailable for dates":`${X} available`})]})]},re)})}):v.jsxs("div",{className:"p-4 bg-slate-100 rounded text-center text-slate-500 text-sm",children:[v.jsx(l0,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Please select dates above to check equipment availability."]}),v.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-pink-600 rounded focus:ring-pink-500 border-gray-300"}),v.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[v.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):v.jsxs("div",{className:"space-y-4 animate-fade-in",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),v.jsx("input",{name:"eventDate",defaultValue:ee.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),v.jsx("input",{name:"startTime",defaultValue:ee.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),v.jsx("input",{name:"location",defaultValue:ee.location,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Gym"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Specific Shots"}),v.jsx("textarea",{name:"shotList",defaultValue:ee.shotList,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Key moments..."})]})]})]})}};lS.createRoot(document.getElementById("root")).render(v.jsx(Ve.StrictMode,{children:v.jsx(dI,{})}));
