(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ud={exports:{}},wl={};var e_;function sS(){if(e_)return wl;e_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var t_;function rS(){return t_||(t_=1,Ud.exports=sS()),Ud.exports}var p=rS(),Pd={exports:{}},Ve={};var n_;function aS(){if(n_)return Ve;n_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function Q(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,se={};function be(x,q,$){this.props=x,this.context=q,this.refs=se,this.updater=$||W}be.prototype.isReactComponent={},be.prototype.setState=function(x,q){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,q,"setState")},be.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Me(){}Me.prototype=be.prototype;function Ae(x,q,$){this.props=x,this.context=q,this.refs=se,this.updater=$||W}var st=Ae.prototype=new Me;st.constructor=Ae,oe(st,be.prototype),st.isPureReactComponent=!0;var dt=Array.isArray;function Ke(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(x,q,$){var ee=$.ref;return{$$typeof:s,type:x,key:q,ref:ee!==void 0?ee:null,props:$}}function V(x,q){return I(x.type,q,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function j(x){var q={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function($){return q[$]})}var R=/\/+/g;function ue(x,q){return typeof x=="object"&&x!==null&&x.key!=null?j(""+x.key):q.toString(36)}function me(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Ke,Ke):(x.status="pending",x.then(function(q){x.status==="pending"&&(x.status="fulfilled",x.value=q)},function(q){x.status==="pending"&&(x.status="rejected",x.reason=q)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function L(x,q,$,ee,he){var ge=typeof x;(ge==="undefined"||ge==="boolean")&&(x=null);var ve=!1;if(x===null)ve=!0;else switch(ge){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(x.$$typeof){case s:case e:ve=!0;break;case S:return ve=x._init,L(ve(x._payload),q,$,ee,he)}}if(ve)return he=he(x),ve=ee===""?"."+ue(x,0):ee,dt(he)?($="",ve!=null&&($=ve.replace(R,"$&/")+"/"),L(he,q,$,"",function(Ot){return Ot})):he!=null&&(O(he)&&(he=V(he,$+(he.key==null||x&&x.key===he.key?"":(""+he.key).replace(R,"$&/")+"/")+ve)),q.push(he)),1;ve=0;var Ee=ee===""?".":ee+":";if(dt(x))for(var Ne=0;Ne<x.length;Ne++)ee=x[Ne],ge=Ee+ue(ee,Ne),ve+=L(ee,q,$,ge,he);else if(Ne=Q(x),typeof Ne=="function")for(x=Ne.call(x),Ne=0;!(ee=x.next()).done;)ee=ee.value,ge=Ee+ue(ee,Ne++),ve+=L(ee,q,$,ge,he);else if(ge==="object"){if(typeof x.then=="function")return L(me(x),q,$,ee,he);throw q=String(x),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ve}function X(x,q,$){if(x==null)return x;var ee=[],he=0;return L(x,ee,"","",function(ge){return q.call($,ge,he++)}),ee}function ie(x){if(x._status===-1){var q=x._result;q=q(),q.then(function($){(x._status===0||x._status===-1)&&(x._status=1,x._result=$)},function($){(x._status===0||x._status===-1)&&(x._status=2,x._result=$)}),x._status===-1&&(x._status=0,x._result=q)}if(x._status===1)return x._result.default;throw x._result}var ne=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},pe={map:X,forEach:function(x,q,$){X(x,function(){q.apply(this,arguments)},$)},count:function(x){var q=0;return X(x,function(){q++}),q},toArray:function(x){return X(x,function(q){return q})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ve.Activity=A,Ve.Children=pe,Ve.Component=be,Ve.Fragment=i,Ve.Profiler=l,Ve.PureComponent=Ae,Ve.StrictMode=r,Ve.Suspense=v,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},Ve.cache=function(x){return function(){return x.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(x,q,$){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ee=oe({},x.props),he=x.key;if(q!=null)for(ge in q.key!==void 0&&(he=""+q.key),q)!w.call(q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&q.ref===void 0||(ee[ge]=q[ge]);var ge=arguments.length-2;if(ge===1)ee.children=$;else if(1<ge){for(var ve=Array(ge),Ee=0;Ee<ge;Ee++)ve[Ee]=arguments[Ee+2];ee.children=ve}return I(x.type,he,ee)},Ve.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Ve.createElement=function(x,q,$){var ee,he={},ge=null;if(q!=null)for(ee in q.key!==void 0&&(ge=""+q.key),q)w.call(q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(he[ee]=q[ee]);var ve=arguments.length-2;if(ve===1)he.children=$;else if(1<ve){for(var Ee=Array(ve),Ne=0;Ne<ve;Ne++)Ee[Ne]=arguments[Ne+2];he.children=Ee}if(x&&x.defaultProps)for(ee in ve=x.defaultProps,ve)he[ee]===void 0&&(he[ee]=ve[ee]);return I(x,ge,he)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(x){return{$$typeof:y,render:x}},Ve.isValidElement=O,Ve.lazy=function(x){return{$$typeof:S,_payload:{_status:-1,_result:x},_init:ie}},Ve.memo=function(x,q){return{$$typeof:_,type:x,compare:q===void 0?null:q}},Ve.startTransition=function(x){var q=C.T,$={};C.T=$;try{var ee=x(),he=C.S;he!==null&&he($,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ke,ne)}catch(ge){ne(ge)}finally{q!==null&&$.types!==null&&(q.types=$.types),C.T=q}},Ve.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ve.use=function(x){return C.H.use(x)},Ve.useActionState=function(x,q,$){return C.H.useActionState(x,q,$)},Ve.useCallback=function(x,q){return C.H.useCallback(x,q)},Ve.useContext=function(x){return C.H.useContext(x)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(x,q){return C.H.useDeferredValue(x,q)},Ve.useEffect=function(x,q){return C.H.useEffect(x,q)},Ve.useEffectEvent=function(x){return C.H.useEffectEvent(x)},Ve.useId=function(){return C.H.useId()},Ve.useImperativeHandle=function(x,q,$){return C.H.useImperativeHandle(x,q,$)},Ve.useInsertionEffect=function(x,q){return C.H.useInsertionEffect(x,q)},Ve.useLayoutEffect=function(x,q){return C.H.useLayoutEffect(x,q)},Ve.useMemo=function(x,q){return C.H.useMemo(x,q)},Ve.useOptimistic=function(x,q){return C.H.useOptimistic(x,q)},Ve.useReducer=function(x,q,$){return C.H.useReducer(x,q,$)},Ve.useRef=function(x){return C.H.useRef(x)},Ve.useState=function(x){return C.H.useState(x)},Ve.useSyncExternalStore=function(x,q,$){return C.H.useSyncExternalStore(x,q,$)},Ve.useTransition=function(){return C.H.useTransition()},Ve.version="19.2.0",Ve}var i_;function jm(){return i_||(i_=1,Pd.exports=aS()),Pd.exports}var Re=jm(),zd={exports:{}},Rl={},qd={exports:{}},Bd={};var s_;function oS(){return s_||(s_=1,(function(s){function e(L,X){var ie=L.length;L.push(X);e:for(;0<ie;){var ne=ie-1>>>1,pe=L[ne];if(0<l(pe,X))L[ne]=X,L[ie]=pe,ie=ne;else break e}}function i(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var X=L[0],ie=L.pop();if(ie!==X){L[0]=ie;e:for(var ne=0,pe=L.length,x=pe>>>1;ne<x;){var q=2*(ne+1)-1,$=L[q],ee=q+1,he=L[ee];if(0>l($,ie))ee<pe&&0>l(he,$)?(L[ne]=he,L[ee]=ie,ne=ee):(L[ne]=$,L[q]=ie,ne=q);else if(ee<pe&&0>l(he,ie))L[ne]=he,L[ee]=ie,ne=ee;else break e}}return X}function l(L,X){var ie=L.sortIndex-X.sortIndex;return ie!==0?ie:L.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,A=null,M=3,Q=!1,W=!1,oe=!1,se=!1,be=typeof setTimeout=="function"?setTimeout:null,Me=typeof clearTimeout=="function"?clearTimeout:null,Ae=typeof setImmediate<"u"?setImmediate:null;function st(L){for(var X=i(_);X!==null;){if(X.callback===null)r(_);else if(X.startTime<=L)r(_),X.sortIndex=X.expirationTime,e(v,X);else break;X=i(_)}}function dt(L){if(oe=!1,st(L),!W)if(i(v)!==null)W=!0,Ke||(Ke=!0,j());else{var X=i(_);X!==null&&me(dt,X.startTime-L)}}var Ke=!1,C=-1,w=5,I=-1;function V(){return se?!0:!(s.unstable_now()-I<w)}function O(){if(se=!1,Ke){var L=s.unstable_now();I=L;var X=!0;try{e:{W=!1,oe&&(oe=!1,Me(C),C=-1),Q=!0;var ie=M;try{t:{for(st(L),A=i(v);A!==null&&!(A.expirationTime>L&&V());){var ne=A.callback;if(typeof ne=="function"){A.callback=null,M=A.priorityLevel;var pe=ne(A.expirationTime<=L);if(L=s.unstable_now(),typeof pe=="function"){A.callback=pe,st(L),X=!0;break t}A===i(v)&&r(v),st(L)}else r(v);A=i(v)}if(A!==null)X=!0;else{var x=i(_);x!==null&&me(dt,x.startTime-L),X=!1}}break e}finally{A=null,M=ie,Q=!1}X=void 0}}finally{X?j():Ke=!1}}}var j;if(typeof Ae=="function")j=function(){Ae(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=O,j=function(){ue.postMessage(null)}}else j=function(){be(O,0)};function me(L,X){C=be(function(){L(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(L){L.callback=null},s.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<L?Math.floor(1e3/L):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(L){switch(M){case 1:case 2:case 3:var X=3;break;default:X=M}var ie=M;M=X;try{return L()}finally{M=ie}},s.unstable_requestPaint=function(){se=!0},s.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=M;M=L;try{return X()}finally{M=ie}},s.unstable_scheduleCallback=function(L,X,ie){var ne=s.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ne+ie:ne):ie=ne,L){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ie+pe,L={id:S++,callback:X,priorityLevel:L,startTime:ie,expirationTime:pe,sortIndex:-1},ie>ne?(L.sortIndex=ie,e(_,L),i(v)===null&&L===i(_)&&(oe?(Me(C),C=-1):oe=!0,me(dt,ie-ne))):(L.sortIndex=pe,e(v,L),W||Q||(W=!0,Ke||(Ke=!0,j()))),L},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(L){var X=M;return function(){var ie=M;M=X;try{return L.apply(this,arguments)}finally{M=ie}}}})(Bd)),Bd}var r_;function lS(){return r_||(r_=1,qd.exports=oS()),qd.exports}var Hd={exports:{}},hn={};var a_;function uS(){if(a_)return hn;a_=1;var s=jm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,S)},hn.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},hn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},hn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},hn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:Q}):S==="script"&&r.d.X(v,{crossOrigin:A,integrity:M,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},hn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},hn.requestFormReset=function(v){r.d.r(v)},hn.unstable_batchedUpdates=function(v,_){return v(_)},hn.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var o_;function cS(){if(o_)return Hd.exports;o_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=uS(),Hd.exports}var l_;function hS(){if(l_)return Rl;l_=1;var s=lS(),e=jm(),i=cS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===o)return v(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Me=Symbol.for("react.consumer"),Ae=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case be:return"Profiler";case se:return"StrictMode";case dt:return"Suspense";case Ke:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Ae:return t.displayName||"Context";case Me:return(t._context.displayName||"Context")+".Consumer";case st:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ue(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return ue(t(n))}catch{}}return null}var me=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ne=[],pe=-1;function x(t){return{current:t}}function q(t){0>pe||(t.current=ne[pe],ne[pe]=null,pe--)}function $(t,n){pe++,ne[pe]=t.current,t.current=n}var ee=x(null),he=x(null),ge=x(null),ve=x(null);function Ee(t,n){switch($(ge,n),$(he,t),$(ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?S0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=S0(n),t=A0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(ee),$(ee,t)}function Ne(){q(ee),q(he),q(ge)}function Ot(t){t.memoizedState!==null&&$(ve,t);var n=ee.current,a=A0(n,t.type);n!==a&&($(he,t),$(ee,a))}function Mt(t){he.current===t&&(q(ee),q(he)),ve.current===t&&(q(ve),Tl._currentValue=ie)}var ae,Ie;function xe(t){if(ae===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ae=n&&n[1]||"",Ie=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+t+Ie}var Ce=!1;function We(t,n){if(!t||Ce)return"";Ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var B=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){B=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){B=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),z=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var G=`
`+N[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ce=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xe(a):""}function Xe(t,n){switch(t.tag){case 26:case 27:case 5:return xe(t.type);case 16:return xe("Lazy");case 13:return t.child!==n&&n!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return We(t.type,!1);case 11:return We(t.type.render,!1);case 1:return We(t.type,!0);case 31:return xe("Activity");default:return""}}function te(t){try{var n="",a=null;do n+=Xe(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Ue=s.unstable_scheduleCallback,Kt=s.unstable_cancelCallback,St=s.unstable_shouldYield,Et=s.unstable_requestPaint,Vt=s.unstable_now,ni=s.unstable_getCurrentPriorityLevel,Ki=s.unstable_ImmediatePriority,In=s.unstable_UserBlockingPriority,zn=s.unstable_NormalPriority,wo=s.unstable_LowPriority,ha=s.unstable_IdlePriority,fa=s.log,da=s.unstable_setDisableYieldValue,ii=null,en=null;function qn(t){if(typeof fa=="function"&&da(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ii,t)}catch{}}var Rt=Math.clz32?Math.clz32:lu,ou=Math.log,ma=Math.LN2;function lu(t){return t>>>=0,t===0?32:31-(ou(t)/ma|0)|0}var vi=256,Tr=262144,kt=4194304;function bi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ei(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=bi(o):(g&=E,g!==0?h=bi(g):a||(a=E&~t,a!==0&&(h=bi(a))))):(E=o&~f,E!==0?h=bi(E):g!==0?h=bi(g):a||(a=o&~t,a!==0&&(h=bi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function si(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function Ti(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Sr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,a,o,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-Rt(a),Z=1<<G;E[G]=0,N[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var F=B[G];F!==null&&(F.lane&=-536870913)}a&=~Z}o!==0&&Ar(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ar(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Rt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ro(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-Rt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function No(t,n){var a=n&-n;return a=(a&42)!==0?1:xr(a),(a&(t.suspendedLanes|n))!==0?0:a}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Y0(t.type))}function ri(t,n){var a=X.p;try{return X.p=t,n()}finally{X.p=a}}var ai=Math.random().toString(36).slice(2),jt="__reactFiber$"+ai,Xt="__reactProps$"+ai,Si="__reactContainer$"+ai,pa="__reactEvents$"+ai,Hh="__reactListeners$"+ai,hu="__reactHandles$"+ai,fu="__reactResources$"+ai,Ai="__reactMarker$"+ai;function ga(t){delete t[jt],delete t[Xt],delete t[pa],delete t[Hh],delete t[hu]}function xi(t){var n=t[jt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Si]||a[jt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=D0(t);t!==null;){if(a=t[jt])return a;t=D0(t)}return n}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[jt]||t[Si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function wi(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Ai]=!0}var Io=new Set,Co={};function Ri(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(Co[t]=n,t=0;t<n.length;t++)Io.add(n[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function du(t){return Te.call(Mo,t)?!0:Te.call(Oo,t)?!1:Do.test(t)?Mo[t]=!0:(Oo[t]=!0,!1)}function ya(t,n,a){if(du(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ut(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function at(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Vo(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=As(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function vn(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(t,n,a,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?ko(t,g,$t(n)):a!=null?ko(t,g,$t(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$t(E):t.removeAttribute("name")}function mu(t,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){at(t);return}a=a!=null?""+$t(a):"",n=n!=null?""+$t(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),at(t)}function ko(t,n,a){n==="number"&&Ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,a){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$t(a):""}function ws(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(me(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=$t(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),at(t)}function bn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Lo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&jo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&jo(t,f,n[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oi(){}var Uo=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,Ci=null;function Nr(t){var n=Bn(t);if(n&&(t=n.stateNode)){var a=t[Xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Xt]||null;if(!h)throw Error(r(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&wr(o)}break e;case"textarea":pu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&xs(t,!!a.multiple,n,!1)}}}var Ea=!1;function Is(t,n,a){if(Ea)return t(n,a);Ea=!0;try{var o=t(n);return o}finally{if(Ea=!1,(Ns!==null||Ci!==null)&&(cc(),Ns&&(n=Ns,t=Ci,Ci=Ns=null,Nr(n),t)))for(n=0;n<t.length;n++)Nr(t[n])}}function li(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Xt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Fn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Ir=!1}var Di=null,Po=null,Cr=null;function zo(){if(Cr)return Cr;var t,n=Po,a=n.length,o,h="value"in Di?Di.value:Di.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Cr=h.slice(t,1<o?1-o:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ui(){return!1}function tn(t){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ui,this.isPropagationStopped=ui,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=tn(Zi),Cs=A({},Zi,{view:0,detail:0}),qo=tn(Cs),Ds,Ta,Mi,Sa=A({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Ds=t.screenX-Mi.screenX,Ta=t.screenY-Mi.screenY):Ta=Ds=0,Mi=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Bo=tn(Sa),Or=A({},Sa,{dataTransfer:0}),_u=tn(Or),vu=A({},Cs,{relatedTarget:0}),Mr=tn(vu),Ho=A({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=tn(Ho),Aa=A({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=tn(Aa),Tu=A({},Zi,{data:0}),Vi=tn(Tu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xu[t])?!!n[t]:!1}function Os(){return wu}var gn=A({},Cs,{key:function(t){if(t.key){var n=Su[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=tn(gn),Nu=A({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=tn(Nu),u=A({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=tn(u),b=A({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(b),U=A({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=tn(U),re=A({},Zi,{newState:0,oldState:0}),je=tn(re),Nt=[9,13,27,32],nt=Fn&&"CompositionEvent"in window,vt=null;Fn&&"documentMode"in document&&(vt=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!vt,ki=Fn&&(!nt||vt&&8<vt&&11>=vt),ci=" ",hi=!1;function Vr(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function N1(t,n){switch(t){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function I1(t,n){if(wa)return t==="compositionend"||!nt&&Vr(t,n)?(t=zo(),Cr=Po=Di=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var C1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!C1[t.type]:n==="textarea"}function kp(t,n,a,o){Ns?Ci?Ci.push(o):Ci=[o]:Ns=o,n=yc(n,"onChange"),0<n.length&&(a=new Oi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Fo=null,Go=null;function D1(t){y0(t,0)}function Iu(t){var n=Cn(t);if(wr(n))return t}function jp(t,n){if(t==="change")return n}var Lp=!1;if(Fn){var Fh;if(Fn){var Gh="oninput"in document;if(!Gh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Gh=typeof Up.oninput=="function"}Fh=Gh}else Fh=!1;Lp=Fh&&(!document.documentMode||9<document.documentMode)}function Pp(){Fo&&(Fo.detachEvent("onpropertychange",zp),Go=Fo=null)}function zp(t){if(t.propertyName==="value"&&Iu(Go)){var n=[];kp(n,Go,t,Hn(t)),Is(D1,n)}}function O1(t,n,a){t==="focusin"?(Pp(),Fo=n,Go=a,Fo.attachEvent("onpropertychange",zp)):t==="focusout"&&Pp()}function M1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Go)}function V1(t,n){if(t==="click")return Iu(n)}function k1(t,n){if(t==="input"||t==="change")return Iu(n)}function j1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:j1;function Qo(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(n,h)||!On(t[h],n[h]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,n){var a=qp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Hp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ii(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ii(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var L1=Fn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Yh=null,Yo=null,Kh=!1;function Gp(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||Ra==null||Ra!==Ii(o)||(o=Ra,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Yo&&Qo(Yo,o)||(Yo=o,o=yc(Yh,"onSelect"),0<o.length&&(n=new Oi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ra)))}function kr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Na={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Xh={},Qp={};Fn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function jr(t){if(Xh[t])return Xh[t];if(!Na[t])return t;var n=Na[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qp)return Xh[t]=n[a];return t}var Yp=jr("animationend"),Kp=jr("animationiteration"),Xp=jr("animationstart"),U1=jr("transitionrun"),P1=jr("transitionstart"),z1=jr("transitioncancel"),$p=jr("transitionend"),Zp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function fi(t,n){Zp.set(t,n),Ri(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Ia=0,Zh=0;function Du(){for(var t=Ia,n=Zh=Ia=0;n<t;){var a=Qn[n];Qn[n++]=null;var o=Qn[n];Qn[n++]=null;var h=Qn[n];Qn[n++]=null;var f=Qn[n];if(Qn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Jp(a,h,f)}}function Ou(t,n,a,o){Qn[Ia++]=t,Qn[Ia++]=n,Qn[Ia++]=a,Qn[Ia++]=o,Zh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Jh(t,n,a,o){return Ou(t,n,a,o),Mu(t)}function Lr(t,n){return Ou(t,null,null,n),Mu(t)}function Jp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Rt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Mu(t){if(50<pl)throw pl=0,ld=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function q1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,a,o){return new q1(t,n,a,o)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var a=t.alternate;return a===null?(a=Mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,a,o,h,f){var g=0;if(o=t,typeof t=="function")Wh(t)&&(g=1);else if(typeof t=="string")g=QT(t,a,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Mn(31,a,n,h),t.elementType=I,t.lanes=f,t;case oe:return Ur(a.children,h,f,n);case se:g=8,h|=24;break;case be:return t=Mn(12,a,n,h|2),t.elementType=be,t.lanes=f,t;case dt:return t=Mn(13,a,n,h),t.elementType=dt,t.lanes=f,t;case Ke:return t=Mn(19,a,n,h),t.elementType=Ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ae:g=10;break e;case Me:g=9;break e;case st:g=11;break e;case C:g=14;break e;case w:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=Mn(g,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ur(t,n,a,o){return t=Mn(7,t,o,n),t.lanes=a,t}function ef(t,n,a){return t=Mn(6,t,null,n),t.lanes=a,t}function eg(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,a){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var tg=new WeakMap;function Yn(t,n){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:te(n)},tg.set(t,n),n)}return{value:t,source:n,stack:te(n)}}var Da=[],Oa=0,ku=null,Ko=0,Kn=[],Xn=0,Ms=null,ji=1,Li="";function es(t,n){Da[Oa++]=Ko,Da[Oa++]=ku,ku=t,Ko=n}function ng(t,n,a){Kn[Xn++]=ji,Kn[Xn++]=Li,Kn[Xn++]=Ms,Ms=t;var o=ji;t=Li;var h=32-Rt(o)-1;o&=~(1<<h),a+=1;var f=32-Rt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,ji=1<<32-Rt(n)+h|a<<h|o,Li=f+t}else ji=1<<f|a<<h|o,Li=t}function nf(t){t.return!==null&&(es(t,1),ng(t,1,0))}function sf(t){for(;t===ku;)ku=Da[--Oa],Da[Oa]=null,Ko=Da[--Oa],Da[Oa]=null;for(;t===Ms;)Ms=Kn[--Xn],Kn[Xn]=null,Li=Kn[--Xn],Kn[Xn]=null,ji=Kn[--Xn],Kn[Xn]=null}function ig(t,n){Kn[Xn++]=ji,Kn[Xn++]=Li,Kn[Xn++]=Ms,ji=n.id,Li=n.overflow,Ms=t}var nn=null,gt=null,$e=!1,Vs=null,$n=!1,rf=Error(r(519));function ks(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(Yn(n,t)),rf}function sg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[jt]=t,n[Xt]=o,a){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(a=0;a<yl.length;a++)Be(yl[a],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),ws(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||E0(n.textContent,a)?(o.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),o.onScroll!=null&&Be("scroll",n),o.onScrollEnd!=null&&Be("scrollend",n),o.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||ks(t,!0)}function rg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:nn=nn.return}}function Ma(t){if(t!==nn)return!1;if(!$e)return rg(t),$e=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sd(t.type,t.memoizedProps)),a=!a),a&&gt&&ks(t),rg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=C0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=C0(t)}else n===27?(n=gt,Xs(t.type)?(t=Nd,Nd=null,gt=t):gt=n):gt=nn?Jn(t.stateNode.nextSibling):null;return!0}function Pr(){gt=nn=null,$e=!1}function af(){var t=Vs;return t!==null&&(An===null?An=t:An.push.apply(An,t),Vs=null),t}function Xo(t){Vs===null?Vs=[t]:Vs.push(t)}var of=x(null),zr=null,ts=null;function js(t,n,a){$(of,n._currentValue),n._currentValue=a}function ns(t){t._currentValue=of.current,q(of)}function lf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function uf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),lf(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Va(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;On(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ve.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&uf(n,t,a,o),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){zr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return ag(zr,t)}function Lu(t,n){return zr===null&&qr(t),ag(t,n)}function ag(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return a}var B1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},H1=s.unstable_scheduleCallback,F1=s.unstable_NormalPriority,Pt={$$typeof:Ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new B1,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&H1(F1,function(){t.controller.abort()})}var Zo=null,hf=0,ka=0,ja=null;function G1(t,n){if(Zo===null){var a=Zo=[];hf=0,ka=md(),ja={status:"pending",value:void 0,then:function(o){a.push(o)}}}return hf++,n.then(og,og),n}function og(){if(--hf===0&&Zo!==null){ja!==null&&(ja.status="fulfilled");var t=Zo;Zo=null,ka=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Q1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var lg=L.S;L.S=function(t,n){Gy=Vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&G1(t,n),lg!==null&&lg(t,n)};var Br=x(null);function ff(){var t=Br.current;return t!==null?t:mt.pooledCache}function Uu(t,n){n===null?$(Br,Br.current):$(Br,n.pool)}function ug(){var t=ff();return t===null?null:{parent:Pt._currentValue,pool:t}}var La=Error(r(460)),df=Error(r(474)),Pu=Error(r(542)),zu={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(oi,oi),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t;default:if(typeof n.status=="string")n.then(oi,oi);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t}throw Fr=n,La}}function Hr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,La):a}}var Fr=null;function fg(){if(Fr===null)throw Error(r(459));var t=Fr;return Fr=null,t}function dg(t){if(t===La||t===Pu)throw Error(r(483))}var Ua=null,Jo=0;function qu(t){var n=Jo;return Jo+=1,Ua===null&&(Ua=[]),hg(Ua,t,n)}function Wo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Wi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Y){return D===null||D.tag!==6?(D=ef(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function N(k,D,P,Y){var ye=P.type;return ye===oe?G(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Hr(ye)===D.type)?(D=h(D,P.props),Wo(D,P),D.return=k,D):(D=Vu(P.type,P.key,P.props,null,k.mode,Y),Wo(D,P),D.return=k,D)}function z(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=tf(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function G(k,D,P,Y,ye){return D===null||D.tag!==7?(D=Ur(P,k.mode,Y,ye),D.return=k,D):(D=h(D,P),D.return=k,D)}function Z(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ef(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Vu(D.type,D.key,D.props,null,k.mode,P),Wo(P,D),P.return=k,P;case W:return D=tf(D,k.mode,P),D.return=k,D;case w:return D=Hr(D),Z(k,D,P)}if(me(D)||j(D))return D=Ur(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Z(k,qu(D),P);if(D.$$typeof===Ae)return Z(k,Lu(k,D),P);Bu(k,D)}return null}function B(k,D,P,Y){var ye=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:E(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ye?N(k,D,P,Y):null;case W:return P.key===ye?z(k,D,P,Y):null;case w:return P=Hr(P),B(k,D,P,Y)}if(me(P)||j(P))return ye!==null?null:G(k,D,P,Y,null);if(typeof P.then=="function")return B(k,D,qu(P),Y);if(P.$$typeof===Ae)return B(k,D,Lu(k,P),Y);Bu(k,P)}return null}function F(k,D,P,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(D,k,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return k=k.get(Y.key===null?P:Y.key)||null,N(D,k,Y,ye);case W:return k=k.get(Y.key===null?P:Y.key)||null,z(D,k,Y,ye);case w:return Y=Hr(Y),F(k,D,P,Y,ye)}if(me(Y)||j(Y))return k=k.get(P)||null,G(D,k,Y,ye,null);if(typeof Y.then=="function")return F(k,D,P,qu(Y),ye);if(Y.$$typeof===Ae)return F(k,D,P,Lu(D,Y),ye);Bu(D,Y)}return null}function fe(k,D,P,Y){for(var ye=null,et=null,de=D,Pe=D=0,Fe=null;de!==null&&Pe<P.length;Pe++){de.index>Pe?(Fe=de,de=null):Fe=de.sibling;var tt=B(k,de,P[Pe],Y);if(tt===null){de===null&&(de=Fe);break}t&&de&&tt.alternate===null&&n(k,de),D=f(tt,D,Pe),et===null?ye=tt:et.sibling=tt,et=tt,de=Fe}if(Pe===P.length)return a(k,de),$e&&es(k,Pe),ye;if(de===null){for(;Pe<P.length;Pe++)de=Z(k,P[Pe],Y),de!==null&&(D=f(de,D,Pe),et===null?ye=de:et.sibling=de,et=de);return $e&&es(k,Pe),ye}for(de=o(de);Pe<P.length;Pe++)Fe=F(de,k,Pe,P[Pe],Y),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?Pe:Fe.key),D=f(Fe,D,Pe),et===null?ye=Fe:et.sibling=Fe,et=Fe);return t&&de.forEach(function(er){return n(k,er)}),$e&&es(k,Pe),ye}function Se(k,D,P,Y){if(P==null)throw Error(r(151));for(var ye=null,et=null,de=D,Pe=D=0,Fe=null,tt=P.next();de!==null&&!tt.done;Pe++,tt=P.next()){de.index>Pe?(Fe=de,de=null):Fe=de.sibling;var er=B(k,de,tt.value,Y);if(er===null){de===null&&(de=Fe);break}t&&de&&er.alternate===null&&n(k,de),D=f(er,D,Pe),et===null?ye=er:et.sibling=er,et=er,de=Fe}if(tt.done)return a(k,de),$e&&es(k,Pe),ye;if(de===null){for(;!tt.done;Pe++,tt=P.next())tt=Z(k,tt.value,Y),tt!==null&&(D=f(tt,D,Pe),et===null?ye=tt:et.sibling=tt,et=tt);return $e&&es(k,Pe),ye}for(de=o(de);!tt.done;Pe++,tt=P.next())tt=F(de,k,Pe,tt.value,Y),tt!==null&&(t&&tt.alternate!==null&&de.delete(tt.key===null?Pe:tt.key),D=f(tt,D,Pe),et===null?ye=tt:et.sibling=tt,et=tt);return t&&de.forEach(function(iS){return n(k,iS)}),$e&&es(k,Pe),ye}function ft(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===oe&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var ye=P.key;D!==null;){if(D.key===ye){if(ye=P.type,ye===oe){if(D.tag===7){a(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break e}}else if(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Hr(ye)===D.type){a(k,D.sibling),Y=h(D,P.props),Wo(Y,P),Y.return=k,k=Y;break e}a(k,D);break}else n(k,D);D=D.sibling}P.type===oe?(Y=Ur(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Vu(P.type,P.key,P.props,null,k.mode,Y),Wo(Y,P),Y.return=k,k=Y)}return g(k);case W:e:{for(ye=P.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break e}else{a(k,D);break}else n(k,D);D=D.sibling}Y=tf(P,k.mode,Y),Y.return=k,k=Y}return g(k);case w:return P=Hr(P),ft(k,D,P,Y)}if(me(P))return fe(k,D,P,Y);if(j(P)){if(ye=j(P),typeof ye!="function")throw Error(r(150));return P=ye.call(P),Se(k,D,P,Y)}if(typeof P.then=="function")return ft(k,D,qu(P),Y);if(P.$$typeof===Ae)return ft(k,D,Lu(k,P),Y);Bu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(a(k,D),Y=ef(P,k.mode,Y),Y.return=k,k=Y),g(k)):a(k,D)}return function(k,D,P,Y){try{Jo=0;var ye=ft(k,D,P,Y);return Ua=null,ye}catch(de){if(de===La||de===Pu)throw de;var et=Mn(29,de,null,k.mode);return et.lanes=Y,et.return=k,et}finally{}}}var Gr=mg(!0),pg=mg(!1),Ls=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(it&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(t),Jp(t,null,a),n}return Ou(t,o,n,a),Mu(t)}function el(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ro(t,a)}}function gf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var yf=!1;function tl(){if(yf){var t=ja;if(t!==null)throw t}}function nl(t,n,a,o){yf=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,g===null?f=z:g.next=z,g=N;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=N))}if(f!==null){var Z=h.baseState;g=0,G=z=N=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(He&B)===B:(o&B)===B){B!==0&&B===ka&&(yf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,Se=E;B=n;var ft=a;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){Z=fe.call(ft,Z,B);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,B=typeof fe=="function"?fe.call(ft,Z,B):fe,B==null)break e;Z=A({},Z,B);break e;case 2:Ls=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=F,N=Z):G=G.next=F,g|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Fs|=g,t.lanes=g,t.memoizedState=Z}}function gg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function yg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],n)}var Pa=x(null),Hu=x(0);function _g(t,n){t=hs,$(Hu,t),$(Pa,n),hs=t|n.baseLanes}function _f(){$(Hu,hs),$(Pa,Pa.current)}function vf(){hs=Hu.current,q(Pa),q(Hu)}var Vn=x(null),Zn=null;function zs(t){var n=t.alternate;$(It,It.current&1),$(Vn,t),Zn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Zn=t)}function bf(t){$(It,It.current),$(Vn,t),Zn===null&&(Zn=t)}function vg(t){t.tag===22?($(It,It.current),$(Vn,t),Zn===null&&(Zn=t)):qs()}function qs(){$(It,It.current),$(Vn,Vn.current)}function kn(t){q(Vn),Zn===t&&(Zn=null),q(It)}var It=x(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Rd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Le=null,ct=null,zt=null,Gu=!1,za=!1,Qr=!1,Qu=0,il=0,qa=null,Y1=0;function At(){throw Error(r(321))}function Ef(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!On(t[a],n[a]))return!1;return!0}function Tf(t,n,a,o,h,f){return is=f,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?ny:Lf,Qr=!1,f=a(o,h),Qr=!1,za&&(f=Eg(n,a,o,h)),bg(t),f}function bg(t){L.H=al;var n=ct!==null&&ct.next!==null;if(is=0,zt=ct=Le=null,Gu=!1,il=0,qa=null,n)throw Error(r(300));t===null||qt||(t=t.dependencies,t!==null&&ju(t)&&(qt=!0))}function Eg(t,n,a,o){Le=t;var h=0;do{if(za&&(qa=null),il=0,za=!1,25<=h)throw Error(r(301));if(h+=1,zt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=iy,f=n(a,o)}while(za);return f}function K1(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Le.flags|=1024),n}function Sf(){var t=Qu!==0;return Qu=0,t}function Af(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function xf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}is=0,zt=ct=Le=null,za=!1,il=Qu=0,qa=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Le.memoizedState=zt=t:zt=zt.next=t,zt}function Ct(){if(ct===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=zt===null?Le.memoizedState:zt.next;if(n!==null)zt=n,ct=t;else{if(t===null)throw Le.alternate===null?Error(r(467)):Error(r(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?Le.memoizedState=zt=t:zt=zt.next=t}return zt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var n=il;return il+=1,qa===null&&(qa=[]),t=hg(qa,t,n),n=Le,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?ny:Lf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===Ae)return sn(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=Le.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Le.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),Le.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=Ct();return Rf(n,ct,t)}function Rf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,N=null,z=n,G=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(He&Z)===Z:(is&Z)===Z){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===ka&&(G=!0);else if((is&B)===B){z=z.next,B===ka&&(G=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=Z,g=f):N=N.next=Z,Le.lanes|=B,Fs|=B;Z=z.action,Qr&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else B={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=B,g=f):N=N.next=B,Le.lanes|=Z,Fs|=Z;z=z.next}while(z!==null&&z!==n);if(N===null?g=f:N.next=E,!On(f,t.memoizedState)&&(qt=!0,G&&(a=ja,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Nf(t){var n=Ct(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);On(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Tg(t,n,a){var o=Le,h=Ct(),f=$e;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!On((ct||h).memoizedState,a);if(g&&(h.memoizedState=a,qt=!0),h=h.queue,Df(xg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||zt!==null&&zt.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},Ag.bind(null,o,h,a,n),null),mt===null)throw Error(r(349));f||(is&127)!==0||Sg(o,n,a)}return a}function Sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Le.updateQueue,n===null?(n=Yu(),Le.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ag(t,n,a,o){n.value=a,n.getSnapshot=o,wg(n)&&Rg(t)}function xg(t,n,a){return a(function(){wg(n)&&Rg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!On(t,a)}catch{return!0}}function Rg(t){var n=Lr(t,2);n!==null&&xn(n,t,2)}function If(t){var n=yn();if(typeof t=="function"){var a=t;if(t=a(),Qr){qn(!0);try{a()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Ng(t,n,a,o){return t.baseState=a,Rf(t,ct,typeof o=="function"?o:ss)}function X1(t,n,a,o,h){if(Ju(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ig(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ig(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var E=a(h,o),N=L.S;N!==null&&N(g,E),Cg(t,n,E)}catch(z){Cf(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=a(h,o),Cg(t,n,f)}catch(z){Cf(t,n,z)}}function Cg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dg(t,n,o)},function(o){return Cf(t,n,o)}):Dg(t,n,a)}function Dg(t,n,a){n.status="fulfilled",n.value=a,Og(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ig(t,a)))}function Cf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==o)}t.action=null}function Og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mg(t,n){return n}function Vg(t,n){if($e){var a=mt.formState;if(a!==null){e:{var o=Le;if($e){if(gt){t:{for(var h=gt,f=$n;h.nodeType!==8;){if(!f){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=Jn(h.nextSibling),o=h.data==="F!";break e}}ks(o)}o=!1}o&&(n=a[0])}}return a=yn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},a.queue=o,a=Wg.bind(null,Le,o),o.dispatch=a,o=If(!1),f=jf.bind(null,Le,!1,o.queue),o=yn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=X1.bind(null,Le,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function kg(t){var n=Ct();return jg(n,ct,t)}function jg(t,n,a){if(n=Rf(t,n,Mg)[0],t=Xu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=sl(n)}catch(g){throw g===La?Pu:g}else o=n;n=Ct();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Le.flags|=2048,Ba(9,{destroy:void 0},$1.bind(null,h,a),null)),[o,f,t]}function $1(t,n){t.action=n}function Lg(t){var n=Ct(),a=ct;if(a!==null)return jg(n,a,t);Ct(),n=n.memoizedState,a=Ct();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ba(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Le.updateQueue,n===null&&(n=Yu(),Le.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ug(){return Ct().memoizedState}function $u(t,n,a,o){var h=yn();Le.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},a,o===void 0?null:o)}function Zu(t,n,a,o){var h=Ct();o=o===void 0?null:o;var f=h.memoizedState.inst;ct!==null&&o!==null&&Ef(o,ct.memoizedState.deps)?h.memoizedState=Ba(n,f,a,o):(Le.flags|=t,h.memoizedState=Ba(1|n,f,a,o))}function Pg(t,n){$u(8390656,8,t,n)}function Df(t,n){Zu(2048,8,t,n)}function Z1(t){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=Yu(),Le.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function zg(t){var n=Ct().memoizedState;return Z1({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function qg(t,n){return Zu(4,2,t,n)}function Bg(t,n){return Zu(4,4,t,n)}function Hg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fg(t,n,a){a=a!=null?a.concat([t]):null,Zu(4,4,Hg.bind(null,n,t),a)}function Of(){}function Gg(t,n){var a=Ct();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Ef(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Qg(t,n){var a=Ct();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Ef(n,o[1]))return o[0];if(o=t(),Qr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[o,n],o}function Mf(t,n,a){return a===void 0||(is&1073741824)!==0&&(He&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Yy(),Le.lanes|=t,Fs|=t,a)}function Yg(t,n,a,o){return On(a,n)?a:Pa.current!==null?(t=Mf(t,a,o),On(t,n)||(qt=!0),t):(is&42)===0||(is&1073741824)!==0&&(He&261930)===0?(qt=!0,t.memoizedState=a):(t=Yy(),Le.lanes|=t,Fs|=t,n)}function Kg(t,n,a,o,h){var f=X.p;X.p=f!==0&&8>f?f:8;var g=L.T,E={};L.T=E,jf(t,!1,n,a);try{var N=h(),z=L.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=Q1(N,o);rl(t,n,G,Un(t))}else rl(t,n,o,Un(t))}catch(Z){rl(t,n,{then:function(){},status:"rejected",reason:Z},Un())}finally{X.p=f,g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}function J1(){}function Vf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Xg(t).queue;Kg(t,h,n,ie,a===null?J1:function(){return $g(t),a(o)})}function Xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ie},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $g(t){var n=Xg(t);n.next===null&&(n=t.alternate.memoizedState),rl(t,n.next.queue,{},Un())}function kf(){return sn(Tl)}function Zg(){return Ct().memoizedState}function Jg(){return Ct().memoizedState}function W1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();t=Us(a);var o=Ps(n,t,a);o!==null&&(xn(o,n,a),el(o,n,a)),n={cache:cf()},t.payload=n;return}n=n.return}}function eT(t,n,a){var o=Un();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?ey(n,a):(a=Jh(t,n,a,o),a!==null&&(xn(a,t,o),ty(a,n,o)))}function Wg(t,n,a){var o=Un();rl(t,n,a,o)}function rl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))ey(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,On(E,g))return Ou(t,n,h,0),mt===null&&Du(),!1}catch{}finally{}if(a=Jh(t,n,h,o),a!==null)return xn(a,t,o),ty(a,n,o),!0}return!1}function jf(t,n,a,o){if(o={lane:2,revertLane:md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(r(479))}else n=Jh(t,a,o,2),n!==null&&xn(n,t,2)}function Ju(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function ey(t,n){za=Gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ty(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ro(t,a)}}var al={readContext:sn,use:Ku,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};al.useEffectEvent=At;var ny={readContext:sn,use:Ku,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Pg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Hg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var a=yn();n=n===void 0?null:n;var o=t();if(Qr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=yn();if(a!==void 0){var h=a(n);if(Qr){qn(!0);try{a(n)}finally{qn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=eT.bind(null,Le,t),[o.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,a=Wg.bind(null,Le,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(t,n){var a=yn();return Mf(a,t,n)},useTransition:function(){var t=If(!1);return t=Kg.bind(null,Le,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Le,h=yn();if($e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),mt===null)throw Error(r(349));(He&127)!==0||Sg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Pg(xg.bind(null,o,f,t),[t]),o.flags|=2048,Ba(9,{destroy:void 0},Ag.bind(null,o,f,a,n),null),a},useId:function(){var t=yn(),n=mt.identifierPrefix;if($e){var a=Li,o=ji;a=(o&~(1<<32-Rt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Y1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=jf.bind(null,Le,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return yn().memoizedState=W1.bind(null,Le)},useEffectEvent:function(t){var n=yn(),a={impl:t};return n.memoizedState=a,function(){if((it&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:sn,use:Ku,useCallback:Gg,useContext:sn,useEffect:Df,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Bg,useMemo:Qg,useReducer:Xu,useRef:Ug,useState:function(){return Xu(ss)},useDebugValue:Of,useDeferredValue:function(t,n){var a=Ct();return Yg(a,ct.memoizedState,t,n)},useTransition:function(){var t=Xu(ss)[0],n=Ct().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:kf,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var a=Ct();return Ng(a,ct,t,n)},useMemoCache:wf,useCacheRefresh:Jg};Lf.useEffectEvent=zg;var iy={readContext:sn,use:Ku,useCallback:Gg,useContext:sn,useEffect:Df,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Bg,useMemo:Qg,useReducer:Nf,useRef:Ug,useState:function(){return Nf(ss)},useDebugValue:Of,useDeferredValue:function(t,n){var a=Ct();return ct===null?Mf(a,t,n):Yg(a,ct.memoizedState,t,n)},useTransition:function(){var t=Nf(ss)[0],n=Ct().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:kf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var a=Ct();return ct!==null?Ng(a,ct,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Jg};iy.useEffectEvent=zg;function Uf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Un(),h=Us(o);h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,o),n!==null&&(xn(n,t,o),el(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Un(),h=Us(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,o),n!==null&&(xn(n,t,o),el(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Un(),o=Us(a);o.tag=2,n!=null&&(o.callback=n),n=Ps(t,o,a),n!==null&&(xn(n,t,a),el(n,t,a))}};function sy(t,n,a,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Qo(a,o)||!Qo(h,f):!0}function ry(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ay(t){Cu(t)}function oy(t){console.error(t)}function ly(t){Cu(t)}function Wu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function uy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,n)},a}function cy(t){return t=Us(t),t.tag=3,t}function hy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){uy(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){uy(n,a,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function tT(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Va(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?hc():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),hd(t,o,h)),!1;case 22:return a.flags|=65536,o===zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),hd(t,o,h)),!1}throw Error(r(435,a.tag))}return hd(t,o,h),hc(),!1}if($e)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==rf&&(t=Error(r(422),{cause:o}),Xo(Yn(t,a)))):(o!==rf&&(n=Error(r(423),{cause:o}),Xo(Yn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Yn(o,a),h=zf(t.stateNode,o,h),gf(t,h),xt!==4&&(xt=2)),!1;var f=Error(r(520),{cause:o});if(f=Yn(f,a),ml===null?ml=[f]:ml.push(f),xt!==4&&(xt=2),n===null)return!0;o=Yn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,o,t),gf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=cy(h),hy(h,t,a,o),gf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(r(461)),qt=!1;function rn(t,n,a,o){n.child=t===null?pg(n,null,a,o):Gr(n,t.child,a,o)}function fy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return qr(n),o=Tf(t,n,a,g,f,h),E=Sf(),t!==null&&!qt?(Af(t,n,h),rs(t,n,h)):($e&&E&&nf(n),n.flags|=1,rn(t,n,o,h),n.child)}function dy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,my(t,n,f,o,h)):(t=Vu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(g,o)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(f,o),t.ref=n.ref,t.return=n,n.child=t}function my(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Qo(f,o)&&t.ref===n.ref)if(qt=!1,n.pendingProps=o=f,Xf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,rs(t,n,h)}return Bf(t,n,a,o,h)}function py(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return gy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?_g(n,f):_f(),vg(n);else return o=n.lanes=536870912,gy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Uu(n,f.cachePool),_g(n,f),qs(),n.memoizedState=null):(t!==null&&Uu(n,null),_f(),qs());return rn(t,n,h,a),n.child}function ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(t,n,a,o,h){var f=ff();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Uu(n,null),_f(),vg(n),t!==null&&Va(t,n,o,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function yy(t,n,a){return Gr(n,t.child,null,a),t=ec(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function nT(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(o.mode==="hidden")return t=ec(n,o),n.lanes=536870912,ol(null,t);if(bf(n),(t=gt)?(t=I0(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:ji,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,nn=n,gt=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return ec(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=yy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(qt||Va(t,n,a,!1),h=(a&t.childLanes)!==0,qt||h){if(o=mt,o!==null&&(g=No(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Lr(t,g),xn(o,t,g),qf;hc(),n=yy(t,n,a)}else t=f.treeContext,gt=Jn(g.nextSibling),nn=n,$e=!0,Vs=null,$n=!1,t!==null&&ig(n,t),n=ec(n,o),n.flags|=4096;return n}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bf(t,n,a,o,h){return qr(n),a=Tf(t,n,a,o,void 0,h),o=Sf(),t!==null&&!qt?(Af(t,n,h),rs(t,n,h)):($e&&o&&nf(n),n.flags|=1,rn(t,n,a,h),n.child)}function _y(t,n,a,o,h,f){return qr(n),n.updateQueue=null,a=Eg(n,o,a,h),bg(t),o=Sf(),t!==null&&!qt?(Af(t,n,f),rs(t,n,f)):($e&&o&&nf(n),n.flags|=1,rn(t,n,a,f),n.child)}function vy(t,n,a,o,h){if(qr(n),n.stateNode===null){var f=Ca,g=a.contextType;typeof g=="object"&&g!==null&&(f=sn(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},mf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?sn(g):Ca,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),nl(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Yr(a,E);f.props=N;var z=f.context,G=a.contextType;g=Ca,typeof G=="object"&&G!==null&&(g=sn(G));var Z=a.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&ry(n,f,o,g),Ls=!1;var B=n.memoizedState;f.state=B,nl(n,o,f,h),tl(),z=n.memoizedState,E||B!==z||Ls?(typeof Z=="function"&&(Uf(n,a,Z,o),z=n.memoizedState),(N=Ls||sy(n,a,N,o,B,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,pf(t,n),g=n.memoizedProps,G=Yr(a,g),f.props=G,Z=n.pendingProps,B=f.context,z=a.contextType,N=Ca,typeof z=="object"&&z!==null&&(N=sn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||B!==N)&&ry(n,f,o,N),Ls=!1,B=n.memoizedState,f.state=B,nl(n,o,f,h),tl();var F=n.memoizedState;g!==Z||B!==F||Ls||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Uf(n,a,E,o),F=n.memoizedState),(G=Ls||sy(n,a,G,o,B,F,N)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=N,o=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Gr(n,t.child,null,h),n.child=Gr(n,null,a,h)):rn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=rs(t,n,h),t}function by(t,n,a,o){return Pr(),n.flags|=256,rn(t,n,a,o),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:ug()}}function Gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ln),t}function Ey(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?zs(n):qs(),(t=gt)?(t=I0(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:ji,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,nn=n,gt=null)):t=null,t===null)throw ks(n);return Rd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(qs(),h=n.mode,E=nc({mode:"hidden",children:E},h),o=Ur(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(t,g,a),n.memoizedState=Hf,ol(null,o)):(zs(n),Qf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=Yf(t,n,a)):n.memoizedState!==null?(qs(),n.child=t.child,n.flags|=128,n=null):(qs(),E=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),E=Ur(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Gr(n,t.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Gf(t,g,a),n.memoizedState=Hf,n=ol(null,o));else if(zs(n),Rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,Xo({value:o,source:null,stack:null}),n=Yf(t,n,a)}else if(qt||Va(t,n,a,!1),g=(a&t.childLanes)!==0,qt||g){if(g=mt,g!==null&&(o=No(g,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Lr(t,o),xn(g,t,o),qf;wd(E)||hc(),n=Yf(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,gt=Jn(E.nextSibling),nn=n,$e=!0,Vs=null,$n=!1,t!==null&&ig(n,t),n=Qf(n,o.children),n.flags|=4096);return n}return h?(qs(),E=o.fallback,h=n.mode,N=t.child,z=N.sibling,o=Wi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=Wi(z,E):(E=Ur(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ol(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(N=Pt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ug(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Gf(t,g,a),n.memoizedState=Hf,ol(t.child,o)):(zs(n),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Qf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Yf(t,n,a){return Gr(n,t.child,null,a),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),lf(t.return,n,a)}function Kf(t,n,a,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Sy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=It.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,$(It,g),rn(t,n,o,a),o=$e?Ko:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,n);else if(t.tag===19)Ty(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Fu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Kf(n,!0,a,null,f,o);break;case"together":Kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Fs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Va(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function iT(t,n,a){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),js(n,Pt,t.memoizedState.cache),Pr();break;case 27:case 5:Ot(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(t,n,a):(zs(n),t=rs(t,n,a),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Va(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Sy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(It,It.current),o)break;return null;case 22:return n.lanes=0,py(t,n,a,n.pendingProps);case 24:js(n,Pt,t.memoizedState.cache)}return rs(t,n,a)}function Ay(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Xf(t,a)&&(n.flags&128)===0)return qt=!1,iT(t,n,a);qt=(t.flags&131072)!==0}else qt=!1,$e&&(n.flags&1048576)!==0&&ng(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Hr(n.elementType),n.type=t,typeof t=="function")Wh(t)?(o=Yr(t,o),n.tag=1,n=vy(null,n,t,o,a)):(n.tag=0,n=Bf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===st){n.tag=11,n=fy(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=dy(null,n,t,o,a);break e}}throw n=ue(t)||t,Error(r(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Yr(o,n.pendingProps),vy(t,n,o,h,a);case 3:e:{if(Ee(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),nl(n,o,null,a);var g=n.memoizedState;if(o=g.cache,js(n,Pt,o),o!==f.cache&&uf(n,[Pt],a,!0),tl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=by(t,n,o,a);break e}else if(o!==h){h=Yn(Error(r(424)),n),Xo(h),n=by(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=Jn(t.firstChild),nn=n,$e=!0,Vs=null,$n=!0,a=pg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),o===h){n=rs(t,n,a);break e}rn(t,n,o,a)}n=n.child}return n;case 26:return tc(t,n),t===null?(a=k0(n.type,null,n.pendingProps,null))?n.memoizedState=a:$e||(a=n.type,t=n.pendingProps,o=_c(ge.current).createElement(a),o[jt]=n,o[Xt]=t,an(o,a,t),Lt(o),n.stateNode=o):n.memoizedState=k0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ot(n),t===null&&$e&&(o=n.stateNode=O0(n.type,n.pendingProps,ge.current),nn=n,$n=!0,h=gt,Xs(n.type)?(Nd=h,gt=Jn(o.firstChild)):gt=h),rn(t,n,n.pendingProps.children,a),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=o=gt)&&(o=MT(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,nn=n,gt=Jn(o.firstChild),$n=!1,h=!0):h=!1),h||ks(n)),Ot(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,Sd(h,f)?o=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,K1,null,null,a),Tl._currentValue=h),tc(t,n),rn(t,n,o,a),n.child;case 6:return t===null&&$e&&((t=a=gt)&&(a=VT(a,n.pendingProps,$n),a!==null?(n.stateNode=a,nn=n,gt=null,t=!0):t=!1),t||ks(n)),null;case 13:return Ey(t,n,a);case 4:return Ee(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Gr(n,null,o,a):rn(t,n,o,a),n.child;case 11:return fy(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,js(n,n.type,o.value),rn(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=sn(h),o=o(h),n.flags|=1,rn(t,n,o,a),n.child;case 14:return dy(t,n,n.type,n.pendingProps,a);case 15:return my(t,n,n.type,n.pendingProps,a);case 19:return Sy(t,n,a);case 31:return nT(t,n,a);case 22:return py(t,n,a,n.pendingProps);case 24:return qr(n),o=sn(Pt),t===null?(h=ff(),h===null&&(h=mt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},mf(n),js(n,Pt,h)):((t.lanes&a)!==0&&(pf(t,n),nl(n,null,null,a),tl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Pt,o)):(o=f.cache,js(n,Pt,o),o!==h.cache&&uf(n,[Pt],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function as(t){t.flags|=4}function $f(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zy())t.flags|=8192;else throw Fr=zu,df}else t.flags&=-16777217}function xy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z0(n))if(Zy())t.flags|=8192;else throw Fr=zu,df}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,Qa|=n)}function ll(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function sT(t,n,a){var o=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ns(Pt),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(yt(n),xy(n,f)):(yt(n),$f(n,h,null,o,a))):f?f!==t.memoizedState?(as(n),yt(n),xy(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(n),yt(n),$f(n,h,t,o,a)),null;case 27:if(Mt(n),a=ge.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return yt(n),null}t=ee.current,Ma(n)?sg(n):(t=O0(h,o,a),n.stateNode=t,as(n))}return yt(n),null;case 5:if(Mt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return yt(n),null}if(f=ee.current,Ma(n))sg(n);else{var g=_c(ge.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[jt]=n,f[Xt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(n)}}return yt(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&as(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=ge.current,Ma(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||E0(t.nodeValue,a)),t||ks(n,!0)}else t=_c(t).createTextNode(o),t[jt]=n,n.stateNode=t}return yt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[jt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return yt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),yt(n),null);case 4:return Ne(),t===null&&_d(n.stateNode.containerInfo),yt(n),null;case 10:return ns(n.type),yt(n),null;case 19:if(q(It),o=n.memoizedState,o===null)return yt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ll(o,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,ll(o,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Wp(a,t),a=a.sibling;return $(It,It.current&1|2),$e&&es(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Vt()>lc&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!$e)return yt(n),null}else 2*Vt()-o.renderingStartTime>lc&&a!==536870912&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Vt(),t.sibling=null,a=It.current,$(It,h?a&1|2:a&1),$e&&es(n,o.treeForkCount),t):(yt(n),null);case 22:case 23:return kn(n),vf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&q(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(Pt),yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function rT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(Pt),Ne(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Mt(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(r(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return q(It),null;case 4:return Ne(),null;case 10:return ns(n.type),null;case 22:case 23:return kn(n),vf(),t!==null&&q(Br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(Pt),null;case 25:return null;default:return null}}function wy(t,n){switch(sf(n),n.tag){case 3:ns(Pt),Ne();break;case 26:case 27:case 5:Mt(n);break;case 4:Ne();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:q(It);break;case 10:ns(n.type);break;case 22:case 23:kn(n),vf(),t!==null&&q(Br);break;case 24:ns(Pt)}}function ul(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){lt(n,n.return,E)}}function Bs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=a,z=E;try{z()}catch(G){lt(h,N,G)}}}o=o.next}while(o!==f)}}catch(G){lt(n,n.return,G)}}function Ry(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{yg(n,a)}catch(o){lt(t,t.return,o)}}}function Ny(t,n,a){a.props=Yr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){lt(t,n,o)}}function cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){lt(t,n,h)}}function Ui(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){lt(t,n,h)}else a.current=null}function Iy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){lt(t,t.return,h)}}function Zf(t,n,a){try{var o=t.stateNode;RT(o,t.type,a,n),o[Xt]=n}catch(h){lt(t,t.return,h)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=oi));else if(o!==4&&(o===27&&Xs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,a),t=t.sibling;t!==null;)Wf(t,n,a),t=t.sibling}function sc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Xs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(sc(t,n,a),t=t.sibling;t!==null;)sc(t,n,a),t=t.sibling}function Dy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,a),n[jt]=t,n[Xt]=a}catch(f){lt(t,t.return,f)}}var os=!1,Bt=!1,ed=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function aT(t,n){if(t=t.containerInfo,Ed=xc,t=Fp(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,N=-1,z=0,G=0,Z=t,B=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=g+h),Z!==f||o!==0&&Z.nodeType!==3||(N=g+o),Z.nodeType===3&&(g+=Z.nodeValue.length),(F=Z.firstChild)!==null;)B=Z,Z=F;for(;;){if(Z===t)break t;if(B===a&&++z===h&&(E=g),B===f&&++G===o&&(N=g),(F=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=F}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},xc=!1,Zt=n;Zt!==null;)if(n=Zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zt=t;else for(;Zt!==null;){switch(n=Zt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var fe=Yr(a.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Se){lt(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Zt=t;break}Zt=n.return}}function My(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),o&4&&ul(5,a);break;case 1:if(us(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){lt(a,a.return,g)}else{var h=Yr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){lt(a,a.return,g)}}o&64&&Ry(a),o&512&&cl(a,a.return);break;case 3:if(us(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yg(t,n)}catch(g){lt(a,a.return,g)}}break;case 27:n===null&&o&4&&Dy(a);case 26:case 5:us(t,a),n===null&&o&4&&Iy(a),o&512&&cl(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),o&4&&jy(t,a);break;case 13:us(t,a),o&4&&Ly(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pT.bind(null,a),kT(t,a))));break;case 22:if(o=a.memoizedState!==null||os,!o){n=n!==null&&n.memoizedState!==null||Bt,h=os;var f=Bt;os=o,(Bt=n)&&!f?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),os=h,Bt=f}break;case 30:break;default:us(t,a)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ga(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,En=!1;function ls(t,n,a){for(a=a.child;a!==null;)ky(t,n,a),a=a.sibling}function ky(t,n,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:Bt||Ui(a,n),ls(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Ui(a,n);var o=bt,h=En;Xs(a.type)&&(bt=a.stateNode,En=!1),ls(t,n,a),vl(a.stateNode),bt=o,En=h;break;case 5:Bt||Ui(a,n);case 6:if(o=bt,h=En,bt=null,ls(t,n,a),bt=o,En=h,bt!==null)if(En)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(f){lt(a,n,f)}else try{bt.removeChild(a.stateNode)}catch(f){lt(a,n,f)}break;case 18:bt!==null&&(En?(t=bt,R0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):R0(bt,a.stateNode));break;case 4:o=bt,h=En,bt=a.stateNode.containerInfo,En=!0,ls(t,n,a),bt=o,En=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),Bt||Bs(4,a,n),ls(t,n,a);break;case 1:Bt||(Ui(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ny(a,n,o)),ls(t,n,a);break;case 21:ls(t,n,a);break;case 22:Bt=(o=Bt)||a.memoizedState!==null,ls(t,n,a),Bt=o;break;default:ls(t,n,a)}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){lt(n,n.return,a)}}}function Ly(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){lt(n,n.return,a)}}function oT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Oy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Oy),n;default:throw Error(r(435,t.tag))}}function rc(t,n){var a=oT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=gT.bind(null,t,o);o.then(h,h)}})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){bt=E.stateNode,En=!1;break e}break;case 5:bt=E.stateNode,En=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(bt===null)throw Error(r(160));ky(f,g,h),bt=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Uy(n,t),n=n.sibling}var di=null;function Uy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),Sn(t),o&4&&(Bs(3,t,t.return),ul(3,t),Bs(5,t,t.return));break;case 1:Tn(n,t),Sn(t),o&512&&(Bt||a===null||Ui(a,a.return)),o&64&&os&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=di;if(Tn(n,t),Sn(t),o&512&&(Bt||a===null||Ui(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,a),f[jt]=t,Lt(f),o=f;break e;case"link":var g=U0("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;case"meta":if(g=U0("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(o),an(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[jt]=t,Lt(f),o=f}t.stateNode=o}else P0(h,t.type,t.stateNode);else t.stateNode=L0(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?P0(h,t.type,t.stateNode):L0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),Sn(t),o&512&&(Bt||a===null||Ui(a,a.return)),a!==null&&o&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),Sn(t),o&512&&(Bt||a===null||Ui(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(fe){lt(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(Tn(n,t),Sn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(fe){lt(t,t.return,fe)}}break;case 3:if(Ec=null,h=di,di=vc(n.containerInfo),Tn(n,t),di=h,Sn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(fe){lt(t,t.return,fe)}ed&&(ed=!1,Py(t));break;case 4:o=di,di=vc(t.stateNode.containerInfo),Tn(n,t),Sn(t),di=o;break;case 12:Tn(n,t),Sn(t);break;case 31:Tn(n,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 13:Tn(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=Vt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=os,G=Bt;if(os=z||h,Bt=G||N,Tn(n,t),Bt=G,os=z,Sn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||os||Bt||Kr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var Z=N.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(fe){lt(N,N.return,fe)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){lt(N,N.return,fe)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?N0(F,!0):N0(N.stateNode,!1)}catch(fe){lt(N,N.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,rc(t,a))));break;case 19:Tn(n,t),Sn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 30:break;case 21:break;default:Tn(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Cy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(t);sc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(bn(g,""),a.flags&=-33);var E=Jf(t);sc(t,E,g);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Jf(t);Wf(t,z,N);break;default:throw Error(r(161))}}catch(G){lt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Py(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)My(t,n.alternate,n),n=n.sibling}function Kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Kr(n);break;case 1:Ui(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ny(n,n.return,a),Kr(n);break;case 27:vl(n.stateNode);case 26:case 5:Ui(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}t=t.sibling}}function cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,a),ul(4,f);break;case 1:if(cs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){lt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)gg(N[h],E)}catch(z){lt(o,o.return,z)}}a&&g&64&&Ry(f),cl(f,f.return);break;case 27:Dy(f);case 26:case 5:cs(h,f,a),a&&o===null&&g&4&&Iy(f),cl(f,f.return);break;case 12:cs(h,f,a);break;case 31:cs(h,f,a),a&&g&4&&jy(h,f);break;case 13:cs(h,f,a),a&&g&4&&Ly(h,f);break;case 22:f.memoizedState===null&&cs(h,f,a),cl(f,f.return);break;case 30:break;default:cs(h,f,a)}n=n.sibling}}function td(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t))}function mi(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zy(t,n,a,o),n=n.sibling}function zy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,a,o),h&2048&&ul(9,n);break;case 1:mi(t,n,a,o);break;case 3:mi(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){mi(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){lt(n,n.return,N)}}else mi(t,n,a,o);break;case 31:mi(t,n,a,o);break;case 13:mi(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,a,o):hl(t,n):f._visibility&2?mi(t,n,a,o):(f._visibility|=2,Ha(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(g,n);break;case 24:mi(t,n,a,o),h&2048&&nd(n.alternate,n);break;default:mi(t,n,a,o)}}function Ha(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,N=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ha(f,g,E,N,h),ul(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ha(f,g,E,N,h):hl(f,g):(G._visibility|=2,Ha(f,g,E,N,h)),h&&z&2048&&td(g.alternate,g);break;case 24:Ha(f,g,E,N,h),h&&z&2048&&nd(g.alternate,g);break;default:Ha(f,g,E,N,h)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:hl(a,o),h&2048&&td(o.alternate,o);break;case 24:hl(a,o),h&2048&&nd(o.alternate,o);break;default:hl(a,o)}n=n.sibling}}var fl=8192;function Fa(t,n,a){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)qy(t,n,a),t=t.sibling}function qy(t,n,a){switch(t.tag){case 26:Fa(t,n,a),t.flags&fl&&t.memoizedState!==null&&YT(a,di,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,a);break;case 3:case 4:var o=di;di=vc(t.stateNode.containerInfo),Fa(t,n,a),di=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=fl,fl=16777216,Fa(t,n,a),fl=o):Fa(t,n,a));break;default:Fa(t,n,a)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Zt=o,Fy(o,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hy(t),t=t.sibling}function Hy(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):dl(t);break;default:dl(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Zt=o,Fy(o,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function Fy(t,n){for(;Zt!==null;){var a=Zt;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Zt=o;else e:for(a=t;Zt!==null;){o=Zt;var h=o.sibling,f=o.return;if(Vy(o),o===a){Zt=null;break e}if(h!==null){h.return=f,Zt=h;break e}Zt=f}}}var lT={getCacheForType:function(t){var n=sn(Pt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return sn(Pt).controller.signal}},uT=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,qe=null,He=0,ot=0,jn=null,Hs=!1,Ga=!1,id=!1,hs=0,xt=0,Fs=0,Xr=0,sd=0,Ln=0,Qa=0,ml=null,An=null,rd=!1,oc=0,Gy=0,lc=1/0,uc=null,Gs=null,Qt=0,Qs=null,Ya=null,fs=0,ad=0,od=null,Qy=null,pl=0,ld=null;function Un(){return(it&2)!==0&&He!==0?He&-He:L.T!==null?md():cu()}function Yy(){if(Ln===0)if((He&536870912)===0||$e){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Ln=t}else Ln=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Ln}function xn(t,n,a){(t===mt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Ys(t,He,Ln,!1)),Sr(t,a),((it&2)===0||t!==mt)&&(t===mt&&((it&2)===0&&(Xr|=a),xt===4&&Ys(t,He,Ln,!1)),Pi(t))}function Ky(t,n,a){if((it&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||si(t,n),h=o?fT(t,n):cd(t,n,!0),f=o;do{if(h===0){Ga&&!o&&Ys(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!cT(a)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=ml;var N=E.current.memoizedState.isDehydrated;if(N&&(Ka(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(id&&!N){E.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break e}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),Ys(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,Ln,!Hs);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=oc+300-Vt(),10<h)){if(Ys(o,n,Ln,!Hs),Ei(o,0,!0)!==0)break e;fs=n,o.timeoutHandle=x0(Xy.bind(null,o,a,An,uc,rd,n,Ln,Xr,Qa,Hs,f,"Throttled",-0,0),h);break e}Xy(o,a,An,uc,rd,n,Ln,Xr,Qa,Hs,f,null,-0,0)}}break}while(!0);Pi(t)}function Xy(t,n,a,o,h,f,g,E,N,z,G,Z,B,F){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},qy(n,f,Z);var fe=(f&62914560)===f?oc-Vt():(f&4194048)===f?Gy-Vt():0;if(fe=KT(Z,fe),fe!==null){fs=f,t.cancelPendingCommit=fe(i0.bind(null,t,n,f,a,o,h,g,E,N,G,Z,null,B,F)),Ys(t,f,g,!z);return}}i0(t,n,f,a,o,h,g,E,N)}function cT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,a,o){n&=~sd,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Rt(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&Ar(t,a,n)}function cc(){return(it&6)===0?(gl(0),!1):!0}function ud(){if(qe!==null){if(ot===0)var t=qe.return;else t=qe,ts=zr=null,xf(t),Ua=null,Jo=0,t=qe;for(;t!==null;)wy(t.alternate,t),t=t.return;qe=null}}function Ka(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,ud(),mt=t,qe=a=Wi(t.current,null),He=n,ot=0,jn=null,Hs=!1,Ga=si(t,n),id=!1,Qa=Ln=sd=Xr=Fs=xt=0,An=ml=null,rd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Rt(o),f=1<<h;n|=t[h],o&=~f}return hs=n,Du(),a}function $y(t,n){Le=null,L.H=al,n===La||n===Pu?(n=fg(),ot=3):n===df?(n=fg(),ot=4):ot=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,qe===null&&(xt=1,Wu(t,Yn(n,t.current)))}function Zy(){var t=Vn.current;return t===null?!0:(He&4194048)===He?Zn===null:(He&62914560)===He||(He&536870912)!==0?t===Zn:!1}function Jy(){var t=L.H;return L.H=al,t===null?al:t}function Wy(){var t=L.A;return L.A=lT,t}function hc(){xt=4,Hs||(He&4194048)!==He&&Vn.current!==null||(Ga=!0),(Fs&134217727)===0&&(Xr&134217727)===0||mt===null||Ys(mt,He,Ln,!1)}function cd(t,n,a){var o=it;it|=2;var h=Jy(),f=Wy();(mt!==t||He!==n)&&(uc=null,Ka(t,n)),n=!1;var g=xt;e:do try{if(ot!==0&&qe!==null){var E=qe,N=jn;switch(ot){case 8:ud(),g=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=ot;if(ot=0,jn=null,Xa(t,E,N,z),a&&Ga){g=0;break e}break;default:z=ot,ot=0,jn=null,Xa(t,E,N,z)}}hT(),g=xt;break}catch(G){$y(t,G)}while(!0);return n&&t.shellSuspendCounter++,ts=zr=null,it=o,L.H=h,L.A=f,qe===null&&(mt=null,He=0,Du()),g}function hT(){for(;qe!==null;)e0(qe)}function fT(t,n){var a=it;it|=2;var o=Jy(),h=Wy();mt!==t||He!==n?(uc=null,lc=Vt()+500,Ka(t,n)):Ga=si(t,n);e:do try{if(ot!==0&&qe!==null){n=qe;var f=jn;t:switch(ot){case 1:ot=0,jn=null,Xa(t,n,f,1);break;case 2:case 9:if(cg(f)){ot=0,jn=null,t0(n);break}n=function(){ot!==2&&ot!==9||mt!==t||(ot=7),Pi(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:cg(f)?(ot=0,jn=null,t0(n)):(ot=0,jn=null,Xa(t,n,f,7));break;case 5:var g=null;switch(qe.tag){case 26:g=qe.memoizedState;case 5:case 27:var E=qe;if(g?z0(g):E.stateNode.complete){ot=0,jn=null;var N=E.sibling;if(N!==null)qe=N;else{var z=E.return;z!==null?(qe=z,fc(z)):qe=null}break t}}ot=0,jn=null,Xa(t,n,f,5);break;case 6:ot=0,jn=null,Xa(t,n,f,6);break;case 8:ud(),xt=6;break e;default:throw Error(r(462))}}dT();break}catch(G){$y(t,G)}while(!0);return ts=zr=null,L.H=o,L.A=h,it=a,qe!==null?0:(mt=null,He=0,Du(),xt)}function dT(){for(;qe!==null&&!St();)e0(qe)}function e0(t){var n=Ay(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?fc(t):qe=n}function t0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=_y(a,n,n.pendingProps,n.type,void 0,He);break;case 11:n=_y(a,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:xf(n);default:wy(a,n),n=qe=Wp(n,hs),n=Ay(a,n,hs)}t.memoizedProps=t.pendingProps,n===null?fc(t):qe=n}function Xa(t,n,a,o){ts=zr=null,xf(n),Ua=null,Jo=0;var h=n.return;try{if(tT(t,h,n,a,He)){xt=1,Wu(t,Yn(a,t.current)),qe=null;return}}catch(f){if(h!==null)throw qe=h,f;xt=1,Wu(t,Yn(a,t.current)),qe=null;return}n.flags&32768?($e||o===1?t=!0:Ga||(He&536870912)!==0?t=!1:(Hs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),n0(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){n0(n,Hs);return}t=n.return;var a=sT(n.alternate,n,hs);if(a!==null){qe=a;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=t}while(n!==null);xt===0&&(xt=5)}function n0(t,n){do{var a=rT(t.alternate,t);if(a!==null){a.flags&=32767,qe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){qe=t;return}qe=t=a}while(t!==null);xt=6,qe=null}function i0(t,n,a,o,h,f,g,E,N){t.cancelPendingCommit=null;do dc();while(Qt!==0);if((it&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zh,Bh(t,a,f,g,E,N),t===mt&&(qe=mt=null,He=0),Ya=n,Qs=t,fs=a,ad=f,od=h,Qy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yT(zn,function(){return l0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,h=X.p,X.p=2,g=it,it|=4;try{aT(t,n,a)}finally{it=g,X.p=h,L.T=o}}Qt=1,s0(),r0(),a0()}}function s0(){if(Qt===1){Qt=0;var t=Qs,n=Ya,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=X.p;X.p=2;var h=it;it|=4;try{Uy(n,t);var f=Td,g=Fp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Hp(E.ownerDocument.documentElement,E)){if(N!==null&&Qh(E)){var z=N.start,G=N.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var F=B.getSelection(),fe=E.textContent.length,Se=Math.min(N.start,fe),ft=N.end===void 0?Se:Math.min(N.end,fe);!F.extend&&Se>ft&&(g=ft,ft=Se,Se=g);var k=Bp(E,Se),D=Bp(E,ft);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var P=Z.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),Se>ft?(F.addRange(P),F.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),F.addRange(P))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var Y=Z[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}xc=!!Ed,Td=Ed=null}finally{it=h,X.p=o,L.T=a}}t.current=n,Qt=2}}function r0(){if(Qt===2){Qt=0;var t=Qs,n=Ya,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=X.p;X.p=2;var h=it;it|=4;try{My(t,n.alternate,n)}finally{it=h,X.p=o,L.T=a}}Qt=3}}function a0(){if(Qt===4||Qt===3){Qt=0,Et();var t=Qs,n=Ya,a=fs,o=Qy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,Ya=Qs=null,o0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),Xi(a),n=n.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ii,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=L.T,h=X.p,X.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{L.T=n,X.p=h}}(fs&3)!==0&&dc(),Pi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ld?pl++:(pl=0,ld=t):pl=0,gl(0)}}function o0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$o(n)))}function dc(){return s0(),r0(),a0(),l0()}function l0(){if(Qt!==5)return!1;var t=Qs,n=ad;ad=0;var a=Xi(fs),o=L.T,h=X.p;try{X.p=32>a?32:a,L.T=null,a=od,od=null;var f=Qs,g=fs;if(Qt=0,Ya=Qs=null,fs=0,(it&6)!==0)throw Error(r(331));var E=it;if(it|=4,Hy(f.current),zy(f,f.current,g,a),it=E,gl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ii,f)}catch{}return!0}finally{X.p=h,L.T=o,o0(t,n)}}function u0(t,n,a){n=Yn(a,n),n=zf(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Sr(t,2),Pi(t))}function lt(t,n,a){if(t.tag===3)u0(t,t,a);else for(;n!==null;){if(n.tag===3){u0(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){t=Yn(a,t),a=cy(2),o=Ps(n,a,2),o!==null&&(hy(a,o,n,t),Sr(o,2),Pi(o));break}}n=n.return}}function hd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new uT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(id=!0,h.add(a),t=mT.bind(null,t,n,a),n.then(t,t))}function mT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,mt===t&&(He&a)===a&&(xt===4||xt===3&&(He&62914560)===He&&300>Vt()-oc?(it&2)===0&&Ka(t,0):sd|=a,Qa===He&&(Qa=0)),Pi(t)}function c0(t,n){n===0&&(n=uu()),t=Lr(t,n),t!==null&&(Sr(t,n),Pi(t))}function pT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),c0(t,a)}function gT(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),c0(t,a)}function yT(t,n){return Ue(t,n)}var mc=null,$a=null,fd=!1,pc=!1,dd=!1,Ks=0;function Pi(t){t!==$a&&t.next===null&&($a===null?mc=$a=t:$a=$a.next=t),pc=!0,fd||(fd=!0,vT())}function gl(t,n){if(!dd&&pc){dd=!0;do for(var a=!1,o=mc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Rt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,m0(o,f))}else f=He,f=Ei(o,o===mt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||si(o,f)||(a=!0,m0(o,f));o=o.next}while(a);dd=!1}}function _T(){h0()}function h0(){pc=fd=!1;var t=0;Ks!==0&&IT()&&(t=Ks);for(var n=Vt(),a=null,o=mc;o!==null;){var h=o.next,f=f0(o,n);f===0?(o.next=null,a===null?mc=h:a.next=h,h===null&&($a=a)):(a=o,(t!==0||(f&3)!==0)&&(pc=!0)),o=h}Qt!==0&&Qt!==5||gl(t),Ks!==0&&(Ks=0)}function f0(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Rt(f),E=1<<g,N=h[g];N===-1?((E&a)===0||(E&o)!==0)&&(h[g]=qh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,a=He,a=Ei(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Kt(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||si(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Kt(o),Xi(a)){case 2:case 8:a=In;break;case 32:a=zn;break;case 268435456:a=ha;break;default:a=zn}return o=d0.bind(null,t),a=Ue(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Kt(o),t.callbackPriority=2,t.callbackNode=null,2}function d0(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var o=He;return o=Ei(t,t===mt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ky(t,o,n),f0(t,Vt()),t.callbackNode!=null&&t.callbackNode===a?d0.bind(null,t):null)}function m0(t,n){if(dc())return null;Ky(t,n,!0)}function vT(){DT(function(){(it&6)!==0?Ue(Ki,_T):h0()})}function md(){if(Ks===0){var t=ka;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Ks=t}return Ks}function p0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function g0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function bT(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=p0((h[Xt]||null).action),g=o.submitter;g&&(n=(n=g[Xt]||null)?p0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Oi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var N=g?g0(h,g):new FormData(h);Vf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?g0(h,g):new FormData(h),Vf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],ET=gd.toLowerCase(),TT=gd[0].toUpperCase()+gd.slice(1);fi(ET,"on"+TT)}fi(Yp,"onAnimationEnd"),fi(Kp,"onAnimationIteration"),fi(Xp,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(U1,"onTransitionRun"),fi(P1,"onTransitionStart"),fi(z1,"onTransitionCancel"),fi($p,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function y0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=N}else for(g=0;g<o.length;g++){if(E=o[g],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=N}}}}function Be(t,n){var a=n[pa];a===void 0&&(a=n[pa]=new Set);var o=t+"__bubble";a.has(o)||(_0(n,t,2,!1),a.add(o))}function yd(t,n,a){var o=0;n&&(o|=4),_0(a,t,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[gc]){t[gc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(ST.has(a)||yd(a,!1,t),yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,yd("selectionchange",!1,n))}}function _0(t,n,a,o){switch(Y0(n)){case 2:var h=ZT;break;case 8:h=JT;break;default:h=Md}a=h.bind(null,n,a,t),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function vd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=xi(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Is(function(){var z=f,G=Hn(a),Z=[];e:{var B=Zp.get(t);if(B!==void 0){var F=Oi,fe=t;switch(t){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":F=Ru;break;case"focusin":fe="focus",F=Mr;break;case"focusout":fe="blur",F=Mr;break;case"beforeblur":case"afterblur":F=Mr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Yp:case Kp:case Xp:F=bu;break;case $p:F=T;break;case"scroll":case"scrollend":F=qo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ji;break;case"toggle":case"beforetoggle":F=je}var Se=(n&4)!==0,ft=!Se&&(t==="scroll"||t==="scrollend"),k=Se?B!==null?B+"Capture":null:B;Se=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=li(D,k),Y!=null&&Se.push(_l(D,Y,P))),ft)break;D=D.return}0<Se.length&&(B=new F(B,fe,null,a,G),Z.push({event:B,listeners:Se}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Uo&&(fe=a.relatedTarget||a.fromElement)&&(xi(fe)||fe[Si]))break e;if((F||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,F?(fe=a.relatedTarget||a.toElement,F=z,fe=fe?xi(fe):null,fe!==null&&(ft=c(fe),Se=fe.tag,fe!==ft||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(F=null,fe=z),F!==fe)){if(Se=Bo,Y="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Ji,Y="onPointerLeave",k="onPointerEnter",D="pointer"),ft=F==null?B:Cn(F),P=fe==null?B:Cn(fe),B=new Se(Y,D+"leave",F,a,G),B.target=ft,B.relatedTarget=P,Y=null,xi(G)===z&&(Se=new Se(k,D+"enter",fe,a,G),Se.target=P,Se.relatedTarget=ft,Y=Se),ft=Y,F&&fe)t:{for(Se=AT,k=F,D=fe,P=0,Y=k;Y;Y=Se(Y))P++;Y=0;for(var ye=D;ye;ye=Se(ye))Y++;for(;0<P-Y;)k=Se(k),P--;for(;0<Y-P;)D=Se(D),Y--;for(;P--;){if(k===D||D!==null&&k===D.alternate){Se=k;break t}k=Se(k),D=Se(D)}Se=null}else Se=null;F!==null&&v0(Z,B,F,Se,!1),fe!==null&&ft!==null&&v0(Z,ft,fe,Se,!0)}}e:{if(B=z?Cn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var et=jp;else if(Vp(B))if(Lp)et=k1;else{et=M1;var de=O1}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&va(z.elementType)&&(et=jp):et=V1;if(et&&(et=et(t,z))){kp(Z,et,a,G);break e}de&&de(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ko(B,"number",B.value)}switch(de=z?Cn(z):window,t){case"focusin":(Vp(de)||de.contentEditable==="true")&&(Ra=de,Yh=z,Yo=null);break;case"focusout":Yo=Yh=Ra=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Gp(Z,a,G);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":Gp(Z,a,G)}var Pe;if(nt)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else wa?Vr(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(ki&&a.locale!=="ko"&&(wa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&wa&&(Pe=zo()):(Di=G,Po="value"in Di?Di.value:Di.textContent,wa=!0)),de=yc(z,Fe),0<de.length&&(Fe=new Vi(Fe,t,null,a,G),Z.push({event:Fe,listeners:de}),Pe?Fe.data=Pe:(Pe=xa(a),Pe!==null&&(Fe.data=Pe)))),(Pe=Gn?N1(t,a):I1(t,a))&&(Fe=yc(z,"onBeforeInput"),0<Fe.length&&(de=new Vi("onBeforeInput","beforeinput",null,a,G),Z.push({event:de,listeners:Fe}),de.data=Pe)),bT(Z,t,z,a,G)}y0(Z,n)})}function _l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function yc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=li(t,a),h!=null&&o.unshift(_l(t,h,f)),h=li(t,n),h!=null&&o.push(_l(t,h,f))),t.tag===3)return o;t=t.return}return[]}function AT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v0(t,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=li(a,f),z!=null&&g.unshift(_l(a,z,N))):h||(z=li(a,f),z!=null&&g.push(_l(a,z,N)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var xT=/\r\n?/g,wT=/\u0000|\uFFFD/g;function b0(t){return(typeof t=="string"?t:""+t).replace(xT,`
`).replace(wT,"")}function E0(t,n){return n=b0(n),b0(t)===n}function ht(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||bn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&bn(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,o);break;case"style":Lo(t,o,f);break;case"data":if(n!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ba(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=oi);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),ya(t,"popover",o);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,ya(t,a,o))}}function bd(t,n,a,o,h,f){switch(a){case"style":Lo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?bn(t,o):(typeof o=="number"||typeof o=="bigint")&&bn(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Xt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ya(t,a,o)}}}function an(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,f,g,a,null)}}h&&ht(t,n,"srcSet",a.srcSet,a,null),o&&ht(t,n,"src",a.src,a,null);return;case"input":Be("invalid",t);var E=f=g=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":N=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ht(t,n,o,G,a,null)}}mu(t,f,E,N,z,g,h,!1);return;case"select":Be("invalid",t),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ht(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!o,n!=null?xs(t,!!o,n,!1):a!=null&&xs(t,!!o,a,!0);return;case"textarea":Be("invalid",t),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ht(t,n,g,E,a,null)}ws(t,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ht(t,n,N,o,a,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<yl.length;o++)Be(yl[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,z,o,a,null)}return;default:if(va(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&bd(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ht(t,n,E,o,a,null))}function RT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,z=null,G=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Z;default:o.hasOwnProperty(F)||ht(t,n,F,null,o,Z)}}for(var B in o){var F=o[B];if(Z=a[B],o.hasOwnProperty(B)&&(F!=null||Z!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Z&&ht(t,n,B,F,o,Z)}}_a(t,g,E,N,z,G,f,h);return;case"select":F=g=E=B=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(f)||ht(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&ht(t,n,h,f,o,N)}n=E,a=g,o=F,B!=null?xs(t,!!a,B,!1):!!o!=!!a&&(n!=null?xs(t,!!a,n,!0):xs(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ht(t,n,g,h,o,f)}pu(t,B,F);return;case"option":for(var fe in a)if(B=a[fe],a.hasOwnProperty(fe)&&B!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:ht(t,n,fe,null,o,B)}for(N in o)if(B=o[N],F=a[N],o.hasOwnProperty(N)&&B!==F&&(B!=null||F!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ht(t,n,N,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)B=a[Se],a.hasOwnProperty(Se)&&B!=null&&!o.hasOwnProperty(Se)&&ht(t,n,Se,null,o,B);for(z in o)if(B=o[z],F=a[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ht(t,n,z,B,o,F)}return;default:if(va(n)){for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!==void 0&&!o.hasOwnProperty(ft)&&bd(t,n,ft,void 0,o,B);for(G in o)B=o[G],F=a[G],!o.hasOwnProperty(G)||B===F||B===void 0&&F===void 0||bd(t,n,G,B,o,F);return}}for(var k in a)B=a[k],a.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ht(t,n,k,null,o,B);for(Z in o)B=o[Z],F=a[Z],!o.hasOwnProperty(Z)||B===F||B==null&&F==null||ht(t,n,Z,B,o,F)}function T0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&T0(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>E)break;var G=N.transferSize,Z=N.initiatorType;G&&T0(Z)&&(N=N.responseEnd,g+=G*(N<E?1:(E-z)/(N-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function S0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function IT(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,DT=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(t){return w0.resolve(null).then(t).catch(OT)}:x0;function OT(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function R0(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),eo(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&vl(t.ownerDocument.body);a=h}while(a);eo(n)}function N0(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function MT(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function VT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function I0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Rd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Nd=null;function C0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function D0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function O0(t,n,a){switch(n=_c(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ga(t)}var Wn=new Map,M0=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=X.d;X.d={f:jT,r:LT,D:UT,C:PT,L:zT,m:qT,X:HT,S:BT,M:FT};function jT(){var t=ds.f(),n=cc();return t||n}function LT(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?$g(n):ds.r(t)}var Za=typeof document>"u"?null:document;function V0(t,n,a){var o=Za;if(o&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M0.has(h)||(M0.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),Lt(n),o.head.appendChild(n)))}}function UT(t){ds.D(t),V0("dns-prefetch",t,null)}function PT(t,n){ds.C(t,n),V0("preconnect",t,n)}function zT(t,n,a){ds.L(t,n,a);var o=Za;if(o&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=Ja(t);break;case"script":f=Wa(t)}Wn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Wn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(bl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),an(n,"link",t),Lt(n),o.head.appendChild(n)))}}function qT(t,n){ds.m(t,n);var a=Za;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(o)+'"][href="'+vn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(t)}if(!Wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Wn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(f)))return}o=a.createElement("link"),an(o,"link",t),Lt(o),a.head.appendChild(o)}}}function BT(t,n,a){ds.S(t,n,a);var o=Za;if(o&&t){var h=wi(o).hoistableStyles,f=Ja(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(bl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Wn.get(f))&&Id(t,a);var N=g=o.createElement("link");Lt(N),an(N,"link",t),N._p=new Promise(function(z,G){N.onload=z,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function HT(t,n){ds.X(t,n);var a=Za;if(a&&t){var o=wi(a).hoistableScripts,h=Wa(t),f=o.get(h);f||(f=a.querySelector(El(h)),f||(t=A({src:t,async:!0},n),(n=Wn.get(h))&&Cd(t,n),f=a.createElement("script"),Lt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function FT(t,n){ds.M(t,n);var a=Za;if(a&&t){var o=wi(a).hoistableScripts,h=Wa(t),f=o.get(h);f||(f=a.querySelector(El(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&Cd(t,n),f=a.createElement("script"),Lt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function k0(t,n,a,o){var h=(h=ge.current)?vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ja(a.href),a=wi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var f=wi(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(bl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),f||GT(h,t,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(a),a=wi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ja(t){return'href="'+vn(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function j0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function GT(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",a),Lt(n),t.head.appendChild(n))}function Wa(t){return'[src="'+vn(t)+'"]'}function El(t){return"script[async]"+t}function L0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(o)return n.instance=o,Lt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Lt(o),an(o,"style",h),bc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ja(a.href);var f=t.querySelector(bl(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;o=j0(a),(h=Wn.get(h))&&Id(o,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),an(f,"link",o),n.state.loading|=4,bc(f,a.precedence,t),n.instance=f;case"script":return f=Wa(a.src),(h=t.querySelector(El(f)))?(n.instance=h,Lt(h),h):(o=a,(h=Wn.get(f))&&(o=A({},a),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,a.precedence,t));return n.instance}function bc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function U0(t,n,a){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(a,o)}else h=Ec,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ai]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function P0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function QT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function z0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YT(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ja(o.href),f=n.querySelector(bl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Lt(f);return}f=n.ownerDocument||n,o=j0(o),(h=Wn.get(h))&&Id(o,h),f=f.createElement("link"),Lt(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),an(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Tc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function KT(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*NT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,n.forEach(XT,t),Sc=null,Tc.call(t))}function XT(t,n){if(!(n.state.loading&4)){var a=Sc.get(t);if(a)var o=a.get(null);else{a=new Map,Sc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:Ae,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function $T(t,n,a,o,h,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function q0(t,n,a,o,h,f,g,E,N,z,G,Z){return t=new $T(t,n,a,g,N,z,G,Z,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},mf(f),t}function B0(t){return t?(t=Ca,t):Ca}function H0(t,n,a,o,h,f){h=B0(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ps(t,o,n),a!==null&&(xn(a,t,n),el(a,t,n))}function F0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Od(t,n){F0(t,n),(t=t.alternate)&&F0(t,n)}function G0(t){if(t.tag===13||t.tag===31){var n=Lr(t,67108864);n!==null&&xn(n,t,67108864),Od(t,67108864)}}function Q0(t){if(t.tag===13||t.tag===31){var n=Un();n=xr(n);var a=Lr(t,n);a!==null&&xn(a,t,n),Od(t,n)}}var xc=!0;function ZT(t,n,a,o){var h=L.T;L.T=null;var f=X.p;try{X.p=2,Md(t,n,a,o)}finally{X.p=f,L.T=h}}function JT(t,n,a,o){var h=L.T;L.T=null;var f=X.p;try{X.p=8,Md(t,n,a,o)}finally{X.p=f,L.T=h}}function Md(t,n,a,o){if(xc){var h=Vd(o);if(h===null)vd(t,n,o,wc,a),K0(t,o);else if(eS(h,t,n,a,o))o.stopPropagation();else if(K0(t,o),n&4&&-1<WT.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=bi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-Rt(g);E.entanglements[1]|=N,g&=~N}Pi(f),(it&6)===0&&(lc=Vt()+500,gl(0))}}break;case 31:case 13:E=Lr(f,2),E!==null&&xn(E,f,2),cc(),Od(f,2)}if(f=Vd(o),f===null&&vd(t,n,o,wc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else vd(t,n,o,null,a)}}function Vd(t){return t=Hn(t),kd(t)}var wc=null;function kd(t){if(wc=null,t=xi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function Y0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case Ki:return 2;case In:return 8;case zn:case wo:return 32;case ha:return 268435456;default:return 32}default:return 32}}var jd=!1,$s=null,Zs=null,Js=null,Sl=new Map,Al=new Map,Ws=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K0(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function xl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&G0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function eS(t,n,a,o,h){switch(n){case"focusin":return $s=xl($s,t,n,a,o,h),!0;case"dragenter":return Zs=xl(Zs,t,n,a,o,h),!0;case"mouseover":return Js=xl(Js,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,xl(Sl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,xl(Al.get(f)||null,t,n,a,o,h)),!0}return!1}function X0(t){var n=xi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ri(t.priority,function(){Q0(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,ri(t.priority,function(){Q0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Uo=o,a.target.dispatchEvent(o),Uo=null}else return n=Bn(a),n!==null&&G0(n),t.blockedOn=a,!1;n.shift()}return!0}function $0(t,n,a){Rc(t)&&a.delete(n)}function tS(){jd=!1,$s!==null&&Rc($s)&&($s=null),Zs!==null&&Rc(Zs)&&(Zs=null),Js!==null&&Rc(Js)&&(Js=null),Sl.forEach($0),Al.forEach($0)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,tS)))}var Ic=null;function Z0(t){Ic!==t&&(Ic=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ic===t&&(Ic=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(kd(o||a)===null)continue;break}var f=Bn(a);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function eo(t){function n(N){return Nc(N,t)}$s!==null&&Nc($s,t),Zs!==null&&Nc(Zs,t),Js!==null&&Nc(Js,t),Sl.forEach(n),Al.forEach(n);for(var a=0;a<Ws.length;a++){var o=Ws[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)X0(a),a.blockedOn===null&&Ws.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Xt]||null;if(typeof f=="function")g||Z0(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Xt]||null)E=g.formAction;else if(kd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Z0(a)}}}function J0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Cc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Un();H0(a,o,t,n,null,null)},Cc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;H0(t.current,2,null,t,null,null),cc(),n[Si]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ws.length&&n!==0&&n<Ws[a].priority;a++);Ws.splice(a,0,t),a===0&&X0(t)}};var W0=e.version;if(W0!=="19.2.0")throw Error(r(527,W0,"19.2.0"));X.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var nS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{ii=Dc.inject(nS),en=Dc}catch{}}return Rl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=ay,f=oy,g=ly;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=q0(t,1,!1,null,null,a,o,null,h,f,g,J0),t[Si]=n.current,_d(t),new Ld(n)},Rl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ay,g=oy,E=ly,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=q0(t,1,!0,n,a??null,o,h,N,f,g,E,J0),n.context=B0(null),a=n.current,o=Un(),o=xr(o),h=Us(o),h.callback=null,Ps(a,h,o),a=o,n.current.lanes=a,Sr(n,a),Pi(n),t[Si]=n.current,_d(t),new Cc(n)},Rl.version="19.2.0",Rl}var u_;function fS(){if(u_)return zd.exports;u_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zd.exports=hS(),zd.exports}var dS=fS();const mS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),c_=s=>{const e=pS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Jv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),gS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var yS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _S=Re.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...y},v)=>Re.createElement("svg",{ref:v,...yS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Jv("lucide",l),...!c&&!gS(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>Re.createElement(_,S)),...Array.isArray(c)?c:[c]]));const Je=(s,e)=>{const i=Re.forwardRef(({className:r,...l},c)=>Re.createElement(_S,{ref:c,iconNode:e,className:Jv(`lucide-${mS(c_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=c_(s),i};const vS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bS=Je("arrow-left",vS);const ES=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h_=Je("ban",ES);const TS=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],f_=Je("box",TS);const SS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Fd=Je("briefcase",SS);const AS=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],xS=Je("calendar-plus",AS);const wS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oc=Je("calendar",wS);const RS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Gd=Je("camera",RS);const NS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],IS=Je("chart-column",NS);const CS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],DS=Je("chart-pie",CS);const OS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MS=Je("check",OS);const VS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kS=Je("chevron-right",VS);const jS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],LS=Je("chevron-left",jS);const US=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d_=Je("circle-alert",US);const PS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zS=Je("circle-check-big",PS);const qS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],m_=Je("clipboard-list",qS);const BS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HS=Je("download",BS);const FS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GS=Je("eye",FS);const QS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],p_=Je("history",QS);const YS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],KS=Je("log-in",YS);const XS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$S=Je("log-out",XS);const ZS=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],JS=Je("monitor-play",ZS);const WS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],g_=Je("pen-tool",WS);const eA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tA=Je("refresh-cw",eA);const nA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mc=Je("save",nA);const iA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sA=Je("search",iA);const rA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y_=Je("settings",rA);const aA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oA=Je("trending-up",aA);const lA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uA=Je("triangle-alert",lA);const cA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hA=Je("user",cA);const fA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dA=Je("users",fA);const mA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],__=Je("utensils",mA);const pA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],v_=Je("video",pA);const gA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qd=Je("x",gA),yA=()=>{};var b_={};const Wv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},_A=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,S=c>>2,A=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(M=64)),r.push(i[S],i[A],i[M],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Wv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):_A(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new vA;const M=c<<2|y>>4;if(r.push(M),_!==64){const Q=y<<4&240|_>>2;if(r.push(Q),A!==64){const W=_<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(s){const e=Wv(s);return eb.encodeByteArray(e,!0)},$c=function(s){return bA(s).replace(/\./g,"")},tb=function(s){try{return eb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const TA=()=>EA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof b_>"u")return;const s=b_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},AA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&tb(s[1]);return e&&JSON.parse(e)},gh=()=>{try{return yA()||TA()||SA()||AA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},nb=s=>gh()?.emulatorHosts?.[s],xA=s=>{const e=nb(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},ib=()=>gh()?.config,sb=s=>gh()?.[`_${s}`];class wA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rb(s){return(await fetch(s,{credentials:"include"})).ok}function RA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$c(JSON.stringify(i)),$c(JSON.stringify(d)),""].join(".")}const Vl={};function NA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?s.emulator.push(e):s.prod.push(e);return s}function IA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let E_=!1;function ab(s,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Vl[s]===e||Vl[s]||E_)return;Vl[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=NA().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{E_=!0,d()},M}function S(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=IA(r),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),oe=i("learnmore"),se=document.getElementById(oe)||document.createElement("a"),be=i("preprendIcon"),Me=document.getElementById(be)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ae=M.element;y(Ae),S(se,oe);const st=_();v(Me,be),Ae.append(Me,W,se,st),document.body.appendChild(Ae)}c?(W.innerText="Preview backend disconnected.",Me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function DA(){const s=gh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function VA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kA(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function UA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const PA="FirebaseError";class Ss extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=PA,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?zA(c,r):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Ss(l,y,r)}}function zA(s,e){return s.replace(qA,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const qA=/\{\$([^}]+)}/g;function BA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(T_(c)&&T_(d)){if(!sa(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function T_(s){return s!==null&&typeof s=="object"}function $l(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HA(s,e){const i=new FA(s,e);return i.subscribe.bind(i)}class FA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");GA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Yd),l.error===void 0&&(l.error=Yd),l.complete===void 0&&(l.complete=Yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Yd(){}function Wt(s){return s&&s._delegate?s._delegate:s}class ra{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jr="[DEFAULT]";class QA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new wA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(s){return s===Jr?void 0:s}function KA(s){return s.instantiationMode==="EAGER"}class XA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const $A={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},ZA=Ge.INFO,JA={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},WA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=JA[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=ZA,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const ex=(s,e)=>e.some(i=>s instanceof i);let S_,A_;function tx(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nx(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ob=new WeakMap,cm=new WeakMap,lb=new WeakMap,Kd=new WeakMap,Um=new WeakMap;function ix(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(lr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ob.set(i,s)}).catch(()=>{}),Um.set(e,s),e}function sx(s){if(cm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});cm.set(s,e)}let hm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return cm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function rx(s){hm=s(hm)}function ax(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Xd(this),e,...i);return lb.set(r,e.sort?e.sort():[e]),lr(r)}:nx().includes(s)?function(...e){return s.apply(Xd(this),e),lr(ob.get(this))}:function(...e){return lr(s.apply(Xd(this),e))}}function ox(s){return typeof s=="function"?ax(s):(s instanceof IDBTransaction&&sx(s),ex(s,tx())?new Proxy(s,hm):s)}function lr(s){if(s instanceof IDBRequest)return ix(s);if(Kd.has(s))return Kd.get(s);const e=ox(s);return e!==s&&(Kd.set(s,e),Um.set(e,s)),e}const Xd=s=>Um.get(s);function lx(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=lr(d);return r&&d.addEventListener("upgradeneeded",v=>{r(lr(d.result),v.oldVersion,v.newVersion,lr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const ux=["get","getKey","getAll","getAllKeys","count"],cx=["put","add","delete","clear"],$d=new Map;function x_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=cx.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ux.includes(i)))return;const c=async function(d,...y){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&v.done]))[0]};return $d.set(e,c),c}rx(s=>({...s,get:(e,i,r)=>x_(e,i)||s.get(e,i,r),has:(e,i)=>!!x_(e,i)||s.has(e,i)}));class hx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fx(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function fx(s){return s.getComponent()?.type==="VERSION"}const fm="@firebase/app",w_="0.14.6";const _s=new Lm("@firebase/app"),dx="@firebase/app-compat",mx="@firebase/analytics-compat",px="@firebase/analytics",gx="@firebase/app-check-compat",yx="@firebase/app-check",_x="@firebase/auth",vx="@firebase/auth-compat",bx="@firebase/database",Ex="@firebase/data-connect",Tx="@firebase/database-compat",Sx="@firebase/functions",Ax="@firebase/functions-compat",xx="@firebase/installations",wx="@firebase/installations-compat",Rx="@firebase/messaging",Nx="@firebase/messaging-compat",Ix="@firebase/performance",Cx="@firebase/performance-compat",Dx="@firebase/remote-config",Ox="@firebase/remote-config-compat",Mx="@firebase/storage",Vx="@firebase/storage-compat",kx="@firebase/firestore",jx="@firebase/ai",Lx="@firebase/firestore-compat",Ux="firebase",Px="12.6.0";const dm="[DEFAULT]",zx={[fm]:"fire-core",[dx]:"fire-core-compat",[px]:"fire-analytics",[mx]:"fire-analytics-compat",[yx]:"fire-app-check",[gx]:"fire-app-check-compat",[_x]:"fire-auth",[vx]:"fire-auth-compat",[bx]:"fire-rtdb",[Ex]:"fire-data-connect",[Tx]:"fire-rtdb-compat",[Sx]:"fire-fn",[Ax]:"fire-fn-compat",[xx]:"fire-iid",[wx]:"fire-iid-compat",[Rx]:"fire-fcm",[Nx]:"fire-fcm-compat",[Ix]:"fire-perf",[Cx]:"fire-perf-compat",[Dx]:"fire-rc",[Ox]:"fire-rc-compat",[Mx]:"fire-gcs",[Vx]:"fire-gcs-compat",[kx]:"fire-fst",[Lx]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[Ux]:"fire-js-all"};const Zc=new Map,qx=new Map,mm=new Map;function R_(s,e){try{s.container.addComponent(e)}catch(i){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function uo(s){const e=s.name;if(mm.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,s);for(const i of Zc.values())R_(i,s);for(const i of qx.values())R_(i,s);return!0}function Pm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function pi(s){return s==null?!1:s.settings!==void 0}const Bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Xl("app","Firebase",Bx);class Hx{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const vo=Px;function ub(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:dm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ur.create("bad-app-name",{appName:String(l)});if(i||(i=ib()),!i)throw ur.create("no-options");const c=Zc.get(l);if(c){if(sa(i,c.options)&&sa(r,c.config))return c;throw ur.create("duplicate-app",{appName:l})}const d=new XA(l);for(const v of mm.values())d.addComponent(v);const y=new Hx(i,r,d);return Zc.set(l,y),y}function cb(s=dm){const e=Zc.get(s);if(!e&&s===dm&&ib())return ub();if(!e)throw ur.create("no-app",{appName:s});return e}function cr(s,e,i){let r=zx[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}uo(new ra(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Fx="firebase-heartbeat-database",Gx=1,zl="firebase-heartbeat-store";let Zd=null;function hb(){return Zd||(Zd=lx(Fx,Gx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Zd}async function Qx(s){try{const i=(await hb()).transaction(zl),r=await i.objectStore(zl).get(fb(s));return await i.done,r}catch(e){if(e instanceof Ss)_s.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e?.message});_s.warn(i.message)}}}async function N_(s,e){try{const r=(await hb()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,fb(s)),await r.done}catch(i){if(i instanceof Ss)_s.warn(i.message);else{const r=ur.create("idb-set",{originalErrorMessage:i?.message});_s.warn(r.message)}}}function fb(s){return`${s.name}!${s.options.appId}`}const Yx=1024,Kx=30;class Xx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Zx(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Kx){const l=Jx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I_(),{heartbeatsToSend:i,unsentEntries:r}=$x(this._heartbeatsCache.heartbeats),l=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return _s.warn(e),""}}}function I_(){return new Date().toISOString().substring(0,10)}function $x(s,e=Yx){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),C_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),C_(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Zx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?UA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Qx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function C_(s){return $c(JSON.stringify({version:2,heartbeats:s})).length}function Jx(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Wx(s){uo(new ra("platform-logger",e=>new hx(e),"PRIVATE")),uo(new ra("heartbeat",e=>new Xx(e),"PRIVATE")),cr(fm,w_,s),cr(fm,w_,"esm2020"),cr("fire-js","")}Wx("");var e2="firebase",t2="12.6.0";cr(e2,t2,"app");var D_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,db;(function(){var s;function e(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,O,j){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return w.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],O=C.g[2];let j=C.g[3],R;R=w+(j^I&(O^j))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=j+(O^w&(I^O))+V[1]+3905402710&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(I^j&(w^I))+V[2]+606105819&4294967295,O=j+(R<<17&4294967295|R>>>15),R=I+(w^O&(j^w))+V[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(j^I&(O^j))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=j+(O^w&(I^O))+V[5]+1200080426&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(I^j&(w^I))+V[6]+2821735955&4294967295,O=j+(R<<17&4294967295|R>>>15),R=I+(w^O&(j^w))+V[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(j^I&(O^j))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=j+(O^w&(I^O))+V[9]+2336552879&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(I^j&(w^I))+V[10]+4294925233&4294967295,O=j+(R<<17&4294967295|R>>>15),R=I+(w^O&(j^w))+V[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(j^I&(O^j))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=j+(O^w&(I^O))+V[13]+4254626195&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(I^j&(w^I))+V[14]+2792965006&4294967295,O=j+(R<<17&4294967295|R>>>15),R=I+(w^O&(j^w))+V[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(O^j&(I^O))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=j+(I^O&(w^I))+V[6]+3225465664&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(j^w))+V[11]+643717713&4294967295,O=j+(R<<14&4294967295|R>>>18),R=I+(j^w&(O^j))+V[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(I^O))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=j+(I^O&(w^I))+V[10]+38016083&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(j^w))+V[15]+3634488961&4294967295,O=j+(R<<14&4294967295|R>>>18),R=I+(j^w&(O^j))+V[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(I^O))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=j+(I^O&(w^I))+V[14]+3275163606&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(j^w))+V[3]+4107603335&4294967295,O=j+(R<<14&4294967295|R>>>18),R=I+(j^w&(O^j))+V[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(I^O))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=j+(I^O&(w^I))+V[2]+4243563512&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(j^w))+V[7]+1735328473&4294967295,O=j+(R<<14&4294967295|R>>>18),R=I+(j^w&(O^j))+V[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(I^O^j)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=j+(w^I^O)+V[8]+2272392833&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^I)+V[11]+1839030562&4294967295,O=j+(R<<16&4294967295|R>>>16),R=I+(O^j^w)+V[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^j)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=j+(w^I^O)+V[4]+1272893353&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^I)+V[7]+4139469664&4294967295,O=j+(R<<16&4294967295|R>>>16),R=I+(O^j^w)+V[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^j)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=j+(w^I^O)+V[0]+3936430074&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^I)+V[3]+3572445317&4294967295,O=j+(R<<16&4294967295|R>>>16),R=I+(O^j^w)+V[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^j)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=j+(w^I^O)+V[12]+3873151461&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^I)+V[15]+530742520&4294967295,O=j+(R<<16&4294967295|R>>>16),R=I+(O^j^w)+V[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(O^(I|~j))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=j+(I^(w|~O))+V[7]+1126891415&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~I))+V[14]+2878612391&4294967295,O=j+(R<<15&4294967295|R>>>17),R=I+(j^(O|~w))+V[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~j))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=j+(I^(w|~O))+V[3]+2399980690&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~I))+V[10]+4293915773&4294967295,O=j+(R<<15&4294967295|R>>>17),R=I+(j^(O|~w))+V[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~j))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=j+(I^(w|~O))+V[15]+4264355552&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~I))+V[6]+2734768916&4294967295,O=j+(R<<15&4294967295|R>>>17),R=I+(j^(O|~w))+V[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~j))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=j+(I^(w|~O))+V[11]+3174756917&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~I))+V[2]+718787259&4294967295,O=j+(R<<15&4294967295|R>>>17),R=I+(j^(O|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<w;){if(O==0)for(;j<=I;)l(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<w;)if(V[O++]=C.charCodeAt(j++),O==this.blockSize){l(this,V),O=0;break}}else for(;j<w;)if(V[O++]=C[j++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[w++]=this.g[I]>>>V&255;return C};function c(C,w){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let V=!0;for(let O=C.length-1;O>=0;O--){const j=C[O]|0;V&&j==w||(I[O]=j,V=!1)}this.g=I}var y={};function v(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return se(_(-C));const w=[];let I=1;for(let V=0;C>=I;V++)w[V]=C/I|0,I*=4294967296;return new d(w,0)}function S(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return se(S(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=A;for(let j=0;j<C.length;j+=8){var O=Math.min(8,C.length-j);const R=parseInt(C.substring(j,j+O),w);O<8?(O=_(Math.pow(w,O)),V=V.j(O).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=v(0),M=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(oe(this))return-se(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(oe(this))return"-"+se(this).toString(C);const w=_(Math.pow(C,6));var I=this;let V="";for(;;){const O=st(I,w).g;I=be(I,O.j(w));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,W(I))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function oe(C){return C.h==-1}s.l=function(C){return C=be(this,C),oe(C)?-1:W(C)?0:1};function se(C){const w=C.g.length,I=[];for(let V=0;V<w;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return oe(this)?se(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let O=0;O<=w;O++){let j=V+(this.i(O)&65535)+(C.i(O)&65535),R=(j>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=R>>>16,j&=65535,R&=65535,I[O]=R<<16|j}return new d(I,I[I.length-1]&-2147483648?-1:0)};function be(C,w){return C.add(se(w))}s.j=function(C){if(W(this)||W(C))return A;if(oe(this))return oe(C)?se(this).j(se(C)):se(se(this).j(C));if(oe(C))return se(this.j(se(C)));if(this.l(Q)<0&&C.l(Q)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const j=this.i(V)>>>16,R=this.i(V)&65535,ue=C.i(O)>>>16,me=C.i(O)&65535;I[2*V+2*O]+=R*me,Me(I,2*V+2*O),I[2*V+2*O+1]+=j*me,Me(I,2*V+2*O+1),I[2*V+2*O+1]+=R*ue,Me(I,2*V+2*O+1),I[2*V+2*O+2]+=j*ue,Me(I,2*V+2*O+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function Me(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function Ae(C,w){this.g=C,this.h=w}function st(C,w){if(W(w))throw Error("division by zero");if(W(C))return new Ae(A,A);if(oe(C))return w=st(se(C),w),new Ae(se(w.g),se(w.h));if(oe(w))return w=st(C,se(w)),new Ae(se(w.g),w.h);if(C.g.length>30){if(oe(C)||oe(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=w;V.l(C)<=0;)I=dt(I),V=dt(V);var O=Ke(I,1),j=Ke(V,1);for(V=Ke(V,2),I=Ke(I,2);!W(V);){var R=j.add(V);R.l(C)<=0&&(O=O.add(I),j=R),V=Ke(V,1),I=Ke(I,1)}return w=be(C,O.j(w)),new Ae(O,w)}for(O=A;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(I),R=j.j(w);oe(R)||R.l(C)>0;)I-=V,j=_(I),R=j.j(w);W(j)&&(j=M),O=O.add(j),C=be(C,R)}return new Ae(O,C)}s.B=function(C){return st(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function dt(C){const w=C.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Ke(C,w){const I=w>>5;w%=32;const V=C.g.length-I,O=[];for(let j=0;j<V;j++)O[j]=w>0?C.i(j+I)>>>w|C.i(j+I+1)<<32-w:C.i(j+I);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,db=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,hr=d}).apply(typeof D_<"u"?D_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mb,Cl,pb,zc,pm,gb,yb,_b;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var b=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function S(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var re=Array(arguments.length-2),je=2;je<arguments.length;je++)re[je-2]=arguments[je];return m.prototype[U].apply(T,re)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const H=U.length||0;u.length=b+H;for(let re=0;re<H;re++)u[b+re]=U[re]}else u.push(U)}}class oe{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){d.setTimeout(()=>{throw u},0)}function be(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,b){const T=Ae.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Ae=new oe(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Ke=!1,C=new Me,w=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(I)}};function I(){for(var u;u=be();){try{u.h.call(u.g)}catch(b){se(b)}var m=Ae;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ue,O),ue.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),L=0;function X(u,m,b,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=U,this.key=++L,this.da=this.fa=!1}function ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ne(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function pe(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function x(u){const m={};for(const b in u)m[b]=u[b];return m}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let H=0;H<q.length;H++)b=q[H],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function ee(u){this.src=u,this.g={},this.h=0}ee.prototype.add=function(u,m,b,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const re=ge(u,m,T,U);return re>-1?(m=u[re],b||(m.fa=!1)):(m=new X(m,this.src,H,!!T,U),m.fa=b,u.push(m)),m};function he(u,m){const b=m.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(ie(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function ge(u,m,b,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==T)return U}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Ee={};function Ne(u,m,b,T,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Ne(u,m[H],b,T,U);return null}return b=te(b),u&&u[me]?u.J(m,b,y(T)?!!T.capture:!1,U):Ot(u,m,b,!1,T,U)}function Ot(u,m,b,T,U,H){if(!m)throw Error("Invalid event type");const re=y(U)?!!U.capture:!!U;let je=We(u);if(je||(u[ve]=je=new ee(u)),b=je.add(m,b,T,re,H),b.proxy)return b;if(T=Mt(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)j||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(xe(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Mt(){function u(b){return m.call(u.src,u.listener,b)}const m=Ce;return u}function ae(u,m,b,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)ae(u,m[H],b,T,U);else T=y(T)?!!T.capture:!!T,b=te(b),u&&u[me]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],b=ge(m,b,T,U),b>-1&&(ie(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=We(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ge(m,b,T,U)),(b=u>-1?m[u]:null)&&Ie(b))}function Ie(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])he(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(xe(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=We(m))?(he(b,u),b.h==0&&(b.src=null,m[ve]=null)):ie(u)}}}function xe(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function Ce(u,m){if(u.da)u=!0;else{m=new ue(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&Ie(u),u=b.call(T,m)}return u}function We(u){return u=u[ve],u instanceof ee?u:null}var Xe="__closure_events_fn_"+(Math.random()*1e9>>>0);function te(u){return typeof u=="function"?u:(u[Xe]||(u[Xe]=function(m){return u.handleEvent(m)}),u[Xe])}function Te(){V.call(this),this.i=new ee(this),this.M=this,this.G=null}A(Te,V),Te.prototype[me]=!0,Te.prototype.removeEventListener=function(u,m,b,T){ae(this,u,m,b,T)};function Ue(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),$(m,U)}U=!0;let H,re;if(b)for(re=b.length-1;re>=0;re--)H=m.g=b[re],U=Kt(H,T,!0,m)&&U;if(H=m.g=u,U=Kt(H,T,!0,m)&&U,U=Kt(H,T,!1,m)&&U,b)for(re=0;re<b.length;re++)H=m.g=b[re],U=Kt(H,T,!1,m)&&U}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)ie(b[T]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},Te.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function Kt(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const re=m[H];if(re&&!re.da&&re.capture==b){const je=re.listener,Nt=re.ha||re.src;re.fa&&he(u.i,re),U=je.call(Nt,T)!==!1&&U}}return U&&!T.defaultPrevented}function St(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Et(u){u.g=St(()=>{u.g=null,u.i&&(u.i=!1,Et(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Vt extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(u){V.call(this),this.h=u,this.g={}}A(ni,V);var Ki=[];function In(u){ne(u.g,function(m,b){this.g.hasOwnProperty(b)&&Ie(m)},u),u.g={}}ni.prototype.N=function(){ni.Z.N.call(this),In(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,wo=d.JSON.parse,ha=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function fa(){}function da(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){O.call(this,"d")}A(en,O);function qn(){O.call(this,"c")}A(qn,O);var Rt={},ou=null;function ma(){return ou=ou||new Te}Rt.Ia="serverreachability";function lu(u){O.call(this,Rt.Ia,u)}A(lu,O);function vi(u){const m=ma();Ue(m,new lu(m))}Rt.STAT_EVENT="statevent";function Tr(u,m){O.call(this,Rt.STAT_EVENT,u),this.stat=m}A(Tr,O);function kt(u){const m=ma();Ue(m,new Tr(m,u))}Rt.Ja="timingevent";function bi(u,m){O.call(this,Rt.Ja,u),this.size=m}A(bi,O);function Ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function qh(u,m,b,T,U,H){u.info(function(){if(u.g)if(H){var re="",je=H.split("&");for(let nt=0;nt<je.length;nt++){var Nt=je[nt].split("=");if(Nt.length>1){const vt=Nt[0];Nt=Nt[1];const Gn=vt.split("_");re=Gn.length>=2&&Gn[1]=="type"?re+(vt+"="+Nt+"&"):re+(vt+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+b+`
`+re})}function uu(u,m,b,T,U,H,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+b+`
`+H+" "+re})}function Ti(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,b)+(T?" "+T:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var b=H[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<T.length;re++)T[re]=""}}}}return zn(H)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function xr(){}A(xr,fa),xr.prototype.g=function(){return new XMLHttpRequest},No=new xr;function Xi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ri(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var jt={},Xt={};function Si(u,m,b){u.M=1,u.A=wr(Ut(m)),u.u=b,u.R=!0,pa(u,null)}function pa(u,m){u.F=Date.now(),Ai(u),u.B=Ut(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),va(b.i,"t",T),u.C=0,b=u.j.L,u.h=new ai,u.g=xu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Vt(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ki[0]=U.toString()),U=Ki);for(let H=0;H<U.length;H++){const re=Ne(b,U[H],T||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vi(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{const je=ui(this.g),Nt=this.g.ya(),nt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||je!=4||Nt==7||(Nt==8||nt<=0?vi(3):vi(2)),xi(this);var m=this.g.ca();this.X=m;var b=Hh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,je,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)Ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,kt(12),Cn(this),Bn(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<b.length;)if(vt=fu(this,b),vt==Xt){je==4&&(this.m=4,kt(14),u=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==jt){this.m=4,kt(15),Ti(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Ti(this.i,this.l,vt,null),wi(this,vt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||b.length!=0||this.h.h||(this.m=1,kt(16),u=!1),this.o=this.o&&u,!u)Ti(this.i,this.l,b,"[Invalid Chunked Response]"),Cn(this),Bn(this);else if(b.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ho(re),re.P=!0,kt(11))}}else Ti(this.i,this.l,b,null),wi(this,b);je==4&&Cn(this),this.o&&!this.K&&(je==4?Eu(this.j,this):(this.o=!1,Ai(this)))}else Zi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Cn(this),Bn(this)}}}catch{}finally{}};function Hh(u){if(!hu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let b="";const T=m.length,U=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,b+=u.h.i.decode(m[H],{stream:!(U&&H==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?Xt:(b=Number(m.substring(b,T)),isNaN(b)?jt:(T+=1,T+b>m.length?Xt:(m=m.slice(T,T+b),u.C=T+b,m)))}ri.prototype.cancel=function(){this.K=!0,Cn(this)};function Ai(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ei(_(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(vi(),kt(17)),Cn(this),this.m=2,Bn(this)):ga(this,this.T-u)};function Bn(u){u.j.I==0||u.K||Eu(u.j,u)}function Cn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,In(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ni(b.h,u))){if(!u.L&&Ni(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),Ds(b);else break e;Mr(b),kt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ei(_(b.Va,b),6e3));Ri(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vi(b,11)}else if((u.L||b.g==u)&&Aa(b),!R(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let nt=U[m];const vt=nt[0];if(!(vt<=b.K))if(b.K=vt,nt=nt[1],b.I==2)if(nt[0]=="c"){b.M=nt[1],b.ba=nt[2];const Gn=nt[3];Gn!=null&&(b.ka=Gn,b.j.info("VER="+b.ka));const ki=nt[4];ki!=null&&(b.za=ki,b.j.info("SVER="+b.za));const ci=nt[5];ci!=null&&typeof ci=="number"&&ci>0&&(T=1.5*ci,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const hi=u.g;if(hi){const Vr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var H=T.h;H.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Do(H,H.h),H.h=null))}if(T.G){const xa=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(T.wa=xa,at(T.J,T.G,xa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var re=u;if(T.na=Au(T,T.L?T.ba:null,T.W),re.L){Oo(T.h,re);var je=re,Nt=T.O;Nt&&(je.H=Nt),je.D&&(xi(je),Ai(je)),T.g=re}else vu(T);b.i.length>0&&Mi(b)}else nt[0]!="stop"&&nt[0]!="close"||Vi(b,7);else b.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Vi(b,7):qo(b):nt[0]!="noop"&&b.l&&b.l.qa(nt),b.A=0)}}vi(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Oo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return Q(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,H=null;T>=0?(U=u[b].substring(0,T),H=u[b].substring(T+1)):U=u[b],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Vo(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,$t(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),As(this,m[4]),this.h=Ii(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,_a,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,_a,!0),"@"),u.push(Xi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Rr(b,b.charAt(0)=="/"?ko:mu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Rr(b,pu)),u.join("")},Dn.prototype.resolve=function(u){const m=Ut(this);let b=!!u.j;b?$t(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)As(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let re=0;re<U.length;){const je=U[re++];je=="."?T&&re==U.length&&H.push(""):je==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&re==U.length&&H.push("")):(H.push(je),T=!0)}T=H.join("/")}else T=U}return b?m.h=T:b=u.i.toString()!=="",b?Vo(m,yu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ut(u){return new Dn(u)}function $t(u,m,b){u.j=b?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vo(u,m,b){m instanceof ws?(u.i=m,ba(u.i,u.l)):(b||(m=Rr(m,xs)),u.i=new ws(m,u.l))}function at(u,m,b){u.i.set(m,b)}function wr(u){return at(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,mu=/[#\?:]/g,ko=/[#\?]/g,xs=/[#\?@]/g,pu=/#/g;function ws(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=ws.prototype,s.add=function(u,m){bn(this),this.i=null,u=Rs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function gu(u,m){bn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jo(u,m){return bn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){bn(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Lo(u,m){bn(u);let b=[];if(typeof m=="string")jo(u,m)&&(b=b.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return bn(this),this.i=null,u=Rs(this,u),jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Lo(this,u),u.length>0?String(u[0]):m):m};function va(u,m,b){gu(u,m),b.length>0&&(u.i=null,u.g.set(Rs(u,m),Q(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const U=Xi(b);b=Lo(this,b);for(let H=0;H<b.length;H++){let re=U;b[H]!==""&&(re+="="+Xi(b[H])),u.push(re)}}return this.i=u.join("&")};function yu(u){const m=new ws;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(gu(this,T),va(this,U,b))},u)),u.j=m}function oi(u,m){const b=new si;if(d.Image){const T=new Image;T.onload=S(Hn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Hn,b,"TestLoadImage: error",!1,m,T),T.onabort=S(Hn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Hn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Uo(u,m){const b=new si,T=new AbortController,U=setTimeout(()=>{T.abort(),Hn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Hn(b,"TestPingServer: ok",!0,m):Hn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Hn(b,"TestPingServer: error",!1,m)})}function Hn(u,m,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Ns(){this.g=new ha}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ci,fa),Ci.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Nr,Te),s=Nr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,li(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):li(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return ne(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Ir(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Fn(b),typeof u=="string"?b!=null&&Xi(b):at(u,m,b))}function ut(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ut,Te);var Di=/^https?$/i,Po=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Cr(this,H);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())b.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of b)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Cr(this,H)}};function Cr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),$i(u)}function zo(u){u.A||(u.A=!0,Ue(u,"complete"),Ue(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ue(this,"complete"),Ue(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ue(u,"readystatechange"),ui(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=H===0){let re=String(u.D).match(du)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),T=!Di.test(re?re.toLowerCase():"")}b=T}if(b)Ue(u,"complete"),Ue(u,"success");else{u.o=6;try{var U=ui(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",zo(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Ue(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wo(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var b=cu(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=m[U]||[];m[U]=H,H.push(b)}pe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Cs(u){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Cs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){kt(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Au(this,null,this.W),Mi(this)};function qo(u){if(Ta(u),u.I==3){var m=u.V++,b=Ut(u.J);if(at(b,"SID",u.M),at(b,"RID",m),at(b,"TYPE","terminate"),Or(u,b),m=new ri(u,u.j,m),m.M=2,m.A=wr(Ut(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}Su(u)}function Ds(u){u.g&&(Ho(u),u.g.cancel(),u.g=null)}function Ta(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||w(),Ke||(dt(),Ke=!0),C.add(m,u),u.D=0}}function Sa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ei(_(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ri(this,this.j,u);let H=this.o;if(this.U&&(H?(H=x(H),$(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=_u(this,U,m),b=Ut(this.J),at(b,"RID",u),at(b,"CVER",22),this.G&&at(b,"X-HTTP-Session-Id",this.G),Or(this,b),H&&(this.R?m="headers="+Xi(Fn(H))+"&"+m:this.u&&Ir(b,this.u,H)),Do(this.h,U),this.Ra&&at(b,"TYPE","init"),this.S?(at(b,"$req",m),at(b,"SID","null"),U.U=!0,Si(U,b,null)):Si(U,b,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||Co(this.h)||Bo(this))};function Bo(u,m){var b;m?b=m.l:b=u.V++;const T=Ut(u.J);at(T,"SID",u.M),at(T,"RID",b),at(T,"AID",u.K),Or(u,T),u.u&&u.o&&Ir(T,u.u,u.o),b=new ri(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,b),Si(b,T,m)}function Or(u,m){u.H&&ne(u.H,function(b,T){at(m,T,b)}),u.l&&ne({},function(b,T){at(m,T,b)})}function _u(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let je=-1;for(;;){const Nt=["count="+b];je==-1?b>0?(je=U[0].g,Nt.push("ofs="+je)):je=0:Nt.push("ofs="+je);let nt=!0;for(let vt=0;vt<b;vt++){var H=U[vt].g;const Gn=U[vt].map;if(H-=je,H<0)je=Math.max(0,U[vt].g-100),nt=!1;else try{H="req"+H+"_"||"";try{var re=Gn instanceof Map?Gn:Object.entries(Gn);for(const[ki,ci]of re){let hi=ci;y(ci)&&(hi=zn(ci)),Nt.push(H+ki+"="+encodeURIComponent(hi))}}catch(ki){throw Nt.push(H+"type="+encodeURIComponent("_badmap")),ki}}catch{T&&T(Gn)}}if(nt){re=Nt.join("&");break e}}re=void 0}return u=u.i.splice(0,b),m.G=u,re}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||w(),Ke||(dt(),Ke=!0),C.add(m,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ei(_(u.Da,u),Tu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Ds(this),bu(this))};function Ho(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ut(u.na);at(m,"RID","rpc"),at(m,"SID",u.M),at(m,"AID",u.K),at(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&at(m,"TO",u.ia),at(m,"TYPE","xmlhttp"),Or(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=wr(Ut(m)),b.u=null,b.R=!0,pa(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Mr(this),kt(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var b=null;if(u.g==m){Aa(u),Ho(u),u.g=null;var T=2}else if(Ni(u.h,m))b=m.G,Oo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ma(),Ue(T,new bi(T,b)),Mi(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Sa(u,m)||T==2&&Mr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function Tu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new Dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$t(T,"https"),wr(T),U?oi(T.toString(),b):Uo(T.toString(),b)}else kt(2);u.I=0,u.l&&u.l.pa(m),Su(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,b){var T=b instanceof Dn?Ut(b):new Dn(b);if(T.g!="")m&&(T.g=m+"."+T.g),As(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new Dn(null);T&&$t(H,T),m&&(H.g=m),U&&As(H,U),b&&(H.h=b),T=H}return b=u.G,m=u.wa,b&&m&&at(T,b,m),at(T,"VER",u.ka),Or(u,T),T}function xu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ci({ab:b})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){Te.call(this),this.g=new Cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}A(gn,Te),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){qo(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=zn(u),u=b);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Mi(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,gn.Z.N.call(this)};function Ru(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ru,en);function Nu(){qn.call(this),this.status=1}A(Nu,qn);function Ji(u){this.g=u}A(Ji,wu),Ji.prototype.ra=function(){Ue(this.g,"a")},Ji.prototype.qa=function(u){Ue(this.g,new Ru(u))},Ji.prototype.pa=function(u){Ue(this.g,new Nu)},Ji.prototype.oa=function(){Ue(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,_b=function(){return new Os},yb=function(){return ma()},gb=Rt,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,zc=Ar,Ro.COMPLETE="complete",pb=Ro,da.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Cl=da,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,mb=ut}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore",M_="4.9.2";class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let bo="12.3.0";const aa=new Lm("@firebase/firestore");function to(){return aa.logLevel}function ce(s,...e){if(aa.logLevel<=Ge.DEBUG){const i=e.map(zm);aa.debug(`Firestore (${bo}): ${s}`,...i)}}function vs(s,...e){if(aa.logLevel<=Ge.ERROR){const i=e.map(zm);aa.error(`Firestore (${bo}): ${s}`,...i)}}function co(s,...e){if(aa.logLevel<=Ge.WARN){const i=e.map(zm);aa.warn(`Firestore (${bo}): ${s}`,...i)}}function zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function we(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,vb(s,r,i)}function vb(s,e,i){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw vs(r),new Error(r)}function rt(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||vb(e,l,r)}function ke(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class bb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class i2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class s2{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){rt(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},y=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new bb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class r2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new r2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){rt(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(rt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function l2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=l2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Qe(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Jd(l)===Jd(c)?Qe(l,c):Jd(l)?1:-1}return Qe(s.length,e.length)}const u2=55296,c2=57343;function Jd(s){const e=s.charCodeAt(0);return e>=u2&&e<=c2}function ho(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const k_="__name__";class zi{constructor(e,i,r){i===void 0?i=0:i>e.length&&we(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&we(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=zi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const r=zi.isNumericId(e),l=zi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?zi.extractNumericId(e).compare(zi.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class pt extends zi{construct(e,i,r){return new pt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new pt(i)}static emptyPath(){return new pt([])}}const h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends zi{construct(e,i,r){return new un(e,i,r)}static isValidIdentifier(e){return h2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new un([k_])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(r+=y,l++):(c(),l++)}if(c(),d)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(pt.fromString(e))}static fromName(e){return new _e(pt.fromString(e).popFirst(5))}static empty(){return new _e(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new pt(e.slice()))}}function Eb(s,e,i){if(!i)throw new le(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function f2(s,e,i,r){if(e===!0&&r===!0)throw new le(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function j_(s){if(!_e.isDocumentKey(s))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function L_(s){if(_e.isDocumentKey(s))throw new le(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Tb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function yh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function Nn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=yh(s);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Zl(s,e){if(!Tb(s))throw new le(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new le(K.INVALID_ARGUMENT,i);return!0}const U_=-62135596800,P_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*P_);return new _t(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Gt("string",_t._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new _t(0,0))}static max(){return new Oe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function d2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Oe.fromTimestamp(r===1e9?new _t(i+1,0):new _t(i,r));return new dr(l,_e.empty(),e)}function m2(s){return new dr(s.readTime,s.key,ql)}class dr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new dr(Oe.min(),_e.empty(),ql)}static max(){return new dr(Oe.max(),_e.empty(),ql)}}function p2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}const g2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==g2)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,r)=>{i(e)}))}static reject(e){return new J(((i,r)=>{r(e)}))}static waitFor(e){return new J(((i,r)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(v=>r(v)))})),d=!0,c===l&&i()}))}static or(e){let i=J.resolve(!1);for(const r of e)i=i.next((l=>l?J.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new J(((r,l)=>{const c=e.length,d=new Array(c);let y=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++y,y===c&&r(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new J(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function _2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class _h{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_h.ce=-1;const Bm=-1;function vh(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function v2(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Sb="";function b2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=z_(e)),e=E2(s.get(i),e);return z_(e)}function E2(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case Sb:i+="";break;default:i+=c}}return i}function z_(s){return s+Sb+""}function q_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Ab(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Tt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new Tt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new on(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Yt(this.comparator);return i.data=e,i}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Yt(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class xb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new xb("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(rt(!!s,39018),typeof s=="string"){let e=0;const i=T2.exec(s);if(rt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(s.seconds),nanos:Dt(s.nanos)}}function Dt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}const wb="server_timestamp",Rb="__type__",Nb="__previous_value__",Ib="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[Rb]?.stringValue===wb}function bh(s){const e=s.mapValue.fields[Nb];return Hm(e)?bh(e):e}function Bl(s){const e=mr(s.mapValue.fields[Ib].timestampValue);return new _t(e.seconds,e.nanos)}class S2{constructor(e,i,r,l,c,d,y,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Wc="(default)";class Hl{constructor(e,i){this.projectId=e,this.database=i||Wc}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}const Cb="__type__",A2="__max__",jc={mapValue:{}},Db="__vector__",eh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:w2(s)?9007199254740991:x2(s)?10:11:we(28295,{value:s})}function Qi(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bl(s).isEqual(Bl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),y=mr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return pr(l.bytesValue).isEqual(pr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Dt(l.geoPointValue.latitude)===Dt(c.geoPointValue.latitude)&&Dt(l.geoPointValue.longitude)===Dt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Dt(l.integerValue)===Dt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Dt(l.doubleValue),y=Dt(c.doubleValue);return d===y?Jc(d)===Jc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return ho(s.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(q_(d)!==q_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Qi(d[v],y[v])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function Fl(s,e){return(s.values||[]).find((i=>Qi(i,e)))!==void 0}function fo(s,e){if(s===e)return 0;const i=gr(s),r=gr(e);if(i!==r)return Qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Dt(c.integerValue||c.doubleValue),v=Dt(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return H_(s.timestampValue,e.timestampValue);case 4:return H_(Bl(s),Bl(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=pr(c),v=pr(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Qe(y[_],v[_]);if(S!==0)return S}return Qe(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Qe(Dt(c.latitude),Dt(d.latitude));return y!==0?y:Qe(Dt(c.longitude),Dt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return F_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},v=d.fields||{},_=y[eh]?.arrayValue,S=v[eh]?.arrayValue,A=Qe(_?.values?.length||0,S?.values?.length||0);return A!==0?A:F_(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let A=0;A<v.length&&A<S.length;++A){const M=gm(v[A],S[A]);if(M!==0)return M;const Q=fo(y[v[A]],_[S[A]]);if(Q!==0)return Q}return Qe(v.length,S.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:i})}}function H_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=mr(s),r=mr(e),l=Qe(i.seconds,r.seconds);return l!==0?l:Qe(i.nanos,r.nanos)}function F_(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=fo(i[l],r[l]);if(c)return c}return Qe(i.length,r.length)}function mo(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=ym(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${ym(i.fields[d])}`;return l+"}"})(s.mapValue):we(61005,{value:s})}function qc(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(s);return e?16+qc(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return vr(r.fields,((c,d)=>{l+=c.length+qc(d)})),l})(s.mapValue);default:throw we(13486,{value:s})}}function G_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function _m(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function Q_(s){return!!s&&"nullValue"in s}function Y_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Bc(s){return!!s&&"mapValue"in s}function x2(s){return(s?.mapValue?.fields||{})[Cb]?.stringValue===Db}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=kl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(s.arrayValue.values[i]);return e}return{...s}}function w2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===A2}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Bc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=un.emptyPath(),r={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=y.popLast()}d?r[y.lastSegment()]=kl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){vr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Rn(kl(this.value))}}function Ob(s){const e=[];return vr(s.fields,((i,r)=>{const l=new un([i]);if(Bc(r)){const c=Ob(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Pn(e)}class mn{constructor(e,i,r,l,c,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new mn(e,0,Oe.min(),Oe.min(),Oe.min(),Rn.empty(),0)}static newFoundDocument(e,i,r,l){return new mn(e,1,i,Oe.min(),r,l,0)}static newNoDocument(e,i){return new mn(e,2,i,Oe.min(),Oe.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Oe.min(),Oe.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,i){this.position=e,this.inclusive=i}}function K_(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=fo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function X_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Qi(s.position[i],e.position[i]))return!1;return!0}class Gl{constructor(e,i="asc"){this.field=e,this.dir=i}}function R2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Mb{}class Ft extends Mb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new I2(e,i,r):i==="array-contains"?new O2(e,r):i==="in"?new M2(e,r):i==="not-in"?new V2(e,r):i==="array-contains-any"?new k2(e,r):new Ft(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new C2(e,r):new D2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends Mb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new _i(e,i)}matches(e){return Vb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vb(s){return s.op==="and"}function kb(s){return N2(s)&&Vb(s)}function N2(s){for(const e of s.filters)if(e instanceof _i)return!1;return!0}function vm(s){if(s instanceof Ft)return s.field.canonicalString()+s.op.toString()+mo(s.value);if(kb(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function jb(s,e){return s instanceof Ft?(function(r,l){return l instanceof Ft&&r.op===l.op&&r.field.isEqual(l.field)&&Qi(r.value,l.value)})(s,e):s instanceof _i?(function(r,l){return l instanceof _i&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,y)=>c&&jb(d,l.filters[y])),!0):!1})(s,e):void we(19439)}function Lb(s){return s instanceof Ft?(function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`})(s):s instanceof _i?(function(i){return i.op.toString()+" {"+i.getFilters().map(Lb).join(" ,")+"}"})(s):"Filter"}class I2 extends Ft{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class C2 extends Ft{constructor(e,i){super(e,"in",i),this.keys=Ub("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class D2 extends Ft{constructor(e,i){super(e,"not-in",i),this.keys=Ub("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Ub(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class O2 extends Ft{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fm(i)&&Fl(i.arrayValue,this.value)}}class M2 extends Ft{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class V2 extends Ft{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class k2 extends Ft{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Fl(this.value.arrayValue,r)))}}class j2{constructor(e,i=null,r=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function $_(s,e=null,i=[],r=[],l=null,c=null,d=null){return new j2(s,e,i,r,l,c,d)}function Gm(s){const e=ke(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>vm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),vh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>mo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>mo(r))).join(",")),e.Te=i}return e.Te}function Qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!R2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!jb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!X_(s.startAt,e.startAt)&&X_(s.endAt,e.endAt)}function bm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class So{constructor(e,i=null,r=[],l=[],c=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function L2(s,e,i,r,l,c,d,y){return new So(s,e,i,r,l,c,d,y)}function Eh(s){return new So(s)}function Z_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Pb(s){return s.collectionGroup!==null}function jl(s){const e=ke(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Yt(un.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Gl(c,r))})),i.has(un.keyField().canonicalString())||e.Ie.push(new Gl(un.keyField(),r))}return e.Ie}function qi(s){const e=ke(s);return e.Ee||(e.Ee=U2(e,jl(s))),e.Ee}function U2(s,e){if(s.limitType==="F")return $_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Gl(l.field,c)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return $_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Em(s,e){const i=s.filters.concat([e]);return new So(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Tm(s,e,i){return new So(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Th(s,e){return Qm(qi(s),qi(e))&&s.limitType===e.limitType}function zb(s){return`${Gm(qi(s))}|lt:${s.limitType}`}function no(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>Lb(l))).join(", ")}]`),vh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>mo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>mo(l))).join(",")),`Target(${r})`})(qi(s))}; limitType=${s.limitType})`}function Sh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of jl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,y,v){const _=K_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,jl(r),l)||r.endAt&&!(function(d,y,v){const _=K_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,jl(r),l))})(s,e)}function P2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function qb(s){return(e,i)=>{let r=!1;for(const l of jl(s)){const c=z2(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function z2(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,y){const v=d.data.field(c),_=y.data.field(c);return v!==null&&_!==null?fo(v,_):we(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return Ab(this.inner)}size(){return this.innerSize}}const q2=new Tt(_e.comparator);function bs(){return q2}const Bb=new Tt(_e.comparator);function Dl(...s){let e=Bb;for(const i of s)e=e.insert(i.key,i);return e}function Hb(s){let e=Bb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Wr(){return Ll()}function Fb(){return Ll()}function Ll(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const B2=new Tt(_e.comparator),H2=new Yt(_e.comparator);function Ye(...s){let e=H2;for(const i of s)e=e.add(i);return e}const F2=new Yt(Qe);function G2(){return F2}function Ym(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function Gb(s){return{integerValue:""+s}}function Q2(s,e){return v2(e)?Gb(e):Ym(s,e)}class Ah{constructor(){this._=void 0}}function Y2(s,e,i){return s instanceof nh?(function(l,c){const d={fields:{[Rb]:{stringValue:wb},[Ib]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=bh(c)),c&&(d.fields[Nb]=c),{mapValue:d}})(i,e):s instanceof Ql?Yb(s,e):s instanceof Yl?Kb(s,e):(function(l,c){const d=Qb(l,c),y=J_(d)+J_(l.Ae);return _m(d)&&_m(l.Ae)?Gb(y):Ym(l.serializer,y)})(s,e)}function K2(s,e,i){return s instanceof Ql?Yb(s,e):s instanceof Yl?Kb(s,e):i}function Qb(s,e){return s instanceof ih?(function(r){return _m(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class nh extends Ah{}class Ql extends Ah{constructor(e){super(),this.elements=e}}function Yb(s,e){const i=Xb(e);for(const r of s.elements)i.some((l=>Qi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Yl extends Ah{constructor(e){super(),this.elements=e}}function Kb(s,e){let i=Xb(e);for(const r of s.elements)i=i.filter((l=>!Qi(l,r)));return{arrayValue:{values:i}}}class ih extends Ah{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function J_(s){return Dt(s.integerValue||s.doubleValue)}function Xb(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function X2(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Ql&&l instanceof Ql||r instanceof Yl&&l instanceof Yl?ho(r.elements,l.elements,Qi):r instanceof ih&&l instanceof ih?Qi(r.Ae,l.Ae):r instanceof nh&&l instanceof nh})(s.transform,e.transform)}class $2{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class xh{}function $b(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Km(s.key,ti.none()):new Jl(s.key,s.data,ti.none());{const i=s.data,r=Rn.empty();let l=new Yt(un.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new br(s.key,r,new Pn(l.toArray()),ti.none())}}function Z2(s,e,i){s instanceof Jl?(function(l,c,d){const y=l.value.clone(),v=ev(l.fieldTransforms,c,d.transformResults);y.setAll(v),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=ev(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(Zb(l)),v.setAll(y),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ul(s,e,i,r){return s instanceof Jl?(function(c,d,y,v){if(!Hc(c.precondition,d))return y;const _=c.value.clone(),S=tv(c.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof br?(function(c,d,y,v){if(!Hc(c.precondition,d))return y;const _=tv(c.fieldTransforms,v,d),S=d.data;return S.setAll(Zb(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,y){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function J2(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=Qb(r.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(r.field,c))}return i||null}function W_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ho(r,l,((c,d)=>X2(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jl extends xh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class br extends xh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Zb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function ev(s,e,i){const r=new Map;rt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);r.set(c.field,K2(d,y,i[l]))}return r}function tv(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Y2(c,d,e))}return r}class Km extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends xh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ew{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Z2(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ul(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ul(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Fb();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const v=$b(d,y);v!==null&&r.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((i,r)=>W_(i,r)))&&ho(this.baseMutations,e.baseMutations,((i,r)=>W_(i,r)))}}class Xm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return B2})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Xm(e,i,r,l)}}class tw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Ze;function iw(s){switch(s){case K.OK:return we(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function Jb(s){if(s===void 0)return vs("GRPC error has no .code"),K.UNKNOWN;switch(s){case Ht.OK:return K.OK;case Ht.CANCELLED:return K.CANCELLED;case Ht.UNKNOWN:return K.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return K.INTERNAL;case Ht.UNAVAILABLE:return K.UNAVAILABLE;case Ht.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ht.NOT_FOUND:return K.NOT_FOUND;case Ht.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ht.ABORTED:return K.ABORTED;case Ht.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ht.DATA_LOSS:return K.DATA_LOSS;default:return we(39323,{code:s})}}(Ze=Ht||(Ht={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function sw(){return new TextEncoder}const rw=new hr([4294967295,4294967295],0);function nv(s){const e=sw().encode(s),i=new db;return i.update(e),new Uint8Array(i.digest())}function iv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([i,r],0),new hr([l,c],0)]}class $m{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=hr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(hr.fromNumber(r)));return l.compare(rw)===1&&(l=new hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=nv(e),[r,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,l,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=nv(e),[r,l]=iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new wh(Oe.min(),l,new Tt(Qe),bs(),Ye())}}class Wl{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Wl(r,i,Ye(),Ye(),Ye())}}class Fc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class Wb{constructor(e,i){this.targetId=e,this.Ce=i}}class eE{constructor(e,i,r=cn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class sv{constructor(){this.ve=0,this.Fe=rv(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),i=Ye(),r=Ye();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:we(38017,{changeType:c})}})),new Wl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=rv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aw{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=Lc(),this.He=Lc(),this.Ye=new Tt(Qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(bm(c))if(r===0){const d=new _e(c.path);this.et(i,d,mn.newNoDocument(d,Oe.min()))}else rt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=pr(r).toUint8Array()}catch(v){if(v instanceof xb)return co("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new $m(d,l,c)}catch(v){return co(v instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&bm(y.target)){const v=new _e(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,mn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ye();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new wh(e,i,this.Ye,this.je,r);return this.je=bs(),this.Je=Lc(),this.He=Lc(),this.Ye=new Tt(Qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new sv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Yt(Qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Yt(Qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lc(){return new Tt(_e.comparator)}function rv(){return new Tt(_e.comparator)}const ow={asc:"ASCENDING",desc:"DESCENDING"},lw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uw={and:"AND",or:"OR"};class cw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Sm(s,e){return s.useProto3Json||vh(e)?e:{value:e}}function sh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function hw(s,e){return sh(s,e.toTimestamp())}function Bi(s){return rt(!!s,49232),Oe.fromTimestamp((function(i){const r=mr(i);return new _t(r.seconds,r.nanos)})(s))}function Zm(s,e){return Am(s,e).canonicalString()}function Am(s,e){const i=(function(l){return new pt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function nE(s){const e=pt.fromString(s);return rt(oE(e),10190,{key:e.toString()}),e}function xm(s,e){return Zm(s.databaseId,e.path)}function Wd(s,e){const i=nE(e);if(i.get(1)!==s.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(sE(i))}function iE(s,e){return Zm(s.databaseId,e)}function fw(s){const e=nE(s);return e.length===4?pt.emptyPath():sE(e)}function wm(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function sE(s){return rt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function av(s,e,i){return{name:xm(s,e),fields:i.value.mapValue.fields}}function dw(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(rt(S===void 0||typeof S=="string",58123),cn.fromBase64String(S||"")):(rt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),cn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?K.UNKNOWN:Jb(_.code);return new le(S,_.message||"")})(d);i=new eE(r,l,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Wd(s,r.document.name),c=Bi(r.document.updateTime),d=r.document.createTime?Bi(r.document.createTime):Oe.min(),y=new Rn({mapValue:{fields:r.document.fields}}),v=mn.newFoundDocument(l,c,d,y),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Fc(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Wd(s,r.document),c=r.readTime?Bi(r.readTime):Oe.min(),d=mn.newNoDocument(l,c),y=r.removedTargetIds||[];i=new Fc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Wd(s,r.document),c=r.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new nw(l,c),y=r.targetId;i=new Wb(y,d)}}return i}function mw(s,e){let i;if(e instanceof Jl)i={update:av(s,e.key,e.value)};else if(e instanceof Km)i={delete:xm(s,e.key)};else if(e instanceof br)i={update:av(s,e.key,e.data),updateMask:Sw(e.fieldMask)};else{if(!(e instanceof W2))return we(16599,{Vt:e.type});i={verify:xm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const y=d.transform;if(y instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ih)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw we(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:hw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(s,e.precondition)),i}function pw(s,e){return s&&s.length>0?(rt(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(Oe.min())&&(d=Bi(c)),new $2(d,l.transformResults||[])})(i,e)))):[]}function gw(s,e){return{documents:[iE(s,e.path)]}}function yw(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=iE(s,l);const c=(function(_){if(_.length!==0)return aE(_i.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:io(M.field),direction:bw(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Sm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function _w(s){let e=fw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){rt(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=rE(A);return M instanceof _i&&kb(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new Gl(so(W.field),(function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,vh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(A){const M=!!A.before,Q=A.values||[];return new th(Q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,Q=A.values||[];return new th(Q,M)})(i.endAt)),L2(e,l,d,c,y,"F",v,_)}function vw(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function rE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=so(i.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=so(i.unaryFilter.field);return Ft.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=so(i.unaryFilter.field);return Ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=so(i.unaryFilter.field);return Ft.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ft.create(so(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return _i.create(i.compositeFilter.filters.map((r=>rE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(i.compositeFilter.op))})(s):we(30097,{filter:s})}function bw(s){return ow[s]}function Ew(s){return lw[s]}function Tw(s){return uw[s]}function io(s){return{fieldPath:s.canonicalString()}}function so(s){return un.fromServerFormat(s.fieldPath)}function aE(s){return s instanceof Ft?(function(i){if(i.op==="=="){if(Y_(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(Q_(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Y_(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(Q_(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:Ew(i.op),value:i.value}}})(s):s instanceof _i?(function(i){const r=i.getFilters().map((l=>aE(l)));return r.length===1?r[0]:{compositeFilter:{op:Tw(i.op),filters:r}}})(s):we(54877,{filter:s})}function Sw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function oE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(e,i,r,l,c=Oe.min(),d=Oe.min(),y=cn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Aw{constructor(e){this.yt=e}}function xw(s){const e=_w({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Tm(e,e.limit,"L"):e}class ww{constructor(){this.Cn=new Rw}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(dr.min())}updateCollectionGroup(e,i,r){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class Rw{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Yt(pt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Yt(pt.comparator)).toArray()}}const ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(lE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const lv="LruGarbageCollector",Nw=1048576;function uv([s,e],[i,r]){const l=Qe(s,i);return l===0?Qe(e,r):l}class Iw{constructor(e){this.Ir=e,this.buffer=new Yt(uv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();uv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Cw{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?ce(lv,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class Dw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(_h.ce);const r=new Iw(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ov)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ov):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,y=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),to()<=Ge.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function Ow(s,e){return new Dw(s,e)}class Mw{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class kw{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ul(r.mutation,l,Pn.empty(),_t.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ye()){const l=Wr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Dl();return c.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Wr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ye())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,l){let c=bs();const d=Ll(),y=(function(){return Ll()})();return i.forEach(((v,_)=>{const S=r.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof br)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ul(S.mutation,_,S.mutation.getFieldMask(),_t.now())):d.set(_.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new Vw(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Ll();let l=new Tt(((d,y)=>d-y)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=r.get(v)||Pn.empty();S=y.applyToLocalView(_,S),r.set(v,S);const A=(l.get(y.batchId)||Ye()).add(v);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,A=Fb();S.forEach((M=>{if(!c.has(M)){const Q=$b(i.get(M),r.get(M));Q!==null&&A.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Pb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):J.resolve(Wr());let y=ql,v=c;return d.next((_=>J.forEach(_,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{v=v.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Ye()))).next((S=>({batchId:y,changes:Hb(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let l=Dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(e,c).next((y=>J.forEach(y,(v=>{const _=(function(A,M){return new So(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,mn.newInvalidDocument(S)))}));let y=Dl();return d.forEach(((v,_)=>{const S=c.get(v);S!==void 0&&Ul(S.mutation,_,Pn.empty(),_t.now()),Sh(i,_)&&(y=y.insert(v,_))})),y}))}}class jw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:xw(l.bundledQuery),readTime:Bi(l.readTime)}})(i)),J.resolve()}}class Lw{constructor(){this.overlays=new Tt(_e.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Wr();return J.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,i,r){const l=Wr(),c=i.length+1,d=new _e(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new Tt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=c.get(_.largestBatchId);S===null&&(S=Wr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=Wr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=l)););return J.resolve(y)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new tw(i,r));let c=this.qr.get(i);c===void 0&&(c=Ye(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class Uw{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Jm{constructor(){this.Qr=new Yt(Jt.$r),this.Ur=new Yt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Jt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Jt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _e(new pt([])),r=new Jt(i,e),l=new Jt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new pt([])),r=new Jt(i,e),l=new Jt(i,e+1);let c=Ye();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Jt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Qe(e.Yr,i.Yr)}static Kr(e,i){return Qe(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class Pw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Jt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ew(c,i,r,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new Jt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Jt(i,0),l=new Jt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Yt(Qe);return i.forEach((l=>{const c=new Jt(l,0),d=new Jt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{r=r.add(y.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new Jt(new _e(c),0);let y=new Yt(Qe);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(y=y.add(v.Yr)),!0)}),d),J.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){rt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(l=>{const c=new Jt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Jt(i,0),l=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class zw{constructor(e){this.ri=e,this.docs=(function(){return new Tt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let r=bs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():mn.newInvalidDocument(l))})),J.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=bs();const d=i.path,y=new _e(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||p2(m2(S),r)<=0||(l.has(S.key)||Sh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,r,l){we(9500)}ii(e,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new qw(this)}getSize(e){return J.resolve(this.size)}}class qw extends Mw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Bw{constructor(e){this.persistence=e,this.si=new ua((i=>Gm(i)),Qm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new po(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class uE{constructor(e,i){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new Uw,this.referenceDelegate=e(this),this.Pi=new Bw(this),this.indexManager=new ww,this.remoteDocumentCache=(function(l){return new zw(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Aw(i),this.Ii=new jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Lw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Pw(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const l=new Hw(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class Hw extends y2{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Jm,this.Vi=null}static mi(e){return new Wm(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const l=_e.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Oe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rh{constructor(e,i){this.persistence=e,this.pi=new ua((r=>b2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Ow(this,i)}static mi(e,i){return new rh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?J.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((y=>{y||(r++,c.removeEntry(d,Oe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,r){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ep{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Ye(),l=Ye();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ep(e,i.fromCache,r,l)}}class Fw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Gw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jA()?8:_2(pn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Fw;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(to()<=Ge.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",no(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(to()<=Ge.DEBUG&&ce("QueryEngine","Query:",no(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(to()<=Ge.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",no(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):J.resolve())}ys(e,i){if(Z_(i))return J.resolve(null);let r=qi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Tm(i,null,"F"),r=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ye(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Tm(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,l){return Z_(i)||l.isEqual(Oe.min())?J.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?J.resolve(null):(to()<=Ge.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),no(i)),this.vs(e,d,i,d2(l,ql)).next((y=>y)))}))}Ds(e,i){let r=new Yt(qb(e));return i.forEach(((l,c)=>{Sh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return to()<=Ge.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",no(i)),this.ps.getDocumentsMatchingQuery(e,i,dr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tp="LocalStore",Qw=3e8;class Yw{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Tt(Qe),this.xs=new ua((c=>Gm(c)),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Kw(s,e,i,r){return new Yw(s,e,i,r)}async function cE(s,e){const i=ke(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],y=[];let v=Ye();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Xw(s,e){const i=ke(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const A=_.batch,M=A.keys();let Q=J.resolve();return M.forEach((W=>{Q=Q.next((()=>S.getEntry(v,W))).next((oe=>{const se=_.docVersions.get(W);rt(se!==null,48541),oe.version.compareTo(se)<0&&(A.applyToRemoteDocument(oe,_),oe.isValidDocument()&&(oe.setReadTime(_.commitVersion),S.addEntry(oe)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Ye();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function hE(s){const e=ke(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function $w(s,e){const i=ke(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];e.targetChanges.forEach(((S,A)=>{const M=l.get(A);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let Q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Q=Q.withResumeToken(cn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),l=l.insert(A,Q),(function(oe,se,be){return oe.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=Qw?!0:be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0})(M,Q,S)&&y.push(i.Pi.updateTargetData(c,Q))}));let v=bs(),_=Ye();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(Zw(c,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(Oe.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(S)}return J.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=l,c)))}function Zw(s,e,i){let r=Ye(),l=Ye();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=bs();return i.forEach(((y,v)=>{const _=c.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(Oe.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ce(tp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function Jw(s,e){const i=ke(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ww(s,e){const i=ke(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new or(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Rm(s,e,i){const r=ke(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;ce(tp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function cv(s,e,i){const r=ke(s);let l=Oe.min(),c=Ye();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const A=ke(v),M=A.xs.get(S);return M!==void 0?J.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,S)})(r,d,qi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Oe.min(),i?c:Ye()))).next((y=>(eR(r,P2(e),y),{documents:y,Qs:c})))))}function eR(s,e,i){let r=s.Os.get(e)||Oe.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class hv{constructor(){this.activeTargetIds=G2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tR{constructor(){this.Mo=new hv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nR{Oo(e){}shutdown(){}}const fv="ConnectivityMonitor";class dv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Uc=null;function Nm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}const em="RestConnection",iR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=Nm(),y=this.zo(e,i.toUriEncodedString());ce(em,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,c);const{host:_}=new URL(y),S=_o(_);return this.Jo(e,y,v,r,S).then((A=>(ce(em,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw co(em,`RPC '${e}' ${d} failed with error: `,A,"url: ",y,"request:",r),A}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=iR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class rR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class aR extends sR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=Nm();return new Promise(((y,v)=>{const _=new mb;_.setWithCredentials(!0),_.listenOnce(pb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case zc.NO_ERROR:const A=_.getResponseJson();ce(fn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),y(A);break;case zc.TIMEOUT:ce(fn,`RPC '${e}' ${d} timed out`),v(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const M=_.getStatus();if(ce(fn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const oe=(function(be){const Me=be.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Me)>=0?Me:K.UNKNOWN})(W.status);v(new le(oe,W.message))}else v(new le(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new le(K.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(fn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);ce(fn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const l=Nm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_b(),y=yb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=c.join("");ce(fn,`Creating RPC '${e}' stream ${l}: ${S}`,v);const A=d.createWebChannel(S,v);this.I_(A);let M=!1,Q=!1;const W=new rR({Yo:se=>{Q?ce(fn,`Not sending because RPC '${e}' stream ${l} is closed:`,se):(M||(ce(fn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),M=!0),ce(fn,`RPC '${e}' stream ${l} sending:`,se),A.send(se))},Zo:()=>A.close()}),oe=(se,be,Me)=>{se.listen(be,(Ae=>{try{Me(Ae)}catch(st){setTimeout((()=>{throw st}),0)}}))};return oe(A,Cl.EventType.OPEN,(()=>{Q||(ce(fn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),oe(A,Cl.EventType.CLOSE,(()=>{Q||(Q=!0,ce(fn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(A))})),oe(A,Cl.EventType.ERROR,(se=>{Q||(Q=!0,co(fn,`RPC '${e}' stream ${l} transport errored. Name:`,se.name,"Message:",se.message),W.a_(new le(K.UNAVAILABLE,"The operation could not be completed")))})),oe(A,Cl.EventType.MESSAGE,(se=>{if(!Q){const be=se.data[0];rt(!!be,16349);const Me=be,Ae=Me?.error||Me[0]?.error;if(Ae){ce(fn,`RPC '${e}' stream ${l} received error:`,Ae);const st=Ae.status;let dt=(function(w){const I=Ht[w];if(I!==void 0)return Jb(I)})(st),Ke=Ae.message;dt===void 0&&(dt=K.INTERNAL,Ke="Unknown error status: "+st+" with message "+Ae.message),Q=!0,W.a_(new le(dt,Ke)),A.close()}else ce(fn,`RPC '${e}' stream ${l} received:`,be),W.u_(be)}})),oe(y,gb.STAT_EVENT,(se=>{se.stat===pm.PROXY?ce(fn,`RPC '${e}' stream ${l} detected buffering proxy`):se.stat===pm.NOPROXY&&ce(fn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function tm(){return typeof document<"u"?document:null}function Rh(s){return new cw(s,!0)}class fE{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mv="PersistentStream";class dE{constructor(e,i,r,l,c,d,y,v){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new le(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(mv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oR extends dE{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=dw(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Oe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Oe.min():d.readTime?Bi(d.readTime):Oe.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(c,d){let y;const v=d.target;if(y=bm(v)?{documents:gw(c,v)}:{query:yw(c,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=tE(c,d.resumeToken);const _=Sm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Oe.min())>0){y.readTime=sh(c,d.snapshotVersion.toTimestamp());const _=Sm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=vw(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.q_(i)}}class lR extends dE{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=pw(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>mw(this.serializer,r)))};this.q_(i)}}class uR{}class cR extends uR{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Am(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(K.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Am(i,r),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class fR{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ca(this)&&(ce(oa,"Restarting streams for network reachability change."),await(async function(v){const _=ke(v);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new hR(r,l)}}async function Nh(s){if(ca(s))for(const e of s.da)await e(!0)}async function eu(s){for(const e of s.da)await e(!1)}function mE(s,e){const i=ke(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),rp(i)?sp(i):Ao(i).O_()&&ip(i,e))}function np(s,e){const i=ke(s),r=Ao(i);i.Ia.delete(e),r.O_()&&pE(i,e),i.Ia.size===0&&(r.O_()?r.L_():ca(i)&&i.Ra.set("Unknown"))}function ip(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ao(s).Y_(e)}function pE(s,e){s.Va.Ue(e),Ao(s).Z_(e)}function sp(s){s.Va=new aw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ao(s).start(),s.Ra.ua()}function rp(s){return ca(s)&&!Ao(s).x_()&&s.Ia.size>0}function ca(s){return ke(s).Ea.size===0}function gE(s){s.Va=void 0}async function dR(s){s.Ra.set("Online")}async function mR(s){s.Ia.forEach(((e,i)=>{ip(s,e)}))}async function pR(s,e){gE(s),rp(s)?(s.Ra.ha(e),sp(s)):s.Ra.set("Unknown")}async function gR(s,e,i){if(s.Ra.set("Online"),e instanceof eE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(s,e)}catch(r){ce(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(s,r)}else if(e instanceof Fc?s.Va.Ze(e):e instanceof Wb?s.Va.st(e):s.Va.tt(e),!i.isEqual(Oe.min()))try{const r=await hE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(cn.EMPTY_BYTE_STRING,S.snapshotVersion)),pE(c,v);const A=new or(S.target,v,_,S.sequenceNumber);ip(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){ce(oa,"Failed to raise snapshot:",r),await ah(s,r)}}async function ah(s,e,i){if(!To(e))throw e;s.Ea.add(1),await eu(s),s.Ra.set("Offline"),i||(i=()=>hE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function yE(s,e){return e().catch((i=>ah(s,i,e)))}async function Ih(s){const e=ke(s),i=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;yR(e);)try{const l=await Jw(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,_R(e,l)}catch(l){await ah(e,l)}_E(e)&&vE(e)}function yR(s){return ca(s)&&s.Ta.length<10}function _R(s,e){s.Ta.push(e);const i=yr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function _E(s){return ca(s)&&!yr(s).x_()&&s.Ta.length>0}function vE(s){yr(s).start()}async function vR(s){yr(s).ra()}async function bR(s){const e=yr(s);for(const i of s.Ta)e.ea(i.mutations)}async function ER(s,e,i){const r=s.Ta.shift(),l=Xm.from(r,e,i);await yE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ih(s)}async function TR(s,e){e&&yr(s).X_&&await(async function(r,l){if((function(d){return iw(d)&&d!==K.ABORTED})(l.code)){const c=r.Ta.shift();yr(r).B_(),await yE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(r)}})(s,e),_E(s)&&vE(s)}async function pv(s,e){const i=ke(s);i.asyncQueue.verifyOperationInProgress(),ce(oa,"RemoteStore received new credentials");const r=ca(i);i.Ea.add(3),await eu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nh(i)}async function SR(s,e){const i=ke(s);e?(i.Ea.delete(2),await Nh(i)):e||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function Ao(s){return s.ma||(s.ma=(function(i,r,l){const c=ke(i);return c.sa(),new oR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:dR.bind(null,s),t_:mR.bind(null,s),r_:pR.bind(null,s),H_:gR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),rp(s)?sp(s):s.Ra.set("Unknown")):(await s.ma.stop(),gE(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(i,r,l){const c=ke(i);return c.sa(),new lR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:vR.bind(null,s),r_:TR.bind(null,s),ta:bR.bind(null,s),na:ER.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ih(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ap{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,y=new ap(e,i,d,l,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(s,e){if(vs("AsyncQueue",`${e}: ${s}`),To(s))return new le(K.UNAVAILABLE,`${e}: ${s}`);throw s}class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=Dl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class gv{constructor(){this.ga=new Tt(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class go{constructor(e,i,r,l,c,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new go(e,i,ro.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class AR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xR{constructor(){this.queries=yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=ke(i),c=l.queries;l.queries=yv(),c.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new le(K.ABORTED,"Firestore shutting down"))}}function yv(){return new ua((s=>zb(s)),Th)}async function lp(s,e){const i=ke(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new AR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=op(d,`Initialization of query '${no(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&cp(i)}async function up(s,e){const i=ke(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function wR(s,e){const i=ke(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(r=!0);d.wa=l}}r&&cp(i)}function RR(s,e,i){const r=ke(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function cp(s){s.Ca.forEach((e=>{e.next()}))}var Im,_v;(_v=Im||(Im={})).Ma="default",_v.Cache="cache";class hp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}class bE{constructor(e){this.key=e}}class EE{constructor(e){this.key=e}}class NR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=qb(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,A)=>{const M=l.get(S),Q=Sh(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),oe=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let se=!1;M&&Q?M.data.isEqual(Q.data)?W!==oe&&(r.track({type:3,doc:Q}),se=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),se=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!M&&Q?(r.track({type:0,doc:Q}),se=!0):M&&!Q&&(r.track({type:1,doc:M}),se=!0,(v||_)&&(y=!0)),se&&(Q?(d=d.add(Q),c=oe?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(Q,W){const oe=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:se})}};return oe(Q)-oe(W)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(r),l=l??!1;const y=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new go(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new EE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new bE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ye();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class IR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class CR{constructor(e){this.key=e,this.hu=!1}}class DR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((y=>zb(y)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(_e.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OR(s,e,i=!0){const r=RE(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await TE(r,e,i,!0),l}async function MR(s,e){const i=RE(s);await TE(i,e,!0,!1)}async function TE(s,e,i,r){const l=await Ww(s.localStore,qi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return r&&(y=await VR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&mE(s.remoteStore,l),y}async function VR(s,e,i,r,l){s.pu=(A,M,Q)=>(async function(oe,se,be,Me){let Ae=se.view.ru(be);Ae.Cs&&(Ae=await cv(oe.localStore,se.query,!1).then((({documents:C})=>se.view.ru(C,Ae))));const st=Me&&Me.targetChanges.get(se.targetId),dt=Me&&Me.targetMismatches.get(se.targetId)!=null,Ke=se.view.applyChanges(Ae,oe.isPrimaryClient,st,dt);return bv(oe,se.targetId,Ke.au),Ke.snapshot})(s,A,M,Q);const c=await cv(s.localStore,e,!0),d=new NR(e,c.Qs),y=d.ru(c.documents),v=Wl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,v);bv(s,i,_.au);const S=new IR(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function kR(s,e,i){const r=ke(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Th(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Rm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&np(r.remoteStore,l.targetId),Cm(r,l.targetId)})).catch(Eo)):(Cm(r,l.targetId),await Rm(r.localStore,l.targetId,!0))}async function jR(s,e){const i=ke(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),np(i.remoteStore,r.targetId))}async function LR(s,e,i){const r=FR(s);try{const l=await(function(d,y){const v=ke(d),_=_t.now(),S=y.reduce(((Q,W)=>Q.add(W.key)),Ye());let A,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=bs(),oe=Ye();return v.Ns.getEntries(Q,S).next((se=>{W=se,W.forEach(((be,Me)=>{Me.isValidDocument()||(oe=oe.add(be))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,W))).next((se=>{A=se;const be=[];for(const Me of y){const Ae=J2(Me,A.get(Me.key).overlayedDocument);Ae!=null&&be.push(new br(Me.key,Ae,Ob(Ae.value.mapValue),ti.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,be,y)})).next((se=>{M=se;const be=se.applyToLocalDocumentSet(A,oe);return v.documentOverlayCache.saveOverlays(Q,se.batchId,be)}))})).then((()=>({batchId:M.batchId,changes:Hb(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new Tt(Qe)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await tu(r,l.changes),await Ih(r.remoteStore)}catch(l){const c=op(l,"Failed to persist write");i.reject(c)}}async function SE(s,e){const i=ke(s);try{const r=await $w(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(rt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?rt(d.hu,14607):l.removedDocuments.size>0&&(rt(d.hu,42227),d.hu=!1))})),await tu(i,r,e)}catch(r){await Eo(r)}}function vv(s,e,i){const r=ke(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const v=ke(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,A)=>{for(const M of A.Sa)M.va(y)&&(_=!0)})),_&&cp(v)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UR(s,e,i){const r=ke(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new Tt(_e.comparator);d=d.insert(c,mn.newNoDocument(c,Oe.min()));const y=Ye().add(c),v=new wh(Oe.min(),new Map,new Tt(Qe),d,y);await SE(r,v),r.du=r.du.remove(c),r.Au.delete(e),dp(r)}else await Rm(r.localStore,e,!1).then((()=>Cm(r,e,i))).catch(Eo)}async function PR(s,e){const i=ke(s),r=e.batch.batchId;try{const l=await Xw(i.localStore,e);xE(i,r,null),AE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await tu(i,l)}catch(l){await Eo(l)}}async function zR(s,e,i){const r=ke(s);try{const l=await(function(d,y){const v=ke(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((A=>(rt(A!==null,37113),S=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);xE(r,e,i),AE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await tu(r,l)}catch(l){await Eo(l)}}function AE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function xE(s,e,i){const r=ke(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Cm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||wE(s,r)}))}function wE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(np(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),dp(s))}function bv(s,e,i){for(const r of i)r instanceof bE?(s.Ru.addReference(r.key,e),qR(s,r)):r instanceof EE?(ce(fp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||wE(s,r.key)):we(19791,{wu:r})}function qR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ce(fp,"New document in limbo: "+i),s.Eu.add(r),dp(s))}function dp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(pt.fromString(e)),r=s.fu.next();s.Au.set(r,new CR(i)),s.du=s.du.insert(i,r),mE(s.remoteStore,new or(qi(Eh(i.path)),r,"TargetPurposeLimboResolution",_h.ce))}}async function tu(s,e,i){const r=ke(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){l.push(_);const S=ep.As(v.targetId,_);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(v,_){const S=ke(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(_,(M=>J.forEach(M.Es,(Q=>S.persistence.referenceDelegate.addReference(A,M.targetId,Q))).next((()=>J.forEach(M.ds,(Q=>S.persistence.referenceDelegate.removeReference(A,M.targetId,Q)))))))))}catch(A){if(!To(A))throw A;ce(tp,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const Q=S.Ms.get(M),W=Q.snapshotVersion,oe=Q.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(M,oe)}}})(r.localStore,c))}async function BR(s,e){const i=ke(s);if(!i.currentUser.isEqual(e)){ce(fp,"User change. New user:",e.toKey());const r=await cE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new le(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(i,r.Ls)}}function HR(s,e){const i=ke(s),r=i.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let l=Ye();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function RE(s){const e=ke(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UR.bind(null,e),e.Pu.H_=wR.bind(null,e.eventManager),e.Pu.yu=RR.bind(null,e.eventManager),e}function FR(s){const e=ke(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zR.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Kw(this.persistence,new Gw,e.initialUser,this.serializer)}Cu(e){return new uE(Wm.mi,this.serializer)}Du(e){return new tR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class GR extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){rt(this.persistence.referenceDelegate instanceof rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Cw(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new uE((r=>rh.mi(r,i)),this.serializer)}}class Dm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BR.bind(null,this.syncEngine),await SR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xR})()}createDatastore(e){const i=Rh(e.databaseInfo.databaseId),r=(function(c){return new aR(c)})(e.databaseInfo);return(function(c,d,y,v){return new cR(c,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,y){return new fR(r,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>vv(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new nR})())}createSyncEngine(e,i){return(function(l,c,d,y,v,_,S){const A=new DR(l,c,d,y,v,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=ke(i);ce(oa,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class mp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _r="FirestoreClient";class QR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ce(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=op(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function nm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await cE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Ev(s,e){s.asyncQueue.verifyOperationInProgress();const i=await YR(s);ce(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>pv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>pv(e.remoteStore,l))),s._onlineComponents=e}async function YR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(_r,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;co("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new oh)}}else ce(_r,"Using default OfflineComponentProvider"),await nm(s,new GR(void 0));return s._offlineComponents}async function NE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(_r,"Using user provided OnlineComponentProvider"),await Ev(s,s._uninitializedComponentsProvider._online)):(ce(_r,"Using default OnlineComponentProvider"),await Ev(s,new Dm))),s._onlineComponents}function KR(s){return NE(s).then((e=>e.syncEngine))}async function lh(s){const e=await NE(s),i=e.eventManager;return i.onListen=OR.bind(null,e.syncEngine),i.onUnlisten=kR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=MR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jR.bind(null,e.syncEngine),i}function XR(s,e,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const S=new mp({next:M=>{S.Nu(),d.enqueueAndForget((()=>up(c,A)));const Q=M.docs.has(y);!Q&&M.fromCache?_.reject(new le(K.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&M.fromCache&&v&&v.source==="server"?_.reject(new le(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new hp(Eh(y.path),S,{includeMetadataChanges:!0,qa:!0});return lp(c,A)})(await lh(s),s.asyncQueue,e,i,r))),r.promise}function $R(s,e,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const S=new mp({next:M=>{S.Nu(),d.enqueueAndForget((()=>up(c,A))),M.fromCache&&v.source==="server"?_.reject(new le(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new hp(y,S,{includeMetadataChanges:!0,qa:!0});return lp(c,A)})(await lh(s),s.asyncQueue,e,i,r))),r.promise}function IE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Tv=new Map;const CE="firestore.googleapis.com",Sv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CE,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nw)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new n2;switch(r.type){case"firstParty":return new a2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Tv.get(i);r&&(ce("ComponentProvider","Removing Datastore"),Tv.delete(i),r.terminate())})(this),Promise.resolve()}}function ZR(s,e,i,r={}){s=Nn(s,Ch);const l=_o(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(rb(`https://${y}`),ab("Firestore",!0)),c.host!==CE&&c.host!==y&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:l,emulatorOptions:r};if(!sa(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=dn.MOCK_USER;else{_=RA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new dn(A)}s._authCredentials=new i2(new bb(_,S))}}class Er{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Er(this.firestore,e,this._query)}}class wt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Zl(i,wt._jsonSchema))return new wt(e,r||null,new _e(pt.fromString(i.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Gt("string",wt._jsonSchemaVersion),referencePath:Gt("string")};class fr extends Er{constructor(e,i,r){super(e,i,Eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new _e(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function tr(s,e,...i){if(s=Wt(s),Eb("collection","path",e),s instanceof Ch){const r=pt.fromString(e,...i);return L_(r),new fr(s,null,r)}{if(!(s instanceof wt||s instanceof fr))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...i));return L_(r),new fr(s.firestore,null,r)}}function ir(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=qm.newId()),Eb("doc","path",e),s instanceof Ch){const r=pt.fromString(e,...i);return j_(r),new wt(s,null,new _e(r))}{if(!(s instanceof wt||s instanceof fr))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...i));return j_(r),new wt(s.firestore,s instanceof fr?s.converter:null,new _e(r))}}const xv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fE(this,"async_queue_retry"),this._c=()=>{const r=tm();r&&ce(xv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ce(xv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",Rv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ap.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:Rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Rv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Nv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Es extends Ch{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function JR(s,e){const i=typeof s=="object"?s:cb(),r=typeof s=="string"?s:Wc,l=Pm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=xA("firestore");c&&ZR(l,...c)}return l}function Dh(s){if(s._terminated)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||WR(s),s._firestoreClient}function WR(s){const e=s._freezeSettings(),i=(function(l,c,d,y){return new S2(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,IE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new QR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(cn.fromBase64String(e))}catch(i){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ei(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Gt("string",ei._jsonSchemaVersion),bytes:Gt("string")};class Oh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pp{constructor(e){this._methodName=e}}class Hi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Gt("string",Hi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Fi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fi(e.vectorValues);throw new le(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Gt("string",Fi._jsonSchemaVersion),vectorValues:Gt("object")};const eN=/^__.*__$/;class tN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(e,this.data,i,this.fieldTransforms)}}class DE{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function OE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:s})}}class gp{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OE(this.Ac)&&eN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Rh(e)}Cc(e,i,r,l=!1){return new gp({Ac:e,methodName:i,Dc:r,path:un.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mh(s){const e=s._freezeSettings(),i=Rh(s._databaseId);return new nN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function ME(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);yp("Data must be an object, but it was:",d,r);const y=VE(r,d);let v,_;if(c.merge)v=new Pn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=Om(e,A,i);if(!d.contains(M))throw new le(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);jE(S,M)||S.push(M)}v=new Pn(S),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new tN(new Rn(y),v,_)}class Vh extends pp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function iN(s,e,i,r){const l=s.Cc(1,e,i);yp("Data must be an object, but it was:",l,r);const c=[],d=Rn.empty();vr(r,((v,_)=>{const S=_p(e,v,i);_=Wt(_);const A=l.yc(S);if(_ instanceof Vh)c.push(S);else{const M=nu(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const y=new Pn(c);return new DE(d,y,l.fieldTransforms)}function sN(s,e,i,r,l,c){const d=s.Cc(1,e,i),y=[Om(e,r,i)],v=[l];if(c.length%2!=0)throw new le(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Om(e,c[M])),v.push(c[M+1]);const _=[],S=Rn.empty();for(let M=y.length-1;M>=0;--M)if(!jE(_,y[M])){const Q=y[M];let W=v[M];W=Wt(W);const oe=d.yc(Q);if(W instanceof Vh)_.push(Q);else{const se=nu(W,oe);se!=null&&(_.push(Q),S.set(Q,se))}}const A=new Pn(_);return new DE(S,A,d.fieldTransforms)}function rN(s,e,i,r=!1){return nu(i,s.Cc(r?4:3,e))}function nu(s,e){if(kE(s=Wt(s)))return yp("Unsupported field value:",e,s),VE(s,e);if(s instanceof pp)return(function(r,l){if(!OE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const y of r){let v=nu(y,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=_t.fromDate(r);return{timestampValue:sh(l.serializer,c)}}if(r instanceof _t){const c=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(l.serializer,c)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:tE(l.serializer,r._byteString)};if(r instanceof wt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Fi)return(function(d,y){return{mapValue:{fields:{[Cb]:{stringValue:Db},[eh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Ym(y.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${yh(r)}`)})(s,e)}function VE(s,e){const i={};return Ab(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,((r,l)=>{const c=nu(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function kE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof Hi||s instanceof ei||s instanceof wt||s instanceof pp||s instanceof Fi)}function yp(s,e,i){if(!kE(i)||!Tb(i)){const r=yh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Om(s,e,i){if((e=Wt(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return _p(s,e);throw uh("Field path arguments must be of type string or ",s,!1,void 0,i)}const aN=new RegExp("[~\\*/\\[\\]]");function _p(s,e,i){if(e.search(aN)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Oh(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${l}`),v+=")"),new le(K.INVALID_ARGUMENT,y+s+v)}function jE(s,e){return s.some((i=>i.isEqual(e)))}class LE{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(kh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oN extends LE{data(){return super.data()}}function kh(s,e){return typeof e=="string"?_p(s,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}function UE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new le(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class PE extends vp{}function $r(s,e,...i){let r=[];e instanceof vp&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((v=>v instanceof bp)).length,y=c.filter((v=>v instanceof jh)).length;if(d>1||d>0&&y>0)throw new le(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class jh extends PE{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new jh(e,i,r)}_apply(e){const i=this._parse(e);return zE(e._query,i),new Er(e.firestore,e.converter,Em(e._query,i))}_parse(e){const i=Mh(e.firestore);return(function(c,d,y,v,_,S,A){let M;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new le(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Dv(A,S);const W=[];for(const oe of A)W.push(Cv(v,c,oe));M={arrayValue:{values:W}}}else M=Cv(v,c,A)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Dv(A,S),M=rN(y,d,A,S==="in"||S==="not-in");return Ft.create(_,S,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Nl(s,e,i){const r=e,l=kh("where",s);return jh._create(l,r,i)}class bp extends vp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:_i.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const y=c.getFlattenedFilters();for(const v of y)zE(d,v),d=Em(d,v)})(e._query,i),new Er(e.firestore,e.converter,Em(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ep extends PE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Ep(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(c,d)})(e._query,this._field,this._direction);return new Er(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new So(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Iv(s,e="asc"){const i=e,r=kh("orderBy",s);return Ep._create(r,i)}function Cv(s,e,i){if(typeof(i=Wt(i))=="string"){if(i==="")throw new le(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pb(e)&&i.indexOf("/")!==-1)throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(pt.fromString(i));if(!_e.isDocumentKey(r))throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G_(s,new _e(r))}if(i instanceof wt)return G_(s,i._key);throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(i)}.`)}function Dv(s,e){if(!Array.isArray(s)||s.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zE(s,e){const i=(function(l,c){for(const d of l)for(const y of d.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class lN{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return vr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[eh].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new Fi(i)}convertGeoPoint(e){return new Hi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=pt.fromString(e);rt(oE(r),9688,{name:e});const l=new Hl(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return l.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function qE(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends LE{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(kh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Gt("string",ta._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Gc extends ta{data(e={}){return super.data(e)}}class na{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ml(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Gc(this._firestore,this._userDataWriter,r.key,r,new Ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new le(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const v=new Gc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ml(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Gc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ml(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:uN(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}function cN(s){s=Nn(s,wt);const e=Nn(s.firestore,Es);return XR(Dh(e),s._key).then((i=>BE(e,s,i)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Gt("string",na._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Tp extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,i)}}function Ov(s){s=Nn(s,Er);const e=Nn(s.firestore,Es),i=Dh(e),r=new Tp(e);return UE(s._query),$R(i,s._query).then((l=>new na(e,r,s,l)))}function im(s,e,i){s=Nn(s,wt);const r=Nn(s.firestore,Es),l=qE(s.converter,e);return Lh(r,[ME(Mh(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ti.none())])}function hN(s,e,i,...r){s=Nn(s,wt);const l=Nn(s.firestore,Es),c=Mh(l);let d;return d=typeof(e=Wt(e))=="string"||e instanceof Oh?sN(c,"updateDoc",s._key,e,i,r):iN(c,"updateDoc",s._key,e),Lh(l,[d.toMutation(s._key,ti.exists(!0))])}function sm(s){return Lh(Nn(s.firestore,Es),[new Km(s._key,ti.none())])}function fN(s,e){const i=Nn(s.firestore,Es),r=ir(s),l=qE(s.converter,e);return Lh(i,[ME(Mh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then((()=>r))}function Il(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Nv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Nv(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,d,y;if(s instanceof wt)d=Nn(s.firestore,Es),y=Eh(s._key.path),c={next:v=>{e[r]&&e[r](BE(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=Nn(s,Er);d=Nn(v.firestore,Es),y=v._query;const _=new Tp(d);c={next:S=>{e[r]&&e[r](new na(d,_,v,S))},error:e[r+1],complete:e[r+2]},UE(s._query)}return(function(_,S,A,M){const Q=new mp(M),W=new hp(S,Q,A);return _.asyncQueue.enqueueAndForget((async()=>lp(await lh(_),W))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>up(await lh(_),W)))}})(Dh(d),y,l,c)}function Lh(s,e){return(function(r,l){const c=new ys;return r.asyncQueue.enqueueAndForget((async()=>LR(await KR(r),l,c))),c.promise})(Dh(s),e)}function BE(s,e,i){const r=i.docs.get(e._key),l=new Tp(s);return new ta(s,l,e._key,r,new Ml(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){bo=l})(vo),uo(new ra("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),y=new Es(new s2(r.getProvider("auth-internal")),new o2(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),cr(O_,M_,e),cr(O_,M_,"esm2020")})();function HE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dN=HE,FE=new Xl("auth","Firebase",HE());const ch=new Lm("@firebase/auth");function mN(s,...e){ch.logLevel<=Ge.WARN&&ch.warn(`Auth (${vo}): ${s}`,...e)}function Qc(s,...e){ch.logLevel<=Ge.ERROR&&ch.error(`Auth (${vo}): ${s}`,...e)}function Yi(s,...e){throw Ap(s,...e)}function yi(s,...e){return Ap(s,...e)}function Sp(s,e,i){const r={...dN(),[e]:i};return new Xl("auth","Firebase",r).create(e,{appName:s.name})}function ia(s){return Sp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pN(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yi(s,"argument-error"),Sp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ap(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return FE.create(s,...e)}function De(s,e,...i){if(!s)throw Ap(e,...i)}function ps(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Qc(e),new Error(e)}function Ts(s,e){s||ps(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function gN(){return Mv()==="http:"||Mv()==="https:"}function Mv(){return typeof self<"u"&&self.location?.protocol||null}function yN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gN()||MA()||"connection"in navigator)?navigator.onLine:!0}function _N(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class iu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ts(i>e,"Short delay should be less than long delay!"),this.isMobile=CA()||VA()}get(){return yN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(s,e){Ts(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class GE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EN=new iu(3e4,6e4);function wp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xo(s,e,i,r,l={}){return QE(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const y=$l({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...c};return OA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(_.credentials="include"),GE.fetch()(await YE(s,s.config.apiHost,i,y),_)})}async function QE(s,e,i){s._canInitEmulator=!1;const r={...vN,...e};try{const l=new SN(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Pc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Pc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Pc(s,"user-disabled",d);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Sp(s,S,_);Yi(s,S)}}catch(l){if(l instanceof Ss)throw l;Yi(s,"network-request-failed",{message:String(l)})}}async function TN(s,e,i,r,l={}){const c=await xo(s,e,i,r,l);return"mfaPendingCredential"in c&&Yi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function YE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?xp(s.config,l):`${s.config.apiScheme}://${l}`;return bN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class SN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),EN.get())})}}function Pc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=yi(s,e,r);return l.customData._tokenResponse=i,l}async function AN(s,e){return xo(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return xo(s,"POST","/v1/accounts:lookup",e)}function Pl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xN(s,e=!1){const i=Wt(s),r=await i.getIdToken(e),l=Rp(r);De(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Pl(rm(l.auth_time)),issuedAtTime:Pl(rm(l.iat)),expirationTime:Pl(rm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function Rp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=tb(i);return l?JSON.parse(l):(Qc("Failed to decode base64 JWT payload"),null)}catch(l){return Qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Vv(s){const e=Rp(s);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Kl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ss&&wN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function wN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class RN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(s){const e=s.auth,i=await s.getIdToken(),r=await Kl(s,hh(e,{idToken:i}));De(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?KE(l.providerUserInfo):[],d=IN(s.providerData,c),y=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=y?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Vm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function NN(s){const e=Wt(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IN(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function KE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function CN(s,e){const i=await QE(s,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await YE(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(v.credentials="include"),GE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DN(s,e){return xo(s,"POST","/v2/accounts:revokeToken",wp(s,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){De(e.length!==0,"internal-error");const i=Vv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await CN(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new ao;return r&&(De(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(De(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(De(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ps("not implemented")}}function nr(s,e){De(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new RN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return De(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return xN(this,e)}reload(){return NN(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Kl(this,AN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:Q,providerData:W,stsTokenManager:oe}=i;De(A&&oe,e,"internal-error");const se=ao.fromJSON(this.name,oe);De(typeof A=="string",e,"internal-error"),nr(r,e.name),nr(l,e.name),De(typeof M=="boolean",e,"internal-error"),De(typeof Q=="boolean",e,"internal-error"),nr(c,e.name),nr(d,e.name),nr(y,e.name),nr(v,e.name),nr(_,e.name),nr(S,e.name);const be=new gi({uid:A,auth:e,email:l,emailVerified:M,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:se,createdAt:_,lastLoginAt:S});return W&&Array.isArray(W)&&(be.providerData=W.map(Me=>({...Me}))),v&&(be._redirectEventId=v),be}static async _fromIdTokenResponse(e,i,r=!1){const l=new ao;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await fh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];De(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?KE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new ao;y.updateFromIdToken(r);const v=new gi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const kv=new Map;function gs(s){Ts(s instanceof Function,"Expected a class definition");let e=kv.get(s);return e?(Ts(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,kv.set(s,e),e)}class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}XE.type="NONE";const jv=XE;function Yc(s,e,i){return`firebase:${s}:${e}:${i}`}class oo{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Yc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Yc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await hh(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new oo(gs(jv),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||gs(jv);const d=Yc(r,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await hh(e,{idToken:S}).catch(()=>{});if(!M)break;A=await gi._fromGetAccountInfoResponse(e,M,S)}else A=gi._fromJSON(e,S);_!==c&&(y=A),c=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new oo(c,e,r):(c=v[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new oo(c,e,r))}}function Lv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t1(e))return"Blackberry";if(n1(e))return"Webos";if(ZE(e))return"Safari";if((e.includes("chrome/")||JE(e))&&!e.includes("edge/"))return"Chrome";if(e1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function $E(s=pn()){return/firefox\//i.test(s)}function ZE(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(s=pn()){return/crios\//i.test(s)}function WE(s=pn()){return/iemobile/i.test(s)}function e1(s=pn()){return/android/i.test(s)}function t1(s=pn()){return/blackberry/i.test(s)}function n1(s=pn()){return/webos/i.test(s)}function Np(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ON(s=pn()){return Np(s)&&!!window.navigator?.standalone}function MN(){return kA()&&document.documentMode===10}function i1(s=pn()){return Np(s)||e1(s)||n1(s)||t1(s)||/windows phone/i.test(s)||WE(s)}function s1(s,e=[]){let i;switch(s){case"Browser":i=Lv(pn());break;case"Worker":i=`${Lv(pn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${r}`}class VN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,y)=>{try{const v=e(c);d(v)}catch(v){y(v)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function kN(s,e={}){return xo(s,"GET","/v2/passwordPolicy",wp(s,e))}const jN=6;class LN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class UN{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new VN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await hh(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(r=y.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_N()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(ia(this));const i=e?Wt(e):null;return i&&De(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kN(this),i=new LN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await DN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;De(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,r,l);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Uh(s){return Wt(s)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=HA(i=>this.observer=i)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(s){Ip=s}function zN(s){return Ip.loadJS(s)}function qN(){return Ip.gapiScript}function BN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function HN(s,e){const i=Pm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(sa(c,e??{}))return l;Yi(l,"already-initialized")}return i.initialize({options:e})}function FN(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function GN(s,e,i){const r=Uh(s);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=r1(e),{host:d,port:y}=QN(e),v=y===null?"":`:${y}`,_={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(sa(_,r.config.emulator)&&sa(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,_o(d)?(rb(`${c}//${d}${v}`),ab("Auth",!0)):YN()}function r1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function QN(s){const e=r1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Pv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Pv(d)}}}function Pv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function YN(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class a1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function lo(s,e){return TN(s,"POST","/v1/accounts:signInWithIdp",wp(s,e))}const KN="http://localhost";class la extends a1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Yi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new la(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return lo(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,lo(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,lo(e,i)}buildRequest(){const e={requestUri:KN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$l(i)}return e}}class Cp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends Cp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends su{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class ms extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return ms.credential(i,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";class rr extends su{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends su{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ar.credential(i,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await gi._fromIdTokenResponse(e,r,l),d=zv(r);return new yo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=zv(r);return new yo({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function zv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class dh extends Ss{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new dh(e,i,r,l)}}function o1(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(s,c,e,r):c})}async function XN(s,e,i=!1){const r=await Kl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return yo._forOperation(s,"link",r)}async function $N(s,e,i=!1){const{auth:r}=s;if(pi(r.app))return Promise.reject(ia(r));const l="reauthenticate";try{const c=await Kl(s,o1(r,l,e,s),i);De(c.idToken,r,"internal-error");const d=Rp(c.idToken);De(d,r,"internal-error");const{sub:y}=d;return De(s.uid===y,r,"user-mismatch"),yo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Yi(r,"user-mismatch"),c}}async function ZN(s,e,i=!1){if(pi(s.app))return Promise.reject(ia(s));const r="signIn",l=await o1(s,r,e),c=await yo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function JN(s,e,i,r){return Wt(s).onIdTokenChanged(e,i,r)}function WN(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function eI(s,e,i,r){return Wt(s).onAuthStateChanged(e,i,r)}function tI(s){return Wt(s).signOut()}const mh="__sak";class l1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nI=1e3,iI=10;class u1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);MN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,iI):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}u1.type="LOCAL";const sI=u1;class c1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}c1.type="SESSION";const h1=c1;function rI(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Ph(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),v=await rI(y);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];function Dp(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class aI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,v)=>{const _=Dp("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function oI(s){Gi().location.href=s}function f1(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function lI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){return navigator?.serviceWorker?.controller||null}function cI(){return f1()?self:null}const d1="firebaseLocalStorageDb",hI=1,ph="firebaseLocalStorage",m1="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function zh(s,e){return s.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function fI(){const s=indexedDB.deleteDatabase(d1);return new ru(s).toPromise()}function km(){const s=indexedDB.open(d1,hI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ph,{keyPath:m1})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await fI(),e(await km()))})})}async function qv(s,e,i){const r=zh(s,!0).put({[m1]:e,value:i});return new ru(r).toPromise()}async function dI(s,e){const i=zh(s,!1).get(e),r=await new ru(i).toPromise();return r===void 0?null:r.value}function Bv(s,e){const i=zh(s,!0).delete(e);return new ru(i).toPromise()}const mI=800,pI=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>pI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lI(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await qv(e,mh,"1"),await Bv(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>qv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>dI(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=zh(l,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const gI=p1;new iu(3e4,6e4);function g1(s,e){return e?gs(e):(De(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Op extends a1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return lo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function yI(s){return ZN(s.auth,new Op(s),s.bypassAuthState)}function _I(s){const{auth:e,user:i}=s;return De(i,e,"internal-error"),$N(i,new Op(s),s.bypassAuthState)}async function vI(s){const{auth:e,user:i}=s;return De(i,e,"internal-error"),XN(i,new Op(s),s.bypassAuthState)}class y1{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yI;case"linkViaPopup":case"linkViaRedirect":return vI;case"reauthViaPopup":case"reauthViaRedirect":return _I;default:Yi(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bI=new iu(2e3,1e4);async function EI(s,e,i){if(pi(s.app))return Promise.reject(yi(s,"operation-not-supported-in-this-environment"));const r=Uh(s);pN(s,e,Cp);const l=g1(r,i);return new ea(r,"signInViaPopup",e,l).executeNotNull()}class ea extends y1{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bI.get())};e()}}ea.currentPopupAction=null;const TI="pendingRedirect",Kc=new Map;class SI extends y1{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await AI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AI(s,e){const i=RI(e),r=wI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function xI(s,e){Kc.set(s._key(),e)}function wI(s){return gs(s._redirectPersistence)}function RI(s){return Yc(TI,s.config.apiKey,s.name)}async function NI(s,e,i=!1){if(pi(s.app))return Promise.reject(ia(s));const r=Uh(s),l=g1(r,e),d=await new SI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const II=600*1e3;class CI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!_1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(yi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=II&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hv(e))}saveEventToCache(e){this.cachedEventUids.add(Hv(e)),this.lastProcessedEventTime=Date.now()}}function Hv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function _1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function DI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(s);default:return!1}}async function OI(s,e={}){return xo(s,"GET","/v1/projects",e)}const MI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VI=/^https?/;async function kI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await OI(s);for(const i of e)try{if(jI(i))return}catch{}Yi(s,"unauthorized-domain")}function jI(s){const e=Mm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!VI.test(i))return!1;if(MI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const LI=new iu(3e4,6e4);function Fv(){const s=Gi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function UI(s){return new Promise((e,i)=>{function r(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),i(yi(s,"network-request-failed"))},timeout:LI.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)r();else{const l=BN("iframefcb");return Gi()[l]=()=>{gapi.load?r():i(yi(s,"network-request-failed"))},zN(`${qN()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function PI(s){return Xc=Xc||UI(s),Xc}const zI=new iu(5e3,15e3),qI="__/auth/iframe",BI="emulator/auth/iframe",HI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GI(s){const e=s.config;De(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?xp(e,BI):`https://${s.config.authDomain}/${qI}`,r={apiKey:e.apiKey,appName:s.name,v:vo},l=FI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${$l(r).slice(1)}`}async function QI(s){const e=await PI(s),i=Gi().gapi;return De(i,s,"internal-error"),e.open({where:document.body,url:GI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=yi(s,"network-request-failed"),y=Gi().setTimeout(()=>{c(d)},zI.get());function v(){Gi().clearTimeout(y),l(r)}r.ping(v).then(v,()=>{c(d)})}))}const YI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KI=500,XI=600,$I="_blank",ZI="http://localhost";class Gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JI(s,e,i,r=KI,l=XI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...YI,width:r.toString(),height:l.toString(),top:c,left:d},_=pn().toLowerCase();i&&(y=JE(_)?$I:i),$E(_)&&(e=e||ZI,v.scrollbars="yes");const S=Object.entries(v).reduce((M,[Q,W])=>`${M}${Q}=${W},`,"");if(ON(_)&&y!=="_self")return WI(e||"",y),new Gv(null);const A=window.open(e||"",y,S);De(A,s,"popup-blocked");try{A.focus()}catch{}return new Gv(A)}function WI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const eC="__/auth/handler",tC="emulator/auth/handler",nC=encodeURIComponent("fac");async function Qv(s,e,i,r,l,c){De(s.config.authDomain,s,"auth-domain-config-required"),De(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:vo,eventId:l};if(e instanceof Cp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",BA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof su){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const v=await s._getAppCheckToken(),_=v?`#${nC}=${encodeURIComponent(v)}`:"";return`${iC(s)}?${$l(y).slice(1)}${_}`}function iC({config:s}){return s.emulator?xp(s,tC):`https://${s.authDomain}/${eC}`}const am="webStorageSupport";class sC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=NI,this._overrideRedirectResult=xI}async _openPopup(e,i,r,l){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Qv(e,i,r,Mm(),l);return JI(e,c,Dp())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await Qv(e,i,r,Mm(),l);return oI(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await QI(e),r=new CI(e);return i.register("authEvent",l=>(De(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(am,{type:am},l=>{const c=l?.[0]?.[am];c!==void 0&&i(!!c),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return i1()||ZE()||Np()}}const rC=sC;var Yv="@firebase/auth",Kv="1.11.1";class aC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lC(s){uo(new ra("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;De(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(s)},_=new UN(r,l,c,v);return FN(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),uo(new ra("auth-internal",e=>{const i=Uh(e.getProvider("auth").getImmediate());return(r=>new aC(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(Yv,Kv,oC(s)),cr(Yv,Kv,"esm2020")}const uC=300,cC=sb("authIdTokenMaxAge")||uC;let Xv=null;const hC=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>cC)return;const l=i?.token;Xv!==l&&(Xv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function fC(s=cb()){const e=Pm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=HN(s,{popupRedirectResolver:rC,persistence:[gI,sI,h1]}),r=sb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=hC(c.toString());WN(i,d,()=>d(i.currentUser)),JN(i,y=>d(y))}}const l=nb("auth");return l&&GN(i,`http://${l}`),i}function dC(){return document.getElementsByTagName("head")?.[0]??document}PN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=yi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",dC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lC("Browser");const mC={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},v1=ub(mC),_n=JR(v1),om=fC(v1),pC=new ms;class au{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const gC=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},ln={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:gC()},Mp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},yC=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Mp(s);ln.publicKey=i.publicKey,ln.blockHeadless=i.blockHeadless,ln.storageProvider=i.storageProvider,ln.blockList=i.blockList,ln.limitRate=i.limitRate,ln.origin=i.origin||e},b1=async(s,e,i={})=>{const r=await fetch(ln.origin+s,{method:"POST",headers:i,body:e}),l=await r.text(),c=new au(r.status,l);if(r.ok)return c;throw c},E1=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},_C=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},T1=s=>s.webdriver||!s.languages||s.languages.length===0,S1=()=>new au(451,"Unavailable For Headless Browser"),vC=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},bC=s=>!s.list?.length||!s.watchVariable,EC=(s,e)=>s instanceof FormData?s.get(e):s[e],A1=(s,e)=>{if(bC(s))return!1;vC(s.list,s.watchVariable);const i=EC(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},x1=()=>new au(403,"Forbidden"),TC=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},SC=async(s,e,i)=>{const r=Number(await i.get(s)||0);return e-Date.now()+r},w1=async(s,e,i)=>{if(!e.throttle||!i)return!1;TC(e.throttle,e.id);const r=e.id||s;return await SC(r,e.throttle,i)>0?!0:(await i.set(r,Date.now().toString()),!1)},R1=()=>new au(429,"Too Many Requests"),AC=async(s,e,i,r)=>{const l=Mp(r),c=l.publicKey||ln.publicKey,d=l.blockHeadless||ln.blockHeadless,y=l.storageProvider||ln.storageProvider,v={...ln.blockList,...l.blockList},_={...ln.limitRate,...l.limitRate};return d&&T1(navigator)?Promise.reject(S1()):(E1(c,s,e),_C(i),i&&A1(v,i)?Promise.reject(x1()):await w1(location.pathname,_,y)?Promise.reject(R1()):b1("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},xC=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},wC=s=>typeof s=="string"?document.querySelector(s):s,RC=async(s,e,i,r)=>{const l=Mp(r),c=l.publicKey||ln.publicKey,d=l.blockHeadless||ln.blockHeadless,y=ln.storageProvider||l.storageProvider,v={...ln.blockList,...l.blockList},_={...ln.limitRate,...l.limitRate};if(d&&T1(navigator))return Promise.reject(S1());const S=wC(i);E1(c,s,e),xC(S);const A=new FormData(S);return A1(v,A)?Promise.reject(x1()):await w1(location.pathname,_,y)?Promise.reject(R1()):(A.append("lib_version","4.4.1"),A.append("service_id",s),A.append("template_id",e),A.append("user_id",c),b1("/api/v1.0/email/send-form",A))},NC={init:yC,send:AC,sendForm:RC,EmailJSResponseStatus:au},IC="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",lm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},$v=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","erivers@salpointe.org"],um={"Cinema Camera Kit *":1,"Gimbal / Stabilizer *":6,"DJI Mic Kit (Wireless)":4,"DJI Flip Drone *":1,Tripod:4,"Lighting Kit":6,"DSLR Camera Body":6,"Zoom Lens (18-55mm)":6,"Telephoto Lens (70-200mm)":2,"Portrait Lens (50mm)":3,"SD Card Reader":5,"Flash Unit":3},ze={FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory"},Zr=s=>`salpointe_draft_${s}`,Zv=s=>{NC.send(lm.SERVICE_ID,lm.TEMPLATE_ID,s,lm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},CC=()=>{const[s,e]=Re.useState("home"),[i,r]=Re.useState(!1),[l,c]=Re.useState(null),[d,y]=Re.useState(!1),[v,_]=Re.useState(um),[S,A]=Re.useState([]);Re.useEffect(()=>{const ue=eI(om,me=>{me?(c(me),y($v.includes(me.email))):(c(null),y(!1))});return()=>ue()},[]),Re.useEffect(()=>{(async()=>{const X=ir(_n,"settings","inventory"),ie=await cN(X);ie.exists()?_(ie.data()):(await im(X,um),_(um))})();const me=$r(tr(_n,"blackout_dates")),L=Il(me,X=>{const ie=X.docs.map(ne=>ne.id);A(ie)});return()=>L()},[]);const M=async()=>{try{await EI(om,pC)}catch(ue){console.error("Login failed:",ue),alert("Login failed.")}},Q=async()=>{await tI(om),W()},W=()=>{e("home"),r(!1)},oe=["home",ze.FILM,ze.GRAPHIC,ze.BUSINESS,ze.CULINARY,ze.PHOTO].includes(s);return p.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30",children:[p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),p.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),p.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[p.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:W,children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),p.jsx("img",{src:IC,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),p.jsxs("div",{children:[p.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",p.jsx("span",{className:"text-red-500",children:"CTE"})]}),p.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),p.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!oe&&s!=="home"&&p.jsxs("button",{onClick:W,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[p.jsx(bS,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),p.jsxs("button",{onClick:()=>{e(ze.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ze.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[p.jsx(Oc,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),l?p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{e(ze.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ze.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[p.jsx(p_,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{e(ze.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ze.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[p.jsx(m_,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),p.jsxs("button",{onClick:()=>{e(ze.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ze.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[p.jsx(IS,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),p.jsxs("button",{onClick:()=>{e(ze.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===ze.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[p.jsx(y_,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),p.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),p.jsx("button",{onClick:Q,className:"ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all flex items-center gap-2",title:`Logged in as ${l.email}`,children:p.jsx($S,{size:16})})]}):p.jsxs("button",{onClick:M,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[p.jsx(KS,{size:16})," Login"]})]})]})}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10",children:i?p.jsx(se,{onReset:W}):p.jsxs(p.Fragment,{children:[s==="home"&&p.jsx(be,{onViewChange:e,currentUser:l}),s===ze.FILM&&p.jsx(I,{setSubmitted:r,onCancel:W,currentUser:l,inventory:v,blackouts:S}),s===ze.GRAPHIC&&p.jsx(V,{setSubmitted:r,onCancel:W,currentUser:l}),s===ze.BUSINESS&&p.jsx(O,{setSubmitted:r,onCancel:W,currentUser:l}),s===ze.CULINARY&&p.jsx(j,{setSubmitted:r,onCancel:W,currentUser:l}),s===ze.PHOTO&&p.jsx(R,{setSubmitted:r,onCancel:W,currentUser:l,inventory:v,blackouts:S}),s===ze.CALENDAR&&p.jsx(Ke,{adminMode:d,blackouts:S}),s===ze.QUEUE&&p.jsx(C,{adminMode:d,setAdminMode:y,ALLOWED_ADMINS:$v}),s===ze.MY_REQUESTS&&p.jsx(dt,{currentUser:l}),s===ze.ANALYTICS&&d&&p.jsx(st,{}),s===ze.INVENTORY&&d&&p.jsx(Ae,{inventory:v,setInventory:_})]})})]});function se({onReset:ue}){return p.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[p.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:p.jsx(zS,{size:40})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),p.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),p.jsx("button",{onClick:ue,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Submit Another Request"})]})}function be({onViewChange:ue,currentUser:me}){const[L,X]=Re.useState({});Re.useEffect(()=>{(()=>{const pe={},x={[ze.FILM]:"Film",[ze.GRAPHIC]:"Graphic",[ze.BUSINESS]:"Business",[ze.CULINARY]:"Culinary",[ze.PHOTO]:"Photo"};Object.keys(x).forEach(q=>{const $=Zr(x[q]);localStorage.getItem($)&&(pe[q]=!0)}),X(pe)})()},[]);const ie=[{id:ze.FILM,title:"Film & TV",icon:v_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:ze.GRAPHIC,title:"Graphic Design",icon:g_,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:ze.BUSINESS,title:"Business",icon:Fd,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:ze.CULINARY,title:"Culinary Arts",icon:__,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:ze.PHOTO,title:"Photography",icon:Gd,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"col-span-full mb-4",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:me?`Welcome, ${me.displayName.split(" ")[0]}.`:"Welcome, Lancer."}),p.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),ie.map(ne=>p.jsxs("div",{onClick:()=>ue(ne.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${ne.bg}`,children:[L[ne.id]&&p.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[p.jsx(Mc,{size:12})," RESUME"]}),p.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${ne.color} transition-transform group-hover:scale-110 duration-300`,children:p.jsx(ne.icon,{size:28})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:ne.title}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:ne.desc})]},ne.id))]})}function Me({initialData:ue={},currentUser:me}){const L=me?.displayName||ue.fullName||"",X=me?.email||ue.email||"";return p.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[p.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[p.jsx(hA,{size:18})," Identity Verification"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),p.jsx("input",{name:"requestName",type:"text",defaultValue:ue.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),p.jsx("input",{name:"fullName",type:"text",defaultValue:L,readOnly:!!me,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${me?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),p.jsx("input",{name:"email",type:"email",defaultValue:X,readOnly:!!me,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${me?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),p.jsxs("select",{name:"role",defaultValue:ue.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[p.jsx("option",{children:"Student"}),p.jsx("option",{children:"Faculty / Staff"}),p.jsx("option",{children:"Club Representative"})]})]})]})]})}function Ae({inventory:ue,setInventory:me}){const[L,X]=Re.useState(ue),[ie,ne]=Re.useState(!1),pe=(q,$)=>{X(ee=>({...ee,[q]:parseInt($)||0}))},x=async()=>{ne(!0);try{await im(ir(_n,"settings","inventory"),L),me(L),alert("Inventory updated successfully!")}catch(q){console.error("Error saving inventory:",q),alert("Failed to save inventory.")}ne(!1)};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6 flex justify-between items-center",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[p.jsx(y_,{className:"text-amber-400"})," Inventory Matrix"]})}),p.jsxs("button",{onClick:x,disabled:ie,className:"bg-amber-600 hover:bg-amber-500 text-slate-900 px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50 shadow-[0_0_15px_rgba(245,158,11,0.3)]",children:[ie?p.jsx(tA,{className:"animate-spin",size:18}):p.jsx(Mc,{size:18})," ",ie?"Processing...":"Save"]})]}),p.jsx("div",{className:"p-6",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(L).map(([q,$])=>p.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700 flex justify-between items-center hover:border-slate-600 transition-colors",children:[p.jsx("span",{className:"font-mono text-slate-300 text-sm truncate mr-4",children:q.replace("*","")}),p.jsx("input",{type:"number",min:"0",value:$,onChange:ee=>pe(q,ee.target.value),className:"w-20 p-2 bg-slate-950 border border-slate-700 rounded text-center font-bold text-cyan-400 focus:border-cyan-500 outline-none"})]},q))})})]})}function st(){const[ue,me]=Re.useState(!0),[L,X]=Re.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});Re.useEffect(()=>{const ne=$r(tr(_n,"requests")),pe=Il(ne,x=>{let q=0,$=0,ee=0,he={},ge={};x.forEach(Ee=>{const Ne=Ee.data();q++,(Ne.status==="Approved"||Ne.status==="Completed")&&$++,Ne.status==="Pending Review"&&ee++,he[Ne.dept]=(he[Ne.dept]||0)+1,Ne.equipment&&(Array.isArray(Ne.equipment)?Ne.equipment:[Ne.equipment]).forEach(Mt=>{ge[Mt]=(ge[Mt]||0)+1})});const ve=Object.entries(ge).sort(([,Ee],[,Ne])=>Ne-Ee).slice(0,5);X({total:q,approved:$,pending:ee,deptCounts:he,topEquipment:ve}),me(!1)});return()=>pe()},[]);const ie=L.total>0?Math.round(L.approved/L.total*100):0;return p.jsx("div",{className:"space-y-6 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("div",{children:p.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[p.jsx(oA,{className:"text-emerald-400"})," Data Analytics"]})}),p.jsxs("div",{className:"bg-slate-800 border border-slate-700 px-4 py-2 rounded-lg text-cyan-400 font-mono text-sm",children:["Total Requests: ",p.jsx("strong",{children:L.total})]})]}),ue?p.jsx("div",{className:"text-center py-12 text-slate-500 font-mono",children:"CALCULATING..."}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-emerald-950/30 rounded-xl p-5 border border-emerald-500/20",children:[p.jsx("h4",{className:"text-emerald-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Approval Rate"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsxs("span",{className:"text-4xl font-bold text-emerald-400 font-mono",children:[ie,"%"]})})]}),p.jsxs("div",{className:"bg-blue-950/30 rounded-xl p-5 border border-blue-500/20",children:[p.jsx("h4",{className:"text-blue-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Completed"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsx("span",{className:"text-4xl font-bold text-blue-400 font-mono",children:L.approved})})]}),p.jsxs("div",{className:"bg-amber-950/30 rounded-xl p-5 border border-amber-500/20",children:[p.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Pending"}),p.jsx("div",{className:"flex items-end gap-2",children:p.jsx("span",{className:"text-4xl font-bold text-amber-400 font-mono",children:L.pending})})]}),p.jsxs("div",{className:"md:col-span-2 bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[p.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(DS,{size:16,className:"text-purple-400"})," Requests by Department"]}),p.jsx("div",{className:"space-y-4",children:Object.entries(L.deptCounts).sort(([,ne],[,pe])=>pe-ne).map(([ne,pe])=>{const x=pe/L.total*100;return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-xs mb-2 font-mono",children:[p.jsx("span",{className:"text-slate-400",children:ne}),p.jsx("span",{className:"text-cyan-400",children:pe})]}),p.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:p.jsx("div",{className:"bg-purple-500 h-2 rounded-full shadow-[0_0_10px_rgba(168,85,247,0.5)]",style:{width:`${x}%`}})})]},ne)})})]}),p.jsxs("div",{className:"bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[p.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(Gd,{size:16,className:"text-pink-400"})," Top Gear"]}),p.jsx("ul",{className:"space-y-3",children:L.topEquipment.map(([ne,pe],x)=>p.jsxs("li",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 text-cyan-400 flex items-center justify-center text-xs font-mono border border-slate-700",children:x+1}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:ne.replace(" *","")}),p.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[pe," uses"]})]})]},ne))})]})]})]})})}function dt({currentUser:ue}){const[me,L]=Re.useState([]),[X,ie]=Re.useState(!0);Re.useEffect(()=>{if(!ue)return;const x=$r(tr(_n,"requests"),Nl("email","==",ue.email),Iv("createdAt","desc")),q=Il(x,$=>{const ee=$.docs.map(he=>({id:he.id,...he.data(),formattedDate:he.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));L(ee),ie(!1)});return()=>q()},[ue]);const ne=async x=>{window.confirm("Are you sure?")&&await sm(ir(_n,"requests",x))},pe=x=>{const q={Approved:"bg-green-950/50 text-green-400 border-green-500/30",Denied:"bg-red-950/50 text-red-400 border-red-500/30",Completed:"bg-slate-800 text-slate-400 border-slate-700",default:"bg-amber-950/50 text-amber-400 border-amber-500/30"},$=q[x]||q.default;return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${$}`,children:x})};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[p.jsx("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6",children:p.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[p.jsx(p_,{className:"text-cyan-400"})," My Request History"]})}),p.jsx("div",{className:"overflow-x-auto",children:X?p.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"LOADING DATA..."}):me.length===0?p.jsx("div",{className:"p-12 text-center text-slate-500",children:"No records found in local database."}):p.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-800/50 border-b border-slate-700 text-xs uppercase text-slate-400 font-mono",children:[p.jsx("th",{className:"p-4",children:"Ref ID"}),p.jsx("th",{className:"p-4",children:"Dept"}),p.jsx("th",{className:"p-4",children:"Project"}),p.jsx("th",{className:"p-4",children:"Date Submitted"}),p.jsx("th",{className:"p-4",children:"Status"}),p.jsx("th",{className:"p-4",children:"Action"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800",children:me.map(x=>p.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[p.jsx("td",{className:"p-4 text-cyan-400 font-mono text-xs",children:x.displayId}),p.jsx("td",{className:"p-4 text-slate-300 text-sm capitalize",children:x.dept}),p.jsx("td",{className:"p-4 font-semibold text-white text-sm",children:x.title}),p.jsx("td",{className:"p-4 text-slate-400 text-sm font-mono",children:x.formattedDate}),p.jsx("td",{className:"p-4",children:pe(x.status)}),p.jsx("td",{className:"p-4",children:x.status==="Pending Review"&&p.jsx("button",{onClick:()=>ne(x.id),className:"text-xs text-red-400 border border-red-900 hover:bg-red-950/50 px-3 py-1 rounded transition-colors",children:"Cancel"})})]},x.id))})]})})]})}function Ke({adminMode:ue,blackouts:me}){const[L,X]=Re.useState(new Date),[ie,ne]=Re.useState(null),[pe,x]=Re.useState("all"),[q,$]=Re.useState([]),[ee,he]=Re.useState(!0),ge=()=>X(new Date(L.setMonth(L.getMonth()+1))),ve=()=>X(new Date(L.setMonth(L.getMonth()-1)));Re.useEffect(()=>{const te=$r(tr(_n,"requests")),Te=Il(te,Ue=>{const Kt=Ue.docs.map(St=>{const Et=St.data();let Vt=Et.eventDate||Et.checkoutDate||Et.pickupDate||Et.deadline;if(!Vt)return null;const[ni,Ki,In]=Vt.split("-").map(Number),zn=new Date(ni,Ki-1,In);return{id:St.id,title:Et.title||Et.requestName||"Request",displayId:Et.displayId,dept:Et.dept,type:Et.requestType==="checkout"||Et.dept==="Graphic"?"checkout":"event",status:Et.status,date:zn,...Et}}).filter(St=>St!==null&&St.status==="Approved");$(Kt),he(!1)});return()=>Te()},[]);const Ee=async te=>{const Ue=new Date(L.getFullYear(),L.getMonth(),te).toISOString().split("T")[0];if(ue){me.includes(Ue)?window.confirm(`Re-open ${Ue}?`)&&await sm(ir(_n,"blackout_dates",Ue)):window.confirm(`Blackout ${Ue}?`)&&await im(ir(_n,"blackout_dates",Ue),{reason:"Closed"});return}ne(ie===te?null:te)},Ne=te=>{const Te=te.getFullYear(),Ue=te.getMonth(),Kt=new Date(Te,Ue+1,0).getDate(),St=new Date(Te,Ue,1).getDay();return{days:Kt,firstDay:St,monthName:te.toLocaleString("default",{month:"long"}),year:Te}},{days:Ot,firstDay:Mt,monthName:ae,year:Ie}=Ne(L),xe=Array.from({length:Ot},(te,Te)=>Te+1),Ce=Array.from({length:Mt},(te,Te)=>Te),We=te=>q.filter(Te=>Te.date.getDate()===te&&Te.date.getMonth()===L.getMonth()&&Te.date.getFullYear()===L.getFullYear()&&(pe==="all"||Te.dept===pe)),Xe=te=>{const Te="https://calendar.google.com/calendar/render?action=TEMPLATE",Ue=`&text=${encodeURIComponent(`[${te.dept}] ${te.title}`)}`,Kt=`&details=${encodeURIComponent(`Ref: ${te.displayId}
Requested by: ${te.fullName}
Role: ${te.role}
Details: ${te.details||te.brief||te.description||"N/A"}`)}`,St=`&location=${encodeURIComponent(te.location||"Salpointe Catholic High School")}`,Et=te.date.getFullYear(),Vt=String(te.date.getMonth()+1).padStart(2,"0"),ni=String(te.date.getDate()).padStart(2,"0"),Ki=`${Et}${Vt}${ni}`,In=new Date(te.date);In.setDate(In.getDate()+1);const zn=In.getFullYear(),wo=String(In.getMonth()+1).padStart(2,"0"),ha=String(In.getDate()).padStart(2,"0"),fa=`${zn}${wo}${ha}`,da=`&dates=${Ki}/${fa}`;return`${Te}${Ue}${da}${Kt}${St}`};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[p.jsxs("div",{className:"bg-slate-950/50 p-6 border-b border-slate-800 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsx("div",{children:p.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[p.jsx("button",{onClick:ve,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:p.jsx(LS,{size:24})}),p.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[ae," ",p.jsx("span",{className:"text-slate-500",children:Ie})]}),p.jsx("button",{onClick:ge,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:p.jsx(kS,{size:24})})]})}),p.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",ze.FILM,ze.PHOTO,ze.CULINARY].map(te=>p.jsx("button",{onClick:()=>x(te),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${pe===te?"bg-cyan-600 text-white shadow-[0_0_10px_rgba(8,145,178,0.4)]":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:te==="all"?"All":te},te))})]}),p.jsxs("div",{className:"p-6",children:[ue&&p.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 border border-slate-700 rounded text-xs text-slate-400 flex items-center gap-2 font-mono",children:[p.jsx(h_,{size:14,className:"text-red-400"})," Admin Mode: Click a date to toggle blackout."]}),p.jsx("div",{className:"overflow-x-auto pb-2",children:ee?p.jsx("div",{className:"text-center py-8 text-slate-500 font-mono",children:"LOADING MATRIX..."}):p.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-800 border border-slate-800 rounded-xl overflow-hidden shadow-inner",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(te=>p.jsx("div",{className:"bg-slate-900 p-2 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:te},te)),Ce.map(te=>p.jsx("div",{className:"bg-slate-950/50 min-h-[80px] md:min-h-[100px]"},`empty-${te}`)),xe.map(te=>{const Te=We(te),Ue=te===new Date().getDate()&&L.getMonth()===new Date().getMonth()&&L.getFullYear()===new Date().getFullYear(),Kt=new Date(Ie,L.getMonth(),te).toISOString().split("T")[0],St=me.includes(Kt);return p.jsxs("div",{className:`min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-800 relative group cursor-pointer transition-colors 
                        ${St?"bg-slate-900/30":"bg-slate-950/50"} 
                        ${ie===te?"bg-cyan-900/20 border-cyan-500/30":"hover:bg-slate-900"}`,onClick:()=>Ee(te),children:[p.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${Ue?"bg-red-600 text-white shadow-[0_0_10px_rgba(220,38,38,0.5)]":"text-slate-400"}`,children:te}),St?p.jsx("div",{className:"flex justify-center mt-2",children:p.jsx(h_,{className:"text-red-900/50",size:20})}):p.jsx("div",{className:"space-y-1",children:Te.map(Et=>p.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${Et.type==="checkout"?"bg-cyan-950/50 text-cyan-400 border-cyan-800/50":"bg-emerald-950/50 text-emerald-400 border-emerald-800/50"}`,children:Et.title},Et.id))})]},te)})]})}),ie&&!me.includes(new Date(Ie,L.getMonth(),ie).toISOString().split("T")[0])&&p.jsxs("div",{className:"mt-6 p-4 bg-slate-900/50 rounded-xl border border-slate-800 animate-fade-in",children:[p.jsxs("h4",{className:"font-bold text-white mb-3 flex items-center gap-2",children:[p.jsx(Oc,{size:16,className:"text-cyan-400"})," ",ae," ",ie]}),We(ie).length===0?p.jsx("p",{className:"text-slate-500 text-sm",children:"Sector clear. No events."}):p.jsx("div",{className:"space-y-3",children:We(ie).map(te=>p.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded-lg border border-slate-700 shadow-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-200 text-sm",children:te.title}),p.jsxs("p",{className:"text-xs text-slate-400 uppercase",children:[te.dept,"  ",te.fullName]})]}),p.jsx("a",{href:Xe(te),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white transition-colors",children:p.jsx(xS,{size:16})})]},te.id))})]})]})]})}function C({adminMode:ue,setAdminMode:me,ALLOWED_ADMINS:L}){const[X,ie]=Re.useState([]),[ne,pe]=Re.useState("all"),[x,q]=Re.useState(!0),[$,ee]=Re.useState(null),[he,ge]=Re.useState("");Re.useEffect(()=>{const ae=$r(tr(_n,"requests"),Iv("createdAt","desc")),Ie=Il(ae,xe=>{const Ce=xe.docs.map(We=>({id:We.id,...We.data(),formattedDate:We.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));ie(Ce),q(!1)});return()=>Ie()},[]);const ve=async(ae,Ie)=>{window.confirm(`Confirm status change to: ${Ie}?`)&&(await hN(ir(_n,"requests",ae.id),{status:Ie}),$&&$.id===ae.id&&ee(xe=>({...xe,status:Ie})),Zv({to_name:ae.fullName,to_email:ae.email,subject:`Request Update: ${ae.title}`,title:ae.title,status:Ie,message:`Status updated to ${Ie}.`}))},Ee=async ae=>{window.confirm("Delete this record permanently?")&&(await sm(ir(_n,"requests",ae)),$&&$.id===ae&&ee(null))},Ne=()=>{const ae=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],Ie=X.map(Xe=>[Xe.displayId,Xe.dept,`"${Xe.title}"`,Xe.fullName,Xe.email,Xe.formattedDate,Xe.status,`"${(Xe.details||Xe.brief||Xe.description||"").replace(/"/g,'""')}"`]),xe="data:text/csv;charset=utf-8,"+[ae.join(","),...Ie.map(Xe=>Xe.join(","))].join(`
`),Ce=encodeURI(xe),We=document.createElement("a");We.setAttribute("href",Ce),We.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(We),We.click(),document.body.removeChild(We)},Ot=X.filter(ae=>{const Ie=ne==="all"?!0:ae.dept?.toLowerCase().includes(ne.toLowerCase()),xe=he.toLowerCase(),Ce=ae.title?.toLowerCase().includes(xe)||ae.fullName?.toLowerCase().includes(xe)||ae.displayId?.toLowerCase().includes(xe)||ae.email?.toLowerCase().includes(xe);return Ie&&Ce}),Mt=ae=>{switch(ae){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return p.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[$&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),p.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[p.jsxs("span",{children:["ID: ",$.displayId||"N/A"]}),p.jsxs("span",{className:"opacity-50",children:["| Ref: ",$.id]})]})]}),p.jsx("button",{onClick:()=>ee(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:p.jsx(Qd,{size:20})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),p.jsx("p",{className:"font-semibold text-white capitalize",children:$.dept})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${Mt($.status)}`,children:$.status})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),p.jsx("p",{className:"text-slate-200",children:$.fullName})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),p.jsx("p",{className:"text-slate-200 font-mono text-sm",children:$.email})]})]}),p.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[p.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[p.jsx(Fd,{size:16,className:"text-cyan-500"})," Mission Details"]}),p.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries($).map(([ae,Ie])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(ae)?null:Array.isArray(Ie)?p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ae}),p.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:Ie.map((xe,Ce)=>p.jsx("li",{children:xe},Ce))})]},ae):p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ae.replace(/([A-Z])/g," $1").trim()}),p.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:Ie})]},ae))})]}),ue&&p.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>ve($,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),p.jsx("button",{onClick:()=>ve($,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),p.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[p.jsx(m_,{className:"text-purple-400"})," Request Log"]}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[p.jsxs("div",{className:"relative flex-1 lg:w-64",children:[p.jsx(sA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),p.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:he,onChange:ae=>ge(ae.target.value)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:ne,onChange:ae=>pe(ae.target.value),children:[p.jsx("option",{value:"all",children:"All Sectors"}),p.jsx("option",{value:"film",children:"Film"}),p.jsx("option",{value:"graphic",children:"Graphic"}),p.jsx("option",{value:"business",children:"Business"}),p.jsx("option",{value:"culinary",children:"Culinary"}),p.jsx("option",{value:"photo",children:"Photo"})]}),ue&&p.jsxs("button",{onClick:Ne,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[p.jsx(HS,{size:16})," ",p.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:x?p.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):p.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[p.jsx("th",{className:"p-4",children:"ID Code"}),p.jsx("th",{className:"p-4",children:"Sector"}),p.jsx("th",{className:"p-4",children:"Objective"}),p.jsx("th",{className:"p-4",children:"Agent"}),p.jsx("th",{className:"p-4",children:"Status"}),p.jsx("th",{className:"p-4",children:"View"}),ue&&p.jsx("th",{className:"p-4",children:"Override"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-800",children:Ot.map(ae=>p.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[p.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:ae.displayId}),p.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:ae.dept}),p.jsx("td",{className:"p-4 text-white font-medium text-sm",children:ae.title}),p.jsx("td",{className:"p-4 text-slate-400 text-sm",children:ae.fullName}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${Mt(ae.status)}`,children:ae.status})}),p.jsx("td",{className:"p-4",children:p.jsx("button",{onClick:()=>ee(ae),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:p.jsx(GS,{size:20})})}),ue&&p.jsxs("td",{className:"p-4 flex gap-2",children:[p.jsx("button",{onClick:()=>ve(ae,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:p.jsx(MS,{size:16})}),p.jsx("button",{onClick:()=>ve(ae,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:p.jsx(Qd,{size:16})}),p.jsx("button",{onClick:()=>Ee(ae.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:p.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},ae.id))})]})})]})}function w({title:ue,icon:me,colorClass:L,children:X,setSubmitted:ie,initialData:ne={},onCancel:pe,currentUser:x,blackouts:q=[]}){const $=Re.useRef(null),ee=Zr(ue),[he,ge]=Re.useState(!1),ve=()=>{const Ie=new FormData($.current),xe={};for(const[Ce,We]of Ie.entries())xe[Ce]?(Array.isArray(xe[Ce])||(xe[Ce]=[xe[Ce]]),xe[Ce].push(We)):xe[Ce]=We;return localStorage.setItem(ee,JSON.stringify(xe)),!0},Ee=Ie=>{Ie.preventDefault(),ve(),alert("Draft secured in local cache.")},Ne=()=>{ge(!0)},Ot=()=>{ve(),ge(!1),pe()},Mt=()=>{localStorage.removeItem(ee),ge(!1),pe()},ae=async Ie=>{Ie.preventDefault();const xe=new FormData(Ie.target),Ce={};for(const[te,Te]of xe.entries())Ce[te]?(Array.isArray(Ce[te])||(Ce[te]=[Ce[te]]),Ce[te].push(Te)):Ce[te]=Te;const We=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let Xe=!1;if(We.forEach(te=>{Ce[te]&&q.includes(Ce[te])&&(Xe=!0)}),Xe){alert("Date blocked by admin protocol. Select alternative.");return}try{const te=Date.now().toString().slice(-4),Te=Math.floor(1e3+Math.random()*9e3),Ue=`REQ-${te}-${Te}`;await fN(tr(_n,"requests"),{...Ce,dept:ue,displayId:Ue,status:"Pending Review",createdAt:new Date,title:Ce.requestName||Ce.eventName||Ce.projectType||Ce.businessName||"New Request"}),Zv({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${Ce.requestName}`,title:Ce.requestName,status:"Pending Review",message:`New request (${Ue}) from ${Ce.fullName}.`}),localStorage.removeItem(ee),ie(!0)}catch(te){console.error(te),alert("Transmission error.")}};return p.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[he&&p.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:p.jsx(uA,{size:32})}),p.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),p.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("button",{onClick:Ot,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[p.jsx(Mc,{size:18})," Secure Draft & Exit"]}),p.jsx("button",{onClick:Mt,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),p.jsx("button",{onClick:()=>ge(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),p.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),p.jsxs("div",{className:"p-5 md:p-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${L.replace("bg-","text-")}`,children:p.jsx(me,{size:28})}),p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[ue," Protocol"]}),p.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),p.jsx("button",{type:"button",onClick:Ne,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:p.jsx(Qd,{size:24})})]}),p.jsxs("form",{ref:$,onSubmit:ae,children:[p.jsx(Me,{initialData:ne,currentUser:x}),X,p.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[p.jsx("button",{type:"button",onClick:Ne,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),p.jsxs("button",{type:"button",onClick:Ee,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[p.jsx(Mc,{size:18})," Save Draft"]}),p.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function I({setSubmitted:ue,onCancel:me,currentUser:L,inventory:X,blackouts:ie}){const ne="Film",pe=Zr(ne),x=JSON.parse(localStorage.getItem(pe)||"{}"),[q,$]=Re.useState(x.requestType||"checkout"),[ee,he]=Re.useState({}),[ge,ve]=Re.useState(!1),[Ee,Ne]=Re.useState({start:x.checkoutDate||"",end:x.returnDate||""}),Ot=ae=>{const Ie={...Ee,[ae.target.name==="checkoutDate"?"start":"end"]:ae.target.value};Ne(Ie)};Re.useEffect(()=>{(async()=>{if(!Ee.start||!Ee.end||q!=="checkout"){ve(!1);return}ve(!0);const Ie=$r(tr(_n,"requests"),Nl("dept","==","Film"),Nl("requestType","==","checkout")),xe=await Ov(Ie),Ce={};xe.forEach(Xe=>{const te=Xe.data();if(te.status==="Denied"||te.status==="Completed")return;const Te=te.checkoutDate,Ue=te.returnDate;Te<=Ee.end&&Ue>=Ee.start&&te.equipment&&(Array.isArray(te.equipment)?te.equipment:[te.equipment]).forEach(St=>{Ce[St]=(Ce[St]||0)+1})});const We={};Object.keys(X).forEach(Xe=>{We[Xe]=Math.max(0,X[Xe]-(Ce[Xe]||0))}),he(We)})()},[Ee,q,X]);const Mt=Ee.start&&Ee.end&&Ee.start===Ee.end;return p.jsxs(w,{title:ne,icon:v_,colorClass:"bg-blue-600",setSubmitted:ue,initialData:x,onCancel:me,currentUser:L,blackouts:ie,children:[p.jsx("input",{type:"hidden",name:"requestType",value:q}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>$("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${q==="checkout"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(f_,{size:24}),p.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]}),p.jsxs("button",{type:"button",onClick:()=>$("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${q==="service"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(JS,{size:24}),p.jsx("span",{className:"font-bold",children:"Production Team"})]})]})]}),q==="checkout"?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 text-sm text-blue-200 flex items-start gap-3",children:[p.jsx(d_,{className:"shrink-0 mt-0.5 text-blue-400",size:16}),p.jsxs("p",{children:[p.jsx("strong",{children:"Protocol:"})," Equipment return deadline is 0800 hours the following school day."]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),p.jsx("input",{name:"checkoutDate",defaultValue:x.checkoutDate,onChange:Ot,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),p.jsx("input",{name:"returnDate",defaultValue:x.returnDate,onChange:Ot,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),Mt&&p.jsxs("div",{className:"animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("label",{className:"block text-xs font-mono text-cyan-400 uppercase mb-1",children:"Specific Duration"}),p.jsxs("select",{name:"durationHours",defaultValue:x.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[p.jsx("option",{value:"",children:"Select Duration..."}),p.jsx("option",{value:"1 Hour",children:"1 Hour"}),p.jsx("option",{value:"2 Hours",children:"2 Hours"}),p.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),p.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:["Select Assets ",p.jsx("span",{className:"text-red-500 ml-2 normal-case tracking-normal",children:"* Certification Required"})]}),ge?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Cinema Camera Kit *","Gimbal / Stabilizer *","DJI Mic Kit (Wireless)","DJI Flip Drone *","Tripod","Lighting Kit"].map(ae=>{const Ie=ee[ae]!==void 0?ee[ae]:99,xe=Ie<=0;return p.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${xe?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-cyan-500/50 hover:shadow-[0_0_10px_rgba(8,145,178,0.1)] cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",name:"equipment",value:ae,disabled:xe,defaultChecked:x.equipment?.includes(ae),className:"w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[ae.replace("*","")," ",ae.includes("*")&&p.jsx("span",{className:"text-red-400",children:"*"})]}),p.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${xe?"text-red-500":"text-emerald-500"}`,children:xe?"OFFLINE / UNAVAILABLE":`${Ie} UNITS ACTIVE`})]})]},ae)})}):p.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[p.jsx(Oc,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),p.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),p.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[p.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:x.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),p.jsx("input",{name:"startTime",defaultValue:x.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Required"}),p.jsxs("select",{name:"serviceType",defaultValue:x.serviceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[p.jsx("option",{children:"Live Broadcast (Stream)"}),p.jsx("option",{children:"Event Recording (Edited later)"}),p.jsx("option",{children:"Raw Footage Only"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Mission Details"}),p.jsx("textarea",{name:"details",defaultValue:x.details,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none h-24",placeholder:"Describe specific shots, locations, or requirements..."})]})]})]})}function V({setSubmitted:ue,onCancel:me,currentUser:L}){const X="Graphic",ie=Zr(X),ne=JSON.parse(localStorage.getItem(ie)||"{}");return p.jsx(w,{title:X,icon:g_,colorClass:"bg-purple-600",setSubmitted:ue,initialData:ne,onCancel:me,currentUser:L,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Type"}),p.jsxs("select",{name:"projectType",defaultValue:ne.projectType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",children:[p.jsx("option",{children:"Event Poster / Flyer"}),p.jsx("option",{children:"Logo Design"}),p.jsx("option",{children:"Website Design"}),p.jsx("option",{children:"T-Shirt / Merch"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dimensions"}),p.jsx("input",{name:"dimensions",defaultValue:ne.dimensions,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",placeholder:"e.g., 11x17"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Deadline"}),p.jsx("input",{name:"deadline",defaultValue:ne.deadline,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Creative Brief"}),p.jsx("textarea",{name:"brief",defaultValue:ne.brief,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function O({setSubmitted:ue,onCancel:me,currentUser:L}){const X="Business",ie=Zr(X),ne=JSON.parse(localStorage.getItem(ie)||"{}");return p.jsx(w,{title:X,icon:Fd,colorClass:"bg-emerald-600",setSubmitted:ue,initialData:ne,onCancel:me,currentUser:L,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Support Required"}),p.jsxs("select",{name:"assistanceType",defaultValue:ne.assistanceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none",children:[p.jsx("option",{children:"Business Plan Review"}),p.jsx("option",{children:"Financial Modeling Help"}),p.jsx("option",{children:"Marketing Strategy"}),p.jsx("option",{children:"General Mentorship"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Concept Overview"}),p.jsx("textarea",{name:"description",defaultValue:ne.description,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none h-40",placeholder:"Briefly describe your product or service...",required:!0})]})]})})}function j({setSubmitted:ue,onCancel:me,currentUser:L}){const X="Culinary",ie=Zr(X),ne=JSON.parse(localStorage.getItem(ie)||"{}");return p.jsx(w,{title:X,icon:__,colorClass:"bg-orange-500",setSubmitted:ue,initialData:ne,onCancel:me,currentUser:L,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:ne.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Serve Time"}),p.jsx("input",{name:"serveTime",defaultValue:ne.serveTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Guest Count"}),p.jsx("input",{name:"guestCount",defaultValue:ne.guestCount,type:"number",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",min:"1",placeholder:"50",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Style"}),p.jsxs("select",{name:"serviceStyle",defaultValue:ne.serviceStyle,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",children:[p.jsx("option",{children:"Buffet Style"}),p.jsx("option",{children:"Boxed Lunches"}),p.jsx("option",{children:"Plated Service"}),p.jsx("option",{children:"Appetizers"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dietary Requirements"}),p.jsx("textarea",{name:"menuNotes",defaultValue:ne.menuNotes,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none h-24",placeholder:"Preferences, allergies, restrictions...",required:!0})]})]})})}function R({setSubmitted:ue,onCancel:me,currentUser:L,inventory:X,blackouts:ie}){const ne="Photo",pe=Zr(ne),x=JSON.parse(localStorage.getItem(pe)||"{}"),[q,$]=Re.useState(x.requestType||"service"),[ee,he]=Re.useState({}),[ge,ve]=Re.useState(!1),[Ee,Ne]=Re.useState({start:x.pickupDate||"",end:x.returnDate||""}),Ot=ae=>{const Ie={...Ee,[ae.target.name==="pickupDate"?"start":"end"]:ae.target.value};Ne(Ie)};Re.useEffect(()=>{(async()=>{if(!Ee.start||!Ee.end||q!=="checkout"){ve(!1);return}ve(!0);const Ie=$r(tr(_n,"requests"),Nl("dept","==","Photo"),Nl("requestType","==","checkout")),xe=await Ov(Ie),Ce={};xe.forEach(Xe=>{const te=Xe.data();if(te.status==="Denied"||te.status==="Completed")return;const Te=te.pickupDate,Ue=te.returnDate;Te<=Ee.end&&Ue>=Ee.start&&te.equipment&&(Array.isArray(te.equipment)?te.equipment:[te.equipment]).forEach(St=>{Ce[St]=(Ce[St]||0)+1})});const We={};Object.keys(X).forEach(Xe=>{const te=X[Xe],Te=Ce[Xe]||0;We[Xe]=Math.max(0,te-Te)}),he(We)})()},[Ee,q,X]);const Mt=Ee.start&&Ee.end&&Ee.start===Ee.end;return p.jsxs(w,{title:ne,icon:Gd,colorClass:"bg-pink-600",setSubmitted:ue,initialData:x,onCancel:me,currentUser:L,blackouts:ie,children:[p.jsx("input",{type:"hidden",name:"requestType",value:q}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{type:"button",onClick:()=>$("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${q==="service"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(dA,{size:24}),p.jsx("span",{className:"font-bold",children:"Event Coverage"})]}),p.jsxs("button",{type:"button",onClick:()=>$("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${q==="checkout"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[p.jsx(f_,{size:24}),p.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]})]})]}),q==="checkout"?p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-pink-900/20 p-4 rounded-lg border border-pink-500/30 text-sm text-pink-200 flex items-start gap-3",children:[p.jsx(d_,{className:"shrink-0 mt-0.5 text-pink-400",size:16}),p.jsxs("p",{children:[p.jsx("strong",{children:"Requirement:"})," Advanced Photo I certification required for DSLR bodies."]})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Pickup Date"}),p.jsx("input",{name:"pickupDate",defaultValue:x.pickupDate,onChange:Ot,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),p.jsx("input",{name:"returnDate",defaultValue:x.returnDate,onChange:Ot,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),Mt&&p.jsxs("div",{className:"mb-4 animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[p.jsx("label",{className:"block text-xs font-mono text-pink-400 uppercase mb-1",children:"Specific Duration"}),p.jsxs("select",{name:"durationHours",defaultValue:x.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",children:[p.jsx("option",{value:"",children:"Select Duration..."}),p.jsx("option",{value:"1 Hour",children:"1 Hour"}),p.jsx("option",{value:"2 Hours",children:"2 Hours"}),p.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),p.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:"Select Assets"}),ge?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["DSLR Camera Body","Zoom Lens (18-55mm)","Telephoto Lens (70-200mm)","Portrait Lens (50mm)","SD Card Reader","Tripod","Flash Unit"].map(ae=>{const Ie=ee[ae]!==void 0?ee[ae]:99,xe=Ie<=0;return p.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${xe?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-pink-500/50 hover:shadow-[0_0_10px_rgba(236,72,153,0.1)] cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",name:"equipment",value:ae,disabled:xe,defaultChecked:x.equipment?.includes(ae),className:"w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"text-slate-200 text-sm block font-medium",children:ae}),p.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${xe?"text-red-500":"text-emerald-500"}`,children:xe?"OFFLINE / UNAVAILABLE":`${Ie} UNITS ACTIVE`})]})]},ae)})}):p.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[p.jsx(Oc,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),p.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),p.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[p.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),p.jsx("input",{name:"eventDate",defaultValue:x.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),p.jsx("input",{name:"startTime",defaultValue:x.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Location"}),p.jsx("input",{name:"location",defaultValue:x.location,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",placeholder:"e.g., Gym"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Shot List"}),p.jsx("textarea",{name:"shotList",defaultValue:x.shotList,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none h-24",placeholder:"Key moments..."})]})]})]})}};dS.createRoot(document.getElementById("root")).render(p.jsx(Re.StrictMode,{children:p.jsx(CC,{})}));
