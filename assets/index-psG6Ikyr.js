(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},xl={};var G0;function sA(){if(G0)return xl;G0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var Q0;function rA(){return Q0||(Q0=1,Od.exports=sA()),Od.exports}var y=rA(),Vd={exports:{}},Ie={};var Y0;function aA(){if(Y0)return Ie;Y0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function Q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ee={};function de(M,L,$){this.props=M,this.context=L,this.refs=ee,this.updater=$||W}de.prototype.isReactComponent={},de.prototype.setState=function(M,L){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,L,"setState")},de.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Ne(){}Ne.prototype=de.prototype;function Ee(M,L,$){this.props=M,this.context=L,this.refs=ee,this.updater=$||W}var st=Ee.prototype=new Ne;st.constructor=Ee,re(st,de.prototype),st.isPureReactComponent=!0;var pt=Array.isArray;function Qe(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(M,L,$){var K=$.ref;return{$$typeof:s,type:M,key:L,ref:K!==void 0?K:null,props:$}}function V(M,L){return N(M.type,L,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var L={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return L[$]})}var w=/\/+/g;function yt(M,L){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):L.toString(36)}function Ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Qe,Qe):(M.status="pending",M.then(function(L){M.status==="pending"&&(M.status="fulfilled",M.value=L)},function(L){M.status==="pending"&&(M.status="rejected",M.reason=L)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,L,$,K,ne){var le=typeof M;(le==="undefined"||le==="boolean")&&(M=null);var he=!1;if(M===null)he=!0;else switch(le){case"bigint":case"string":case"number":he=!0;break;case"object":switch(M.$$typeof){case s:case e:he=!0;break;case A:return he=M._init,F(he(M._payload),L,$,K,ne)}}if(he)return ne=ne(M),he=K===""?"."+yt(M,0):K,pt(ne)?($="",he!=null&&($=he.replace(w,"$&/")+"/"),F(ne,L,$,"",function(bt){return bt})):ne!=null&&(D(ne)&&(ne=V(ne,$+(ne.key==null||M&&M.key===ne.key?"":(""+ne.key).replace(w,"$&/")+"/")+he)),L.push(ne)),1;he=0;var je=K===""?".":K+":";if(pt(M))for(var _e=0;_e<M.length;_e++)K=M[_e],le=je+yt(K,_e),he+=F(K,L,$,le,ne);else if(_e=Q(M),typeof _e=="function")for(M=_e.call(M),_e=0;!(K=M.next()).done;)K=K.value,le=je+yt(K,_e++),he+=F(K,L,$,le,ne);else if(le==="object"){if(typeof M.then=="function")return F(Ot(M),L,$,K,ne);throw L=String(M),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return he}function se(M,L,$){if(M==null)return M;var K=[],ne=0;return F(M,K,"","",function(le){return L.call($,le,ne++)}),K}function me(M){if(M._status===-1){var L=M._result;L=L(),L.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=L)}if(M._status===1)return M._result.default;throw M._result}var Ye=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},et={map:se,forEach:function(M,L,$){se(M,function(){L.apply(this,arguments)},$)},count:function(M){var L=0;return se(M,function(){L++}),L},toArray:function(M){return se(M,function(L){return L})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ie.Activity=S,Ie.Children=et,Ie.Component=de,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=Ee,Ie.StrictMode=a,Ie.Suspense=v,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(M,L,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var K=re({},M.props),ne=M.key;if(L!=null)for(le in L.key!==void 0&&(ne=""+L.key),L)!x.call(L,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&L.ref===void 0||(K[le]=L[le]);var le=arguments.length-2;if(le===1)K.children=$;else if(1<le){for(var he=Array(le),je=0;je<le;je++)he[je]=arguments[je+2];K.children=he}return N(M.type,ne,K)},Ie.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ie.createElement=function(M,L,$){var K,ne={},le=null;if(L!=null)for(K in L.key!==void 0&&(le=""+L.key),L)x.call(L,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ne[K]=L[K]);var he=arguments.length-2;if(he===1)ne.children=$;else if(1<he){for(var je=Array(he),_e=0;_e<he;_e++)je[_e]=arguments[_e+2];ne.children=je}if(M&&M.defaultProps)for(K in he=M.defaultProps,he)ne[K]===void 0&&(ne[K]=he[K]);return N(M,le,ne)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:g,render:M}},Ie.isValidElement=D,Ie.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:me}},Ie.memo=function(M,L){return{$$typeof:_,type:M,compare:L===void 0?null:L}},Ie.startTransition=function(M){var L=C.T,$={};C.T=$;try{var K=M(),ne=C.S;ne!==null&&ne($,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Qe,Ye)}catch(le){Ye(le)}finally{L!==null&&$.types!==null&&(L.types=$.types),C.T=L}},Ie.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ie.use=function(M){return C.H.use(M)},Ie.useActionState=function(M,L,$){return C.H.useActionState(M,L,$)},Ie.useCallback=function(M,L){return C.H.useCallback(M,L)},Ie.useContext=function(M){return C.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,L){return C.H.useDeferredValue(M,L)},Ie.useEffect=function(M,L){return C.H.useEffect(M,L)},Ie.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Ie.useId=function(){return C.H.useId()},Ie.useImperativeHandle=function(M,L,$){return C.H.useImperativeHandle(M,L,$)},Ie.useInsertionEffect=function(M,L){return C.H.useInsertionEffect(M,L)},Ie.useLayoutEffect=function(M,L){return C.H.useLayoutEffect(M,L)},Ie.useMemo=function(M,L){return C.H.useMemo(M,L)},Ie.useOptimistic=function(M,L){return C.H.useOptimistic(M,L)},Ie.useReducer=function(M,L,$){return C.H.useReducer(M,L,$)},Ie.useRef=function(M){return C.H.useRef(M)},Ie.useState=function(M){return C.H.useState(M)},Ie.useSyncExternalStore=function(M,L,$){return C.H.useSyncExternalStore(M,L,$)},Ie.useTransition=function(){return C.H.useTransition()},Ie.version="19.2.0",Ie}var K0;function Dm(){return K0||(K0=1,Vd.exports=aA()),Vd.exports}var xe=Dm(),kd={exports:{}},wl={},jd={exports:{}},Ld={};var X0;function oA(){return X0||(X0=1,(function(s){function e(F,se){var me=F.length;F.push(se);e:for(;0<me;){var Ye=me-1>>>1,et=F[Ye];if(0<l(et,se))F[Ye]=se,F[me]=et,me=Ye;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var se=F[0],me=F.pop();if(me!==se){F[0]=me;e:for(var Ye=0,et=F.length,M=et>>>1;Ye<M;){var L=2*(Ye+1)-1,$=F[L],K=L+1,ne=F[K];if(0>l($,me))K<et&&0>l(ne,$)?(F[Ye]=ne,F[K]=me,Ye=K):(F[Ye]=$,F[L]=me,Ye=L);else if(K<et&&0>l(ne,me))F[Ye]=ne,F[K]=me,Ye=K;else break e}}return se}function l(F,se){var me=F.sortIndex-se.sortIndex;return me!==0?me:F.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,S=null,O=3,Q=!1,W=!1,re=!1,ee=!1,de=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function st(F){for(var se=i(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=F)a(_),se.sortIndex=se.expirationTime,e(v,se);else break;se=i(_)}}function pt(F){if(re=!1,st(F),!W)if(i(v)!==null)W=!0,Qe||(Qe=!0,k());else{var se=i(_);se!==null&&Ot(pt,se.startTime-F)}}var Qe=!1,C=-1,x=5,N=-1;function V(){return ee?!0:!(s.unstable_now()-N<x)}function D(){if(ee=!1,Qe){var F=s.unstable_now();N=F;var se=!0;try{e:{W=!1,re&&(re=!1,Ne(C),C=-1),Q=!0;var me=O;try{t:{for(st(F),S=i(v);S!==null&&!(S.expirationTime>F&&V());){var Ye=S.callback;if(typeof Ye=="function"){S.callback=null,O=S.priorityLevel;var et=Ye(S.expirationTime<=F);if(F=s.unstable_now(),typeof et=="function"){S.callback=et,st(F),se=!0;break t}S===i(v)&&a(v),st(F)}else a(v);S=i(v)}if(S!==null)se=!0;else{var M=i(_);M!==null&&Ot(pt,M.startTime-F),se=!1}}break e}finally{S=null,O=me,Q=!1}se=void 0}}finally{se?k():Qe=!1}}}var k;if(typeof Ee=="function")k=function(){Ee(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,yt=w.port2;w.port1.onmessage=D,k=function(){yt.postMessage(null)}}else k=function(){de(D,0)};function Ot(F,se){C=de(function(){F(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var se=3;break;default:se=O}var me=O;O=se;try{return F()}finally{O=me}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(F,se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=O;O=F;try{return se()}finally{O=me}},s.unstable_scheduleCallback=function(F,se,me){var Ye=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ye+me:Ye):me=Ye,F){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=me+et,F={id:A++,callback:se,priorityLevel:F,startTime:me,expirationTime:et,sortIndex:-1},me>Ye?(F.sortIndex=me,e(_,F),i(v)===null&&F===i(_)&&(re?(Ne(C),C=-1):re=!0,Ot(pt,me-Ye))):(F.sortIndex=et,e(v,F),W||Q||(W=!0,Qe||(Qe=!0,k()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var se=O;return function(){var me=O;O=se;try{return F.apply(this,arguments)}finally{O=me}}}})(Ld)),Ld}var $0;function lA(){return $0||($0=1,jd.exports=oA()),jd.exports}var Ud={exports:{}},yn={};var Z0;function uA(){if(Z0)return yn;Z0=1;var s=Dm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yn.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,A)},yn.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},yn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},yn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},yn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:Q}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},yn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},yn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},yn.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},yn.requestFormReset=function(v){a.d.r(v)},yn.unstable_batchedUpdates=function(v,_){return v(_)},yn.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},yn.useFormStatus=function(){return d.H.useHostTransitionStatus()},yn.version="19.2.0",yn}var J0;function cA(){if(J0)return Ud.exports;J0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=uA(),Ud.exports}var W0;function hA(){if(W0)return wl;W0=1;var s=lA(),e=Dm(),i=cA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),t;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),Ne=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case de:return"Profiler";case ee:return"StrictMode";case pt:return"Suspense";case Qe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Ee:return t.displayName||"Context";case Ne:return(t._context.displayName||"Context")+".Consumer";case st:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:yt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return yt(t(n))}catch{}}return null}var Ot=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ye=[],et=-1;function M(t){return{current:t}}function L(t){0>et||(t.current=Ye[et],Ye[et]=null,et--)}function $(t,n){et++,Ye[et]=t.current,t.current=n}var K=M(null),ne=M(null),le=M(null),he=M(null);function je(t,n){switch($(le,n),$(ne,t),$(K,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?m0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=m0(n),t=p0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(K),$(K,t)}function _e(){L(K),L(ne),L(le)}function bt(t){t.memoizedState!==null&&$(he,t);var n=K.current,r=p0(n,t.type);n!==r&&($(ne,t),$(K,r))}function Ke(t){ne.current===t&&(L(K),L(ne)),he.current===t&&(L(he),El._currentValue=me)}var we,$e;function tt(t){if(we===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);we=n&&n[1]||"",$e=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+t+$e}var Rt=!1;function an(t,n){if(!t||Rt)return"";Rt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Rt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?tt(r):""}function Pt(t,n){switch(t.tag){case 26:case 27:case 5:return tt(t.type);case 16:return tt("Lazy");case 13:return t.child!==n&&n!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return an(t.type,!1);case 11:return an(t.type.render,!1);case 1:return an(t.type,!0);case 31:return tt("Activity");default:return""}}function xn(t){try{var n="",r=null;do n+=Pt(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ot=Object.prototype.hasOwnProperty,ae=s.unstable_scheduleCallback,Le=s.unstable_cancelCallback,rt=s.unstable_shouldYield,ve=s.unstable_requestPaint,ye=s.unstable_now,Me=s.unstable_getCurrentPriorityLevel,ie=s.unstable_ImmediatePriority,Ce=s.unstable_UserBlockingPriority,_t=s.unstable_NormalPriority,li=s.unstable_LowPriority,on=s.unstable_IdlePriority,Nt=s.log,Ji=s.unstable_setDisableYieldValue,Tn=null,Vt=null;function zt(t){if(typeof Nt=="function"&&Ji(t),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Tn,t)}catch{}}var Et=Math.clz32?Math.clz32:da,fa=Math.log,ws=Math.LN2;function da(t){return t>>>=0,t===0?32:31-(fa(t)/ws|0)|0}var Gn=256,xr=262144,qt=4194304;function Si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Si(o):(p&=E,p!==0?h=Si(p):r||(r=E&~t,r!==0&&(h=Si(r))))):(E=o&~f,E!==0?h=Si(E):p!==0?h=Si(p):r||(r=o&~t,r!==0&&(h=Si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ui(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var t=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),t}function wi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function wr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,r,o,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Et(r),Z=1<<G;E[G]=0,R[G]=-1;var q=z[G];if(q!==null)for(z[G]=null,G=0;G<q.length;G++){var H=q[G];H!==null&&(H.lane&=-536870913)}r&=~Z}o!==0&&Rr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Rr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Et(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function wo(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Et(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function Ro(t,n){var r=n&-n;return r=(r&42)!==0?1:Nr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:U0(t.type))}function ci(t,n){var r=se.p;try{return se.p=t,n()}finally{se.p=r}}var hi=Math.random().toString(36).slice(2),Bt="__reactFiber$"+hi,en="__reactProps$"+hi,Ri="__reactContainer$"+hi,ma="__reactEvents$"+hi,Uh="__reactListeners$"+hi,ou="__reactHandles$"+hi,lu="__reactResources$"+hi,Ni="__reactMarker$"+hi;function pa(t){delete t[Bt],delete t[en],delete t[ma],delete t[Uh],delete t[ou]}function Ci(t){var n=t[Bt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ri]||r[Bt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=T0(t);t!==null;){if(r=t[Bt])return r;t=T0(t)}return n}t=r,r=t.parentNode}return null}function Qn(t){if(t=t[Bt]||t[Ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ii(t){var n=t[lu];return n||(n=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ht(t){t[Ni]=!0}var No=new Set,Co={};function Di(t,n){Mi(t,n),Mi(t+"Capture",n)}function Mi(t,n){for(Co[t]=n,t=0;t<n.length;t++)No.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Mo={};function uu(t){return ot.call(Mo,t)?!0:ot.call(Do,t)?!1:Io.test(t)?Mo[t]=!0:(Do[t]=!0,!1)}function ga(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ft(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function lt(t){if(!t._valueTracker){var n=Rs(t)?"checked":"value";t._valueTracker=Oo(t,n,""+t[n])}}function Cr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Rs(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function wn(t){return t.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(t,n,r,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Vo(t,p,tn(n)):r!=null?Vo(t,p,tn(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+tn(E):t.removeAttribute("name")}function cu(t,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){lt(t);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),lt(t)}function Vo(t,n,r){n==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ns(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function hu(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function Cs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ot(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),lt(t)}function Rn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||fu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function jo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&ko(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(t,f,n[f])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var Lo=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ds=null,Vi=null;function Dr(t){var n=Qn(t);if(n&&(t=n.stateNode)){var r=t[en]||null;e:switch(t=n.stateNode,n.type){case"input":if(ya(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[en]||null;if(!h)throw Error(a(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Cr(o)}break e;case"textarea":hu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ns(t,!!r.multiple,n,!1)}}}var ba=!1;function Ms(t,n,r){if(ba)return t(n,r);ba=!0;try{var o=t(n);return o}finally{if(ba=!1,(Ds!==null||Vi!==null)&&(ac(),Ds&&(n=Ds,t=Vi,Vi=Ds=null,Dr(n),t)))for(n=0;n<t.length;n++)Dr(t[n])}}function di(t,n){var r=t.stateNode;if(r===null)return null;var o=r[en]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Kn)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Mr=!1}var ki=null,Uo=null,Or=null;function Po(){if(Or)return Or;var t,n=Uo,r=n.length,o,h="value"in ki?ki.value:ki.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Or=h.slice(t,1<o?1-o:void 0)}function Vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function es(){return!0}function mi(){return!1}function ln(t){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?es:mi,this.isPropagationStopped=mi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),n}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=ln(ts),Os=S({},ts,{view:0,detail:0}),zo=ln(Os),Vs,Ea,Li,Ta=S({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Vs=t.screenX-Li.screenX,Ea=t.screenY-Li.screenY):Ea=Vs=0,Li=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),qo=ln(Ta),kr=S({},Ta,{dataTransfer:0}),mu=ln(kr),pu=S({},Os,{relatedTarget:0}),jr=ln(pu),Bo=S({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=ln(Bo),Aa=S({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yu=ln(Aa),_u=S({},ts,{data:0}),Ui=ln(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function ks(){return Tu}var An=S({},Os,{key:function(t){if(t.key){var n=vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Au=ln(An),Su=S({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=ln(Su),u=S({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=ln(u),b=S({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ln(b),U=S({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ln(U),te=S({},ts,{newState:0,oldState:0}),Oe=ln(te),kt=[9,13,27,32],nt=Kn&&"CompositionEvent"in window,xt=null;Kn&&"documentMode"in document&&(xt=document.documentMode);var Xn=Kn&&"TextEvent"in window&&!xt,Pi=Kn&&(!nt||xt&&8<xt&&11>=xt),pi=" ",gi=!1;function Lr(t,n){switch(t){case"keyup":return kt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function NE(t,n){switch(t){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(gi=!0,pi);case"textInput":return t=n.data,t===pi&&gi?null:t;default:return null}}function CE(t,n){if(xa)return t==="compositionend"||!nt&&Lr(t,n)?(t=Po(),Or=Uo=ki=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pi&&n.locale!=="ko"?null:n.data;default:return null}}var IE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!IE[t.type]:n==="textarea"}function wp(t,n,r,o){Ds?Vi?Vi.push(o):Vi=[o]:Ds=o,n=dc(n,"onChange"),0<n.length&&(r=new ji("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ho=null,Fo=null;function DE(t){l0(t,0)}function xu(t){var n=kn(t);if(Cr(n))return t}function Rp(t,n){if(t==="change")return n}var Np=!1;if(Kn){var Ph;if(Kn){var zh="oninput"in document;if(!zh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),zh=typeof Cp.oninput=="function"}Ph=zh}else Ph=!1;Np=Ph&&(!document.documentMode||9<document.documentMode)}function Ip(){Ho&&(Ho.detachEvent("onpropertychange",Dp),Fo=Ho=null)}function Dp(t){if(t.propertyName==="value"&&xu(Fo)){var n=[];wp(n,Fo,t,Yn(t)),Ms(DE,n)}}function ME(t,n,r){t==="focusin"?(Ip(),Ho=n,Fo=r,Ho.attachEvent("onpropertychange",Dp)):t==="focusout"&&Ip()}function OE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Fo)}function VE(t,n){if(t==="click")return xu(n)}function kE(t,n){if(t==="input"||t==="change")return xu(n)}function jE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:jE;function Go(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ot.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Mp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Op(t,n){var r=Mp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mp(r)}}function Vp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Oi(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var LE=Kn&&"documentMode"in document&&11>=document.documentMode,wa=null,Bh=null,Qo=null,Hh=!1;function jp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||wa==null||wa!==Oi(o)||(o=wa,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Go(Qo,o)||(Qo=o,o=dc(Bh,"onSelect"),0<o.length&&(n=new ji("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=wa)))}function Ur(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ra={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Fh={},Lp={};Kn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Pr(t){if(Fh[t])return Fh[t];if(!Ra[t])return t;var n=Ra[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Lp)return Fh[t]=n[r];return t}var Up=Pr("animationend"),Pp=Pr("animationiteration"),zp=Pr("animationstart"),UE=Pr("transitionrun"),PE=Pr("transitionstart"),zE=Pr("transitioncancel"),qp=Pr("transitionend"),Bp=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function yi(t,n){Bp.set(t,n),Di(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],Na=0,Qh=0;function Ru(){for(var t=Na,n=Qh=Na=0;n<t;){var r=$n[n];$n[n++]=null;var o=$n[n];$n[n++]=null;var h=$n[n];$n[n++]=null;var f=$n[n];if($n[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Hp(r,h,f)}}function Nu(t,n,r,o){$n[Na++]=t,$n[Na++]=n,$n[Na++]=r,$n[Na++]=o,Qh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Yh(t,n,r,o){return Nu(t,n,r,o),Cu(t)}function zr(t,n){return Nu(t,null,null,n),Cu(t)}function Hp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Et(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Cu(t){if(50<ml)throw ml=0,id=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ca={};function qE(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,r,o){return new qE(t,n,r,o)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,n){var r=t.alternate;return r===null?(r=Un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Fp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,r,o,h,f){var p=0;if(o=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=QT(t,r,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Un(31,r,n,h),t.elementType=N,t.lanes=f,t;case re:return qr(r.children,h,f,n);case ee:p=8,h|=24;break;case de:return t=Un(12,r,n,h|2),t.elementType=de,t.lanes=f,t;case pt:return t=Un(13,r,n,h),t.elementType=pt,t.lanes=f,t;case Qe:return t=Un(19,r,n,h),t.elementType=Qe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:p=10;break e;case Ne:p=9;break e;case st:p=11;break e;case C:p=14;break e;case x:p=16,o=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Un(p,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function qr(t,n,r,o){return t=Un(7,t,o,n),t.lanes=r,t}function Xh(t,n,r){return t=Un(6,t,null,n),t.lanes=r,t}function Gp(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function $h(t,n,r){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qp=new WeakMap;function Zn(t,n){if(typeof t=="object"&&t!==null){var r=Qp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:xn(n)},Qp.set(t,n),n)}return{value:t,source:n,stack:xn(n)}}var Ia=[],Da=0,Du=null,Yo=0,Jn=[],Wn=0,js=null,zi=1,qi="";function ss(t,n){Ia[Da++]=Yo,Ia[Da++]=Du,Du=t,Yo=n}function Yp(t,n,r){Jn[Wn++]=zi,Jn[Wn++]=qi,Jn[Wn++]=js,js=t;var o=zi;t=qi;var h=32-Et(o)-1;o&=~(1<<h),r+=1;var f=32-Et(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,zi=1<<32-Et(n)+h|r<<h|o,qi=f+t}else zi=1<<f|r<<h|o,qi=t}function Zh(t){t.return!==null&&(ss(t,1),Yp(t,1,0))}function Jh(t){for(;t===Du;)Du=Ia[--Da],Ia[Da]=null,Yo=Ia[--Da],Ia[Da]=null;for(;t===js;)js=Jn[--Wn],Jn[Wn]=null,qi=Jn[--Wn],Jn[Wn]=null,zi=Jn[--Wn],Jn[Wn]=null}function Kp(t,n){Jn[Wn++]=zi,Jn[Wn++]=qi,Jn[Wn++]=js,zi=n.id,qi=n.overflow,js=t}var un=null,Tt=null,Xe=!1,Ls=null,ei=!1,Wh=Error(a(519));function Us(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Zn(n,t)),Wh}function Xp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Bt]=t,n[en]=o,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(r=0;r<gl.length;r++)Pe(gl[r],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Cs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||f0(n.textContent,r)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Us(t,!0)}function $p(t){for(un=t.return;un;)switch(un.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:un=un.return}}function Ma(t){if(t!==un)return!1;if(!Xe)return $p(t),Xe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_d(t.type,t.memoizedProps)),r=!r),r&&Tt&&Us(t),$p(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Tt=E0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Tt=E0(t)}else n===27?(n=Tt,Js(t.type)?(t=Ad,Ad=null,Tt=t):Tt=n):Tt=un?ni(t.stateNode.nextSibling):null;return!0}function Br(){Tt=un=null,Xe=!1}function ef(){var t=Ls;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),Ls=null),t}function Ko(t){Ls===null?Ls=[t]:Ls.push(t)}var tf=M(null),Hr=null,rs=null;function Ps(t,n,r){$(tf,n._currentValue),n._currentValue=r}function as(t){t._currentValue=tf.current,L(tf)}function nf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function sf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),nf(f.return,r,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),nf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Oa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Ln(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===he.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(El):t=[El])}h=h.return}t!==null&&sf(n,t,r,o),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Hr=t,rs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return Zp(Hr,t)}function Ou(t,n){return Hr===null&&Fr(t),Zp(t,n)}function Zp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},rs===null){if(t===null)throw Error(a(308));rs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else rs=rs.next=n;return r}var BE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},HE=s.unstable_scheduleCallback,FE=s.unstable_NormalPriority,Gt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new BE,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&HE(FE,function(){t.controller.abort()})}var $o=null,af=0,Va=0,ka=null;function GE(t,n){if($o===null){var r=$o=[];af=0,Va=ud(),ka={status:"pending",value:void 0,then:function(o){r.push(o)}}}return af++,n.then(Jp,Jp),n}function Jp(){if(--af===0&&$o!==null){ka!==null&&(ka.status="fulfilled");var t=$o;$o=null,Va=0,ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function QE(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Wp=F.S;F.S=function(t,n){jy=ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&GE(t,n),Wp!==null&&Wp(t,n)};var Gr=M(null);function of(){var t=Gr.current;return t!==null?t:gt.pooledCache}function Vu(t,n){n===null?$(Gr,Gr.current):$(Gr,n.pool)}function eg(){var t=of();return t===null?null:{parent:Gt._currentValue,pool:t}}var ja=Error(a(460)),lf=Error(a(474)),ku=Error(a(542)),ju={then:function(){}};function tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ng(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(fi,fi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,sg(t),t}throw Yr=n,ja}}function Qr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Yr=r,ja):r}}var Yr=null;function ig(){if(Yr===null)throw Error(a(459));var t=Yr;return Yr=null,t}function sg(t){if(t===ja||t===ku)throw Error(a(483))}var La=null,Zo=0;function Lu(t){var n=Zo;return Zo+=1,La===null&&(La=[]),ng(La,t,n)}function Jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){function n(j,I){if(t){var P=j.deletions;P===null?(j.deletions=[I],j.flags|=16):P.push(I)}}function r(j,I){if(!t)return null;for(;I!==null;)n(j,I),I=I.sibling;return null}function o(j){for(var I=new Map;j!==null;)j.key!==null?I.set(j.key,j):I.set(j.index,j),j=j.sibling;return I}function h(j,I){return j=is(j,I),j.index=0,j.sibling=null,j}function f(j,I,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<I?(j.flags|=67108866,I):P):(j.flags|=67108866,I)):(j.flags|=1048576,I)}function p(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,I,P,Y){return I===null||I.tag!==6?(I=Xh(P,j.mode,Y),I.return=j,I):(I=h(I,P),I.return=j,I)}function R(j,I,P,Y){var pe=P.type;return pe===re?G(j,I,P.props.children,Y,P.key):I!==null&&(I.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Qr(pe)===I.type)?(I=h(I,P.props),Jo(I,P),I.return=j,I):(I=Iu(P.type,P.key,P.props,null,j.mode,Y),Jo(I,P),I.return=j,I)}function z(j,I,P,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=$h(P,j.mode,Y),I.return=j,I):(I=h(I,P.children||[]),I.return=j,I)}function G(j,I,P,Y,pe){return I===null||I.tag!==7?(I=qr(P,j.mode,Y,pe),I.return=j,I):(I=h(I,P),I.return=j,I)}function Z(j,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Xh(""+I,j.mode,P),I.return=j,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Q:return P=Iu(I.type,I.key,I.props,null,j.mode,P),Jo(P,I),P.return=j,P;case W:return I=$h(I,j.mode,P),I.return=j,I;case x:return I=Qr(I),Z(j,I,P)}if(Ot(I)||k(I))return I=qr(I,j.mode,P,null),I.return=j,I;if(typeof I.then=="function")return Z(j,Lu(I),P);if(I.$$typeof===Ee)return Z(j,Ou(j,I),P);Uu(j,I)}return null}function q(j,I,P,Y){var pe=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pe!==null?null:E(j,I,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===pe?R(j,I,P,Y):null;case W:return P.key===pe?z(j,I,P,Y):null;case x:return P=Qr(P),q(j,I,P,Y)}if(Ot(P)||k(P))return pe!==null?null:G(j,I,P,Y,null);if(typeof P.then=="function")return q(j,I,Lu(P),Y);if(P.$$typeof===Ee)return q(j,I,Ou(j,P),Y);Uu(j,P)}return null}function H(j,I,P,Y,pe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(P)||null,E(I,j,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return j=j.get(Y.key===null?P:Y.key)||null,R(I,j,Y,pe);case W:return j=j.get(Y.key===null?P:Y.key)||null,z(I,j,Y,pe);case x:return Y=Qr(Y),H(j,I,P,Y,pe)}if(Ot(Y)||k(Y))return j=j.get(P)||null,G(I,j,Y,pe,null);if(typeof Y.then=="function")return H(j,I,P,Lu(Y),pe);if(Y.$$typeof===Ee)return H(j,I,P,Ou(I,Y),pe);Uu(I,Y)}return null}function ce(j,I,P,Y){for(var pe=null,Je=null,fe=I,ke=I=0,Be=null;fe!==null&&ke<P.length;ke++){fe.index>ke?(Be=fe,fe=null):Be=fe.sibling;var We=q(j,fe,P[ke],Y);if(We===null){fe===null&&(fe=Be);break}t&&fe&&We.alternate===null&&n(j,fe),I=f(We,I,ke),Je===null?pe=We:Je.sibling=We,Je=We,fe=Be}if(ke===P.length)return r(j,fe),Xe&&ss(j,ke),pe;if(fe===null){for(;ke<P.length;ke++)fe=Z(j,P[ke],Y),fe!==null&&(I=f(fe,I,ke),Je===null?pe=fe:Je.sibling=fe,Je=fe);return Xe&&ss(j,ke),pe}for(fe=o(fe);ke<P.length;ke++)Be=H(fe,j,ke,P[ke],Y),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?ke:Be.key),I=f(Be,I,ke),Je===null?pe=Be:Je.sibling=Be,Je=Be);return t&&fe.forEach(function(ir){return n(j,ir)}),Xe&&ss(j,ke),pe}function be(j,I,P,Y){if(P==null)throw Error(a(151));for(var pe=null,Je=null,fe=I,ke=I=0,Be=null,We=P.next();fe!==null&&!We.done;ke++,We=P.next()){fe.index>ke?(Be=fe,fe=null):Be=fe.sibling;var ir=q(j,fe,We.value,Y);if(ir===null){fe===null&&(fe=Be);break}t&&fe&&ir.alternate===null&&n(j,fe),I=f(ir,I,ke),Je===null?pe=ir:Je.sibling=ir,Je=ir,fe=Be}if(We.done)return r(j,fe),Xe&&ss(j,ke),pe;if(fe===null){for(;!We.done;ke++,We=P.next())We=Z(j,We.value,Y),We!==null&&(I=f(We,I,ke),Je===null?pe=We:Je.sibling=We,Je=We);return Xe&&ss(j,ke),pe}for(fe=o(fe);!We.done;ke++,We=P.next())We=H(fe,j,ke,We.value,Y),We!==null&&(t&&We.alternate!==null&&fe.delete(We.key===null?ke:We.key),I=f(We,I,ke),Je===null?pe=We:Je.sibling=We,Je=We);return t&&fe.forEach(function(iA){return n(j,iA)}),Xe&&ss(j,ke),pe}function mt(j,I,P,Y){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var pe=P.key;I!==null;){if(I.key===pe){if(pe=P.type,pe===re){if(I.tag===7){r(j,I.sibling),Y=h(I,P.props.children),Y.return=j,j=Y;break e}}else if(I.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&Qr(pe)===I.type){r(j,I.sibling),Y=h(I,P.props),Jo(Y,P),Y.return=j,j=Y;break e}r(j,I);break}else n(j,I);I=I.sibling}P.type===re?(Y=qr(P.props.children,j.mode,Y,P.key),Y.return=j,j=Y):(Y=Iu(P.type,P.key,P.props,null,j.mode,Y),Jo(Y,P),Y.return=j,j=Y)}return p(j);case W:e:{for(pe=P.key;I!==null;){if(I.key===pe)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){r(j,I.sibling),Y=h(I,P.children||[]),Y.return=j,j=Y;break e}else{r(j,I);break}else n(j,I);I=I.sibling}Y=$h(P,j.mode,Y),Y.return=j,j=Y}return p(j);case x:return P=Qr(P),mt(j,I,P,Y)}if(Ot(P))return ce(j,I,P,Y);if(k(P)){if(pe=k(P),typeof pe!="function")throw Error(a(150));return P=pe.call(P),be(j,I,P,Y)}if(typeof P.then=="function")return mt(j,I,Lu(P),Y);if(P.$$typeof===Ee)return mt(j,I,Ou(j,P),Y);Uu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(r(j,I.sibling),Y=h(I,P),Y.return=j,j=Y):(r(j,I),Y=Xh(P,j.mode,Y),Y.return=j,j=Y),p(j)):r(j,I)}return function(j,I,P,Y){try{Zo=0;var pe=mt(j,I,P,Y);return La=null,pe}catch(fe){if(fe===ja||fe===ku)throw fe;var Je=Un(29,fe,null,j.mode);return Je.lanes=Y,Je.return=j,Je}finally{}}}var Kr=rg(!0),ag=rg(!1),zs=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(it&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(t),Hp(t,null,r),n}return Nu(t,o,n,r),Cu(t)}function Wo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,wo(t,r)}}function hf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ff=!1;function el(){if(ff){var t=ka;if(t!==null)throw t}}function tl(t,n,r,o){ff=!1;var h=t.updateQueue;zs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Z=h.baseState;p=0,G=z=R=null,E=f;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(qe&q)===q:(o&q)===q){q!==0&&q===Va&&(ff=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,be=E;q=n;var mt=r;switch(be.tag){case 1:if(ce=be.payload,typeof ce=="function"){Z=ce.call(mt,Z,q);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=be.payload,q=typeof ce=="function"?ce.call(mt,Z,q):ce,q==null)break e;Z=S({},Z,q);break e;case 2:zs=!0}}q=E.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,R=Z):G=G.next=H,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ys|=p,t.lanes=p,t.memoizedState=Z}}function og(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function lg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)og(r[t],n)}var Ua=M(null),Pu=M(0);function ug(t,n){t=ps,$(Pu,t),$(Ua,n),ps=t|n.baseLanes}function df(){$(Pu,ps),$(Ua,Ua.current)}function mf(){ps=Pu.current,L(Ua),L(Pu)}var Pn=M(null),ti=null;function Hs(t){var n=t.alternate;$(jt,jt.current&1),$(Pn,t),ti===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(ti=t)}function pf(t){$(jt,jt.current),$(Pn,t),ti===null&&(ti=t)}function cg(t){t.tag===22?($(jt,jt.current),$(Pn,t),ti===null&&(ti=t)):Fs()}function Fs(){$(jt,jt.current),$(Pn,Pn.current)}function zn(t){L(Pn),ti===t&&(ti=null),L(jt)}var jt=M(0);function zu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=0,Ve=null,ft=null,Qt=null,qu=!1,Pa=!1,Xr=!1,Bu=0,nl=0,za=null,YE=0;function It(){throw Error(a(321))}function gf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Ln(t[r],n[r]))return!1;return!0}function yf(t,n,r,o,h,f){return os=f,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Yg:Mf,Xr=!1,f=r(o,h),Xr=!1,Pa&&(f=fg(n,r,o,h)),hg(t),f}function hg(t){F.H=rl;var n=ft!==null&&ft.next!==null;if(os=0,Qt=ft=Ve=null,qu=!1,nl=0,za=null,n)throw Error(a(300));t===null||Yt||(t=t.dependencies,t!==null&&Mu(t)&&(Yt=!0))}function fg(t,n,r,o){Ve=t;var h=0;do{if(Pa&&(za=null),nl=0,Pa=!1,25<=h)throw Error(a(301));if(h+=1,Qt=ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Kg,f=n(r,o)}while(Pa);return f}function KE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Ve.flags|=1024),n}function _f(){var t=Bu!==0;return Bu=0,t}function vf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function bf(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}os=0,Qt=ft=Ve=null,Pa=!1,nl=Bu=0,za=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Ve.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Lt(){if(ft===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var n=Qt===null?Ve.memoizedState:Qt.next;if(n!==null)Qt=n,ft=t;else{if(t===null)throw Ve.alternate===null?Error(a(467)):Error(a(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Qt===null?Ve.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,za===null&&(za=[]),t=ng(za,t,n),n=Ve,(Qt===null?n.memoizedState:Qt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Yg:Mf),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===Ee)return cn(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,r=Ve.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ve.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hu(),Ve.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function ls(t,n){return typeof n=="function"?n(t):n}function Gu(t){var n=Lt();return Tf(n,ft,t)}function Tf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,R=null,z=n,G=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(qe&Z)===Z:(os&Z)===Z){var q=z.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Va&&(G=!0);else if((os&q)===q){z=z.next,q===Va&&(G=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Z,p=f):R=R.next=Z,Ve.lanes|=q,Ys|=q;Z=z.action,Xr&&r(f,Z),f=z.hasEagerState?z.eagerState:r(f,Z)}else q={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=q,p=f):R=R.next=q,Ve.lanes|=Z,Ys|=Z;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=E,!Ln(f,t.memoizedState)&&(Yt=!0,G&&(r=ka,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Af(t){var n=Lt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Ln(f,n.memoizedState)||(Yt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function dg(t,n,r){var o=Ve,h=Lt(),f=Xe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Ln((ft||h).memoizedState,r);if(p&&(h.memoizedState=r,Yt=!0),h=h.queue,wf(gg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Qt!==null&&Qt.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},pg.bind(null,o,h,r,n),null),gt===null)throw Error(a(349));f||(os&127)!==0||mg(o,n,r)}return r}function mg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ve.updateQueue,n===null?(n=Hu(),Ve.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pg(t,n,r,o){n.value=r,n.getSnapshot=o,yg(n)&&_g(t)}function gg(t,n,r){return r(function(){yg(n)&&_g(t)})}function yg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Ln(t,r)}catch{return!0}}function _g(t){var n=zr(t,2);n!==null&&Mn(n,t,2)}function Sf(t){var n=Sn();if(typeof t=="function"){var r=t;if(t=r(),Xr){zt(!0);try{r()}finally{zt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n}function vg(t,n,r,o){return t.baseState=r,Tf(t,ft,typeof o=="function"?o:ls)}function XE(t,n,r,o,h){if(Ku(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,bg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function bg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=r(h,o),R=F.S;R!==null&&R(p,E),Eg(t,n,E)}catch(z){xf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,o),Eg(t,n,f)}catch(z){xf(t,n,z)}}function Eg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Tg(t,n,o)},function(o){return xf(t,n,o)}):Tg(t,n,r)}function Tg(t,n,r){n.status="fulfilled",n.value=r,Ag(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,bg(t,r)))}function xf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ag(n),n=n.next;while(n!==o)}t.action=null}function Ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sg(t,n){return n}function xg(t,n){if(Xe){var r=gt.formState;if(r!==null){e:{var o=Ve;if(Xe){if(Tt){t:{for(var h=Tt,f=ei;h.nodeType!==8;){if(!f){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Tt=ni(h.nextSibling),o=h.data==="F!";break e}}Us(o)}o=!1}o&&(n=r[0])}}return r=Sn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:n},r.queue=o,r=Fg.bind(null,Ve,o),o.dispatch=r,o=Sf(!1),f=Df.bind(null,Ve,!1,o.queue),o=Sn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=XE.bind(null,Ve,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function wg(t){var n=Lt();return Rg(n,ft,t)}function Rg(t,n,r){if(n=Tf(t,n,Sg)[0],t=Gu(ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(p){throw p===ja?ku:p}else o=n;n=Lt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ve.flags|=2048,qa(9,{destroy:void 0},$E.bind(null,h,r),null)),[o,f,t]}function $E(t,n){t.action=n}function Ng(t){var n=Lt(),r=ft;if(r!==null)return Rg(n,r,t);Lt(),n=n.memoizedState,r=Lt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function qa(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ve.updateQueue,n===null&&(n=Hu(),Ve.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Cg(){return Lt().memoizedState}function Qu(t,n,r,o){var h=Sn();Ve.flags|=t,h.memoizedState=qa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Yu(t,n,r,o){var h=Lt();o=o===void 0?null:o;var f=h.memoizedState.inst;ft!==null&&o!==null&&gf(o,ft.memoizedState.deps)?h.memoizedState=qa(n,f,r,o):(Ve.flags|=t,h.memoizedState=qa(1|n,f,r,o))}function Ig(t,n){Qu(8390656,8,t,n)}function wf(t,n){Yu(2048,8,t,n)}function ZE(t){Ve.flags|=4;var n=Ve.updateQueue;if(n===null)n=Hu(),Ve.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Dg(t){var n=Lt().memoizedState;return ZE({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Mg(t,n){return Yu(4,2,t,n)}function Og(t,n){return Yu(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kg(t,n,r){r=r!=null?r.concat([t]):null,Yu(4,4,Vg.bind(null,n,t),r)}function Rf(){}function jg(t,n){var r=Lt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&gf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Lg(t,n){var r=Lt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&gf(n,o[1]))return o[0];if(o=t(),Xr){zt(!0);try{t()}finally{zt(!1)}}return r.memoizedState=[o,n],o}function Nf(t,n,r){return r===void 0||(os&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Uy(),Ve.lanes|=t,Ys|=t,r)}function Ug(t,n,r,o){return Ln(r,n)?r:Ua.current!==null?(t=Nf(t,r,o),Ln(t,n)||(Yt=!0),t):(os&42)===0||(os&1073741824)!==0&&(qe&261930)===0?(Yt=!0,t.memoizedState=r):(t=Uy(),Ve.lanes|=t,Ys|=t,n)}function Pg(t,n,r,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,Df(t,!1,n,r);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=QE(R,o);sl(t,n,G,Hn(t))}else sl(t,n,o,Hn(t))}catch(Z){sl(t,n,{then:function(){},status:"rejected",reason:Z},Hn())}finally{se.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function JE(){}function Cf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=zg(t).queue;Pg(t,h,n,me,r===null?JE:function(){return qg(t),r(o)})}function zg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qg(t){var n=zg(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},Hn())}function If(){return cn(El)}function Bg(){return Lt().memoizedState}function Hg(){return Lt().memoizedState}function WE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Hn();t=qs(r);var o=Bs(n,t,r);o!==null&&(Mn(o,n,r),Wo(o,n,r)),n={cache:rf()},t.payload=n;return}n=n.return}}function eT(t,n,r){var o=Hn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ku(t)?Gg(n,r):(r=Yh(t,n,r,o),r!==null&&(Mn(r,t,o),Qg(r,n,o)))}function Fg(t,n,r){var o=Hn();sl(t,n,r,o)}function sl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))Gg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,p))return Nu(t,n,h,0),gt===null&&Ru(),!1}catch{}finally{}if(r=Yh(t,n,h,o),r!==null)return Mn(r,t,o),Qg(r,n,o),!0}return!1}function Df(t,n,r,o){if(o={lane:2,revertLane:ud(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(a(479))}else n=Yh(t,r,o,2),n!==null&&Mn(n,t,2)}function Ku(t){var n=t.alternate;return t===Ve||n!==null&&n===Ve}function Gg(t,n){Pa=qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Qg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,wo(t,r)}}var rl={readContext:cn,use:Fu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};rl.useEffectEvent=It;var Yg={readContext:cn,use:Fu,useCallback:function(t,n){return Sn().memoizedState=[t,n===void 0?null:n],t},useContext:cn,useEffect:Ig,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,Vg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=Sn();n=n===void 0?null:n;var o=t();if(Xr){zt(!0);try{t()}finally{zt(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=Sn();if(r!==void 0){var h=r(n);if(Xr){zt(!0);try{r(n)}finally{zt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=eT.bind(null,Ve,t),[o.memoizedState,t]},useRef:function(t){var n=Sn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sf(t);var n=t.queue,r=Fg.bind(null,Ve,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Sn();return Nf(r,t,n)},useTransition:function(){var t=Sf(!1);return t=Pg.bind(null,Ve,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ve,h=Sn();if(Xe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),gt===null)throw Error(a(349));(qe&127)!==0||mg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ig(gg.bind(null,o,f,t),[t]),o.flags|=2048,qa(9,{destroy:void 0},pg.bind(null,o,f,r,n),null),r},useId:function(){var t=Sn(),n=gt.identifierPrefix;if(Xe){var r=qi,o=zi;r=(o&~(1<<32-Et(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=YE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:xg,useActionState:xg,useOptimistic:function(t){var n=Sn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Df.bind(null,Ve,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return Sn().memoizedState=WE.bind(null,Ve)},useEffectEvent:function(t){var n=Sn(),r={impl:t};return n.memoizedState=r,function(){if((it&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:cn,use:Fu,useCallback:jg,useContext:cn,useEffect:wf,useImperativeHandle:kg,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:Lg,useReducer:Gu,useRef:Cg,useState:function(){return Gu(ls)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Lt();return Ug(r,ft.memoizedState,t,n)},useTransition:function(){var t=Gu(ls)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:dg,useId:Bg,useHostTransitionStatus:If,useFormState:wg,useActionState:wg,useOptimistic:function(t,n){var r=Lt();return vg(r,ft,t,n)},useMemoCache:Ef,useCacheRefresh:Hg};Mf.useEffectEvent=Dg;var Kg={readContext:cn,use:Fu,useCallback:jg,useContext:cn,useEffect:wf,useImperativeHandle:kg,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:Lg,useReducer:Af,useRef:Cg,useState:function(){return Af(ls)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Lt();return ft===null?Nf(r,t,n):Ug(r,ft.memoizedState,t,n)},useTransition:function(){var t=Af(ls)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:dg,useId:Bg,useHostTransitionStatus:If,useFormState:Ng,useActionState:Ng,useOptimistic:function(t,n){var r=Lt();return ft!==null?vg(r,ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Hg};Kg.useEffectEvent=Dg;function Of(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Hn(),h=qs(o);h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,o),n!==null&&(Mn(n,t,o),Wo(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Hn(),h=qs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,o),n!==null&&(Mn(n,t,o),Wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Hn(),o=qs(r);o.tag=2,n!=null&&(o.callback=n),n=Bs(t,o,r),n!==null&&(Mn(n,t,r),Wo(n,t,r))}};function Xg(t,n,r,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Go(r,o)||!Go(h,f):!0}function $g(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function $r(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Zg(t){wu(t)}function Jg(t){console.error(t)}function Wg(t){wu(t)}function Xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ey(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,n,r){return r=qs(r),r.tag=3,r.payload={element:null},r.callback=function(){Xu(t,n)},r}function ty(t){return t=qs(t),t.tag=3,t}function ny(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ey(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ey(n,r,o),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function tT(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Oa(n,r,h,!0),r=Pn.current,r!==null){switch(r.tag){case 31:case 13:return ti===null?oc():r.alternate===null&&Dt===0&&(Dt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ad(t,o,h)),!1;case 22:return r.flags|=65536,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ad(t,o,h)),!1}throw Error(a(435,r.tag))}return ad(t,o,h),oc(),!1}if(Xe)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Wh&&(t=Error(a(422),{cause:o}),Ko(Zn(t,r)))):(o!==Wh&&(n=Error(a(423),{cause:o}),Ko(Zn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Zn(o,r),h=kf(t.stateNode,o,h),hf(t,h),Dt!==4&&(Dt=2)),!1;var f=Error(a(520),{cause:o});if(f=Zn(f,r),dl===null?dl=[f]:dl.push(f),Dt!==4&&(Dt=2),n===null)return!0;o=Zn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=kf(r.stateNode,o,t),hf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ty(h),ny(h,t,r,o),hf(r,h),!1}r=r.return}while(r!==null);return!1}var jf=Error(a(461)),Yt=!1;function hn(t,n,r,o){n.child=t===null?ag(n,null,r,o):Kr(n,t.child,r,o)}function iy(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Fr(n),o=yf(t,n,r,p,f,h),E=_f(),t!==null&&!Yt?(vf(t,n,h),us(t,n,h)):(Xe&&E&&Zh(n),n.flags|=1,hn(t,n,o,h),n.child)}function sy(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ry(t,n,f,o,h)):(t=Iu(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Go,r(p,o)&&t.ref===n.ref)return us(t,n,h)}return n.flags|=1,t=is(f,o),t.ref=n.ref,t.return=n,n.child=t}function ry(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Go(f,o)&&t.ref===n.ref)if(Yt=!1,n.pendingProps=o=f,Ff(t,h))(t.flags&131072)!==0&&(Yt=!0);else return n.lanes=t.lanes,us(t,n,h)}return Lf(t,n,r,o,h)}function ay(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return oy(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?ug(n,f):df(),cg(n);else return o=n.lanes=536870912,oy(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Vu(n,f.cachePool),ug(n,f),Fs(),n.memoizedState=null):(t!==null&&Vu(n,null),df(),Fs());return hn(t,n,h,r),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(t,n,r,o,h){var f=of();return f=f===null?null:{parent:Gt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Vu(n,null),df(),cg(n),t!==null&&Oa(t,n,o,!0),n.childLanes=h,null}function $u(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ly(t,n,r){return Kr(n,t.child,null,r),t=$u(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function nT(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Xe){if(o.mode==="hidden")return t=$u(n,o),n.lanes=536870912,al(null,t);if(pf(n),(t=Tt)?(t=b0(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:zi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},r=Gp(t),r.return=n,n.child=r,un=n,Tt=null)):t=null,t===null)throw Us(n);return n.lanes=536870912,null}return $u(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=ly(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Yt||Oa(t,n,r,!1),h=(r&t.childLanes)!==0,Yt||h){if(o=gt,o!==null&&(p=Ro(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,zr(t,p),Mn(o,t,p),jf;oc(),n=ly(t,n,r)}else t=f.treeContext,Tt=ni(p.nextSibling),un=n,Xe=!0,Ls=null,ei=!1,t!==null&&Kp(n,t),n=$u(n,o),n.flags|=4096;return n}return t=is(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,o,h){return Fr(n),r=yf(t,n,r,o,void 0,h),o=_f(),t!==null&&!Yt?(vf(t,n,h),us(t,n,h)):(Xe&&o&&Zh(n),n.flags|=1,hn(t,n,r,h),n.child)}function uy(t,n,r,o,h,f){return Fr(n),n.updateQueue=null,r=fg(n,o,r,h),hg(t),o=_f(),t!==null&&!Yt?(vf(t,n,f),us(t,n,f)):(Xe&&o&&Zh(n),n.flags|=1,hn(t,n,r,f),n.child)}function cy(t,n,r,o,h){if(Fr(n),n.stateNode===null){var f=Ca,p=r.contextType;typeof p=="object"&&p!==null&&(f=cn(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},uf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?cn(p):Ca,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Of(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=$r(r,E);f.props=R;var z=f.context,G=r.contextType;p=Ca,typeof G=="object"&&G!==null&&(p=cn(G));var Z=r.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&$g(n,f,o,p),zs=!1;var q=n.memoizedState;f.state=q,tl(n,o,f,h),el(),z=n.memoizedState,E||q!==z||zs?(typeof Z=="function"&&(Of(n,r,Z,o),z=n.memoizedState),(R=zs||Xg(n,r,R,o,q,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,cf(t,n),p=n.memoizedProps,G=$r(r,p),f.props=G,Z=n.pendingProps,q=f.context,z=r.contextType,R=Ca,typeof z=="object"&&z!==null&&(R=cn(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Z||q!==R)&&$g(n,f,o,R),zs=!1,q=n.memoizedState,f.state=q,tl(n,o,f,h),el();var H=n.memoizedState;p!==Z||q!==H||zs||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(Of(n,r,E,o),H=n.memoizedState),(G=zs||Xg(n,r,G,o,q,H,R)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Zu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Kr(n,t.child,null,h),n.child=Kr(n,null,r,h)):hn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=us(t,n,h),t}function hy(t,n,r,o){return Br(),n.flags|=256,hn(t,n,r,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:eg()}}function zf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Bn),t}function fy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xe){if(h?Hs(n):Fs(),(t=Tt)?(t=b0(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:js!==null?{id:zi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},r=Gp(t),r.return=n,n.child=r,un=n,Tt=null)):t=null,t===null)throw Us(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Fs(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=qr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(r),o.childLanes=zf(t,p,r),n.memoizedState=Uf,al(null,o)):(Hs(n),qf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Hs(n),n.flags&=-257,n=Bf(t,n,r)):n.memoizedState!==null?(Fs(),n.child=t.child,n.flags|=128,n=null):(Fs(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=qr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Kr(n,t.child,null,r),o=n.child,o.memoizedState=Pf(r),o.childLanes=zf(t,p,r),n.memoizedState=Uf,n=al(null,o));else if(Hs(n),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Ko({value:o,source:null,stack:null}),n=Bf(t,n,r)}else if(Yt||Oa(t,n,r,!1),p=(r&t.childLanes)!==0,Yt||p){if(p=gt,p!==null&&(o=Ro(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,zr(t,o),Mn(p,t,o),jf;Ed(E)||oc(),n=Bf(t,n,r)}else Ed(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Tt=ni(E.nextSibling),un=n,Xe=!0,Ls=null,ei=!1,t!==null&&Kp(n,t),n=qf(n,o.children),n.flags|=4096);return n}return h?(Fs(),E=o.fallback,h=n.mode,R=t.child,z=R.sibling,o=is(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=is(z,E):(E=qr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,al(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(R=Gt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=eg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=zf(t,p,r),n.memoizedState=Uf,al(t.child,o)):(Hs(n),r=t.child,t=r.sibling,r=is(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function Bf(t,n,r){return Kr(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),nf(t.return,n,r)}function Hf(t,n,r,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function my(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=jt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,$(jt,p),hn(t,n,o,r),o=Xe?Yo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,r,n);else if(t.tag===19)dy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&zu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&zu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Hf(n,!0,r,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function us(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ys|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Oa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=is(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=is(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function iT(t,n,r){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),Ps(n,Gt,t.memoizedState.cache),Br();break;case 27:case 5:bt(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Hs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?fy(t,n,r):(Hs(n),t=us(t,n,r),t!==null?t.sibling:null);Hs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Oa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return my(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(jt,jt.current),o)break;return null;case 22:return n.lanes=0,ay(t,n,r,n.pendingProps);case 24:Ps(n,Gt,t.memoizedState.cache)}return us(t,n,r)}function py(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Yt=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return Yt=!1,iT(t,n,r);Yt=(t.flags&131072)!==0}else Yt=!1,Xe&&(n.flags&1048576)!==0&&Yp(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Qr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(o=$r(t,o),n.tag=1,n=cy(null,n,t,o,r)):(n.tag=0,n=Lf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===st){n.tag=11,n=iy(null,n,t,o,r);break e}else if(h===C){n.tag=14,n=sy(null,n,t,o,r);break e}}throw n=yt(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=$r(o,n.pendingProps),cy(t,n,o,h,r);case 3:e:{if(je(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,cf(t,n),tl(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Ps(n,Gt,o),o!==f.cache&&sf(n,[Gt],r,!0),el(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(t,n,o,r);break e}else if(o!==h){h=Zn(Error(a(424)),n),Ko(h),n=hy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tt=ni(t.firstChild),un=n,Xe=!0,Ls=null,ei=!0,r=ag(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Br(),o===h){n=us(t,n,r);break e}hn(t,n,o,r)}n=n.child}return n;case 26:return Zu(t,n),t===null?(r=w0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Xe||(r=n.type,t=n.pendingProps,o=mc(le.current).createElement(r),o[Bt]=n,o[en]=t,fn(o,r,t),Ht(o),n.stateNode=o):n.memoizedState=w0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bt(n),t===null&&Xe&&(o=n.stateNode=A0(n.type,n.pendingProps,le.current),un=n,ei=!0,h=Tt,Js(n.type)?(Ad=h,Tt=ni(o.firstChild)):Tt=h),hn(t,n,n.pendingProps.children,r),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xe&&((h=o=Tt)&&(o=OT(o,n.type,n.pendingProps,ei),o!==null?(n.stateNode=o,un=n,Tt=ni(o.firstChild),ei=!1,h=!0):h=!1),h||Us(n)),bt(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,_d(h,f)?o=null:p!==null&&_d(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=yf(t,n,KE,null,null,r),El._currentValue=h),Zu(t,n),hn(t,n,o,r),n.child;case 6:return t===null&&Xe&&((t=r=Tt)&&(r=VT(r,n.pendingProps,ei),r!==null?(n.stateNode=r,un=n,Tt=null,t=!0):t=!1),t||Us(n)),null;case 13:return fy(t,n,r);case 4:return je(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Kr(n,null,o,r):hn(t,n,o,r),n.child;case 11:return iy(t,n,n.type,n.pendingProps,r);case 7:return hn(t,n,n.pendingProps,r),n.child;case 8:return hn(t,n,n.pendingProps.children,r),n.child;case 12:return hn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ps(n,n.type,o.value),hn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fr(n),h=cn(h),o=o(h),n.flags|=1,hn(t,n,o,r),n.child;case 14:return sy(t,n,n.type,n.pendingProps,r);case 15:return ry(t,n,n.type,n.pendingProps,r);case 19:return my(t,n,r);case 31:return nT(t,n,r);case 22:return ay(t,n,r,n.pendingProps);case 24:return Fr(n),o=cn(Gt),t===null?(h=of(),h===null&&(h=gt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},uf(n),Ps(n,Gt,h)):((t.lanes&r)!==0&&(cf(t,n),tl(n,null,null,r),el()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,Gt,o)):(o=f.cache,Ps(n,Gt,o),o!==h.cache&&sf(n,[Gt],r,!0))),hn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cs(t){t.flags|=4}function Gf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(By())t.flags|=8192;else throw Yr=ju,lf}else t.flags&=-16777217}function gy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D0(n))if(By())t.flags|=8192;else throw Yr=ju,lf}function Wu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ru():536870912,t.lanes|=n,Ga|=n)}function ol(t,n){if(!Xe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function At(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function sT(t,n,r){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(n),null;case 1:return At(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),as(Gt),_e(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?cs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),At(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(cs(n),f!==null?(At(n),gy(n,f)):(At(n),Gf(n,h,null,o,r))):f?f!==t.memoizedState?(cs(n),At(n),gy(n,f)):(At(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&cs(n),At(n),Gf(n,h,t,o,r)),null;case 27:if(Ke(n),r=le.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&cs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return At(n),null}t=K.current,Ma(n)?Xp(n):(t=A0(h,o,r),n.stateNode=t,cs(n))}return At(n),null;case 5:if(Ke(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&cs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return At(n),null}if(f=K.current,Ma(n))Xp(n);else{var p=mc(le.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Bt]=n,f[en]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(fn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&cs(n)}}return At(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&cs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=le.current,Ma(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=un,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Bt]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||f0(t.nodeValue,r)),t||Us(n,!0)}else t=mc(t).createTextNode(o),t[Bt]=n,n.stateNode=t}return At(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Bt]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;At(n),t=!1}else r=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return At(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Bt]=n}else Br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;At(n),h=!1}else h=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),At(n),null);case 4:return _e(),t===null&&dd(n.stateNode.containerInfo),At(n),null;case 10:return as(n.type),At(n),null;case 19:if(L(jt),o=n.memoizedState,o===null)return At(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(Dt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=zu(t),f!==null){for(n.flags|=128,ol(o,!1),t=f.updateQueue,n.updateQueue=t,Wu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Fp(r,t),r=r.sibling;return $(jt,jt.current&1|2),Xe&&ss(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&ye()>sc&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(t=zu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Wu(n,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Xe)return At(n),null}else 2*ye()-o.renderingStartTime>sc&&r!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ye(),t.sibling=null,r=jt.current,$(jt,h?r&1|2:r&1),Xe&&ss(n,o.treeForkCount),t):(At(n),null);case 22:case 23:return zn(n),mf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(At(n),n.subtreeFlags&6&&(n.flags|=8192)):At(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&L(Gr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),as(Gt),At(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function rT(t,n){switch(Jh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return as(Gt),_e(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ke(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(a(340));Br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Br()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return L(jt),null;case 4:return _e(),null;case 10:return as(n.type),null;case 22:case 23:return zn(n),mf(),t!==null&&L(Gr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return as(Gt),null;case 25:return null;default:return null}}function yy(t,n){switch(Jh(n),n.tag){case 3:as(Gt),_e();break;case 26:case 27:case 5:Ke(n);break;case 4:_e();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:L(jt);break;case 10:as(n.type);break;case 22:case 23:zn(n),mf(),t!==null&&L(Gr);break;case 24:as(Gt)}}function ll(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){ct(n,n.return,E)}}function Gs(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(G){ct(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){ct(n,n.return,G)}}function _y(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{lg(n,r)}catch(o){ct(t,t.return,o)}}}function vy(t,n,r){r.props=$r(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){ct(t,n,o)}}function ul(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){ct(t,n,h)}}function Bi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){ct(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ct(t,n,h)}else r.current=null}function by(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){ct(t,t.return,h)}}function Qf(t,n,r){try{var o=t.stateNode;RT(o,t.type,r,n),o[en]=n}catch(h){ct(t,t.return,h)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function ec(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ec(t,n,r),t=t.sibling;t!==null;)ec(t,n,r),t=t.sibling}function Ty(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);fn(n,o,r),n[Bt]=t,n[en]=r}catch(f){ct(t,t.return,f)}}var hs=!1,Kt=!1,Xf=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,nn=null;function aT(t,n){if(t=t.containerInfo,gd=Ec,t=kp(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,E=-1,R=-1,z=0,G=0,Z=t,q=null;t:for(;;){for(var H;Z!==r||h!==0&&Z.nodeType!==3||(E=p+h),Z!==f||o!==0&&Z.nodeType!==3||(R=p+o),Z.nodeType===3&&(p+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===t)break t;if(q===r&&++z===h&&(E=p),q===f&&++G===o&&(R=p),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(yd={focusedElem:t,selectionRange:r},Ec=!1,nn=n;nn!==null;)if(n=nn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,nn=t;else for(;nn!==null;){switch(n=nn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ce=$r(r.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){ct(r,r.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)bd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,nn=t;break}nn=n.return}}function Sy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ds(t,r),o&4&&ll(5,r);break;case 1:if(ds(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){ct(r,r.return,p)}else{var h=$r(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ct(r,r.return,p)}}o&64&&_y(r),o&512&&ul(r,r.return);break;case 3:if(ds(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{lg(t,n)}catch(p){ct(r,r.return,p)}}break;case 27:n===null&&o&4&&Ty(r);case 26:case 5:ds(t,r),n===null&&o&4&&by(r),o&512&&ul(r,r.return);break;case 12:ds(t,r);break;case 31:ds(t,r),o&4&&Ry(t,r);break;case 13:ds(t,r),o&4&&Ny(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=pT.bind(null,r),kT(t,r))));break;case 22:if(o=r.memoizedState!==null||hs,!o){n=n!==null&&n.memoizedState!==null||Kt,h=hs;var f=Kt;hs=o,(Kt=n)&&!f?ms(t,r,(r.subtreeFlags&8772)!==0):ds(t,r),hs=h,Kt=f}break;case 30:break;default:ds(t,r)}}function xy(t){var n=t.alternate;n!==null&&(t.alternate=null,xy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,Nn=!1;function fs(t,n,r){for(r=r.child;r!==null;)wy(t,n,r),r=r.sibling}function wy(t,n,r){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Tn,r)}catch{}switch(r.tag){case 26:Kt||Bi(r,n),fs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Kt||Bi(r,n);var o=wt,h=Nn;Js(r.type)&&(wt=r.stateNode,Nn=!1),fs(t,n,r),_l(r.stateNode),wt=o,Nn=h;break;case 5:Kt||Bi(r,n);case 6:if(o=wt,h=Nn,wt=null,fs(t,n,r),wt=o,Nn=h,wt!==null)if(Nn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(r.stateNode)}catch(f){ct(r,n,f)}else try{wt.removeChild(r.stateNode)}catch(f){ct(r,n,f)}break;case 18:wt!==null&&(Nn?(t=wt,_0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wa(t)):_0(wt,r.stateNode));break;case 4:o=wt,h=Nn,wt=r.stateNode.containerInfo,Nn=!0,fs(t,n,r),wt=o,Nn=h;break;case 0:case 11:case 14:case 15:Gs(2,r,n),Kt||Gs(4,r,n),fs(t,n,r);break;case 1:Kt||(Bi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&vy(r,n,o)),fs(t,n,r);break;case 21:fs(t,n,r);break;case 22:Kt=(o=Kt)||r.memoizedState!==null,fs(t,n,r),Kt=o;break;default:fs(t,n,r)}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(r){ct(n,n.return,r)}}}function Ny(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(r){ct(n,n.return,r)}}function oT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ay),n;default:throw Error(a(435,t.tag))}}function tc(t,n){var r=oT(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=gT.bind(null,t,o);o.then(h,h)}})}function Cn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){wt=E.stateNode,Nn=!1;break e}break;case 5:wt=E.stateNode,Nn=!1;break e;case 3:case 4:wt=E.stateNode.containerInfo,Nn=!0;break e}E=E.return}if(wt===null)throw Error(a(160));wy(f,p,h),wt=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,t),n=n.sibling}var _i=null;function Cy(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),In(t),o&4&&(Gs(3,t,t.return),ll(3,t),Gs(5,t,t.return));break;case 1:Cn(n,t),In(t),o&512&&(Kt||r===null||Bi(r,r.return)),o&64&&hs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=_i;if(Cn(n,t),In(t),o&512&&(Kt||r===null||Bi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ni]||f[Bt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),fn(f,o,r),f[Bt]=t,Ht(f),o=f;break e;case"link":var p=C0("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),fn(f,o,r),h.head.appendChild(f);break;case"meta":if(p=C0("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}f=h.createElement(o),fn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Bt]=t,Ht(f),o=f}t.stateNode=o}else I0(h,t.type,t.stateNode);else t.stateNode=N0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?I0(h,t.type,t.stateNode):N0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Cn(n,t),In(t),o&512&&(Kt||r===null||Bi(r,r.return)),r!==null&&o&4&&Qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Cn(n,t),In(t),o&512&&(Kt||r===null||Bi(r,r.return)),t.flags&32){h=t.stateNode;try{Rn(h,"")}catch(ce){ct(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Qf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(Cn(n,t),In(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ce){ct(t,t.return,ce)}}break;case 3:if(yc=null,h=_i,_i=pc(n.containerInfo),Cn(n,t),_i=h,In(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(ce){ct(t,t.return,ce)}Xf&&(Xf=!1,Iy(t));break;case 4:o=_i,_i=pc(t.stateNode.containerInfo),Cn(n,t),In(t),_i=o;break;case 12:Cn(n,t),In(t);break;case 31:Cn(n,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 13:Cn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ic=ye()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=hs,G=Kt;if(hs=z||h,Kt=G||R,Cn(n,t),Kt=G,hs=z,In(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||hs||Kt||Zr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Z=R.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){ct(R,R.return,ce)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ce){ct(R,R.return,ce)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?v0(H,!0):v0(R.stateNode,!1)}catch(ce){ct(R,R.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,tc(t,r))));break;case 19:Cn(n,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,tc(t,o)));break;case 30:break;case 21:break;default:Cn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(Ey(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);ec(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(Rn(p,""),r.flags&=-33);var E=Yf(t);ec(t,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Yf(t);Kf(t,z,R);break;default:throw Error(a(161))}}catch(G){ct(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Iy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ds(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(t,n.alternate,n),n=n.sibling}function Zr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Zr(n);break;case 1:Bi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&vy(n,n.return,r),Zr(n);break;case 27:_l(n.stateNode);case 26:case 5:Bi(n,n.return),Zr(n);break;case 22:n.memoizedState===null&&Zr(n);break;case 30:Zr(n);break;default:Zr(n)}t=t.sibling}}function ms(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ms(h,f,r),ll(4,f);break;case 1:if(ms(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ct(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)og(R[h],E)}catch(z){ct(o,o.return,z)}}r&&p&64&&_y(f),ul(f,f.return);break;case 27:Ty(f);case 26:case 5:ms(h,f,r),r&&o===null&&p&4&&by(f),ul(f,f.return);break;case 12:ms(h,f,r);break;case 31:ms(h,f,r),r&&p&4&&Ry(h,f);break;case 13:ms(h,f,r),r&&p&4&&Ny(h,f);break;case 22:f.memoizedState===null&&ms(h,f,r),ul(f,f.return);break;case 30:break;default:ms(h,f,r)}n=n.sibling}}function $f(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xo(r))}function Zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t))}function vi(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(t,n,r,o),n=n.sibling}function Dy(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,r,o),h&2048&&ll(9,n);break;case 1:vi(t,n,r,o);break;case 3:vi(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){vi(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ct(n,n.return,R)}}else vi(t,n,r,o);break;case 31:vi(t,n,r,o);break;case 13:vi(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,r,o):cl(t,n):f._visibility&2?vi(t,n,r,o):(f._visibility|=2,Ba(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&$f(p,n);break;case 24:vi(t,n,r,o),h&2048&&Zf(n.alternate,n);break;default:vi(t,n,r,o)}}function Ba(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=r,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ba(f,p,E,R,h),ll(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ba(f,p,E,R,h):cl(f,p):(G._visibility|=2,Ba(f,p,E,R,h)),h&&z&2048&&$f(p.alternate,p);break;case 24:Ba(f,p,E,R,h),h&&z&2048&&Zf(p.alternate,p);break;default:Ba(f,p,E,R,h)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:cl(r,o),h&2048&&$f(o.alternate,o);break;case 24:cl(r,o),h&2048&&Zf(o.alternate,o);break;default:cl(r,o)}n=n.sibling}}var hl=8192;function Ha(t,n,r){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)My(t,n,r),t=t.sibling}function My(t,n,r){switch(t.tag){case 26:Ha(t,n,r),t.flags&hl&&t.memoizedState!==null&&YT(r,_i,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,r);break;case 3:case 4:var o=_i;_i=pc(t.stateNode.containerInfo),Ha(t,n,r),_i=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ha(t,n,r),hl=o):Ha(t,n,r));break;default:Ha(t,n,r)}}function Oy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];nn=o,ky(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vy(t),t=t.sibling}function Vy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,nc(t)):fl(t);break;default:fl(t)}}function nc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];nn=o,ky(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),nc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,nc(n));break;default:nc(n)}t=t.sibling}}function ky(t,n){for(;nn!==null;){var r=nn;switch(r.tag){case 0:case 11:case 15:Gs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,nn=o;else e:for(r=t;nn!==null;){o=nn;var h=o.sibling,f=o.return;if(xy(o),o===r){nn=null;break e}if(h!==null){h.return=f,nn=h;break e}nn=f}}}var lT={getCacheForType:function(t){var n=cn(Gt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return cn(Gt).controller.signal}},uT=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,Ue=null,qe=0,ut=0,qn=null,Qs=!1,Fa=!1,Jf=!1,ps=0,Dt=0,Ys=0,Jr=0,Wf=0,Bn=0,Ga=0,dl=null,Dn=null,ed=!1,ic=0,jy=0,sc=1/0,rc=null,Ks=null,Jt=0,Xs=null,Qa=null,gs=0,td=0,nd=null,Ly=null,ml=0,id=null;function Hn(){return(it&2)!==0&&qe!==0?qe&-qe:F.T!==null?ud():au()}function Uy(){if(Bn===0)if((qe&536870912)===0||Xe){var t=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Bn=t}else Bn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),Bn}function Mn(t,n,r){(t===gt&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),$s(t,qe,Bn,!1)),wr(t,r),((it&2)===0||t!==gt)&&(t===gt&&((it&2)===0&&(Jr|=r),Dt===4&&$s(t,qe,Bn,!1)),Hi(t))}function Py(t,n,r){if((it&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||ui(t,n),h=o?fT(t,n):rd(t,n,!0),f=o;do{if(h===0){Fa&&!o&&$s(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!cT(r)){h=rd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=dl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ya(E,p).flags|=256),p=rd(E,p,!1),p!==2){if(Jf&&!R){E.errorRecoveryDisabledLanes|=f,Jr|=f,h=4;break e}f=Dn,Dn=h,f!==null&&(Dn===null?Dn=f:Dn.push.apply(Dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ya(t,0),$s(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:$s(o,n,Bn,!Qs);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-ye(),10<h)){if($s(o,n,Bn,!Qs),xi(o,0,!0)!==0)break e;gs=n,o.timeoutHandle=g0(zy.bind(null,o,r,Dn,rc,ed,n,Bn,Jr,Ga,Qs,f,"Throttled",-0,0),h);break e}zy(o,r,Dn,rc,ed,n,Bn,Jr,Ga,Qs,f,null,-0,0)}}break}while(!0);Hi(t)}function zy(t,n,r,o,h,f,p,E,R,z,G,Z,q,H){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},My(n,f,Z);var ce=(f&62914560)===f?ic-ye():(f&4194048)===f?jy-ye():0;if(ce=KT(Z,ce),ce!==null){gs=f,t.cancelPendingCommit=ce(Ky.bind(null,t,n,f,r,o,h,p,E,R,G,Z,null,q,H)),$s(t,f,p,!z);return}}Ky(t,n,f,r,o,h,p,E,R)}function cT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $s(t,n,r,o){n&=~Wf,n&=~Jr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Et(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Rr(t,r,n)}function ac(){return(it&6)===0?(pl(0),!1):!0}function sd(){if(Ue!==null){if(ut===0)var t=Ue.return;else t=Ue,rs=Hr=null,bf(t),La=null,Zo=0,t=Ue;for(;t!==null;)yy(t.alternate,t),t=t.return;Ue=null}}function Ya(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,IT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),gs=0,sd(),gt=t,Ue=r=is(t.current,null),qe=n,ut=0,qn=null,Qs=!1,Fa=ui(t,n),Jf=!1,Ga=Bn=Wf=Jr=Ys=Dt=0,Dn=dl=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Et(o),f=1<<h;n|=t[h],o&=~f}return ps=n,Ru(),r}function qy(t,n){Ve=null,F.H=rl,n===ja||n===ku?(n=ig(),ut=3):n===lf?(n=ig(),ut=4):ut=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Ue===null&&(Dt=1,Xu(t,Zn(n,t.current)))}function By(){var t=Pn.current;return t===null?!0:(qe&4194048)===qe?ti===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ti:!1}function Hy(){var t=F.H;return F.H=rl,t===null?rl:t}function Fy(){var t=F.A;return F.A=lT,t}function oc(){Dt=4,Qs||(qe&4194048)!==qe&&Pn.current!==null||(Fa=!0),(Ys&134217727)===0&&(Jr&134217727)===0||gt===null||$s(gt,qe,Bn,!1)}function rd(t,n,r){var o=it;it|=2;var h=Hy(),f=Fy();(gt!==t||qe!==n)&&(rc=null,Ya(t,n)),n=!1;var p=Dt;e:do try{if(ut!==0&&Ue!==null){var E=Ue,R=qn;switch(ut){case 8:sd(),p=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var z=ut;if(ut=0,qn=null,Ka(t,E,R,z),r&&Fa){p=0;break e}break;default:z=ut,ut=0,qn=null,Ka(t,E,R,z)}}hT(),p=Dt;break}catch(G){qy(t,G)}while(!0);return n&&t.shellSuspendCounter++,rs=Hr=null,it=o,F.H=h,F.A=f,Ue===null&&(gt=null,qe=0,Ru()),p}function hT(){for(;Ue!==null;)Gy(Ue)}function fT(t,n){var r=it;it|=2;var o=Hy(),h=Fy();gt!==t||qe!==n?(rc=null,sc=ye()+500,Ya(t,n)):Fa=ui(t,n);e:do try{if(ut!==0&&Ue!==null){n=Ue;var f=qn;t:switch(ut){case 1:ut=0,qn=null,Ka(t,n,f,1);break;case 2:case 9:if(tg(f)){ut=0,qn=null,Qy(n);break}n=function(){ut!==2&&ut!==9||gt!==t||(ut=7),Hi(t)},f.then(n,n);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:tg(f)?(ut=0,qn=null,Qy(n)):(ut=0,qn=null,Ka(t,n,f,7));break;case 5:var p=null;switch(Ue.tag){case 26:p=Ue.memoizedState;case 5:case 27:var E=Ue;if(p?D0(p):E.stateNode.complete){ut=0,qn=null;var R=E.sibling;if(R!==null)Ue=R;else{var z=E.return;z!==null?(Ue=z,lc(z)):Ue=null}break t}}ut=0,qn=null,Ka(t,n,f,5);break;case 6:ut=0,qn=null,Ka(t,n,f,6);break;case 8:sd(),Dt=6;break e;default:throw Error(a(462))}}dT();break}catch(G){qy(t,G)}while(!0);return rs=Hr=null,F.H=o,F.A=h,it=r,Ue!==null?0:(gt=null,qe=0,Ru(),Dt)}function dT(){for(;Ue!==null&&!rt();)Gy(Ue)}function Gy(t){var n=py(t.alternate,t,ps);t.memoizedProps=t.pendingProps,n===null?lc(t):Ue=n}function Qy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=uy(r,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=uy(r,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:bf(n);default:yy(r,n),n=Ue=Fp(n,ps),n=py(r,n,ps)}t.memoizedProps=t.pendingProps,n===null?lc(t):Ue=n}function Ka(t,n,r,o){rs=Hr=null,bf(n),La=null,Zo=0;var h=n.return;try{if(tT(t,h,n,r,qe)){Dt=1,Xu(t,Zn(r,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;Dt=1,Xu(t,Zn(r,t.current)),Ue=null;return}n.flags&32768?(Xe||o===1?t=!0:Fa||(qe&536870912)!==0?t=!1:(Qs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yy(n,t)):lc(n)}function lc(t){var n=t;do{if((n.flags&32768)!==0){Yy(n,Qs);return}t=n.return;var r=sT(n.alternate,n,ps);if(r!==null){Ue=r;return}if(n=n.sibling,n!==null){Ue=n;return}Ue=n=t}while(n!==null);Dt===0&&(Dt=5)}function Yy(t,n){do{var r=rT(t.alternate,t);if(r!==null){r.flags&=32767,Ue=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=r}while(t!==null);Dt=6,Ue=null}function Ky(t,n,r,o,h,f,p,E,R){t.cancelPendingCommit=null;do uc();while(Jt!==0);if((it&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,Lh(t,r,f,p,E,R),t===gt&&(Ue=gt=null,qe=0),Qa=n,Xs=t,gs=r,td=f,nd=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yT(_t,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=se.p,se.p=2,p=it,it|=4;try{aT(t,n,r)}finally{it=p,se.p=h,F.T=o}}Jt=1,Xy(),$y(),Zy()}}function Xy(){if(Jt===1){Jt=0;var t=Xs,n=Qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=se.p;se.p=2;var h=it;it|=4;try{Cy(n,t);var f=yd,p=kp(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Vp(E.ownerDocument.documentElement,E)){if(R!==null&&qh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Z=E.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),ce=E.textContent.length,be=Math.min(R.start,ce),mt=R.end===void 0?be:Math.min(R.end,ce);!H.extend&&be>mt&&(p=mt,mt=be,be=p);var j=Op(E,be),I=Op(E,mt);if(j&&I&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var P=Z.createRange();P.setStart(j.node,j.offset),H.removeAllRanges(),be>mt?(H.addRange(P),H.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),H.addRange(P))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var Y=Z[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!gd,yd=gd=null}finally{it=h,se.p=o,F.T=r}}t.current=n,Jt=2}}function $y(){if(Jt===2){Jt=0;var t=Xs,n=Qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=se.p;se.p=2;var h=it;it|=4;try{Sy(t,n.alternate,n)}finally{it=h,se.p=o,F.T=r}}Jt=3}}function Zy(){if(Jt===4||Jt===3){Jt=0,ve();var t=Xs,n=Qa,r=gs,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Jt=5:(Jt=0,Qa=Xs=null,Jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),Wi(r),n=n.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Tn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=se.p,se.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,se.p=h}}(gs&3)!==0&&uc(),Hi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===id?ml++:(ml=0,id=t):ml=0,pl(0)}}function Jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xo(n)))}function uc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(Jt!==5)return!1;var t=Xs,n=td;td=0;var r=Wi(gs),o=F.T,h=se.p;try{se.p=32>r?32:r,F.T=null,r=nd,nd=null;var f=Xs,p=gs;if(Jt=0,Qa=Xs=null,gs=0,(it&6)!==0)throw Error(a(331));var E=it;if(it|=4,Vy(f.current),Dy(f,f.current,p,r),it=E,pl(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Tn,f)}catch{}return!0}finally{se.p=h,F.T=o,Jy(t,n)}}function e0(t,n,r){n=Zn(r,n),n=kf(t.stateNode,n,2),t=Bs(t,n,2),t!==null&&(wr(t,2),Hi(t))}function ct(t,n,r){if(t.tag===3)e0(t,t,r);else for(;n!==null;){if(n.tag===3){e0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ks===null||!Ks.has(o))){t=Zn(r,t),r=ty(2),o=Bs(n,r,2),o!==null&&(ny(r,o,n,t),wr(o,2),Hi(o));break}}n=n.return}}function ad(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new uT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Jf=!0,h.add(r),t=mT.bind(null,t,n,r),n.then(t,t))}function mT(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,gt===t&&(qe&r)===r&&(Dt===4||Dt===3&&(qe&62914560)===qe&&300>ye()-ic?(it&2)===0&&Ya(t,0):Wf|=r,Ga===qe&&(Ga=0)),Hi(t)}function t0(t,n){n===0&&(n=ru()),t=zr(t,n),t!==null&&(wr(t,n),Hi(t))}function pT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),t0(t,r)}function gT(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),t0(t,r)}function yT(t,n){return ae(t,n)}var cc=null,Xa=null,od=!1,hc=!1,ld=!1,Zs=0;function Hi(t){t!==Xa&&t.next===null&&(Xa===null?cc=Xa=t:Xa=Xa.next=t),hc=!0,od||(od=!0,vT())}function pl(t,n){if(!ld&&hc){ld=!0;do for(var r=!1,o=cc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,r0(o,f))}else f=qe,f=xi(o,o===gt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ui(o,f)||(r=!0,r0(o,f));o=o.next}while(r);ld=!1}}function _T(){n0()}function n0(){hc=od=!1;var t=0;Zs!==0&&CT()&&(t=Zs);for(var n=ye(),r=null,o=cc;o!==null;){var h=o.next,f=i0(o,n);f===0?(o.next=null,r===null?cc=h:r.next=h,h===null&&(Xa=r)):(r=o,(t!==0||(f&3)!==0)&&(hc=!0)),o=h}Jt!==0&&Jt!==5||pl(t),Zs!==0&&(Zs=0)}function i0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Et(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=jh(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=gt,r=qe,r=xi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Le(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ui(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&Le(o),Wi(r)){case 2:case 8:r=Ce;break;case 32:r=_t;break;case 268435456:r=on;break;default:r=_t}return o=s0.bind(null,t),r=ae(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&Le(o),t.callbackPriority=2,t.callbackNode=null,2}function s0(t,n){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(uc()&&t.callbackNode!==r)return null;var o=qe;return o=xi(t,t===gt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Py(t,o,n),i0(t,ye()),t.callbackNode!=null&&t.callbackNode===r?s0.bind(null,t):null)}function r0(t,n){if(uc())return null;Py(t,n,!0)}function vT(){DT(function(){(it&6)!==0?ae(ie,_T):n0()})}function ud(){if(Zs===0){var t=Va;t===0&&(t=Gn,Gn<<=1,(Gn&261888)===0&&(Gn=256)),Zs=t}return Zs}function a0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function o0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function bT(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=a0((h[en]||null).action),p=o.submitter;p&&(n=(n=p[en]||null)?a0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new ji("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var R=p?o0(h,p):new FormData(h);Cf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?o0(h,p):new FormData(h),Cf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var cd=0;cd<Gh.length;cd++){var hd=Gh[cd],ET=hd.toLowerCase(),TT=hd[0].toUpperCase()+hd.slice(1);yi(ET,"on"+TT)}yi(Up,"onAnimationEnd"),yi(Pp,"onAnimationIteration"),yi(zp,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(UE,"onTransitionRun"),yi(PE,"onTransitionStart"),yi(zE,"onTransitionCancel"),yi(qp,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function l0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}}}}function Pe(t,n){var r=n[ma];r===void 0&&(r=n[ma]=new Set);var o=t+"__bubble";r.has(o)||(u0(n,t,2,!1),r.add(o))}function fd(t,n,r){var o=0;n&&(o|=4),u0(r,t,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[fc]){t[fc]=!0,No.forEach(function(r){r!=="selectionchange"&&(AT.has(r)||fd(r,!1,t),fd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[fc]||(n[fc]=!0,fd("selectionchange",!1,n))}}function u0(t,n,r,o){switch(U0(n)){case 2:var h=ZT;break;case 8:h=JT;break;default:h=Nd}r=h.bind(null,n,r,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function md(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ci(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue e}E=E.parentNode}}o=o.return}Ms(function(){var z=f,G=Yn(r),Z=[];e:{var q=Bp.get(t);if(q!==void 0){var H=ji,ce=t;switch(t){case"keypress":if(Vr(r)===0)break e;case"keydown":case"keyup":H=Au;break;case"focusin":ce="focus",H=jr;break;case"focusout":ce="blur",H=jr;break;case"beforeblur":case"afterblur":H=jr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Up:case Pp:case zp:H=gu;break;case qp:H=T;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ns;break;case"toggle":case"beforetoggle":H=Oe}var be=(n&4)!==0,mt=!be&&(t==="scroll"||t==="scrollend"),j=be?q!==null?q+"Capture":null:q;be=[];for(var I=z,P;I!==null;){var Y=I;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||j===null||(Y=di(I,j),Y!=null&&be.push(yl(I,Y,P))),mt)break;I=I.return}0<be.length&&(q=new H(q,ce,null,r,G),Z.push({event:q,listeners:be}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&r!==Lo&&(ce=r.relatedTarget||r.fromElement)&&(Ci(ce)||ce[Ri]))break e;if((H||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ce=r.relatedTarget||r.toElement,H=z,ce=ce?Ci(ce):null,ce!==null&&(mt=c(ce),be=ce.tag,ce!==mt||be!==5&&be!==27&&be!==6)&&(ce=null)):(H=null,ce=z),H!==ce)){if(be=qo,Y="onMouseLeave",j="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(be=ns,Y="onPointerLeave",j="onPointerEnter",I="pointer"),mt=H==null?q:kn(H),P=ce==null?q:kn(ce),q=new be(Y,I+"leave",H,r,G),q.target=mt,q.relatedTarget=P,Y=null,Ci(G)===z&&(be=new be(j,I+"enter",ce,r,G),be.target=P,be.relatedTarget=mt,Y=be),mt=Y,H&&ce)t:{for(be=ST,j=H,I=ce,P=0,Y=j;Y;Y=be(Y))P++;Y=0;for(var pe=I;pe;pe=be(pe))Y++;for(;0<P-Y;)j=be(j),P--;for(;0<Y-P;)I=be(I),Y--;for(;P--;){if(j===I||I!==null&&j===I.alternate){be=j;break t}j=be(j),I=be(I)}be=null}else be=null;H!==null&&c0(Z,q,H,be,!1),ce!==null&&mt!==null&&c0(Z,mt,ce,be,!0)}}e:{if(q=z?kn(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var Je=Rp;else if(xp(q))if(Np)Je=kE;else{Je=OE;var fe=ME}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&_a(z.elementType)&&(Je=Rp):Je=VE;if(Je&&(Je=Je(t,z))){wp(Z,Je,r,G);break e}fe&&fe(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Vo(q,"number",q.value)}switch(fe=z?kn(z):window,t){case"focusin":(xp(fe)||fe.contentEditable==="true")&&(wa=fe,Bh=z,Qo=null);break;case"focusout":Qo=Bh=wa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,jp(Z,r,G);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":jp(Z,r,G)}var ke;if(nt)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else xa?Lr(t,r)&&(Be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(Pi&&r.locale!=="ko"&&(xa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&xa&&(ke=Po()):(ki=G,Uo="value"in ki?ki.value:ki.textContent,xa=!0)),fe=dc(z,Be),0<fe.length&&(Be=new Ui(Be,t,null,r,G),Z.push({event:Be,listeners:fe}),ke?Be.data=ke:(ke=Sa(r),ke!==null&&(Be.data=ke)))),(ke=Xn?NE(t,r):CE(t,r))&&(Be=dc(z,"onBeforeInput"),0<Be.length&&(fe=new Ui("onBeforeInput","beforeinput",null,r,G),Z.push({event:fe,listeners:Be}),fe.data=ke)),bT(Z,t,z,r,G)}l0(Z,n)})}function yl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function dc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,r),h!=null&&o.unshift(yl(t,h,f)),h=di(t,n),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function ST(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c0(t,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=di(r,f),z!=null&&p.unshift(yl(r,z,R))):h||(z=di(r,f),z!=null&&p.push(yl(r,z,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var xT=/\r\n?/g,wT=/\u0000|\uFFFD/g;function h0(t){return(typeof t=="string"?t:""+t).replace(xT,`
`).replace(wT,"")}function f0(t,n){return n=h0(n),h0(t)===n}function dt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Rn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Rn(t,""+o);break;case"className":jn(t,"class",o);break;case"tabIndex":jn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,r,o);break;case"style":jo(t,o,f);break;case"data":if(n!=="object"){jn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=va(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&dt(t,n,"name",h.name,h,null),dt(t,n,"formEncType",h.formEncType,h,null),dt(t,n,"formMethod",h.formMethod,h,null),dt(t,n,"formTarget",h.formTarget,h,null)):(dt(t,n,"encType",h.encType,h,null),dt(t,n,"method",h.method,h,null),dt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=va(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=fi);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ga(t,"popover",o);break;case"xlinkActuate":Ft(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ft(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ft(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ft(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ft(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ft(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ft(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=du.get(r)||r,ga(t,r,o))}}function pd(t,n,r,o,h,f){switch(r){case"style":jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Rn(t,o):(typeof o=="number"||typeof o=="bigint")&&Rn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[en]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ga(t,r,o)}}}function fn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:dt(t,n,f,p,r,null)}}h&&dt(t,n,"srcSet",r.srcSet,r,null),o&&dt(t,n,"src",r.src,r,null);return;case"input":Pe("invalid",t);var E=f=p=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:dt(t,n,o,G,r,null)}}cu(t,f,E,R,z,p,h,!1);return;case"select":Pe("invalid",t),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:dt(t,n,h,E,r,null)}n=f,r=p,t.multiple=!!o,n!=null?Ns(t,!!o,n,!1):r!=null&&Ns(t,!!o,r,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:dt(t,n,p,E,r,null)}Cs(t,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:dt(t,n,R,o,r,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)Pe(gl[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:dt(t,n,z,o,r,null)}return;default:if(_a(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&pd(t,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&dt(t,n,E,o,r,null))}function RT(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,z=null,G=null;for(H in r){var Z=r[H];if(r.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Z;default:o.hasOwnProperty(H)||dt(t,n,H,null,o,Z)}}for(var q in o){var H=o[q];if(Z=r[q],o.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Z&&dt(t,n,q,H,o,Z)}}ya(t,p,E,R,z,G,f,h);return;case"select":H=p=E=q=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||dt(t,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&dt(t,n,h,f,o,R)}n=E,r=p,o=H,q!=null?Ns(t,!!r,q,!1):!!o!=!!r&&(n!=null?Ns(t,!!r,n,!0):Ns(t,!!r,r?[]:"",!1));return;case"textarea":H=q=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:dt(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&dt(t,n,p,h,o,f)}hu(t,q,H);return;case"option":for(var ce in r)if(q=r[ce],r.hasOwnProperty(ce)&&q!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:dt(t,n,ce,null,o,q)}for(R in o)if(q=o[R],H=r[R],o.hasOwnProperty(R)&&q!==H&&(q!=null||H!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:dt(t,n,R,q,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)q=r[be],r.hasOwnProperty(be)&&q!=null&&!o.hasOwnProperty(be)&&dt(t,n,be,null,o,q);for(z in o)if(q=o[z],H=r[z],o.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:dt(t,n,z,q,o,H)}return;default:if(_a(n)){for(var mt in r)q=r[mt],r.hasOwnProperty(mt)&&q!==void 0&&!o.hasOwnProperty(mt)&&pd(t,n,mt,void 0,o,q);for(G in o)q=o[G],H=r[G],!o.hasOwnProperty(G)||q===H||q===void 0&&H===void 0||pd(t,n,G,q,o,H);return}}for(var j in r)q=r[j],r.hasOwnProperty(j)&&q!=null&&!o.hasOwnProperty(j)&&dt(t,n,j,null,o,q);for(Z in o)q=o[Z],H=r[Z],!o.hasOwnProperty(Z)||q===H||q==null&&H==null||dt(t,n,Z,q,o,H)}function d0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&d0(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var G=R.transferSize,Z=R.initiatorType;G&&d0(Z)&&(R=R.responseEnd,p+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gd=null,yd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function m0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vd=null;function CT(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,DT=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(t){return y0.resolve(null).then(t).catch(MT)}:g0;function MT(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function _0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Wa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")_l(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,_l(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&_l(t.ownerDocument.body);r=h}while(r);Wa(n)}function v0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function bd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bd(r),pa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function OT(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function VT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ni(t.nextSibling),t===null))return null;return t}function b0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ni(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ni(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ad=null;function E0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ni(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function T0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function A0(t,n,r){switch(n=mc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pa(t)}var ii=new Map,S0=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ys=se.d;se.d={f:jT,r:LT,D:UT,C:PT,L:zT,m:qT,X:HT,S:BT,M:FT};function jT(){var t=ys.f(),n=ac();return t||n}function LT(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?qg(n):ys.r(t)}var $a=typeof document>"u"?null:document;function x0(t,n,r){var o=$a;if(o&&typeof n=="string"&&n){var h=wn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),S0.has(h)||(S0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),fn(n,"link",t),Ht(n),o.head.appendChild(n)))}}function UT(t){ys.D(t),x0("dns-prefetch",t,null)}function PT(t,n){ys.C(t,n),x0("preconnect",t,n)}function zT(t,n,r){ys.L(t,n,r);var o=$a;if(o&&t&&n){var h='link[rel="preload"][as="'+wn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+wn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+wn(r.imageSizes)+'"]')):h+='[href="'+wn(t)+'"]';var f=h;switch(n){case"style":f=Za(t);break;case"script":f=Ja(t)}ii.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ii.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),fn(n,"link",t),Ht(n),o.head.appendChild(n)))}}function qT(t,n){ys.m(t,n);var r=$a;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ja(t)}if(!ii.has(f)&&(t=S({rel:"modulepreload",href:t},n),ii.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(f)))return}o=r.createElement("link"),fn(o,"link",t),Ht(o),r.head.appendChild(o)}}}function BT(t,n,r){ys.S(t,n,r);var o=$a;if(o&&t){var h=Ii(o).hoistableStyles,f=Za(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(vl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ii.get(f))&&Sd(t,r);var R=p=o.createElement("link");Ht(R),fn(R,"link",t),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function HT(t,n){ys.X(t,n);var r=$a;if(r&&t){var o=Ii(r).hoistableScripts,h=Ja(t),f=o.get(h);f||(f=r.querySelector(bl(h)),f||(t=S({src:t,async:!0},n),(n=ii.get(h))&&xd(t,n),f=r.createElement("script"),Ht(f),fn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function FT(t,n){ys.M(t,n);var r=$a;if(r&&t){var o=Ii(r).hoistableScripts,h=Ja(t),f=o.get(h);f||(f=r.querySelector(bl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=ii.get(h))&&xd(t,n),f=r.createElement("script"),Ht(f),fn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w0(t,n,r,o){var h=(h=le.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Za(r.href),r=Ii(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Za(r.href);var f=Ii(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(vl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ii.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ii.set(t,r),f||GT(h,t,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ja(r),r=Ii(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Za(t){return'href="'+wn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function R0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function GT(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),fn(n,"link",r),Ht(n),t.head.appendChild(n))}function Ja(t){return'[src="'+wn(t)+'"]'}function bl(t){return"script[async]"+t}function N0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+wn(r.href)+'"]');if(o)return n.instance=o,Ht(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ht(o),fn(o,"style",h),gc(o,r.precedence,t),n.instance=o;case"stylesheet":h=Za(r.href);var f=t.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Ht(f),f;o=R0(r),(h=ii.get(h))&&Sd(o,h),f=(t.ownerDocument||t).createElement("link"),Ht(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),fn(f,"link",o),n.state.loading|=4,gc(f,r.precedence,t),n.instance=f;case"script":return f=Ja(r.src),(h=t.querySelector(bl(f)))?(n.instance=h,Ht(h),h):(o=r,(h=ii.get(f))&&(o=S({},r),xd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ht(h),fn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,r.precedence,t));return n.instance}function gc(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var yc=null;function C0(t,n,r){if(yc===null){var o=new Map,h=yc=new Map;h.set(r,o)}else h=yc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ni]||f[Bt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function I0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function QT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YT(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=_c.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ht(f);return}f=n.ownerDocument||n,o=R0(o),(h=ii.get(h))&&Sd(o,h),f=f.createElement("link"),Ht(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),fn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=_c.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function KT(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*NT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vc=new Map,n.forEach(XT,t),vc=null,_c.call(t))}function XT(t,n){if(!(n.state.loading&4)){var r=vc.get(t);if(r)var o=r.get(null);else{r=new Map,vc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var El={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function $T(t,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function M0(t,n,r,o,h,f,p,E,R,z,G,Z){return t=new $T(t,n,r,p,R,z,G,Z,E),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),t.current=f,f.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},uf(f),t}function O0(t){return t?(t=Ca,t):Ca}function V0(t,n,r,o,h,f){h=O0(h),o.context===null?o.context=h:o.pendingContext=h,o=qs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Bs(t,o,n),r!==null&&(Mn(r,t,n),Wo(r,t,n))}function k0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){k0(t,n),(t=t.alternate)&&k0(t,n)}function j0(t){if(t.tag===13||t.tag===31){var n=zr(t,67108864);n!==null&&Mn(n,t,67108864),Rd(t,67108864)}}function L0(t){if(t.tag===13||t.tag===31){var n=Hn();n=Nr(n);var r=zr(t,n);r!==null&&Mn(r,t,n),Rd(t,n)}}var Ec=!0;function ZT(t,n,r,o){var h=F.T;F.T=null;var f=se.p;try{se.p=2,Nd(t,n,r,o)}finally{se.p=f,F.T=h}}function JT(t,n,r,o){var h=F.T;F.T=null;var f=se.p;try{se.p=8,Nd(t,n,r,o)}finally{se.p=f,F.T=h}}function Nd(t,n,r,o){if(Ec){var h=Cd(o);if(h===null)md(t,n,o,Tc,r),P0(t,o);else if(eA(h,t,n,r,o))o.stopPropagation();else if(P0(t,o),n&4&&-1<WT.indexOf(t)){for(;h!==null;){var f=Qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Si(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-Et(p);E.entanglements[1]|=R,p&=~R}Hi(f),(it&6)===0&&(sc=ye()+500,pl(0))}}break;case 31:case 13:E=zr(f,2),E!==null&&Mn(E,f,2),ac(),Rd(f,2)}if(f=Cd(o),f===null&&md(t,n,o,Tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else md(t,n,o,null,r)}}function Cd(t){return t=Yn(t),Id(t)}var Tc=null;function Id(t){if(Tc=null,t=Ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tc=t,null}function U0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case ie:return 2;case Ce:return 8;case _t:case li:return 32;case on:return 268435456;default:return 32}default:return 32}}var Dd=!1,Ws=null,er=null,tr=null,Tl=new Map,Al=new Map,nr=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P0(t,n){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function Sl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&j0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function eA(t,n,r,o,h){switch(n){case"focusin":return Ws=Sl(Ws,t,n,r,o,h),!0;case"dragenter":return er=Sl(er,t,n,r,o,h),!0;case"mouseover":return tr=Sl(tr,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Tl.set(f,Sl(Tl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,Sl(Al.get(f)||null,t,n,r,o,h)),!0}return!1}function z0(t){var n=Ci(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ci(t.priority,function(){L0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ci(t.priority,function(){L0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Lo=o,r.target.dispatchEvent(o),Lo=null}else return n=Qn(r),n!==null&&j0(n),t.blockedOn=r,!1;n.shift()}return!0}function q0(t,n,r){Ac(t)&&r.delete(n)}function tA(){Dd=!1,Ws!==null&&Ac(Ws)&&(Ws=null),er!==null&&Ac(er)&&(er=null),tr!==null&&Ac(tr)&&(tr=null),Tl.forEach(q0),Al.forEach(q0)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,tA)))}var xc=null;function B0(t){xc!==t&&(xc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Id(o||r)===null)continue;break}var f=Qn(r);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Wa(t){function n(R){return Sc(R,t)}Ws!==null&&Sc(Ws,t),er!==null&&Sc(er,t),tr!==null&&Sc(tr,t),Tl.forEach(n),Al.forEach(n);for(var r=0;r<nr.length;r++){var o=nr[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<nr.length&&(r=nr[0],r.blockedOn===null);)z0(r),r.blockedOn===null&&nr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[en]||null;if(typeof f=="function")p||B0(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[en]||null)E=p.formAction;else if(Id(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),B0(r)}}}function H0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(t){this._internalRoot=t}wc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Hn();V0(r,o,t,n,null,null)},wc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;V0(t.current,2,null,t,null,null),ac(),n[Ri]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<nr.length&&n!==0&&n<nr[r].priority;r++);nr.splice(r,0,t),r===0&&z0(t)}};var F0=e.version;if(F0!=="19.2.0")throw Error(a(527,F0,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var nA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Tn=Rc.inject(nA),Vt=Rc}catch{}}return wl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=Zg,f=Jg,p=Wg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=M0(t,1,!1,null,null,r,o,null,h,f,p,H0),t[Ri]=n.current,dd(t),new Md(n)},wl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=Zg,p=Jg,E=Wg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=M0(t,1,!0,n,r??null,o,h,R,f,p,E,H0),n.context=O0(null),r=n.current,o=Hn(),o=Nr(o),h=qs(o),h.callback=null,Bs(r,h,o),r=o,n.current.lanes=r,wr(n,r),Hi(n),t[Ri]=n.current,dd(t),new wc(n)},wl.version="19.2.0",wl}var e_;function fA(){if(e_)return kd.exports;e_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=hA(),kd.exports}var dA=fA();const mA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),t_=s=>{const e=pA(s);return e.charAt(0).toUpperCase()+e.slice(1)},Kv=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),gA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var yA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _A=xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},v)=>xe.createElement("svg",{ref:v,...yA,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:Kv("lucide",l),...!c&&!gA(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>xe.createElement(_,A)),...Array.isArray(c)?c:[c]]));const ze=(s,e)=>{const i=xe.forwardRef(({className:a,...l},c)=>xe.createElement(_A,{ref:c,iconNode:e,className:Kv(`lucide-${mA(t_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=t_(s),i};const vA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bA=ze("arrow-left",vA);const EA=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n_=ze("ban",EA);const TA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],AA=ze("box",TA);const SA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Pd=ze("briefcase",SA);const xA=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],wA=ze("calendar-plus",xA);const RA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],i_=ze("calendar",RA);const NA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],s_=ze("camera",NA);const CA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],r_=ze("chart-column",CA);const IA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DA=ze("check",IA);const MA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OA=ze("chevron-right",MA);const VA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kA=ze("chevron-left",VA);const jA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],LA=ze("circle-alert",jA);const UA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PA=ze("circle-check-big",UA);const zA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],a_=ze("clipboard-list",zA);const qA=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],BA=ze("cpu",qA);const HA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],FA=ze("download",HA);const GA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QA=ze("eye",GA);const YA=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],KA=ze("file-x",YA);const XA=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],$A=ze("gamepad-2",XA);const ZA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],o_=ze("history",ZA);const JA=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],l_=ze("log-in",JA);const WA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u_=ze("log-out",WA);const eS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],c_=ze("message-square",eS);const tS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],h_=ze("pen-tool",tS);const nS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],iS=ze("plus",nS);const sS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nc=ze("save",sS);const rS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aS=ze("search",rS);const oS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lS=ze("settings",oS);const uS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cS=ze("shield-check",uS);const hS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fS=ze("trash-2",hS);const dS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mS=ze("triangle-alert",dS);const pS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gS=ze("trophy",pS);const yS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_S=ze("user",yS);const vS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],f_=ze("utensils",vS);const bS=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],d_=ze("video",bS);const ES=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zd=ze("x",ES);const TS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AS=ze("zap",TS),SS=()=>{};var m_={};const Xv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},xS=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(O=64)),a.push(i[A],i[S],i[O],i[Q])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Xv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):xS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||S==null)throw new wS;const O=c<<2|g>>4;if(a.push(O),_!==64){const Q=g<<4&240|_>>2;if(a.push(Q),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(s){const e=Xv(s);return $v.encodeByteArray(e,!0)},Yc=function(s){return RS(s).replace(/\./g,"")},Zv=function(s){try{return $v.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CS=()=>NS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof m_>"u")return;const s=m_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Zv(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return SS()||CS()||IS()||DS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Jv=s=>fh()?.emulatorHosts?.[s],MS=s=>{const e=Jv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Wv=()=>fh()?.config,eb=s=>fh()?.[`_${s}`];class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function _o(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tb(s){return(await fetch(s,{credentials:"include"})).ok}function VS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Ml={};function kS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?s.emulator.push(e):s.prod.push(e);return s}function jS(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let p_=!1;function nb(s,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||Ml[s]===e||Ml[s]||p_)return;Ml[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=kS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,Q){O.setAttribute("width","24"),O.setAttribute("id",Q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{p_=!0,d()},O}function A(O,Q){O.setAttribute("id",Q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=jS(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),re=i("learnmore"),ee=document.getElementById(re)||document.createElement("a"),de=i("preprendIcon"),Ne=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Ee=O.element;g(Ee),A(ee,re);const st=_();v(Ne,de),Ee.append(Ne,W,ee,st),document.body.appendChild(Ee)}c?(W.innerText="Preview backend disconnected.",Ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function US(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const s=En();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function GS(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const QS="FirebaseError";class xs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=QS,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?YS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new xs(l,g,a)}}function YS(s,e){return s.replace(KS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const KS=/\{\$([^}]+)}/g;function XS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sa(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(g_(c)&&g_(d)){if(!sa(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function g_(s){return s!==null&&typeof s=="object"}function Kl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function $S(s,e){const i=new ZS(s,e);return i.subscribe.bind(i)}class ZS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");JS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function rn(s){return s&&s._delegate?s._delegate:s}class ra{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wr="[DEFAULT]";class WS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new OS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t2(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:e2(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e2(s){return s===Wr?void 0:s}function t2(s){return s.instantiationMode==="EAGER"}class n2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new WS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const i2={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},s2=He.INFO,r2={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},a2=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=r2[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=a2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const o2=(s,e)=>e.some(i=>s instanceof i);let y_,__;function l2(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ib=new WeakMap,sm=new WeakMap,sb=new WeakMap,Bd=new WeakMap,Om=new WeakMap;function c2(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(cr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ib.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function h2(s){if(sm.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,e)}let rm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return sm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||sb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function f2(s){rm=s(rm)}function d2(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hd(this),e,...i);return sb.set(a,e.sort?e.sort():[e]),cr(a)}:u2().includes(s)?function(...e){return s.apply(Hd(this),e),cr(ib.get(this))}:function(...e){return cr(s.apply(Hd(this),e))}}function m2(s){return typeof s=="function"?d2(s):(s instanceof IDBTransaction&&h2(s),o2(s,l2())?new Proxy(s,rm):s)}function cr(s){if(s instanceof IDBRequest)return c2(s);if(Bd.has(s))return Bd.get(s);const e=m2(s);return e!==s&&(Bd.set(s,e),Om.set(e,s)),e}const Hd=s=>Om.get(s);function p2(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=cr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(cr(d.result),v.oldVersion,v.newVersion,cr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const g2=["get","getKey","getAll","getAllKeys","count"],y2=["put","add","delete","clear"],Fd=new Map;function v_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=y2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||g2.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&v.done]))[0]};return Fd.set(e,c),c}f2(s=>({...s,get:(e,i,a)=>v_(e,i)||s.get(e,i,a),has:(e,i)=>!!v_(e,i)||s.has(e,i)}));class _2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(v2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function v2(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",b_="0.14.6";const Es=new Mm("@firebase/app"),b2="@firebase/app-compat",E2="@firebase/analytics-compat",T2="@firebase/analytics",A2="@firebase/app-check-compat",S2="@firebase/app-check",x2="@firebase/auth",w2="@firebase/auth-compat",R2="@firebase/database",N2="@firebase/data-connect",C2="@firebase/database-compat",I2="@firebase/functions",D2="@firebase/functions-compat",M2="@firebase/installations",O2="@firebase/installations-compat",V2="@firebase/messaging",k2="@firebase/messaging-compat",j2="@firebase/performance",L2="@firebase/performance-compat",U2="@firebase/remote-config",P2="@firebase/remote-config-compat",z2="@firebase/storage",q2="@firebase/storage-compat",B2="@firebase/firestore",H2="@firebase/ai",F2="@firebase/firestore-compat",G2="firebase",Q2="12.6.0";const om="[DEFAULT]",Y2={[am]:"fire-core",[b2]:"fire-core-compat",[T2]:"fire-analytics",[E2]:"fire-analytics-compat",[S2]:"fire-app-check",[A2]:"fire-app-check-compat",[x2]:"fire-auth",[w2]:"fire-auth-compat",[R2]:"fire-rtdb",[N2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[I2]:"fire-fn",[D2]:"fire-fn-compat",[M2]:"fire-iid",[O2]:"fire-iid-compat",[V2]:"fire-fcm",[k2]:"fire-fcm-compat",[j2]:"fire-perf",[L2]:"fire-perf-compat",[U2]:"fire-rc",[P2]:"fire-rc-compat",[z2]:"fire-gcs",[q2]:"fire-gcs-compat",[B2]:"fire-fst",[F2]:"fire-fst-compat",[H2]:"fire-vertex","fire-js":"fire-js",[G2]:"fire-js-all"};const Kc=new Map,K2=new Map,lm=new Map;function E_(s,e){try{s.container.addComponent(e)}catch(i){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function uo(s){const e=s.name;if(lm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,s);for(const i of Kc.values())E_(i,s);for(const i of K2.values())E_(i,s);return!0}function Vm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function bi(s){return s==null?!1:s.settings!==void 0}const X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Yl("app","Firebase",X2);class $2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const vo=Q2;function rb(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:om,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw hr.create("bad-app-name",{appName:String(l)});if(i||(i=Wv()),!i)throw hr.create("no-options");const c=Kc.get(l);if(c){if(sa(i,c.options)&&sa(a,c.config))return c;throw hr.create("duplicate-app",{appName:l})}const d=new n2(l);for(const v of lm.values())d.addComponent(v);const g=new $2(i,a,d);return Kc.set(l,g),g}function ab(s=om){const e=Kc.get(s);if(!e&&s===om&&Wv())return rb();if(!e)throw hr.create("no-app",{appName:s});return e}function fr(s,e,i){let a=Y2[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}uo(new ra(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Z2="firebase-heartbeat-database",J2=1,Ul="firebase-heartbeat-store";let Gd=null;function ob(){return Gd||(Gd=p2(Z2,J2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function W2(s){try{const i=(await ob()).transaction(Ul),a=await i.objectStore(Ul).get(lb(s));return await i.done,a}catch(e){if(e instanceof xs)Es.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(i.message)}}}async function T_(s,e){try{const a=(await ob()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(e,lb(s)),await a.done}catch(i){if(i instanceof xs)Es.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i?.message});Es.warn(a.message)}}}function lb(s){return`${s.name}!${s.options.appId}`}const ex=1024,tx=30;class nx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sx(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>tx){const l=rx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A_(),{heartbeatsToSend:i,unsentEntries:a}=ix(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function A_(){return new Date().toISOString().substring(0,10)}function ix(s,e=ex){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),S_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),S_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?GS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await W2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function S_(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function rx(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function ax(s){uo(new ra("platform-logger",e=>new _2(e),"PRIVATE")),uo(new ra("heartbeat",e=>new nx(e),"PRIVATE")),fr(am,b_,s),fr(am,b_,"esm2020"),fr("fire-js","")}ax("");var ox="firebase",lx="12.6.0";fr(ox,lx,"app");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dr,ub;(function(){var s;function e(C,x){function N(){}N.prototype=x.prototype,C.F=x.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(V,D,k){for(var w=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)w[yt-2]=arguments[yt];return x.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,x,N){N||(N=0);const V=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)V[D]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(D=0;D<16;++D)V[D]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=C.g[0],N=C.g[1],D=C.g[2];let k=C.g[3],w;w=x+(k^N&(D^k))+V[0]+3614090360&4294967295,x=N+(w<<7&4294967295|w>>>25),w=k+(D^x&(N^D))+V[1]+3905402710&4294967295,k=x+(w<<12&4294967295|w>>>20),w=D+(N^k&(x^N))+V[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=N+(x^D&(k^x))+V[3]+3250441966&4294967295,N=D+(w<<22&4294967295|w>>>10),w=x+(k^N&(D^k))+V[4]+4118548399&4294967295,x=N+(w<<7&4294967295|w>>>25),w=k+(D^x&(N^D))+V[5]+1200080426&4294967295,k=x+(w<<12&4294967295|w>>>20),w=D+(N^k&(x^N))+V[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=N+(x^D&(k^x))+V[7]+4249261313&4294967295,N=D+(w<<22&4294967295|w>>>10),w=x+(k^N&(D^k))+V[8]+1770035416&4294967295,x=N+(w<<7&4294967295|w>>>25),w=k+(D^x&(N^D))+V[9]+2336552879&4294967295,k=x+(w<<12&4294967295|w>>>20),w=D+(N^k&(x^N))+V[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=N+(x^D&(k^x))+V[11]+2304563134&4294967295,N=D+(w<<22&4294967295|w>>>10),w=x+(k^N&(D^k))+V[12]+1804603682&4294967295,x=N+(w<<7&4294967295|w>>>25),w=k+(D^x&(N^D))+V[13]+4254626195&4294967295,k=x+(w<<12&4294967295|w>>>20),w=D+(N^k&(x^N))+V[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=N+(x^D&(k^x))+V[15]+1236535329&4294967295,N=D+(w<<22&4294967295|w>>>10),w=x+(D^k&(N^D))+V[1]+4129170786&4294967295,x=N+(w<<5&4294967295|w>>>27),w=k+(N^D&(x^N))+V[6]+3225465664&4294967295,k=x+(w<<9&4294967295|w>>>23),w=D+(x^N&(k^x))+V[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=N+(k^x&(D^k))+V[0]+3921069994&4294967295,N=D+(w<<20&4294967295|w>>>12),w=x+(D^k&(N^D))+V[5]+3593408605&4294967295,x=N+(w<<5&4294967295|w>>>27),w=k+(N^D&(x^N))+V[10]+38016083&4294967295,k=x+(w<<9&4294967295|w>>>23),w=D+(x^N&(k^x))+V[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=N+(k^x&(D^k))+V[4]+3889429448&4294967295,N=D+(w<<20&4294967295|w>>>12),w=x+(D^k&(N^D))+V[9]+568446438&4294967295,x=N+(w<<5&4294967295|w>>>27),w=k+(N^D&(x^N))+V[14]+3275163606&4294967295,k=x+(w<<9&4294967295|w>>>23),w=D+(x^N&(k^x))+V[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=N+(k^x&(D^k))+V[8]+1163531501&4294967295,N=D+(w<<20&4294967295|w>>>12),w=x+(D^k&(N^D))+V[13]+2850285829&4294967295,x=N+(w<<5&4294967295|w>>>27),w=k+(N^D&(x^N))+V[2]+4243563512&4294967295,k=x+(w<<9&4294967295|w>>>23),w=D+(x^N&(k^x))+V[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=N+(k^x&(D^k))+V[12]+2368359562&4294967295,N=D+(w<<20&4294967295|w>>>12),w=x+(N^D^k)+V[5]+4294588738&4294967295,x=N+(w<<4&4294967295|w>>>28),w=k+(x^N^D)+V[8]+2272392833&4294967295,k=x+(w<<11&4294967295|w>>>21),w=D+(k^x^N)+V[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=N+(D^k^x)+V[14]+4259657740&4294967295,N=D+(w<<23&4294967295|w>>>9),w=x+(N^D^k)+V[1]+2763975236&4294967295,x=N+(w<<4&4294967295|w>>>28),w=k+(x^N^D)+V[4]+1272893353&4294967295,k=x+(w<<11&4294967295|w>>>21),w=D+(k^x^N)+V[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=N+(D^k^x)+V[10]+3200236656&4294967295,N=D+(w<<23&4294967295|w>>>9),w=x+(N^D^k)+V[13]+681279174&4294967295,x=N+(w<<4&4294967295|w>>>28),w=k+(x^N^D)+V[0]+3936430074&4294967295,k=x+(w<<11&4294967295|w>>>21),w=D+(k^x^N)+V[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=N+(D^k^x)+V[6]+76029189&4294967295,N=D+(w<<23&4294967295|w>>>9),w=x+(N^D^k)+V[9]+3654602809&4294967295,x=N+(w<<4&4294967295|w>>>28),w=k+(x^N^D)+V[12]+3873151461&4294967295,k=x+(w<<11&4294967295|w>>>21),w=D+(k^x^N)+V[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=N+(D^k^x)+V[2]+3299628645&4294967295,N=D+(w<<23&4294967295|w>>>9),w=x+(D^(N|~k))+V[0]+4096336452&4294967295,x=N+(w<<6&4294967295|w>>>26),w=k+(N^(x|~D))+V[7]+1126891415&4294967295,k=x+(w<<10&4294967295|w>>>22),w=D+(x^(k|~N))+V[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=N+(k^(D|~x))+V[5]+4237533241&4294967295,N=D+(w<<21&4294967295|w>>>11),w=x+(D^(N|~k))+V[12]+1700485571&4294967295,x=N+(w<<6&4294967295|w>>>26),w=k+(N^(x|~D))+V[3]+2399980690&4294967295,k=x+(w<<10&4294967295|w>>>22),w=D+(x^(k|~N))+V[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=N+(k^(D|~x))+V[1]+2240044497&4294967295,N=D+(w<<21&4294967295|w>>>11),w=x+(D^(N|~k))+V[8]+1873313359&4294967295,x=N+(w<<6&4294967295|w>>>26),w=k+(N^(x|~D))+V[15]+4264355552&4294967295,k=x+(w<<10&4294967295|w>>>22),w=D+(x^(k|~N))+V[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=N+(k^(D|~x))+V[13]+1309151649&4294967295,N=D+(w<<21&4294967295|w>>>11),w=x+(D^(N|~k))+V[4]+4149444226&4294967295,x=N+(w<<6&4294967295|w>>>26),w=k+(N^(x|~D))+V[11]+3174756917&4294967295,k=x+(w<<10&4294967295|w>>>22),w=D+(x^(k|~N))+V[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=N+(k^(D|~x))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,x){x===void 0&&(x=C.length);const N=x-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<x;){if(D==0)for(;k<=N;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<x;)if(V[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<x;)if(V[D++]=C[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=x},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)C[x++]=this.g[N]>>>V&255;return C};function c(C,x){var N=g;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=x(C)}function d(C,x){this.h=x;const N=[];let V=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;V&&k==x||(N[D]=k,V=!1)}this.g=N}var g={};function v(C){return-128<=C&&C<128?c(C,function(x){return new d([x|0],x<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return ee(_(-C));const x=[];let N=1;for(let V=0;C>=N;V++)x[V]=C/N|0,N*=4294967296;return new d(x,0)}function A(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return ee(A(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(x,8));let V=S;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+D),x);D<8?(D=_(Math.pow(x,D)),V=V.j(D).add(_(w))):(V=V.j(N),V=V.add(_(w)))}return V}var S=v(0),O=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(re(this))return-ee(this).m();let C=0,x=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);C+=(V>=0?V:4294967296+V)*x,x*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(re(this))return"-"+ee(this).toString(C);const x=_(Math.pow(C,6));var N=this;let V="";for(;;){const D=st(N,x).g;N=de(N,D.j(x));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,W(N))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function re(C){return C.h==-1}s.l=function(C){return C=de(this,C),re(C)?-1:W(C)?0:1};function ee(C){const x=C.g.length,N=[];for(let V=0;V<x;V++)N[V]=~C.g[V];return new d(N,~C.h).add(O)}s.abs=function(){return re(this)?ee(this):this},s.add=function(C){const x=Math.max(this.g.length,C.g.length),N=[];let V=0;for(let D=0;D<=x;D++){let k=V+(this.i(D)&65535)+(C.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,k&=65535,w&=65535,N[D]=w<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function de(C,x){return C.add(ee(x))}s.j=function(C){if(W(this)||W(C))return S;if(re(this))return re(C)?ee(this).j(ee(C)):ee(ee(this).j(C));if(re(C))return ee(this.j(ee(C)));if(this.l(Q)<0&&C.l(Q)<0)return _(this.m()*C.m());const x=this.g.length+C.g.length,N=[];for(var V=0;V<2*x;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const k=this.i(V)>>>16,w=this.i(V)&65535,yt=C.i(D)>>>16,Ot=C.i(D)&65535;N[2*V+2*D]+=w*Ot,Ne(N,2*V+2*D),N[2*V+2*D+1]+=k*Ot,Ne(N,2*V+2*D+1),N[2*V+2*D+1]+=w*yt,Ne(N,2*V+2*D+1),N[2*V+2*D+2]+=k*yt,Ne(N,2*V+2*D+2)}for(C=0;C<x;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=x;C<2*x;C++)N[C]=0;return new d(N,0)};function Ne(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function Ee(C,x){this.g=C,this.h=x}function st(C,x){if(W(x))throw Error("division by zero");if(W(C))return new Ee(S,S);if(re(C))return x=st(ee(C),x),new Ee(ee(x.g),ee(x.h));if(re(x))return x=st(C,ee(x)),new Ee(ee(x.g),x.h);if(C.g.length>30){if(re(C)||re(x))throw Error("slowDivide_ only works with positive integers.");for(var N=O,V=x;V.l(C)<=0;)N=pt(N),V=pt(V);var D=Qe(N,1),k=Qe(V,1);for(V=Qe(V,2),N=Qe(N,2);!W(V);){var w=k.add(V);w.l(C)<=0&&(D=D.add(N),k=w),V=Qe(V,1),N=Qe(N,1)}return x=de(C,D.j(x)),new Ee(D,x)}for(D=S;C.l(x)>=0;){for(N=Math.max(1,Math.floor(C.m()/x.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(N),w=k.j(x);re(w)||w.l(C)>0;)N-=V,k=_(N),w=k.j(x);W(k)&&(k=O),D=D.add(k),C=de(C,w)}return new Ee(D,C)}s.B=function(C){return st(this,C).h},s.and=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)&C.i(V);return new d(N,this.h&C.h)},s.or=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)|C.i(V);return new d(N,this.h|C.h)},s.xor=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<x;V++)N[V]=this.i(V)^C.i(V);return new d(N,this.h^C.h)};function pt(C){const x=C.g.length+1,N=[];for(let V=0;V<x;V++)N[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(N,C.h)}function Qe(C,x){const N=x>>5;x%=32;const V=C.g.length-N,D=[];for(let k=0;k<V;k++)D[k]=x>0?C.i(k+N)>>>x|C.i(k+N+1)<<32-x:C.i(k+N);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,ub=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,dr=d}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cb,Nl,hb,Lc,um,fb,db,mb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var b=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function A(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var te=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)te[Oe-2]=arguments[Oe];return m.prototype[U].apply(T,te)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const B=U.length||0;u.length=b+B;for(let te=0;te<B;te++)u[b+te]=U[te]}else u.push(U)}}class re{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function de(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,b){const T=Ee.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Ee=new re(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,Qe=!1,C=new Ne,x=()=>{const u=Promise.resolve(void 0);pt=()=>{u.then(N)}};function N(){for(var u;u=de();){try{u.h.call(u.g)}catch(b){ee(b)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Qe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function yt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(yt,D),yt.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),F=0;function se(u,m,b,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function et(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function M(u){const m={};for(const b in u)m[b]=u[b];return m}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let B=0;B<L.length;B++)b=L[B],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function K(u){this.src=u,this.g={},this.h=0}K.prototype.add=function(u,m,b,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=le(u,m,T,U);return te>-1?(m=u[te],b||(m.fa=!1)):(m=new se(m,this.src,B,!!T,U),m.fa=b,u.push(m)),m};function ne(u,m){const b=m.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(me(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function le(u,m,b,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!b&&B.ha==T)return U}return-1}var he="closure_lm_"+(Math.random()*1e6|0),je={};function _e(u,m,b,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)_e(u,m[B],b,T,U);return null}return b=xn(b),u&&u[Ot]?u.J(m,b,g(T)?!!T.capture:!1,U):bt(u,m,b,!1,T,U)}function bt(u,m,b,T,U,B){if(!m)throw Error("Invalid event type");const te=g(U)?!!U.capture:!!U;let Oe=an(u);if(Oe||(u[he]=Oe=new K(u)),b=Oe.add(m,b,T,te,B),b.proxy)return b;if(T=Ke(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)k||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(tt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ke(){function u(b){return m.call(u.src,u.listener,b)}const m=Rt;return u}function we(u,m,b,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)we(u,m[B],b,T,U);else T=g(T)?!!T.capture:!!T,b=xn(b),u&&u[Ot]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],b=le(m,b,T,U),b>-1&&(me(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=an(u))&&(m=u.g[m.toString()],u=-1,m&&(u=le(m,b,T,U)),(b=u>-1?m[u]:null)&&$e(b))}function $e(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ot])ne(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(tt(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=an(m))?(ne(b,u),b.h==0&&(b.src=null,m[he]=null)):me(u)}}}function tt(u){return u in je?je[u]:je[u]="on"+u}function Rt(u,m){if(u.da)u=!0;else{m=new yt(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&$e(u),u=b.call(T,m)}return u}function an(u){return u=u[he],u instanceof K?u:null}var Pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function xn(u){return typeof u=="function"?u:(u[Pt]||(u[Pt]=function(m){return u.handleEvent(m)}),u[Pt])}function ot(){V.call(this),this.i=new K(this),this.M=this,this.G=null}S(ot,V),ot.prototype[Ot]=!0,ot.prototype.removeEventListener=function(u,m,b,T){we(this,u,m,b,T)};function ae(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),$(m,U)}U=!0;let B,te;if(b)for(te=b.length-1;te>=0;te--)B=m.g=b[te],U=Le(B,T,!0,m)&&U;if(B=m.g=u,U=Le(B,T,!0,m)&&U,U=Le(B,T,!1,m)&&U,b)for(te=0;te<b.length;te++)B=m.g=b[te],U=Le(B,T,!1,m)&&U}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)me(b[T]);delete u.g[m],u.h--}}this.G=null},ot.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},ot.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function Le(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==b){const Oe=te.listener,kt=te.ha||te.src;te.fa&&ne(u.i,te),U=Oe.call(kt,T)!==!1&&U}}return U&&!T.defaultPrevented}function rt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ve(u){u.g=rt(()=>{u.g=null,u.i&&(u.i=!1,ve(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ye extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ve(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(u){V.call(this),this.h=u,this.g={}}S(Me,V);var ie=[];function Ce(u){Ye(u.g,function(m,b){this.g.hasOwnProperty(b)&&$e(m)},u),u.g={}}Me.prototype.N=function(){Me.Z.N.call(this),Ce(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=d.JSON.stringify,li=d.JSON.parse,on=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Nt(){}function Ji(){}var Tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){D.call(this,"d")}S(Vt,D);function zt(){D.call(this,"c")}S(zt,D);var Et={},fa=null;function ws(){return fa=fa||new ot}Et.Ia="serverreachability";function da(u){D.call(this,Et.Ia,u)}S(da,D);function Gn(u){const m=ws();ae(m,new da(m))}Et.STAT_EVENT="statevent";function xr(u,m){D.call(this,Et.STAT_EVENT,u),this.stat=m}S(xr,D);function qt(u){const m=ws();ae(m,new xr(m,u))}Et.Ja="timingevent";function Si(u,m){D.call(this,Et.Ja,u),this.size=m}S(Si,D);function xi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function jh(u,m,b,T,U,B){u.info(function(){if(u.g)if(B){var te="",Oe=B.split("&");for(let nt=0;nt<Oe.length;nt++){var kt=Oe[nt].split("=");if(kt.length>1){const xt=kt[0];kt=kt[1];const Xn=xt.split("_");te=Xn.length>=2&&Xn[1]=="type"?te+(xt+"="+kt+"&"):te+(xt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+b+`
`+te})}function ru(u,m,b,T,U,B,te){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+b+`
`+B+" "+te})}function wi(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,b)+(T?" "+T:"")})}function wr(u,m){u.info(function(){return"TIMEOUT: "+m})}ui.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<T.length;te++)T[te]=""}}}}return _t(B)}catch{return m}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Nr(){}S(Nr,Nt),Nr.prototype.g=function(){return new XMLHttpRequest},Ro=new Nr;function Wi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ci(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new Me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Bt={},en={};function Ri(u,m,b){u.M=1,u.A=Cr(Ft(m)),u.u=b,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ni(u),u.B=Ft(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),_a(b.i,"t",T),u.C=0,b=u.j.L,u.h=new hi,u.g=Eu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new ye(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ie[0]=U.toString()),U=ie);for(let B=0;B<U.length;B++){const te=_e(b,U[B],T||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Gn(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}ci.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},ci.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=mi(this.g),kt=this.g.ya(),nt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Oe!=4||kt==7||(kt==8||nt<=0?Gn(3):Gn(2)),Ci(this);var m=this.g.ca();this.X=m;var b=Uh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break t}}B=null}if(u=B)wi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,qt(12),kn(this),Qn(this);break e}}if(this.R){u=!0;let xt;for(;!this.K&&this.C<b.length;)if(xt=lu(this,b),xt==en){Oe==4&&(this.m=4,qt(14),u=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Bt){this.m=4,qt(15),wi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else wi(this.i,this.l,xt,null),Ii(this,xt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,qt(16),u=!1),this.o=this.o&&u,!u)wi(this.i,this.l,b,"[Invalid Chunked Response]"),kn(this),Qn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Bo(te),te.P=!0,qt(11))}}else wi(this.i,this.l,b,null),Ii(this,b);Oe==4&&kn(this),this.o&&!this.K&&(Oe==4?yu(this.j,this):(this.o=!1,Ni(this)))}else ts(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),kn(this),Qn(this)}}}catch{}finally{}};function Uh(u){if(!ou(u))return u.g.la();const m=ln(u.g);if(m==="")return"";let b="";const T=m.length,U=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kn(u),Qn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,b+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?en:(b=Number(m.substring(b,T)),isNaN(b)?Bt:(T+=1,T+b>m.length?en:(m=m.slice(T,T+b),u.C=T+b,m)))}ci.prototype.cancel=function(){this.K=!0,kn(this)};function Ni(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=xi(_(u.aa,u),m)}function Ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ci.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(wr(this.i,this.B),this.M!=2&&(Gn(),qt(17)),kn(this),this.m=2,Qn(this)):pa(this,this.T-u)};function Qn(u){u.j.I==0||u.K||yu(u.j,u)}function kn(u){Ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ce(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Mi(b.h,u))){if(!u.L&&Mi(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),Vs(b);else break e;jr(b),qt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=xi(_(b.Va,b),6e3));Di(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ui(b,11)}else if((u.L||b.g==u)&&Aa(b),!w(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let nt=U[m];const xt=nt[0];if(!(xt<=b.K))if(b.K=xt,nt=nt[1],b.I==2)if(nt[0]=="c"){b.M=nt[1],b.ba=nt[2];const Xn=nt[3];Xn!=null&&(b.ka=Xn,b.j.info("VER="+b.ka));const Pi=nt[4];Pi!=null&&(b.za=Pi,b.j.info("SVER="+b.za));const pi=nt[5];pi!=null&&typeof pi=="number"&&pi>0&&(T=1.5*pi,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const gi=u.g;if(gi){const Lr=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var B=T.h;B.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Io(B,B.h),B.h=null))}if(T.G){const Sa=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(T.wa=Sa,lt(T.J,T.G,Sa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var te=u;if(T.na=bu(T,T.L?T.ba:null,T.W),te.L){Do(T.h,te);var Oe=te,kt=T.O;kt&&(Oe.H=kt),Oe.D&&(Ci(Oe),Ni(Oe)),T.g=te}else pu(T);b.i.length>0&&Li(b)}else nt[0]!="stop"&&nt[0]!="close"||Ui(b,7);else b.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Ui(b,7):zo(b):nt[0]!="noop"&&b.l&&b.l.qa(nt),b.A=0)}}Gn(4)}catch{}}var Ht=class{constructor(u,m){this.g=u,this.map=m}};function No(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Do(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}No.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return Q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,B=null;T>=0?(U=u[b].substring(0,T),B=u[b].substring(T+1)):U=u[b],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof jn?(this.l=u.l,tn(this,u.j),this.o=u.o,this.g=u.g,Rs(this,u.u),this.h=u.h,Oo(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,tn(this,m[1]||"",!0),this.o=Oi(m[2]||""),this.g=Oi(m[3]||"",!0),Rs(this,m[4]),this.h=Oi(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=Oi(m[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}jn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,ya,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,ya,!0),"@"),u.push(Wi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ir(b,b.charAt(0)=="/"?Vo:cu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ir(b,hu)),u.join("")},jn.prototype.resolve=function(u){const m=Ft(this);let b=!!u.j;b?tn(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)Rs(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let te=0;te<U.length;){const Oe=U[te++];Oe=="."?T&&te==U.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&te==U.length&&B.push("")):(B.push(Oe),T=!0)}T=B.join("/")}else T=U}return b?m.h=T:b=u.i.toString()!=="",b?Oo(m,du(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ft(u){return new jn(u)}function tn(u,m,b){u.j=b?Oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,b){m instanceof Cs?(u.i=m,va(u.i,u.l)):(b||(m=Ir(m,Ns)),u.i=new Cs(m,u.l))}function lt(u,m,b){u.i.set(m,b)}function Cr(u){return lt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,wn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,cu=/[#\?:]/g,Vo=/[#\?]/g,Ns=/[#\?@]/g,hu=/#/g;function Cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Cs.prototype,s.add=function(u,m){Rn(this),this.i=null,u=Is(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function fu(u,m){Rn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return Rn(u),m=Is(u,m),u.g.has(m)}s.forEach=function(u,m){Rn(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(m,U,T,this)},this)},this)};function jo(u,m){Rn(u);let b=[];if(typeof m=="string")ko(u,m)&&(b=b.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return Rn(this),this.i=null,u=Is(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,b){fu(u,m),b.length>0&&(u.i=null,u.g.set(Is(u,m),Q(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const U=Wi(b);b=jo(this,b);for(let B=0;B<b.length;B++){let te=U;b[B]!==""&&(te+="="+Wi(b[B])),u.push(te)}}return this.i=u.join("&")};function du(u){const m=new Cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(fu(this,T),_a(this,U,b))},u)),u.j=m}function fi(u,m){const b=new ui;if(d.Image){const T=new Image;T.onload=A(Yn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Yn,b,"TestLoadImage: error",!1,m,T),T.onabort=A(Yn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Yn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Lo(u,m){const b=new ui,T=new AbortController,U=setTimeout(()=>{T.abort(),Yn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Yn(b,"TestPingServer: ok",!0,m):Yn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Yn(b,"TestPingServer: error",!1,m)})}function Yn(u,m,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Ds(){this.g=new on}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Vi,Nt),Vi.prototype.g=function(){return new Dr(this.i,this.h)};function Dr(u,m){ot.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Dr,ot),s=Dr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):di(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},s.Na=function(u){this.g&&(this.response=u,Ms(this))},s.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Ye(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Mr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Kn(b),typeof u=="string"?b!=null&&Wi(b):lt(u,m,b))}function ht(u){ot.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ht,ot);var ki=/^https?$/i,Uo=["POST","PUT"];s=ht.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Or(this,B);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of b)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Or(this,B)}};function Or(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),es(u)}function Po(u){u.A||(u.A=!0,ae(u,"complete"),ae(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ae(this,"complete"),ae(this,"abort"),es(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),ht.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},s.Xa=function(){Vr(this)};function Vr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ae(u,"readystatechange"),mi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=B===0){let te=String(u.D).match(uu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),T=!ki.test(te?te.toLowerCase():"")}b=T}if(b)ae(u,"complete"),ae(u,"success");else{u.o=6;try{var U=mi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Po(u)}}finally{es(u)}}}}function es(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||ae(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),li(m)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var b=au(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=m[U]||[];m[U]=B,B.push(b)}et(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,u),this.Za=ji("retryDelaySeedMs",1e4,u),this.Ta=ji("forwardChannelMaxRetries",2,u),this.va=ji("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new No(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){qt(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=bu(this,null,this.W),Li(this)};function zo(u){if(Ea(u),u.I==3){var m=u.V++,b=Ft(u.J);if(lt(b,"SID",u.M),lt(b,"RID",m),lt(b,"TYPE","terminate"),kr(u,b),m=new ci(u,u.j,m),m.M=2,m.A=Cr(Ft(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ni(m)}vu(u)}function Vs(u){u.g&&(Bo(u),u.g.cancel(),u.g=null)}function Ea(u){Vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Li(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;pt||x(),Qe||(pt(),Qe=!0),C.add(m,u),u.D=0}}function Ta(u,m){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=xi(_(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ci(this,this.j,u);let B=this.o;if(this.U&&(B?(B=M(B),$(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=mu(this,U,m),b=Ft(this.J),lt(b,"RID",u),lt(b,"CVER",22),this.G&&lt(b,"X-HTTP-Session-Id",this.G),kr(this,b),B&&(this.R?m="headers="+Wi(Kn(B))+"&"+m:this.u&&Mr(b,this.u,B)),Io(this.h,U),this.Ra&&lt(b,"TYPE","init"),this.S?(lt(b,"$req",m),lt(b,"SID","null"),U.U=!0,Ri(U,b,null)):Ri(U,b,m),this.I=2}}else this.I==3&&(u?qo(this,u):this.i.length==0||Co(this.h)||qo(this))};function qo(u,m){var b;m?b=m.l:b=u.V++;const T=Ft(u.J);lt(T,"SID",u.M),lt(T,"RID",b),lt(T,"AID",u.K),kr(u,T),u.u&&u.o&&Mr(T,u.u,u.o),b=new ci(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,b),Ri(b,T,m)}function kr(u,m){u.H&&Ye(u.H,function(b,T){lt(m,T,b)}),u.l&&Ye({},function(b,T){lt(m,T,b)})}function mu(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Oe=-1;for(;;){const kt=["count="+b];Oe==-1?b>0?(Oe=U[0].g,kt.push("ofs="+Oe)):Oe=0:kt.push("ofs="+Oe);let nt=!0;for(let xt=0;xt<b;xt++){var B=U[xt].g;const Xn=U[xt].map;if(B-=Oe,B<0)Oe=Math.max(0,U[xt].g-100),nt=!1;else try{B="req"+B+"_"||"";try{var te=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Pi,pi]of te){let gi=pi;g(pi)&&(gi=_t(pi)),kt.push(B+Pi+"="+encodeURIComponent(gi))}}catch(Pi){throw kt.push(B+"type="+encodeURIComponent("_badmap")),Pi}}catch{T&&T(Xn)}}if(nt){te=kt.join("&");break e}}te=void 0}return u=u.i.splice(0,b),m.G=u,te}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pt||x(),Qe||(pt(),Qe=!0),C.add(m,u),u.A=0}}function jr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=xi(_(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=xi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),Vs(this),gu(this))};function Bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new ci(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ft(u.na);lt(m,"RID","rpc"),lt(m,"SID",u.M),lt(m,"AID",u.K),lt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&lt(m,"TO",u.ia),lt(m,"TYPE","xmlhttp"),kr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Cr(Ft(m)),b.u=null,b.R=!0,ma(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Vs(this),jr(this),qt(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var b=null;if(u.g==m){Aa(u),Bo(u),u.g=null;var T=2}else if(Mi(u.h,m))b=m.G,Do(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ws(),ae(T,new Si(T,b)),Li(u)}else pu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ta(u,m)||T==2&&jr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function _u(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Ui(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new jn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||tn(T,"https"),Cr(T),U?fi(T.toString(),b):Lo(T.toString(),b)}else qt(2);u.I=0,u.l&&u.l.pa(m),vu(u),Ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,b){var T=b instanceof jn?Ft(b):new jn(b);if(T.g!="")m&&(T.g=m+"."+T.g),Rs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new jn(null);T&&tn(B,T),m&&(B.g=m),U&&Rs(B,U),b&&(B.h=b),T=B}return b=u.G,m=u.wa,b&&m&&lt(T,b,m),lt(T,"VER",u.ka),kr(u,T),T}function Eu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ht(new Vi({ab:b})):new ht(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new An(u,m)};function An(u,m){ot.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ns(this)}S(An,ot),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){zo(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=_t(u),u=b);m.i.push(new Ht(m.Ya++,u)),m.I==3&&Li(m)},An.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,An.Z.N.call(this)};function Au(u){Vt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Au,Vt);function Su(){zt.call(this),this.status=1}S(Su,zt);function ns(u){this.g=u}S(ns,Tu),ns.prototype.ra=function(){ae(this.g,"a")},ns.prototype.qa=function(u){ae(this.g,new Au(u))},ns.prototype.pa=function(u){ae(this.g,new Su)},ns.prototype.oa=function(){ae(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,mb=function(){return new ks},db=function(){return ws()},fb=Et,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Lc=Rr,wo.COMPLETE="complete",hb=wo,Ji.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Nl=Ji,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,cb=ht}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",R_="4.9.2";class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let bo="12.3.0";const aa=new Mm("@firebase/firestore");function eo(){return aa.logLevel}function ue(s,...e){if(aa.logLevel<=He.DEBUG){const i=e.map(km);aa.debug(`Firestore (${bo}): ${s}`,...i)}}function Ts(s,...e){if(aa.logLevel<=He.ERROR){const i=e.map(km);aa.error(`Firestore (${bo}): ${s}`,...i)}}function co(s,...e){if(aa.logLevel<=He.WARN){const i=e.map(km);aa.warn(`Firestore (${bo}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,pb(s,a,i)}function pb(s,e,i){let a=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ts(a),new Error(a)}function at(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||pb(e,l,a)}function De(s,e){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends xs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class gb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class cx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hx{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string",31837,{l:a}),new gb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class fx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new fx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function px(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=px(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Fe(s,e){return s<e?-1:s>e?1:0}function cm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Qd(l)===Qd(c)?Fe(l,c):Qd(l)?1:-1}return Fe(s.length,e.length)}const gx=55296,yx=57343;function Qd(s){const e=s.charCodeAt(0);return e>=gx&&e<=yx}function ho(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const C_="__name__";class Fi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Fi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const a=Fi.isNumericId(e),l=Fi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Fi.extractNumericId(e).compare(Fi.extractNumericId(i)):cm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class vt extends Fi{construct(e,i,a){return new vt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new vt(i)}static emptyPath(){return new vt([])}}const _x=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Fi{construct(e,i,a){return new pn(e,i,a)}static isValidIdentifier(e){return _x.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new pn([C_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(i)}static emptyPath(){return new pn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(vt.fromString(e))}static fromName(e){return new ge(vt.fromString(e).popFirst(5))}static empty(){return new ge(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return vt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new vt(e.slice()))}}function yb(s,e,i){if(!i)throw new oe(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function vx(s,e,i,a){if(e===!0&&a===!0)throw new oe(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function I_(s){if(!ge.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function D_(s){if(ge.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _b(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function ai(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(s);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Zt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Xl(s,e){if(!_b(s))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new oe(X.INVALID_ARGUMENT,i);return!0}const M_=-62135596800,O_=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*O_);return new St(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<M_)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Zt("string",St._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new St(0,0))}static max(){return new Re(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pl=-1;function bx(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Re.fromTimestamp(a===1e9?new St(i+1,0):new St(i,a));return new gr(l,ge.empty(),e)}function Ex(s){return new gr(s.readTime,s.key,Pl)}class gr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(Re.min(),ge.empty(),Pl)}static max(){return new gr(Re.max(),ge.empty(),Pl)}}function Tx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const Ax="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Ax)throw s;ue("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,a)=>{i(e)}))}static reject(e){return new J(((i,a)=>{a(e)}))}static waitFor(e){return new J(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new J(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new J(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function xx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(s){return s.name==="IndexedDbTransactionError"}class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const Lm=-1;function ph(s){return s==null}function Xc(s){return s===0&&1/s==-1/0}function wx(s){return typeof s=="number"&&Number.isInteger(s)&&!Xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const vb="";function Rx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=V_(e)),e=Nx(s.get(i),e);return V_(e)}function Nx(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case vb:i+="";break;default:i+=c}}return i}function V_(s){return s+vb+""}function k_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ar(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function bb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Ct{constructor(e,i){this.comparator=e,this.root=i||dn.EMPTY}insert(e,i){return new Ct(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??dn.RED,this.left=l??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new dn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return dn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new dn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Wt(this.comparator);return i.data=e,i}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new Wt(pn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Eb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Eb("Invalid base64 string: "+c):c}})(e);return new gn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new gn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const Cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(at(!!s,39018),typeof s=="string"){let e=0;const i=Cx.exec(s);if(at(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?gn.fromBase64String(s):gn.fromUint8Array(s)}const Tb="server_timestamp",Ab="__type__",Sb="__previous_value__",xb="__local_write_time__";function Um(s){return(s?.mapValue?.fields||{})[Ab]?.stringValue===Tb}function gh(s){const e=s.mapValue.fields[Sb];return Um(e)?gh(e):e}function zl(s){const e=yr(s.mapValue.fields[xb].timestampValue);return new St(e.seconds,e.nanos)}class Ix{constructor(e,i,a,l,c,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const $c="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||$c}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const wb="__type__",Dx="__max__",Dc={mapValue:{}},Rb="__vector__",Zc="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:Ox(s)?9007199254740991:Mx(s)?10:11:Te(28295,{value:s})}function $i(s,e){if(s===e)return!0;const i=vr(s);if(i!==vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return zl(s).isEqual(zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=yr(l.timestampValue),g=yr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return _r(l.bytesValue).isEqual(_r(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ut(l.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(l.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ut(l.integerValue)===Ut(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ut(l.doubleValue),g=Ut(c.doubleValue);return d===g?Xc(d)===Xc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ho(s.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(k_(d)!==k_(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!$i(d[v],g[v])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Bl(s,e){return(s.values||[]).find((i=>$i(i,e)))!==void 0}function fo(s,e){if(s===e)return 0;const i=vr(s),a=vr(e);if(i!==a)return Fe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ut(c.integerValue||c.doubleValue),v=Ut(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,e);case 3:return L_(s.timestampValue,e.timestampValue);case 4:return L_(zl(s),zl(e));case 5:return cm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=_r(c),v=_r(d);return g.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Fe(g[_],v[_]);if(A!==0)return A}return Fe(g.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Fe(Ut(c.latitude),Ut(d.latitude));return g!==0?g:Fe(Ut(c.longitude),Ut(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return U_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},_=g[Zc]?.arrayValue,A=v[Zc]?.arrayValue,S=Fe(_?.values?.length||0,A?.values?.length||0);return S!==0?S:U_(_,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const O=cm(v[S],A[S]);if(O!==0)return O;const Q=fo(g[v[S]],_[A[S]]);if(Q!==0)return Q}return Fe(v.length,A.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function L_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=yr(s),a=yr(e),l=Fe(i.seconds,a.seconds);return l!==0?l:Fe(i.nanos,a.nanos)}function U_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=fo(i[l],a[l]);if(c)return c}return Fe(i.length,a.length)}function mo(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return _r(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=hm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Uc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gh(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ar(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function P_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function fm(s){return!!s&&"integerValue"in s}function Pm(s){return!!s&&"arrayValue"in s}function z_(s){return!!s&&"nullValue"in s}function q_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function Mx(s){return(s?.mapValue?.fields||{})[wb]?.stringValue===Rb}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ar(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ol(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(s.arrayValue.values[i]);return e}return{...s}}function Ox(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Dx}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=pn.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Ol(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Ar(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Vn(Ol(this.value))}}function Nb(s){const e=[];return Ar(s.fields,((i,a)=>{const l=new pn([i]);if(Pc(a)){const c=Nb(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Fn(e)}class bn{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new bn(e,0,Re.min(),Re.min(),Re.min(),Vn.empty(),0)}static newFoundDocument(e,i,a,l){return new bn(e,1,i,Re.min(),a,l,0)}static newNoDocument(e,i){return new bn(e,2,i,Re.min(),Re.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new bn(e,3,i,Re.min(),Re.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,i){this.position=e,this.inclusive=i}}function B_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=fo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function H_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!$i(s.position[i],e.position[i]))return!1;return!0}class Hl{constructor(e,i="asc"){this.field=e,this.dir=i}}function Vx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Cb{}class $t extends Cb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new jx(e,i,a):i==="array-contains"?new Px(e,a):i==="in"?new zx(e,a):i==="not-in"?new qx(e,a):i==="array-contains-any"?new Bx(e,a):new $t(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Lx(e,a):new Ux(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fo(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(fo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends Cb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ai(e,i)}matches(e){return Ib(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ib(s){return s.op==="and"}function Db(s){return kx(s)&&Ib(s)}function kx(s){for(const e of s.filters)if(e instanceof Ai)return!1;return!0}function dm(s){if(s instanceof $t)return s.field.canonicalString()+s.op.toString()+mo(s.value);if(Db(s))return s.filters.map((e=>dm(e))).join(",");{const e=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${e})`}}function Mb(s,e){return s instanceof $t?(function(a,l){return l instanceof $t&&a.op===l.op&&a.field.isEqual(l.field)&&$i(a.value,l.value)})(s,e):s instanceof Ai?(function(a,l){return l instanceof Ai&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&Mb(d,l.filters[g])),!0):!1})(s,e):void Te(19439)}function Ob(s){return s instanceof $t?(function(i){return`${i.field.canonicalString()} ${i.op} ${mo(i.value)}`})(s):s instanceof Ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ob).join(" ,")+"}"})(s):"Filter"}class jx extends $t{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class Lx extends $t{constructor(e,i){super(e,"in",i),this.keys=Vb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Ux extends $t{constructor(e,i){super(e,"not-in",i),this.keys=Vb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Vb(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class Px extends $t{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pm(i)&&Bl(i.arrayValue,this.value)}}class zx extends $t{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class qx extends $t{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class Bx extends $t{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}class Hx{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function F_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new Hx(s,e,i,a,l,c,d)}function zm(s){const e=De(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>dm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>mo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>mo(a))).join(",")),e.Te=i}return e.Te}function qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Vx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Mb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!H_(s.startAt,e.startAt)&&H_(s.endAt,e.endAt)}function mm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ao{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fx(s,e,i,a,l,c,d,g){return new Ao(s,e,i,a,l,c,d,g)}function yh(s){return new Ao(s)}function G_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function kb(s){return s.collectionGroup!==null}function Vl(s){const e=De(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Wt(pn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Hl(c,a))})),i.has(pn.keyField().canonicalString())||e.Ie.push(new Hl(pn.keyField(),a))}return e.Ie}function Gi(s){const e=De(s);return e.Ee||(e.Ee=Gx(e,Vl(s))),e.Ee}function Gx(s,e){if(s.limitType==="F")return F_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Hl(l.field,c)}));const i=s.endAt?new Jc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Jc(s.startAt.position,s.startAt.inclusive):null;return F_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function pm(s,e){const i=s.filters.concat([e]);return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function gm(s,e,i){return new Ao(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function _h(s,e){return qm(Gi(s),Gi(e))&&s.limitType===e.limitType}function jb(s){return`${zm(Gi(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>Ob(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>mo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>mo(l))).join(",")),`Target(${a})`})(Gi(s))}; limitType=${s.limitType})`}function vh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Vl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const _=B_(d,g,v);return d.inclusive?_<=0:_<0})(a.startAt,Vl(a),l)||a.endAt&&!(function(d,g,v){const _=B_(d,g,v);return d.inclusive?_>=0:_>0})(a.endAt,Vl(a),l))})(s,e)}function Qx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Lb(s){return(e,i)=>{let a=!1;for(const l of Vl(s)){const c=Yx(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Yx(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const v=d.data.field(c),_=g.data.field(c);return v!==null&&_!==null?fo(v,_):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return bb(this.inner)}size(){return this.innerSize}}const Kx=new Ct(ge.comparator);function As(){return Kx}const Ub=new Ct(ge.comparator);function Cl(...s){let e=Ub;for(const i of s)e=e.insert(i.key,i);return e}function Pb(s){let e=Ub;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ea(){return kl()}function zb(){return kl()}function kl(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Xx=new Ct(ge.comparator),$x=new Wt(ge.comparator);function Ge(...s){let e=$x;for(const i of s)e=e.add(i);return e}const Zx=new Wt(Fe);function Jx(){return Zx}function Bm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function qb(s){return{integerValue:""+s}}function Wx(s,e){return wx(e)?qb(e):Bm(s,e)}class bh{constructor(){this._=void 0}}function ew(s,e,i){return s instanceof Wc?(function(l,c){const d={fields:{[Ab]:{stringValue:Tb},[xb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=gh(c)),c&&(d.fields[Sb]=c),{mapValue:d}})(i,e):s instanceof Fl?Hb(s,e):s instanceof Gl?Fb(s,e):(function(l,c){const d=Bb(l,c),g=Q_(d)+Q_(l.Ae);return fm(d)&&fm(l.Ae)?qb(g):Bm(l.serializer,g)})(s,e)}function tw(s,e,i){return s instanceof Fl?Hb(s,e):s instanceof Gl?Fb(s,e):i}function Bb(s,e){return s instanceof eh?(function(a){return fm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Wc extends bh{}class Fl extends bh{constructor(e){super(),this.elements=e}}function Hb(s,e){const i=Gb(e);for(const a of s.elements)i.some((l=>$i(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Gl extends bh{constructor(e){super(),this.elements=e}}function Fb(s,e){let i=Gb(e);for(const a of s.elements)i=i.filter((l=>!$i(l,a)));return{arrayValue:{values:i}}}class eh extends bh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Q_(s){return Ut(s.integerValue||s.doubleValue)}function Gb(s){return Pm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function nw(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Fl&&l instanceof Fl||a instanceof Gl&&l instanceof Gl?ho(a.elements,l.elements,$i):a instanceof eh&&l instanceof eh?$i(a.Ae,l.Ae):a instanceof Wc&&l instanceof Wc})(s.transform,e.transform)}class iw{constructor(e,i){this.version=e,this.transformResults=i}}class oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Eh{}function Qb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Hm(s.key,oi.none()):new $l(s.key,s.data,oi.none());{const i=s.data,a=Vn.empty();let l=new Wt(pn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Sr(s.key,a,new Fn(l.toArray()),oi.none())}}function sw(s,e,i){s instanceof $l?(function(l,c,d){const g=l.value.clone(),v=K_(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Sr?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=K_(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(Yb(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function jl(s,e,i,a){return s instanceof $l?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const _=c.value.clone(),A=X_(c.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Sr?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const _=X_(c.fieldTransforms,v,d),A=d.data;return A.setAll(Yb(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function rw(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=Bb(a.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function Y_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ho(a,l,((c,d)=>nw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends Eh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sr extends Eh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Yb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function K_(s,e,i){const a=new Map;at(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,tw(d,g,i[l]))}return a}function X_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,ew(c,d,e))}return a}class Hm extends Eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aw extends Eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ow{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&sw(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=zb();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=Qb(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((i,a)=>Y_(i,a)))&&ho(this.baseMutations,e.baseMutations,((i,a)=>Y_(i,a)))}}class Fm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){at(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return Xx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(e,i,a,l)}}class lw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Xt,Ze;function cw(s){switch(s){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function Kb(s){if(s===void 0)return Ts("GRPC error has no .code"),X.UNKNOWN;switch(s){case Xt.OK:return X.OK;case Xt.CANCELLED:return X.CANCELLED;case Xt.UNKNOWN:return X.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return X.INTERNAL;case Xt.UNAVAILABLE:return X.UNAVAILABLE;case Xt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Xt.NOT_FOUND:return X.NOT_FOUND;case Xt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Xt.ABORTED:return X.ABORTED;case Xt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Xt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:s})}}(Ze=Xt||(Xt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function hw(){return new TextEncoder}const fw=new dr([4294967295,4294967295],0);function $_(s){const e=hw().encode(s),i=new ub;return i.update(e),new Uint8Array(i.digest())}function Z_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new dr([i,a],0),new dr([l,c],0)]}class Gm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(a<0)throw new Il(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=dr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(dr.fromNumber(a)));return l.compare(fw)===1&&(l=new dr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=$_(e),[a,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=$_(e),[a,l]=Z_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Th(Re.min(),l,new Ct(Fe),As(),Ge())}}class Zl{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Ge(),Ge(),Ge())}}class qc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class Xb{constructor(e,i){this.targetId=e,this.Ce=i}}class $b{constructor(e,i,a=gn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class J_{constructor(){this.ve=0,this.Fe=W_(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),i=Ge(),a=Ge();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Te(38017,{changeType:c})}})),new Zl(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=W_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dw{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.Je=Mc(),this.He=Mc(),this.Ye=new Ct(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(mm(c))if(a===0){const d=new ge(c.path);this.et(i,d,bn.newNoDocument(d,Re.min()))}else at(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=_r(a).toUint8Array()}catch(v){if(v instanceof Eb)return co("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Gm(d,l,c)}catch(v){return co(v instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&mm(g.target)){const v=new ge(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,bn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ge();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Th(e,i,this.Ye,this.je,a);return this.je=As(),this.Je=Mc(),this.He=Mc(),this.Ye=new Ct(Fe),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new J_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Wt(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Wt(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new Ct(ge.comparator)}function W_(){return new Ct(ge.comparator)}const mw={asc:"ASCENDING",desc:"DESCENDING"},pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gw={and:"AND",or:"OR"};class yw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(s,e){return s.useProto3Json||ph(e)?e:{value:e}}function th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function _w(s,e){return th(s,e.toTimestamp())}function Qi(s){return at(!!s,49232),Re.fromTimestamp((function(i){const a=yr(i);return new St(a.seconds,a.nanos)})(s))}function Qm(s,e){return _m(s,e).canonicalString()}function _m(s,e){const i=(function(l){return new vt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Jb(s){const e=vt.fromString(s);return at(i1(e),10190,{key:e.toString()}),e}function vm(s,e){return Qm(s.databaseId,e.path)}function Yd(s,e){const i=Jb(e);if(i.get(1)!==s.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(e1(i))}function Wb(s,e){return Qm(s.databaseId,e)}function vw(s){const e=Jb(s);return e.length===4?vt.emptyPath():e1(e)}function bm(s){return new vt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function e1(s){return at(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function ev(s,e,i){return{name:vm(s,e),fields:i.value.mapValue.fields}}function bw(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(at(A===void 0||typeof A=="string",58123),gn.fromBase64String(A||"")):(at(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),gn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:Kb(_.code);return new oe(A,_.message||"")})(d);i=new $b(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Yd(s,a.document.name),c=Qi(a.document.updateTime),d=a.document.createTime?Qi(a.document.createTime):Re.min(),g=new Vn({mapValue:{fields:a.document.fields}}),v=bn.newFoundDocument(l,c,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new qc(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Yd(s,a.document),c=a.readTime?Qi(a.readTime):Re.min(),d=bn.newNoDocument(l,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Yd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new uw(l,c),g=a.targetId;i=new Xb(g,d)}}return i}function Ew(s,e){let i;if(e instanceof $l)i={update:ev(s,e.key,e.value)};else if(e instanceof Hm)i={delete:vm(s,e.key)};else if(e instanceof Sr)i={update:ev(s,e.key,e.data),updateMask:Iw(e.fieldMask)};else{if(!(e instanceof aw))return Te(16599,{Vt:e.type});i={verify:vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:_w(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function Tw(s,e){return s&&s.length>0?(at(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Qi(l.updateTime):Qi(c);return d.isEqual(Re.min())&&(d=Qi(c)),new iw(d,l.transformResults||[])})(i,e)))):[]}function Aw(s,e){return{documents:[Wb(s,e.path)]}}function Sw(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Wb(s,l);const c=(function(_){if(_.length!==0)return n1(Ai.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:no(O.field),direction:Rw(O.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function xw(s){let e=vw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){at(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const O=t1(S);return O instanceof Ai&&Db(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(W){return new Hl(io(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,ph(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(S){const O=!!S.before,Q=S.values||[];return new Jc(Q,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const O=!S.before,Q=S.values||[];return new Jc(Q,O)})(i.endAt)),Fx(e,l,d,c,g,"F",v,_)}function ww(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function t1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return $t.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return $t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return $t.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return $t.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ai.create(i.compositeFilter.filters.map((a=>t1(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function Rw(s){return mw[s]}function Nw(s){return pw[s]}function Cw(s){return gw[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return pn.fromServerFormat(s.fieldPath)}function n1(s){return s instanceof $t?(function(i){if(i.op==="=="){if(q_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(z_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(z_(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:Nw(i.op),value:i.value}}})(s):s instanceof Ai?(function(i){const a=i.getFilters().map((l=>n1(l)));return a.length===1?a[0]:{compositeFilter:{op:Cw(i.op),filters:a}}})(s):Te(54877,{filter:s})}function Iw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function i1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ur{constructor(e,i,a,l,c=Re.min(),d=Re.min(),g=gn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Dw{constructor(e){this.yt=e}}function Mw(s){const e=xw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(e,e.limit,"L"):e}class Ow{constructor(){this.Cn=new Vw}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(gr.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class Vw{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Wt(vt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Wt(vt.comparator)).toArray()}}const tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s1=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(s1,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}const nv="LruGarbageCollector",kw=1048576;function iv([s,e],[i,a]){const l=Fe(s,i);return l===0?Fe(e,a):l}class jw{constructor(e){this.Ir=e,this.buffer=new Wt(iv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();iv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Lw{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?ue(nv,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class Uw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(mh.ce);const a=new jw(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(tv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(_=Date.now(),eo()<=He.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Pw(s,e){return new Uw(s,e)}class zw{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Bw{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&jl(a.mutation,l,Fn.empty(),St.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ge()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ge()){const l=ea();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Cl();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ea();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ge())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=As();const d=kl(),g=(function(){return kl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Sr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),jl(A.mutation,_,A.mutation.getFieldMask(),St.now())):d.set(_.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new qw(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=kl();let l=new Ct(((d,g)=>d-g)),c=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Fn.empty();A=g.applyToLocalView(_,A),a.set(v,A);const S=(l.get(g.batchId)||Ge()).add(v);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,S=zb();A.forEach((O=>{if(!c.has(O)){const Q=Qb(i.get(O),a.get(O));Q!==null&&S.set(O,Q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ge.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):kb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):J.resolve(ea());let g=Pl,v=c;return d.next((_=>J.forEach(_,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((O=>{v=v.insert(A,O)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Ge()))).next((A=>({batchId:g,changes:Pb(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let l=Cl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Cl();return this.indexManager.getCollectionParents(e,c).next((g=>J.forEach(g,(v=>{const _=(function(S,O){return new Ao(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,bn.newInvalidDocument(A)))}));let g=Cl();return d.forEach(((v,_)=>{const A=c.get(v);A!==void 0&&jl(A.mutation,_,Fn.empty(),St.now()),vh(i,_)&&(g=g.insert(v,_))})),g}))}}class Hw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Qi(l.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Mw(l.bundledQuery),readTime:Qi(l.readTime)}})(i)),J.resolve()}}class Fw{constructor(){this.overlays=new Ct(ge.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ea();return J.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),J.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const l=ea(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Ct(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=ea(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ea(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return J.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new lw(i,a));let c=this.qr.get(i);c===void 0&&(c=Ge(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Gw{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Ym{constructor(){this.Qr=new Wt(sn.$r),this.Ur=new Wt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new sn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new sn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ge(new vt([])),a=new sn(i,e),l=new sn(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ge(new vt([])),a=new sn(i,e),l=new sn(i,e+1);let c=Ge();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new sn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class sn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ge.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||ge.comparator(e.key,i.key)}}class Qw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(sn.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ow(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new sn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new sn(i,0),l=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Wt(Fe);return i.forEach((l=>{const c=new sn(l,0),d=new sn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new sn(new ge(c),0);let g=new Wt(Fe);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(v.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(l=>{const c=new sn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new sn(i,0),l=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Yw{constructor(e){this.ri=e,this.docs=(function(){return new Ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(i))}getEntries(e,i){let a=As();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():bn.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=As();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Tx(Ex(A),a)<=0||(l.has(A.key)||vh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Te(9500)}ii(e,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new Kw(this)}getSize(e){return J.resolve(this.size)}}class Kw extends zw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class Xw{constructor(e){this.persistence=e,this.si=new ua((i=>zm(i)),qm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new po(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}class r1{constructor(e,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new Gw,this.referenceDelegate=e(this),this.Pi=new Xw(this),this.indexManager=new Ow,this.remoteDocumentCache=(function(l){return new Yw(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Dw(i),this.Ii=new Hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Fw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Qw(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const l=new $w(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class $w extends Sx{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ri=new Ym,this.Vi=null}static mi(e){return new Km(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const l=ge.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class nh{constructor(e,i){this.persistence=e,this.pi=new ua((a=>Rx(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Pw(this,i)}static mi(e,i){return new nh(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return J.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}br(e,i,a){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Ge(),l=Ge();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(e,i.fromCache,a,l)}}class Zw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Jw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HS()?8:xx(En())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Zw;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(eo()<=He.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(eo()<=He.DEBUG&&ue("QueryEngine","Query:",to(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(eo()<=He.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):J.resolve())}ys(e,i){if(G_(i))return J.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ge(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,gm(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,a,l){return G_(i)||l.isEqual(Re.min())?J.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?J.resolve(null):(eo()<=He.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(e,d,i,bx(l,Pl)).next((g=>g)))}))}Ds(e,i){let a=new Wt(Lb(e));return i.forEach(((l,c)=>{vh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return eo()<=He.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(e,i,gr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",Ww=3e8;class eR{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Ct(Fe),this.xs=new ua((c=>zm(c)),qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function tR(s,e,i,a){return new eR(s,e,i,a)}async function a1(s,e){const i=De(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Ge();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function nR(s,e){const i=De(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const S=_.batch,O=S.keys();let Q=J.resolve();return O.forEach((W=>{Q=Q.next((()=>A.getEntry(v,W))).next((re=>{const ee=_.docVersions.get(W);at(ee!==null,48541),re.version.compareTo(ee)<0&&(S.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),A.addEntry(re)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Ge();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function o1(s){const e=De(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function iR(s,e){const i=De(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((A,S)=>{const O=l.get(S);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let Q=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Q=Q.withResumeToken(gn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,a)),l=l.insert(S,Q),(function(re,ee,de){return re.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=Ww?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(O,Q,A)&&g.push(i.Pi.updateTargetData(c,Q))}));let v=As(),_=Ge();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(sR(c,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!a.isEqual(Re.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=l,c)))}function sR(s,e,i){let a=Ge(),l=Ge();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=As();return i.forEach(((g,v)=>{const _=c.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(Re.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):ue($m,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function rR(s,e){const i=De(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function aR(s,e){const i=De(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function Em(s,e,i){const a=De(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;ue($m,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function sv(s,e,i){const a=De(s);let l=Re.min(),c=Ge();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const S=De(v),O=S.xs.get(A);return O!==void 0?J.resolve(S.Ms.get(O)):S.Pi.getTargetData(_,A)})(a,d,Gi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Re.min(),i?c:Ge()))).next((g=>(oR(a,Qx(e),g),{documents:g,Qs:c})))))}function oR(s,e,i){let a=s.Os.get(e)||Re.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class rv{constructor(){this.activeTargetIds=Jx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lR{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uR{Oo(e){}shutdown(){}}const av="ConnectivityMonitor";class ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function Tm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Kd="RestConnection",cR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=Tm(),g=this.zo(e,i.toUriEncodedString());ue(Kd,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,c);const{host:_}=new URL(g),A=_o(_);return this.Jo(e,g,v,a,A).then((S=>(ue(Kd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw co(Kd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=cR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class fR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _n="WebChannelConnection";class dR extends hR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=Tm();return new Promise(((g,v)=>{const _=new cb;_.setWithCredentials(!0),_.listenOnce(hb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const S=_.getResponseJson();ue(_n,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Lc.TIMEOUT:ue(_n,`RPC '${e}' ${d} timed out`),v(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const O=_.getStatus();if(ue(_n,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const re=(function(de){const Ne=de.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ne)>=0?Ne:X.UNKNOWN})(W.status);v(new oe(re,W.message))}else v(new oe(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new oe(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(_n,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ue(_n,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=mb(),g=db(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=c.join("");ue(_n,`Creating RPC '${e}' stream ${l}: ${A}`,v);const S=d.createWebChannel(A,v);this.I_(S);let O=!1,Q=!1;const W=new fR({Yo:ee=>{Q?ue(_n,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(O||(ue(_n,`Opening RPC '${e}' stream ${l} transport.`),S.open(),O=!0),ue(_n,`RPC '${e}' stream ${l} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),re=(ee,de,Ne)=>{ee.listen(de,(Ee=>{try{Ne(Ee)}catch(st){setTimeout((()=>{throw st}),0)}}))};return re(S,Nl.EventType.OPEN,(()=>{Q||(ue(_n,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),re(S,Nl.EventType.CLOSE,(()=>{Q||(Q=!0,ue(_n,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(S))})),re(S,Nl.EventType.ERROR,(ee=>{Q||(Q=!0,co(_n,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),re(S,Nl.EventType.MESSAGE,(ee=>{if(!Q){const de=ee.data[0];at(!!de,16349);const Ne=de,Ee=Ne?.error||Ne[0]?.error;if(Ee){ue(_n,`RPC '${e}' stream ${l} received error:`,Ee);const st=Ee.status;let pt=(function(x){const N=Xt[x];if(N!==void 0)return Kb(N)})(st),Qe=Ee.message;pt===void 0&&(pt=X.INTERNAL,Qe="Unknown error status: "+st+" with message "+Ee.message),Q=!0,W.a_(new oe(pt,Qe)),S.close()}else ue(_n,`RPC '${e}' stream ${l} received:`,de),W.u_(de)}})),re(g,fb.STAT_EVENT,(ee=>{ee.stat===um.PROXY?ue(_n,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===um.NOPROXY&&ue(_n,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xd(){return typeof document<"u"?document:null}function Ah(s){return new yw(s,!0)}class l1{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lv="PersistentStream";class u1{constructor(e,i,a,l,c,d,g,v){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new l1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new oe(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mR extends u1{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=bw(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Qi(d.readTime):Re.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=mm(v)?{documents:Aw(c,v)}:{query:Sw(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Zb(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Re.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=ww(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.q_(i)}}class pR extends u1{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Tw(e.writeResults,e.commitTime),a=Qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Ew(this.serializer,a)))};this.q_(i)}}class gR{}class yR extends gR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,_m(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(X.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,_m(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _R{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class vR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ca(this)&&(ue(oa,"Restarting streams for network reachability change."),await(async function(v){const _=De(v);_.Ea.add(4),await Jl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new _R(a,l)}}async function Sh(s){if(ca(s))for(const e of s.da)await e(!0)}async function Jl(s){for(const e of s.da)await e(!1)}function c1(s,e){const i=De(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ep(i)?Wm(i):So(i).O_()&&Jm(i,e))}function Zm(s,e){const i=De(s),a=So(i);i.Ia.delete(e),a.O_()&&h1(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Ra.set("Unknown"))}function Jm(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}So(s).Y_(e)}function h1(s,e){s.Va.Ue(e),So(s).Z_(e)}function Wm(s){s.Va=new dw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),So(s).start(),s.Ra.ua()}function ep(s){return ca(s)&&!So(s).x_()&&s.Ia.size>0}function ca(s){return De(s).Ea.size===0}function f1(s){s.Va=void 0}async function bR(s){s.Ra.set("Online")}async function ER(s){s.Ia.forEach(((e,i)=>{Jm(s,e)}))}async function TR(s,e){f1(s),ep(s)?(s.Ra.ha(e),Wm(s)):s.Ra.set("Unknown")}async function AR(s,e,i){if(s.Ra.set("Online"),e instanceof $b&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(a){ue(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ih(s,a)}else if(e instanceof qc?s.Va.Ze(e):e instanceof Xb?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const a=await o1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(gn.EMPTY_BYTE_STRING,A.snapshotVersion)),h1(c,v);const S=new ur(A.target,v,_,A.sequenceNumber);Jm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ue(oa,"Failed to raise snapshot:",a),await ih(s,a)}}async function ih(s,e,i){if(!To(e))throw e;s.Ea.add(1),await Jl(s),s.Ra.set("Offline"),i||(i=()=>o1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ue(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function d1(s,e){return e().catch((i=>ih(s,i,e)))}async function xh(s){const e=De(s),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lm;for(;SR(e);)try{const l=await rR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,xR(e,l)}catch(l){await ih(e,l)}m1(e)&&p1(e)}function SR(s){return ca(s)&&s.Ta.length<10}function xR(s,e){s.Ta.push(e);const i=br(s);i.O_()&&i.X_&&i.ea(e.mutations)}function m1(s){return ca(s)&&!br(s).x_()&&s.Ta.length>0}function p1(s){br(s).start()}async function wR(s){br(s).ra()}async function RR(s){const e=br(s);for(const i of s.Ta)e.ea(i.mutations)}async function NR(s,e,i){const a=s.Ta.shift(),l=Fm.from(a,e,i);await d1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await xh(s)}async function CR(s,e){e&&br(s).X_&&await(async function(a,l){if((function(d){return cw(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();br(a).B_(),await d1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(s,e),m1(s)&&p1(s)}async function uv(s,e){const i=De(s);i.asyncQueue.verifyOperationInProgress(),ue(oa,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await Jl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sh(i)}async function IR(s,e){const i=De(s);e?(i.Ea.delete(2),await Sh(i)):e||(i.Ea.add(2),await Jl(i),i.Ra.set("Unknown"))}function So(s){return s.ma||(s.ma=(function(i,a,l){const c=De(i);return c.sa(),new mR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:bR.bind(null,s),t_:ER.bind(null,s),r_:TR.bind(null,s),H_:AR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ep(s)?Wm(s):s.Ra.set("Unknown")):(await s.ma.stop(),f1(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(i,a,l){const c=De(i);return c.sa(),new pR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:wR.bind(null,s),r_:CR.bind(null,s),ta:RR.bind(null,s),na:NR.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(ue(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new tp(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(s,e){if(Ts("AsyncQueue",`${e}: ${s}`),To(s))return new oe(X.UNAVAILABLE,`${e}: ${s}`);throw s}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Cl(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new so;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class cv{constructor(){this.ga=new Ct(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class go{constructor(e,i,a,l,c,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new go(e,i,so.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class DR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MR{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=De(i),c=l.queries;l.queries=hv(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function hv(){return new ua((s=>jb(s)),_h)}async function g1(s,e){const i=De(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new DR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=np(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ip(i)}async function y1(s,e){const i=De(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function OR(s,e){const i=De(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&ip(i)}function VR(s,e,i){const a=De(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function ip(s){s.Ca.forEach((e=>{e.next()}))}var Am,fv;(fv=Am||(Am={})).Ma="default",fv.Cache="cache";class _1{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new go(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class v1{constructor(e){this.key=e}}class b1{constructor(e){this.key=e}}class kR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Lb(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new cv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,S)=>{const O=l.get(A),Q=vh(this.query,S)?S:null,W=!!O&&this.mutatedKeys.has(O.key),re=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let ee=!1;O&&Q?O.data.isEqual(Q.data)?W!==re&&(a.track({type:3,doc:Q}),ee=!0):this.su(O,Q)||(a.track({type:2,doc:Q}),ee=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(g=!0)):!O&&Q?(a.track({type:0,doc:Q}),ee=!0):O&&!Q&&(a.track({type:1,doc:O}),ee=!0,(v||_)&&(g=!0)),ee&&(Q?(d=d.add(Q),c=re?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,S)=>(function(Q,W){const re=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:ee})}};return re(Q)-re(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new go(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new b1(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new v1(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ge();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class jR{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class LR{constructor(e){this.key=e,this.hu=!1}}class UR{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>jb(g)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(ge.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PR(s,e,i=!0){const a=w1(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await E1(a,e,i,!0),l}async function zR(s,e){const i=w1(s);await E1(i,e,!0,!1)}async function E1(s,e,i,a){const l=await aR(s.localStore,Gi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await qR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&c1(s.remoteStore,l),g}async function qR(s,e,i,a,l){s.pu=(S,O,Q)=>(async function(re,ee,de,Ne){let Ee=ee.view.ru(de);Ee.Cs&&(Ee=await sv(re.localStore,ee.query,!1).then((({documents:C})=>ee.view.ru(C,Ee))));const st=Ne&&Ne.targetChanges.get(ee.targetId),pt=Ne&&Ne.targetMismatches.get(ee.targetId)!=null,Qe=ee.view.applyChanges(Ee,re.isPrimaryClient,st,pt);return mv(re,ee.targetId,Qe.au),Qe.snapshot})(s,S,O,Q);const c=await sv(s.localStore,e,!0),d=new kR(e,c.Qs),g=d.ru(c.documents),v=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,v);mv(s,i,_.au);const A=new jR(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function BR(s,e,i){const a=De(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),Sm(a,l.targetId)})).catch(Eo)):(Sm(a,l.targetId),await Em(a.localStore,l.targetId,!0))}async function HR(s,e){const i=De(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function FR(s,e,i){const a=ZR(s);try{const l=await(function(d,g){const v=De(d),_=St.now(),A=g.reduce(((Q,W)=>Q.add(W.key)),Ge());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=As(),re=Ge();return v.Ns.getEntries(Q,A).next((ee=>{W=ee,W.forEach(((de,Ne)=>{Ne.isValidDocument()||(re=re.add(de))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,W))).next((ee=>{S=ee;const de=[];for(const Ne of g){const Ee=rw(Ne,S.get(Ne.key).overlayedDocument);Ee!=null&&de.push(new Sr(Ne.key,Ee,Nb(Ee.value.mapValue),oi.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,de,g)})).next((ee=>{O=ee;const de=ee.applyToLocalDocumentSet(S,re);return v.documentOverlayCache.saveOverlays(Q,ee.batchId,de)}))})).then((()=>({batchId:O.batchId,changes:Pb(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ct(Fe)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Wl(a,l.changes),await xh(a.remoteStore)}catch(l){const c=np(l,"Failed to persist write");i.reject(c)}}async function T1(s,e){const i=De(s);try{const a=await iR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(at(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?at(d.hu,14607):l.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await Wl(i,a,e)}catch(a){await Eo(a)}}function dv(s,e,i){const a=De(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=De(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,S)=>{for(const O of S.Sa)O.va(g)&&(_=!0)})),_&&ip(v)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function GR(s,e,i){const a=De(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Ct(ge.comparator);d=d.insert(c,bn.newNoDocument(c,Re.min()));const g=Ge().add(c),v=new Th(Re.min(),new Map,new Ct(Fe),d,g);await T1(a,v),a.du=a.du.remove(c),a.Au.delete(e),rp(a)}else await Em(a.localStore,e,!1).then((()=>Sm(a,e,i))).catch(Eo)}async function QR(s,e){const i=De(s),a=e.batch.batchId;try{const l=await nR(i.localStore,e);S1(i,a,null),A1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wl(i,l)}catch(l){await Eo(l)}}async function YR(s,e,i){const a=De(s);try{const l=await(function(d,g){const v=De(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((S=>(at(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);S1(a,e,i),A1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Wl(a,l)}catch(l){await Eo(l)}}function A1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function S1(s,e,i){const a=De(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Sm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||x1(s,a)}))}function x1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Zm(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),rp(s))}function mv(s,e,i){for(const a of i)a instanceof v1?(s.Ru.addReference(a.key,e),KR(s,a)):a instanceof b1?(ue(sp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||x1(s,a.key)):Te(19791,{wu:a})}function KR(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ue(sp,"New document in limbo: "+i),s.Eu.add(a),rp(s))}function rp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(vt.fromString(e)),a=s.fu.next();s.Au.set(a,new LR(i)),s.du=s.du.insert(i,a),c1(s.remoteStore,new ur(Gi(yh(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Wl(s,e,i){const a=De(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Xm.As(v.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,_){const A=De(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(_,(O=>J.forEach(O.Es,(Q=>A.persistence.referenceDelegate.addReference(S,O.targetId,Q))).next((()=>J.forEach(O.ds,(Q=>A.persistence.referenceDelegate.removeReference(S,O.targetId,Q)))))))))}catch(S){if(!To(S))throw S;ue($m,"Failed to update sequence numbers: "+S)}for(const S of _){const O=S.targetId;if(!S.fromCache){const Q=A.Ms.get(O),W=Q.snapshotVersion,re=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(O,re)}}})(a.localStore,c))}async function XR(s,e){const i=De(s);if(!i.currentUser.isEqual(e)){ue(sp,"User change. New user:",e.toKey());const a=await a1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new oe(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Wl(i,a.Ls)}}function $R(s,e){const i=De(s),a=i.Au.get(e);if(a&&a.hu)return Ge().add(a.key);{let l=Ge();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function w1(s){const e=De(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GR.bind(null,e),e.Pu.H_=OR.bind(null,e.eventManager),e.Pu.yu=VR.bind(null,e.eventManager),e}function ZR(s){const e=De(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YR.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return tR(this.persistence,new Jw,e.initialUser,this.serializer)}Cu(e){return new r1(Km.mi,this.serializer)}Du(e){return new lR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class JR extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof nh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Lw(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new r1((a=>nh.mi(a,i)),this.serializer)}}class xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>dv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=XR.bind(null,this.syncEngine),await IR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MR})()}createDatastore(e){const i=Ah(e.databaseInfo.databaseId),a=(function(c){return new dR(c)})(e.databaseInfo);return(function(c,d,g,v){return new yR(c,d,g,v)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new vR(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>dv(this.syncEngine,i,0)),(function(){return ov.v()?new ov:new uR})())}createSyncEngine(e,i){return(function(l,c,d,g,v,_,A){const S=new UR(l,c,d,g,v,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=De(i);ue(oa,"RemoteStore shutting down."),a.Ea.add(5),await Jl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class R1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Er="FirestoreClient";class WR{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=vn.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ue(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function $d(s,e){s.asyncQueue.verifyOperationInProgress(),ue(Er,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await a1(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function pv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await eN(s);ue(Er,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>uv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>uv(e.remoteStore,l))),s._onlineComponents=e}async function eN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ue(Er,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;co("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new sh)}}else ue(Er,"Using default OfflineComponentProvider"),await $d(s,new JR(void 0));return s._offlineComponents}async function N1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ue(Er,"Using user provided OnlineComponentProvider"),await pv(s,s._uninitializedComponentsProvider._online)):(ue(Er,"Using default OnlineComponentProvider"),await pv(s,new xm))),s._onlineComponents}function tN(s){return N1(s).then((e=>e.syncEngine))}async function wm(s){const e=await N1(s),i=e.eventManager;return i.onListen=PR.bind(null,e.syncEngine),i.onUnlisten=BR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=zR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=HR.bind(null,e.syncEngine),i}function nN(s,e,i={}){const a=new mr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,_){const A=new R1({next:O=>{A.Nu(),d.enqueueAndForget((()=>y1(c,S)));const Q=O.docs.has(g);!Q&&O.fromCache?_.reject(new oe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&O.fromCache&&v&&v.source==="server"?_.reject(new oe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),S=new _1(yh(g.path),A,{includeMetadataChanges:!0,qa:!0});return g1(c,S)})(await wm(s),s.asyncQueue,e,i,a))),a.promise}function C1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const gv=new Map;const I1="firestore.googleapis.com",yv=!0;class _v{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I1,this.ssl=yv}else this.host=e.host,this.ssl=e.ssl??yv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kw)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ux;switch(a.type){case"firstParty":return new dx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(ue("ComponentProvider","Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function iN(s,e,i,a={}){s=ai(s,wh);const l=_o(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(tb(`https://${g}`),nb("Firestore",!0)),c.host!==I1&&c.host!==g&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!sa(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=vn.MOCK_USER;else{_=VS(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new vn(S)}s._authCredentials=new cx(new gb(_,A))}}class ha{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class Mt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Xl(i,Mt._jsonSchema))return new Mt(e,a||null,new ge(vt.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Zt("string",Mt._jsonSchemaVersion),referencePath:Zt("string")};class pr extends ha{constructor(e,i,a){super(e,i,yh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ge(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function Rl(s,e,...i){if(s=rn(s),yb("collection","path",e),s instanceof wh){const a=vt.fromString(e,...i);return D_(a),new pr(s,null,a)}{if(!(s instanceof Mt||s instanceof pr))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(vt.fromString(e,...i));return D_(a),new pr(s.firestore,null,a)}}function rr(s,e,...i){if(s=rn(s),arguments.length===1&&(e=jm.newId()),yb("doc","path",e),s instanceof wh){const a=vt.fromString(e,...i);return I_(a),new Mt(s,null,new ge(a))}{if(!(s instanceof Mt||s instanceof pr))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(vt.fromString(e,...i));return I_(a),new Mt(s.firestore,s instanceof pr?s.converter:null,new ge(a))}}const vv="AsyncQueue";class bv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new l1(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&ue(vv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ue(vv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",Ev(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=tp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:Ev(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Ev(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Tv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Tr extends wh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bv(e),this._firestoreClient=void 0,await e}}}function sN(s,e){const i=typeof s=="object"?s:ab(),a=typeof s=="string"?s:$c,l=Vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=MS("firestore");c&&iN(l,...c)}return l}function ap(s){if(s._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rN(s),s._firestoreClient}function rN(s){const e=s._freezeSettings(),i=(function(l,c,d,g){return new Ix(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,C1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new WR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(gn.fromBase64String(e))}catch(i){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ri(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Zt("string",ri._jsonSchemaVersion),bytes:Zt("string")};class Rh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._methodName=e}}class Yi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Zt("string",Yi._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class Ki{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ki(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Zt("string",Ki._jsonSchemaVersion),vectorValues:Zt("object")};const aN=/^__.*__$/;class oN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}class D1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Sr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function M1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:s})}}class lp{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(M1(this.Ac)&&aN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(e)}Cc(e,i,a,l=!1){return new lp({Ac:e,methodName:i,Dc:a,path:pn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nh(s){const e=s._freezeSettings(),i=Ah(s._databaseId);return new lN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function O1(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);up("Data must be an object, but it was:",d,a);const g=V1(a,d);let v,_;if(c.merge)v=new Fn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const O=Rm(e,S,i);if(!d.contains(O))throw new oe(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);j1(A,O)||A.push(O)}v=new Fn(A),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new oN(new Vn(g),v,_)}class Ch extends op{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}function uN(s,e,i,a){const l=s.Cc(1,e,i);up("Data must be an object, but it was:",l,a);const c=[],d=Vn.empty();Ar(a,((v,_)=>{const A=cp(e,v,i);_=rn(_);const S=l.yc(A);if(_ instanceof Ch)c.push(A);else{const O=eu(_,S);O!=null&&(c.push(A),d.set(A,O))}}));const g=new Fn(c);return new D1(d,g,l.fieldTransforms)}function cN(s,e,i,a,l,c){const d=s.Cc(1,e,i),g=[Rm(e,a,i)],v=[l];if(c.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(Rm(e,c[O])),v.push(c[O+1]);const _=[],A=Vn.empty();for(let O=g.length-1;O>=0;--O)if(!j1(_,g[O])){const Q=g[O];let W=v[O];W=rn(W);const re=d.yc(Q);if(W instanceof Ch)_.push(Q);else{const ee=eu(W,re);ee!=null&&(_.push(Q),A.set(Q,ee))}}const S=new Fn(_);return new D1(A,S,d.fieldTransforms)}function hN(s,e,i,a=!1){return eu(i,s.Cc(a?4:3,e))}function eu(s,e){if(k1(s=rn(s)))return up("Unsupported field value:",e,s),V1(s,e);if(s instanceof op)return(function(a,l){if(!M1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=eu(g,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Wx(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=St.fromDate(a);return{timestampValue:th(l.serializer,c)}}if(a instanceof St){const c=new St(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(a instanceof Yi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ri)return{bytesValue:Zb(l.serializer,a._byteString)};if(a instanceof Mt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ki)return(function(d,g){return{mapValue:{fields:{[wb]:{stringValue:Rb},[Zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${dh(a)}`)})(s,e)}function V1(s,e){const i={};return bb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(s,((a,l)=>{const c=eu(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function k1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof St||s instanceof Yi||s instanceof ri||s instanceof Mt||s instanceof op||s instanceof Ki)}function up(s,e,i){if(!k1(i)||!_b(i)){const a=dh(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Rm(s,e,i){if((e=rn(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return cp(s,e);throw rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const fN=new RegExp("[~\\*/\\[\\]]");function cp(s,e,i){if(e.search(fN)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Rh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new oe(X.INVALID_ARGUMENT,g+s+v)}function j1(s,e){return s.some((i=>i.isEqual(e)))}class L1{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ih("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class dN extends L1{data(){return super.data()}}function Ih(s,e){return typeof e=="string"?cp(s,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}function mN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class U1 extends hp{}function Vc(s,e,...i){let a=[];e instanceof hp&&a.push(e),a=a.concat(i),(function(c){const d=c.filter((v=>v instanceof fp)).length,g=c.filter((v=>v instanceof Dh)).length;if(d>1||d>0&&g>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Dh extends U1{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Dh(e,i,a)}_apply(e){const i=this._parse(e);return P1(e._query,i),new ha(e.firestore,e.converter,pm(e._query,i))}_parse(e){const i=Nh(e.firestore);return(function(c,d,g,v,_,A,S){let O;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){xv(S,A);const W=[];for(const re of S)W.push(Sv(v,c,re));O={arrayValue:{values:W}}}else O=Sv(v,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||xv(S,A),O=hN(g,d,S,A==="in"||A==="not-in");return $t.create(_,A,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function pN(s,e,i){const a=e,l=Ih("where",s);return Dh._create(l,a,i)}class fp extends hp{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new fp(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const v of g)P1(d,v),d=pm(d,v)})(e._query,i),new ha(e.firestore,e.converter,pm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dp extends U1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new dp(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(c,d)})(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ao(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function Av(s,e="asc"){const i=e,a=Ih("orderBy",s);return dp._create(a,i)}function Sv(s,e,i){if(typeof(i=rn(i))=="string"){if(i==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kb(e)&&i.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(vt.fromString(i));if(!ge.isDocumentKey(a))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return P_(s,new ge(a))}if(i instanceof Mt)return P_(s,i._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function xv(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P1(s,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class gN{convertValue(e,i="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ar(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[Zc].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new Ki(i)}convertGeoPoint(e){return new Yi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=gh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const i=yr(e);return new St(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=vt.fromString(e);at(i1(a),9688,{name:e});const l=new ql(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return l.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function z1(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Dl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends L1{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Ih("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Zt("string",na._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Bc extends na{data(e={}){return super.data(e)}}class ro{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Dl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Dl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Dl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:yN(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}function _N(s){s=ai(s,Mt);const e=ai(s.firestore,Tr);return nN(ap(e),s._key).then((i=>B1(e,s,i)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Zt("string",ro._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class q1 extends gN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}function Zd(s,e,i){s=ai(s,Mt);const a=ai(s.firestore,Tr),l=z1(s.converter,e);return Mh(a,[O1(Nh(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,oi.none())])}function vN(s,e,i,...a){s=ai(s,Mt);const l=ai(s.firestore,Tr),c=Nh(l);let d;return d=typeof(e=rn(e))=="string"||e instanceof Rh?cN(c,"updateDoc",s._key,e,i,a):uN(c,"updateDoc",s._key,e),Mh(l,[d.toMutation(s._key,oi.exists(!0))])}function Jd(s){return Mh(ai(s.firestore,Tr),[new Hm(s._key,oi.none())])}function bN(s,e){const i=ai(s.firestore,Tr),a=rr(s),l=z1(s.converter,e);return Mh(i,[O1(Nh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,oi.exists(!1))]).then((()=>a))}function kc(s,...e){s=rn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Tv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Tv(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,d,g;if(s instanceof Mt)d=ai(s.firestore,Tr),g=yh(s._key.path),c={next:v=>{e[a]&&e[a](B1(d,s,v))},error:e[a+1],complete:e[a+2]};else{const v=ai(s,ha);d=ai(v.firestore,Tr),g=v._query;const _=new q1(d);c={next:A=>{e[a]&&e[a](new ro(d,_,v,A))},error:e[a+1],complete:e[a+2]},mN(s._query)}return(function(_,A,S,O){const Q=new R1(O),W=new _1(A,Q,S);return _.asyncQueue.enqueueAndForget((async()=>g1(await wm(_),W))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>y1(await wm(_),W)))}})(ap(d),g,l,c)}function Mh(s,e){return(function(a,l){const c=new mr;return a.asyncQueue.enqueueAndForget((async()=>FR(await tN(a),l,c))),c.promise})(ap(s),e)}function B1(s,e,i){const a=i.docs.get(e._key),l=new q1(s);return new na(s,l,e._key,a,new Dl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){bo=l})(vo),uo(new ra("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Tr(new hx(a.getProvider("auth-internal")),new mx(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),fr(w_,R_,e),fr(w_,R_,"esm2020")})();function H1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EN=H1,F1=new Yl("auth","Firebase",H1());const ah=new Mm("@firebase/auth");function TN(s,...e){ah.logLevel<=He.WARN&&ah.warn(`Auth (${vo}): ${s}`,...e)}function Hc(s,...e){ah.logLevel<=He.ERROR&&ah.error(`Auth (${vo}): ${s}`,...e)}function Zi(s,...e){throw pp(s,...e)}function Ti(s,...e){return pp(s,...e)}function mp(s,e,i){const a={...EN(),[e]:i};return new Yl("auth","Firebase",a).create(e,{appName:s.name})}function ia(s){return mp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AN(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Zi(s,"argument-error"),mp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pp(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return F1.create(s,...e)}function Ae(s,e,...i){if(!s)throw pp(e,...i)}function vs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function Ss(s,e){s||vs(e)}function Nm(){return typeof self<"u"&&self.location?.href||""}function SN(){return wv()==="http:"||wv()==="https:"}function wv(){return typeof self<"u"&&self.location?.protocol||null}function xN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SN()||zS()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=LS()||qS()}get(){return xN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gp(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class G1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CN=new tu(3e4,6e4);function yp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xo(s,e,i,a,l={}){return Q1(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Kl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...c};return PS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&_o(s.emulatorConfig.host)&&(_.credentials="include"),G1.fetch()(await Y1(s,s.config.apiHost,i,g),_)})}async function Q1(s,e,i){s._canInitEmulator=!1;const a={...RN,...e};try{const l=new DN(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw jc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw jc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw jc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw mp(s,A,_);Zi(s,A)}}catch(l){if(l instanceof xs)throw l;Zi(s,"network-request-failed",{message:String(l)})}}async function IN(s,e,i,a,l={}){const c=await xo(s,e,i,a,l);return"mfaPendingCredential"in c&&Zi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Y1(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?gp(s.config,l):`${s.config.apiScheme}://${l}`;return NN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class DN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),CN.get())})}}function jc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ti(s,e,a);return l.customData._tokenResponse=i,l}async function MN(s,e){return xo(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return xo(s,"POST","/v1/accounts:lookup",e)}function Ll(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ON(s,e=!1){const i=rn(s),a=await i.getIdToken(e),l=_p(a);Ae(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ll(Wd(l.auth_time)),issuedAtTime:Ll(Wd(l.iat)),expirationTime:Ll(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Wd(s){return Number(s)*1e3}function _p(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Zv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Rv(s){const e=_p(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ql(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof xs&&VN(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function VN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(s){const e=s.auth,i=await s.getIdToken(),a=await Ql(s,oh(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?K1(l.providerUserInfo):[],d=LN(s.providerData,c),g=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=g?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function jN(s){const e=rn(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LN(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function K1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UN(s,e){const i=await Q1(s,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Y1(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return s.emulatorConfig&&_o(s.emulatorConfig.host)&&(v.credentials="include"),G1.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PN(s,e){return xo(s,"POST","/v2/accounts:revokeToken",yp(s,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=Rv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await UN(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ao;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return vs("not implemented")}}function sr(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ON(this,e)}reload(){return jN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Ql(this,MN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:Q,providerData:W,stsTokenManager:re}=i;Ae(S&&re,e,"internal-error");const ee=ao.fromJSON(this.name,re);Ae(typeof S=="string",e,"internal-error"),sr(a,e.name),sr(l,e.name),Ae(typeof O=="boolean",e,"internal-error"),Ae(typeof Q=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(g,e.name),sr(v,e.name),sr(_,e.name),sr(A,e.name);const de=new Ei({uid:S,auth:e,email:l,emailVerified:O,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(de.providerData=W.map(Ne=>({...Ne}))),v&&(de._redirectEventId=v),de}static async _fromIdTokenResponse(e,i,a=!1){const l=new ao;l.updateFromServerResponse(i);const c=new Ei({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await lh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?K1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ao;g.updateFromIdToken(a);const v=new Ei({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Nv=new Map;function bs(s){Ss(s instanceof Function,"Expected a class definition");let e=Nv.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Nv.set(s,e),e)}class X1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}X1.type="NONE";const Cv=X1;function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class oo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await oh(this.auth,{idToken:e}).catch(()=>{});return i?Ei._fromGetAccountInfoResponse(this.auth,i,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new oo(bs(Cv),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||bs(Cv);const d=Fc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const O=await oh(e,{idToken:A}).catch(()=>{});if(!O)break;S=await Ei._fromGetAccountInfoResponse(e,O,A)}else S=Ei._fromJSON(e,A);_!==c&&(g=S),c=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new oo(c,e,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new oo(c,e,a))}}function Iv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(W1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tE(e))return"Blackberry";if(nE(e))return"Webos";if(Z1(e))return"Safari";if((e.includes("chrome/")||J1(e))&&!e.includes("edge/"))return"Chrome";if(eE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function $1(s=En()){return/firefox\//i.test(s)}function Z1(s=En()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J1(s=En()){return/crios\//i.test(s)}function W1(s=En()){return/iemobile/i.test(s)}function eE(s=En()){return/android/i.test(s)}function tE(s=En()){return/blackberry/i.test(s)}function nE(s=En()){return/webos/i.test(s)}function vp(s=En()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function zN(s=En()){return vp(s)&&!!window.navigator?.standalone}function qN(){return BS()&&document.documentMode===10}function iE(s=En()){return vp(s)||eE(s)||nE(s)||tE(s)||/windows phone/i.test(s)||W1(s)}function sE(s,e=[]){let i;switch(s){case"Browser":i=Iv(En());break;case"Worker":i=`${Iv(En())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vo}/${a}`}class BN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const v=e(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function HN(s,e={}){return xo(s,"GET","/v2/passwordPolicy",yp(s,e))}const FN=6;class GN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??FN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class QN{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=bs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await oh(this,{idToken:e}),a=await Ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bi(this.app))return Promise.reject(ia(this));const i=e?rn(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bi(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HN(this),i=new GN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await PN(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&bs(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[bs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oh(s){return rn(s)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=$S(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YN(s){bp=s}function KN(s){return bp.loadJS(s)}function XN(){return bp.gapiScript}function $N(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function ZN(s,e){const i=Vm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(sa(c,e??{}))return l;Zi(l,"already-initialized")}return i.initialize({options:e})}function JN(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(bs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function WN(s,e,i){const a=Oh(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=rE(e),{host:d,port:g}=eC(e),v=g===null?"":`:${g}`,_={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(sa(_,a.config.emulator)&&sa(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,_o(d)?(tb(`${c}//${d}${v}`),nb("Auth",!0)):tC()}function rE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function eC(s){const e=rE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Mv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Mv(d)}}}function Mv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function tC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class aE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,i){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function lo(s,e){return IN(s,"POST","/v1/accounts:signInWithIdp",yp(s,e))}const nC="http://localhost";class la extends aE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new la(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return lo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,lo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,lo(e,i)}buildRequest(){const e={requestUri:nC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Kl(i)}return e}}class Ep{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends Ep{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ar extends nu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class _s extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return la._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return _s.credential(i,a)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";class or extends nu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class lr extends nu{constructor(){super("twitter.com")}static credential(e,i){return la._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await Ei._fromIdTokenResponse(e,a,l),d=Ov(a);return new yo({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=Ov(a);return new yo({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function Ov(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class uh extends xs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new uh(e,i,a,l)}}function oE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,a):c})}async function iC(s,e,i=!1){const a=await Ql(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return yo._forOperation(s,"link",a)}async function sC(s,e,i=!1){const{auth:a}=s;if(bi(a.app))return Promise.reject(ia(a));const l="reauthenticate";try{const c=await Ql(s,oE(a,l,e,s),i);Ae(c.idToken,a,"internal-error");const d=_p(c.idToken);Ae(d,a,"internal-error");const{sub:g}=d;return Ae(s.uid===g,a,"user-mismatch"),yo._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(a,"user-mismatch"),c}}async function rC(s,e,i=!1){if(bi(s.app))return Promise.reject(ia(s));const a="signIn",l=await oE(s,a,e),c=await yo._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function aC(s,e,i,a){return rn(s).onIdTokenChanged(e,i,a)}function oC(s,e,i){return rn(s).beforeAuthStateChanged(e,i)}function lC(s,e,i,a){return rn(s).onAuthStateChanged(e,i,a)}function uC(s){return rn(s).signOut()}const ch="__sak";class lE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cC=1e3,hC=10;class uE extends lE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);qN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,hC):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}uE.type="LOCAL";const fC=uE;class cE extends lE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}cE.type="SESSION";const hE=cE;function dC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),v=await dC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function Tp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class mC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const _=Tp("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Xi(){return window}function pC(s){Xi().location.href=s}function fE(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function gC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yC(){return navigator?.serviceWorker?.controller||null}function _C(){return fE()?self:null}const dE="firebaseLocalStorageDb",vC=1,hh="firebaseLocalStorage",mE="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function bC(){const s=indexedDB.deleteDatabase(dE);return new iu(s).toPromise()}function Im(){const s=indexedDB.open(dE,vC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(hh,{keyPath:mE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(hh)?e(a):(a.close(),await bC(),e(await Im()))})})}async function Vv(s,e,i){const a=kh(s,!0).put({[mE]:e,value:i});return new iu(a).toPromise()}async function EC(s,e){const i=kh(s,!1).get(e),a=await new iu(i).toPromise();return a===void 0?null:a.value}function kv(s,e){const i=kh(s,!0).delete(e);return new iu(i).toPromise()}const TC=800,AC=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>AC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(_C()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gC(),!this.activeServiceWorker)return;this.sender=new mC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await Vv(e,ch,"1"),await kv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Vv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>EC(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>kv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=kh(l,!1).getAll();return new iu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const SC=pE;new tu(3e4,6e4);function gE(s,e){return e?bs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Ap extends aE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return lo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function xC(s){return rC(s.auth,new Ap(s),s.bypassAuthState)}function wC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),sC(i,new Ap(s),s.bypassAuthState)}async function RC(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),iC(i,new Ap(s),s.bypassAuthState)}class yE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xC;case"linkViaPopup":case"linkViaRedirect":return RC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:Zi(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NC=new tu(2e3,1e4);async function CC(s,e,i){if(bi(s.app))return Promise.reject(Ti(s,"operation-not-supported-in-this-environment"));const a=Oh(s);AN(s,e,Ep);const l=gE(a,i);return new ta(a,"signInViaPopup",e,l).executeNotNull()}class ta extends yE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NC.get())};e()}}ta.currentPopupAction=null;const IC="pendingRedirect",Gc=new Map;class DC extends yE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await MC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MC(s,e){const i=kC(e),a=VC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function OC(s,e){Gc.set(s._key(),e)}function VC(s){return bs(s._redirectPersistence)}function kC(s){return Fc(IC,s.config.apiKey,s.name)}async function jC(s,e,i=!1){if(bi(s.app))return Promise.reject(ia(s));const a=Oh(s),l=gE(a,e),d=await new DC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const LC=600*1e3;class UC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!_E(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LC&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(e))}saveEventToCache(e){this.cachedEventUids.add(jv(e)),this.lastProcessedEventTime=Date.now()}}function jv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function _E({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function PC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(s);default:return!1}}async function zC(s,e={}){return xo(s,"GET","/v1/projects",e)}const qC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BC=/^https?/;async function HC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await zC(s);for(const i of e)try{if(FC(i))return}catch{}Zi(s,"unauthorized-domain")}function FC(s){const e=Nm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!BC.test(i))return!1;if(qC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const GC=new tu(3e4,6e4);function Lv(){const s=Xi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function QC(s){return new Promise((e,i)=>{function a(){Lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lv(),i(Ti(s,"network-request-failed"))},timeout:GC.get()})}if(Xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xi().gapi?.load)a();else{const l=$N("iframefcb");return Xi()[l]=()=>{gapi.load?a():i(Ti(s,"network-request-failed"))},KN(`${XN()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function YC(s){return Qc=Qc||QC(s),Qc}const KC=new tu(5e3,15e3),XC="__/auth/iframe",$C="emulator/auth/iframe",ZC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WC(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?gp(e,$C):`https://${s.config.authDomain}/${XC}`,a={apiKey:e.apiKey,appName:s.name,v:vo},l=JC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Kl(a).slice(1)}`}async function eI(s){const e=await YC(s),i=Xi().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:WC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(s,"network-request-failed"),g=Xi().setTimeout(()=>{c(d)},KC.get());function v(){Xi().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const tI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nI=500,iI=600,sI="_blank",rI="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aI(s,e,i,a=nI,l=iI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...tI,width:a.toString(),height:l.toString(),top:c,left:d},_=En().toLowerCase();i&&(g=J1(_)?sI:i),$1(_)&&(e=e||rI,v.scrollbars="yes");const A=Object.entries(v).reduce((O,[Q,W])=>`${O}${Q}=${W},`,"");if(zN(_)&&g!=="_self")return oI(e||"",g),new Uv(null);const S=window.open(e||"",g,A);Ae(S,s,"popup-blocked");try{S.focus()}catch{}return new Uv(S)}function oI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const lI="__/auth/handler",uI="emulator/auth/handler",cI=encodeURIComponent("fac");async function Pv(s,e,i,a,l,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:vo,eventId:l};if(e instanceof Ep){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",XS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(e instanceof nu){const A=e.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const v=await s._getAppCheckToken(),_=v?`#${cI}=${encodeURIComponent(v)}`:"";return`${hI(s)}?${Kl(g).slice(1)}${_}`}function hI({config:s}){return s.emulator?gp(s,uI):`https://${s.authDomain}/${lI}`}const em="webStorageSupport";class fI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hE,this._completeRedirectFn=jC,this._overrideRedirectResult=OC}async _openPopup(e,i,a,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Pv(e,i,a,Nm(),l);return aI(e,c,Tp())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await Pv(e,i,a,Nm(),l);return pC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await eI(e),a=new UC(e);return i.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=HC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return iE()||Z1()||vp()}}const dI=fI;var zv="@firebase/auth",qv="1.11.1";class mI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gI(s){uo(new ra("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(s)},_=new QN(a,l,c,v);return JN(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),uo(new ra("auth-internal",e=>{const i=Oh(e.getProvider("auth").getImmediate());return(a=>new mI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(zv,qv,pI(s)),fr(zv,qv,"esm2020")}const yI=300,_I=eb("authIdTokenMaxAge")||yI;let Bv=null;const vI=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>_I)return;const l=i?.token;Bv!==l&&(Bv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function bI(s=ab()){const e=Vm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=ZN(s,{popupRedirectResolver:dI,persistence:[SC,fC,hE]}),a=eb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=vI(c.toString());oC(i,d,()=>d(i.currentUser)),aC(i,g=>d(g))}}const l=Jv("auth");return l&&WN(i,`http://${l}`),i}function EI(){return document.getElementsByTagName("head")?.[0]??document}YN({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",EI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gI("Browser");const TI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},vE=rb(TI),si=sN(vE),tm=bI(vE),AI=new _s;class su{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const SI=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},mn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:SI()},Sp=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},xI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Sp(s);mn.publicKey=i.publicKey,mn.blockHeadless=i.blockHeadless,mn.storageProvider=i.storageProvider,mn.blockList=i.blockList,mn.limitRate=i.limitRate,mn.origin=i.origin||e},bE=async(s,e,i={})=>{const a=await fetch(mn.origin+s,{method:"POST",headers:i,body:e}),l=await a.text(),c=new su(a.status,l);if(a.ok)return c;throw c},EE=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},wI=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},TE=s=>s.webdriver||!s.languages||s.languages.length===0,AE=()=>new su(451,"Unavailable For Headless Browser"),RI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},NI=s=>!s.list?.length||!s.watchVariable,CI=(s,e)=>s instanceof FormData?s.get(e):s[e],SE=(s,e)=>{if(NI(s))return!1;RI(s.list,s.watchVariable);const i=CI(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},xE=()=>new su(403,"Forbidden"),II=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},DI=async(s,e,i)=>{const a=Number(await i.get(s)||0);return e-Date.now()+a},wE=async(s,e,i)=>{if(!e.throttle||!i)return!1;II(e.throttle,e.id);const a=e.id||s;return await DI(a,e.throttle,i)>0?!0:(await i.set(a,Date.now().toString()),!1)},RE=()=>new su(429,"Too Many Requests"),MI=async(s,e,i,a)=>{const l=Sp(a),c=l.publicKey||mn.publicKey,d=l.blockHeadless||mn.blockHeadless,g=l.storageProvider||mn.storageProvider,v={...mn.blockList,...l.blockList},_={...mn.limitRate,...l.limitRate};return d&&TE(navigator)?Promise.reject(AE()):(EE(c,s,e),wI(i),i&&SE(v,i)?Promise.reject(xE()):await wE(location.pathname,_,g)?Promise.reject(RE()):bE("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},OI=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},VI=s=>typeof s=="string"?document.querySelector(s):s,kI=async(s,e,i,a)=>{const l=Sp(a),c=l.publicKey||mn.publicKey,d=l.blockHeadless||mn.blockHeadless,g=mn.storageProvider||l.storageProvider,v={...mn.blockList,...l.blockList},_={...mn.limitRate,...l.limitRate};if(d&&TE(navigator))return Promise.reject(AE());const A=VI(i);EE(c,s,e),OI(A);const S=new FormData(A);return SE(v,S)?Promise.reject(xE()):await wE(location.pathname,_,g)?Promise.reject(RE()):(S.append("lib_version","4.4.1"),S.append("service_id",s),S.append("template_id",e),S.append("user_id",c),bE("/api/v1.0/email/send-form",S))},jI={init:xI,send:MI,sendForm:kI,EmailJSResponseStatus:su},Hv="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",nm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Fv=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],im={"Cinema Camera Kit":{count:1,category:"film",requiresTraining:!0},"Gimbal / Stabilizer":{count:6,category:"film",requiresTraining:!0},"DJI Mic Kit (Wireless)":{count:4,category:"film",requiresTraining:!1},"DJI Flip Drone":{count:1,category:"film",requiresTraining:!0},"Lighting Kit":{count:6,category:"film",requiresTraining:!1},Tripod:{count:8,category:"general",requiresTraining:!1},"DSLR Camera Body":{count:6,category:"photo",requiresTraining:!0},"Zoom Lens (18-55mm)":{count:6,category:"photo",requiresTraining:!1},"Telephoto Lens (70-200mm)":{count:2,category:"photo",requiresTraining:!1},"Portrait Lens (50mm)":{count:3,category:"photo",requiresTraining:!1},"SD Card Reader":{count:5,category:"photo",requiresTraining:!1},"Flash Unit":{count:3,category:"photo",requiresTraining:!1},"Serving Trays":{count:10,category:"culinary",requiresTraining:!1},"Chafing Dishes":{count:4,category:"culinary",requiresTraining:!1}},Se={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory",FEEDBACK:"feedback",GAME:"game"},Gv=s=>`salpointe_draft_${s}`,Qv=s=>{jI.send(nm.SERVICE_ID,nm.TEMPLATE_ID,s,nm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},Yv=s=>{if(!s||!s.toDate)return"N/A";try{return s.toDate().toLocaleDateString()}catch{return"Invalid Date"}},LI=()=>{const[s,e]=xe.useState("landing"),[i,a]=xe.useState(!1),[l,c]=xe.useState(null),[d,g]=xe.useState(!1),[v,_]=xe.useState(im),[A,S]=xe.useState([]),[O,Q]=xe.useState(0);xe.useEffect(()=>{const L=lC(tm,$=>{$?(c($),g(Fv.includes($.email))):(c(null),g(!1))});return()=>L()},[]),xe.useEffect(()=>{(async()=>{const ne=rr(si,"settings","inventory_v2"),le=await _N(ne);le.exists()?_(le.data()):(await Zd(ne,im),_(im))})();const $=Vc(Rl(si,"blackout_dates")),K=kc($,ne=>{const le=ne.docs.map(he=>he.id);S(le)});return()=>K()},[]);const W=async()=>{try{await CC(tm,AI),e(Se.DASHBOARD)}catch(L){console.error("Login failed:",L),alert("Login failed.")}},re=async()=>{await uC(tm),e("landing")},ee=()=>{e("landing"),a(!1)},de=()=>{e(Se.DASHBOARD),a(!1)},Ne=()=>{const L=O+1;Q(L),L===7&&(e(Se.GAME),Q(0))},Ee=[Se.FILM,Se.GRAPHIC,Se.BUSINESS,Se.CULINARY,Se.PHOTO].includes(s);return y.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30 flex flex-col",children:[y.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),y.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),y.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[y.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:ee,children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),y.jsx("img",{src:Hv,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),y.jsxs("div",{children:[y.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",y.jsx("span",{className:"text-red-500",children:"CTE"})]}),y.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),l&&y.jsx("button",{onClick:re,className:"md:hidden absolute top-3 right-4 p-2 rounded-full bg-slate-800 border border-red-900/50 text-red-400 hover:bg-slate-700 z-50",title:"Logout",children:y.jsx(u_,{size:18})}),y.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!Ee&&s!=="landing"&&s!=="dashboard"&&y.jsxs("button",{onClick:de,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[y.jsx(bA,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s!=="landing"&&y.jsxs("button",{onClick:()=>{e(Se.CALENDAR),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Se.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[y.jsx(i_,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),l?y.jsxs(y.Fragment,{children:[s!=="landing"&&y.jsxs("button",{onClick:()=>{e(Se.MY_REQUESTS),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Se.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[y.jsx(o_,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&s!=="landing"&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{e(Se.QUEUE),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Se.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[y.jsx(a_,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),y.jsxs("button",{onClick:()=>{e(Se.ANALYTICS),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Se.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[y.jsx(r_,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),y.jsxs("button",{onClick:()=>{e(Se.INVENTORY),a(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${s===Se.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[y.jsx(lS,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),y.jsx("div",{className:"hidden md:block w-px h-6 bg-slate-700 mx-1"}),y.jsx("button",{onClick:re,className:"hidden md:flex ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all items-center gap-2",title:`Logged in as ${l.email}`,children:y.jsx(u_,{size:16})})]}):y.jsxs("button",{onClick:W,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[y.jsx(l_,{size:16})," Login"]})]})]})}),y.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10 flex-grow w-full",children:i?y.jsx(pt,{onReset:de}):y.jsxs(y.Fragment,{children:[s===Se.LANDING&&y.jsx(st,{currentUser:l,onLogin:W,onEnter:de}),s===Se.DASHBOARD&&y.jsx(Qe,{onViewChange:e,currentUser:l}),s===Se.FILM&&y.jsx(se,{setSubmitted:a,onCancel:de,currentUser:l,inventory:v,blackouts:A}),s===Se.GRAPHIC&&y.jsx(Ye,{setSubmitted:a,onCancel:de,currentUser:l}),s===Se.BUSINESS&&y.jsx(et,{setSubmitted:a,onCancel:de,currentUser:l}),s===Se.CULINARY&&y.jsx(M,{setSubmitted:a,onCancel:de,currentUser:l}),s===Se.PHOTO&&y.jsx(me,{setSubmitted:a,onCancel:de,currentUser:l,inventory:v,blackouts:A}),s===Se.CALENDAR&&y.jsx(N,{adminMode:d,blackouts:A}),s===Se.QUEUE&&y.jsx(V,{adminMode:d,setAdminMode:g,ALLOWED_ADMINS:Fv}),s===Se.MY_REQUESTS&&y.jsx(x,{currentUser:l}),s===Se.ANALYTICS&&d&&y.jsx(w,{}),s===Se.INVENTORY&&d&&y.jsx(yt,{inventory:v,setInventory:_}),s===Se.FEEDBACK&&y.jsx(Ot,{currentUser:l,adminMode:d,setSubmitted:a,onCancel:de}),s===Se.GAME&&y.jsx(D,{onExit:de})]})}),y.jsx("footer",{className:"text-center py-8 px-4 border-t border-slate-800/50 mt-auto relative z-10 bg-slate-900/50",children:y.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-60 hover:opacity-100 transition-opacity duration-500",children:[y.jsx("img",{src:Hv,alt:"Salpointe Catholic High School",className:"w-8 h-8 opacity-80 grayscale hover:grayscale-0 transition-all"}),y.jsxs("p",{onClick:Ne,className:"text-slate-500 text-xs font-mono tracking-widest uppercase cursor-default select-none",children:[" ",new Date().getFullYear()," Salpointe Catholic High School ",y.jsx("span",{className:"text-slate-700 mx-2",children:"|"})," CTE Department"]}),y.jsxs("button",{onClick:()=>e(Se.FEEDBACK),className:"text-xs text-cyan-600 hover:text-cyan-400 flex items-center gap-1 transition-colors mt-2",children:[y.jsx(c_,{size:12})," Feedback & Support"]})]})})]});function st({currentUser:L,onLogin:$,onEnter:K}){return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[y.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),y.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["Master the Tools. ",y.jsx("br",{}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Create Without Limits."})]}),y.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Your direct link to the CTE professional inventory. Secure the assets you need to build your portfoliofrom cinema cameras to culinary prep. If you can dream it, you can reserve it."}),y.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:L?y.jsxs("button",{onClick:K,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),y.jsx(AS,{size:24,className:"fill-white"})," Initialize Hub"]}):y.jsxs("button",{onClick:$,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[y.jsx(l_,{size:24})," Login to Access"]})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[y.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[y.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:y.jsx(KA,{size:24})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),y.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[y.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:y.jsx(BA,{size:24})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),y.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[y.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:y.jsx(cS,{size:24})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function pt({onReset:L}){return y.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[y.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:y.jsx(PA,{size:40})}),y.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),y.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),y.jsx("button",{onClick:L,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function Qe({onViewChange:L,currentUser:$}){const[K,ne]=xe.useState({});xe.useEffect(()=>{(()=>{const je={},_e={[Se.FILM]:"Film",[Se.GRAPHIC]:"Graphic",[Se.BUSINESS]:"Business",[Se.CULINARY]:"Culinary",[Se.PHOTO]:"Photo"};Object.keys(_e).forEach(bt=>{const Ke=Gv(_e[bt]);localStorage.getItem(Ke)&&(je[bt]=!0)}),ne(je)})()},[]);const le=[{id:Se.FILM,title:"Film & TV",icon:d_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:Se.GRAPHIC,title:"Graphic Design",icon:h_,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:Se.BUSINESS,title:"Business",icon:Pd,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:Se.CULINARY,title:"Culinary Arts",icon:f_,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:Se.PHOTO,title:"Photography",icon:s_,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"col-span-full mb-4",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:$?`Welcome, ${$.displayName.split(" ")[0]}.`:"Access Granted."}),y.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),le.map(he=>y.jsxs("div",{onClick:()=>L(he.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${he.bg}`,children:[K[he.id]&&y.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[y.jsx(Nc,{size:12})," RESUME"]}),y.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${he.color} transition-transform group-hover:scale-110 duration-300`,children:y.jsx(he.icon,{size:28})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:he.title}),y.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:he.desc})]},he.id))]})}function C({initialData:L={},currentUser:$}){const K=$?.displayName||L.fullName||"",ne=$?.email||L.email||"";return y.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[y.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[y.jsx(_S,{size:18})," Identity Verification"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),y.jsx("input",{name:"requestName",type:"text",defaultValue:L.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),y.jsx("input",{name:"fullName",type:"text",defaultValue:K,readOnly:!!$,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${$?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),y.jsx("input",{name:"email",type:"email",defaultValue:ne,readOnly:!!$,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${$?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),y.jsxs("select",{name:"role",defaultValue:L.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[y.jsx("option",{children:"Student"}),y.jsx("option",{children:"Faculty / Staff"}),y.jsx("option",{children:"Club Representative"})]})]})]})]})}function x({currentUser:L}){const[$,K]=xe.useState([]),[ne,le]=xe.useState(!0);xe.useEffect(()=>{if(!L)return;const _e=Vc(Rl(si,"requests"),pN("email","==",L.email),Av("createdAt","desc")),bt=kc(_e,Ke=>{const we=Ke.docs.map($e=>({id:$e.id,...$e.data(),formattedDate:Yv($e.data().createdAt)}));K(we),le(!1)});return()=>bt()},[L]);const he=async _e=>{window.confirm("Are you sure?")&&await Jd(rr(si,"requests",_e))},je=_e=>{const bt={Approved:"bg-green-950/50 text-green-400 border-green-500/30",Denied:"bg-red-950/50 text-red-400 border-red-500/30",Completed:"bg-slate-800 text-slate-400 border-slate-700",default:"bg-amber-950/50 text-amber-400 border-amber-500/30"};return y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${bt[_e]||bt.default}`,children:_e})};return y.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[y.jsx("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6",children:y.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[y.jsx(o_,{className:"text-cyan-400"})," My Request History"]})}),y.jsx("div",{className:"overflow-x-auto",children:ne?y.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"LOADING DATA..."}):$.length===0?y.jsx("div",{className:"p-12 text-center text-slate-500",children:"No records found."}):y.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-800/50 border-b border-slate-700 text-xs uppercase text-slate-400 font-mono",children:[y.jsx("th",{className:"p-4",children:"Ref ID"}),y.jsx("th",{className:"p-4",children:"Dept"}),y.jsx("th",{className:"p-4",children:"Project"}),y.jsx("th",{className:"p-4",children:"Date Submitted"}),y.jsx("th",{className:"p-4",children:"Status"}),y.jsx("th",{className:"p-4",children:"Action"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-800",children:$.map(_e=>y.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[y.jsx("td",{className:"p-4 text-cyan-400 font-mono text-xs",children:_e.displayId}),y.jsx("td",{className:"p-4 text-slate-300 text-sm capitalize",children:_e.dept}),y.jsx("td",{className:"p-4 font-semibold text-white text-sm",children:_e.title}),y.jsx("td",{className:"p-4 text-slate-400 text-sm font-mono",children:_e.formattedDate}),y.jsx("td",{className:"p-4",children:je(_e.status)}),y.jsx("td",{className:"p-4",children:_e.status==="Pending Review"&&y.jsx("button",{onClick:()=>he(_e.id),className:"text-xs text-red-400 border border-red-900 hover:bg-red-950/50 px-3 py-1 rounded transition-colors",children:"Cancel"})})]},_e.id))})]})})]})}function N({adminMode:L,blackouts:$}){const[K,ne]=xe.useState(new Date),[le,he]=xe.useState(null),[je,_e]=xe.useState("all"),[bt,Ke]=xe.useState([]),[we,$e]=xe.useState(!0),tt=()=>ne(new Date(K.setMonth(K.getMonth()+1))),Rt=()=>ne(new Date(K.setMonth(K.getMonth()-1)));xe.useEffect(()=>{const ie=Vc(Rl(si,"requests")),Ce=kc(ie,_t=>{const li=_t.docs.map(on=>{const Nt=on.data();let Ji=Nt.eventDate||Nt.checkoutDate||Nt.pickupDate||Nt.deadline;if(!Ji)return null;const[Tn,Vt,zt]=Ji.split("-").map(Number),Et=new Date(Tn,Vt-1,zt);return{id:on.id,title:Nt.title||Nt.requestName||"Request",displayId:Nt.displayId,dept:Nt.dept,type:Nt.requestType==="checkout"||Nt.dept==="Graphic"?"checkout":"event",status:Nt.status,date:Et,...Nt}}).filter(on=>on!==null&&on.status==="Approved");Ke(li),$e(!1)});return()=>Ce()},[]);const an=async ie=>{const _t=new Date(K.getFullYear(),K.getMonth(),ie).toISOString().split("T")[0];if(L){$.includes(_t)?window.confirm(`Re-open ${_t}?`)&&await Jd(rr(si,"blackout_dates",_t)):window.confirm(`Blackout ${_t}?`)&&await Zd(rr(si,"blackout_dates",_t),{reason:"Closed"});return}he(le===ie?null:ie)},Pt=ie=>{const Ce=ie.getFullYear(),_t=ie.getMonth(),li=new Date(Ce,_t+1,0).getDate(),on=new Date(Ce,_t,1).getDay();return{days:li,firstDay:on,monthName:ie.toLocaleString("default",{month:"long"}),year:Ce}},{days:xn,firstDay:ot,monthName:ae,year:Le}=Pt(K),rt=Array.from({length:xn},(ie,Ce)=>Ce+1),ve=Array.from({length:ot},(ie,Ce)=>Ce),ye=ie=>bt.filter(Ce=>Ce.date.getDate()===ie&&Ce.date.getMonth()===K.getMonth()&&Ce.date.getFullYear()===K.getFullYear()&&(je==="all"||Ce.dept===je)),Me=ie=>{const Ce="https://calendar.google.com/calendar/render?action=TEMPLATE",_t=`&text=${encodeURIComponent(`[${ie.dept}] ${ie.title}`)}`,li=`&details=${encodeURIComponent(`Ref: ${ie.displayId}
Requested by: ${ie.fullName}
Role: ${ie.role}
Details: ${ie.details||ie.brief||ie.description||"N/A"}`)}`,on=`&location=${encodeURIComponent(ie.location||"Salpointe Catholic High School")}`,Nt=ie.date.getFullYear(),Ji=String(ie.date.getMonth()+1).padStart(2,"0"),Tn=String(ie.date.getDate()).padStart(2,"0"),Vt=`${Nt}${Ji}${Tn}`,zt=new Date(ie.date);zt.setDate(zt.getDate()+1);const Et=zt.getFullYear(),fa=String(zt.getMonth()+1).padStart(2,"0"),ws=String(zt.getDate()).padStart(2,"0"),da=`${Et}${fa}${ws}`,Gn=`&dates=${Vt}/${da}`;return`${Ce}${_t}${Gn}${li}${on}`};return y.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-slate-950/50 p-6 border-b border-slate-800 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[y.jsx("div",{children:y.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[y.jsx("button",{onClick:Rt,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:y.jsx(kA,{size:24})}),y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[ae," ",y.jsx("span",{className:"text-slate-500",children:Le})]}),y.jsx("button",{onClick:tt,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:y.jsx(OA,{size:24})})]})}),y.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",Se.FILM,Se.PHOTO,Se.CULINARY].map(ie=>y.jsx("button",{onClick:()=>_e(ie),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${je===ie?"bg-cyan-600 text-white shadow-[0_0_10px_rgba(8,145,178,0.4)]":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:ie==="all"?"All":ie},ie))})]}),y.jsxs("div",{className:"p-6",children:[L&&y.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 border border-slate-700 rounded text-xs text-slate-400 flex items-center gap-2 font-mono",children:[y.jsx(n_,{size:14,className:"text-red-400"})," Admin Mode: Click a date to toggle blackout."]}),y.jsx("div",{className:"overflow-x-auto pb-2",children:we?y.jsx("div",{className:"text-center py-8 text-slate-500 font-mono",children:"LOADING MATRIX..."}):y.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-800 border border-slate-800 rounded-xl overflow-hidden shadow-inner",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(ie=>y.jsx("div",{className:"bg-slate-900 p-2 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:ie},ie)),ve.map(ie=>y.jsx("div",{className:"bg-slate-950/50 min-h-[80px] md:min-h-[100px]"},`empty-${ie}`)),rt.map(ie=>{const Ce=ye(ie),_t=ie===new Date().getDate()&&K.getMonth()===new Date().getMonth()&&K.getFullYear()===new Date().getFullYear(),li=new Date(Le,K.getMonth(),ie).toISOString().split("T")[0],on=$.includes(li);return y.jsxs("div",{className:`min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-800 relative group cursor-pointer transition-colors ${on?"bg-slate-900/30":"bg-slate-950/50"} ${le===ie?"bg-cyan-900/20 border-cyan-500/30":"hover:bg-slate-900"}`,onClick:()=>an(ie),children:[y.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${_t?"bg-red-600 text-white shadow-[0_0_10px_rgba(220,38,38,0.5)]":"text-slate-400"}`,children:ie}),on?y.jsx("div",{className:"flex justify-center mt-2",children:y.jsx(n_,{className:"text-red-900/50",size:20})}):y.jsx("div",{className:"space-y-1",children:Ce.map(Nt=>y.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${Nt.type==="checkout"?"bg-cyan-950/50 text-cyan-400 border-cyan-800/50":"bg-emerald-950/50 text-emerald-400 border-emerald-800/50"}`,children:Nt.title},Nt.id))})]},ie)})]})}),le&&!$.includes(new Date(Le,K.getMonth(),le).toISOString().split("T")[0])&&y.jsxs("div",{className:"mt-6 p-4 bg-slate-900/50 rounded-xl border border-slate-800 animate-fade-in",children:[y.jsxs("h4",{className:"font-bold text-white mb-3 flex items-center gap-2",children:[y.jsx(i_,{size:16,className:"text-cyan-400"})," ",ae," ",le]}),ye(le).length===0?y.jsx("p",{className:"text-slate-500 text-sm",children:"Sector clear. No events."}):y.jsx("div",{className:"space-y-3",children:ye(le).map(ie=>y.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded-lg border border-slate-700 shadow-sm",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-200 text-sm",children:ie.title}),y.jsxs("p",{className:"text-xs text-slate-400 uppercase",children:[ie.dept,"  ",ie.fullName]})]}),y.jsx("a",{href:Me(ie),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white transition-colors",children:y.jsx(wA,{size:16})})]},ie.id))})]})]})]})}function V({adminMode:L,setAdminMode:$,ALLOWED_ADMINS:K}){const[ne,le]=xe.useState([]),[he,je]=xe.useState("all"),[_e,bt]=xe.useState(!0),[Ke,we]=xe.useState(null),[$e,tt]=xe.useState("");xe.useEffect(()=>{const ae=Vc(Rl(si,"requests"),Av("createdAt","desc")),Le=kc(ae,rt=>{const ve=rt.docs.map(ye=>({id:ye.id,...ye.data(),formattedDate:Yv(ye.data().createdAt)}));le(ve),bt(!1)});return()=>Le()},[]);const Rt=async(ae,Le)=>{window.confirm(`Confirm status change to: ${Le}?`)&&(await vN(rr(si,"requests",ae.id),{status:Le}),Ke&&Ke.id===ae.id&&we(rt=>({...rt,status:Le})),Qv({to_name:ae.fullName,to_email:ae.email,subject:`Request Update: ${ae.title}`,title:ae.title,status:Le,message:`Status updated to ${Le}.`}))},an=async ae=>{window.confirm("Delete this record permanently?")&&(await Jd(rr(si,"requests",ae)),Ke&&Ke.id===ae&&we(null))},Pt=()=>{const ae=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],Le=ne.map(Me=>[Me.displayId,Me.dept,`"${Me.title}"`,Me.fullName,Me.email,Me.formattedDate,Me.status,`"${(Me.details||Me.brief||Me.description||"").replace(/"/g,'""')}"`]),rt="data:text/csv;charset=utf-8,"+[ae.join(","),...Le.map(Me=>Me.join(","))].join(`
`),ve=encodeURI(rt),ye=document.createElement("a");ye.setAttribute("href",ve),ye.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(ye),ye.click(),document.body.removeChild(ye)},xn=ne.filter(ae=>{const Le=he==="all"?!0:ae.dept?.toLowerCase().includes(he.toLowerCase()),rt=$e.toLowerCase(),ve=ae.title&&ae.title.toLowerCase().includes(rt)||ae.fullName&&ae.fullName.toLowerCase().includes(rt)||ae.displayId&&ae.displayId.toLowerCase().includes(rt)||ae.email&&ae.email.toLowerCase().includes(rt);return Le&&ve}),ot=ae=>{switch(ae){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return y.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[Ke&&y.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[y.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),y.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[y.jsxs("span",{children:["ID: ",Ke.displayId||"N/A"]}),y.jsxs("span",{className:"opacity-50",children:["| Ref: ",Ke.id]})]})]}),y.jsx("button",{onClick:()=>we(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:y.jsx(zd,{size:20})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),y.jsx("p",{className:"font-semibold text-white capitalize",children:Ke.dept})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${ot(Ke.status)}`,children:Ke.status})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),y.jsx("p",{className:"text-slate-200",children:Ke.fullName})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),y.jsx("p",{className:"text-slate-200 font-mono text-sm",children:Ke.email})]})]}),y.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[y.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[y.jsx(Pd,{size:16,className:"text-cyan-500"})," Mission Details"]}),y.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(Ke).map(([ae,Le])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(ae)?null:Array.isArray(Le)?y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ae}),y.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:Le.map((rt,ve)=>y.jsx("li",{children:rt},ve))})]},ae):y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ae.replace(/([A-Z])/g," $1").trim()}),y.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:Le})]},ae))})]}),L&&y.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[y.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>Rt(Ke,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),y.jsx("button",{onClick:()=>Rt(Ke,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),y.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[y.jsx(a_,{className:"text-purple-400"})," Request Log"]}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[y.jsxs("div",{className:"relative flex-1 lg:w-64",children:[y.jsx(aS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),y.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:$e,onChange:ae=>tt(ae.target.value)})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:he,onChange:ae=>je(ae.target.value),children:[y.jsx("option",{value:"all",children:"All Sectors"}),y.jsx("option",{value:"film",children:"Film"}),y.jsx("option",{value:"graphic",children:"Graphic"}),y.jsx("option",{value:"business",children:"Business"}),y.jsx("option",{value:"culinary",children:"Culinary"}),y.jsx("option",{value:"photo",children:"Photo"})]}),L&&y.jsxs("button",{onClick:Pt,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[y.jsx(FA,{size:16})," ",y.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:_e?y.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):y.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[y.jsx("th",{className:"p-4",children:"ID Code"}),y.jsx("th",{className:"p-4",children:"Sector"}),y.jsx("th",{className:"p-4",children:"Objective"}),y.jsx("th",{className:"p-4",children:"Agent"}),y.jsx("th",{className:"p-4",children:"Status"}),y.jsx("th",{className:"p-4",children:"View"}),L&&y.jsx("th",{className:"p-4",children:"Override"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-800",children:xn.map(ae=>y.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[y.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:ae.displayId}),y.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:ae.dept}),y.jsx("td",{className:"p-4 text-white font-medium text-sm",children:ae.title}),y.jsx("td",{className:"p-4 text-slate-400 text-sm",children:ae.fullName}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${ot(ae.status)}`,children:ae.status})}),y.jsx("td",{className:"p-4",children:y.jsx("button",{onClick:()=>we(ae),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:y.jsx(QA,{size:20})})}),L&&y.jsxs("td",{className:"p-4 flex gap-2",children:[y.jsx("button",{onClick:()=>Rt(ae,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:y.jsx(DA,{size:16})}),y.jsx("button",{onClick:()=>Rt(ae,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:y.jsx(zd,{size:16})}),y.jsx("button",{onClick:()=>an(ae.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:y.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},ae.id))})]})})]})}function D({onExit:L}){const $=xe.useRef(null),[K,ne]=xe.useState("start"),[le,he]=xe.useState(0),[je,_e]=xe.useState(parseInt(localStorage.getItem("lancer_highscore")||"0")),bt=.6,Ke=-10,we=5,$e=50,tt=xe.useRef({x:50,y:200,vy:0,width:40,height:40,isJumping:!1}),Rt=xe.useRef([]),an=xe.useRef(0),Pt=xe.useRef(0),xn=xe.useRef(null),ot=()=>{tt.current.isJumping||(tt.current.vy=Ke,tt.current.isJumping=!0)},ae=()=>{ne("playing"),he(0),Pt.current=0,tt.current={x:50,y:200,vy:0,width:40,height:40,isJumping:!1},Rt.current=[],an.current=0,Le()},Le=()=>{const ve=$.current;if(!ve)return;const ye=ve.getContext("2d");ye.fillStyle="#0f172a",ye.fillRect(0,0,ve.width,ve.height),ye.strokeStyle="#22d3ee",ye.lineWidth=2,ye.beginPath(),ye.moveTo(0,ve.height-$e),ye.lineTo(ve.width,ve.height-$e),ye.stroke();const Me=tt.current;if(Me.vy+=bt,Me.y+=Me.vy,Me.y>ve.height-$e-Me.height&&(Me.y=ve.height-$e-Me.height,Me.vy=0,Me.isJumping=!1),ye.font="32px Arial",ye.fillText("",Me.x,Me.y+32),an.current++,an.current%100===0){const ie=Math.random()>.5?"":"F";Rt.current.push({x:ve.width,y:ve.height-$e-30,width:30,height:30,type:ie})}for(let ie=Rt.current.length-1;ie>=0;ie--){const Ce=Rt.current[ie];if(Ce.x-=we,ye.fillStyle=Ce.type==="F"?"#ef4444":"#fbbf24",ye.font="28px Arial",ye.fillText(Ce.type,Ce.x,Ce.y+28),Me.x<Ce.x+Ce.width&&Me.x+Me.width>Ce.x&&Me.y<Ce.y+Ce.height&&Me.y+Me.height>Ce.y){rt();return}Ce.x+Ce.width<0&&(Rt.current.splice(ie,1),Pt.current+=10,he(Pt.current))}ye.fillStyle="#fff",ye.font="16px monospace",ye.fillText(`SCORE: ${Pt.current}`,10,20),xn.current=requestAnimationFrame(Le)},rt=()=>{cancelAnimationFrame(xn.current),ne("gameover"),Pt.current>je&&(_e(Pt.current),localStorage.setItem("lancer_highscore",Pt.current.toString()))};return xe.useEffect(()=>{const ve=ye=>{(ye.code==="Space"||ye.code==="ArrowUp")&&(K==="playing"?ot():K!=="playing"&&ae())};return window.addEventListener("keydown",ve),()=>window.removeEventListener("keydown",ve)},[K]),y.jsxs("div",{className:"max-w-3xl mx-auto bg-black border-4 border-slate-700 rounded-xl overflow-hidden font-mono shadow-2xl relative animate-fade-in select-none",children:[y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-10 pointer-events-none bg-[length:100%_2px,3px_100%]"}),y.jsxs("div",{className:"bg-slate-900 p-4 border-b-4 border-slate-700 flex justify-between items-center relative z-20",children:[y.jsxs("div",{className:"text-green-400 text-xs flex items-center gap-2",children:[y.jsx($A,{size:14})," LANCER_RUN.EXE"]}),y.jsxs("div",{className:"text-yellow-400 text-xs flex items-center gap-2",children:[y.jsx(gS,{size:14})," HI-SCORE: ",je]}),y.jsx("button",{onClick:L,className:"text-red-500 hover:text-red-400 text-xs uppercase font-bold",children:"[ EXIT SYSTEM ]"})]}),y.jsxs("div",{className:"relative bg-slate-950",style:{height:"300px"},children:[y.jsx("canvas",{ref:$,width:700,height:300,className:"w-full h-full block"}),K==="start"&&y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 z-20",children:[y.jsx("h2",{className:"text-4xl font-bold text-cyan-400 mb-4 tracking-widest glitch-text",children:"LANCER RUN"}),y.jsx("p",{className:"text-slate-300 text-sm mb-6",children:"Space/Up to Jump. Avoid the F's!"}),y.jsx("button",{onClick:ae,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded blink-anim",children:"INSERT COIN (START)"})]}),K==="gameover"&&y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-900/40 z-20 backdrop-blur-sm",children:[y.jsx("h2",{className:"text-4xl font-bold text-red-500 mb-2",children:"CRITICAL FAILURE"}),y.jsxs("p",{className:"text-white text-xl mb-6",children:["FINAL SCORE: ",le]}),y.jsx("button",{onClick:ae,className:"px-6 py-2 bg-white text-black font-bold rounded hover:bg-slate-200",children:"RETRY MISSION"})]})]})]})}function k({title:L,icon:$,colorClass:K,children:ne,setSubmitted:le,initialData:he={},onCancel:je,currentUser:_e,blackouts:bt=[]}){const Ke=xe.useRef(null),we=Gv(L),[$e,tt]=xe.useState(!1),Rt=()=>{const Le=new FormData(Ke.current),rt={};for(const[ve,ye]of Le.entries())rt[ve]?(Array.isArray(rt[ve])||(rt[ve]=[rt[ve]]),rt[ve].push(ye)):rt[ve]=ye;return localStorage.setItem(we,JSON.stringify(rt)),!0},an=Le=>{Le.preventDefault(),Rt(),alert("Draft secured in local cache.")},Pt=()=>{tt(!0)},xn=()=>{Rt(),tt(!1),je()},ot=()=>{localStorage.removeItem(we),tt(!1),je()},ae=async Le=>{Le.preventDefault();const rt=new FormData(Le.target),ve={};for(const[ie,Ce]of rt.entries())ve[ie]?(Array.isArray(ve[ie])||(ve[ie]=[ve[ie]]),ve[ie].push(Ce)):ve[ie]=Ce;const ye=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let Me=!1;if(ye.forEach(ie=>{ve[ie]&&bt.includes(ve[ie])&&(Me=!0)}),Me){alert("Date blocked by admin protocol. Select alternative.");return}try{const ie=Date.now().toString().slice(-4),Ce=Math.floor(1e3+Math.random()*9e3),_t=`REQ-${ie}-${Ce}`;await bN(Rl(si,"requests"),{...ve,dept:L,displayId:_t,status:"Pending Review",createdAt:new Date,title:ve.requestName||ve.eventName||ve.projectType||ve.businessName||"New Request"}),Qv({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${ve.requestName}`,title:ve.requestName,status:"Pending Review",message:`New request (${_t}) from ${ve.fullName}.`}),localStorage.removeItem(we),le(!0)}catch(ie){console.error(ie),alert("Transmission error.")}};return y.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[$e&&y.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:y.jsx(mS,{size:32})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),y.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("button",{onClick:xn,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[y.jsx(Nc,{size:18})," Secure Draft & Exit"]}),y.jsx("button",{onClick:ot,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),y.jsx("button",{onClick:()=>tt(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),y.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),y.jsxs("div",{className:"p-5 md:p-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${K.replace("bg-","text-")}`,children:y.jsx($,{size:28})}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[L," Protocol"]}),y.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),y.jsx("button",{type:"button",onClick:Pt,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:y.jsx(zd,{size:24})})]}),y.jsxs("form",{ref:Ke,onSubmit:ae,children:[y.jsx(C,{initialData:he,currentUser:_e}),ne,y.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[y.jsx("button",{type:"button",onClick:Pt,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),y.jsxs("button",{type:"button",onClick:an,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[y.jsx(Nc,{size:18})," Save Draft"]}),y.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function w(){return y.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-12 text-center animate-fade-in",children:[y.jsx("div",{className:"inline-flex p-4 rounded-full bg-emerald-900/20 text-emerald-400 mb-6 shadow-[0_0_20px_rgba(52,211,153,0.3)]",children:y.jsx(r_,{size:48})}),y.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Analytics Module"}),y.jsx("p",{className:"text-slate-400 max-w-md mx-auto leading-relaxed",children:"Data visualization protocols are currently compiling. This module will track usage frequency, peak request times, and inventory depletion rates."})]})}function yt({inventory:L,setInventory:$}){const[K,ne]=xe.useState({name:"",count:1,category:"general",requiresTraining:!1}),[le,he]=xe.useState(!1),je=(we,$e,tt)=>{const Rt={...L,[we]:{...L[we],[$e]:tt}};$(Rt),he(!0)},_e=we=>{if(!window.confirm(`Permanently remove ${we} from inventory?`))return;const $e={...L};delete $e[we],$($e),he(!0)},bt=()=>{if(!K.name)return;const we={...L,[K.name]:{count:K.count,category:K.category,requiresTraining:K.requiresTraining}};$(we),ne({name:"",count:1,category:"general",requiresTraining:!1}),he(!0)},Ke=async()=>{try{await Zd(rr(si,"settings","inventory_v2"),L),he(!1),alert("Inventory database updated successfully.")}catch(we){console.error(we),alert("Failed to save changes.")}};return y.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl animate-fade-in",children:[y.jsxs("div",{className:"bg-slate-950/50 p-6 border-b border-slate-800 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[y.jsx(AA,{className:"text-amber-400"})," Inventory Control"]}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Manage asset availability and restrictions."})]}),le&&y.jsxs("button",{onClick:Ke,className:"bg-amber-600 hover:bg-amber-500 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 animate-pulse shadow-[0_0_15px_rgba(217,119,6,0.5)]",children:[y.jsx(Nc,{size:18})," Save Changes"]})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex flex-wrap gap-4 items-end",children:[y.jsxs("div",{className:"flex-grow min-w-[200px]",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Item Name"}),y.jsx("input",{type:"text",value:K.name,onChange:we=>ne({...K,name:we.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",placeholder:"e.g. GoPro Hero 10"})]}),y.jsxs("div",{className:"w-20",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Qty"}),y.jsx("input",{type:"number",value:K.count,onChange:we=>ne({...K,count:parseInt(we.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none"})]}),y.jsxs("div",{className:"w-32",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Category"}),y.jsxs("select",{value:K.category,onChange:we=>ne({...K,category:we.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",children:[y.jsx("option",{value:"general",children:"General"}),y.jsx("option",{value:"film",children:"Film"}),y.jsx("option",{value:"photo",children:"Photo"}),y.jsx("option",{value:"culinary",children:"Culinary"})]})]}),y.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[y.jsx("input",{type:"checkbox",checked:K.requiresTraining,onChange:we=>ne({...K,requiresTraining:we.target.checked}),className:"w-4 h-4 rounded bg-slate-700 border-slate-600 accent-cyan-500"}),y.jsx("label",{className:"text-xs text-slate-300",children:"Training?"})]}),y.jsx("button",{onClick:bt,className:"bg-cyan-600 hover:bg-cyan-500 text-white p-2.5 rounded-lg transition-colors",children:y.jsx(iS,{size:20})})]}),y.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-800",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-900 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[y.jsx("th",{className:"p-3",children:"Asset Name"}),y.jsx("th",{className:"p-3",children:"Category"}),y.jsx("th",{className:"p-3",children:"Training Req."}),y.jsx("th",{className:"p-3 w-24",children:"Stock"}),y.jsx("th",{className:"p-3 w-16"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-800 bg-slate-950/30",children:Object.entries(L).sort().map(([we,$e])=>y.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[y.jsx("td",{className:"p-3 font-medium text-slate-200",children:we}),y.jsx("td",{className:"p-3",children:y.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] uppercase border font-bold ${$e.category==="film"?"text-cyan-400 border-cyan-900 bg-cyan-950/30":$e.category==="photo"?"text-pink-400 border-pink-900 bg-pink-950/30":"text-slate-400 border-slate-700 bg-slate-800"}`,children:$e.category})}),y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"checkbox",checked:$e.requiresTraining,onChange:tt=>je(we,"requiresTraining",tt.target.checked),className:"rounded bg-slate-900 border-slate-700 accent-cyan-500"})}),y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"number",value:$e.count,onChange:tt=>je(we,"count",parseInt(tt.target.value)),className:"w-16 bg-slate-900 border border-slate-700 rounded p-1 text-center text-white text-sm focus:border-cyan-500 outline-none"})}),y.jsx("td",{className:"p-3 text-right",children:y.jsx("button",{onClick:()=>_e(we),className:"text-slate-600 hover:text-red-400 transition-colors",children:y.jsx(fS,{size:16})})})]},we))})]})})]})]})}function Ot({setSubmitted:L,onCancel:$}){return y.jsx(k,{title:"System Feedback",icon:c_,colorClass:"bg-slate-500",setSubmitted:L,onCancel:$,children:y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"p-4 bg-cyan-900/20 border border-cyan-500/30 rounded-lg text-sm text-cyan-200",children:y.jsx("p",{children:"Encountered a bug or have a feature request? Let the development team know directly."})}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Message Type"}),y.jsxs("select",{name:"feedbackType",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[y.jsx("option",{children:"Bug Report"}),y.jsx("option",{children:"Feature Request"}),y.jsx("option",{children:"General Inquiry"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Details"}),y.jsx("textarea",{name:"details",rows:5,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"Describe the issue...",required:!0})]})]})})}function F({inventory:L,category:$}){const K=Object.entries(L).filter(([ne,le])=>le.category===$);return y.jsxs("div",{className:"bg-slate-950/50 p-4 rounded-lg border border-slate-800 mt-4",children:[y.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-3 border-b border-slate-800 pb-2",children:"Equipment Request"}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:K.map(([ne,le])=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900 border border-slate-800 rounded hover:border-slate-600 transition-colors",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-sm text-slate-200 font-medium",children:ne}),le.requiresTraining&&y.jsxs("span",{className:"text-[10px] text-amber-500 flex items-center gap-1",children:[y.jsx(LA,{size:10})," Training Req."]})]}),y.jsx("input",{type:"number",name:`gear_${ne}`,min:"0",max:"5",placeholder:"0",className:"w-12 bg-slate-950 border border-slate-700 rounded p-1 text-center text-white text-sm focus:border-cyan-500 outline-none"})]},ne))})]})}function se(L){return y.jsx(k,{title:"Film & TV",icon:d_,colorClass:"bg-cyan-400",...L,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),y.jsx("input",{type:"date",name:"checkoutDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),y.jsx("input",{type:"date",name:"returnDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Shoot Location"}),y.jsx("input",{type:"text",name:"location",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"e.g. Gym, Field, Off-campus",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Details"}),y.jsx("textarea",{name:"details",rows:3,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"Describe the shoot...",required:!0})]}),y.jsx(F,{inventory:L.inventory,category:"film"})]})})}function me(L){return y.jsx(k,{title:"Photography",icon:s_,colorClass:"bg-pink-400",...L,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),y.jsx("input",{type:"date",name:"checkoutDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),y.jsx("input",{type:"date",name:"returnDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event / Subject"}),y.jsx("input",{type:"text",name:"eventSubject",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"e.g. Senior Portraits",required:!0})]}),y.jsx(F,{inventory:L.inventory,category:"photo"})]})})}function Ye(L){return y.jsx(k,{title:"Graphic Design",icon:h_,colorClass:"bg-fuchsia-400",...L,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Deadline"}),y.jsx("input",{type:"date",name:"deadline",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Format"}),y.jsxs("select",{name:"format",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[y.jsx("option",{children:"Digital (Social Media/Web)"}),y.jsx("option",{children:"Print (Poster/Flyer)"}),y.jsx("option",{children:"Apparel"}),y.jsx("option",{children:"Logo / Branding"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Design Brief"}),y.jsx("textarea",{name:"brief",rows:4,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"Describe colors, style, text required...",required:!0})]})]})})}function et(L){return y.jsx(k,{title:"Business & Startup",icon:Pd,colorClass:"bg-emerald-400",...L,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Meeting Date"}),y.jsx("input",{type:"date",name:"eventDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Type"}),y.jsxs("select",{name:"serviceType",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[y.jsx("option",{children:"Consultation"}),y.jsx("option",{children:"Business Plan Review"}),y.jsx("option",{children:"Marketing Strategy"}),y.jsx("option",{children:"Pitch Deck Prep"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Objective"}),y.jsx("textarea",{name:"objective",rows:4,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"What are your goals?",required:!0})]})]})})}function M(L){return y.jsx(k,{title:"Culinary Arts",icon:f_,colorClass:"bg-amber-400",...L,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),y.jsx("input",{type:"date",name:"eventDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Headcount"}),y.jsx("input",{type:"number",name:"headcount",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"e.g. 50",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Menu Requirements"}),y.jsx("textarea",{name:"menu",rows:4,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"Dietary restrictions, food preferences...",required:!0})]})]})})}};dA.createRoot(document.getElementById("root")).render(y.jsx(xe.StrictMode,{children:y.jsx(LI,{})}));
