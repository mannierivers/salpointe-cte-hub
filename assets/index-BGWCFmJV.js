(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ld={exports:{}},xo={};var W_;function iS(){if(W_)return xo;W_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return xo.Fragment=e,xo.jsx=i,xo.jsxs=i,xo}var e0;function sS(){return e0||(e0=1,Ld.exports=iS()),Ld.exports}var y=sS(),Ud={exports:{}},Ve={};var t0;function rS(){if(t0)return Ve;t0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function Q(w){return w===null||typeof w!="object"?null:(w=M&&w[M]||w["@@iterator"],typeof w=="function"?w:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},le=Object.assign,se={};function be(w,B,J){this.props=w,this.context=B,this.refs=se,this.updater=J||W}be.prototype.isReactComponent={},be.prototype.setState=function(w,B){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,B,"setState")},be.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function Me(){}Me.prototype=be.prototype;function Ae(w,B,J){this.props=w,this.context=B,this.refs=se,this.updater=J||W}var st=Ae.prototype=new Me;st.constructor=Ae,le(st,be.prototype),st.isPureReactComponent=!0;var dt=Array.isArray;function Ke(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(w,B,J){var ee=J.ref;return{$$typeof:s,type:w,key:B,ref:ee!==void 0?ee:null,props:J}}function V(w,B){return C(w.type,B,w.props)}function O(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function L(w){var B={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(J){return B[J]})}var R=/\/+/g;function ue(w,B){return typeof w=="object"&&w!==null&&w.key!=null?L(""+w.key):B.toString(36)}function me(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Ke,Ke):(w.status="pending",w.then(function(B){w.status==="pending"&&(w.status="fulfilled",w.value=B)},function(B){w.status==="pending"&&(w.status="rejected",w.reason=B)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function j(w,B,J,ee,he){var ge=typeof w;(ge==="undefined"||ge==="boolean")&&(w=null);var ve=!1;if(w===null)ve=!0;else switch(ge){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(w.$$typeof){case s:case e:ve=!0;break;case S:return ve=w._init,j(ve(w._payload),B,J,ee,he)}}if(ve)return he=he(w),ve=ee===""?"."+ue(w,0):ee,dt(he)?(J="",ve!=null&&(J=ve.replace(R,"$&/")+"/"),j(he,B,J,"",function(Ot){return Ot})):he!=null&&(O(he)&&(he=V(he,J+(he.key==null||w&&w.key===he.key?"":(""+he.key).replace(R,"$&/")+"/")+ve)),B.push(he)),1;ve=0;var Ee=ee===""?".":ee+":";if(dt(w))for(var Ne=0;Ne<w.length;Ne++)ee=w[Ne],ge=Ee+ue(ee,Ne),ve+=j(ee,B,J,ge,he);else if(Ne=Q(w),typeof Ne=="function")for(w=Ne.call(w),Ne=0;!(ee=w.next()).done;)ee=ee.value,ge=Ee+ue(ee,Ne++),ve+=j(ee,B,J,ge,he);else if(ge==="object"){if(typeof w.then=="function")return j(me(w),B,J,ee,he);throw B=String(w),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ve}function X(w,B,J){if(w==null)return w;var ee=[],he=0;return j(w,ee,"","",function(ge){return B.call(J,ge,he++)}),ee}function ne(w){if(w._status===-1){var B=w._result;B=B(),B.then(function(J){(w._status===0||w._status===-1)&&(w._status=1,w._result=J)},function(J){(w._status===0||w._status===-1)&&(w._status=2,w._result=J)}),w._status===-1&&(w._status=0,w._result=B)}if(w._status===1)return w._result.default;throw w._result}var ie=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},pe={map:X,forEach:function(w,B,J){X(w,function(){B.apply(this,arguments)},J)},count:function(w){var B=0;return X(w,function(){B++}),B},toArray:function(w){return X(w,function(B){return B})||[]},only:function(w){if(!O(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Ve.Activity=A,Ve.Children=pe,Ve.Component=be,Ve.Fragment=i,Ve.Profiler=o,Ve.PureComponent=Ae,Ve.StrictMode=r,Ve.Suspense=v,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(w){return I.H.useMemoCache(w)}},Ve.cache=function(w){return function(){return w.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(w,B,J){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ee=le({},w.props),he=w.key;if(B!=null)for(ge in B.key!==void 0&&(he=""+B.key),B)!x.call(B,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&B.ref===void 0||(ee[ge]=B[ge]);var ge=arguments.length-2;if(ge===1)ee.children=J;else if(1<ge){for(var ve=Array(ge),Ee=0;Ee<ge;Ee++)ve[Ee]=arguments[Ee+2];ee.children=ve}return C(w.type,he,ee)},Ve.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},Ve.createElement=function(w,B,J){var ee,he={},ge=null;if(B!=null)for(ee in B.key!==void 0&&(ge=""+B.key),B)x.call(B,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(he[ee]=B[ee]);var ve=arguments.length-2;if(ve===1)he.children=J;else if(1<ve){for(var Ee=Array(ve),Ne=0;Ne<ve;Ne++)Ee[Ne]=arguments[Ne+2];he.children=Ee}if(w&&w.defaultProps)for(ee in ve=w.defaultProps,ve)he[ee]===void 0&&(he[ee]=ve[ee]);return C(w,ge,he)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(w){return{$$typeof:g,render:w}},Ve.isValidElement=O,Ve.lazy=function(w){return{$$typeof:S,_payload:{_status:-1,_result:w},_init:ne}},Ve.memo=function(w,B){return{$$typeof:_,type:w,compare:B===void 0?null:B}},Ve.startTransition=function(w){var B=I.T,J={};I.T=J;try{var ee=w(),he=I.S;he!==null&&he(J,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ke,ie)}catch(ge){ie(ge)}finally{B!==null&&J.types!==null&&(B.types=J.types),I.T=B}},Ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ve.use=function(w){return I.H.use(w)},Ve.useActionState=function(w,B,J){return I.H.useActionState(w,B,J)},Ve.useCallback=function(w,B){return I.H.useCallback(w,B)},Ve.useContext=function(w){return I.H.useContext(w)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(w,B){return I.H.useDeferredValue(w,B)},Ve.useEffect=function(w,B){return I.H.useEffect(w,B)},Ve.useEffectEvent=function(w){return I.H.useEffectEvent(w)},Ve.useId=function(){return I.H.useId()},Ve.useImperativeHandle=function(w,B,J){return I.H.useImperativeHandle(w,B,J)},Ve.useInsertionEffect=function(w,B){return I.H.useInsertionEffect(w,B)},Ve.useLayoutEffect=function(w,B){return I.H.useLayoutEffect(w,B)},Ve.useMemo=function(w,B){return I.H.useMemo(w,B)},Ve.useOptimistic=function(w,B){return I.H.useOptimistic(w,B)},Ve.useReducer=function(w,B,J){return I.H.useReducer(w,B,J)},Ve.useRef=function(w){return I.H.useRef(w)},Ve.useState=function(w){return I.H.useState(w)},Ve.useSyncExternalStore=function(w,B,J){return I.H.useSyncExternalStore(w,B,J)},Ve.useTransition=function(){return I.H.useTransition()},Ve.version="19.2.0",Ve}var n0;function km(){return n0||(n0=1,Ud.exports=rS()),Ud.exports}var Re=km(),Pd={exports:{}},Ro={},zd={exports:{}},qd={};var i0;function aS(){return i0||(i0=1,(function(s){function e(j,X){var ne=j.length;j.push(X);e:for(;0<ne;){var ie=ne-1>>>1,pe=j[ie];if(0<o(pe,X))j[ie]=X,j[ne]=pe,ne=ie;else break e}}function i(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var X=j[0],ne=j.pop();if(ne!==X){j[0]=ne;e:for(var ie=0,pe=j.length,w=pe>>>1;ie<w;){var B=2*(ie+1)-1,J=j[B],ee=B+1,he=j[ee];if(0>o(J,ne))ee<pe&&0>o(he,J)?(j[ie]=he,j[ee]=ne,ie=ee):(j[ie]=J,j[B]=ne,ie=B);else if(ee<pe&&0>o(he,ne))j[ie]=he,j[ee]=ne,ie=ee;else break e}}return X}function o(j,X){var ne=j.sortIndex-X.sortIndex;return ne!==0?ne:j.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],S=1,A=null,M=3,Q=!1,W=!1,le=!1,se=!1,be=typeof setTimeout=="function"?setTimeout:null,Me=typeof clearTimeout=="function"?clearTimeout:null,Ae=typeof setImmediate<"u"?setImmediate:null;function st(j){for(var X=i(_);X!==null;){if(X.callback===null)r(_);else if(X.startTime<=j)r(_),X.sortIndex=X.expirationTime,e(v,X);else break;X=i(_)}}function dt(j){if(le=!1,st(j),!W)if(i(v)!==null)W=!0,Ke||(Ke=!0,L());else{var X=i(_);X!==null&&me(dt,X.startTime-j)}}var Ke=!1,I=-1,x=5,C=-1;function V(){return se?!0:!(s.unstable_now()-C<x)}function O(){if(se=!1,Ke){var j=s.unstable_now();C=j;var X=!0;try{e:{W=!1,le&&(le=!1,Me(I),I=-1),Q=!0;var ne=M;try{t:{for(st(j),A=i(v);A!==null&&!(A.expirationTime>j&&V());){var ie=A.callback;if(typeof ie=="function"){A.callback=null,M=A.priorityLevel;var pe=ie(A.expirationTime<=j);if(j=s.unstable_now(),typeof pe=="function"){A.callback=pe,st(j),X=!0;break t}A===i(v)&&r(v),st(j)}else r(v);A=i(v)}if(A!==null)X=!0;else{var w=i(_);w!==null&&me(dt,w.startTime-j),X=!1}}break e}finally{A=null,M=ne,Q=!1}X=void 0}}finally{X?L():Ke=!1}}}var L;if(typeof Ae=="function")L=function(){Ae(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=O,L=function(){ue.postMessage(null)}}else L=function(){be(O,0)};function me(j,X){I=be(function(){j(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(j){switch(M){case 1:case 2:case 3:var X=3;break;default:X=M}var ne=M;M=X;try{return j()}finally{M=ne}},s.unstable_requestPaint=function(){se=!0},s.unstable_runWithPriority=function(j,X){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ne=M;M=j;try{return X()}finally{M=ne}},s.unstable_scheduleCallback=function(j,X,ne){var ie=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ie+ne:ie):ne=ie,j){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ne+pe,j={id:S++,callback:X,priorityLevel:j,startTime:ne,expirationTime:pe,sortIndex:-1},ne>ie?(j.sortIndex=ne,e(_,j),i(v)===null&&j===i(_)&&(le?(Me(I),I=-1):le=!0,me(dt,ne-ie))):(j.sortIndex=pe,e(v,j),W||Q||(W=!0,Ke||(Ke=!0,L()))),j},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(j){var X=M;return function(){var ne=M;M=X;try{return j.apply(this,arguments)}finally{M=ne}}}})(qd)),qd}var s0;function lS(){return s0||(s0=1,zd.exports=aS()),zd.exports}var Bd={exports:{}},hn={};var r0;function oS(){if(r0)return hn;r0=1;var s=km();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,S)},hn.flushSync=function(v){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=S,r.d.f()}},hn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},hn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},hn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,A=g(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:Q}):S==="script"&&r.d.X(v,{crossOrigin:A,integrity:M,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},hn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=g(S,_.crossOrigin);r.d.L(v,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=g(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},hn.requestFormReset=function(v){r.d.r(v)},hn.unstable_batchedUpdates=function(v,_){return v(_)},hn.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var a0;function uS(){if(a0)return Bd.exports;a0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=oS(),Bd.exports}var l0;function cS(){if(l0)return Ro;l0=1;var s=lS(),e=km(),i=uS();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,l=f;break}if(E===l){p=!0,l=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,l=h;break}if(E===l){p=!0,l=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),Me=Symbol.for("react.consumer"),Ae=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Ke=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case le:return"Fragment";case be:return"Profiler";case se:return"StrictMode";case dt:return"Suspense";case Ke:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case Ae:return t.displayName||"Context";case Me:return(t._context.displayName||"Context")+".Consumer";case st:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:ue(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ue(t(n))}catch{}}return null}var me=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ie=[],pe=-1;function w(t){return{current:t}}function B(t){0>pe||(t.current=ie[pe],ie[pe]=null,pe--)}function J(t,n){pe++,ie[pe]=t.current,t.current=n}var ee=w(null),he=w(null),ge=w(null),ve=w(null);function Ee(t,n){switch(J(ge,n),J(he,t),J(ee,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=T_(n),t=S_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(ee),J(ee,t)}function Ne(){B(ee),B(he),B(ge)}function Ot(t){t.memoizedState!==null&&J(ve,t);var n=ee.current,a=S_(n,t.type);n!==a&&(J(he,t),J(ee,a))}function Mt(t){he.current===t&&(B(ee),B(he)),ve.current===t&&(B(ve),To._currentValue=ne)}var ae,Ce;function we(t){if(ae===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ae=n&&n[1]||"",Ce=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+t+Ce}var Ie=!1;function We(t,n){if(!t||Ie)return"";Ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),z=E.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var G=`
`+N[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Ie=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?we(a):""}function Xe(t,n){switch(t.tag){case 26:case 27:case 5:return we(t.type);case 16:return we("Lazy");case 13:return t.child!==n&&n!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return We(t.type,!1);case 11:return We(t.type.render,!1);case 1:return We(t.type,!0);case 31:return we("Activity");default:return""}}function te(t){try{var n="",a=null;do n+=Xe(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,Ue=s.unstable_scheduleCallback,Kt=s.unstable_cancelCallback,St=s.unstable_shouldYield,Et=s.unstable_requestPaint,Vt=s.unstable_now,ni=s.unstable_getCurrentPriorityLevel,Ki=s.unstable_ImmediatePriority,Cn=s.unstable_UserBlockingPriority,zn=s.unstable_NormalPriority,wl=s.unstable_LowPriority,ha=s.unstable_IdlePriority,fa=s.log,da=s.unstable_setDisableYieldValue,ii=null,en=null;function qn(t){if(typeof fa=="function"&&da(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ii,t)}catch{}}var Rt=Math.clz32?Math.clz32:ou,lu=Math.log,ma=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(lu(t)/ma|0)|0}var vi=256,Tr=262144,kt=4194304;function bi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ei(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=bi(l):(p&=E,p!==0?h=bi(p):a||(a=E&~t,a!==0&&(h=bi(a))))):(E=l&~f,E!==0?h=bi(E):p!==0?h=bi(p):a||(a=l&~t,a!==0&&(h=bi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function si(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function Ti(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Sr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qh(t,n,a,l,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-Rt(a),$=1<<G;E[G]=0,N[G]=-1;var q=z[G];if(q!==null)for(z[G]=null,G=0;G<q.length;G++){var F=q[G];F!==null&&(F.lane&=-536870913)}a&=~$}l!==0&&Ar(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ar(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Rt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function xl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Rt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Rl(t,n){var a=n&-n;return a=(a&42)!==0?1:wr(a),(a&(t.suspendedLanes|n))!==0?0:a}function wr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Q_(t.type))}function ri(t,n){var a=X.p;try{return X.p=t,n()}finally{X.p=a}}var ai=Math.random().toString(36).slice(2),jt="__reactFiber$"+ai,Xt="__reactProps$"+ai,Si="__reactContainer$"+ai,pa="__reactEvents$"+ai,Bh="__reactListeners$"+ai,hu="__reactHandles$"+ai,fu="__reactResources$"+ai,Ai="__reactMarker$"+ai;function ga(t){delete t[jt],delete t[Xt],delete t[pa],delete t[Bh],delete t[hu]}function wi(t){var n=t[jt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Si]||a[jt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=I_(t);t!==null;){if(a=t[jt])return a;t=I_(t)}return n}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[jt]||t[Si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function xi(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Lt(t){t[Ai]=!0}var Nl=new Set,Cl={};function Ri(t,n){Ni(t,n),Ni(t+"Capture",n)}function Ni(t,n){for(Cl[t]=n,t=0;t<n.length;t++)Nl.add(n[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Ol={};function du(t){return Te.call(Ol,t)?!0:Te.call(Dl,t)?!1:Il.test(t)?Ol[t]=!0:(Dl[t]=!0,!1)}function ya(t,n,a){if(du(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ut(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ml(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function at(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Ml(t,n,""+t[n])}}function xr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=As(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function vn(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(t,n,a,l,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$t(n)):t.value!==""+$t(n)&&(t.value=""+$t(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Vl(t,p,$t(n)):a!=null?Vl(t,p,$t(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$t(E):t.removeAttribute("name")}function mu(t,n,a,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){at(t);return}a=a!=null?""+$t(a):"",n=n!=null?""+$t(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),at(t)}function Vl(t,n,a){n==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ws(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,a){if(n!=null&&(n=""+$t(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+$t(a):""}function xs(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(me(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=$t(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),at(t)}function bn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function jl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&kl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&kl(t,f,n[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var Ll=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,Ii=null;function Nr(t){var n=Bn(t);if(n&&(t=n.stateNode)){var a=t[Xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Xt]||null;if(!h)throw Error(r(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&xr(l)}break e;case"textarea":pu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ws(t,!!a.multiple,n,!1)}}}var Ea=!1;function Cs(t,n,a){if(Ea)return t(n,a);Ea=!0;try{var l=t(n);return l}finally{if(Ea=!1,(Ns!==null||Ii!==null)&&(cc(),Ns&&(n=Ns,t=Ii,Ii=Ns=null,Nr(n),t)))for(n=0;n<t.length;n++)Nr(t[n])}}function oi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Xt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Fn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Cr=!1}var Di=null,Ul=null,Ir=null;function Pl(){if(Ir)return Ir;var t,n=Ul,a=n.length,l,h="value"in Di?Di.value:Di.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(l=1;l<=p&&n[a-l]===h[f-l];l++);return Ir=h.slice(t,1<l?1-l:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ui(){return!1}function tn(t){function n(a,l,h,f,p){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ui,this.isPropagationStopped=ui,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=tn(Ji),Is=A({},Ji,{view:0,detail:0}),zl=tn(Is),Ds,Ta,Mi,Sa=A({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Ds=t.screenX-Mi.screenX,Ta=t.screenY-Mi.screenY):Ta=Ds=0,Mi=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),ql=tn(Sa),Or=A({},Sa,{dataTransfer:0}),_u=tn(Or),vu=A({},Is,{relatedTarget:0}),Mr=tn(vu),Bl=A({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=tn(Bl),Aa=A({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=tn(Aa),Tu=A({},Ji,{data:0}),Vi=tn(Tu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Os(){return xu}var gn=A({},Is,{key:function(t){if(t.key){var n=Su[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=tn(gn),Nu=A({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=tn(Nu),u=A({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=tn(u),b=A({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=tn(b),U=A({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=tn(U),re=A({},Ji,{newState:0,oldState:0}),je=tn(re),Nt=[9,13,27,32],nt=Fn&&"CompositionEvent"in window,vt=null;Fn&&"documentMode"in document&&(vt=document.documentMode);var Gn=Fn&&"TextEvent"in window&&!vt,ki=Fn&&(!nt||vt&&8<vt&&11>=vt),ci=" ",hi=!1;function Vr(t,n){switch(t){case"keyup":return Nt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function RT(t,n){switch(t){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(hi=!0,ci);case"textInput":return t=n.data,t===ci&&hi?null:t;default:return null}}function NT(t,n){if(xa)return t==="compositionend"||!nt&&Vr(t,n)?(t=Pl(),Ir=Ul=Di=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var CT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!CT[t.type]:n==="textarea"}function Vp(t,n,a,l){Ns?Ii?Ii.push(l):Ii=[l]:Ns=l,n=yc(n,"onChange"),0<n.length&&(a=new Oi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Hl=null,Fl=null;function IT(t){g_(t,0)}function Cu(t){var n=In(t);if(xr(n))return t}function kp(t,n){if(t==="change")return n}var jp=!1;if(Fn){var Hh;if(Fn){var Fh="oninput"in document;if(!Fh){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Fh=typeof Lp.oninput=="function"}Hh=Fh}else Hh=!1;jp=Hh&&(!document.documentMode||9<document.documentMode)}function Up(){Hl&&(Hl.detachEvent("onpropertychange",Pp),Fl=Hl=null)}function Pp(t){if(t.propertyName==="value"&&Cu(Fl)){var n=[];Vp(n,Fl,t,Hn(t)),Cs(IT,n)}}function DT(t,n,a){t==="focusin"?(Up(),Hl=n,Fl=a,Hl.attachEvent("onpropertychange",Pp)):t==="focusout"&&Up()}function OT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Fl)}function MT(t,n){if(t==="click")return Cu(n)}function VT(t,n){if(t==="input"||t==="change")return Cu(n)}function kT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:kT;function Gl(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Te.call(n,h)||!On(t[h],n[h]))return!1}return!0}function zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qp(t,n){var a=zp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zp(a)}}function Bp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ci(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ci(t.document)}return n}function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var jT=Fn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Qh=null,Ql=null,Yh=!1;function Fp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||Ra==null||Ra!==Ci(l)||(l=Ra,"selectionStart"in l&&Gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ql&&Gl(Ql,l)||(Ql=l,l=yc(Qh,"onSelect"),0<l.length&&(n=new Oi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ra)))}function kr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Na={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Kh={},Gp={};Fn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function jr(t){if(Kh[t])return Kh[t];if(!Na[t])return t;var n=Na[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Gp)return Kh[t]=n[a];return t}var Qp=jr("animationend"),Yp=jr("animationiteration"),Kp=jr("animationstart"),LT=jr("transitionrun"),UT=jr("transitionstart"),PT=jr("transitioncancel"),Xp=jr("transitionend"),$p=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function fi(t,n){$p.set(t,n),Ri(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Ca=0,$h=0;function Du(){for(var t=Ca,n=$h=Ca=0;n<t;){var a=Qn[n];Qn[n++]=null;var l=Qn[n];Qn[n++]=null;var h=Qn[n];Qn[n++]=null;var f=Qn[n];if(Qn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Jp(a,h,f)}}function Ou(t,n,a,l){Qn[Ca++]=t,Qn[Ca++]=n,Qn[Ca++]=a,Qn[Ca++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,a,l){return Ou(t,n,a,l),Mu(t)}function Lr(t,n){return Ou(t,null,null,n),Mu(t)}function Jp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Rt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Mu(t){if(50<po)throw po=0,ld=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function zT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,a,l){return new zT(t,n,a,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,n){var a=t.alternate;return a===null?(a=Mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,a,l,h,f){var p=0;if(l=t,typeof t=="function")Zh(t)&&(p=1);else if(typeof t=="string")p=G1(t,a,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Mn(31,a,n,h),t.elementType=C,t.lanes=f,t;case le:return Ur(a.children,h,f,n);case se:p=8,h|=24;break;case be:return t=Mn(12,a,n,h|2),t.elementType=be,t.lanes=f,t;case dt:return t=Mn(13,a,n,h),t.elementType=dt,t.lanes=f,t;case Ke:return t=Mn(19,a,n,h),t.elementType=Ke,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ae:p=10;break e;case Me:p=9;break e;case st:p=11;break e;case I:p=14;break e;case x:p=16,l=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Mn(p,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Ur(t,n,a,l){return t=Mn(7,t,l,n),t.lanes=a,t}function Wh(t,n,a){return t=Mn(6,t,null,n),t.lanes=a,t}function Wp(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function ef(t,n,a){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var eg=new WeakMap;function Yn(t,n){if(typeof t=="object"&&t!==null){var a=eg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:te(n)},eg.set(t,n),n)}return{value:t,source:n,stack:te(n)}}var Da=[],Oa=0,ku=null,Yl=0,Kn=[],Xn=0,Ms=null,ji=1,Li="";function es(t,n){Da[Oa++]=Yl,Da[Oa++]=ku,ku=t,Yl=n}function tg(t,n,a){Kn[Xn++]=ji,Kn[Xn++]=Li,Kn[Xn++]=Ms,Ms=t;var l=ji;t=Li;var h=32-Rt(l)-1;l&=~(1<<h),a+=1;var f=32-Rt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,ji=1<<32-Rt(n)+h|a<<h|l,Li=f+t}else ji=1<<f|a<<h|l,Li=t}function tf(t){t.return!==null&&(es(t,1),tg(t,1,0))}function nf(t){for(;t===ku;)ku=Da[--Oa],Da[Oa]=null,Yl=Da[--Oa],Da[Oa]=null;for(;t===Ms;)Ms=Kn[--Xn],Kn[Xn]=null,Li=Kn[--Xn],Kn[Xn]=null,ji=Kn[--Xn],Kn[Xn]=null}function ng(t,n){Kn[Xn++]=ji,Kn[Xn++]=Li,Kn[Xn++]=Ms,ji=n.id,Li=n.overflow,Ms=t}var nn=null,gt=null,$e=!1,Vs=null,$n=!1,sf=Error(r(519));function ks(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Yn(n,t)),sf}function ig(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[jt]=t,n[Xt]=l,a){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(a=0;a<yo.length;a++)Be(yo[a],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),xs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||b_(n.textContent,a)?(l.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),l.onScroll!=null&&Be("scroll",n),l.onScrollEnd!=null&&Be("scrollend",n),l.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||ks(t,!0)}function sg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:nn=nn.return}}function Ma(t){if(t!==nn)return!1;if(!$e)return sg(t),$e=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&gt&&ks(t),sg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=C_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));gt=C_(t)}else n===27?(n=gt,Xs(t.type)?(t=Rd,Rd=null,gt=t):gt=n):gt=nn?Zn(t.stateNode.nextSibling):null;return!0}function Pr(){gt=nn=null,$e=!1}function rf(){var t=Vs;return t!==null&&(An===null?An=t:An.push.apply(An,t),Vs=null),t}function Kl(t){Vs===null?Vs=[t]:Vs.push(t)}var af=w(null),zr=null,ts=null;function js(t,n,a){J(af,n._currentValue),n._currentValue=a}function ns(t){t._currentValue=af.current,B(af)}function lf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),lf(f.return,a,t),l||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),lf(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Va(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;On(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ve.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&of(n,t,a,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){zr=t,ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return rg(zr,t)}function Lu(t,n){return zr===null&&qr(t),rg(t,n)}function rg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ts===null){if(t===null)throw Error(r(308));ts=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ts=ts.next=n;return a}var qT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},BT=s.unstable_scheduleCallback,HT=s.unstable_NormalPriority,Pt={$$typeof:Ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new qT,data:new Map,refCount:0}}function Xl(t){t.refCount--,t.refCount===0&&BT(HT,function(){t.controller.abort()})}var $l=null,cf=0,ka=0,ja=null;function FT(t,n){if($l===null){var a=$l=[];cf=0,ka=dd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,n.then(ag,ag),n}function ag(){if(--cf===0&&$l!==null){ja!==null&&(ja.status="fulfilled");var t=$l;$l=null,ka=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function GT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var lg=j.S;j.S=function(t,n){Fy=Vt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&FT(t,n),lg!==null&&lg(t,n)};var Br=w(null);function hf(){var t=Br.current;return t!==null?t:mt.pooledCache}function Uu(t,n){n===null?J(Br,Br.current):J(Br,n.pool)}function og(){var t=hf();return t===null?null:{parent:Pt._currentValue,pool:t}}var La=Error(r(460)),ff=Error(r(474)),Pu=Error(r(542)),zu={then:function(){}};function ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(li,li),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fg(t),t;default:if(typeof n.status=="string")n.then(li,li);else{if(t=mt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fg(t),t}throw Fr=n,La}}function Hr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,La):a}}var Fr=null;function hg(){if(Fr===null)throw Error(r(459));var t=Fr;return Fr=null,t}function fg(t){if(t===La||t===Pu)throw Error(r(483))}var Ua=null,Jl=0;function qu(t){var n=Jl;return Jl+=1,Ua===null&&(Ua=[]),cg(Ua,t,n)}function Zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Wi(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,Y){return D===null||D.tag!==6?(D=Wh(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function N(k,D,P,Y){var ye=P.type;return ye===le?G(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Hr(ye)===D.type)?(D=h(D,P.props),Zl(D,P),D.return=k,D):(D=Vu(P.type,P.key,P.props,null,k.mode,Y),Zl(D,P),D.return=k,D)}function z(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=ef(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function G(k,D,P,Y,ye){return D===null||D.tag!==7?(D=Ur(P,k.mode,Y,ye),D.return=k,D):(D=h(D,P),D.return=k,D)}function $(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Wh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Q:return P=Vu(D.type,D.key,D.props,null,k.mode,P),Zl(P,D),P.return=k,P;case W:return D=ef(D,k.mode,P),D.return=k,D;case x:return D=Hr(D),$(k,D,P)}if(me(D)||L(D))return D=Ur(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return $(k,qu(D),P);if(D.$$typeof===Ae)return $(k,Lu(k,D),P);Bu(k,D)}return null}function q(k,D,P,Y){var ye=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:E(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ye?N(k,D,P,Y):null;case W:return P.key===ye?z(k,D,P,Y):null;case x:return P=Hr(P),q(k,D,P,Y)}if(me(P)||L(P))return ye!==null?null:G(k,D,P,Y,null);if(typeof P.then=="function")return q(k,D,qu(P),Y);if(P.$$typeof===Ae)return q(k,D,Lu(k,P),Y);Bu(k,P)}return null}function F(k,D,P,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,E(D,k,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return k=k.get(Y.key===null?P:Y.key)||null,N(D,k,Y,ye);case W:return k=k.get(Y.key===null?P:Y.key)||null,z(D,k,Y,ye);case x:return Y=Hr(Y),F(k,D,P,Y,ye)}if(me(Y)||L(Y))return k=k.get(P)||null,G(D,k,Y,ye,null);if(typeof Y.then=="function")return F(k,D,P,qu(Y),ye);if(Y.$$typeof===Ae)return F(k,D,P,Lu(D,Y),ye);Bu(D,Y)}return null}function fe(k,D,P,Y){for(var ye=null,et=null,de=D,Pe=D=0,Fe=null;de!==null&&Pe<P.length;Pe++){de.index>Pe?(Fe=de,de=null):Fe=de.sibling;var tt=q(k,de,P[Pe],Y);if(tt===null){de===null&&(de=Fe);break}t&&de&&tt.alternate===null&&n(k,de),D=f(tt,D,Pe),et===null?ye=tt:et.sibling=tt,et=tt,de=Fe}if(Pe===P.length)return a(k,de),$e&&es(k,Pe),ye;if(de===null){for(;Pe<P.length;Pe++)de=$(k,P[Pe],Y),de!==null&&(D=f(de,D,Pe),et===null?ye=de:et.sibling=de,et=de);return $e&&es(k,Pe),ye}for(de=l(de);Pe<P.length;Pe++)Fe=F(de,k,Pe,P[Pe],Y),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?Pe:Fe.key),D=f(Fe,D,Pe),et===null?ye=Fe:et.sibling=Fe,et=Fe);return t&&de.forEach(function(er){return n(k,er)}),$e&&es(k,Pe),ye}function Se(k,D,P,Y){if(P==null)throw Error(r(151));for(var ye=null,et=null,de=D,Pe=D=0,Fe=null,tt=P.next();de!==null&&!tt.done;Pe++,tt=P.next()){de.index>Pe?(Fe=de,de=null):Fe=de.sibling;var er=q(k,de,tt.value,Y);if(er===null){de===null&&(de=Fe);break}t&&de&&er.alternate===null&&n(k,de),D=f(er,D,Pe),et===null?ye=er:et.sibling=er,et=er,de=Fe}if(tt.done)return a(k,de),$e&&es(k,Pe),ye;if(de===null){for(;!tt.done;Pe++,tt=P.next())tt=$(k,tt.value,Y),tt!==null&&(D=f(tt,D,Pe),et===null?ye=tt:et.sibling=tt,et=tt);return $e&&es(k,Pe),ye}for(de=l(de);!tt.done;Pe++,tt=P.next())tt=F(de,k,Pe,tt.value,Y),tt!==null&&(t&&tt.alternate!==null&&de.delete(tt.key===null?Pe:tt.key),D=f(tt,D,Pe),et===null?ye=tt:et.sibling=tt,et=tt);return t&&de.forEach(function(nS){return n(k,nS)}),$e&&es(k,Pe),ye}function ft(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===le&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var ye=P.key;D!==null;){if(D.key===ye){if(ye=P.type,ye===le){if(D.tag===7){a(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break e}}else if(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Hr(ye)===D.type){a(k,D.sibling),Y=h(D,P.props),Zl(Y,P),Y.return=k,k=Y;break e}a(k,D);break}else n(k,D);D=D.sibling}P.type===le?(Y=Ur(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Vu(P.type,P.key,P.props,null,k.mode,Y),Zl(Y,P),Y.return=k,k=Y)}return p(k);case W:e:{for(ye=P.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break e}else{a(k,D);break}else n(k,D);D=D.sibling}Y=ef(P,k.mode,Y),Y.return=k,k=Y}return p(k);case x:return P=Hr(P),ft(k,D,P,Y)}if(me(P))return fe(k,D,P,Y);if(L(P)){if(ye=L(P),typeof ye!="function")throw Error(r(150));return P=ye.call(P),Se(k,D,P,Y)}if(typeof P.then=="function")return ft(k,D,qu(P),Y);if(P.$$typeof===Ae)return ft(k,D,Lu(k,P),Y);Bu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(a(k,D),Y=Wh(P,k.mode,Y),Y.return=k,k=Y),p(k)):a(k,D)}return function(k,D,P,Y){try{Jl=0;var ye=ft(k,D,P,Y);return Ua=null,ye}catch(de){if(de===La||de===Pu)throw de;var et=Mn(29,de,null,k.mode);return et.lanes=Y,et.return=k,et}finally{}}}var Gr=dg(!0),mg=dg(!1),Ls=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Mu(t),Jp(t,null,a),n}return Ou(t,l,n,a),Mu(t)}function Wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,xl(t,a)}}function pf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gf=!1;function eo(){if(gf){var t=ja;if(t!==null)throw t}}function to(t,n,a,l){gf=!1;var h=t.updateQueue;Ls=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,p===null?f=z:p.next=z,p=N;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=N))}if(f!==null){var $=h.baseState;p=0,G=z=N=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(He&q)===q:(l&q)===q){q!==0&&q===ka&&(gf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,Se=E;q=n;var ft=a;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){$=fe.call(ft,$,q);break e}$=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,q=typeof fe=="function"?fe.call(ft,$,q):fe,q==null)break e;$=A({},$,q);break e;case 2:Ls=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=F,N=$):G=G.next=F,p|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(N=$),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Fs|=p,t.lanes=p,t.memoizedState=$}}function pg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function gg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)pg(a[t],n)}var Pa=w(null),Hu=w(0);function yg(t,n){t=hs,J(Hu,t),J(Pa,n),hs=t|n.baseLanes}function yf(){J(Hu,hs),J(Pa,Pa.current)}function _f(){hs=Hu.current,B(Pa),B(Hu)}var Vn=w(null),Jn=null;function zs(t){var n=t.alternate;J(Ct,Ct.current&1),J(Vn,t),Jn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Jn=t)}function vf(t){J(Ct,Ct.current),J(Vn,t),Jn===null&&(Jn=t)}function _g(t){t.tag===22?(J(Ct,Ct.current),J(Vn,t),Jn===null&&(Jn=t)):qs()}function qs(){J(Ct,Ct.current),J(Vn,Vn.current)}function kn(t){B(Vn),Jn===t&&(Jn=null),B(Ct)}var Ct=w(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||xd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Le=null,ct=null,zt=null,Gu=!1,za=!1,Qr=!1,Qu=0,no=0,qa=null,QT=0;function At(){throw Error(r(321))}function bf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!On(t[a],n[a]))return!1;return!0}function Ef(t,n,a,l,h,f){return is=f,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?ty:jf,Qr=!1,f=a(l,h),Qr=!1,za&&(f=bg(n,a,l,h)),vg(t),f}function vg(t){j.H=ro;var n=ct!==null&&ct.next!==null;if(is=0,zt=ct=Le=null,Gu=!1,no=0,qa=null,n)throw Error(r(300));t===null||qt||(t=t.dependencies,t!==null&&ju(t)&&(qt=!0))}function bg(t,n,a,l){Le=t;var h=0;do{if(za&&(qa=null),no=0,za=!1,25<=h)throw Error(r(301));if(h+=1,zt=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=ny,f=n(a,l)}while(za);return f}function YT(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?io(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Le.flags|=1024),n}function Tf(){var t=Qu!==0;return Qu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}is=0,zt=ct=Le=null,za=!1,no=Qu=0,qa=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Le.memoizedState=zt=t:zt=zt.next=t,zt}function It(){if(ct===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=zt===null?Le.memoizedState:zt.next;if(n!==null)zt=n,ct=t;else{if(t===null)throw Le.alternate===null?Error(r(467)):Error(r(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?Le.memoizedState=zt=t:zt=zt.next=t}return zt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(t){var n=no;return no+=1,qa===null&&(qa=[]),t=cg(qa,t,n),n=Le,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?ty:jf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return io(t);if(t.$$typeof===Ae)return sn(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=Le.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),Le.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function ss(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=It();return xf(n,ct,t)}function xf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,N=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(He&$)===$:(is&$)===$){var q=z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===ka&&(G=!0);else if((is&q)===q){z=z.next,q===ka&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=$,p=f):N=N.next=$,Le.lanes|=q,Fs|=q;$=z.action,Qr&&a(f,$),f=z.hasEagerState?z.eagerState:a(f,$)}else q={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=q,p=f):N=N.next=q,Le.lanes|=$,Fs|=$;z=z.next}while(z!==null&&z!==n);if(N===null?p=f:N.next=E,!On(f,t.memoizedState)&&(qt=!0,G&&(a=ja,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=It(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);On(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Eg(t,n,a){var l=Le,h=It(),f=$e;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!On((ct||h).memoizedState,a);if(p&&(h.memoizedState=a,qt=!0),h=h.queue,If(Ag.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},Sg.bind(null,l,h,a,n),null),mt===null)throw Error(r(349));f||(is&127)!==0||Tg(l,n,a)}return a}function Tg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Le.updateQueue,n===null?(n=Yu(),Le.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sg(t,n,a,l){n.value=a,n.getSnapshot=l,wg(n)&&xg(t)}function Ag(t,n,a){return a(function(){wg(n)&&xg(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!On(t,a)}catch{return!0}}function xg(t){var n=Lr(t,2);n!==null&&wn(n,t,2)}function Nf(t){var n=yn();if(typeof t=="function"){var a=t;if(t=a(),Qr){qn(!0);try{a()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:t},n}function Rg(t,n,a,l){return t.baseState=a,xf(t,ct,typeof l=="function"?l:ss)}function KT(t,n,a,l,h){if(Zu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};j.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Ng(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ng(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=j.T,p={};j.T=p;try{var E=a(h,l),N=j.S;N!==null&&N(p,E),Cg(t,n,E)}catch(z){Cf(t,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),j.T=f}}else try{f=a(h,l),Cg(t,n,f)}catch(z){Cf(t,n,z)}}function Cg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ig(t,n,l)},function(l){return Cf(t,n,l)}):Ig(t,n,a)}function Ig(t,n,a){n.status="fulfilled",n.value=a,Dg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ng(t,a)))}function Cf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Dg(n),n=n.next;while(n!==l)}t.action=null}function Dg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Og(t,n){return n}function Mg(t,n){if($e){var a=mt.formState;if(a!==null){e:{var l=Le;if($e){if(gt){t:{for(var h=gt,f=$n;h.nodeType!==8;){if(!f){h=null;break t}if(h=Zn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){gt=Zn(h.nextSibling),l=h.data==="F!";break e}}ks(l)}l=!1}l&&(n=a[0])}}return a=yn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},a.queue=l,a=Zg.bind(null,Le,l),l.dispatch=a,l=Nf(!1),f=kf.bind(null,Le,!1,l.queue),l=yn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=KT.bind(null,Le,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Vg(t){var n=It();return kg(n,ct,t)}function kg(t,n,a){if(n=xf(t,n,Og)[0],t=Xu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=io(n)}catch(p){throw p===La?Pu:p}else l=n;n=It();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Le.flags|=2048,Ba(9,{destroy:void 0},XT.bind(null,h,a),null)),[l,f,t]}function XT(t,n){t.action=n}function jg(t){var n=It(),a=ct;if(a!==null)return kg(n,a,t);It(),n=n.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ba(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Le.updateQueue,n===null&&(n=Yu(),Le.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Lg(){return It().memoizedState}function $u(t,n,a,l){var h=yn();Le.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},a,l===void 0?null:l)}function Ju(t,n,a,l){var h=It();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&bf(l,ct.memoizedState.deps)?h.memoizedState=Ba(n,f,a,l):(Le.flags|=t,h.memoizedState=Ba(1|n,f,a,l))}function Ug(t,n){$u(8390656,8,t,n)}function If(t,n){Ju(2048,8,t,n)}function $T(t){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=Yu(),Le.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Pg(t){var n=It().memoizedState;return $T({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function zg(t,n){return Ju(4,2,t,n)}function qg(t,n){return Ju(4,4,t,n)}function Bg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hg(t,n,a){a=a!=null?a.concat([t]):null,Ju(4,4,Bg.bind(null,n,t),a)}function Df(){}function Fg(t,n){var a=It();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&bf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Gg(t,n){var a=It();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&bf(n,l[1]))return l[0];if(l=t(),Qr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,n],l}function Of(t,n,a){return a===void 0||(is&1073741824)!==0&&(He&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Qy(),Le.lanes|=t,Fs|=t,a)}function Qg(t,n,a,l){return On(a,n)?a:Pa.current!==null?(t=Of(t,a,l),On(t,n)||(qt=!0),t):(is&42)===0||(is&1073741824)!==0&&(He&261930)===0?(qt=!0,t.memoizedState=a):(t=Qy(),Le.lanes|=t,Fs|=t,n)}function Yg(t,n,a,l,h){var f=X.p;X.p=f!==0&&8>f?f:8;var p=j.T,E={};j.T=E,kf(t,!1,n,a);try{var N=h(),z=j.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=GT(N,l);so(t,n,G,Un(t))}else so(t,n,l,Un(t))}catch($){so(t,n,{then:function(){},status:"rejected",reason:$},Un())}finally{X.p=f,p!==null&&E.types!==null&&(p.types=E.types),j.T=p}}function JT(){}function Mf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Kg(t).queue;Yg(t,h,n,ne,a===null?JT:function(){return Xg(t),a(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ne},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xg(t){var n=Kg(t);n.next===null&&(n=t.alternate.memoizedState),so(t,n.next.queue,{},Un())}function Vf(){return sn(To)}function $g(){return It().memoizedState}function Jg(){return It().memoizedState}function ZT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();t=Us(a);var l=Ps(n,t,a);l!==null&&(wn(l,n,a),Wl(l,n,a)),n={cache:uf()},t.payload=n;return}n=n.return}}function WT(t,n,a){var l=Un();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Wg(n,a):(a=Jh(t,n,a,l),a!==null&&(wn(a,t,l),ey(a,n,l)))}function Zg(t,n,a){var l=Un();so(t,n,a,l)}function so(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Wg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,On(E,p))return Ou(t,n,h,0),mt===null&&Du(),!1}catch{}finally{}if(a=Jh(t,n,h,l),a!==null)return wn(a,t,l),ey(a,n,l),!0}return!1}function kf(t,n,a,l){if(l={lane:2,revertLane:dd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(r(479))}else n=Jh(t,a,l,2),n!==null&&wn(n,t,2)}function Zu(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function Wg(t,n){za=Gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ey(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,xl(t,a)}}var ro={readContext:sn,use:Ku,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};ro.useEffectEvent=At;var ty={readContext:sn,use:Ku,useCallback:function(t,n){return yn().memoizedState=[t,n===void 0?null:n],t},useContext:sn,useEffect:Ug,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Bg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var a=yn();n=n===void 0?null:n;var l=t();if(Qr){qn(!0);try{t()}finally{qn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=yn();if(a!==void 0){var h=a(n);if(Qr){qn(!0);try{a(n)}finally{qn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=WT.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var n=yn();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,a=Zg.bind(null,Le,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,n){var a=yn();return Of(a,t,n)},useTransition:function(){var t=Nf(!1);return t=Yg.bind(null,Le,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Le,h=yn();if($e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),mt===null)throw Error(r(349));(He&127)!==0||Tg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ug(Ag.bind(null,l,f,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},Sg.bind(null,l,f,a,n),null),a},useId:function(){var t=yn(),n=mt.identifierPrefix;if($e){var a=Li,l=ji;a=(l&~(1<<32-Rt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=QT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Vf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var n=yn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=kf.bind(null,Le,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return yn().memoizedState=ZT.bind(null,Le)},useEffectEvent:function(t){var n=yn(),a={impl:t};return n.memoizedState=a,function(){if((it&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},jf={readContext:sn,use:Ku,useCallback:Fg,useContext:sn,useEffect:If,useImperativeHandle:Hg,useInsertionEffect:zg,useLayoutEffect:qg,useMemo:Gg,useReducer:Xu,useRef:Lg,useState:function(){return Xu(ss)},useDebugValue:Df,useDeferredValue:function(t,n){var a=It();return Qg(a,ct.memoizedState,t,n)},useTransition:function(){var t=Xu(ss)[0],n=It().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:Vf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var a=It();return Rg(a,ct,t,n)},useMemoCache:wf,useCacheRefresh:Jg};jf.useEffectEvent=Pg;var ny={readContext:sn,use:Ku,useCallback:Fg,useContext:sn,useEffect:If,useImperativeHandle:Hg,useInsertionEffect:zg,useLayoutEffect:qg,useMemo:Gg,useReducer:Rf,useRef:Lg,useState:function(){return Rf(ss)},useDebugValue:Df,useDeferredValue:function(t,n){var a=It();return ct===null?Of(a,t,n):Qg(a,ct.memoizedState,t,n)},useTransition:function(){var t=Rf(ss)[0],n=It().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:Eg,useId:$g,useHostTransitionStatus:Vf,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var a=It();return ct!==null?Rg(a,ct,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Jg};ny.useEffectEvent=Pg;function Lf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Un(),h=Us(l);h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,l),n!==null&&(wn(n,t,l),Wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Un(),h=Us(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ps(t,h,l),n!==null&&(wn(n,t,l),Wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Un(),l=Us(a);l.tag=2,n!=null&&(l.callback=n),n=Ps(t,l,a),n!==null&&(wn(n,t,a),Wl(n,t,a))}};function iy(t,n,a,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Gl(a,l)||!Gl(h,f):!0}function sy(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Uf.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ry(t){Iu(t)}function ay(t){console.error(t)}function ly(t){Iu(t)}function Wu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function oy(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,n,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,n)},a}function uy(t){return t=Us(t),t.tag=3,t}function cy(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){oy(n,a,l)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){oy(n,a,l),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function e1(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Va(n,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?hc():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),cd(t,l,h)),!1;case 22:return a.flags|=65536,l===zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),cd(t,l,h)),!1}throw Error(r(435,a.tag))}return cd(t,l,h),hc(),!1}if($e)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==sf&&(t=Error(r(422),{cause:l}),Kl(Yn(t,a)))):(l!==sf&&(n=Error(r(423),{cause:l}),Kl(Yn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Yn(l,a),h=Pf(t.stateNode,l,h),pf(t,h),wt!==4&&(wt=2)),!1;var f=Error(r(520),{cause:l});if(f=Yn(f,a),mo===null?mo=[f]:mo.push(f),wt!==4&&(wt=2),n===null)return!0;l=Yn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pf(a.stateNode,l,t),pf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,l),pf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(r(461)),qt=!1;function rn(t,n,a,l){n.child=t===null?mg(n,null,a,l):Gr(n,t.child,a,l)}function hy(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return qr(n),l=Ef(t,n,a,p,f,h),E=Tf(),t!==null&&!qt?(Sf(t,n,h),rs(t,n,h)):($e&&E&&tf(n),n.flags|=1,rn(t,n,l,h),n.child)}function fy(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,dy(t,n,f,l,h)):(t=Vu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Gl,a(p,l)&&t.ref===n.ref)return rs(t,n,h)}return n.flags|=1,t=Wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function dy(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(Gl(f,l)&&t.ref===n.ref)if(qt=!1,n.pendingProps=l=f,Kf(t,h))(t.flags&131072)!==0&&(qt=!0);else return n.lanes=t.lanes,rs(t,n,h)}return qf(t,n,a,l,h)}function my(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return py(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?yg(n,f):yf(),_g(n);else return l=n.lanes=536870912,py(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Uu(n,f.cachePool),yg(n,f),qs(),n.memoizedState=null):(t!==null&&Uu(n,null),yf(),qs());return rn(t,n,h,a),n.child}function ao(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function py(t,n,a,l,h){var f=hf();return f=f===null?null:{parent:Pt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Uu(n,null),yf(),_g(n),t!==null&&Va(t,n,l,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function gy(t,n,a){return Gr(n,t.child,null,a),t=ec(n,n.pendingProps),t.flags|=2,kn(n),n.memoizedState=null,t}function t1(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if($e){if(l.mode==="hidden")return t=ec(n,l),n.lanes=536870912,ao(null,t);if(vf(n),(t=gt)?(t=N_(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:ji,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=Wp(t),a.return=n,n.child=a,nn=n,gt=null)):t=null,t===null)throw ks(n);return n.lanes=536870912,null}return ec(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(vf(n),h)if(n.flags&256)n.flags&=-257,n=gy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(qt||Va(t,n,a,!1),h=(a&t.childLanes)!==0,qt||h){if(l=mt,l!==null&&(p=Rl(l,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Lr(t,p),wn(l,t,p),zf;hc(),n=gy(t,n,a)}else t=f.treeContext,gt=Zn(p.nextSibling),nn=n,$e=!0,Vs=null,$n=!1,t!==null&&ng(n,t),n=ec(n,l),n.flags|=4096;return n}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function qf(t,n,a,l,h){return qr(n),a=Ef(t,n,a,l,void 0,h),l=Tf(),t!==null&&!qt?(Sf(t,n,h),rs(t,n,h)):($e&&l&&tf(n),n.flags|=1,rn(t,n,a,h),n.child)}function yy(t,n,a,l,h,f){return qr(n),n.updateQueue=null,a=bg(n,l,a,h),vg(t),l=Tf(),t!==null&&!qt?(Sf(t,n,f),rs(t,n,f)):($e&&l&&tf(n),n.flags|=1,rn(t,n,a,f),n.child)}function _y(t,n,a,l,h){if(qr(n),n.stateNode===null){var f=Ia,p=a.contextType;typeof p=="object"&&p!==null&&(f=sn(p)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},df(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?sn(p):Ia,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Lf(n,a,p,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),to(n,l,f,h),eo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Yr(a,E);f.props=N;var z=f.context,G=a.contextType;p=Ia,typeof G=="object"&&G!==null&&(p=sn(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&sy(n,f,l,p),Ls=!1;var q=n.memoizedState;f.state=q,to(n,l,f,h),eo(),z=n.memoizedState,E||q!==z||Ls?(typeof $=="function"&&(Lf(n,a,$,l),z=n.memoizedState),(N=Ls||iy(n,a,N,l,q,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=p,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mf(t,n),p=n.memoizedProps,G=Yr(a,p),f.props=G,$=n.pendingProps,q=f.context,z=a.contextType,N=Ia,typeof z=="object"&&z!==null&&(N=sn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||q!==N)&&sy(n,f,l,N),Ls=!1,q=n.memoizedState,f.state=q,to(n,l,f,h),eo();var F=n.memoizedState;p!==$||q!==F||Ls||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Lf(n,a,E,l),F=n.memoizedState),(G=Ls||iy(n,a,G,l,q,F,N)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,tc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Gr(n,t.child,null,h),n.child=Gr(n,null,a,h)):rn(t,n,a,h),n.memoizedState=f.state,t=n.child):t=rs(t,n,h),t}function vy(t,n,a,l){return Pr(),n.flags|=256,rn(t,n,a,l),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:og()}}function Ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Ln),t}function by(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if($e){if(h?zs(n):qs(),(t=gt)?(t=N_(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:ji,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=Wp(t),a.return=n,n.child=a,nn=n,gt=null)):t=null,t===null)throw ks(n);return xd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(qs(),h=n.mode,E=nc({mode:"hidden",children:E},h),l=Ur(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Hf(a),l.childLanes=Ff(t,p,a),n.memoizedState=Bf,ao(null,l)):(zs(n),Gf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=Qf(t,n,a)):n.memoizedState!==null?(qs(),n.child=t.child,n.flags|=128,n=null):(qs(),E=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),E=Ur(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Gr(n,t.child,null,a),l=n.child,l.memoizedState=Hf(a),l.childLanes=Ff(t,p,a),n.memoizedState=Bf,n=ao(null,l));else if(zs(n),xd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,l=Error(r(419)),l.stack="",l.digest=p,Kl({value:l,source:null,stack:null}),n=Qf(t,n,a)}else if(qt||Va(t,n,a,!1),p=(a&t.childLanes)!==0,qt||p){if(p=mt,p!==null&&(l=Rl(p,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Lr(t,l),wn(p,t,l),zf;wd(E)||hc(),n=Qf(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,gt=Zn(E.nextSibling),nn=n,$e=!0,Vs=null,$n=!1,t!==null&&ng(n,t),n=Gf(n,l.children),n.flags|=4096);return n}return h?(qs(),E=l.fallback,h=n.mode,N=t.child,z=N.sibling,l=Wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=Wi(z,E):(E=Ur(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,ao(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Hf(a):(h=E.cachePool,h!==null?(N=Pt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=og(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Ff(t,p,a),n.memoizedState=Bf,ao(t.child,l)):(zs(n),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Gf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Qf(t,n,a){return Gr(n,t.child,null,a),t=Gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ey(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),lf(t.return,n,a)}function Yf(t,n,a,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function Ty(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Ct.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,J(Ct,p),rn(t,n,l,a),l=$e?Yl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,a,n);else if(t.tag===19)Ey(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Fu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Yf(n,!0,a,null,f,l);break;case"together":Yf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function rs(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Fs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Va(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function n1(t,n,a){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),js(n,Pt,t.memoizedState.cache),Pr();break;case 27:case 5:Ot(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,vf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?by(t,n,a):(zs(n),t=rs(t,n,a),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Va(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ty(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ct,Ct.current),l)break;return null;case 22:return n.lanes=0,my(t,n,a,n.pendingProps);case 24:js(n,Pt,t.memoizedState.cache)}return rs(t,n,a)}function Sy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)qt=!0;else{if(!Kf(t,a)&&(n.flags&128)===0)return qt=!1,n1(t,n,a);qt=(t.flags&131072)!==0}else qt=!1,$e&&(n.flags&1048576)!==0&&tg(n,Yl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Hr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=Yr(t,l),n.tag=1,n=_y(null,n,t,l,a)):(n.tag=0,n=qf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===st){n.tag=11,n=hy(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=fy(null,n,t,l,a);break e}}throw n=ue(t)||t,Error(r(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Yr(l,n.pendingProps),_y(t,n,l,h,a);case 3:e:{if(Ee(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,mf(t,n),to(n,l,null,a);var p=n.memoizedState;if(l=p.cache,js(n,Pt,l),l!==f.cache&&of(n,[Pt],a,!0),eo(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vy(t,n,l,a);break e}else if(l!==h){h=Yn(Error(r(424)),n),Kl(h),n=vy(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=Zn(t.firstChild),nn=n,$e=!0,Vs=null,$n=!0,a=mg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Pr(),l===h){n=rs(t,n,a);break e}rn(t,n,l,a)}n=n.child}return n;case 26:return tc(t,n),t===null?(a=V_(n.type,null,n.pendingProps,null))?n.memoizedState=a:$e||(a=n.type,t=n.pendingProps,l=_c(ge.current).createElement(a),l[jt]=n,l[Xt]=t,an(l,a,t),Lt(l),n.stateNode=l):n.memoizedState=V_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ot(n),t===null&&$e&&(l=n.stateNode=D_(n.type,n.pendingProps,ge.current),nn=n,$n=!0,h=gt,Xs(n.type)?(Rd=h,gt=Zn(l.firstChild)):gt=h),rn(t,n,n.pendingProps.children,a),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&$e&&((h=l=gt)&&(l=O1(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,nn=n,gt=Zn(l.firstChild),$n=!1,h=!0):h=!1),h||ks(n)),Ot(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Td(h,f)?l=null:p!==null&&Td(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,YT,null,null,a),To._currentValue=h),tc(t,n),rn(t,n,l,a),n.child;case 6:return t===null&&$e&&((t=a=gt)&&(a=M1(a,n.pendingProps,$n),a!==null?(n.stateNode=a,nn=n,gt=null,t=!0):t=!1),t||ks(n)),null;case 13:return by(t,n,a);case 4:return Ee(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Gr(n,null,l,a):rn(t,n,l,a),n.child;case 11:return hy(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,js(n,n.type,l.value),rn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,qr(n),h=sn(h),l=l(h),n.flags|=1,rn(t,n,l,a),n.child;case 14:return fy(t,n,n.type,n.pendingProps,a);case 15:return dy(t,n,n.type,n.pendingProps,a);case 19:return Ty(t,n,a);case 31:return t1(t,n,a);case 22:return my(t,n,a,n.pendingProps);case 24:return qr(n),l=sn(Pt),t===null?(h=hf(),h===null&&(h=mt,f=uf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},df(n),js(n,Pt,h)):((t.lanes&a)!==0&&(mf(t,n),to(n,null,null,a),eo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Pt,l)):(l=f.cache,js(n,Pt,l),l!==h.cache&&of(n,[Pt],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function as(t){t.flags|=4}function Xf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw Fr=zu,ff}else t.flags&=-16777217}function Ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P_(n))if($y())t.flags|=8192;else throw Fr=zu,ff}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,Qa|=n)}function lo(t,n){if(!$e)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function i1(t,n,a){var l=n.pendingProps;switch(nf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ns(Pt),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(n)?as(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),yt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(as(n),f!==null?(yt(n),Ay(n,f)):(yt(n),Xf(n,h,null,l,a))):f?f!==t.memoizedState?(as(n),yt(n),Ay(n,f)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&as(n),yt(n),Xf(n,h,t,l,a)),null;case 27:if(Mt(n),a=ge.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&as(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return yt(n),null}t=ee.current,Ma(n)?ig(n):(t=D_(h,l,a),n.stateNode=t,as(n))}return yt(n),null;case 5:if(Mt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&as(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return yt(n),null}if(f=ee.current,Ma(n))ig(n);else{var p=_c(ge.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[jt]=n,f[Xt]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(an(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&as(n)}}return yt(n),Xf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&as(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=ge.current,Ma(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[jt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||b_(t.nodeValue,a)),t||ks(n,!0)}else t=_c(t).createTextNode(l),t[jt]=n,n.stateNode=t}return yt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[jt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else a=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(kn(n),n):(kn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return yt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(kn(n),n):(kn(n),null)}return kn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),yt(n),null);case 4:return Ne(),t===null&&yd(n.stateNode.containerInfo),yt(n),null;case 10:return ns(n.type),yt(n),null;case 19:if(B(Ct),l=n.memoizedState,l===null)return yt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)lo(l,!1);else{if(wt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fu(t),f!==null){for(n.flags|=128,lo(l,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Zp(a,t),a=a.sibling;return J(Ct,Ct.current&1|2),$e&&es(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Vt()>oc&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!$e)return yt(n),null}else 2*Vt()-l.renderingStartTime>oc&&a!==536870912&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Vt(),t.sibling=null,a=Ct.current,J(Ct,h?a&1|2:a&1),$e&&es(n,l.treeForkCount),t):(yt(n),null);case 22:case 23:return kn(n),_f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&B(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ns(Pt),yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function s1(t,n){switch(nf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ns(Pt),Ne(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Mt(n),null;case 31:if(n.memoizedState!==null){if(kn(n),n.alternate===null)throw Error(r(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return B(Ct),null;case 4:return Ne(),null;case 10:return ns(n.type),null;case 22:case 23:return kn(n),_f(),t!==null&&B(Br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ns(Pt),null;case 25:return null;default:return null}}function wy(t,n){switch(nf(n),n.tag){case 3:ns(Pt),Ne();break;case 26:case 27:case 5:Mt(n);break;case 4:Ne();break;case 31:n.memoizedState!==null&&kn(n);break;case 13:kn(n);break;case 19:B(Ct);break;case 10:ns(n.type);break;case 22:case 23:kn(n),_f(),t!==null&&B(Br);break;case 24:ns(Pt)}}function oo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,p=a.inst;l=f(),p.destroy=l}a=a.next}while(a!==h)}}catch(E){ot(n,n.return,E)}}function Bs(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var N=a,z=E;try{z()}catch(G){ot(h,N,G)}}}l=l.next}while(l!==f)}}catch(G){ot(n,n.return,G)}}function xy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{gg(n,a)}catch(l){ot(t,t.return,l)}}}function Ry(t,n,a){a.props=Yr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ot(t,n,l)}}function uo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ot(t,n,h)}}function Ui(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ot(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ot(t,n,h)}else a.current=null}function Ny(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ot(t,t.return,h)}}function $f(t,n,a){try{var l=t.stateNode;x1(l,t.type,a,n),l[Xt]=n}catch(h){ot(t,t.return,h)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=li));else if(l!==4&&(l===27&&Xs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zf(t,n,a),t=t.sibling;t!==null;)Zf(t,n,a),t=t.sibling}function sc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Xs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(sc(t,n,a),t=t.sibling;t!==null;)sc(t,n,a),t=t.sibling}function Iy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,l,a),n[jt]=t,n[Xt]=a}catch(f){ot(t,t.return,f)}}var ls=!1,Bt=!1,Wf=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function r1(t,n){if(t=t.containerInfo,bd=wc,t=Hp(t),Gh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,E=-1,N=-1,z=0,G=0,$=t,q=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(E=p+h),$!==f||l!==0&&$.nodeType!==3||(N=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===a&&++z===h&&(E=p),q===f&&++G===l&&(N=p),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:t,selectionRange:a},wc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var fe=Yr(a.type,h);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ot(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function Oy(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:us(t,a),l&4&&oo(5,a);break;case 1:if(us(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){ot(a,a.return,p)}else{var h=Yr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ot(a,a.return,p)}}l&64&&xy(a),l&512&&uo(a,a.return);break;case 3:if(us(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{gg(t,n)}catch(p){ot(a,a.return,p)}}break;case 27:n===null&&l&4&&Iy(a);case 26:case 5:us(t,a),n===null&&l&4&&Ny(a),l&512&&uo(a,a.return);break;case 12:us(t,a);break;case 31:us(t,a),l&4&&ky(t,a);break;case 13:us(t,a),l&4&&jy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=m1.bind(null,a),V1(t,a))));break;case 22:if(l=a.memoizedState!==null||ls,!l){n=n!==null&&n.memoizedState!==null||Bt,h=ls;var f=Bt;ls=l,(Bt=n)&&!f?cs(t,a,(a.subtreeFlags&8772)!==0):us(t,a),ls=h,Bt=f}break;case 30:break;default:us(t,a)}}function My(t){var n=t.alternate;n!==null&&(t.alternate=null,My(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ga(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,En=!1;function os(t,n,a){for(a=a.child;a!==null;)Vy(t,n,a),a=a.sibling}function Vy(t,n,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 26:Bt||Ui(a,n),os(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Ui(a,n);var l=bt,h=En;Xs(a.type)&&(bt=a.stateNode,En=!1),os(t,n,a),vo(a.stateNode),bt=l,En=h;break;case 5:Bt||Ui(a,n);case 6:if(l=bt,h=En,bt=null,os(t,n,a),bt=l,En=h,bt!==null)if(En)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(a.stateNode)}catch(f){ot(a,n,f)}else try{bt.removeChild(a.stateNode)}catch(f){ot(a,n,f)}break;case 18:bt!==null&&(En?(t=bt,x_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),el(t)):x_(bt,a.stateNode));break;case 4:l=bt,h=En,bt=a.stateNode.containerInfo,En=!0,os(t,n,a),bt=l,En=h;break;case 0:case 11:case 14:case 15:Bs(2,a,n),Bt||Bs(4,a,n),os(t,n,a);break;case 1:Bt||(Ui(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ry(a,n,l)),os(t,n,a);break;case 21:os(t,n,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,os(t,n,a),Bt=l;break;default:os(t,n,a)}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{el(t)}catch(a){ot(n,n.return,a)}}}function jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{el(t)}catch(a){ot(n,n.return,a)}}function a1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dy),n;default:throw Error(r(435,t.tag))}}function rc(t,n){var a=a1(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=p1.bind(null,t,l);l.then(h,h)}})}function Tn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){bt=E.stateNode,En=!1;break e}break;case 5:bt=E.stateNode,En=!1;break e;case 3:case 4:bt=E.stateNode.containerInfo,En=!0;break e}E=E.return}if(bt===null)throw Error(r(160));Vy(f,p,h),bt=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ly(n,t),n=n.sibling}var di=null;function Ly(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),Sn(t),l&4&&(Bs(3,t,t.return),oo(3,t),Bs(5,t,t.return));break;case 1:Tn(n,t),Sn(t),l&512&&(Bt||a===null||Ui(a,a.return)),l&64&&ls&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=di;if(Tn(n,t),Sn(t),l&512&&(Bt||a===null||Ui(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[jt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,l,a),f[jt]=t,Lt(f),l=f;break e;case"link":var p=L_("link","href",h).get(l+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(l),an(f,l,a),h.head.appendChild(f);break;case"meta":if(p=L_("meta","content",h).get(l+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}f=h.createElement(l),an(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[jt]=t,Lt(f),l=f}t.stateNode=l}else U_(h,t.type,t.stateNode);else t.stateNode=j_(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?U_(h,t.type,t.stateNode):j_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(n,t),Sn(t),l&512&&(Bt||a===null||Ui(a,a.return)),a!==null&&l&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(n,t),Sn(t),l&512&&(Bt||a===null||Ui(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(fe){ot(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(Tn(n,t),Sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){ot(t,t.return,fe)}}break;case 3:if(Ec=null,h=di,di=vc(n.containerInfo),Tn(n,t),di=h,Sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(fe){ot(t,t.return,fe)}Wf&&(Wf=!1,Uy(t));break;case 4:l=di,di=vc(t.stateNode.containerInfo),Tn(n,t),Sn(t),di=l;break;case 12:Tn(n,t),Sn(t);break;case 31:Tn(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:Tn(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lc=Vt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=ls,G=Bt;if(ls=z||h,Bt=G||N,Tn(n,t),Bt=G,ls=z,Sn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||ls||Bt||Kr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var $=N.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){ot(N,N.return,fe)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){ot(N,N.return,fe)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?R_(F,!0):R_(N.stateNode,!1)}catch(fe){ot(N,N.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rc(t,a))));break;case 19:Tn(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:Tn(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Cy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(t);sc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(bn(p,""),a.flags&=-33);var E=Jf(t);sc(t,E,p);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Jf(t);Zf(t,z,N);break;default:throw Error(r(161))}}catch(G){ot(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function us(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Oy(t,n.alternate,n),n=n.sibling}function Kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Kr(n);break;case 1:Ui(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ry(n,n.return,a),Kr(n);break;case 27:vo(n.stateNode);case 26:case 5:Ui(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}t=t.sibling}}function cs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,a),oo(4,f);break;case 1:if(cs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ot(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)pg(N[h],E)}catch(z){ot(l,l.return,z)}}a&&p&64&&xy(f),uo(f,f.return);break;case 27:Iy(f);case 26:case 5:cs(h,f,a),a&&l===null&&p&4&&Ny(f),uo(f,f.return);break;case 12:cs(h,f,a);break;case 31:cs(h,f,a),a&&p&4&&ky(h,f);break;case 13:cs(h,f,a),a&&p&4&&jy(h,f);break;case 22:f.memoizedState===null&&cs(h,f,a),uo(f,f.return);break;case 30:break;default:cs(h,f,a)}n=n.sibling}}function ed(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xl(a))}function td(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t))}function mi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(t,n,a,l),n=n.sibling}function Py(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:mi(t,n,a,l),h&2048&&oo(9,n);break;case 1:mi(t,n,a,l);break;case 3:mi(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t)));break;case 12:if(h&2048){mi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){ot(n,n.return,N)}}else mi(t,n,a,l);break;case 31:mi(t,n,a,l);break;case 13:mi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?mi(t,n,a,l):co(t,n):f._visibility&2?mi(t,n,a,l):(f._visibility|=2,Ha(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ed(p,n);break;case 24:mi(t,n,a,l),h&2048&&td(n.alternate,n);break;default:mi(t,n,a,l)}}function Ha(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=a,N=l,z=p.flags;switch(p.tag){case 0:case 11:case 15:Ha(f,p,E,N,h),oo(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ha(f,p,E,N,h):co(f,p):(G._visibility|=2,Ha(f,p,E,N,h)),h&&z&2048&&ed(p.alternate,p);break;case 24:Ha(f,p,E,N,h),h&&z&2048&&td(p.alternate,p);break;default:Ha(f,p,E,N,h)}n=n.sibling}}function co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:co(a,l),h&2048&&ed(l.alternate,l);break;case 24:co(a,l),h&2048&&td(l.alternate,l);break;default:co(a,l)}n=n.sibling}}var ho=8192;function Fa(t,n,a){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)zy(t,n,a),t=t.sibling}function zy(t,n,a){switch(t.tag){case 26:Fa(t,n,a),t.flags&ho&&t.memoizedState!==null&&Q1(a,di,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,n,a);break;case 3:case 4:var l=di;di=vc(t.stateNode.containerInfo),Fa(t,n,a),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ho,ho=16777216,Fa(t,n,a),ho=l):Fa(t,n,a));break;default:Fa(t,n,a)}}function qy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,Hy(l,t)}qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:fo(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:fo(t);break;case 12:fo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):fo(t);break;default:fo(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,Hy(l,t)}qy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function Hy(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:Bs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var h=l.sibling,f=l.return;if(My(l),l===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var l1={getCacheForType:function(t){var n=sn(Pt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return sn(Pt).controller.signal}},o1=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,qe=null,He=0,lt=0,jn=null,Hs=!1,Ga=!1,nd=!1,hs=0,wt=0,Fs=0,Xr=0,id=0,Ln=0,Qa=0,mo=null,An=null,sd=!1,lc=0,Fy=0,oc=1/0,uc=null,Gs=null,Qt=0,Qs=null,Ya=null,fs=0,rd=0,ad=null,Gy=null,po=0,ld=null;function Un(){return(it&2)!==0&&He!==0?He&-He:j.T!==null?dd():cu()}function Qy(){if(Ln===0)if((He&536870912)===0||$e){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Ln=t}else Ln=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Ln}function wn(t,n,a){(t===mt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Ys(t,He,Ln,!1)),Sr(t,a),((it&2)===0||t!==mt)&&(t===mt&&((it&2)===0&&(Xr|=a),wt===4&&Ys(t,He,Ln,!1)),Pi(t))}function Yy(t,n,a){if((it&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||si(t,n),h=l?h1(t,n):ud(t,n,!0),f=l;do{if(h===0){Ga&&!l&&Ys(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!u1(a)){h=ud(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=mo;var N=E.current.memoizedState.isDehydrated;if(N&&(Ka(E,p).flags|=256),p=ud(E,p,!1),p!==2){if(nd&&!N){E.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break e}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),Ys(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ys(l,n,Ln,!Hs);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=lc+300-Vt(),10<h)){if(Ys(l,n,Ln,!Hs),Ei(l,0,!0)!==0)break e;fs=n,l.timeoutHandle=A_(Ky.bind(null,l,a,An,uc,sd,n,Ln,Xr,Qa,Hs,f,"Throttled",-0,0),h);break e}Ky(l,a,An,uc,sd,n,Ln,Xr,Qa,Hs,f,null,-0,0)}}break}while(!0);Pi(t)}function Ky(t,n,a,l,h,f,p,E,N,z,G,$,q,F){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},zy(n,f,$);var fe=(f&62914560)===f?lc-Vt():(f&4194048)===f?Fy-Vt():0;if(fe=Y1($,fe),fe!==null){fs=f,t.cancelPendingCommit=fe(n_.bind(null,t,n,f,a,l,h,p,E,N,G,$,null,q,F)),Ys(t,f,p,!z);return}}n_(t,n,f,a,l,h,p,E,N)}function u1(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!On(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,a,l){n&=~id,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Rt(h),p=1<<f;l[f]=-1,h&=~p}a!==0&&Ar(t,a,n)}function cc(){return(it&6)===0?(go(0),!1):!0}function od(){if(qe!==null){if(lt===0)var t=qe.return;else t=qe,ts=zr=null,Af(t),Ua=null,Jl=0,t=qe;for(;t!==null;)wy(t.alternate,t),t=t.return;qe=null}}function Ka(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,C1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fs=0,od(),mt=t,qe=a=Wi(t.current,null),He=n,lt=0,jn=null,Hs=!1,Ga=si(t,n),nd=!1,Qa=Ln=id=Xr=Fs=wt=0,An=mo=null,sd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Rt(l),f=1<<h;n|=t[h],l&=~f}return hs=n,Du(),a}function Xy(t,n){Le=null,j.H=ro,n===La||n===Pu?(n=hg(),lt=3):n===ff?(n=hg(),lt=4):lt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,qe===null&&(wt=1,Wu(t,Yn(n,t.current)))}function $y(){var t=Vn.current;return t===null?!0:(He&4194048)===He?Jn===null:(He&62914560)===He||(He&536870912)!==0?t===Jn:!1}function Jy(){var t=j.H;return j.H=ro,t===null?ro:t}function Zy(){var t=j.A;return j.A=l1,t}function hc(){wt=4,Hs||(He&4194048)!==He&&Vn.current!==null||(Ga=!0),(Fs&134217727)===0&&(Xr&134217727)===0||mt===null||Ys(mt,He,Ln,!1)}function ud(t,n,a){var l=it;it|=2;var h=Jy(),f=Zy();(mt!==t||He!==n)&&(uc=null,Ka(t,n)),n=!1;var p=wt;e:do try{if(lt!==0&&qe!==null){var E=qe,N=jn;switch(lt){case 8:od(),p=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=lt;if(lt=0,jn=null,Xa(t,E,N,z),a&&Ga){p=0;break e}break;default:z=lt,lt=0,jn=null,Xa(t,E,N,z)}}c1(),p=wt;break}catch(G){Xy(t,G)}while(!0);return n&&t.shellSuspendCounter++,ts=zr=null,it=l,j.H=h,j.A=f,qe===null&&(mt=null,He=0,Du()),p}function c1(){for(;qe!==null;)Wy(qe)}function h1(t,n){var a=it;it|=2;var l=Jy(),h=Zy();mt!==t||He!==n?(uc=null,oc=Vt()+500,Ka(t,n)):Ga=si(t,n);e:do try{if(lt!==0&&qe!==null){n=qe;var f=jn;t:switch(lt){case 1:lt=0,jn=null,Xa(t,n,f,1);break;case 2:case 9:if(ug(f)){lt=0,jn=null,e_(n);break}n=function(){lt!==2&&lt!==9||mt!==t||(lt=7),Pi(t)},f.then(n,n);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:ug(f)?(lt=0,jn=null,e_(n)):(lt=0,jn=null,Xa(t,n,f,7));break;case 5:var p=null;switch(qe.tag){case 26:p=qe.memoizedState;case 5:case 27:var E=qe;if(p?P_(p):E.stateNode.complete){lt=0,jn=null;var N=E.sibling;if(N!==null)qe=N;else{var z=E.return;z!==null?(qe=z,fc(z)):qe=null}break t}}lt=0,jn=null,Xa(t,n,f,5);break;case 6:lt=0,jn=null,Xa(t,n,f,6);break;case 8:od(),wt=6;break e;default:throw Error(r(462))}}f1();break}catch(G){Xy(t,G)}while(!0);return ts=zr=null,j.H=l,j.A=h,it=a,qe!==null?0:(mt=null,He=0,Du(),wt)}function f1(){for(;qe!==null&&!St();)Wy(qe)}function Wy(t){var n=Sy(t.alternate,t,hs);t.memoizedProps=t.pendingProps,n===null?fc(t):qe=n}function e_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=yy(a,n,n.pendingProps,n.type,void 0,He);break;case 11:n=yy(a,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:Af(n);default:wy(a,n),n=qe=Zp(n,hs),n=Sy(a,n,hs)}t.memoizedProps=t.pendingProps,n===null?fc(t):qe=n}function Xa(t,n,a,l){ts=zr=null,Af(n),Ua=null,Jl=0;var h=n.return;try{if(e1(t,h,n,a,He)){wt=1,Wu(t,Yn(a,t.current)),qe=null;return}}catch(f){if(h!==null)throw qe=h,f;wt=1,Wu(t,Yn(a,t.current)),qe=null;return}n.flags&32768?($e||l===1?t=!0:Ga||(He&536870912)!==0?t=!1:(Hs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){t_(n,Hs);return}t=n.return;var a=i1(n.alternate,n,hs);if(a!==null){qe=a;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=t}while(n!==null);wt===0&&(wt=5)}function t_(t,n){do{var a=s1(t.alternate,t);if(a!==null){a.flags&=32767,qe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){qe=t;return}qe=t=a}while(t!==null);wt=6,qe=null}function n_(t,n,a,l,h,f,p,E,N){t.cancelPendingCommit=null;do dc();while(Qt!==0);if((it&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=$h,qh(t,a,f,p,E,N),t===mt&&(qe=mt=null,He=0),Ya=n,Qs=t,fs=a,rd=f,ad=h,Gy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,g1(zn,function(){return l_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,h=X.p,X.p=2,p=it,it|=4;try{r1(t,n,a)}finally{it=p,X.p=h,j.T=l}}Qt=1,i_(),s_(),r_()}}function i_(){if(Qt===1){Qt=0;var t=Qs,n=Ya,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=X.p;X.p=2;var h=it;it|=4;try{Ly(n,t);var f=Ed,p=Hp(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Bp(E.ownerDocument.documentElement,E)){if(N!==null&&Gh(E)){var z=N.start,G=N.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),fe=E.textContent.length,Se=Math.min(N.start,fe),ft=N.end===void 0?Se:Math.min(N.end,fe);!F.extend&&Se>ft&&(p=ft,ft=Se,Se=p);var k=qp(E,Se),D=qp(E,ft);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var P=$.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),Se>ft?(F.addRange(P),F.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),F.addRange(P))}}}}for($=[],F=E;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}wc=!!bd,Ed=bd=null}finally{it=h,X.p=l,j.T=a}}t.current=n,Qt=2}}function s_(){if(Qt===2){Qt=0;var t=Qs,n=Ya,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=X.p;X.p=2;var h=it;it|=4;try{Oy(t,n.alternate,n)}finally{it=h,X.p=l,j.T=a}}Qt=3}}function r_(){if(Qt===4||Qt===3){Qt=0,Et();var t=Qs,n=Ya,a=fs,l=Gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,Ya=Qs=null,a_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),Xi(a),n=n.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ii,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,h=X.p,X.p=2,j.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{j.T=n,X.p=h}}(fs&3)!==0&&dc(),Pi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ld?po++:(po=0,ld=t):po=0,go(0)}}function a_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xl(n)))}function dc(){return i_(),s_(),r_(),l_()}function l_(){if(Qt!==5)return!1;var t=Qs,n=rd;rd=0;var a=Xi(fs),l=j.T,h=X.p;try{X.p=32>a?32:a,j.T=null,a=ad,ad=null;var f=Qs,p=fs;if(Qt=0,Ya=Qs=null,fs=0,(it&6)!==0)throw Error(r(331));var E=it;if(it|=4,By(f.current),Py(f,f.current,p,a),it=E,go(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ii,f)}catch{}return!0}finally{X.p=h,j.T=l,a_(t,n)}}function o_(t,n,a){n=Yn(a,n),n=Pf(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Sr(t,2),Pi(t))}function ot(t,n,a){if(t.tag===3)o_(t,t,a);else for(;n!==null;){if(n.tag===3){o_(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){t=Yn(a,t),a=uy(2),l=Ps(n,a,2),l!==null&&(cy(a,l,n,t),Sr(l,2),Pi(l));break}}n=n.return}}function cd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new o1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(nd=!0,h.add(a),t=d1.bind(null,t,n,a),n.then(t,t))}function d1(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,mt===t&&(He&a)===a&&(wt===4||wt===3&&(He&62914560)===He&&300>Vt()-lc?(it&2)===0&&Ka(t,0):id|=a,Qa===He&&(Qa=0)),Pi(t)}function u_(t,n){n===0&&(n=uu()),t=Lr(t,n),t!==null&&(Sr(t,n),Pi(t))}function m1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),u_(t,a)}function p1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),u_(t,a)}function g1(t,n){return Ue(t,n)}var mc=null,$a=null,hd=!1,pc=!1,fd=!1,Ks=0;function Pi(t){t!==$a&&t.next===null&&($a===null?mc=$a=t:$a=$a.next=t),pc=!0,hd||(hd=!0,_1())}function go(t,n){if(!fd&&pc){fd=!0;do for(var a=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Rt(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,d_(l,f))}else f=He,f=Ei(l,l===mt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||si(l,f)||(a=!0,d_(l,f));l=l.next}while(a);fd=!1}}function y1(){c_()}function c_(){pc=hd=!1;var t=0;Ks!==0&&N1()&&(t=Ks);for(var n=Vt(),a=null,l=mc;l!==null;){var h=l.next,f=h_(l,n);f===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&($a=a)):(a=l,(t!==0||(f&3)!==0)&&(pc=!0)),l=h}Qt!==0&&Qt!==5||go(t),Ks!==0&&(Ks=0)}function h_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Rt(f),E=1<<p,N=h[p];N===-1?((E&a)===0||(E&l)!==0)&&(h[p]=zh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=mt,a=He,a=Ei(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Kt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||si(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Kt(l),Xi(a)){case 2:case 8:a=Cn;break;case 32:a=zn;break;case 268435456:a=ha;break;default:a=zn}return l=f_.bind(null,t),a=Ue(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Kt(l),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var l=He;return l=Ei(t,t===mt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yy(t,l,n),h_(t,Vt()),t.callbackNode!=null&&t.callbackNode===a?f_.bind(null,t):null)}function d_(t,n){if(dc())return null;Yy(t,n,!0)}function _1(){I1(function(){(it&6)!==0?Ue(Ki,y1):c_()})}function dd(){if(Ks===0){var t=ka;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Ks=t}return Ks}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function p_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function v1(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=m_((h[Xt]||null).action),p=l.submitter;p&&(n=(n=p[Xt]||null)?m_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Oi("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var N=p?p_(h,p):new FormData(h);Mf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?p_(h,p):new FormData(h),Mf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var md=0;md<Xh.length;md++){var pd=Xh[md],b1=pd.toLowerCase(),E1=pd[0].toUpperCase()+pd.slice(1);fi(b1,"on"+E1)}fi(Qp,"onAnimationEnd"),fi(Yp,"onAnimationIteration"),fi(Kp,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(LT,"onTransitionRun"),fi(UT,"onTransitionStart"),fi(PT,"onTransitionCancel"),fi(Xp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function g_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=N}else for(p=0;p<l.length;p++){if(E=l[p],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=N}}}}function Be(t,n){var a=n[pa];a===void 0&&(a=n[pa]=new Set);var l=t+"__bubble";a.has(l)||(y_(n,t,2,!1),a.add(l))}function gd(t,n,a){var l=0;n&&(l|=4),y_(a,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function yd(t){if(!t[gc]){t[gc]=!0,Nl.forEach(function(a){a!=="selectionchange"&&(T1.has(a)||gd(a,!1,t),gd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,gd("selectionchange",!1,n))}}function y_(t,n,a,l){switch(Q_(n)){case 2:var h=$1;break;case 8:h=J1;break;default:h=Od}a=h.bind(null,n,a,t),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function _d(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=wi(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){l=f=p;continue e}E=E.parentNode}}l=l.return}Cs(function(){var z=f,G=Hn(a),$=[];e:{var q=$p.get(t);if(q!==void 0){var F=Oi,fe=t;switch(t){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":F=Ru;break;case"focusin":fe="focus",F=Mr;break;case"focusout":fe="blur",F=Mr;break;case"beforeblur":case"afterblur":F=Mr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Qp:case Yp:case Kp:F=bu;break;case Xp:F=T;break;case"scroll":case"scrollend":F=zl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zi;break;case"toggle":case"beforetoggle":F=je}var Se=(n&4)!==0,ft=!Se&&(t==="scroll"||t==="scrollend"),k=Se?q!==null?q+"Capture":null:q;Se=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=oi(D,k),Y!=null&&Se.push(_o(D,Y,P))),ft)break;D=D.return}0<Se.length&&(q=new F(q,fe,null,a,G),$.push({event:q,listeners:Se}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Ll&&(fe=a.relatedTarget||a.fromElement)&&(wi(fe)||fe[Si]))break e;if((F||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,F?(fe=a.relatedTarget||a.toElement,F=z,fe=fe?wi(fe):null,fe!==null&&(ft=c(fe),Se=fe.tag,fe!==ft||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(F=null,fe=z),F!==fe)){if(Se=ql,Y="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Zi,Y="onPointerLeave",k="onPointerEnter",D="pointer"),ft=F==null?q:In(F),P=fe==null?q:In(fe),q=new Se(Y,D+"leave",F,a,G),q.target=ft,q.relatedTarget=P,Y=null,wi(G)===z&&(Se=new Se(k,D+"enter",fe,a,G),Se.target=P,Se.relatedTarget=ft,Y=Se),ft=Y,F&&fe)t:{for(Se=S1,k=F,D=fe,P=0,Y=k;Y;Y=Se(Y))P++;Y=0;for(var ye=D;ye;ye=Se(ye))Y++;for(;0<P-Y;)k=Se(k),P--;for(;0<Y-P;)D=Se(D),Y--;for(;P--;){if(k===D||D!==null&&k===D.alternate){Se=k;break t}k=Se(k),D=Se(D)}Se=null}else Se=null;F!==null&&__($,q,F,Se,!1),fe!==null&&ft!==null&&__($,ft,fe,Se,!0)}}e:{if(q=z?In(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var et=kp;else if(Mp(q))if(jp)et=VT;else{et=OT;var de=DT}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&va(z.elementType)&&(et=kp):et=MT;if(et&&(et=et(t,z))){Vp($,et,a,G);break e}de&&de(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Vl(q,"number",q.value)}switch(de=z?In(z):window,t){case"focusin":(Mp(de)||de.contentEditable==="true")&&(Ra=de,Qh=z,Ql=null);break;case"focusout":Ql=Qh=Ra=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Fp($,a,G);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":Fp($,a,G)}var Pe;if(nt)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else xa?Vr(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(ki&&a.locale!=="ko"&&(xa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&xa&&(Pe=Pl()):(Di=G,Ul="value"in Di?Di.value:Di.textContent,xa=!0)),de=yc(z,Fe),0<de.length&&(Fe=new Vi(Fe,t,null,a,G),$.push({event:Fe,listeners:de}),Pe?Fe.data=Pe:(Pe=wa(a),Pe!==null&&(Fe.data=Pe)))),(Pe=Gn?RT(t,a):NT(t,a))&&(Fe=yc(z,"onBeforeInput"),0<Fe.length&&(de=new Vi("onBeforeInput","beforeinput",null,a,G),$.push({event:de,listeners:Fe}),de.data=Pe)),v1($,t,z,a,G)}g_($,n)})}function _o(t,n,a){return{instance:t,listener:n,currentTarget:a}}function yc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=oi(t,a),h!=null&&l.unshift(_o(t,h,f)),h=oi(t,n),h!=null&&l.push(_o(t,h,f))),t.tag===3)return l;t=t.return}return[]}function S1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function __(t,n,a,l,h){for(var f=n._reactName,p=[];a!==null&&a!==l;){var E=a,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=oi(a,f),z!=null&&p.unshift(_o(a,z,N))):h||(z=oi(a,f),z!=null&&p.push(_o(a,z,N)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var A1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(A1,`
`).replace(w1,"")}function b_(t,n){return n=v_(n),v_(t)===n}function ht(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,a,l);break;case"style":jl(t,l,f);break;case"data":if(n!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ht(t,n,"name",h.name,h,null),ht(t,n,"formEncType",h.formEncType,h,null),ht(t,n,"formMethod",h.formMethod,h,null),ht(t,n,"formTarget",h.formTarget,h,null)):(ht(t,n,"encType",h.encType,h,null),ht(t,n,"method",h.method,h,null),ht(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=li);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,ya(t,a,l))}}function vd(t,n,a,l,h,f){switch(a){case"style":jl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Xt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function an(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,f,p,a,null)}}h&&ht(t,n,"srcSet",a.srcSet,a,null),l&&ht(t,n,"src",a.src,a,null);return;case"input":Be("invalid",t);var E=f=p=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":N=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:ht(t,n,l,G,a,null)}}mu(t,f,E,N,z,p,h,!1);return;case"select":Be("invalid",t),l=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ht(t,n,h,E,a,null)}n=f,a=p,t.multiple=!!l,n!=null?ws(t,!!l,n,!1):a!=null&&ws(t,!!l,a,!0);return;case"textarea":Be("invalid",t),f=h=l=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ht(t,n,p,E,a,null)}xs(t,l,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ht(t,n,N,l,a,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<yo.length;l++)Be(yo[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ht(t,n,z,l,a,null)}return;default:if(va(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&vd(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ht(t,n,E,l,a,null))}function x1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,N=null,z=null,G=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=$;default:l.hasOwnProperty(F)||ht(t,n,F,null,l,$)}}for(var q in l){var F=l[q];if($=a[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==$&&ht(t,n,q,F,l,$)}}_a(t,p,E,N,z,G,f,h);return;case"select":F=p=E=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||ht(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&ht(t,n,h,f,l,N)}n=E,a=p,l=F,q!=null?ws(t,!!a,q,!1):!!l!=!!a&&(n!=null?ws(t,!!a,n,!0):ws(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(t,n,E,null,l,h)}for(p in l)if(h=l[p],f=a[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ht(t,n,p,h,l,f)}pu(t,q,F);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:ht(t,n,fe,null,l,q)}for(N in l)if(q=l[N],F=a[N],l.hasOwnProperty(N)&&q!==F&&(q!=null||F!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ht(t,n,N,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)q=a[Se],a.hasOwnProperty(Se)&&q!=null&&!l.hasOwnProperty(Se)&&ht(t,n,Se,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:ht(t,n,z,q,l,F)}return;default:if(va(n)){for(var ft in a)q=a[ft],a.hasOwnProperty(ft)&&q!==void 0&&!l.hasOwnProperty(ft)&&vd(t,n,ft,void 0,l,q);for(G in l)q=l[G],F=a[G],!l.hasOwnProperty(G)||q===F||q===void 0&&F===void 0||vd(t,n,G,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&ht(t,n,k,null,l,q);for($ in l)q=l[$],F=a[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||ht(t,n,$,q,l,F)}function E_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&E_(p)){for(p=0,E=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>E)break;var G=N.transferSize,$=N.initiatorType;G&&E_($)&&(N=N.responseEnd,p+=G*(N<E?1:(E-z)/(N-z)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bd=null,Ed=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function N1(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,C1=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(D1)}:A_;function D1(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function x_(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),el(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vo(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&vo(t.ownerDocument.body);a=h}while(a);el(n)}function R_(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function O1(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function M1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function N_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function V1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function C_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Zn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function I_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function D_(t,n,a){switch(n=_c(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function vo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ga(t)}var Wn=new Map,O_=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=X.d;X.d={f:k1,r:j1,D:L1,C:U1,L:P1,m:z1,X:B1,S:q1,M:H1};function k1(){var t=ds.f(),n=cc();return t||n}function j1(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?Xg(n):ds.r(t)}var Ja=typeof document>"u"?null:document;function M_(t,n,a){var l=Ja;if(l&&typeof n=="string"&&n){var h=vn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),an(n,"link",t),Lt(n),l.head.appendChild(n)))}}function L1(t){ds.D(t),M_("dns-prefetch",t,null)}function U1(t,n){ds.C(t,n),M_("preconnect",t,n)}function P1(t,n,a){ds.L(t,n,a);var l=Ja;if(l&&t&&n){var h='link[rel="preload"][as="'+vn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(t)+'"]';var f=h;switch(n){case"style":f=Za(t);break;case"script":f=Wa(t)}Wn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Wn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(bo(f))||n==="script"&&l.querySelector(Eo(f))||(n=l.createElement("link"),an(n,"link",t),Lt(n),l.head.appendChild(n)))}}function z1(t,n){ds.m(t,n);var a=Ja;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(t)}if(!Wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Wn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Eo(f)))return}l=a.createElement("link"),an(l,"link",t),Lt(l),a.head.appendChild(l)}}}function q1(t,n,a){ds.S(t,n,a);var l=Ja;if(l&&t){var h=xi(l).hoistableStyles,f=Za(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(bo(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Wn.get(f))&&Nd(t,a);var N=p=l.createElement("link");Lt(N),an(N,"link",t),N._p=new Promise(function(z,G){N.onload=z,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function B1(t,n){ds.X(t,n);var a=Ja;if(a&&t){var l=xi(a).hoistableScripts,h=Wa(t),f=l.get(h);f||(f=a.querySelector(Eo(h)),f||(t=A({src:t,async:!0},n),(n=Wn.get(h))&&Cd(t,n),f=a.createElement("script"),Lt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function H1(t,n){ds.M(t,n);var a=Ja;if(a&&t){var l=xi(a).hoistableScripts,h=Wa(t),f=l.get(h);f||(f=a.querySelector(Eo(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Wn.get(h))&&Cd(t,n),f=a.createElement("script"),Lt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function V_(t,n,a,l){var h=(h=ge.current)?vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Za(a.href),a=xi(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var f=xi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(bo(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),f||F1(h,t,a,p.state))),n&&l===null)throw Error(r(528,""));return p}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(a),a=xi(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Za(t){return'href="'+vn(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function F1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),an(n,"link",a),Lt(n),t.head.appendChild(n))}function Wa(t){return'[src="'+vn(t)+'"]'}function Eo(t){return"script[async]"+t}function j_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return n.instance=l,Lt(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),an(l,"style",h),bc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Za(a.href);var f=t.querySelector(bo(h));if(f)return n.state.loading|=4,n.instance=f,Lt(f),f;l=k_(a),(h=Wn.get(h))&&Nd(l,h),f=(t.ownerDocument||t).createElement("link"),Lt(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),an(f,"link",l),n.state.loading|=4,bc(f,a.precedence,t),n.instance=f;case"script":return f=Wa(a.src),(h=t.querySelector(Eo(f)))?(n.instance=h,Lt(h),h):(l=a,(h=Wn.get(f))&&(l=A({},a),Cd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),an(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,a.precedence,t));return n.instance}function bc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Nd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function L_(t,n,a){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(a,l)}else h=Ec,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ai]||f[jt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function U_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function G1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Q1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(l.href),f=n.querySelector(bo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Lt(f);return}f=n.ownerDocument||n,l=k_(l),(h=Wn.get(h))&&Nd(l,h),f=f.createElement("link"),Lt(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),an(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Tc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Id=0;function Y1(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Id===0&&(Id=62500*R1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Id?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,n.forEach(K1,t),Sc=null,Tc.call(t))}function K1(t,n){if(!(n.state.loading&4)){var a=Sc.get(t);if(a)var l=a.get(null);else{a=new Map,Sc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),l=p)}l&&a.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||l,f===l&&a.set(null,h),a.set(p,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var To={$$typeof:Ae,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function X1(t,n,a,l,h,f,p,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function z_(t,n,a,l,h,f,p,E,N,z,G,$){return t=new X1(t,n,a,p,N,z,G,$,E),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=uf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},df(f),t}function q_(t){return t?(t=Ia,t):Ia}function B_(t,n,a,l,h,f){h=q_(h),l.context===null?l.context=h:l.pendingContext=h,l=Us(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ps(t,l,n),a!==null&&(wn(a,t,n),Wl(a,t,n))}function H_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Dd(t,n){H_(t,n),(t=t.alternate)&&H_(t,n)}function F_(t){if(t.tag===13||t.tag===31){var n=Lr(t,67108864);n!==null&&wn(n,t,67108864),Dd(t,67108864)}}function G_(t){if(t.tag===13||t.tag===31){var n=Un();n=wr(n);var a=Lr(t,n);a!==null&&wn(a,t,n),Dd(t,n)}}var wc=!0;function $1(t,n,a,l){var h=j.T;j.T=null;var f=X.p;try{X.p=2,Od(t,n,a,l)}finally{X.p=f,j.T=h}}function J1(t,n,a,l){var h=j.T;j.T=null;var f=X.p;try{X.p=8,Od(t,n,a,l)}finally{X.p=f,j.T=h}}function Od(t,n,a,l){if(wc){var h=Md(l);if(h===null)_d(t,n,l,xc,a),Y_(t,l);else if(W1(h,t,n,a,l))l.stopPropagation();else if(Y_(t,l),n&4&&-1<Z1.indexOf(t)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=bi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-Rt(p);E.entanglements[1]|=N,p&=~N}Pi(f),(it&6)===0&&(oc=Vt()+500,go(0))}}break;case 31:case 13:E=Lr(f,2),E!==null&&wn(E,f,2),cc(),Dd(f,2)}if(f=Md(l),f===null&&_d(t,n,l,xc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else _d(t,n,l,null,a)}}function Md(t){return t=Hn(t),Vd(t)}var xc=null;function Vd(t){if(xc=null,t=wi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function Q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case Ki:return 2;case Cn:return 8;case zn:case wl:return 32;case ha:return 268435456;default:return 32}default:return 32}}var kd=!1,$s=null,Js=null,Zs=null,So=new Map,Ao=new Map,Ws=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(n.pointerId)}}function wo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&F_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function W1(t,n,a,l,h){switch(n){case"focusin":return $s=wo($s,t,n,a,l,h),!0;case"dragenter":return Js=wo(Js,t,n,a,l,h),!0;case"mouseover":return Zs=wo(Zs,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return So.set(f,wo(So.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ao.set(f,wo(Ao.get(f)||null,t,n,a,l,h)),!0}return!1}function K_(t){var n=wi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ri(t.priority,function(){G_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,ri(t.priority,function(){G_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Md(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ll=l,a.target.dispatchEvent(l),Ll=null}else return n=Bn(a),n!==null&&F_(n),t.blockedOn=a,!1;n.shift()}return!0}function X_(t,n,a){Rc(t)&&a.delete(n)}function eS(){kd=!1,$s!==null&&Rc($s)&&($s=null),Js!==null&&Rc(Js)&&(Js=null),Zs!==null&&Rc(Zs)&&(Zs=null),So.forEach(X_),Ao.forEach(X_)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,kd||(kd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eS)))}var Cc=null;function $_(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var f=Bn(a);f!==null&&(t.splice(n,3),n-=3,Mf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function el(t){function n(N){return Nc(N,t)}$s!==null&&Nc($s,t),Js!==null&&Nc(Js,t),Zs!==null&&Nc(Zs,t),So.forEach(n),Ao.forEach(n);for(var a=0;a<Ws.length;a++){var l=Ws[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&Ws.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],p=h[Xt]||null;if(typeof f=="function")p||$_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Xt]||null)E=p.formAction;else if(Vd(h)!==null)continue}else E=p.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),$_(a)}}}function J_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(t){this._internalRoot=t}Ic.prototype.render=jd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Un();B_(a,l,t,n,null,null)},Ic.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;B_(t.current,2,null,t,null,null),cc(),n[Si]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ws.length&&n!==0&&n<Ws[a].priority;a++);Ws.splice(a,0,t),a===0&&K_(t)}};var Z_=e.version;if(Z_!=="19.2.0")throw Error(r(527,Z_,"19.2.0"));X.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var tS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{ii=Dc.inject(tS),en=Dc}catch{}}return Ro.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=ry,f=ay,p=ly;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=z_(t,1,!1,null,null,a,l,null,h,f,p,J_),t[Si]=n.current,yd(t),new jd(n)},Ro.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=ry,p=ay,E=ly,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=z_(t,1,!0,n,a??null,l,h,N,f,p,E,J_),n.context=q_(null),a=n.current,l=Un(),l=wr(l),h=Us(l),h.callback=null,Ps(a,h,l),a=l,n.current.lanes=a,Sr(n,a),Pi(n),t[Si]=n.current,yd(t),new Ic(n)},Ro.version="19.2.0",Ro}var o0;function hS(){if(o0)return Pd.exports;o0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=cS(),Pd.exports}var fS=hS();const dS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),u0=s=>{const e=mS(s);return e.charAt(0).toUpperCase()+e.slice(1)},Jv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),pS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yS=Re.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...g},v)=>Re.createElement("svg",{ref:v,...gS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Jv("lucide",o),...!c&&!pS(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,S])=>Re.createElement(_,S)),...Array.isArray(c)?c:[c]]));const Ze=(s,e)=>{const i=Re.forwardRef(({className:r,...o},c)=>Re.createElement(yS,{ref:c,iconNode:e,className:Jv(`lucide-${dS(u0(s))}`,`lucide-${s}`,r),...o}));return i.displayName=u0(s),i};const _S=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vS=Ze("arrow-left",_S);const bS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c0=Ze("ban",bS);const ES=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],h0=Ze("box",ES);const TS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Hd=Ze("briefcase",TS);const SS=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],AS=Ze("calendar-plus",SS);const wS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xS=Ze("calendar",wS);const RS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Fd=Ze("camera",RS);const NS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],CS=Ze("chart-column",NS);const IS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],DS=Ze("chart-pie",IS);const OS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MS=Ze("check",OS);const VS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kS=Ze("chevron-right",VS);const jS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],LS=Ze("chevron-left",jS);const US=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f0=Ze("circle-alert",US);const PS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zS=Ze("circle-check-big",PS);const qS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],d0=Ze("clipboard-list",qS);const BS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HS=Ze("download",BS);const FS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GS=Ze("eye",FS);const QS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],m0=Ze("history",QS);const YS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],KS=Ze("log-in",YS);const XS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$S=Ze("log-out",XS);const JS=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],ZS=Ze("monitor-play",JS);const WS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],p0=Ze("pen-tool",WS);const eA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tA=Ze("refresh-cw",eA);const nA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Oc=Ze("save",nA);const iA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sA=Ze("search",iA);const rA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g0=Ze("settings",rA);const aA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lA=Ze("trending-up",aA);const oA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uA=Ze("triangle-alert",oA);const cA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hA=Ze("user",cA);const fA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dA=Ze("users",fA);const mA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],y0=Ze("utensils",mA);const pA=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],_0=Ze("video",pA);const gA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gd=Ze("x",gA),yA=()=>{};var v0={};const Zv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},_A=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(M=64)),r.push(i[S],i[A],i[M],i[Q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Zv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):_A(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||_==null||A==null)throw new vA;const M=c<<2|g>>4;if(r.push(M),_!==64){const Q=g<<4&240|_>>2;if(r.push(Q),A!==64){const W=_<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(s){const e=Zv(s);return Wv.encodeByteArray(e,!0)},Xc=function(s){return bA(s).replace(/\./g,"")},eb=function(s){try{return Wv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const TA=()=>EA().__FIREBASE_DEFAULTS__,SA=()=>{if(typeof process>"u"||typeof v0>"u")return;const s=v0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},AA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&eb(s[1]);return e&&JSON.parse(e)},ph=()=>{try{return yA()||TA()||SA()||AA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},tb=s=>ph()?.emulatorHosts?.[s],wA=s=>{const e=tb(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},nb=()=>ph()?.config,ib=s=>ph()?.[`_${s}`];class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function yl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sb(s){return(await fetch(s,{credentials:"include"})).ok}function RA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Vo={};function NA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vo))Vo[e]?s.emulator.push(e):s.prod.push(e);return s}function CA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let b0=!1;function rb(s,e){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Vo[s]===e||Vo[s]||b0)return;Vo[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=NA().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{b0=!0,d()},M}function S(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=CA(r),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),le=i("learnmore"),se=document.getElementById(le)||document.createElement("a"),be=i("preprendIcon"),Me=document.getElementById(be)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ae=M.element;g(Ae),S(se,le);const st=_();v(Me,be),Ae.append(Me,W,se,st),document.body.appendChild(Ae)}c?(W.innerText="Preview backend disconnected.",Me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function DA(){const s=ph()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function VA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kA(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LA(){try{return typeof indexedDB=="object"}catch{return!1}}function UA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const PA="FirebaseError";class Ss extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=PA,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?zA(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,g,r)}}function zA(s,e){return s.replace(qA,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const qA=/\{\$([^}]+)}/g;function BA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sa(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(E0(c)&&E0(d)){if(!sa(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function E0(s){return s!==null&&typeof s=="object"}function $o(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HA(s,e){const i=new FA(s,e);return i.subscribe.bind(i)}class FA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let o;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");GA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:r},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Qd(){}function Wt(s){return s&&s._delegate?s._delegate:s}class ra{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zr="[DEFAULT]";class QA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new xA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YA(s){return s===Zr?void 0:s}function KA(s){return s.instantiationMode==="EAGER"}class XA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const $A={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},JA=Ge.INFO,ZA={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},WA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=ZA[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jm{constructor(e){this.name=e,this._logLevel=JA,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const ew=(s,e)=>e.some(i=>s instanceof i);let T0,S0;function tw(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nw(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,um=new WeakMap,lb=new WeakMap,Yd=new WeakMap,Lm=new WeakMap;function iw(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(or(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ab.set(i,s)}).catch(()=>{}),Lm.set(e,s),e}function sw(s){if(um.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});um.set(s,e)}let cm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return um.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lb.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function rw(s){cm=s(cm)}function aw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Kd(this),e,...i);return lb.set(r,e.sort?e.sort():[e]),or(r)}:nw().includes(s)?function(...e){return s.apply(Kd(this),e),or(ab.get(this))}:function(...e){return or(s.apply(Kd(this),e))}}function lw(s){return typeof s=="function"?aw(s):(s instanceof IDBTransaction&&sw(s),ew(s,tw())?new Proxy(s,cm):s)}function or(s){if(s instanceof IDBRequest)return iw(s);if(Yd.has(s))return Yd.get(s);const e=lw(s);return e!==s&&(Yd.set(s,e),Lm.set(e,s)),e}const Kd=s=>Lm.get(s);function ow(s,e,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=or(d);return r&&d.addEventListener("upgradeneeded",v=>{r(or(d.result),v.oldVersion,v.newVersion,or(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const uw=["get","getKey","getAll","getAllKeys","count"],cw=["put","add","delete","clear"],Xd=new Map;function A0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=cw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||uw.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Xd.set(e,c),c}rw(s=>({...s,get:(e,i,r)=>A0(e,i)||s.get(e,i,r),has:(e,i)=>!!A0(e,i)||s.has(e,i)}));class hw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function fw(s){return s.getComponent()?.type==="VERSION"}const hm="@firebase/app",w0="0.14.6";const _s=new jm("@firebase/app"),dw="@firebase/app-compat",mw="@firebase/analytics-compat",pw="@firebase/analytics",gw="@firebase/app-check-compat",yw="@firebase/app-check",_w="@firebase/auth",vw="@firebase/auth-compat",bw="@firebase/database",Ew="@firebase/data-connect",Tw="@firebase/database-compat",Sw="@firebase/functions",Aw="@firebase/functions-compat",ww="@firebase/installations",xw="@firebase/installations-compat",Rw="@firebase/messaging",Nw="@firebase/messaging-compat",Cw="@firebase/performance",Iw="@firebase/performance-compat",Dw="@firebase/remote-config",Ow="@firebase/remote-config-compat",Mw="@firebase/storage",Vw="@firebase/storage-compat",kw="@firebase/firestore",jw="@firebase/ai",Lw="@firebase/firestore-compat",Uw="firebase",Pw="12.6.0";const fm="[DEFAULT]",zw={[hm]:"fire-core",[dw]:"fire-core-compat",[pw]:"fire-analytics",[mw]:"fire-analytics-compat",[yw]:"fire-app-check",[gw]:"fire-app-check-compat",[_w]:"fire-auth",[vw]:"fire-auth-compat",[bw]:"fire-rtdb",[Ew]:"fire-data-connect",[Tw]:"fire-rtdb-compat",[Sw]:"fire-fn",[Aw]:"fire-fn-compat",[ww]:"fire-iid",[xw]:"fire-iid-compat",[Rw]:"fire-fcm",[Nw]:"fire-fcm-compat",[Cw]:"fire-perf",[Iw]:"fire-perf-compat",[Dw]:"fire-rc",[Ow]:"fire-rc-compat",[Mw]:"fire-gcs",[Vw]:"fire-gcs-compat",[kw]:"fire-fst",[Lw]:"fire-fst-compat",[jw]:"fire-vertex","fire-js":"fire-js",[Uw]:"fire-js-all"};const $c=new Map,qw=new Map,dm=new Map;function x0(s,e){try{s.container.addComponent(e)}catch(i){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ul(s){const e=s.name;if(dm.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,s);for(const i of $c.values())x0(i,s);for(const i of qw.values())x0(i,s);return!0}function Um(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function pi(s){return s==null?!1:s.settings!==void 0}const Bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new Xo("app","Firebase",Bw);class Hw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const _l=Pw;function ob(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:fm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=nb()),!i)throw ur.create("no-options");const c=$c.get(o);if(c){if(sa(i,c.options)&&sa(r,c.config))return c;throw ur.create("duplicate-app",{appName:o})}const d=new XA(o);for(const v of dm.values())d.addComponent(v);const g=new Hw(i,r,d);return $c.set(o,g),g}function ub(s=fm){const e=$c.get(s);if(!e&&s===fm&&nb())return ob();if(!e)throw ur.create("no-app",{appName:s});return e}function cr(s,e,i){let r=zw[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}ul(new ra(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Fw="firebase-heartbeat-database",Gw=1,zo="firebase-heartbeat-store";let $d=null;function cb(){return $d||($d=ow(Fw,Gw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zo)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),$d}async function Qw(s){try{const i=(await cb()).transaction(zo),r=await i.objectStore(zo).get(hb(s));return await i.done,r}catch(e){if(e instanceof Ss)_s.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e?.message});_s.warn(i.message)}}}async function R0(s,e){try{const r=(await cb()).transaction(zo,"readwrite");await r.objectStore(zo).put(e,hb(s)),await r.done}catch(i){if(i instanceof Ss)_s.warn(i.message);else{const r=ur.create("idb-set",{originalErrorMessage:i?.message});_s.warn(r.message)}}}function hb(s){return`${s.name}!${s.options.appId}`}const Yw=1024,Kw=30;class Xw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Jw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=N0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Kw){const o=Zw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=N0(),{heartbeatsToSend:i,unsentEntries:r}=$w(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _s.warn(e),""}}}function N0(){return new Date().toISOString().substring(0,10)}function $w(s,e=Yw){const i=[];let r=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),C0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),C0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Jw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LA()?UA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Qw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function C0(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function Zw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Ww(s){ul(new ra("platform-logger",e=>new hw(e),"PRIVATE")),ul(new ra("heartbeat",e=>new Xw(e),"PRIVATE")),cr(hm,w0,s),cr(hm,w0,"esm2020"),cr("fire-js","")}Ww("");var ex="firebase",tx="12.6.0";cr(ex,tx,"app");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,fb;(function(){var s;function e(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,O,L){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return x.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,C){C||(C=0);const V=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)V[O]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],O=I.g[2];let L=I.g[3],R;R=x+(L^C&(O^L))+V[0]+3614090360&4294967295,x=C+(R<<7&4294967295|R>>>25),R=L+(O^x&(C^O))+V[1]+3905402710&4294967295,L=x+(R<<12&4294967295|R>>>20),R=O+(C^L&(x^C))+V[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=C+(x^O&(L^x))+V[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(L^C&(O^L))+V[4]+4118548399&4294967295,x=C+(R<<7&4294967295|R>>>25),R=L+(O^x&(C^O))+V[5]+1200080426&4294967295,L=x+(R<<12&4294967295|R>>>20),R=O+(C^L&(x^C))+V[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=C+(x^O&(L^x))+V[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(L^C&(O^L))+V[8]+1770035416&4294967295,x=C+(R<<7&4294967295|R>>>25),R=L+(O^x&(C^O))+V[9]+2336552879&4294967295,L=x+(R<<12&4294967295|R>>>20),R=O+(C^L&(x^C))+V[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=C+(x^O&(L^x))+V[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(L^C&(O^L))+V[12]+1804603682&4294967295,x=C+(R<<7&4294967295|R>>>25),R=L+(O^x&(C^O))+V[13]+4254626195&4294967295,L=x+(R<<12&4294967295|R>>>20),R=O+(C^L&(x^C))+V[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=C+(x^O&(L^x))+V[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=x+(O^L&(C^O))+V[1]+4129170786&4294967295,x=C+(R<<5&4294967295|R>>>27),R=L+(C^O&(x^C))+V[6]+3225465664&4294967295,L=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(L^x))+V[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=C+(L^x&(O^L))+V[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^L&(C^O))+V[5]+3593408605&4294967295,x=C+(R<<5&4294967295|R>>>27),R=L+(C^O&(x^C))+V[10]+38016083&4294967295,L=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(L^x))+V[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=C+(L^x&(O^L))+V[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^L&(C^O))+V[9]+568446438&4294967295,x=C+(R<<5&4294967295|R>>>27),R=L+(C^O&(x^C))+V[14]+3275163606&4294967295,L=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(L^x))+V[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=C+(L^x&(O^L))+V[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(O^L&(C^O))+V[13]+2850285829&4294967295,x=C+(R<<5&4294967295|R>>>27),R=L+(C^O&(x^C))+V[2]+4243563512&4294967295,L=x+(R<<9&4294967295|R>>>23),R=O+(x^C&(L^x))+V[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=C+(L^x&(O^L))+V[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=x+(C^O^L)+V[5]+4294588738&4294967295,x=C+(R<<4&4294967295|R>>>28),R=L+(x^C^O)+V[8]+2272392833&4294967295,L=x+(R<<11&4294967295|R>>>21),R=O+(L^x^C)+V[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=C+(O^L^x)+V[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^L)+V[1]+2763975236&4294967295,x=C+(R<<4&4294967295|R>>>28),R=L+(x^C^O)+V[4]+1272893353&4294967295,L=x+(R<<11&4294967295|R>>>21),R=O+(L^x^C)+V[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=C+(O^L^x)+V[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^L)+V[13]+681279174&4294967295,x=C+(R<<4&4294967295|R>>>28),R=L+(x^C^O)+V[0]+3936430074&4294967295,L=x+(R<<11&4294967295|R>>>21),R=O+(L^x^C)+V[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=C+(O^L^x)+V[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(C^O^L)+V[9]+3654602809&4294967295,x=C+(R<<4&4294967295|R>>>28),R=L+(x^C^O)+V[12]+3873151461&4294967295,L=x+(R<<11&4294967295|R>>>21),R=O+(L^x^C)+V[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=C+(O^L^x)+V[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=x+(O^(C|~L))+V[0]+4096336452&4294967295,x=C+(R<<6&4294967295|R>>>26),R=L+(C^(x|~O))+V[7]+1126891415&4294967295,L=x+(R<<10&4294967295|R>>>22),R=O+(x^(L|~C))+V[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=C+(L^(O|~x))+V[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~L))+V[12]+1700485571&4294967295,x=C+(R<<6&4294967295|R>>>26),R=L+(C^(x|~O))+V[3]+2399980690&4294967295,L=x+(R<<10&4294967295|R>>>22),R=O+(x^(L|~C))+V[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=C+(L^(O|~x))+V[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~L))+V[8]+1873313359&4294967295,x=C+(R<<6&4294967295|R>>>26),R=L+(C^(x|~O))+V[15]+4264355552&4294967295,L=x+(R<<10&4294967295|R>>>22),R=O+(x^(L|~C))+V[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=C+(L^(O|~x))+V[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=x+(O^(C|~L))+V[4]+4149444226&4294967295,x=C+(R<<6&4294967295|R>>>26),R=L+(C^(x|~O))+V[11]+3174756917&4294967295,L=x+(R<<10&4294967295|R>>>22),R=O+(x^(L|~C))+V[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=C+(L^(O|~x))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<x;){if(O==0)for(;L<=C;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<x;)if(V[O++]=I.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<x;)if(V[O++]=I[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[x++]=this.g[C]>>>V&255;return I};function c(I,x){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function d(I,x){this.h=x;const C=[];let V=!0;for(let O=I.length-1;O>=0;O--){const L=I[O]|0;V&&L==x||(C[O]=L,V=!1)}this.g=C}var g={};function v(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return se(_(-I));const x=[];let C=1;for(let V=0;I>=C;V++)x[V]=I/C|0,C*=4294967296;return new d(x,0)}function S(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return se(S(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(x,8));let V=A;for(let L=0;L<I.length;L+=8){var O=Math.min(8,I.length-L);const R=parseInt(I.substring(L,L+O),x);O<8?(O=_(Math.pow(x,O)),V=V.j(O).add(_(R))):(V=V.j(C),V=V.add(_(R)))}return V}var A=v(0),M=v(1),Q=v(16777216);s=d.prototype,s.m=function(){if(le(this))return-se(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(le(this))return"-"+se(this).toString(I);const x=_(Math.pow(I,6));var C=this;let V="";for(;;){const O=st(C,x).g;C=be(C,O.j(x));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,W(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function le(I){return I.h==-1}s.l=function(I){return I=be(this,I),le(I)?-1:W(I)?0:1};function se(I){const x=I.g.length,C=[];for(let V=0;V<x;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}s.abs=function(){return le(this)?se(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let O=0;O<=x;O++){let L=V+(this.i(O)&65535)+(I.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=R>>>16,L&=65535,R&=65535,C[O]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function be(I,x){return I.add(se(x))}s.j=function(I){if(W(this)||W(I))return A;if(le(this))return le(I)?se(this).j(se(I)):se(se(this).j(I));if(le(I))return se(this.j(se(I)));if(this.l(Q)<0&&I.l(Q)<0)return _(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var V=0;V<2*x;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const L=this.i(V)>>>16,R=this.i(V)&65535,ue=I.i(O)>>>16,me=I.i(O)&65535;C[2*V+2*O]+=R*me,Me(C,2*V+2*O),C[2*V+2*O+1]+=L*me,Me(C,2*V+2*O+1),C[2*V+2*O+1]+=R*ue,Me(C,2*V+2*O+1),C[2*V+2*O+2]+=L*ue,Me(C,2*V+2*O+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new d(C,0)};function Me(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function Ae(I,x){this.g=I,this.h=x}function st(I,x){if(W(x))throw Error("division by zero");if(W(I))return new Ae(A,A);if(le(I))return x=st(se(I),x),new Ae(se(x.g),se(x.h));if(le(x))return x=st(I,se(x)),new Ae(se(x.g),x.h);if(I.g.length>30){if(le(I)||le(x))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=x;V.l(I)<=0;)C=dt(C),V=dt(V);var O=Ke(C,1),L=Ke(V,1);for(V=Ke(V,2),C=Ke(C,2);!W(V);){var R=L.add(V);R.l(I)<=0&&(O=O.add(C),L=R),V=Ke(V,1),C=Ke(C,1)}return x=be(I,O.j(x)),new Ae(O,x)}for(O=A;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(C),R=L.j(x);le(R)||R.l(I)>0;)C-=V,L=_(C),R=L.j(x);W(L)&&(L=M),O=O.add(L),I=be(I,R)}return new Ae(O,I)}s.B=function(I){return st(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function dt(I){const x=I.g.length+1,C=[];for(let V=0;V<x;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Ke(I,x){const C=x>>5;x%=32;const V=I.g.length-C,O=[];for(let L=0;L<V;L++)O[L]=x>0?I.i(L+C)>>>x|I.i(L+C+1)<<32-x:I.i(L+C);return new d(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,hr=d}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var db,Io,mb,Pc,mm,pb,gb,yb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)e:{var b=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],m=m(T),m!=T&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&b.push([T,m[T]]);return b}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,b){return u.call.apply(u.bind,arguments)}function _(u,m,b){return _=v,_.apply(null,arguments)}function S(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var re=Array(arguments.length-2),je=2;je<arguments.length;je++)re[je-2]=arguments[je];return m.prototype[U].apply(T,re)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const b=Array(m);for(let T=0;T<m;T++)b[T]=u[T];return b}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const H=U.length||0;u.length=b+H;for(let re=0;re<H;re++)u[b+re]=U[re]}else u.push(U)}}class le{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){d.setTimeout(()=>{throw u},0)}function be(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,b){const T=Ae.get();T.set(m,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Ae=new le(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Ke=!1,I=new Me,x=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(C)}};function C(){for(var u;u=be();){try{u.h.call(u.g)}catch(b){se(b)}var m=Ae;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ke=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ue,O),ue.prototype.init=function(u,m){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),j=0;function X(u,m,b,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!T,this.ha=U,this.key=++j,this.da=this.fa=!1}function ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ie(u,m,b){for(const T in u)m.call(b,u[T],T,u)}function pe(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function w(u){const m={};for(const b in u)m[b]=u[b];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let H=0;H<B.length;H++)b=B[H],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function ee(u){this.src=u,this.g={},this.h=0}ee.prototype.add=function(u,m,b,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const re=ge(u,m,T,U);return re>-1?(m=u[re],b||(m.fa=!1)):(m=new X(m,this.src,H,!!T,U),m.fa=b,u.push(m)),m};function he(u,m){const b=m.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(ne(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function ge(u,m,b,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!b&&H.ha==T)return U}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Ee={};function Ne(u,m,b,T,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Ne(u,m[H],b,T,U);return null}return b=te(b),u&&u[me]?u.J(m,b,g(T)?!!T.capture:!1,U):Ot(u,m,b,!1,T,U)}function Ot(u,m,b,T,U,H){if(!m)throw Error("Invalid event type");const re=g(U)?!!U.capture:!!U;let je=We(u);if(je||(u[ve]=je=new ee(u)),b=je.add(m,b,T,re,H),b.proxy)return b;if(T=Mt(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)L||(U=re),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(we(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Mt(){function u(b){return m.call(u.src,u.listener,b)}const m=Ie;return u}function ae(u,m,b,T,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)ae(u,m[H],b,T,U);else T=g(T)?!!T.capture:!!T,b=te(b),u&&u[me]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],b=ge(m,b,T,U),b>-1&&(ne(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=We(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ge(m,b,T,U)),(b=u>-1?m[u]:null)&&Ce(b))}function Ce(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])he(m.i,u);else{var b=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(b,T,u.capture):m.detachEvent?m.detachEvent(we(b),T):m.addListener&&m.removeListener&&m.removeListener(T),(b=We(m))?(he(b,u),b.h==0&&(b.src=null,m[ve]=null)):ne(u)}}}function we(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function Ie(u,m){if(u.da)u=!0;else{m=new ue(m,this);const b=u.listener,T=u.ha||u.src;u.fa&&Ce(u),u=b.call(T,m)}return u}function We(u){return u=u[ve],u instanceof ee?u:null}var Xe="__closure_events_fn_"+(Math.random()*1e9>>>0);function te(u){return typeof u=="function"?u:(u[Xe]||(u[Xe]=function(m){return u.handleEvent(m)}),u[Xe])}function Te(){V.call(this),this.i=new ee(this),this.M=this,this.G=null}A(Te,V),Te.prototype[me]=!0,Te.prototype.removeEventListener=function(u,m,b,T){ae(this,u,m,b,T)};function Ue(u,m){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(T,u),J(m,U)}U=!0;let H,re;if(b)for(re=b.length-1;re>=0;re--)H=m.g=b[re],U=Kt(H,T,!0,m)&&U;if(H=m.g=u,U=Kt(H,T,!0,m)&&U,U=Kt(H,T,!1,m)&&U,b)for(re=0;re<b.length;re++)H=m.g=b[re],U=Kt(H,T,!1,m)&&U}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let T=0;T<b.length;T++)ne(b[T]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,b,T){return this.i.add(String(u),m,!1,b,T)},Te.prototype.K=function(u,m,b,T){return this.i.add(String(u),m,!0,b,T)};function Kt(u,m,b,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const re=m[H];if(re&&!re.da&&re.capture==b){const je=re.listener,Nt=re.ha||re.src;re.fa&&he(u.i,re),U=je.call(Nt,T)!==!1&&U}}return U&&!T.defaultPrevented}function St(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Et(u){u.g=St(()=>{u.g=null,u.i&&(u.i=!1,Et(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Vt extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(u){V.call(this),this.h=u,this.g={}}A(ni,V);var Ki=[];function Cn(u){ie(u.g,function(m,b){this.g.hasOwnProperty(b)&&Ce(m)},u),u.g={}}ni.prototype.N=function(){ni.Z.N.call(this),Cn(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,wl=d.JSON.parse,ha=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function fa(){}function da(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){O.call(this,"d")}A(en,O);function qn(){O.call(this,"c")}A(qn,O);var Rt={},lu=null;function ma(){return lu=lu||new Te}Rt.Ia="serverreachability";function ou(u){O.call(this,Rt.Ia,u)}A(ou,O);function vi(u){const m=ma();Ue(m,new ou(m))}Rt.STAT_EVENT="statevent";function Tr(u,m){O.call(this,Rt.STAT_EVENT,u),this.stat=m}A(Tr,O);function kt(u){const m=ma();Ue(m,new Tr(m,u))}Rt.Ja="timingevent";function bi(u,m){O.call(this,Rt.Ja,u),this.size=m}A(bi,O);function Ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function zh(u,m,b,T,U,H){u.info(function(){if(u.g)if(H){var re="",je=H.split("&");for(let nt=0;nt<je.length;nt++){var Nt=je[nt].split("=");if(Nt.length>1){const vt=Nt[0];Nt=Nt[1];const Gn=vt.split("_");re=Gn.length>=2&&Gn[1]=="type"?re+(vt+"="+Nt+"&"):re+(vt+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+b+`
`+re})}function uu(u,m,b,T,U,H,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+b+`
`+H+" "+re})}function Ti(u,m,b,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qh(u,b)+(T?" "+T:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}si.prototype.info=function(){};function qh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var b=H[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<T.length;re++)T[re]=""}}}}return zn(H)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function wr(){}A(wr,fa),wr.prototype.g=function(){return new XMLHttpRequest},Rl=new wr;function Xi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ri(u,m,b,T){this.j=u,this.i=m,this.l=b,this.S=T||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var jt={},Xt={};function Si(u,m,b){u.M=1,u.A=xr(Ut(m)),u.u=b,u.R=!0,pa(u,null)}function pa(u,m){u.F=Date.now(),Ai(u),u.B=Ut(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),va(b.i,"t",T),u.C=0,b=u.j.L,u.h=new ai,u.g=wu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Vt(_(u.Y,u,u.g),u.P)),m=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ki[0]=U.toString()),U=Ki);for(let H=0;H<U.length;H++){const re=Ne(b,U[H],T||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vi(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}ri.prototype.ba=function(u){u=u.target;const m=this.O;m&&ui(u)==3?m.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{const je=ui(this.g),Nt=this.g.ya(),nt=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||je!=4||Nt==7||(Nt==8||nt<=0?vi(3):vi(2)),wi(this);var m=this.g.ca();this.X=m;var b=Bh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,je,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break t}}H=null}if(u=H)Ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,kt(12),In(this),Bn(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<b.length;)if(vt=fu(this,b),vt==Xt){je==4&&(this.m=4,kt(14),u=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==jt){this.m=4,kt(15),Ti(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Ti(this.i,this.l,vt,null),xi(this,vt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||b.length!=0||this.h.h||(this.m=1,kt(16),u=!1),this.o=this.o&&u,!u)Ti(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Bn(this);else if(b.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Bl(re),re.P=!0,kt(11))}}else Ti(this.i,this.l,b,null),xi(this,b);je==4&&In(this),this.o&&!this.K&&(je==4?Eu(this.j,this):(this.o=!1,Ai(this)))}else Ji(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),In(this),Bn(this)}}}catch{}finally{}};function Bh(u){if(!hu(u))return u.g.la();const m=tn(u.g);if(m==="")return"";let b="";const T=m.length,U=ui(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),Bn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,b+=u.h.i.decode(m[H],{stream:!(U&&H==T-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var b=u.C,T=m.indexOf(`
`,b);return T==-1?Xt:(b=Number(m.substring(b,T)),isNaN(b)?jt:(T+=1,T+b>m.length?Xt:(m=m.slice(T,T+b),u.C=T+b,m)))}ri.prototype.cancel=function(){this.K=!0,In(this)};function Ai(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ei(_(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ri.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(vi(),kt(17)),In(this),this.m=2,Bn(this)):ga(this,this.T-u)};function Bn(u){u.j.I==0||u.K||Eu(u.j,u)}function In(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Cn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ni(b.h,u))){if(!u.L&&Ni(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),Ds(b);else break e;Mr(b),kt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ei(_(b.Va,b),6e3));Ri(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vi(b,11)}else if((u.L||b.g==u)&&Aa(b),!R(m))for(U=b.Ba.g.parse(m),m=0;m<U.length;m++){let nt=U[m];const vt=nt[0];if(!(vt<=b.K))if(b.K=vt,nt=nt[1],b.I==2)if(nt[0]=="c"){b.M=nt[1],b.ba=nt[2];const Gn=nt[3];Gn!=null&&(b.ka=Gn,b.j.info("VER="+b.ka));const ki=nt[4];ki!=null&&(b.za=ki,b.j.info("SVER="+b.za));const ci=nt[5];ci!=null&&typeof ci=="number"&&ci>0&&(T=1.5*ci,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const hi=u.g;if(hi){const Vr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var H=T.h;H.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Il(H,H.h),H.h=null))}if(T.G){const wa=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(T.wa=wa,at(T.J,T.G,wa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var re=u;if(T.na=Au(T,T.L?T.ba:null,T.W),re.L){Dl(T.h,re);var je=re,Nt=T.O;Nt&&(je.H=Nt),je.D&&(wi(je),Ai(je)),T.g=re}else vu(T);b.i.length>0&&Mi(b)}else nt[0]!="stop"&&nt[0]!="close"||Vi(b,7);else b.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Vi(b,7):zl(b):nt[0]!="noop"&&b.l&&b.l.qa(nt),b.A=0)}}vi(4)}catch{}}var Lt=class{constructor(u,m){this.g=u,this.map=m}};function Nl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function Dl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return Q(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,H=null;T>=0?(U=u[b].substring(0,T),H=u[b].substring(T+1)):U=u[b],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Ml(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,$t(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),As(this,m[4]),this.h=Ci(m[5]||"",!0),Ml(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,_a,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,_a,!0),"@"),u.push(Xi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Rr(b,b.charAt(0)=="/"?Vl:mu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Rr(b,pu)),u.join("")},Dn.prototype.resolve=function(u){const m=Ut(this);let b=!!u.j;b?$t(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var T=u.h;if(b)As(m,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let re=0;re<U.length;){const je=U[re++];je=="."?T&&re==U.length&&H.push(""):je==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&re==U.length&&H.push("")):(H.push(je),T=!0)}T=H.join("/")}else T=U}return b?m.h=T:b=u.i.toString()!=="",b?Ml(m,yu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ut(u){return new Dn(u)}function $t(u,m,b){u.j=b?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ml(u,m,b){m instanceof xs?(u.i=m,ba(u.i,u.l)):(b||(m=Rr(m,ws)),u.i=new xs(m,u.l))}function at(u,m,b){u.i.set(m,b)}function xr(u){return at(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,vn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,mu=/[#\?:]/g,Vl=/[#\?]/g,ws=/[#\?@]/g,pu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=xs.prototype,s.add=function(u,m){bn(this),this.i=null,u=Rs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function gu(u,m){bn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kl(u,m){return bn(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){bn(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(m,U,T,this)},this)},this)};function jl(u,m){bn(u);let b=[];if(typeof m=="string")kl(u,m)&&(b=b.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return bn(this),this.i=null,u=Rs(this,u),kl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jl(this,u),u.length>0?String(u[0]):m):m};function va(u,m,b){gu(u,m),b.length>0&&(u.i=null,u.g.set(Rs(u,m),Q(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var b=m[T];const U=Xi(b);b=jl(this,b);for(let H=0;H<b.length;H++){let re=U;b[H]!==""&&(re+="="+Xi(b[H])),u.push(re)}}return this.i=u.join("&")};function yu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(gu(this,T),va(this,U,b))},u)),u.j=m}function li(u,m){const b=new si;if(d.Image){const T=new Image;T.onload=S(Hn,b,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Hn,b,"TestLoadImage: error",!1,m,T),T.onabort=S(Hn,b,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Hn,b,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ll(u,m){const b=new si,T=new AbortController,U=setTimeout(()=>{T.abort(),Hn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Hn(b,"TestPingServer: ok",!0,m):Hn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Hn(b,"TestPingServer: error",!1,m)})}function Hn(u,m,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Ns(){this.g=new ha}function Ii(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ii,fa),Ii.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Nr,Te),s=Nr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,oi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):oi(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,oi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function oi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return ie(u,function(b,T){m+=T,m+=":",m+=b,m+=`\r
`}),m}function Cr(u,m,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Fn(b),typeof u=="string"?b!=null&&Xi(b):at(u,m,b))}function ut(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ut,Te);var Di=/^https?$/i,Ul=["POST","PUT"];s=ut.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ir(this,H);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())b.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ul,m,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of b)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ir(this,H)}};function Ir(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Pl(u),$i(u)}function Pl(u){u.A||(u.A=!0,Ue(u,"complete"),Ue(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ue(this,"complete"),Ue(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ut.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&ui(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ue(u,"readystatechange"),ui(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var T;if(T=H===0){let re=String(u.D).match(du)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),T=!Di.test(re?re.toLowerCase():"")}b=T}if(b)Ue(u,"complete"),Ue(u,"success");else{u.o=6;try{var U=ui(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Pl(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||Ue(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),wl(m)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&ui(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var b=cu(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=m[U]||[];m[U]=H,H.push(b)}pe(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,T){kt(0),this.W=u,this.H=m||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Au(this,null,this.W),Mi(this)};function zl(u){if(Ta(u),u.I==3){var m=u.V++,b=Ut(u.J);if(at(b,"SID",u.M),at(b,"RID",m),at(b,"TYPE","terminate"),Or(u,b),m=new ri(u,u.j,m),m.M=2,m.A=xr(Ut(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}Su(u)}function Ds(u){u.g&&(Bl(u),u.g.cancel(),u.g=null)}function Ta(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Cl(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||x(),Ke||(dt(),Ke=!0),I.add(m,u),u.D=0}}function Sa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ei(_(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ri(this,this.j,u);let H=this.o;if(this.U&&(H?(H=w(H),J(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=_u(this,U,m),b=Ut(this.J),at(b,"RID",u),at(b,"CVER",22),this.G&&at(b,"X-HTTP-Session-Id",this.G),Or(this,b),H&&(this.R?m="headers="+Xi(Fn(H))+"&"+m:this.u&&Cr(b,this.u,H)),Il(this.h,U),this.Ra&&at(b,"TYPE","init"),this.S?(at(b,"$req",m),at(b,"SID","null"),U.U=!0,Si(U,b,null)):Si(U,b,m),this.I=2}}else this.I==3&&(u?ql(this,u):this.i.length==0||Cl(this.h)||ql(this))};function ql(u,m){var b;m?b=m.l:b=u.V++;const T=Ut(u.J);at(T,"SID",u.M),at(T,"RID",b),at(T,"AID",u.K),Or(u,T),u.u&&u.o&&Cr(T,u.u,u.o),b=new ri(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,b),Si(b,T,m)}function Or(u,m){u.H&&ie(u.H,function(b,T){at(m,T,b)}),u.l&&ie({},function(b,T){at(m,T,b)})}function _u(u,m,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let je=-1;for(;;){const Nt=["count="+b];je==-1?b>0?(je=U[0].g,Nt.push("ofs="+je)):je=0:Nt.push("ofs="+je);let nt=!0;for(let vt=0;vt<b;vt++){var H=U[vt].g;const Gn=U[vt].map;if(H-=je,H<0)je=Math.max(0,U[vt].g-100),nt=!1;else try{H="req"+H+"_"||"";try{var re=Gn instanceof Map?Gn:Object.entries(Gn);for(const[ki,ci]of re){let hi=ci;g(ci)&&(hi=zn(ci)),Nt.push(H+ki+"="+encodeURIComponent(hi))}}catch(ki){throw Nt.push(H+"type="+encodeURIComponent("_badmap")),ki}}catch{T&&T(Gn)}}if(nt){re=Nt.join("&");break e}}re=void 0}return u=u.i.splice(0,b),m.G=u,re}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||x(),Ke||(dt(),Ke=!0),I.add(m,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ei(_(u.Da,u),Tu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Ds(this),bu(this))};function Bl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ri(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ut(u.na);at(m,"RID","rpc"),at(m,"SID",u.M),at(m,"AID",u.K),at(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&at(m,"TO",u.ia),at(m,"TYPE","xmlhttp"),Or(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=xr(Ut(m)),b.u=null,b.R=!0,pa(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ds(this),Mr(this),kt(19))};function Aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var b=null;if(u.g==m){Aa(u),Bl(u),u.g=null;var T=2}else if(Ni(u.h,m))b=m.G,Dl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=ma(),Ue(T,new bi(T,b)),Mi(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Sa(u,m)||T==2&&Mr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),U){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function Tu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new Dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$t(T,"https"),xr(T),U?li(T.toString(),b):Ll(T.toString(),b)}else kt(2);u.I=0,u.l&&u.l.pa(m),Su(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Ol(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,b){var T=b instanceof Dn?Ut(b):new Dn(b);if(T.g!="")m&&(T.g=m+"."+T.g),As(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new Dn(null);T&&$t(H,T),m&&(H.g=m),U&&As(H,U),b&&(H.h=b),T=H}return b=u.G,m=u.wa,b&&m&&at(T,b,m),at(T,"VER",u.ka),Or(u,T),T}function wu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ut(new Ii({ab:b})):new ut(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){Te.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}A(gn,Te),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){zl(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=zn(u),u=b);m.i.push(new Lt(m.Ya++,u)),m.I==3&&Mi(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,gn.Z.N.call(this)};function Ru(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ru,en);function Nu(){qn.call(this),this.status=1}A(Nu,qn);function Zi(u){this.g=u}A(Zi,xu),Zi.prototype.ra=function(){Ue(this.g,"a")},Zi.prototype.qa=function(u){Ue(this.g,new Ru(u))},Zi.prototype.pa=function(u){Ue(this.g,new Nu)},Zi.prototype.oa=function(){Ue(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,yb=function(){return new Os},gb=function(){return ma()},pb=Rt,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Pc=Ar,xl.COMPLETE="complete",mb=xl,da.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Io=da,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,db=ut}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore",O0="4.9.2";class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let vl="12.3.0";const aa=new jm("@firebase/firestore");function tl(){return aa.logLevel}function ce(s,...e){if(aa.logLevel<=Ge.DEBUG){const i=e.map(Pm);aa.debug(`Firestore (${vl}): ${s}`,...i)}}function vs(s,...e){if(aa.logLevel<=Ge.ERROR){const i=e.map(Pm);aa.error(`Firestore (${vl}): ${s}`,...i)}}function cl(s,...e){if(aa.logLevel<=Ge.WARN){const i=e.map(Pm);aa.warn(`Firestore (${vl}): ${s}`,...i)}}function Pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function xe(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,_b(s,r,i)}function _b(s,e,i){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw vs(r),new Error(r)}function rt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||_b(e,o,r)}function ke(s,e){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class vb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class ix{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){rt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new vb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class rx{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ax{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new rx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){rt(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(rt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ox(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=ox(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=e.charAt(o[c]%62))}return r}}function Qe(s,e){return s<e?-1:s>e?1:0}function pm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Jd(o)===Jd(c)?Qe(o,c):Jd(o)?1:-1}return Qe(s.length,e.length)}const ux=55296,cx=57343;function Jd(s){const e=s.charCodeAt(0);return e>=ux&&e<=cx}function hl(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}const V0="__name__";class zi{constructor(e,i,r){i===void 0?i=0:i>e.length&&xe(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&xe(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const c=zi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Qe(e.length,i.length)}static compareSegments(e,i){const r=zi.isNumericId(e),o=zi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?zi.extractNumericId(e).compare(zi.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class pt extends zi{construct(e,i,r){return new pt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new pt(i)}static emptyPath(){return new pt([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends zi{construct(e,i,r){return new un(e,i,r)}static isValidIdentifier(e){return hx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V0}static keyField(){return new un([V0])}static fromServerFormat(e){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new oe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new oe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new oe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(pt.fromString(e))}static fromName(e){return new _e(pt.fromString(e).popFirst(5))}static empty(){return new _e(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new pt(e.slice()))}}function bb(s,e,i){if(!i)throw new oe(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function fx(s,e,i,r){if(e===!0&&r===!0)throw new oe(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function k0(s){if(!_e.isDocumentKey(s))throw new oe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function j0(s){if(_e.isDocumentKey(s))throw new oe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Eb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function gh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":xe(12329,{type:typeof s})}function Nn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gh(s);throw new oe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Gt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Jo(s,e){if(!Eb(s))throw new oe(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new oe(K.INVALID_ARGUMENT,i);return!0}const L0=-62135596800,U0=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*U0);return new _t(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<L0)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Gt("string",_t._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new _t(0,0))}static max(){return new Oe(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;function dx(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(r===1e9?new _t(i+1,0):new _t(i,r));return new dr(o,_e.empty(),e)}function mx(s){return new dr(s.readTime,s.key,qo)}class dr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new dr(Oe.min(),_e.empty(),qo)}static max(){return new dr(Oe.max(),_e.empty(),qo)}}function px(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:Qe(s.largestBatchId,e.largestBatchId))}const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bl(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==gx)throw s;ce("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>r(v)))})),d=!0,c===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++g,g===c&&r(d)}),(S=>o(S)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):r()};c()}))}}function _x(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function El(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const qm=-1;function _h(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function vx(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Tb="";function bx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=P0(e)),e=Ex(s.get(i),e);return P0(e)}function Ex(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Tb:i+="";break;default:i+=c}}return i}function P0(s){return s+Tb+""}function z0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Sb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Tt{constructor(e,i){this.comparator=e,this.root=i||ln.EMPTY}insert(e,i){return new Tt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??ln.RED,this.left=o??ln.EMPTY,this.right=c??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,c){return new ln(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,i,r,o,c){return this}insert(e,i,r){return new ln(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Yt(this.comparator);return i.data=e,i}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Yt(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Ab("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(rt(!!s,39018),typeof s=="string"){let e=0;const i=Tx.exec(s);if(rt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(s.seconds),nanos:Dt(s.nanos)}}function Dt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}const wb="server_timestamp",xb="__type__",Rb="__previous_value__",Nb="__local_write_time__";function Bm(s){return(s?.mapValue?.fields||{})[xb]?.stringValue===wb}function vh(s){const e=s.mapValue.fields[Rb];return Bm(e)?vh(e):e}function Bo(s){const e=mr(s.mapValue.fields[Nb].timestampValue);return new _t(e.seconds,e.nanos)}class Sx{constructor(e,i,r,o,c,d,g,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Zc="(default)";class Ho{constructor(e,i){this.projectId=e,this.database=i||Zc}static empty(){return new Ho("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}const Cb="__type__",Ax="__max__",kc={mapValue:{}},Ib="__vector__",Wc="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Bm(s)?4:xx(s)?9007199254740991:wx(s)?10:11:xe(28295,{value:s})}function Qi(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bo(s).isEqual(Bo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=mr(o.timestampValue),g=mr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return pr(o.bytesValue).isEqual(pr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Dt(o.geoPointValue.latitude)===Dt(c.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Dt(o.integerValue)===Dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Dt(o.doubleValue),g=Dt(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return hl(s.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(z0(d)!==z0(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Qi(d[v],g[v])))return!1;return!0})(s,e);default:return xe(52216,{left:s})}}function Fo(s,e){return(s.values||[]).find((i=>Qi(i,e)))!==void 0}function fl(s,e){if(s===e)return 0;const i=gr(s),r=gr(e);if(i!==r)return Qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Dt(c.integerValue||c.doubleValue),v=Dt(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(s,e);case 3:return B0(s.timestampValue,e.timestampValue);case 4:return B0(Bo(s),Bo(e));case 5:return pm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=pr(c),v=pr(d);return g.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const S=Qe(g[_],v[_]);if(S!==0)return S}return Qe(g.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Qe(Dt(c.latitude),Dt(d.latitude));return g!==0?g:Qe(Dt(c.longitude),Dt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return H0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},_=g[Wc]?.arrayValue,S=v[Wc]?.arrayValue,A=Qe(_?.values?.length||0,S?.values?.length||0);return A!==0?A:H0(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===kc.mapValue&&d===kc.mapValue)return 0;if(c===kc.mapValue)return 1;if(d===kc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let A=0;A<v.length&&A<S.length;++A){const M=pm(v[A],S[A]);if(M!==0)return M;const Q=fl(g[v[A]],_[S[A]]);if(Q!==0)return Q}return Qe(v.length,S.length)})(s.mapValue,e.mapValue);default:throw xe(23264,{he:i})}}function B0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Qe(s,e);const i=mr(s),r=mr(e),o=Qe(i.seconds,r.seconds);return o!==0?o:Qe(i.nanos,r.nanos)}function H0(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=fl(i[o],r[o]);if(c)return c}return Qe(i.length,r.length)}function dl(s){return gm(s)}function gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=gm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${gm(i.fields[d])}`;return o+"}"})(s.mapValue):xe(61005,{value:s})}function zc(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+zc(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return vr(r.fields,((c,d)=>{o+=c.length+zc(d)})),o})(s.mapValue);default:throw xe(13486,{value:s})}}function F0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ym(s){return!!s&&"integerValue"in s}function Hm(s){return!!s&&"arrayValue"in s}function G0(s){return!!s&&"nullValue"in s}function Q0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function wx(s){return(s?.mapValue?.fields||{})[Cb]?.stringValue===Ib}function ko(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=ko(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ko(s.arrayValue.values[i]);return e}return{...s}}function xx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Ax}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(i)}setAll(e){let i=un.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=ko(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){vr(i,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Rn(ko(this.value))}}function Db(s){const e=[];return vr(s.fields,((i,r)=>{const o=new un([i]);if(qc(r)){const c=Db(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Pn(e)}class mn{constructor(e,i,r,o,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new mn(e,0,Oe.min(),Oe.min(),Oe.min(),Rn.empty(),0)}static newFoundDocument(e,i,r,o){return new mn(e,1,i,Oe.min(),r,o,0)}static newNoDocument(e,i){return new mn(e,2,i,Oe.min(),Oe.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Oe.min(),Oe.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(e,i){this.position=e,this.inclusive=i}}function Y0(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=fl(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function K0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Qi(s.position[i],e.position[i]))return!1;return!0}class Go{constructor(e,i="asc"){this.field=e,this.dir=i}}function Rx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Ob{}class Ft extends Ob{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Cx(e,i,r):i==="array-contains"?new Ox(e,r):i==="in"?new Mx(e,r):i==="not-in"?new Vx(e,r):i==="array-contains-any"?new kx(e,r):new Ft(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Ix(e,r):new Dx(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fl(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(fl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends Ob{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new _i(e,i)}matches(e){return Mb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mb(s){return s.op==="and"}function Vb(s){return Nx(s)&&Mb(s)}function Nx(s){for(const e of s.filters)if(e instanceof _i)return!1;return!0}function _m(s){if(s instanceof Ft)return s.field.canonicalString()+s.op.toString()+dl(s.value);if(Vb(s))return s.filters.map((e=>_m(e))).join(",");{const e=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${e})`}}function kb(s,e){return s instanceof Ft?(function(r,o){return o instanceof Ft&&r.op===o.op&&r.field.isEqual(o.field)&&Qi(r.value,o.value)})(s,e):s instanceof _i?(function(r,o){return o instanceof _i&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,g)=>c&&kb(d,o.filters[g])),!0):!1})(s,e):void xe(19439)}function jb(s){return s instanceof Ft?(function(i){return`${i.field.canonicalString()} ${i.op} ${dl(i.value)}`})(s):s instanceof _i?(function(i){return i.op.toString()+" {"+i.getFilters().map(jb).join(" ,")+"}"})(s):"Filter"}class Cx extends Ft{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class Ix extends Ft{constructor(e,i){super(e,"in",i),this.keys=Lb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Dx extends Ft{constructor(e,i){super(e,"not-in",i),this.keys=Lb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Lb(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class Ox extends Ft{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Hm(i)&&Fo(i.arrayValue,this.value)}}class Mx extends Ft{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fo(this.value.arrayValue,i)}}class Vx extends Ft{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fo(this.value.arrayValue,i)}}class kx extends Ft{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Fo(this.value.arrayValue,r)))}}class jx{constructor(e,i=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function X0(s,e=null,i=[],r=[],o=null,c=null,d=null){return new jx(s,e,i,r,o,c,d)}function Fm(s){const e=ke(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>_m(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>dl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>dl(r))).join(",")),e.Te=i}return e.Te}function Gm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Rx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!kb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!K0(s.startAt,e.startAt)&&K0(s.endAt,e.endAt)}function vm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Tl{constructor(e,i=null,r=[],o=[],c=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Lx(s,e,i,r,o,c,d,g){return new Tl(s,e,i,r,o,c,d,g)}function bh(s){return new Tl(s)}function $0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Ub(s){return s.collectionGroup!==null}function jo(s){const e=ke(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Yt(un.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Go(c,r))})),i.has(un.keyField().canonicalString())||e.Ie.push(new Go(un.keyField(),r))}return e.Ie}function qi(s){const e=ke(s);return e.Ee||(e.Ee=Ux(e,jo(s))),e.Ee}function Ux(s,e){if(s.limitType==="F")return X0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Go(o.field,c)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return X0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function bm(s,e){const i=s.filters.concat([e]);return new Tl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Em(s,e,i){return new Tl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Eh(s,e){return Gm(qi(s),qi(e))&&s.limitType===e.limitType}function Pb(s){return`${Fm(qi(s))}|lt:${s.limitType}`}function nl(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>jb(o))).join(", ")}]`),_h(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>dl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>dl(o))).join(",")),`Target(${r})`})(qi(s))}; limitType=${s.limitType})`}function Th(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of jo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,v){const _=Y0(d,g,v);return d.inclusive?_<=0:_<0})(r.startAt,jo(r),o)||r.endAt&&!(function(d,g,v){const _=Y0(d,g,v);return d.inclusive?_>=0:_>0})(r.endAt,jo(r),o))})(s,e)}function Px(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function zb(s){return(e,i)=>{let r=!1;for(const o of jo(s)){const c=zx(o,e,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function zx(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(c,d,g){const v=d.data.field(c),_=g.data.field(c);return v!==null&&_!==null?fl(v,_):xe(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,((i,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Sb(this.inner)}size(){return this.innerSize}}const qx=new Tt(_e.comparator);function bs(){return qx}const qb=new Tt(_e.comparator);function Do(...s){let e=qb;for(const i of s)e=e.insert(i.key,i);return e}function Bb(s){let e=qb;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Wr(){return Lo()}function Hb(){return Lo()}function Lo(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Bx=new Tt(_e.comparator),Hx=new Yt(_e.comparator);function Ye(...s){let e=Hx;for(const i of s)e=e.add(i);return e}const Fx=new Yt(Qe);function Gx(){return Fx}function Qm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function Fb(s){return{integerValue:""+s}}function Qx(s,e){return vx(e)?Fb(e):Qm(s,e)}class Sh{constructor(){this._=void 0}}function Yx(s,e,i){return s instanceof th?(function(o,c){const d={fields:{[xb]:{stringValue:wb},[Nb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bm(c)&&(c=vh(c)),c&&(d.fields[Rb]=c),{mapValue:d}})(i,e):s instanceof Qo?Qb(s,e):s instanceof Yo?Yb(s,e):(function(o,c){const d=Gb(o,c),g=J0(d)+J0(o.Ae);return ym(d)&&ym(o.Ae)?Fb(g):Qm(o.serializer,g)})(s,e)}function Kx(s,e,i){return s instanceof Qo?Qb(s,e):s instanceof Yo?Yb(s,e):i}function Gb(s,e){return s instanceof nh?(function(r){return ym(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class th extends Sh{}class Qo extends Sh{constructor(e){super(),this.elements=e}}function Qb(s,e){const i=Kb(e);for(const r of s.elements)i.some((o=>Qi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Yo extends Sh{constructor(e){super(),this.elements=e}}function Yb(s,e){let i=Kb(e);for(const r of s.elements)i=i.filter((o=>!Qi(o,r)));return{arrayValue:{values:i}}}class nh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function J0(s){return Dt(s.integerValue||s.doubleValue)}function Kb(s){return Hm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Xx(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Qo&&o instanceof Qo||r instanceof Yo&&o instanceof Yo?hl(r.elements,o.elements,Qi):r instanceof nh&&o instanceof nh?Qi(r.Ae,o.Ae):r instanceof th&&o instanceof th})(s.transform,e.transform)}class $x{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ah{}function Xb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ym(s.key,ti.none()):new Zo(s.key,s.data,ti.none());{const i=s.data,r=Rn.empty();let o=new Yt(un.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new br(s.key,r,new Pn(o.toArray()),ti.none())}}function Jx(s,e,i){s instanceof Zo?(function(o,c,d){const g=o.value.clone(),v=W0(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=W0(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll($b(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Uo(s,e,i,r){return s instanceof Zo?(function(c,d,g,v){if(!Bc(c.precondition,d))return g;const _=c.value.clone(),S=ev(c.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof br?(function(c,d,g,v){if(!Bc(c.precondition,d))return g;const _=ev(c.fieldTransforms,v,d),S=d.data;return S.setAll($b(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Zx(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=Gb(r.transform,o||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(r.field,c))}return i||null}function Z0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&hl(r,o,((c,d)=>Xx(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Zo extends Ah{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class br extends Ah{constructor(e,i,r,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $b(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function W0(s,e,i){const r=new Map;rt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,Kx(d,g,i[o]))}return r}function ev(s,e,i){const r=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);r.set(o.field,Yx(c,d,e))}return r}class Ym extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wx extends Ah{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class e2{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Jx(c,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Uo(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Uo(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Hb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=Xb(d,g);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((i,r)=>Z0(i,r)))&&hl(this.baseMutations,e.baseMutations,((i,r)=>Z0(i,r)))}}class Km{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return Bx})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Km(e,i,r,o)}}class t2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class n2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ht,Je;function i2(s){switch(s){case K.OK:return xe(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return xe(15467,{code:s})}}function Jb(s){if(s===void 0)return vs("GRPC error has no .code"),K.UNKNOWN;switch(s){case Ht.OK:return K.OK;case Ht.CANCELLED:return K.CANCELLED;case Ht.UNKNOWN:return K.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return K.INTERNAL;case Ht.UNAVAILABLE:return K.UNAVAILABLE;case Ht.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ht.NOT_FOUND:return K.NOT_FOUND;case Ht.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ht.ABORTED:return K.ABORTED;case Ht.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ht.DATA_LOSS:return K.DATA_LOSS;default:return xe(39323,{code:s})}}(Je=Ht||(Ht={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function s2(){return new TextEncoder}const r2=new hr([4294967295,4294967295],0);function tv(s){const e=s2().encode(s),i=new fb;return i.update(e),new Uint8Array(i.digest())}function nv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([i,r],0),new hr([o,c],0)]}class Xm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Oo(`Invalid padding: ${i}`);if(r<0)throw new Oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=hr.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(hr.fromNumber(r)));return o.compare(r2)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=tv(e),[r,o]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Xm(c,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=tv(e),[r,o]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,i,r,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,Wo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new wh(Oe.min(),o,new Tt(Qe),bs(),Ye())}}class Wo{constructor(e,i,r,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Wo(r,i,Ye(),Ye(),Ye())}}class Hc{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Zb{constructor(e,i){this.targetId=e,this.Ce=i}}class Wb{constructor(e,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class iv{constructor(){this.ve=0,this.Fe=sv(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),i=Ye(),r=Ye();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:c})}})),new Wo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=sv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a2{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.Je=jc(),this.He=jc(),this.Ye=new Tt(Qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(vm(c))if(r===0){const d=new _e(c.path);this.et(i,d,mn.newNoDocument(d,Oe.min()))}else rt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=pr(r).toUint8Array()}catch(v){if(v instanceof Ab)return cl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Xm(d,o,c)}catch(v){return cl(v instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&vm(g.target)){const v=new _e(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,mn.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Ye();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new wh(e,i,this.Ye,this.je,r);return this.je=bs(),this.Je=jc(),this.He=jc(),this.Ye=new Tt(Qe),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new iv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Yt(Qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Yt(Qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new Tt(_e.comparator)}function sv(){return new Tt(_e.comparator)}const l2={asc:"ASCENDING",desc:"DESCENDING"},o2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u2={and:"AND",or:"OR"};class c2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function ih(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function h2(s,e){return ih(s,e.toTimestamp())}function Bi(s){return rt(!!s,49232),Oe.fromTimestamp((function(i){const r=mr(i);return new _t(r.seconds,r.nanos)})(s))}function $m(s,e){return Sm(s,e).canonicalString()}function Sm(s,e){const i=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function tE(s){const e=pt.fromString(s);return rt(aE(e),10190,{key:e.toString()}),e}function Am(s,e){return $m(s.databaseId,e.path)}function Zd(s,e){const i=tE(e);if(i.get(1)!==s.databaseId.projectId)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(iE(i))}function nE(s,e){return $m(s.databaseId,e)}function f2(s){const e=tE(s);return e.length===4?pt.emptyPath():iE(e)}function wm(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function iE(s){return rt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function rv(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function d2(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:xe(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(rt(S===void 0||typeof S=="string",58123),cn.fromBase64String(S||"")):(rt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),cn.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?K.UNKNOWN:Jb(_.code);return new oe(S,_.message||"")})(d);i=new Wb(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Zd(s,r.document.name),c=Bi(r.document.updateTime),d=r.document.createTime?Bi(r.document.createTime):Oe.min(),g=new Rn({mapValue:{fields:r.document.fields}}),v=mn.newFoundDocument(o,c,d,g),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Hc(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Zd(s,r.document),c=r.readTime?Bi(r.readTime):Oe.min(),d=mn.newNoDocument(o,c),g=r.removedTargetIds||[];i=new Hc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Zd(s,r.document),c=r.removedTargetIds||[];i=new Hc([],c,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new n2(o,c),g=r.targetId;i=new Zb(g,d)}}return i}function m2(s,e){let i;if(e instanceof Zo)i={update:rv(s,e.key,e.value)};else if(e instanceof Ym)i={delete:Am(s,e.key)};else if(e instanceof br)i={update:rv(s,e.key,e.data),updateMask:S2(e.fieldMask)};else{if(!(e instanceof Wx))return xe(16599,{Vt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw xe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:h2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)})(s,e.precondition)),i}function p2(s,e){return s&&s.length>0?(rt(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Bi(o.updateTime):Bi(c);return d.isEqual(Oe.min())&&(d=Bi(c)),new $x(d,o.transformResults||[])})(i,e)))):[]}function g2(s,e){return{documents:[nE(s,e.path)]}}function y2(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=nE(s,o);const c=(function(_){if(_.length!==0)return rE(_i.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:il(M.field),direction:b2(M.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Tm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function _2(s){let e=f2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){rt(r===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=sE(A);return M instanceof _i&&Vb(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new Go(sl(W.field),(function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let M;return M=typeof A=="object"?A.value:A,_h(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(A){const M=!!A.before,Q=A.values||[];return new eh(Q,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,Q=A.values||[];return new eh(Q,M)})(i.endAt)),Lx(e,o,d,c,g,"F",v,_)}function v2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function sE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=sl(i.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(i.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sl(i.unaryFilter.field);return Ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=sl(i.unaryFilter.field);return Ft.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ft.create(sl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return _i.create(i.compositeFilter.filters.map((r=>sE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(i.compositeFilter.op))})(s):xe(30097,{filter:s})}function b2(s){return l2[s]}function E2(s){return o2[s]}function T2(s){return u2[s]}function il(s){return{fieldPath:s.canonicalString()}}function sl(s){return un.fromServerFormat(s.fieldPath)}function rE(s){return s instanceof Ft?(function(i){if(i.op==="=="){if(Q0(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NAN"}};if(G0(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q0(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NAN"}};if(G0(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(i.field),op:E2(i.op),value:i.value}}})(s):s instanceof _i?(function(i){const r=i.getFilters().map((o=>rE(o)));return r.length===1?r[0]:{compositeFilter:{op:T2(i.op),filters:r}}})(s):xe(54877,{filter:s})}function S2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function aE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class lr{constructor(e,i,r,o,c=Oe.min(),d=Oe.min(),g=cn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class A2{constructor(e){this.yt=e}}function w2(s){const e=_2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Em(e,e.limit,"L"):e}class x2{constructor(){this.Cn=new R2}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(dr.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class R2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Yt(pt.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Yt(pt.comparator)).toArray()}}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lE=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(lE,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}const lv="LruGarbageCollector",N2=1048576;function ov([s,e],[i,r]){const o=Qe(s,i);return o===0?Qe(e,r):o}class C2{constructor(e){this.Ir=e,this.buffer=new Yt(ov),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();ov(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class I2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){El(i)?ce(lv,"Ignoring IndexedDB error during garbage collection: ",i):await bl(i)}await this.Vr(3e5)}))}}class D2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(yh.ce);const r=new C2(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(av)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,c,d,g,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),tl()<=Ge.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function O2(s,e){return new D2(s,e)}class M2{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class V2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class k2{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Uo(r.mutation,o,Pn.empty(),_t.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Ye()){const o=Wr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((c=>{let d=Do();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Wr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Ye())))}populateOverlays(e,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let c=bs();const d=Lo(),g=(function(){return Lo()})();return i.forEach(((v,_)=>{const S=r.get(_.key);o.has(_.key)&&(S===void 0||S.mutation instanceof br)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Uo(S.mutation,_,S.mutation.getFieldMask(),_t.now())):d.set(_.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new V2(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Lo();let o=new Tt(((d,g)=>d-g)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=r.get(v)||Pn.empty();S=g.applyToLocalView(_,S),r.set(v,S);const A=(o.get(g.batchId)||Ye()).add(v);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,S=v.value,A=Hb();S.forEach((M=>{if(!c.has(M)){const Q=Xb(i.get(M),r.get(M));Q!==null&&A.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Ub(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-c.size):Z.resolve(Wr());let g=qo,v=c;return d.next((_=>Z.forEach(_,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{v=v.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Ye()))).next((S=>({batchId:g,changes:Bb(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let o=Do();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const c=i.collectionGroup;let d=Do();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(v=>{const _=(function(A,M){return new Tl(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,o)))).next((d=>{c.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,mn.newInvalidDocument(S)))}));let g=Do();return d.forEach(((v,_)=>{const S=c.get(v);S!==void 0&&Uo(S.mutation,_,Pn.empty(),_t.now()),Th(i,_)&&(g=g.insert(v,_))})),g}))}}class j2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:w2(o.bundledQuery),readTime:Bi(o.readTime)}})(i)),Z.resolve()}}class L2{constructor(){this.overlays=new Tt(_e.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Wr();return Z.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=Wr(),c=i.length+1,d=new _e(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let c=new Tt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=c.get(_.largestBatchId);S===null&&(S=Wr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Wr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new t2(i,r));let c=this.qr.get(i);c===void 0&&(c=Ye(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class U2{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Jm{constructor(){this.Qr=new Yt(Zt.$r),this.Ur=new Yt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Zt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Zt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _e(new pt([])),r=new Zt(i,e),o=new Zt(i,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new pt([])),r=new Zt(i,e),o=new Zt(i,e+1);let c=Ye();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Zt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||Qe(e.Yr,i.Yr)}static Kr(e,i){return Qe(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class P2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(Zt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new e2(c,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Zt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Zt(i,0),o=new Zt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Yt(Qe);return i.forEach((o=>{const c=new Zt(o,0),d=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new Zt(new _e(c),0);let g=new Yt(Qe);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){rt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Zt(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Zt(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class z2{constructor(e){this.ri=e,this.docs=(function(){return new Tt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let r=bs();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let c=bs();const d=i.path,g=new _e(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||px(mx(S),r)<=0||(o.has(S.key)||Th(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,r,o){xe(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new q2(this)}getSize(e){return Z.resolve(this.size)}}class q2 extends M2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class B2{constructor(e){this.persistence=e,this.si=new ua((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ml(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class oE{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new U2,this.referenceDelegate=e(this),this.Pi=new B2(this),this.indexManager=new x2,this.remoteDocumentCache=(function(o){return new z2(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new A2(i),this.Ii=new j2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new L2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new P2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const o=new H2(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class H2 extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new Jm,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=_e.fromPath(r);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Oe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class sh{constructor(e,i){this.persistence=e,this.pi=new ua((r=>bx(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=O2(this,i)}static mi(e,i){return new sh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Oe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=zc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wm{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Ye(),o=Ye();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wm(e,i.fromCache,r,o)}}class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class G2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jA()?8:_x(pn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new F2;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(tl()<=Ge.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",nl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(tl()<=Ge.DEBUG&&ce("QueryEngine","Query:",nl(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(tl()<=Ge.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",nl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):Z.resolve())}ys(e,i){if($0(i))return Z.resolve(null);let r=qi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Em(i,null,"F"),r=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Ye(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,Em(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return $0(i)||o.isEqual(Oe.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?Z.resolve(null):(tl()<=Ge.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nl(i)),this.vs(e,d,i,dx(o,qo)).next((g=>g)))}))}Ds(e,i){let r=new Yt(zb(e));return i.forEach(((o,c)=>{Th(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,r){return tl()<=Ge.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",nl(i)),this.ps.getDocumentsMatchingQuery(e,i,dr.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ep="LocalStore",Q2=3e8;class Y2{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Tt(Qe),this.xs=new ua((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function K2(s,e,i,r){return new Y2(s,e,i,r)}async function uE(s,e){const i=ke(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let v=Ye();for(const _ of o){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function X2(s,e){const i=ke(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,S){const A=_.batch,M=A.keys();let Q=Z.resolve();return M.forEach((W=>{Q=Q.next((()=>S.getEntry(v,W))).next((le=>{const se=_.docVersions.get(W);rt(se!==null,48541),le.version.compareTo(se)<0&&(A.applyToRemoteDocument(le,_),le.isValidDocument()&&(le.setReadTime(_.commitVersion),S.addEntry(le)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(v,A)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=Ye();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function cE(s){const e=ke(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function $2(s,e){const i=ke(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((S,A)=>{const M=o.get(A);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let Q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?Q=Q.withResumeToken(cn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(A,Q),(function(le,se,be){return le.resumeToken.approximateByteSize()===0||se.snapshotVersion.toMicroseconds()-le.snapshotVersion.toMicroseconds()>=Q2?!0:be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0})(M,Q,S)&&g.push(i.Pi.updateTargetData(c,Q))}));let v=bs(),_=Ye();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(J2(c,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!r.isEqual(Oe.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function J2(s,e,i){let r=Ye(),o=Ye();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=bs();return i.forEach(((g,v)=>{const _=c.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Oe.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):ce(ep,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function Z2(s,e){const i=ke(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function W2(s,e){const i=ke(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new lr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function xm(s,e,i){const r=ke(s),o=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!El(d))throw d;ce(ep,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function uv(s,e,i){const r=ke(s);let o=Oe.min(),c=Ye();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const A=ke(v),M=A.xs.get(S);return M!==void 0?Z.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,S)})(r,d,qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Oe.min(),i?c:Ye()))).next((g=>(eR(r,Px(e),g),{documents:g,Qs:c})))))}function eR(s,e,i){let r=s.Os.get(e)||Oe.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class cv{constructor(){this.activeTargetIds=Gx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tR{constructor(){this.Mo=new cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nR{Oo(e){}shutdown(){}}const hv="ConnectivityMonitor";class fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(hv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function Rm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const Wd="RestConnection",iR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,c){const d=Rm(),g=this.zo(e,i.toUriEncodedString());ce(Wd,`Sending RPC '${e}' ${d}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(g),S=yl(_);return this.Jo(e,g,v,r,S).then((A=>(ce(Wd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw cl(Wd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(e,i,r,o,c,d){return this.Go(e,i,r,o,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const r=iR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class rR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class aR extends sR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,c){const d=Rm();return new Promise(((g,v)=>{const _=new db;_.setWithCredentials(!0),_.listenOnce(mb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const A=_.getResponseJson();ce(fn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Pc.TIMEOUT:ce(fn,`RPC '${e}' ${d} timed out`),v(new oe(K.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=_.getStatus();if(ce(fn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const le=(function(be){const Me=be.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Me)>=0?Me:K.UNKNOWN})(W.status);v(new oe(le,W.message))}else v(new oe(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new oe(K.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(fn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(o);ce(fn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const o=Rm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yb(),g=gb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=c.join("");ce(fn,`Creating RPC '${e}' stream ${o}: ${S}`,v);const A=d.createWebChannel(S,v);this.I_(A);let M=!1,Q=!1;const W=new rR({Yo:se=>{Q?ce(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,se):(M||(ce(fn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),M=!0),ce(fn,`RPC '${e}' stream ${o} sending:`,se),A.send(se))},Zo:()=>A.close()}),le=(se,be,Me)=>{se.listen(be,(Ae=>{try{Me(Ae)}catch(st){setTimeout((()=>{throw st}),0)}}))};return le(A,Io.EventType.OPEN,(()=>{Q||(ce(fn,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),le(A,Io.EventType.CLOSE,(()=>{Q||(Q=!0,ce(fn,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(A))})),le(A,Io.EventType.ERROR,(se=>{Q||(Q=!0,cl(fn,`RPC '${e}' stream ${o} transport errored. Name:`,se.name,"Message:",se.message),W.a_(new oe(K.UNAVAILABLE,"The operation could not be completed")))})),le(A,Io.EventType.MESSAGE,(se=>{if(!Q){const be=se.data[0];rt(!!be,16349);const Me=be,Ae=Me?.error||Me[0]?.error;if(Ae){ce(fn,`RPC '${e}' stream ${o} received error:`,Ae);const st=Ae.status;let dt=(function(x){const C=Ht[x];if(C!==void 0)return Jb(C)})(st),Ke=Ae.message;dt===void 0&&(dt=K.INTERNAL,Ke="Unknown error status: "+st+" with message "+Ae.message),Q=!0,W.a_(new oe(dt,Ke)),A.close()}else ce(fn,`RPC '${e}' stream ${o} received:`,be),W.u_(be)}})),le(g,pb.STAT_EVENT,(se=>{se.stat===mm.PROXY?ce(fn,`RPC '${e}' stream ${o} detected buffering proxy`):se.stat===mm.NOPROXY&&ce(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function em(){return typeof document<"u"?document:null}function xh(s){return new c2(s,!0)}class hE{constructor(e,i,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const dv="PersistentStream";class fE{constructor(e,i,r,o,c,d,g,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lR extends fE{constructor(e,i,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=d2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Oe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Oe.min():d.readTime?Bi(d.readTime):Oe.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=wm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=vm(v)?{documents:g2(c,v)}:{query:y2(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=eE(c,d.resumeToken);const _=Tm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Oe.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=Tm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=v2(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=wm(this.serializer),i.removeTarget=e,this.q_(i)}}class oR extends fE{constructor(e,i,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=p2(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>m2(this.serializer,r)))};this.q_(i)}}class uR{}class cR extends uR{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Sm(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(K.UNKNOWN,c.toString())}))}Ho(e,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Sm(i,r),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class fR{constructor(e,i,r,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ca(this)&&(ce(la,"Restarting streams for network reachability change."),await(async function(v){const _=ke(v);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Ra=new hR(r,o)}}async function Rh(s){if(ca(s))for(const e of s.da)await e(!0)}async function eu(s){for(const e of s.da)await e(!1)}function dE(s,e){const i=ke(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),sp(i)?ip(i):Sl(i).O_()&&np(i,e))}function tp(s,e){const i=ke(s),r=Sl(i);i.Ia.delete(e),r.O_()&&mE(i,e),i.Ia.size===0&&(r.O_()?r.L_():ca(i)&&i.Ra.set("Unknown"))}function np(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Sl(s).Y_(e)}function mE(s,e){s.Va.Ue(e),Sl(s).Z_(e)}function ip(s){s.Va=new a2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Sl(s).start(),s.Ra.ua()}function sp(s){return ca(s)&&!Sl(s).x_()&&s.Ia.size>0}function ca(s){return ke(s).Ea.size===0}function pE(s){s.Va=void 0}async function dR(s){s.Ra.set("Online")}async function mR(s){s.Ia.forEach(((e,i)=>{np(s,e)}))}async function pR(s,e){pE(s),sp(s)?(s.Ra.ha(e),ip(s)):s.Ra.set("Unknown")}async function gR(s,e,i){if(s.Ra.set("Online"),e instanceof Wb&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(r){ce(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(s,r)}else if(e instanceof Hc?s.Va.Ze(e):e instanceof Zb?s.Va.st(e):s.Va.tt(e),!i.isEqual(Oe.min()))try{const r=await cE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,_)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(cn.EMPTY_BYTE_STRING,S.snapshotVersion)),mE(c,v);const A=new lr(S.target,v,_,S.sequenceNumber);np(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ce(la,"Failed to raise snapshot:",r),await rh(s,r)}}async function rh(s,e,i){if(!El(e))throw e;s.Ea.add(1),await eu(s),s.Ra.set("Offline"),i||(i=()=>cE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rh(s)}))}function gE(s,e){return e().catch((i=>rh(s,i,e)))}async function Nh(s){const e=ke(s),i=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qm;for(;yR(e);)try{const o=await Z2(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,_R(e,o)}catch(o){await rh(e,o)}yE(e)&&_E(e)}function yR(s){return ca(s)&&s.Ta.length<10}function _R(s,e){s.Ta.push(e);const i=yr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function yE(s){return ca(s)&&!yr(s).x_()&&s.Ta.length>0}function _E(s){yr(s).start()}async function vR(s){yr(s).ra()}async function bR(s){const e=yr(s);for(const i of s.Ta)e.ea(i.mutations)}async function ER(s,e,i){const r=s.Ta.shift(),o=Km.from(r,e,i);await gE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Nh(s)}async function TR(s,e){e&&yr(s).X_&&await(async function(r,o){if((function(d){return i2(d)&&d!==K.ABORTED})(o.code)){const c=r.Ta.shift();yr(r).B_(),await gE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Nh(r)}})(s,e),yE(s)&&_E(s)}async function mv(s,e){const i=ke(s);i.asyncQueue.verifyOperationInProgress(),ce(la,"RemoteStore received new credentials");const r=ca(i);i.Ea.add(3),await eu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rh(i)}async function SR(s,e){const i=ke(s);e?(i.Ea.delete(2),await Rh(i)):e||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function Sl(s){return s.ma||(s.ma=(function(i,r,o){const c=ke(i);return c.sa(),new lR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:dR.bind(null,s),t_:mR.bind(null,s),r_:pR.bind(null,s),H_:gR.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),sp(s)?ip(s):s.Ra.set("Unknown")):(await s.ma.stop(),pE(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(i,r,o){const c=ke(i);return c.sa(),new oR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:vR.bind(null,s),r_:TR.bind(null,s),ta:bR.bind(null,s),na:ER.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Nh(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class rp{constructor(e,i,r,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,c){const d=Date.now()+r,g=new rp(e,i,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(s,e){if(vs("AsyncQueue",`${e}: ${s}`),El(s))return new oe(K.UNAVAILABLE,`${e}: ${s}`);throw s}class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=Do(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class pv{constructor(){this.ga=new Tt(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class pl{constructor(e,i,r,o,c,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new pl(e,i,rl.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class AR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wR{constructor(){this.queries=gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=ke(i),c=o.queries;o.queries=gv(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new oe(K.ABORTED,"Firestore shutting down"))}}function gv(){return new ua((s=>Pb(s)),Eh)}async function lp(s,e){const i=ke(s);let r=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new AR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=ap(d,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&up(i)}async function op(s,e){const i=ke(s),r=e.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function xR(s,e){const i=ke(s);let r=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&up(i)}function RR(s,e,i){const r=ke(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(e)}function up(s){s.Ca.forEach((e=>{e.next()}))}var Nm,yv;(yv=Nm||(Nm={})).Ma="default",yv.Cache="cache";class cp{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nm.Cache}}class vE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class NR{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=zb(e),this.tu=new rl(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new pv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((S,A)=>{const M=o.get(S),Q=Th(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),le=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let se=!1;M&&Q?M.data.isEqual(Q.data)?W!==le&&(r.track({type:3,doc:Q}),se=!0):this.su(M,Q)||(r.track({type:2,doc:Q}),se=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(g=!0)):!M&&Q?(r.track({type:0,doc:Q}),se=!0):M&&!Q&&(r.track({type:1,doc:M}),se=!0,(v||_)&&(g=!0)),se&&(Q?(d=d.add(Q),c=le?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,A)=>(function(Q,W){const le=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:se})}};return le(Q)-le(W)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new pl(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new bE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new vE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ye();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hp="SyncEngine";class CR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class IR{constructor(e){this.key=e,this.hu=!1}}class DR{constructor(e,i,r,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((g=>Pb(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(_e.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OR(s,e,i=!0){const r=xE(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await EE(r,e,i,!0),o}async function MR(s,e){const i=xE(s);await EE(i,e,!0,!1)}async function EE(s,e,i,r){const o=await W2(s.localStore,qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await VR(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&dE(s.remoteStore,o),g}async function VR(s,e,i,r,o){s.pu=(A,M,Q)=>(async function(le,se,be,Me){let Ae=se.view.ru(be);Ae.Cs&&(Ae=await uv(le.localStore,se.query,!1).then((({documents:I})=>se.view.ru(I,Ae))));const st=Me&&Me.targetChanges.get(se.targetId),dt=Me&&Me.targetMismatches.get(se.targetId)!=null,Ke=se.view.applyChanges(Ae,le.isPrimaryClient,st,dt);return vv(le,se.targetId,Ke.au),Ke.snapshot})(s,A,M,Q);const c=await uv(s.localStore,e,!0),d=new NR(e,c.Qs),g=d.ru(c.documents),v=Wo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,v);vv(s,i,_.au);const S=new CR(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function kR(s,e,i){const r=ke(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Eh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&tp(r.remoteStore,o.targetId),Cm(r,o.targetId)})).catch(bl)):(Cm(r,o.targetId),await xm(r.localStore,o.targetId,!0))}async function jR(s,e){const i=ke(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),tp(i.remoteStore,r.targetId))}async function LR(s,e,i){const r=FR(s);try{const o=await(function(d,g){const v=ke(d),_=_t.now(),S=g.reduce(((Q,W)=>Q.add(W.key)),Ye());let A,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=bs(),le=Ye();return v.Ns.getEntries(Q,S).next((se=>{W=se,W.forEach(((be,Me)=>{Me.isValidDocument()||(le=le.add(be))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,W))).next((se=>{A=se;const be=[];for(const Me of g){const Ae=Zx(Me,A.get(Me.key).overlayedDocument);Ae!=null&&be.push(new br(Me.key,Ae,Db(Ae.value.mapValue),ti.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,be,g)})).next((se=>{M=se;const be=se.applyToLocalDocumentSet(A,le);return v.documentOverlayCache.saveOverlays(Q,se.batchId,be)}))})).then((()=>({batchId:M.batchId,changes:Bb(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new Tt(Qe)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await tu(r,o.changes),await Nh(r.remoteStore)}catch(o){const c=ap(o,"Failed to persist write");i.reject(c)}}async function TE(s,e){const i=ke(s);try{const r=await $2(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?rt(d.hu,14607):o.removedDocuments.size>0&&(rt(d.hu,42227),d.hu=!1))})),await tu(i,r,e)}catch(r){await bl(r)}}function _v(s,e,i){const r=ke(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=ke(d);v.onlineState=g;let _=!1;v.queries.forEach(((S,A)=>{for(const M of A.Sa)M.va(g)&&(_=!0)})),_&&up(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UR(s,e,i){const r=ke(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new Tt(_e.comparator);d=d.insert(c,mn.newNoDocument(c,Oe.min()));const g=Ye().add(c),v=new wh(Oe.min(),new Map,new Tt(Qe),d,g);await TE(r,v),r.du=r.du.remove(c),r.Au.delete(e),fp(r)}else await xm(r.localStore,e,!1).then((()=>Cm(r,e,i))).catch(bl)}async function PR(s,e){const i=ke(s),r=e.batch.batchId;try{const o=await X2(i.localStore,e);AE(i,r,null),SE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await tu(i,o)}catch(o){await bl(o)}}async function zR(s,e,i){const r=ke(s);try{const o=await(function(d,g){const v=ke(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,g).next((A=>(rt(A!==null,37113),S=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);AE(r,e,i),SE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await tu(r,o)}catch(o){await bl(o)}}function SE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function AE(s,e,i){const r=ke(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Cm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||wE(s,r)}))}function wE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(tp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),fp(s))}function vv(s,e,i){for(const r of i)r instanceof vE?(s.Ru.addReference(r.key,e),qR(s,r)):r instanceof bE?(ce(hp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||wE(s,r.key)):xe(19791,{wu:r})}function qR(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ce(hp,"New document in limbo: "+i),s.Eu.add(r),fp(s))}function fp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(pt.fromString(e)),r=s.fu.next();s.Au.set(r,new IR(i)),s.du=s.du.insert(i,r),dE(s.remoteStore,new lr(qi(bh(i.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function tu(s,e,i){const r=ke(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){o.push(_);const S=Wm.As(v.targetId,_);c.push(S)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const S=ke(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(M=>Z.forEach(M.Es,(Q=>S.persistence.referenceDelegate.addReference(A,M.targetId,Q))).next((()=>Z.forEach(M.ds,(Q=>S.persistence.referenceDelegate.removeReference(A,M.targetId,Q)))))))))}catch(A){if(!El(A))throw A;ce(ep,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const Q=S.Ms.get(M),W=Q.snapshotVersion,le=Q.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(M,le)}}})(r.localStore,c))}async function BR(s,e){const i=ke(s);if(!i.currentUser.isEqual(e)){ce(hp,"User change. New user:",e.toKey());const r=await uE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new oe(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(i,r.Ls)}}function HR(s,e){const i=ke(s),r=i.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let o=Ye();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function xE(s){const e=ke(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=TE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UR.bind(null,e),e.Pu.H_=xR.bind(null,e.eventManager),e.Pu.yu=RR.bind(null,e.eventManager),e}function FR(s){const e=ke(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zR.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return K2(this.persistence,new G2,e.initialUser,this.serializer)}Cu(e){return new oE(Zm.mi,this.serializer)}Du(e){return new tR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class GR extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){rt(this.persistence.referenceDelegate instanceof sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new I2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new oE((r=>sh.mi(r,i)),this.serializer)}}class Im{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_v(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BR.bind(null,this.syncEngine),await SR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wR})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),r=(function(c){return new aR(c)})(e.databaseInfo);return(function(c,d,g,v){return new cR(c,d,g,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,c,d,g){return new fR(r,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return fv.v()?new fv:new nR})())}createSyncEngine(e,i){return(function(o,c,d,g,v,_,S){const A=new DR(o,c,d,g,v,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=ke(i);ce(la,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};class dp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _r="FirestoreClient";class QR{constructor(e,i,r,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ce(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ap(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tm(s,e){s.asyncQueue.verifyOperationInProgress(),ce(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await uE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function bv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await YR(s);ce(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>mv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>mv(e.remoteStore,o))),s._onlineComponents=e}async function YR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(_r,"Using user provided OfflineComponentProvider");try{await tm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;cl("Error using user provided cache. Falling back to memory cache: "+i),await tm(s,new ah)}}else ce(_r,"Using default OfflineComponentProvider"),await tm(s,new GR(void 0));return s._offlineComponents}async function RE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(_r,"Using user provided OnlineComponentProvider"),await bv(s,s._uninitializedComponentsProvider._online)):(ce(_r,"Using default OnlineComponentProvider"),await bv(s,new Im))),s._onlineComponents}function KR(s){return RE(s).then((e=>e.syncEngine))}async function lh(s){const e=await RE(s),i=e.eventManager;return i.onListen=OR.bind(null,e.syncEngine),i.onUnlisten=kR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=MR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jR.bind(null,e.syncEngine),i}function XR(s,e,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,_){const S=new dp({next:M=>{S.Nu(),d.enqueueAndForget((()=>op(c,A)));const Q=M.docs.has(g);!Q&&M.fromCache?_.reject(new oe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&M.fromCache&&v&&v.source==="server"?_.reject(new oe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new cp(bh(g.path),S,{includeMetadataChanges:!0,qa:!0});return lp(c,A)})(await lh(s),s.asyncQueue,e,i,r))),r.promise}function $R(s,e,i={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,_){const S=new dp({next:M=>{S.Nu(),d.enqueueAndForget((()=>op(c,A))),M.fromCache&&v.source==="server"?_.reject(new oe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new cp(g,S,{includeMetadataChanges:!0,qa:!0});return lp(c,A)})(await lh(s),s.asyncQueue,e,i,r))),r.promise}function NE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const Ev=new Map;const CE="firestore.googleapis.com",Tv=!0;class Sv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CE,this.ssl=Tv}else this.host=e.host,this.ssl=e.ssl??Tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N2)throw new oe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nx;switch(r.type){case"firstParty":return new ax(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Ev.get(i);r&&(ce("ComponentProvider","Removing Datastore"),Ev.delete(i),r.terminate())})(this),Promise.resolve()}}function JR(s,e,i,r={}){s=Nn(s,Ch);const o=yl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(sb(`https://${g}`),rb("Firestore",!0)),c.host!==CE&&c.host!==g&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:r};if(!sa(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,S;if(typeof r.mockUserToken=="string")_=r.mockUserToken,S=dn.MOCK_USER;else{_=RA(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new oe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new dn(A)}s._authCredentials=new ix(new vb(_,S))}}class Er{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Er(this.firestore,e,this._query)}}class xt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Jo(i,xt._jsonSchema))return new xt(e,r||null,new _e(pt.fromString(i.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Gt("string",xt._jsonSchemaVersion),referencePath:Gt("string")};class fr extends Er{constructor(e,i,r){super(e,i,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new _e(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function tr(s,e,...i){if(s=Wt(s),bb("collection","path",e),s instanceof Ch){const r=pt.fromString(e,...i);return j0(r),new fr(s,null,r)}{if(!(s instanceof xt||s instanceof fr))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...i));return j0(r),new fr(s.firestore,null,r)}}function ir(s,e,...i){if(s=Wt(s),arguments.length===1&&(e=zm.newId()),bb("doc","path",e),s instanceof Ch){const r=pt.fromString(e,...i);return k0(r),new xt(s,null,new _e(r))}{if(!(s instanceof xt||s instanceof fr))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pt.fromString(e,...i));return k0(r),new xt(s.firestore,s instanceof fr?s.converter:null,new _e(r))}}const Av="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hE(this,"async_queue_retry"),this._c=()=>{const r=em();r&&ce(Av,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!El(e))throw e;ce(Av,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",xv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=rp.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function xv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Rv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Es extends Ch{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function ZR(s,e){const i=typeof s=="object"?s:ub(),r=typeof s=="string"?s:Zc,o=Um(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=wA("firestore");c&&JR(o,...c)}return o}function Ih(s){if(s._terminated)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||WR(s),s._firestoreClient}function WR(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new Sx(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,NE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new QR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(cn.fromBase64String(e))}catch(i){throw new oe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ei(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Gt("string",ei._jsonSchemaVersion),bytes:Gt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mp{constructor(e){this._methodName=e}}class Hi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Gt("string",Hi._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Fi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Fi(e.vectorValues);throw new oe(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Gt("string",Fi._jsonSchemaVersion),vectorValues:Gt("object")};const eN=/^__.*__$/;class tN{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new Zo(e,this.data,i,this.fieldTransforms)}}class IE{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function DE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:s})}}class pp{constructor(e,i,r,o,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DE(this.Ac)&&eN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nN{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||xh(e)}Cc(e,i,r,o=!1){return new pp({Ac:e,methodName:i,Dc:r,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(s){const e=s._freezeSettings(),i=xh(s._databaseId);return new nN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function OE(s,e,i,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);gp("Data must be an object, but it was:",d,r);const g=ME(r,d);let v,_;if(c.merge)v=new Pn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=Dm(e,A,i);if(!d.contains(M))throw new oe(K.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);kE(S,M)||S.push(M)}v=new Pn(S),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new tN(new Rn(g),v,_)}class Mh extends mp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function iN(s,e,i,r){const o=s.Cc(1,e,i);gp("Data must be an object, but it was:",o,r);const c=[],d=Rn.empty();vr(r,((v,_)=>{const S=yp(e,v,i);_=Wt(_);const A=o.yc(S);if(_ instanceof Mh)c.push(S);else{const M=nu(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const g=new Pn(c);return new IE(d,g,o.fieldTransforms)}function sN(s,e,i,r,o,c){const d=s.Cc(1,e,i),g=[Dm(e,r,i)],v=[o];if(c.length%2!=0)throw new oe(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Dm(e,c[M])),v.push(c[M+1]);const _=[],S=Rn.empty();for(let M=g.length-1;M>=0;--M)if(!kE(_,g[M])){const Q=g[M];let W=v[M];W=Wt(W);const le=d.yc(Q);if(W instanceof Mh)_.push(Q);else{const se=nu(W,le);se!=null&&(_.push(Q),S.set(Q,se))}}const A=new Pn(_);return new IE(S,A,d.fieldTransforms)}function rN(s,e,i,r=!1){return nu(i,s.Cc(r?4:3,e))}function nu(s,e){if(VE(s=Wt(s)))return gp("Unsupported field value:",e,s),ME(s,e);if(s instanceof mp)return(function(r,o){if(!DE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const g of r){let v=nu(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=Wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=_t.fromDate(r);return{timestampValue:ih(o.serializer,c)}}if(r instanceof _t){const c=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:eE(o.serializer,r._byteString)};if(r instanceof xt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fi)return(function(d,g){return{mapValue:{fields:{[Cb]:{stringValue:Ib},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Qm(g.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${gh(r)}`)})(s,e)}function ME(s,e){const i={};return Sb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,((r,o)=>{const c=nu(o,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function VE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _t||s instanceof Hi||s instanceof ei||s instanceof xt||s instanceof mp||s instanceof Fi)}function gp(s,e,i){if(!VE(i)||!Eb(i)){const r=gh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Dm(s,e,i){if((e=Wt(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return yp(s,e);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const aN=new RegExp("[~\\*/\\[\\]]");function yp(s,e,i){if(e.search(aN)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,e,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new oe(K.INVALID_ARGUMENT,g+s+v)}function kE(s,e){return s.some((i=>i.isEqual(e)))}class jE{constructor(e,i,r,o,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Vh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lN extends jE{data(){return super.data()}}function Vh(s,e){return typeof e=="string"?yp(s,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function LE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}class UE extends _p{}function $r(s,e,...i){let r=[];e instanceof _p&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((v=>v instanceof vp)).length,g=c.filter((v=>v instanceof kh)).length;if(d>1||d>0&&g>0)throw new oe(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class kh extends UE{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new kh(e,i,r)}_apply(e){const i=this._parse(e);return PE(e._query,i),new Er(e.firestore,e.converter,bm(e._query,i))}_parse(e){const i=Oh(e.firestore);return(function(c,d,g,v,_,S,A){let M;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new oe(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Iv(A,S);const W=[];for(const le of A)W.push(Cv(v,c,le));M={arrayValue:{values:W}}}else M=Cv(v,c,A)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Iv(A,S),M=rN(g,d,A,S==="in"||S==="not-in");return Ft.create(_,S,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function No(s,e,i){const r=e,o=Vh("where",s);return kh._create(o,r,i)}class vp extends _p{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new vp(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:_i.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const v of g)PE(d,v),d=bm(d,v)})(e._query,i),new Er(e.firestore,e.converter,bm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends UE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new bp(e,i)}_apply(e){const i=(function(o,c,d){if(o.startAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Go(c,d)})(e._query,this._field,this._direction);return new Er(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new Tl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,i))}}function Nv(s,e="asc"){const i=e,r=Vh("orderBy",s);return bp._create(r,i)}function Cv(s,e,i){if(typeof(i=Wt(i))=="string"){if(i==="")throw new oe(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ub(e)&&i.indexOf("/")!==-1)throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(pt.fromString(i));if(!_e.isDocumentKey(r))throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F0(s,new _e(r))}if(i instanceof xt)return F0(s,i._key);throw new oe(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(i)}.`)}function Iv(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PE(s,e){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class oN{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return vr(e,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[Wc].arrayValue?.values?.map((r=>Dt(r.doubleValue)));return new Fi(i)}convertGeoPoint(e){return new Hi(Dt(e.latitude),Dt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=vh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Bo(e));default:return null}}convertTimestamp(e){const i=mr(e);return new _t(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=pt.fromString(e);rt(aE(r),9688,{name:e});const o=new Ho(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return o.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function zE(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Mo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends jE{constructor(e,i,r,o,c,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Vh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Gt("string",ta._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Fc extends ta{data(e={}){return super.data(e)}}class na{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Mo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Fc(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Fc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Fc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:uN(g.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:s})}}function cN(s){s=Nn(s,xt);const e=Nn(s.firestore,Es);return XR(Ih(e),s._key).then((i=>qE(e,s,i)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Gt("string",na._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Ep extends oN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,i)}}function Dv(s){s=Nn(s,Er);const e=Nn(s.firestore,Es),i=Ih(e),r=new Ep(e);return LE(s._query),$R(i,s._query).then((o=>new na(e,r,s,o)))}function nm(s,e,i){s=Nn(s,xt);const r=Nn(s.firestore,Es),o=zE(s.converter,e);return jh(r,[OE(Oh(r),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ti.none())])}function hN(s,e,i,...r){s=Nn(s,xt);const o=Nn(s.firestore,Es),c=Oh(o);let d;return d=typeof(e=Wt(e))=="string"||e instanceof Dh?sN(c,"updateDoc",s._key,e,i,r):iN(c,"updateDoc",s._key,e),jh(o,[d.toMutation(s._key,ti.exists(!0))])}function im(s){return jh(Nn(s.firestore,Es),[new Ym(s._key,ti.none())])}function fN(s,e){const i=Nn(s.firestore,Es),r=ir(s),o=zE(s.converter,e);return jh(i,[OE(Oh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then((()=>r))}function Co(s,...e){s=Wt(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Rv(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Rv(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,d,g;if(s instanceof xt)d=Nn(s.firestore,Es),g=bh(s._key.path),c={next:v=>{e[r]&&e[r](qE(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=Nn(s,Er);d=Nn(v.firestore,Es),g=v._query;const _=new Ep(d);c={next:S=>{e[r]&&e[r](new na(d,_,v,S))},error:e[r+1],complete:e[r+2]},LE(s._query)}return(function(_,S,A,M){const Q=new dp(M),W=new cp(S,Q,A);return _.asyncQueue.enqueueAndForget((async()=>lp(await lh(_),W))),()=>{Q.Nu(),_.asyncQueue.enqueueAndForget((async()=>op(await lh(_),W)))}})(Ih(d),g,o,c)}function jh(s,e){return(function(r,o){const c=new ys;return r.asyncQueue.enqueueAndForget((async()=>LR(await KR(r),o,c))),c.promise})(Ih(s),e)}function qE(s,e,i){const r=i.docs.get(e._key),o=new Ep(s);return new ta(s,o,e._key,r,new Mo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){vl=o})(_l),ul(new ra("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Es(new sx(r.getProvider("auth-internal")),new lx(d,r.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new oe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(_.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),cr(D0,O0,e),cr(D0,O0,"esm2020")})();function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dN=BE,HE=new Xo("auth","Firebase",BE());const uh=new jm("@firebase/auth");function mN(s,...e){uh.logLevel<=Ge.WARN&&uh.warn(`Auth (${_l}): ${s}`,...e)}function Gc(s,...e){uh.logLevel<=Ge.ERROR&&uh.error(`Auth (${_l}): ${s}`,...e)}function Yi(s,...e){throw Sp(s,...e)}function yi(s,...e){return Sp(s,...e)}function Tp(s,e,i){const r={...dN(),[e]:i};return new Xo("auth","Firebase",r).create(e,{appName:s.name})}function ia(s){return Tp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pN(s,e,i){const r=i;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yi(s,"argument-error"),Tp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sp(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return HE.create(s,...e)}function De(s,e,...i){if(!s)throw Sp(e,...i)}function ps(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Gc(e),new Error(e)}function Ts(s,e){s||ps(e)}function Om(){return typeof self<"u"&&self.location?.href||""}function gN(){return Ov()==="http:"||Ov()==="https:"}function Ov(){return typeof self<"u"&&self.location?.protocol||null}function yN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gN()||MA()||"connection"in navigator)?navigator.onLine:!0}function _N(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class iu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ts(i>e,"Short delay should be less than long delay!"),this.isMobile=IA()||VA()}get(){return yN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(s,e){Ts(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class FE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EN=new iu(3e4,6e4);function wp(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Al(s,e,i,r,o={}){return GE(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=$o({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:v,...c};return OA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&yl(s.emulatorConfig.host)&&(_.credentials="include"),FE.fetch()(await QE(s,s.config.apiHost,i,g),_)})}async function GE(s,e,i){s._canInitEmulator=!1;const r={...vN,...e};try{const o=new SN(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Uc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Uc(s,"user-disabled",d);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Tp(s,S,_);Yi(s,S)}}catch(o){if(o instanceof Ss)throw o;Yi(s,"network-request-failed",{message:String(o)})}}async function TN(s,e,i,r,o={}){const c=await Al(s,e,i,r,o);return"mfaPendingCredential"in c&&Yi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function QE(s,e,i,r){const o=`${e}${i}?${r}`,c=s,d=c.config.emulator?Ap(s.config,o):`${s.config.apiScheme}://${o}`;return bN.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class SN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),EN.get())})}}function Uc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=yi(s,e,r);return o.customData._tokenResponse=i,o}async function AN(s,e){return Al(s,"POST","/v1/accounts:delete",e)}async function ch(s,e){return Al(s,"POST","/v1/accounts:lookup",e)}function Po(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wN(s,e=!1){const i=Wt(s),r=await i.getIdToken(e),o=xp(r);De(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Po(sm(o.auth_time)),issuedAtTime:Po(sm(o.iat)),expirationTime:Po(sm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sm(s){return Number(s)*1e3}function xp(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=eb(i);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Mv(s){const e=xp(s);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ko(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Ss&&xN(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function xN({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class RN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(s){const e=s.auth,i=await s.getIdToken(),r=await Ko(s,ch(e,{idToken:i}));De(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?YE(o.providerUserInfo):[],d=CN(s.providerData,c),g=s.isAnonymous,v=!(s.email&&o.passwordHash)&&!d?.length,_=g?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function NN(s){const e=Wt(s);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CN(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function YE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function IN(s,e){const i=await GE(s,{},async()=>{const r=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await QE(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:r};return s.emulatorConfig&&yl(s.emulatorConfig.host)&&(v.credentials="include"),FE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DN(s,e){return Al(s,"POST","/v2/accounts:revokeToken",wp(s,e))}class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){De(e.length!==0,"internal-error");const i=Mv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await IN(e,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new al;return r&&(De(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(De(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(De(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return ps("not implemented")}}function nr(s,e){De(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new RN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return De(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return wN(this,e)}reload(){return NN(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Ko(this,AN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:Q,providerData:W,stsTokenManager:le}=i;De(A&&le,e,"internal-error");const se=al.fromJSON(this.name,le);De(typeof A=="string",e,"internal-error"),nr(r,e.name),nr(o,e.name),De(typeof M=="boolean",e,"internal-error"),De(typeof Q=="boolean",e,"internal-error"),nr(c,e.name),nr(d,e.name),nr(g,e.name),nr(v,e.name),nr(_,e.name),nr(S,e.name);const be=new gi({uid:A,auth:e,email:o,emailVerified:M,displayName:r,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:se,createdAt:_,lastLoginAt:S});return W&&Array.isArray(W)&&(be.providerData=W.map(Me=>({...Me}))),v&&(be._redirectEventId=v),be}static async _fromIdTokenResponse(e,i,r=!1){const o=new al;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await hh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const o=i.users[0];De(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?YE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new al;g.updateFromIdToken(r);const v=new gi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Vv=new Map;function gs(s){Ts(s instanceof Function,"Expected a class definition");let e=Vv.get(s);return e?(Ts(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Vv.set(s,e),e)}class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}KE.type="NONE";const kv=KE;function Qc(s,e,i){return`firebase:${s}:${e}:${i}`}class ll{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ch(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new ll(gs(kv),e,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||gs(kv);const d=Qc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await ch(e,{idToken:S}).catch(()=>{});if(!M)break;A=await gi._fromGetAccountInfoResponse(e,M,S)}else A=gi._fromJSON(e,S);_!==c&&(g=A),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new ll(c,e,r):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ll(c,e,r))}}function jv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eT(e))return"Blackberry";if(tT(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||JE(e))&&!e.includes("edge/"))return"Chrome";if(WE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function XE(s=pn()){return/firefox\//i.test(s)}function $E(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(s=pn()){return/crios\//i.test(s)}function ZE(s=pn()){return/iemobile/i.test(s)}function WE(s=pn()){return/android/i.test(s)}function eT(s=pn()){return/blackberry/i.test(s)}function tT(s=pn()){return/webos/i.test(s)}function Rp(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ON(s=pn()){return Rp(s)&&!!window.navigator?.standalone}function MN(){return kA()&&document.documentMode===10}function nT(s=pn()){return Rp(s)||WE(s)||tT(s)||eT(s)||/windows phone/i.test(s)||ZE(s)}function iT(s,e=[]){let i;switch(s){case"Browser":i=jv(pn());break;case"Worker":i=`${jv(pn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${_l}/${r}`}class VN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const v=e(c);d(v)}catch(v){g(v)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function kN(s,e={}){return Al(s,"GET","/v2/passwordPolicy",wp(s,e))}const jN=6;class LN{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??jN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class UN{constructor(e,i,r,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new VN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ch(this,{idToken:e}),r=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_N()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(ia(this));const i=e?Wt(e):null;return i&&De(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kN(this),i=new LN(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await DN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gs(e)||this._popupRedirectResolver;De(i,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,r,o);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lh(s){return Wt(s)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=HA(i=>this.observer=i)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(s){Np=s}function zN(s){return Np.loadJS(s)}function qN(){return Np.gapiScript}function BN(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function HN(s,e){const i=Um(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(sa(c,e??{}))return o;Yi(o,"already-initialized")}return i.initialize({options:e})}function FN(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(gs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function GN(s,e,i){const r=Lh(s);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=sT(e),{host:d,port:g}=QN(e),v=g===null?"":`:${g}`,_={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(sa(_,r.config.emulator)&&sa(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,yl(d)?(sb(`${c}//${d}${v}`),rb("Auth",!0)):YN()}function sT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function QN(s){const e=sT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Uv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Uv(d)}}}function Uv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function YN(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class rT{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function ol(s,e){return TN(s,"POST","/v1/accounts:signInWithIdp",wp(s,e))}const KN="http://localhost";class oa extends rT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Yi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new oa(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ol(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,ol(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ol(e,i)}buildRequest(){const e={requestUri:KN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$o(i)}return e}}class Cp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends Cp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends su{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class ms extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return ms.credential(i,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";class rr extends su{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends su{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ar.credential(i,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,o=!1){const c=await gi._fromIdTokenResponse(e,r,o),d=Pv(r);return new gl({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const o=Pv(r);return new gl({user:e,providerId:o,_tokenResponse:r,operationType:i})}}function Pv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class fh extends Ss{constructor(e,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,o){return new fh(e,i,r,o)}}function aT(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,c,e,r):c})}async function XN(s,e,i=!1){const r=await Ko(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return gl._forOperation(s,"link",r)}async function $N(s,e,i=!1){const{auth:r}=s;if(pi(r.app))return Promise.reject(ia(r));const o="reauthenticate";try{const c=await Ko(s,aT(r,o,e,s),i);De(c.idToken,r,"internal-error");const d=xp(c.idToken);De(d,r,"internal-error");const{sub:g}=d;return De(s.uid===g,r,"user-mismatch"),gl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Yi(r,"user-mismatch"),c}}async function JN(s,e,i=!1){if(pi(s.app))return Promise.reject(ia(s));const r="signIn",o=await aT(s,r,e),c=await gl._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(c.user),c}function ZN(s,e,i,r){return Wt(s).onIdTokenChanged(e,i,r)}function WN(s,e,i){return Wt(s).beforeAuthStateChanged(e,i)}function eC(s,e,i,r){return Wt(s).onAuthStateChanged(e,i,r)}function tC(s){return Wt(s).signOut()}const dh="__sak";class lT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nC=1e3,iC=10;class oT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&e(i,o,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const r=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);MN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iC):o()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}oT.type="LOCAL";const sC=oT;class uT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}uT.type="SESSION";const cT=uT;function rC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const r=new Uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),v=await rC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];function Ip(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class aC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const _=Ip("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function lC(s){Gi().location.href=s}function hT(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function oC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uC(){return navigator?.serviceWorker?.controller||null}function cC(){return hT()?self:null}const fT="firebaseLocalStorageDb",hC=1,mh="firebaseLocalStorage",dT="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ph(s,e){return s.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function fC(){const s=indexedDB.deleteDatabase(fT);return new ru(s).toPromise()}function Vm(){const s=indexedDB.open(fT,hC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(mh,{keyPath:dT})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await fC(),e(await Vm()))})})}async function zv(s,e,i){const r=Ph(s,!0).put({[dT]:e,value:i});return new ru(r).toPromise()}async function dC(s,e){const i=Ph(s,!1).get(e),r=await new ru(i).toPromise();return r===void 0?null:r.value}function qv(s,e){const i=Ph(s,!0).delete(e);return new ru(i).toPromise()}const mC=800,pC=3;class mT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>pC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(cC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await zv(e,dh,"1"),await qv(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>dC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>qv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ph(o,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mT.type="LOCAL";const gC=mT;new iu(3e4,6e4);function pT(s,e){return e?gs(e):(De(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Dp extends rT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ol(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function yC(s){return JN(s.auth,new Dp(s),s.bypassAuthState)}function _C(s){const{auth:e,user:i}=s;return De(i,e,"internal-error"),$N(i,new Dp(s),s.bypassAuthState)}async function vC(s){const{auth:e,user:i}=s;return De(i,e,"internal-error"),XN(i,new Dp(s),s.bypassAuthState)}class gT{constructor(e,i,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yC;case"linkViaPopup":case"linkViaRedirect":return vC;case"reauthViaPopup":case"reauthViaRedirect":return _C;default:Yi(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bC=new iu(2e3,1e4);async function EC(s,e,i){if(pi(s.app))return Promise.reject(yi(s,"operation-not-supported-in-this-environment"));const r=Lh(s);pN(s,e,Cp);const o=pT(r,i);return new ea(r,"signInViaPopup",e,o).executeNotNull()}class ea extends gT{constructor(e,i,r,o,c){super(e,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bC.get())};e()}}ea.currentPopupAction=null;const TC="pendingRedirect",Yc=new Map;class SC extends gT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const r=await AC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AC(s,e){const i=RC(e),r=xC(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function wC(s,e){Yc.set(s._key(),e)}function xC(s){return gs(s._redirectPersistence)}function RC(s){return Qc(TC,s.config.apiKey,s.name)}async function NC(s,e,i=!1){if(pi(s.app))return Promise.reject(ia(s));const r=Lh(s),o=pT(r,e),d=await new SC(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const CC=600*1e3;class IC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!yT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(yi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function yT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function DC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(s);default:return!1}}async function OC(s,e={}){return Al(s,"GET","/v1/projects",e)}const MC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VC=/^https?/;async function kC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await OC(s);for(const i of e)try{if(jC(i))return}catch{}Yi(s,"unauthorized-domain")}function jC(s){const e=Om(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!VC.test(i))return!1;if(MC.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const LC=new iu(3e4,6e4);function Hv(){const s=Gi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function UC(s){return new Promise((e,i)=>{function r(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),i(yi(s,"network-request-failed"))},timeout:LC.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)r();else{const o=BN("iframefcb");return Gi()[o]=()=>{gapi.load?r():i(yi(s,"network-request-failed"))},zN(`${qN()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function PC(s){return Kc=Kc||UC(s),Kc}const zC=new iu(5e3,15e3),qC="__/auth/iframe",BC="emulator/auth/iframe",HC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GC(s){const e=s.config;De(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Ap(e,BC):`https://${s.config.authDomain}/${qC}`,r={apiKey:e.apiKey,appName:s.name,v:_l},o=FC.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${$o(r).slice(1)}`}async function QC(s){const e=await PC(s),i=Gi().gapi;return De(i,s,"internal-error"),e.open({where:document.body,url:GC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=yi(s,"network-request-failed"),g=Gi().setTimeout(()=>{c(d)},zC.get());function v(){Gi().clearTimeout(g),o(r)}r.ping(v).then(v,()=>{c(d)})}))}const YC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KC=500,XC=600,$C="_blank",JC="http://localhost";class Fv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(s,e,i,r=KC,o=XC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const v={...YC,width:r.toString(),height:o.toString(),top:c,left:d},_=pn().toLowerCase();i&&(g=JE(_)?$C:i),XE(_)&&(e=e||JC,v.scrollbars="yes");const S=Object.entries(v).reduce((M,[Q,W])=>`${M}${Q}=${W},`,"");if(ON(_)&&g!=="_self")return WC(e||"",g),new Fv(null);const A=window.open(e||"",g,S);De(A,s,"popup-blocked");try{A.focus()}catch{}return new Fv(A)}function WC(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const eI="__/auth/handler",tI="emulator/auth/handler",nI=encodeURIComponent("fac");async function Gv(s,e,i,r,o,c){De(s.config.authDomain,s,"auth-domain-config-required"),De(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:_l,eventId:o};if(e instanceof Cp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",BA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(e instanceof su){const S=e.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await s._getAppCheckToken(),_=v?`#${nI}=${encodeURIComponent(v)}`:"";return`${iI(s)}?${$o(g).slice(1)}${_}`}function iI({config:s}){return s.emulator?Ap(s,tI):`https://${s.authDomain}/${eI}`}const rm="webStorageSupport";class sI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cT,this._completeRedirectFn=NC,this._overrideRedirectResult=wC}async _openPopup(e,i,r,o){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Gv(e,i,r,Om(),o);return ZC(e,c,Ip())}async _openRedirect(e,i,r,o){await this._originValidation(e);const c=await Gv(e,i,r,Om(),o);return lC(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await QC(e),r=new IC(e);return i.register("authEvent",o=>(De(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(rm,{type:rm},o=>{const c=o?.[0]?.[rm];c!==void 0&&i(!!c),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=kC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return nT()||$E()||Rp()}}const rI=sI;var Qv="@firebase/auth",Yv="1.11.1";class aI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oI(s){ul(new ra("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;De(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iT(s)},_=new UN(r,o,c,v);return FN(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ul(new ra("auth-internal",e=>{const i=Lh(e.getProvider("auth").getImmediate());return(r=>new aI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(Qv,Yv,lI(s)),cr(Qv,Yv,"esm2020")}const uI=300,cI=ib("authIdTokenMaxAge")||uI;let Kv=null;const hI=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>cI)return;const o=i?.token;Kv!==o&&(Kv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fI(s=ub()){const e=Um(s,"auth");if(e.isInitialized())return e.getImmediate();const i=HN(s,{popupRedirectResolver:rI,persistence:[gC,sC,cT]}),r=ib("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=hI(c.toString());WN(i,d,()=>d(i.currentUser)),ZN(i,g=>d(g))}}const o=tb("auth");return o&&GN(i,`http://${o}`),i}function dI(){return document.getElementsByTagName("head")?.[0]??document}PN({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=yi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",dI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oI("Browser");const mI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},_T=ob(mI),_n=ZR(_T),am=fI(_T),pI=new ms;class au{constructor(e=0,i="Network Error"){this.status=e,this.text=i}}const gI=()=>{if(!(typeof localStorage>"u"))return{get:s=>Promise.resolve(localStorage.getItem(s)),set:(s,e)=>Promise.resolve(localStorage.setItem(s,e)),remove:s=>Promise.resolve(localStorage.removeItem(s))}},on={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:gI()},Op=s=>s?typeof s=="string"?{publicKey:s}:s.toString()==="[object Object]"?s:{}:{},yI=(s,e="https://api.emailjs.com")=>{if(!s)return;const i=Op(s);on.publicKey=i.publicKey,on.blockHeadless=i.blockHeadless,on.storageProvider=i.storageProvider,on.blockList=i.blockList,on.limitRate=i.limitRate,on.origin=i.origin||e},vT=async(s,e,i={})=>{const r=await fetch(on.origin+s,{method:"POST",headers:i,body:e}),o=await r.text(),c=new au(r.status,o);if(r.ok)return c;throw c},bT=(s,e,i)=>{if(!s||typeof s!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||typeof i!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},_I=s=>{if(s&&s.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},ET=s=>s.webdriver||!s.languages||s.languages.length===0,TT=()=>new au(451,"Unavailable For Headless Browser"),vI=(s,e)=>{if(!Array.isArray(s))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},bI=s=>!s.list?.length||!s.watchVariable,EI=(s,e)=>s instanceof FormData?s.get(e):s[e],ST=(s,e)=>{if(bI(s))return!1;vI(s.list,s.watchVariable);const i=EI(e,s.watchVariable);return typeof i!="string"?!1:s.list.includes(i)},AT=()=>new au(403,"Forbidden"),TI=(s,e)=>{if(typeof s!="number"||s<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},SI=async(s,e,i)=>{const r=Number(await i.get(s)||0);return e-Date.now()+r},wT=async(s,e,i)=>{if(!e.throttle||!i)return!1;TI(e.throttle,e.id);const r=e.id||s;return await SI(r,e.throttle,i)>0?!0:(await i.set(r,Date.now().toString()),!1)},xT=()=>new au(429,"Too Many Requests"),AI=async(s,e,i,r)=>{const o=Op(r),c=o.publicKey||on.publicKey,d=o.blockHeadless||on.blockHeadless,g=o.storageProvider||on.storageProvider,v={...on.blockList,...o.blockList},_={...on.limitRate,...o.limitRate};return d&&ET(navigator)?Promise.reject(TT()):(bT(c,s,e),_I(i),i&&ST(v,i)?Promise.reject(AT()):await wT(location.pathname,_,g)?Promise.reject(xT()):vT("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:s,template_id:e,template_params:i}),{"Content-type":"application/json"}))},wI=s=>{if(!s||s.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},xI=s=>typeof s=="string"?document.querySelector(s):s,RI=async(s,e,i,r)=>{const o=Op(r),c=o.publicKey||on.publicKey,d=o.blockHeadless||on.blockHeadless,g=on.storageProvider||o.storageProvider,v={...on.blockList,...o.blockList},_={...on.limitRate,...o.limitRate};if(d&&ET(navigator))return Promise.reject(TT());const S=xI(i);bT(c,s,e),wI(S);const A=new FormData(S);return ST(v,A)?Promise.reject(AT()):await wT(location.pathname,_,g)?Promise.reject(xT()):(A.append("lib_version","4.4.1"),A.append("service_id",s),A.append("template_id",e),A.append("user_id",c),vT("/api/v1.0/email/send-form",A))},NI={init:yI,send:AI,sendForm:RI,EmailJSResponseStatus:au},CI="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",lm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Xv=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","lsaulsby@salpointe.org","jharris@salpointe.org","cjones@salpointe.org","groche@salpointe.org","tespinosa@salpointe.org","erivers@salpointe.org"],om={"Cinema Camera Kit *":1,"Gimbal / Stabilizer *":6,"DJI Mic Kit (Wireless)":4,"DJI Flip Drone *":1,Tripod:4,"Lighting Kit":6,"DSLR Camera Body":6,"Zoom Lens (18-55mm)":6,"Telephoto Lens (70-200mm)":2,"Portrait Lens (50mm)":3,"SD Card Reader":5,"Flash Unit":3},ze={FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory"},Jr=s=>`salpointe_draft_${s}`,$v=s=>{NI.send(lm.SERVICE_ID,lm.TEMPLATE_ID,s,lm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},II=()=>{const[s,e]=Re.useState("home"),[i,r]=Re.useState(!1),[o,c]=Re.useState(null),[d,g]=Re.useState(!1),[v,_]=Re.useState(om),[S,A]=Re.useState([]);Re.useEffect(()=>{const ue=eC(am,me=>{me?(c(me),g(Xv.includes(me.email))):(c(null),g(!1))});return()=>ue()},[]),Re.useEffect(()=>{(async()=>{const X=ir(_n,"settings","inventory"),ne=await cN(X);ne.exists()?_(ne.data()):(await nm(X,om),_(om))})();const me=$r(tr(_n,"blackout_dates")),j=Co(me,X=>{const ne=X.docs.map(ie=>ie.id);A(ne)});return()=>j()},[]);const M=async()=>{try{await EC(am,pI)}catch(ue){console.error("Login failed:",ue),alert("Login failed.")}},Q=async()=>{await tC(am),W()},W=()=>{e("home"),r(!1)},le=["home",ze.FILM,ze.GRAPHIC,ze.BUSINESS,ze.CULINARY,ze.PHOTO].includes(s);return y.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-slate-800",children:[y.jsx("header",{className:"bg-red-900 text-white shadow-lg sticky top-0 z-50",children:y.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3",children:[y.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:W,children:[y.jsx("img",{src:CI,alt:"Salpointe Catholic Logo",className:"w-9 h-9 md:w-10 md:h-10 object-contain group-hover:scale-105 transition-transform"}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-lg md:text-xl font-bold tracking-wide leading-tight",children:"Salpointe Catholic"}),y.jsx("p",{className:"text-[10px] md:text-xs text-red-200 uppercase tracking-wider",children:"CTE Request Hub"})]})]}),y.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!le&&s!=="home"&&y.jsxs("button",{onClick:W,className:"text-xs md:text-sm bg-red-800 hover:bg-red-700 text-white px-3 py-2 rounded-lg transition-colors flex items-center gap-2 mr-1",children:[y.jsx(vS,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),y.jsxs("button",{onClick:()=>{e(ze.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===ze.CALENDAR?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(xS,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),o?y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{e(ze.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===ze.MY_REQUESTS?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(m0,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{e(ze.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===ze.QUEUE?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(d0,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),y.jsxs("button",{onClick:()=>{e(ze.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===ze.ANALYTICS?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(CS,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),y.jsxs("button",{onClick:()=>{e(ze.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-colors flex items-center gap-2 ${s===ze.INVENTORY?"bg-red-950 text-white shadow-inner":"text-red-100 hover:bg-red-800 hover:text-white"}`,children:[y.jsx(g0,{size:16}),y.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),y.jsx("button",{onClick:Q,className:"ml-2 text-xs md:text-sm font-medium px-3 py-2 rounded-lg bg-red-950/50 hover:bg-red-950 text-red-200 hover:text-white transition-colors flex items-center gap-2",title:`Logged in as ${o.email}`,children:y.jsx($S,{size:16})})]}):y.jsxs("button",{onClick:M,className:"ml-2 text-xs md:text-sm font-bold bg-white text-red-900 px-4 py-2 rounded-lg hover:bg-amber-50 transition-colors flex items-center gap-2 shadow-sm",children:[y.jsx(KS,{size:16})," Login"]})]})]})}),y.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:i?y.jsx(se,{onReset:W}):y.jsxs(y.Fragment,{children:[s==="home"&&y.jsx(be,{onViewChange:e,currentUser:o}),s===ze.FILM&&y.jsx(C,{setSubmitted:r,onCancel:W,currentUser:o,inventory:v,blackouts:S}),s===ze.GRAPHIC&&y.jsx(V,{setSubmitted:r,onCancel:W,currentUser:o}),s===ze.BUSINESS&&y.jsx(O,{setSubmitted:r,onCancel:W,currentUser:o}),s===ze.CULINARY&&y.jsx(L,{setSubmitted:r,onCancel:W,currentUser:o}),s===ze.PHOTO&&y.jsx(R,{setSubmitted:r,onCancel:W,currentUser:o,inventory:v,blackouts:S}),s===ze.CALENDAR&&y.jsx(Ke,{adminMode:d,blackouts:S}),s===ze.QUEUE&&y.jsx(I,{adminMode:d,setAdminMode:g,ALLOWED_ADMINS:Xv}),s===ze.MY_REQUESTS&&y.jsx(dt,{currentUser:o}),s===ze.ANALYTICS&&d&&y.jsx(st,{}),s===ze.INVENTORY&&d&&y.jsx(Ae,{inventory:v,setInventory:_})]})}),y.jsxs("footer",{className:"text-center text-slate-400 text-xs md:text-sm py-8 px-4",children:[" ",new Date().getFullYear()," Salpointe Catholic High School CTE Department"]})]});function se({onReset:ue}){return y.jsxs("div",{className:"max-w-lg mx-auto bg-white rounded-xl shadow-md p-6 md:p-8 text-center animate-fade-in-up mt-8 md:mt-16",children:[y.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600",children:y.jsx(zS,{size:32,className:"md:w-10 md:h-10"})}),y.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mb-2",children:"Request Received!"}),y.jsx("p",{className:"text-slate-600 mb-8 text-sm md:text-base",children:"Your request has been saved to the database and the department head has been notified."}),y.jsx("button",{onClick:ue,className:"bg-red-900 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg hover:shadow-xl w-full text-sm md:text-base",children:"Submit Another Request"})]})}function be({onViewChange:ue,currentUser:me}){const[j,X]=Re.useState({});Re.useEffect(()=>{(()=>{const pe={},w={[ze.FILM]:"Film",[ze.GRAPHIC]:"Graphic",[ze.BUSINESS]:"Business",[ze.CULINARY]:"Culinary",[ze.PHOTO]:"Photo"};Object.keys(w).forEach(B=>{const J=Jr(w[B]);localStorage.getItem(J)&&(pe[B]=!0)}),X(pe)})()},[]);const ne=[{id:ze.FILM,title:"Film & TV",icon:_0,desc:"Checkout equipment (cameras, drones) or request event recording/broadcasting.",color:"bg-blue-50 text-blue-700 border-blue-200"},{id:ze.GRAPHIC,title:"Graphic Design",icon:p0,desc:"Request creative assets like logos, posters, flyers, or website designs.",color:"bg-purple-50 text-purple-700 border-purple-200"},{id:ze.BUSINESS,title:"Business",icon:Hd,desc:"Submit business plans for review or request consultation for student startups.",color:"bg-emerald-50 text-emerald-700 border-emerald-200"},{id:ze.CULINARY,title:"Culinary Arts",icon:y0,desc:"Request catering services for school clubs, faculty meetings, or special events.",color:"bg-orange-50 text-orange-700 border-orange-200"},{id:ze.PHOTO,title:"Photography",icon:Fd,desc:"Reserve cameras/lenses or request a photographer for your event.",color:"bg-pink-50 text-pink-700 border-pink-200"}];return y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[y.jsxs("div",{className:"col-span-full mb-2 md:mb-4",children:[y.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:me?`Welcome, ${me.displayName.split(" ")[0]}.`:"Welcome, Lancer."}),y.jsx("p",{className:"text-slate-600 text-sm md:text-base",children:"Select a department below to start your request."})]}),ne.map(ie=>y.jsxs("div",{onClick:()=>ue(ie.id),className:"group relative bg-white rounded-xl shadow-sm hover:shadow-md border border-slate-200 p-5 md:p-6 cursor-pointer transition-all hover:-translate-y-1 flex flex-col h-full active:scale-95 md:active:scale-100",children:[j[ie.id]&&y.jsxs("span",{className:"absolute top-4 right-4 bg-amber-100 text-amber-800 border border-amber-200 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1 shadow-sm z-10",children:[y.jsx(Oc,{size:12})," Resume Draft"]}),y.jsx("div",{className:`w-12 h-12 rounded-lg ${ie.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:y.jsx(ie.icon,{size:24})}),y.jsx("h3",{className:"text-lg md:text-xl font-bold text-slate-800 mb-2",children:ie.title}),y.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:ie.desc})]},ie.id))]})}function Me({initialData:ue={},currentUser:me}){const j=me?.displayName||ue.fullName||"",X=me?.email||ue.email||"";return y.jsxs("div",{className:"bg-slate-50 p-5 md:p-6 rounded-lg border border-slate-200 mb-6",children:[y.jsxs("h3",{className:"text-base md:text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(hA,{size:18})," Contact Information"]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Project / Request Name"}),y.jsx("input",{name:"requestName",type:"text",defaultValue:ue.requestName||"",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm",placeholder:"e.g. Football Video, Catering for NHS",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Full Name"}),y.jsx("input",{name:"fullName",type:"text",defaultValue:j,readOnly:!!me,className:`w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm ${me?"bg-slate-100 text-slate-500 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Salpointe Email"}),y.jsx("input",{name:"email",type:"email",defaultValue:X,readOnly:!!me,className:`w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm ${me?"bg-slate-100 text-slate-500 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-1",children:"Role"}),y.jsxs("select",{name:"role",defaultValue:ue.role||"Student",className:"w-full rounded-md border-slate-300 shadow-sm p-2.5 border focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none text-sm bg-white",children:[y.jsx("option",{children:"Student"}),y.jsx("option",{children:"Faculty / Staff"}),y.jsx("option",{children:"Club Representative"})]})]})]})]})}function Ae({inventory:ue,setInventory:me}){const[j,X]=Re.useState(ue),[ne,ie]=Re.useState(!1),pe=(B,J)=>{X(ee=>({...ee,[B]:parseInt(J)||0}))},w=async()=>{ie(!0);try{await nm(ir(_n,"settings","inventory"),j),me(j),alert("Inventory updated successfully!")}catch(B){console.error("Error saving inventory:",B),alert("Failed to save inventory.")}ie(!1)};return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[y.jsxs("div",{className:"bg-slate-800 text-white p-6 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[y.jsx(g0,{className:"text-amber-400"})," Inventory Manager"]}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Update Total Equipment Counts"})]}),y.jsxs("button",{onClick:w,disabled:ne,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50",children:[ne?y.jsx(tA,{className:"animate-spin",size:18}):y.jsx(Oc,{size:18})," ",ne?"Saving...":"Save Changes"]})]}),y.jsx("div",{className:"p-6",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(j).map(([B,J])=>y.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 flex justify-between items-center",children:[y.jsx("span",{className:"font-medium text-slate-700 text-sm",children:B.replace("*","")}),y.jsx("input",{type:"number",min:"0",value:J,onChange:ee=>pe(B,ee.target.value),className:"w-20 p-2 border border-slate-300 rounded text-center font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]},B))})})]})}function st(){const[ue,me]=Re.useState(!0),[j,X]=Re.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});Re.useEffect(()=>{const ie=$r(tr(_n,"requests")),pe=Co(ie,w=>{let B=0,J=0,ee=0,he={},ge={};w.forEach(Ee=>{const Ne=Ee.data();B++,(Ne.status==="Approved"||Ne.status==="Completed")&&J++,Ne.status==="Pending Review"&&ee++,he[Ne.dept]=(he[Ne.dept]||0)+1,Ne.equipment&&(Array.isArray(Ne.equipment)?Ne.equipment:[Ne.equipment]).forEach(Mt=>{ge[Mt]=(ge[Mt]||0)+1})});const ve=Object.entries(ge).sort(([,Ee],[,Ne])=>Ne-Ee).slice(0,5);X({total:B,approved:J,pending:ee,deptCounts:he,topEquipment:ve}),me(!1)});return()=>pe()},[]);const ne=j.total>0?Math.round(j.approved/j.total*100):0;return y.jsx("div",{className:"space-y-6 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[y.jsx(lA,{className:"text-emerald-600"})," CTE Insights"]}),y.jsx("p",{className:"text-slate-500 text-sm",children:"Real-time usage metrics and trends."})]}),y.jsxs("div",{className:"bg-slate-100 px-4 py-2 rounded-lg text-slate-600 font-mono text-sm",children:["Total Requests: ",y.jsx("strong",{children:j.total})]})]}),ue?y.jsx("div",{className:"text-center py-12 text-slate-400",children:"Crunching numbers..."}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-emerald-50 rounded-xl p-5 border border-emerald-100",children:[y.jsx("h4",{className:"text-emerald-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Approval Rate"}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsxs("span",{className:"text-4xl font-bold text-emerald-600",children:[ne,"%"]}),y.jsx("span",{className:"text-emerald-500 text-sm mb-1",children:"of all requests"})]})]}),y.jsxs("div",{className:"bg-blue-50 rounded-xl p-5 border border-blue-100",children:[y.jsx("h4",{className:"text-blue-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Completed / Approved"}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("span",{className:"text-4xl font-bold text-blue-600",children:j.approved}),y.jsx("span",{className:"text-blue-500 text-sm mb-1",children:"projects greenlit"})]})]}),y.jsxs("div",{className:"bg-amber-50 rounded-xl p-5 border border-amber-100",children:[y.jsx("h4",{className:"text-amber-800 font-bold text-sm uppercase tracking-wide mb-1",children:"Pending Review"}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("span",{className:"text-4xl font-bold text-amber-600",children:j.pending}),y.jsx("span",{className:"text-amber-500 text-sm mb-1",children:"awaiting action"})]})]}),y.jsxs("div",{className:"md:col-span-2 bg-white rounded-xl border border-slate-200 p-5 shadow-sm",children:[y.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(DS,{size:18,className:"text-slate-400"})," Requests by Department"]}),y.jsx("div",{className:"space-y-4",children:Object.entries(j.deptCounts).sort(([,ie],[,pe])=>pe-ie).map(([ie,pe])=>{const w=pe/j.total*100;return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[y.jsx("span",{className:"font-medium text-slate-700",children:ie}),y.jsxs("span",{className:"text-slate-500",children:[pe," requests"]})]}),y.jsx("div",{className:"w-full bg-slate-100 rounded-full h-3 overflow-hidden",children:y.jsx("div",{className:"bg-red-800 h-3 rounded-full",style:{width:`${w}%`}})})]},ie)})})]}),y.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-5 shadow-sm",children:[y.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(Fd,{size:18,className:"text-slate-400"})," Top Equipment"]}),y.jsx("ul",{className:"space-y-3",children:j.topEquipment.map(([ie,pe],w)=>y.jsxs("li",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold",children:w+1}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-medium text-slate-700 truncate",children:ie.replace(" *","")}),y.jsxs("p",{className:"text-xs text-slate-400",children:[pe," checkouts"]})]})]},ie))})]})]})]})})}function dt({currentUser:ue}){const[me,j]=Re.useState([]),[X,ne]=Re.useState(!0);Re.useEffect(()=>{if(!ue)return;const w=$r(tr(_n,"requests"),No("email","==",ue.email),Nv("createdAt","desc")),B=Co(w,J=>{const ee=J.docs.map(he=>({id:he.id,...he.data(),formattedDate:he.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));j(ee),ne(!1)});return()=>B()},[ue]);const ie=async w=>{window.confirm("Are you sure?")&&await im(ir(_n,"requests",w))},pe=w=>{switch(w){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[y.jsx("div",{className:"bg-red-900 text-white p-6",children:y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[y.jsx(m0,{className:"text-amber-400"})," My Request History"]})}),y.jsx("div",{className:"overflow-x-auto",children:X?y.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading..."}):me.length===0?y.jsx("div",{className:"p-12 text-center text-slate-500",children:"No requests found."}):y.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-50 border-b text-xs uppercase text-slate-500",children:[y.jsx("th",{className:"p-4",children:"ID"}),y.jsx("th",{className:"p-4",children:"Dept"}),y.jsx("th",{className:"p-4",children:"Request"}),y.jsx("th",{className:"p-4",children:"Date"}),y.jsx("th",{className:"p-4",children:"Status"}),y.jsx("th",{className:"p-4",children:"Action"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100",children:me.map(w=>y.jsxs("tr",{className:"hover:bg-slate-50",children:[y.jsx("td",{className:"p-4 text-slate-400 font-mono text-xs",children:w.displayId}),y.jsx("td",{className:"p-4 capitalize text-sm",children:w.dept}),y.jsx("td",{className:"p-4 font-semibold text-sm",children:w.title}),y.jsx("td",{className:"p-4 text-sm",children:w.formattedDate}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${pe(w.status)}`,children:w.status})}),y.jsx("td",{className:"p-4",children:w.status==="Pending Review"&&y.jsx("button",{onClick:()=>ie(w.id),className:"text-xs text-red-600 border border-red-200 px-3 py-1 rounded hover:bg-red-50",children:"Cancel"})})]},w.id))})]})})]})}function Ke({adminMode:ue,blackouts:me}){const[j,X]=Re.useState(new Date),[ne,ie]=Re.useState(null),[pe,w]=Re.useState("all"),[B,J]=Re.useState([]),[ee,he]=Re.useState(!0),ge=()=>X(new Date(j.setMonth(j.getMonth()+1))),ve=()=>X(new Date(j.setMonth(j.getMonth()-1)));Re.useEffect(()=>{const te=$r(tr(_n,"requests")),Te=Co(te,Ue=>{const Kt=Ue.docs.map(St=>{const Et=St.data();let Vt=Et.eventDate||Et.checkoutDate||Et.pickupDate||Et.deadline;if(!Vt)return null;const[ni,Ki,Cn]=Vt.split("-").map(Number),zn=new Date(ni,Ki-1,Cn);return{id:St.id,title:Et.title||Et.requestName||"Request",displayId:Et.displayId,dept:Et.dept,type:Et.requestType==="checkout"||Et.dept==="Graphic"?"checkout":"event",status:Et.status,date:zn,...Et}}).filter(St=>St!==null&&St.status==="Approved");J(Kt),he(!1)});return()=>Te()},[]);const Ee=async te=>{const Ue=new Date(j.getFullYear(),j.getMonth(),te).toISOString().split("T")[0];if(ue){me.includes(Ue)?window.confirm(`Re-open ${Ue}?`)&&await im(ir(_n,"blackout_dates",Ue)):window.confirm(`Blackout ${Ue}? Students will not be able to book this date.`)&&await nm(ir(_n,"blackout_dates",Ue),{reason:"Closed"});return}ie(ne===te?null:te)},Ne=te=>{const Te=te.getFullYear(),Ue=te.getMonth(),Kt=new Date(Te,Ue+1,0).getDate(),St=new Date(Te,Ue,1).getDay();return{days:Kt,firstDay:St,monthName:te.toLocaleString("default",{month:"long"}),year:Te}},{days:Ot,firstDay:Mt,monthName:ae,year:Ce}=Ne(j),we=Array.from({length:Ot},(te,Te)=>Te+1),Ie=Array.from({length:Mt},(te,Te)=>Te),We=te=>B.filter(Te=>Te.date.getDate()===te&&Te.date.getMonth()===j.getMonth()&&Te.date.getFullYear()===j.getFullYear()&&(pe==="all"||Te.dept===pe)),Xe=te=>{const Te="https://calendar.google.com/calendar/render?action=TEMPLATE",Ue=`&text=${encodeURIComponent(`[${te.dept}] ${te.title}`)}`,Kt=`&details=${encodeURIComponent(`Ref: ${te.displayId}
Requested by: ${te.fullName}
Role: ${te.role}
Details: ${te.details||te.brief||te.description||"N/A"}`)}`,St=`&location=${encodeURIComponent(te.location||"Salpointe Catholic High School")}`,Et=te.date.getFullYear(),Vt=String(te.date.getMonth()+1).padStart(2,"0"),ni=String(te.date.getDate()).padStart(2,"0"),Ki=`${Et}${Vt}${ni}`,Cn=new Date(te.date);Cn.setDate(Cn.getDate()+1);const zn=Cn.getFullYear(),wl=String(Cn.getMonth()+1).padStart(2,"0"),ha=String(Cn.getDate()).padStart(2,"0"),fa=`${zn}${wl}${ha}`,da=`&dates=${Ki}/${fa}`;return`${Te}${Ue}${da}${Kt}${St}`};return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden",children:[y.jsxs("div",{className:"bg-red-900 text-white p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[y.jsx("button",{onClick:ve,className:"p-1 hover:bg-red-800 rounded-full transition-colors",children:y.jsx(LS,{size:24})}),y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[ae," ",Ce]}),y.jsx("button",{onClick:ge,className:"p-1 hover:bg-red-800 rounded-full transition-colors",children:y.jsx(kS,{size:24})})]}),y.jsx("p",{className:"text-red-200 text-sm ml-1",children:"Approved requests and checkouts"})]}),y.jsx("div",{className:"flex bg-red-800 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",ze.FILM,ze.PHOTO,ze.CULINARY].map(te=>y.jsx("button",{onClick:()=>w(te),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${pe===te?"bg-white text-red-900 shadow-sm":"text-red-200 hover:text-white"}`,children:te==="all"?"All":te},te))})]}),y.jsxs("div",{className:"p-4 md:p-6",children:[ue&&y.jsxs("div",{className:"mb-4 p-3 bg-gray-50 border border-gray-200 rounded text-xs text-gray-500 flex items-center gap-2",children:[y.jsx(c0,{size:14})," Admin Mode: Click a date to toggle blackout status (close/open)."]}),y.jsx("div",{className:"overflow-x-auto pb-2",children:ee?y.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading schedule..."}):y.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-200 border border-slate-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(te=>y.jsx("div",{className:"bg-slate-50 p-2 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider",children:te},te)),Ie.map(te=>y.jsx("div",{className:"bg-white min-h-[80px] md:min-h-[100px]"},`empty-${te}`)),we.map(te=>{const Te=We(te),Ue=te===new Date().getDate()&&j.getMonth()===new Date().getMonth()&&j.getFullYear()===new Date().getFullYear(),Kt=new Date(Ce,j.getMonth(),te).toISOString().split("T")[0],St=me.includes(Kt);return y.jsxs("div",{className:`min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-100 relative group cursor-pointer transition-colors 
                        ${St?"bg-gray-100":"bg-white"} 
                        ${ne===te?"bg-red-50":"hover:bg-slate-50"}`,onClick:()=>Ee(te),children:[y.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${Ue?"bg-red-900 text-white":"text-slate-700"}`,children:te}),St?y.jsx("div",{className:"flex justify-center mt-2",children:y.jsx(c0,{className:"text-gray-300",size:20})}):y.jsx("div",{className:"space-y-1",children:Te.map(Et=>y.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${Et.type==="checkout"?"bg-blue-50 border-blue-100 text-blue-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:Et.title},Et.id))})]},te)})]})}),ne&&!me.includes(new Date(Ce,j.getMonth(),ne).toISOString().split("T")[0])&&y.jsxs("div",{className:"mt-4 md:mt-6 p-4 bg-slate-50 rounded-lg border border-slate-200 animate-fade-in",children:[y.jsxs("h4",{className:"font-bold text-slate-800 mb-3",children:["Events for ",ae," ",ne]}),We(ne).length===0?y.jsx("p",{className:"text-slate-500 text-sm",children:"No approved events."}):y.jsx("div",{className:"space-y-3",children:We(ne).map(te=>y.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded border border-slate-200 shadow-sm",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-slate-800 text-sm",children:te.title}),y.jsxs("p",{className:"text-xs text-slate-500 uppercase",children:[te.dept,"  ",te.fullName]})]}),y.jsx("a",{href:Xe(te),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-50 hover:bg-slate-100 p-2 rounded text-slate-600",children:y.jsx(AS,{size:16})})]},te.id))})]})]})]})}function I({adminMode:ue,setAdminMode:me,ALLOWED_ADMINS:j}){const[X,ne]=Re.useState([]),[ie,pe]=Re.useState("all"),[w,B]=Re.useState(!0),[J,ee]=Re.useState(null),[he,ge]=Re.useState("");Re.useEffect(()=>{const ae=$r(tr(_n,"requests"),Nv("createdAt","desc")),Ce=Co(ae,we=>{const Ie=we.docs.map(We=>({id:We.id,...We.data(),formattedDate:We.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));ne(Ie),B(!1)});return()=>Ce()},[]);const ve=async(ae,Ce)=>{window.confirm(`Mark as ${Ce}?`)&&(await hN(ir(_n,"requests",ae.id),{status:Ce}),J&&J.id===ae.id&&ee(we=>({...we,status:Ce})),$v({to_name:ae.fullName,to_email:ae.email,subject:`Request Update: ${ae.title}`,title:ae.title,status:Ce,message:`Status updated to ${Ce}.`}))},Ee=async ae=>{window.confirm("Delete request?")&&(await im(ir(_n,"requests",ae)),J&&J.id===ae&&ee(null))},Ne=()=>{const ae=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],Ce=X.map(Xe=>[Xe.displayId,Xe.dept,`"${Xe.title}"`,Xe.fullName,Xe.email,Xe.formattedDate,Xe.status,`"${(Xe.details||Xe.brief||Xe.description||"").replace(/"/g,'""')}"`]),we="data:text/csv;charset=utf-8,"+[ae.join(","),...Ce.map(Xe=>Xe.join(","))].join(`
`),Ie=encodeURI(we),We=document.createElement("a");We.setAttribute("href",Ie),We.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(We),We.click(),document.body.removeChild(We)},Ot=X.filter(ae=>{const Ce=ie==="all"?!0:ae.dept?.toLowerCase().includes(ie.toLowerCase()),we=he.toLowerCase(),Ie=ae.title?.toLowerCase().includes(we)||ae.fullName?.toLowerCase().includes(we)||ae.displayId?.toLowerCase().includes(we)||ae.email?.toLowerCase().includes(we);return Ce&&Ie}),Mt=ae=>{switch(ae){case"Approved":return"bg-green-100 text-green-700";case"Denied":return"bg-red-100 text-red-700";case"Completed":return"bg-slate-100 text-slate-600";default:return"bg-yellow-100 text-yellow-700"}};return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden relative",children:[J&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[y.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start sticky top-0 bg-white z-10",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Request Details"}),y.jsxs("p",{className:"text-xs text-slate-400 font-mono mt-1",children:["ID: ",J.displayId]})]}),y.jsx("button",{onClick:()=>ee(null),className:"text-slate-400 hover:text-slate-600 bg-slate-100 p-2 rounded-full",children:y.jsx(Gd,{size:20})})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Department"}),y.jsx("p",{className:"font-semibold text-slate-800 capitalize",children:J.dept})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Status"}),y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${Mt(J.status)}`,children:J.status})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Submitted By"}),y.jsx("p",{className:"text-slate-800",children:J.fullName})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase block mb-1",children:"Contact"}),y.jsx("p",{className:"text-slate-800",children:J.email})]})]}),y.jsx("hr",{className:"border-slate-100"}),y.jsxs("div",{children:[y.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[y.jsx(Hd,{size:18,className:"text-slate-400"})," Details"]}),y.jsx("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 border border-slate-100",children:Object.entries(J).map(([ae,Ce])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(ae)?null:Array.isArray(Ce)?y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ae}),y.jsx("ul",{className:"list-disc list-inside text-sm bg-white p-2 rounded border",children:Ce.map((we,Ie)=>y.jsx("li",{children:we},Ie))})]},ae):y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:ae.replace(/([A-Z])/g," $1").trim()}),y.jsx("p",{className:"text-slate-700 text-sm",children:Ce})]},ae))})]}),ue&&y.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[y.jsx("h4",{className:"font-bold text-indigo-900 mb-2 text-sm",children:"Admin Actions"}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>ve(J,"Approved"),className:"flex-1 py-2 bg-green-600 text-white rounded text-sm",children:"Approve"}),y.jsx("button",{onClick:()=>ve(J,"Denied"),className:"flex-1 py-2 bg-red-600 text-white rounded text-sm",children:"Deny"})]})]})]})]})}),y.jsxs("div",{className:"bg-indigo-900 text-white p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2",children:[y.jsx(d0,{className:"text-indigo-300"})," All Requests"]}),y.jsx("p",{className:"text-indigo-200 text-sm",children:"Live Admin Queue"})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[y.jsxs("div",{className:"relative flex-1 lg:w-64",children:[y.jsx(sA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-300",size:16}),y.jsx("input",{type:"text",placeholder:"Search requests...",className:"w-full bg-indigo-800 text-white border border-indigo-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 placeholder-indigo-400",value:he,onChange:ae=>ge(ae.target.value)})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{className:"bg-indigo-800 text-white border border-indigo-700 rounded-lg px-4 py-2 text-sm",value:ie,onChange:ae=>pe(ae.target.value),children:[y.jsx("option",{value:"all",children:"All Depts"}),y.jsx("option",{value:"film",children:"Film"}),y.jsx("option",{value:"graphic",children:"Graphic"}),y.jsx("option",{value:"business",children:"Business"}),y.jsx("option",{value:"culinary",children:"Culinary"}),y.jsx("option",{value:"photo",children:"Photo"})]}),ue&&y.jsxs("button",{onClick:Ne,className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[y.jsx(HS,{size:16})," ",y.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:w?y.jsx("div",{className:"p-8 text-center text-slate-400",children:"Loading..."}):y.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-slate-50 border-b text-xs uppercase text-slate-500",children:[y.jsx("th",{className:"p-4",children:"ID"}),y.jsx("th",{className:"p-4",children:"Dept"}),y.jsx("th",{className:"p-4",children:"Request"}),y.jsx("th",{className:"p-4",children:"User"}),y.jsx("th",{className:"p-4",children:"Status"}),y.jsx("th",{className:"p-4",children:"View"}),ue&&y.jsx("th",{className:"p-4",children:"Action"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100",children:Ot.map(ae=>y.jsxs("tr",{className:"hover:bg-slate-50",children:[y.jsx("td",{className:"p-4 text-slate-400 font-mono text-xs",children:ae.displayId}),y.jsx("td",{className:"p-4 text-slate-700 text-sm capitalize",children:ae.dept}),y.jsx("td",{className:"p-4 text-slate-800 font-semibold text-sm",children:ae.title}),y.jsx("td",{className:"p-4 text-slate-600 text-sm",children:ae.fullName}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${Mt(ae.status)}`,children:ae.status})}),y.jsx("td",{className:"p-4",children:y.jsx("button",{onClick:()=>ee(ae),className:"text-slate-400 hover:text-indigo-600 p-2",children:y.jsx(GS,{size:20})})}),ue&&y.jsxs("td",{className:"p-4 flex gap-2",children:[y.jsx("button",{onClick:()=>ve(ae,"Approved"),className:"p-1 bg-green-100 text-green-700 rounded",children:y.jsx(MS,{size:16})}),y.jsx("button",{onClick:()=>ve(ae,"Denied"),className:"p-1 bg-red-100 text-red-700 rounded",children:y.jsx(Gd,{size:16})}),y.jsx("button",{onClick:()=>Ee(ae.id),className:"p-1 bg-slate-100 text-slate-700 rounded",children:y.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},ae.id))})]})})]})}function x({title:ue,icon:me,colorClass:j,children:X,setSubmitted:ne,initialData:ie={},onCancel:pe,currentUser:w,blackouts:B=[]}){const J=Re.useRef(null),ee=Jr(ue),[he,ge]=Re.useState(!1),ve=()=>{const Ce=new FormData(J.current),we={};for(const[Ie,We]of Ce.entries())we[Ie]?(Array.isArray(we[Ie])||(we[Ie]=[we[Ie]]),we[Ie].push(We)):we[Ie]=We;return localStorage.setItem(ee,JSON.stringify(we)),!0},Ee=Ce=>{Ce.preventDefault(),ve(),alert("Draft saved!")},Ne=()=>{ge(!0)},Ot=()=>{ve(),ge(!1),pe()},Mt=()=>{localStorage.removeItem(ee),ge(!1),pe()},ae=async Ce=>{Ce.preventDefault();const we=new FormData(Ce.target),Ie={};for(const[te,Te]of we.entries())Ie[te]?(Array.isArray(Ie[te])||(Ie[te]=[Ie[te]]),Ie[te].push(Te)):Ie[te]=Te;const We=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let Xe=!1;if(We.forEach(te=>{Ie[te]&&B.includes(Ie[te])&&(Xe=!0)}),Xe){alert("One of your selected dates is marked as a Blackout Date (Holiday/Closed). Please choose a different date.");return}try{const te=Date.now().toString().slice(-4),Te=Math.floor(1e3+Math.random()*9e3),Ue=`REQ-${te}-${Te}`;await fN(tr(_n,"requests"),{...Ie,dept:ue,displayId:Ue,status:"Pending Review",createdAt:new Date,title:Ie.requestName||Ie.eventName||Ie.projectType||Ie.businessName||"New Request"}),$v({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${Ie.requestName}`,title:Ie.requestName,status:"Pending Review",message:`New request (${Ue}) from ${Ie.fullName}.`}),localStorage.removeItem(ee),ne(!0)}catch(te){console.error(te),alert("Error submitting.")}};return y.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden relative",children:[he&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 text-yellow-600",children:y.jsx(uA,{size:32})}),y.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Unsaved Changes"}),y.jsx("p",{className:"text-slate-600 mb-6",children:"Do you want to save your draft?"}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("button",{onClick:Ot,className:"w-full bg-slate-800 text-white py-3 rounded-lg font-semibold hover:bg-slate-900 flex items-center justify-center gap-2",children:[y.jsx(Oc,{size:18})," Save Draft & Exit"]}),y.jsx("button",{onClick:Mt,className:"w-full bg-white border border-red-200 text-red-600 py-3 rounded-lg font-semibold hover:bg-red-50",children:"Discard Changes"}),y.jsx("button",{onClick:()=>ge(!1),className:"w-full text-slate-400 py-2 hover:text-slate-600 text-sm",children:"Keep Editing"})]})]})}),y.jsx("div",{className:`h-2 ${j}`}),y.jsxs("div",{className:"p-5 md:p-8",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-100",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-3 rounded-lg ${j} bg-opacity-10 text-opacity-100`,children:y.jsx(me,{size:24,className:`md:w-7 md:h-7 ${j.replace("bg-","text-")}`})}),y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:[ue," Request"]}),y.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Please fill out all details accurately."})]})]}),y.jsx("button",{type:"button",onClick:Ne,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 p-2 rounded-full transition-colors",children:y.jsx(Gd,{size:24})})]}),y.jsxs("form",{ref:J,onSubmit:ae,children:[y.jsx(Me,{initialData:ie,currentUser:w}),X,y.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3",children:[y.jsx("button",{type:"button",onClick:Ne,className:"flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-500 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 hover:text-slate-700 transition-colors",children:"Cancel"}),y.jsxs("button",{type:"button",onClick:Ee,className:"flex items-center justify-center gap-2 bg-white border border-slate-300 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-50 transition-colors",children:[y.jsx(Oc,{size:18})," Save Draft"]}),y.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-red-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-800 transition-colors shadow-lg active:scale-95 md:active:scale-100",children:"Submit Request"})]})]})]})]})}function C({setSubmitted:ue,onCancel:me,currentUser:j,inventory:X,blackouts:ne}){const ie="Film",pe=Jr(ie),w=JSON.parse(localStorage.getItem(pe)||"{}"),[B,J]=Re.useState(w.requestType||"checkout"),[ee,he]=Re.useState({}),[ge,ve]=Re.useState(!1),[Ee,Ne]=Re.useState({start:w.checkoutDate||"",end:w.returnDate||""}),Ot=ae=>{const Ce={...Ee,[ae.target.name==="checkoutDate"?"start":"end"]:ae.target.value};Ne(Ce)};Re.useEffect(()=>{(async()=>{if(!Ee.start||!Ee.end||B!=="checkout"){ve(!1);return}ve(!0);const Ce=$r(tr(_n,"requests"),No("dept","==","Film"),No("requestType","==","checkout")),we=await Dv(Ce),Ie={};we.forEach(Xe=>{const te=Xe.data();if(te.status==="Denied"||te.status==="Completed")return;const Te=te.checkoutDate,Ue=te.returnDate;Te<=Ee.end&&Ue>=Ee.start&&te.equipment&&(Array.isArray(te.equipment)?te.equipment:[te.equipment]).forEach(St=>{Ie[St]=(Ie[St]||0)+1})});const We={};Object.keys(X).forEach(Xe=>{We[Xe]=Math.max(0,X[Xe]-(Ie[Xe]||0))}),he(We)})()},[Ee,B,X]);const Mt=Ee.start&&Ee.end&&Ee.start===Ee.end;return y.jsxs(x,{title:ie,icon:_0,colorClass:"bg-blue-600",setSubmitted:ue,initialData:w,onCancel:me,currentUser:j,blackouts:ne,children:[y.jsx("input",{type:"hidden",name:"requestType",value:B}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("button",{type:"button",onClick:()=>J("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${B==="checkout"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[y.jsx(h0,{className:"mx-auto mb-2"})," Equipment Checkout"]}),y.jsxs("button",{type:"button",onClick:()=>J("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${B==="service"?"border-blue-600 bg-blue-50 text-blue-700 font-bold":"border-slate-200 hover:border-blue-300"}`,children:[y.jsx(ZS,{className:"mx-auto mb-2"})," Broadcasting/Recording Team"]})]})]}),B==="checkout"?y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100 text-sm text-blue-800 mb-4",children:[y.jsx("strong",{children:"Note:"})," Equipment must be returned by 8:00 AM the following school day."]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Checkout Date"}),y.jsx("input",{name:"checkoutDate",defaultValue:w.checkoutDate,onChange:Ot,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),y.jsx("input",{name:"returnDate",defaultValue:w.returnDate,onChange:Ot,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),Mt&&y.jsxs("div",{className:"mb-4 animate-fade-in bg-blue-50 p-4 rounded-lg border border-blue-100",children:[y.jsx("label",{className:"block text-sm font-bold text-blue-800 mb-1",children:"Duration / Specific Hours"}),y.jsxs("select",{name:"durationHours",defaultValue:w.durationHours,className:"w-full rounded-md border-blue-300 border p-2.5 text-sm bg-white",children:[y.jsx("option",{value:"",children:"Select Duration..."}),y.jsx("option",{value:"1 Hour",children:"1 Hour"}),y.jsx("option",{value:"2 Hours",children:"2 Hours"}),y.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),y.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),y.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Select Equipment Needed: ",y.jsx("span",{className:"text-red-500 text-xs font-normal ml-1",children:"* Requires Training"})]}),ge?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["Cinema Camera Kit *","Gimbal / Stabilizer *","DJI Mic Kit (Wireless)","DJI Flip Drone *","Tripod","Lighting Kit"].map(ae=>{const Ce=ee[ae]!==void 0?ee[ae]:99,we=Ce<=0;return y.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-colors ${we?"bg-gray-100 opacity-60 cursor-not-allowed":"hover:bg-slate-50 cursor-pointer active:bg-blue-50"}`,children:[y.jsx("input",{type:"checkbox",name:"equipment",value:ae,disabled:we,defaultChecked:w.equipment?.includes(ae),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-slate-700 text-sm block",children:ae}),y.jsx("span",{className:`text-xs ${we?"text-red-600 font-bold":"text-green-600"}`,children:we?"Unavailable for dates":`${Ce} available`})]})]},ae)})}):y.jsxs("div",{className:"p-4 bg-slate-100 rounded text-center text-slate-500 text-sm",children:[y.jsx(f0,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Please select dates above to check equipment availability."]}),y.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:y.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[y.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),y.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[y.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),y.jsx("input",{name:"eventDate",defaultValue:w.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),y.jsx("input",{name:"startTime",defaultValue:w.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Needed"}),y.jsxs("select",{name:"serviceType",defaultValue:w.serviceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm bg-white",children:[y.jsx("option",{children:"Live Broadcast (Stream)"}),y.jsx("option",{children:"Event Recording (Edited later)"}),y.jsx("option",{children:"Raw Footage Only"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Details"}),y.jsx("textarea",{name:"details",defaultValue:w.details,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Describe specifics..."})]})]})]})}function V({setSubmitted:ue,onCancel:me,currentUser:j}){const X="Graphic",ne=Jr(X),ie=JSON.parse(localStorage.getItem(ne)||"{}");return y.jsx(x,{title:X,icon:p0,colorClass:"bg-purple-600",setSubmitted:ue,initialData:ie,onCancel:me,currentUser:j,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Type"}),y.jsxs("select",{name:"projectType",defaultValue:ie.projectType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[y.jsx("option",{children:"Event Poster / Flyer"}),y.jsx("option",{children:"Logo Design"}),y.jsx("option",{children:"Website Design"}),y.jsx("option",{children:"T-Shirt / Merch"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dimensions"}),y.jsx("input",{name:"dimensions",defaultValue:ie.dimensions,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., 11x17"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Deadline"}),y.jsx("input",{name:"deadline",defaultValue:ie.deadline,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Design Brief"}),y.jsx("textarea",{name:"brief",defaultValue:ie.brief,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function O({setSubmitted:ue,onCancel:me,currentUser:j}){const X="Business",ne=Jr(X),ie=JSON.parse(localStorage.getItem(ne)||"{}");return y.jsx(x,{title:X,icon:Hd,colorClass:"bg-emerald-600",setSubmitted:ue,initialData:ie,onCancel:me,currentUser:j,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assistance Needed"}),y.jsxs("select",{name:"assistanceType",defaultValue:ie.assistanceType,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[y.jsx("option",{children:"Business Plan Review"}),y.jsx("option",{children:"Financial Modeling Help"}),y.jsx("option",{children:"Marketing Strategy"}),y.jsx("option",{children:"General Mentorship"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Idea Description"}),y.jsx("textarea",{name:"description",defaultValue:ie.description,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-40",placeholder:"Briefly describe your product...",required:!0})]})]})})}function L({setSubmitted:ue,onCancel:me,currentUser:j}){const X="Culinary",ne=Jr(X),ie=JSON.parse(localStorage.getItem(ne)||"{}");return y.jsx(x,{title:X,icon:y0,colorClass:"bg-orange-500",setSubmitted:ue,initialData:ie,onCancel:me,currentUser:j,children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Date"}),y.jsx("input",{name:"eventDate",defaultValue:ie.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Serve Time"}),y.jsx("input",{name:"serveTime",defaultValue:ie.serveTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Guest Count"}),y.jsx("input",{name:"guestCount",defaultValue:ie.guestCount,type:"number",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",min:"1",placeholder:"50",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Service Style"}),y.jsxs("select",{name:"serviceStyle",defaultValue:ie.serviceStyle,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm shadow-sm bg-white",children:[y.jsx("option",{children:"Buffet Style"}),y.jsx("option",{children:"Boxed Lunches"}),y.jsx("option",{children:"Plated Service"}),y.jsx("option",{children:"Appetizers"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Menu/Dietary Notes"}),y.jsx("textarea",{name:"menuNotes",defaultValue:ie.menuNotes,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Preferences, allergies...",required:!0})]})]})})}function R({setSubmitted:ue,onCancel:me,currentUser:j,inventory:X,blackouts:ne}){const ie="Photo",pe=Jr(ie),w=JSON.parse(localStorage.getItem(pe)||"{}"),[B,J]=Re.useState(w.requestType||"service"),[ee,he]=Re.useState({}),[ge,ve]=Re.useState(!1),[Ee,Ne]=Re.useState({start:w.pickupDate||"",end:w.returnDate||""}),Ot=ae=>{const Ce={...Ee,[ae.target.name==="pickupDate"?"start":"end"]:ae.target.value};Ne(Ce)};Re.useEffect(()=>{(async()=>{if(!Ee.start||!Ee.end||B!=="checkout"){ve(!1);return}ve(!0);const Ce=$r(tr(_n,"requests"),No("dept","==","Photo"),No("requestType","==","checkout")),we=await Dv(Ce),Ie={};we.forEach(Xe=>{const te=Xe.data();if(te.status==="Denied"||te.status==="Completed")return;const Te=te.pickupDate,Ue=te.returnDate;Te<=Ee.end&&Ue>=Ee.start&&te.equipment&&(Array.isArray(te.equipment)?te.equipment:[te.equipment]).forEach(St=>{Ie[St]=(Ie[St]||0)+1})});const We={};Object.keys(X).forEach(Xe=>{const te=X[Xe],Te=Ie[Xe]||0;We[Xe]=Math.max(0,te-Te)}),he(We)})()},[Ee,B,X]);const Mt=Ee.start&&Ee.end&&Ee.start===Ee.end;return y.jsxs(x,{title:ie,icon:Fd,colorClass:"bg-pink-600",setSubmitted:ue,initialData:w,onCancel:me,currentUser:j,blackouts:ne,children:[y.jsx("input",{type:"hidden",name:"requestType",value:B}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Request Type"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("button",{type:"button",onClick:()=>J("service"),className:`p-4 rounded-lg border-2 text-center transition-all ${B==="service"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[y.jsx(dA,{className:"mx-auto mb-2"})," Event Coverage"]}),y.jsxs("button",{type:"button",onClick:()=>J("checkout"),className:`p-4 rounded-lg border-2 text-center transition-all ${B==="checkout"?"border-pink-600 bg-pink-50 text-pink-700 font-bold":"border-slate-200 hover:border-pink-300"}`,children:[y.jsx(h0,{className:"mx-auto mb-2"})," Equipment Checkout"]})]})]}),B==="checkout"?y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"bg-pink-50 p-4 rounded-md border border-pink-100 text-sm text-pink-800 mb-4",children:[y.jsx("strong",{children:"Requirement:"})," Photo I completion required."]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Pickup Date"}),y.jsx("input",{name:"pickupDate",defaultValue:w.pickupDate,onChange:Ot,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Return Date"}),y.jsx("input",{name:"returnDate",defaultValue:w.returnDate,onChange:Ot,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),Mt&&y.jsxs("div",{className:"mb-4 animate-fade-in bg-pink-50 p-4 rounded-lg border border-pink-100",children:[y.jsx("label",{className:"block text-sm font-bold text-pink-800 mb-1",children:"Duration / Specific Hours"}),y.jsxs("select",{name:"durationHours",defaultValue:w.durationHours,className:"w-full rounded-md border-pink-300 border p-2.5 text-sm bg-white",children:[y.jsx("option",{value:"",children:"Select Duration..."}),y.jsx("option",{value:"1 Hour",children:"1 Hour"}),y.jsx("option",{value:"2 Hours",children:"2 Hours"}),y.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),y.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),y.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Select Equipment Needed:"}),ge?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:["DSLR Camera Body","Zoom Lens (18-55mm)","Telephoto Lens (70-200mm)","Portrait Lens (50mm)","SD Card Reader","Tripod","Flash Unit"].map(ae=>{const Ce=ee[ae]!==void 0?ee[ae]:99,we=Ce<=0;return y.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-colors ${we?"bg-gray-100 opacity-60 cursor-not-allowed":"hover:bg-slate-50 cursor-pointer active:bg-pink-50"}`,children:[y.jsx("input",{type:"checkbox",name:"equipment",value:ae,disabled:we,defaultChecked:w.equipment?.includes(ae),className:"w-5 h-5 text-pink-600 rounded focus:ring-pink-500"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("span",{className:"text-slate-700 text-sm block",children:ae}),y.jsx("span",{className:`text-xs ${we?"text-red-600 font-bold":"text-green-600"}`,children:we?"Unavailable for dates":`${Ce} available`})]})]},ae)})}):y.jsxs("div",{className:"p-4 bg-slate-100 rounded text-center text-slate-500 text-sm",children:[y.jsx(f0,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Please select dates above to check equipment availability."]}),y.jsx("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:y.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[y.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 text-pink-600 rounded focus:ring-pink-500 border-gray-300"}),y.jsxs("span",{className:"text-sm text-slate-700 leading-tight",children:[y.jsx("strong",{children:"Terms & Conditions:"})," I agree to pay for equipment in full at market value in the event of damage beyond repair, lost, or stolen equipment."]})]})})]}):y.jsxs("div",{className:"space-y-4 animate-fade-in",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),y.jsx("input",{name:"eventDate",defaultValue:w.eventDate,type:"date",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),y.jsx("input",{name:"startTime",defaultValue:w.startTime,type:"time",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),y.jsx("input",{name:"location",defaultValue:w.location,type:"text",className:"w-full rounded-md border-slate-300 border p-2.5 text-sm",placeholder:"e.g., Gym"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Specific Shots"}),y.jsx("textarea",{name:"shotList",defaultValue:w.shotList,className:"w-full rounded-md border-slate-300 border p-2.5 text-sm h-24",placeholder:"Key moments..."})]})]})]})}};fS.createRoot(document.getElementById("root")).render(y.jsx(Re.StrictMode,{children:y.jsx(II,{})}));
