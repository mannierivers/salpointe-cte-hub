(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();var zf={exports:{}},No={};var s_;function fx(){if(s_)return No;s_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:c}}return No.Fragment=e,No.jsx=s,No.jsxs=s,No}var i_;function mx(){return i_||(i_=1,zf.exports=fx()),zf.exports}var m=mx(),qf={exports:{}},Le={};var r_;function px(){if(r_)return Le;r_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function K(w){return w===null||typeof w!="object"?null:(w=O&&w[O]||w["@@iterator"],typeof w=="function"?w:null)}var se={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ie={};function xe(w,j,J){this.props=w,this.context=j,this.refs=ie,this.updater=J||se}xe.prototype.isReactComponent={},xe.prototype.setState=function(w,j){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,j,"setState")},xe.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function je(){}je.prototype=xe.prototype;function Re(w,j,J){this.props=w,this.context=j,this.refs=ie,this.updater=J||se}var ot=Re.prototype=new je;ot.constructor=Re,re(ot,xe.prototype),ot.isPureReactComponent=!0;var _t=Array.isArray;function Je(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(w,j,J){var F=J.ref;return{$$typeof:i,type:w,key:j,ref:F!==void 0?F:null,props:J}}function k(w,j){return C(w.type,j,w.props)}function D(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function L(w){var j={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(J){return j[J]})}var N=/\/+/g;function Tt(w,j){return typeof w=="object"&&w!==null&&w.key!=null?L(""+w.key):j.toString(36)}function kt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Je,Je):(w.status="pending",w.then(function(j){w.status==="pending"&&(w.status="fulfilled",w.value=j)},function(j){w.status==="pending"&&(w.status="rejected",w.reason=j)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function G(w,j,J,F,ae){var oe=typeof w;(oe==="undefined"||oe==="boolean")&&(w=null);var me=!1;if(w===null)me=!0;else switch(oe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(w.$$typeof){case i:case e:me=!0;break;case x:return me=w._init,G(me(w._payload),j,J,F,ae)}}if(me)return ae=ae(w),me=F===""?"."+Tt(w,0):F,_t(ae)?(J="",me!=null&&(J=me.replace(N,"$&/")+"/"),G(ae,j,J,"",function(Ce){return Ce})):ae!=null&&(D(ae)&&(ae=k(ae,J+(ae.key==null||w&&w.key===ae.key?"":(""+ae.key).replace(N,"$&/")+"/")+me)),j.push(ae)),1;me=0;var qe=F===""?".":F+":";if(_t(w))for(var Oe=0;Oe<w.length;Oe++)F=w[Oe],oe=qe+Tt(F,Oe),me+=G(F,j,J,oe,ae);else if(Oe=K(w),typeof Oe=="function")for(w=Oe.call(w),Oe=0;!(F=w.next()).done;)F=F.value,oe=qe+Tt(F,Oe++),me+=G(F,j,J,oe,ae);else if(oe==="object"){if(typeof w.then=="function")return G(kt(w),j,J,F,ae);throw j=String(w),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(w,j,J){if(w==null)return w;var F=[],ae=0;return G(w,F,"","",function(oe){return j.call(J,oe,ae++)}),F}function ee(w){if(w._status===-1){var j=w._result;j=j(),j.then(function(J){(w._status===0||w._status===-1)&&(w._status=1,w._result=J)},function(J){(w._status===0||w._status===-1)&&(w._status=2,w._result=J)}),w._status===-1&&(w._status=0,w._result=j)}if(w._status===1)return w._result.default;throw w._result}var ne=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ue={map:Y,forEach:function(w,j,J){Y(w,function(){j.apply(this,arguments)},J)},count:function(w){var j=0;return Y(w,function(){j++}),j},toArray:function(w){return Y(w,function(j){return j})||[]},only:function(w){if(!D(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Le.Activity=S,Le.Children=ue,Le.Component=xe,Le.Fragment=s,Le.Profiler=o,Le.PureComponent=Re,Le.StrictMode=r,Le.Suspense=v,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Le.__COMPILER_RUNTIME={__proto__:null,c:function(w){return I.H.useMemoCache(w)}},Le.cache=function(w){return function(){return w.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(w,j,J){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var F=re({},w.props),ae=w.key;if(j!=null)for(oe in j.key!==void 0&&(ae=""+j.key),j)!A.call(j,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&j.ref===void 0||(F[oe]=j[oe]);var oe=arguments.length-2;if(oe===1)F.children=J;else if(1<oe){for(var me=Array(oe),qe=0;qe<oe;qe++)me[qe]=arguments[qe+2];F.children=me}return C(w.type,ae,F)},Le.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},Le.createElement=function(w,j,J){var F,ae={},oe=null;if(j!=null)for(F in j.key!==void 0&&(oe=""+j.key),j)A.call(j,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ae[F]=j[F]);var me=arguments.length-2;if(me===1)ae.children=J;else if(1<me){for(var qe=Array(me),Oe=0;Oe<me;Oe++)qe[Oe]=arguments[Oe+2];ae.children=qe}if(w&&w.defaultProps)for(F in me=w.defaultProps,me)ae[F]===void 0&&(ae[F]=me[F]);return C(w,oe,ae)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(w){return{$$typeof:y,render:w}},Le.isValidElement=D,Le.lazy=function(w){return{$$typeof:x,_payload:{_status:-1,_result:w},_init:ee}},Le.memo=function(w,j){return{$$typeof:_,type:w,compare:j===void 0?null:j}},Le.startTransition=function(w){var j=I.T,J={};I.T=J;try{var F=w(),ae=I.S;ae!==null&&ae(J,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Je,ne)}catch(oe){ne(oe)}finally{j!==null&&J.types!==null&&(j.types=J.types),I.T=j}},Le.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Le.use=function(w){return I.H.use(w)},Le.useActionState=function(w,j,J){return I.H.useActionState(w,j,J)},Le.useCallback=function(w,j){return I.H.useCallback(w,j)},Le.useContext=function(w){return I.H.useContext(w)},Le.useDebugValue=function(){},Le.useDeferredValue=function(w,j){return I.H.useDeferredValue(w,j)},Le.useEffect=function(w,j){return I.H.useEffect(w,j)},Le.useEffectEvent=function(w){return I.H.useEffectEvent(w)},Le.useId=function(){return I.H.useId()},Le.useImperativeHandle=function(w,j,J){return I.H.useImperativeHandle(w,j,J)},Le.useInsertionEffect=function(w,j){return I.H.useInsertionEffect(w,j)},Le.useLayoutEffect=function(w,j){return I.H.useLayoutEffect(w,j)},Le.useMemo=function(w,j){return I.H.useMemo(w,j)},Le.useOptimistic=function(w,j){return I.H.useOptimistic(w,j)},Le.useReducer=function(w,j,J){return I.H.useReducer(w,j,J)},Le.useRef=function(w){return I.H.useRef(w)},Le.useState=function(w){return I.H.useState(w)},Le.useSyncExternalStore=function(w,j,J){return I.H.useSyncExternalStore(w,j,J)},Le.useTransition=function(){return I.H.useTransition()},Le.version="19.2.0",Le}var a_;function Pm(){return a_||(a_=1,qf.exports=px()),qf.exports}var _e=Pm(),Bf={exports:{}},Ro={},Hf={exports:{}},Ff={};var l_;function gx(){return l_||(l_=1,(function(i){function e(G,Y){var ee=G.length;G.push(Y);e:for(;0<ee;){var ne=ee-1>>>1,ue=G[ne];if(0<o(ue,Y))G[ne]=Y,G[ee]=ue,ee=ne;else break e}}function s(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],ee=G.pop();if(ee!==Y){G[0]=ee;e:for(var ne=0,ue=G.length,w=ue>>>1;ne<w;){var j=2*(ne+1)-1,J=G[j],F=j+1,ae=G[F];if(0>o(J,ee))F<ue&&0>o(ae,J)?(G[ne]=ae,G[F]=ee,ne=F):(G[ne]=J,G[j]=ee,ne=j);else if(F<ue&&0>o(ae,ee))G[ne]=ae,G[F]=ee,ne=F;else break e}}return Y}function o(G,Y){var ee=G.sortIndex-Y.sortIndex;return ee!==0?ee:G.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,y=f.now();i.unstable_now=function(){return f.now()-y}}var v=[],_=[],x=1,S=null,O=3,K=!1,se=!1,re=!1,ie=!1,xe=typeof setTimeout=="function"?setTimeout:null,je=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;function ot(G){for(var Y=s(_);Y!==null;){if(Y.callback===null)r(_);else if(Y.startTime<=G)r(_),Y.sortIndex=Y.expirationTime,e(v,Y);else break;Y=s(_)}}function _t(G){if(re=!1,ot(G),!se)if(s(v)!==null)se=!0,Je||(Je=!0,L());else{var Y=s(_);Y!==null&&kt(_t,Y.startTime-G)}}var Je=!1,I=-1,A=5,C=-1;function k(){return ie?!0:!(i.unstable_now()-C<A)}function D(){if(ie=!1,Je){var G=i.unstable_now();C=G;var Y=!0;try{e:{se=!1,re&&(re=!1,je(I),I=-1),K=!0;var ee=O;try{t:{for(ot(G),S=s(v);S!==null&&!(S.expirationTime>G&&k());){var ne=S.callback;if(typeof ne=="function"){S.callback=null,O=S.priorityLevel;var ue=ne(S.expirationTime<=G);if(G=i.unstable_now(),typeof ue=="function"){S.callback=ue,ot(G),Y=!0;break t}S===s(v)&&r(v),ot(G)}else r(v);S=s(v)}if(S!==null)Y=!0;else{var w=s(_);w!==null&&kt(_t,w.startTime-G),Y=!1}}break e}finally{S=null,O=ee,K=!1}Y=void 0}}finally{Y?L():Je=!1}}}var L;if(typeof Re=="function")L=function(){Re(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Tt=N.port2;N.port1.onmessage=D,L=function(){Tt.postMessage(null)}}else L=function(){xe(D,0)};function kt(G,Y){I=xe(function(){G(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return O},i.unstable_next=function(G){switch(O){case 1:case 2:case 3:var Y=3;break;default:Y=O}var ee=O;O=Y;try{return G()}finally{O=ee}},i.unstable_requestPaint=function(){ie=!0},i.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=O;O=G;try{return Y()}finally{O=ee}},i.unstable_scheduleCallback=function(G,Y,ee){var ne=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ee+ue,G={id:x++,callback:Y,priorityLevel:G,startTime:ee,expirationTime:ue,sortIndex:-1},ee>ne?(G.sortIndex=ee,e(_,G),s(v)===null&&G===s(_)&&(re?(je(I),I=-1):re=!0,kt(_t,ee-ne))):(G.sortIndex=ue,e(v,G),se||K||(se=!0,Je||(Je=!0,L()))),G},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(G){var Y=O;return function(){var ee=O;O=Y;try{return G.apply(this,arguments)}finally{O=ee}}}})(Ff)),Ff}var o_;function yx(){return o_||(o_=1,Hf.exports=gx()),Hf.exports}var Gf={exports:{}},gn={};var u_;function _x(){if(u_)return gn;u_=1;var i=Pm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gn.createPortal=function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,x)},gn.flushSync=function(v){var _=f.T,x=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=_,r.p=x,r.d.f()}},gn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},gn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},gn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var x=_.as,S=y(x,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:K}):x==="script"&&r.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},gn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},gn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,S=y(x,_.crossOrigin);r.d.L(v,x,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},gn.preloadModule=function(v,_){if(typeof v=="string")if(_){var x=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},gn.requestFormReset=function(v){r.d.r(v)},gn.unstable_batchedUpdates=function(v,_){return v(_)},gn.useFormState=function(v,_,x){return f.H.useFormState(v,_,x)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var c_;function vx(){if(c_)return Gf.exports;c_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gf.exports=_x(),Gf.exports}var h_;function bx(){if(h_)return Ro;h_=1;var i=yx(),e=Pm(),s=vx();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return v(h),t;if(d===l)return v(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=d;break}if(E===l){g=!0,l=h,a=d;break}E=E.sibling}if(!g){for(E=d.child;E;){if(E===a){g=!0,a=d,l=h;break}if(E===l){g=!0,l=d,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),se=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),je=Symbol.for("react.consumer"),Re=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case xe:return"Profiler";case ie:return"StrictMode";case _t:return"Suspense";case Je:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case se:return"Portal";case Re:return t.displayName||"Context";case je:return(t._context.displayName||"Context")+".Consumer";case ot:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Tt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Tt(t(n))}catch{}}return null}var kt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ne=[],ue=-1;function w(t){return{current:t}}function j(t){0>ue||(t.current=ne[ue],ne[ue]=null,ue--)}function J(t,n){ue++,ne[ue]=t.current,t.current=n}var F=w(null),ae=w(null),oe=w(null),me=w(null);function qe(t,n){switch(J(oe,n),J(ae,t),J(F,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?wy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=wy(n),t=Ny(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(F),J(F,t)}function Oe(){j(F),j(ae),j(oe)}function Ce(t){t.memoizedState!==null&&J(me,t);var n=F.current,a=Ny(n,t.type);n!==a&&(J(ae,t),J(F,a))}function we(t){ae.current===t&&(j(F),j(ae)),me.current===t&&(j(me),xo._currentValue=ee)}var We,St;function rt(t){if(We===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);We=n&&n[1]||"",St=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+t+St}var pe=!1;function de(t,n){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],E=d[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?rt(a):""}function Ee(t,n){switch(t.tag){case 26:case 27:case 5:return rt(t.type);case 16:return rt("Lazy");case 13:return t.child!==n&&n!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return de(t.type,!1);case 11:return de(t.type.render,!1);case 1:return de(t.type,!0);case 31:return rt("Activity");default:return""}}function Se(t){try{var n="",a=null;do n+=Ee(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ie=i.unstable_scheduleCallback,te=i.unstable_cancelCallback,Ne=i.unstable_shouldYield,ct=i.unstable_requestPaint,nt=i.unstable_now,Te=i.unstable_getCurrentPriorityLevel,ke=i.unstable_ImmediatePriority,vt=i.unstable_UserBlockingPriority,bt=i.unstable_NormalPriority,Ar=i.unstable_LowPriority,Gn=i.unstable_IdlePriority,Ni=i.log,ma=i.unstable_setDisableYieldValue,kn=null,Zt=null;function xn(t){if(typeof Ni=="function"&&ma(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(kn,t)}catch{}}var Vt=Math.clz32?Math.clz32:ou,lu=Math.log,pa=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(lu(t)/pa|0)|0}var Es=256,wr=262144,zt=4194304;function Ts(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xs(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Ts(l):(g&=E,g!==0?h=Ts(g):a||(a=E&~t,a!==0&&(h=Ts(a))))):(E=l&~d,E!==0?h=Ts(E):g!==0?h=Ts(g):a||(a=l&~t,a!==0&&(h=Ts(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function as(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Hh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var t=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),t}function Ss(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fh(t,n,a,l,h,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-Vt(a),Z=1<<Q;E[Q]=0,R[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var H=q[Q];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&Rr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function Rr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Vt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Nl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Vt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Rl(t,n){var a=n&-n;return a=(a&42)!==0?1:Cr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Cr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Js(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:$y(t.type))}function ls(t,n){var a=Y.p;try{return Y.p=t,n()}finally{Y.p=a}}var os=Math.random().toString(36).slice(2),qt="__reactFiber$"+os,tn="__reactProps$"+os,As="__reactContainer$"+os,ga="__reactEvents$"+os,Gh="__reactListeners$"+os,hu="__reactHandles$"+os,du="__reactResources$"+os,ws="__reactMarker$"+os;function ya(t){delete t[qt],delete t[tn],delete t[ga],delete t[Gh],delete t[hu]}function Ns(t){var n=t[qt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[As]||a[qt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ky(t);t!==null;){if(a=t[qt])return a;t=ky(t)}return n}t=a,a=t.parentNode}return null}function Qn(t){if(t=t[qt]||t[As]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Vn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Rs(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Bt(t){t[ws]=!0}var Cl=new Set,Il={};function Cs(t,n){Is(t,n),Is(t+"Capture",n)}function Is(t,n){for(Il[t]=n,t=0;t<n.length;t++)Cl.add(n[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Ol={};function fu(t){return ye.call(Ol,t)?!0:ye.call(Ml,t)?!1:Dl.test(t)?Ol[t]=!0:(Ml[t]=!0,!1)}function _a(t,n,a){if(fu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function jn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ht(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ri(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ht(t){if(!t._valueTracker){var n=Ri(t)?"checked":"value";t._valueTracker=kl(t,n,""+t[n])}}function Ir(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ri(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function Sn(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(t,n,a,l,h,d,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Vl(t,g,nn(n)):a!=null?Vl(t,g,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+nn(E):t.removeAttribute("name")}function mu(t,n,a,l,h,d,g,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){ht(t);return}a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ht(t)}function Vl(t,n,a){n==="number"&&Ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ci(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function pu(t,n,a){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+nn(a):""}function Ii(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(kt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ht(t)}function An(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ll(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&jl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&jl(t,d,n[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Di.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function us(){}var Ul=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,Ms=null;function Mr(t){var n=Qn(t);if(n&&(t=n.stateNode)){var a=t[tn]||null;e:switch(t=n.stateNode,n.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[tn]||null;if(!h)throw Error(r(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ir(l)}break e;case"textarea":pu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ci(t,!!a.multiple,n,!1)}}}var Ta=!1;function Oi(t,n,a){if(Ta)return t(n,a);Ta=!0;try{var l=t(n);return l}finally{if(Ta=!1,(Mi!==null||Ms!==null)&&(cc(),Mi&&(n=Mi,t=Ms,Ms=Mi=null,Mr(n),t)))for(n=0;n<t.length;n++)Mr(t[n])}}function cs(t,n){var a=t.stateNode;if(a===null)return null;var l=a[tn]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(Kn)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Or=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Or=!1}var Os=null,Pl=null,kr=null;function zl(){if(kr)return kr;var t,n=Pl,a=n.length,l,h="value"in Os?Os.value:Os.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[d-l];l++);return kr=h.slice(t,1<l?1-l:void 0)}function Vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ws(){return!0}function hs(){return!1}function ln(t){function n(a,l,h,d,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ws:hs,this.isPropagationStopped=hs,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),n}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=ln(ei),ki=S({},ei,{view:0,detail:0}),ql=ln(ki),Vi,xa,Vs,Sa=S({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vs&&(Vs&&t.type==="mousemove"?(Vi=t.screenX-Vs.screenX,xa=t.screenY-Vs.screenY):xa=Vi=0,Vs=t),Vi)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Bl=ln(Sa),jr=S({},Sa,{dataTransfer:0}),_u=ln(jr),vu=S({},ki,{relatedTarget:0}),Lr=ln(vu),Hl=S({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=ln(Hl),Aa=S({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=ln(Aa),Tu=S({},ei,{data:0}),js=ln(Tu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function ji(){return wu}var En=S({},ki,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(t){return t.type==="keypress"?Vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=ln(En),Ru=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ti=ln(Ru),u=S({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),p=ln(u),b=S({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ln(b),U=S({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ln(U),le=S({},ei,{newState:0,oldState:0}),Be=ln(le),jt=[9,13,27,32],at=Kn&&"CompositionEvent"in window,Rt=null;Kn&&"documentMode"in document&&(Rt=document.documentMode);var Xn=Kn&&"TextEvent"in window&&!Rt,Ls=Kn&&(!at||Rt&&8<Rt&&11>=Rt),ds=" ",fs=!1;function Ur(t,n){switch(t){case"keyup":return jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function LE(t,n){switch(t){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(fs=!0,ds);case"textInput":return t=n.data,t===ds&&fs?null:t;default:return null}}function UE(t,n){if(Na)return t==="compositionend"||!at&&Ur(t,n)?(t=zl(),kr=Pl=Os=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ls&&n.locale!=="ko"?null:n.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!PE[t.type]:n==="textarea"}function Up(t,n,a,l){Mi?Ms?Ms.push(l):Ms=[l]:Mi=l,n=yc(n,"onChange"),0<n.length&&(a=new ks("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Fl=null,Gl=null;function zE(t){by(t,0)}function Cu(t){var n=Vn(t);if(Ir(n))return t}function Pp(t,n){if(t==="change")return n}var zp=!1;if(Kn){var Qh;if(Kn){var Yh="oninput"in document;if(!Yh){var qp=document.createElement("div");qp.setAttribute("oninput","return;"),Yh=typeof qp.oninput=="function"}Qh=Yh}else Qh=!1;zp=Qh&&(!document.documentMode||9<document.documentMode)}function Bp(){Fl&&(Fl.detachEvent("onpropertychange",Hp),Gl=Fl=null)}function Hp(t){if(t.propertyName==="value"&&Cu(Gl)){var n=[];Up(n,Gl,t,Yn(t)),Oi(zE,n)}}function qE(t,n,a){t==="focusin"?(Bp(),Fl=n,Gl=a,Fl.attachEvent("onpropertychange",Hp)):t==="focusout"&&Bp()}function BE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Gl)}function HE(t,n){if(t==="click")return Cu(n)}function FE(t,n){if(t==="input"||t==="change")return Cu(n)}function GE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ln=typeof Object.is=="function"?Object.is:GE;function Ql(t,n){if(Ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(n,h)||!Ln(t[h],n[h]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,n){var a=Fp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fp(a)}}function Qp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ds(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ds(t.document)}return n}function Kh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var QE=Kn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Xh=null,Yl=null,$h=!1;function Kp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||Ra==null||Ra!==Ds(l)||(l=Ra,"selectionStart"in l&&Kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yl&&Ql(Yl,l)||(Yl=l,l=yc(Xh,"onSelect"),0<l.length&&(n=new ks("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ra)))}function Pr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ca={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Zh={},Xp={};Kn&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function zr(t){if(Zh[t])return Zh[t];if(!Ca[t])return t;var n=Ca[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xp)return Zh[t]=n[a];return t}var $p=zr("animationend"),Zp=zr("animationiteration"),Jp=zr("animationstart"),YE=zr("transitionrun"),KE=zr("transitionstart"),XE=zr("transitioncancel"),Wp=zr("transitionend"),eg=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function ms(t,n){eg.set(t,n),Cs(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$n=[],Ia=0,Wh=0;function Du(){for(var t=Ia,n=Wh=Ia=0;n<t;){var a=$n[n];$n[n++]=null;var l=$n[n];$n[n++]=null;var h=$n[n];$n[n++]=null;var d=$n[n];if($n[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}d!==0&&tg(a,h,d)}}function Mu(t,n,a,l){$n[Ia++]=t,$n[Ia++]=n,$n[Ia++]=a,$n[Ia++]=l,Wh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ed(t,n,a,l){return Mu(t,n,a,l),Ou(t)}function qr(t,n){return Mu(t,null,null,n),Ou(t)}function tg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Vt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function Ou(t){if(50<go)throw go=0,cf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Da={};function $E(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,n,a,l){return new $E(t,n,a,l)}function td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ni(t,n){var a=t.alternate;return a===null?(a=Un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ng(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,a,l,h,d){var g=0;if(l=t,typeof t=="function")td(t)&&(g=1);else if(typeof t=="string")g=tx(t,a,F.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Un(31,a,n,h),t.elementType=C,t.lanes=d,t;case re:return Br(a.children,h,d,n);case ie:g=8,h|=24;break;case xe:return t=Un(12,a,n,h|2),t.elementType=xe,t.lanes=d,t;case _t:return t=Un(13,a,n,h),t.elementType=_t,t.lanes=d,t;case Je:return t=Un(19,a,n,h),t.elementType=Je,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Re:g=10;break e;case je:g=9;break e;case ot:g=11;break e;case I:g=14;break e;case A:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Un(g,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Br(t,n,a,l){return t=Un(7,t,l,n),t.lanes=a,t}function nd(t,n,a){return t=Un(6,t,null,n),t.lanes=a,t}function sg(t){var n=Un(18,null,null,0);return n.stateNode=t,n}function sd(t,n,a){return n=Un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ig=new WeakMap;function Zn(t,n){if(typeof t=="object"&&t!==null){var a=ig.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Se(n)},ig.set(t,n),n)}return{value:t,source:n,stack:Se(n)}}var Ma=[],Oa=0,Vu=null,Kl=0,Jn=[],Wn=0,Li=null,Us=1,Ps="";function si(t,n){Ma[Oa++]=Kl,Ma[Oa++]=Vu,Vu=t,Kl=n}function rg(t,n,a){Jn[Wn++]=Us,Jn[Wn++]=Ps,Jn[Wn++]=Li,Li=t;var l=Us;t=Ps;var h=32-Vt(l)-1;l&=~(1<<h),a+=1;var d=32-Vt(n)+h;if(30<d){var g=h-h%5;d=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Us=1<<32-Vt(n)+h|a<<h|l,Ps=d+t}else Us=1<<d|a<<h|l,Ps=t}function id(t){t.return!==null&&(si(t,1),rg(t,1,0))}function rd(t){for(;t===Vu;)Vu=Ma[--Oa],Ma[Oa]=null,Kl=Ma[--Oa],Ma[Oa]=null;for(;t===Li;)Li=Jn[--Wn],Jn[Wn]=null,Ps=Jn[--Wn],Jn[Wn]=null,Us=Jn[--Wn],Jn[Wn]=null}function ag(t,n){Jn[Wn++]=Us,Jn[Wn++]=Ps,Jn[Wn++]=Li,Us=n.id,Ps=n.overflow,Li=t}var on=null,At=null,et=!1,Ui=null,es=!1,ad=Error(r(519));function Pi(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Zn(n,t)),ad}function lg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[qt]=t,n[tn]=l,a){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(a=0;a<_o.length;a++)Qe(_o[a],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":Qe("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Qe("invalid",n);break;case"textarea":Qe("invalid",n),Ii(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Sy(n.textContent,a)?(l.popover!=null&&(Qe("beforetoggle",n),Qe("toggle",n)),l.onScroll!=null&&Qe("scroll",n),l.onScrollEnd!=null&&Qe("scrollend",n),l.onClick!=null&&(n.onclick=us),n=!0):n=!1,n||Pi(t,!0)}function og(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:es=!1;return;case 27:case 3:es=!0;return;default:on=on.return}}function ka(t){if(t!==on)return!1;if(!et)return og(t),et=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Af(t.type,t.memoizedProps)),a=!a),a&&At&&Pi(t),og(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));At=Oy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));At=Oy(t)}else n===27?(n=At,Wi(t.type)?(t=If,If=null,At=t):At=n):At=on?ns(t.stateNode.nextSibling):null;return!0}function Hr(){At=on=null,et=!1}function ld(){var t=Ui;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),Ui=null),t}function Xl(t){Ui===null?Ui=[t]:Ui.push(t)}var od=w(null),Fr=null,ii=null;function zi(t,n,a){J(od,n._currentValue),n._currentValue=a}function ri(t){t._currentValue=od.current,j(od)}function ud(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function cd(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var g=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),ud(d.return,a,t),l||(g=null);break e}d=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),ud(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Va(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Ln(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===me.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xo):t=[xo])}h=h.return}t!==null&&cd(n,t,a,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gr(t){Fr=t,ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return ug(Fr,t)}function Lu(t,n){return Fr===null&&Gr(t),ug(t,n)}function ug(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ii===null){if(t===null)throw Error(r(308));ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ii=ii.next=n;return a}var ZE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},JE=i.unstable_scheduleCallback,WE=i.unstable_NormalPriority,Ft={$$typeof:Re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new ZE,data:new Map,refCount:0}}function $l(t){t.refCount--,t.refCount===0&&JE(WE,function(){t.controller.abort()})}var Zl=null,dd=0,ja=0,La=null;function eT(t,n){if(Zl===null){var a=Zl=[];dd=0,ja=gf(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return dd++,n.then(cg,cg),n}function cg(){if(--dd===0&&Zl!==null){La!==null&&(La.status="fulfilled");var t=Zl;Zl=null,ja=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function tT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var hg=G.S;G.S=function(t,n){K0=nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eT(t,n),hg!==null&&hg(t,n)};var Qr=w(null);function fd(){var t=Qr.current;return t!==null?t:Et.pooledCache}function Uu(t,n){n===null?J(Qr,Qr.current):J(Qr,n.pool)}function dg(){var t=fd();return t===null?null:{parent:Ft._currentValue,pool:t}}var Ua=Error(r(460)),md=Error(r(474)),Pu=Error(r(542)),zu={then:function(){}};function fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(us,us),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t;default:if(typeof n.status=="string")n.then(us,us);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,gg(t),t}throw Kr=n,Ua}}function Yr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kr=a,Ua):a}}var Kr=null;function pg(){if(Kr===null)throw Error(r(459));var t=Kr;return Kr=null,t}function gg(t){if(t===Ua||t===Pu)throw Error(r(483))}var Pa=null,Jl=0;function qu(t){var n=Jl;return Jl+=1,Pa===null&&(Pa=[]),mg(Pa,t,n)}function Wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yg(t){function n(V,M){if(t){var P=V.deletions;P===null?(V.deletions=[M],V.flags|=16):P.push(M)}}function a(V,M){if(!t)return null;for(;M!==null;)n(V,M),M=M.sibling;return null}function l(V){for(var M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function h(V,M){return V=ni(V,M),V.index=0,V.sibling=null,V}function d(V,M,P){return V.index=P,t?(P=V.alternate,P!==null?(P=P.index,P<M?(V.flags|=67108866,M):P):(V.flags|=67108866,M)):(V.flags|=1048576,M)}function g(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,M,P,X){return M===null||M.tag!==6?(M=nd(P,V.mode,X),M.return=V,M):(M=h(M,P),M.return=V,M)}function R(V,M,P,X){var ve=P.type;return ve===re?Q(V,M,P.props.children,X,P.key):M!==null&&(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Yr(ve)===M.type)?(M=h(M,P.props),Wl(M,P),M.return=V,M):(M=ku(P.type,P.key,P.props,null,V.mode,X),Wl(M,P),M.return=V,M)}function z(V,M,P,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=sd(P,V.mode,X),M.return=V,M):(M=h(M,P.children||[]),M.return=V,M)}function Q(V,M,P,X,ve){return M===null||M.tag!==7?(M=Br(P,V.mode,X,ve),M.return=V,M):(M=h(M,P),M.return=V,M)}function Z(V,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nd(""+M,V.mode,P),M.return=V,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case K:return P=ku(M.type,M.key,M.props,null,V.mode,P),Wl(P,M),P.return=V,P;case se:return M=sd(M,V.mode,P),M.return=V,M;case A:return M=Yr(M),Z(V,M,P)}if(kt(M)||L(M))return M=Br(M,V.mode,P,null),M.return=V,M;if(typeof M.then=="function")return Z(V,qu(M),P);if(M.$$typeof===Re)return Z(V,Lu(V,M),P);Bu(V,M)}return null}function q(V,M,P,X){var ve=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ve!==null?null:E(V,M,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case K:return P.key===ve?R(V,M,P,X):null;case se:return P.key===ve?z(V,M,P,X):null;case A:return P=Yr(P),q(V,M,P,X)}if(kt(P)||L(P))return ve!==null?null:Q(V,M,P,X,null);if(typeof P.then=="function")return q(V,M,qu(P),X);if(P.$$typeof===Re)return q(V,M,Lu(V,P),X);Bu(V,P)}return null}function H(V,M,P,X,ve){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(P)||null,E(M,V,""+X,ve);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case K:return V=V.get(X.key===null?P:X.key)||null,R(M,V,X,ve);case se:return V=V.get(X.key===null?P:X.key)||null,z(M,V,X,ve);case A:return X=Yr(X),H(V,M,P,X,ve)}if(kt(X)||L(X))return V=V.get(P)||null,Q(M,V,X,ve,null);if(typeof X.then=="function")return H(V,M,P,qu(X),ve);if(X.$$typeof===Re)return H(V,M,P,Lu(M,X),ve);Bu(M,X)}return null}function fe(V,M,P,X){for(var ve=null,st=null,ge=M,Fe=M=0,Ke=null;ge!==null&&Fe<P.length;Fe++){ge.index>Fe?(Ke=ge,ge=null):Ke=ge.sibling;var it=q(V,ge,P[Fe],X);if(it===null){ge===null&&(ge=Ke);break}t&&ge&&it.alternate===null&&n(V,ge),M=d(it,M,Fe),st===null?ve=it:st.sibling=it,st=it,ge=Ke}if(Fe===P.length)return a(V,ge),et&&si(V,Fe),ve;if(ge===null){for(;Fe<P.length;Fe++)ge=Z(V,P[Fe],X),ge!==null&&(M=d(ge,M,Fe),st===null?ve=ge:st.sibling=ge,st=ge);return et&&si(V,Fe),ve}for(ge=l(ge);Fe<P.length;Fe++)Ke=H(ge,V,Fe,P[Fe],X),Ke!==null&&(t&&Ke.alternate!==null&&ge.delete(Ke.key===null?Fe:Ke.key),M=d(Ke,M,Fe),st===null?ve=Ke:st.sibling=Ke,st=Ke);return t&&ge.forEach(function(ir){return n(V,ir)}),et&&si(V,Fe),ve}function Ae(V,M,P,X){if(P==null)throw Error(r(151));for(var ve=null,st=null,ge=M,Fe=M=0,Ke=null,it=P.next();ge!==null&&!it.done;Fe++,it=P.next()){ge.index>Fe?(Ke=ge,ge=null):Ke=ge.sibling;var ir=q(V,ge,it.value,X);if(ir===null){ge===null&&(ge=Ke);break}t&&ge&&ir.alternate===null&&n(V,ge),M=d(ir,M,Fe),st===null?ve=ir:st.sibling=ir,st=ir,ge=Ke}if(it.done)return a(V,ge),et&&si(V,Fe),ve;if(ge===null){for(;!it.done;Fe++,it=P.next())it=Z(V,it.value,X),it!==null&&(M=d(it,M,Fe),st===null?ve=it:st.sibling=it,st=it);return et&&si(V,Fe),ve}for(ge=l(ge);!it.done;Fe++,it=P.next())it=H(ge,V,Fe,it.value,X),it!==null&&(t&&it.alternate!==null&&ge.delete(it.key===null?Fe:it.key),M=d(it,M,Fe),st===null?ve=it:st.sibling=it,st=it);return t&&ge.forEach(function(dx){return n(V,dx)}),et&&si(V,Fe),ve}function yt(V,M,P,X){if(typeof P=="object"&&P!==null&&P.type===re&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case K:e:{for(var ve=P.key;M!==null;){if(M.key===ve){if(ve=P.type,ve===re){if(M.tag===7){a(V,M.sibling),X=h(M,P.props.children),X.return=V,V=X;break e}}else if(M.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&Yr(ve)===M.type){a(V,M.sibling),X=h(M,P.props),Wl(X,P),X.return=V,V=X;break e}a(V,M);break}else n(V,M);M=M.sibling}P.type===re?(X=Br(P.props.children,V.mode,X,P.key),X.return=V,V=X):(X=ku(P.type,P.key,P.props,null,V.mode,X),Wl(X,P),X.return=V,V=X)}return g(V);case se:e:{for(ve=P.key;M!==null;){if(M.key===ve)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(V,M.sibling),X=h(M,P.children||[]),X.return=V,V=X;break e}else{a(V,M);break}else n(V,M);M=M.sibling}X=sd(P,V.mode,X),X.return=V,V=X}return g(V);case A:return P=Yr(P),yt(V,M,P,X)}if(kt(P))return fe(V,M,P,X);if(L(P)){if(ve=L(P),typeof ve!="function")throw Error(r(150));return P=ve.call(P),Ae(V,M,P,X)}if(typeof P.then=="function")return yt(V,M,qu(P),X);if(P.$$typeof===Re)return yt(V,M,Lu(V,P),X);Bu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(V,M.sibling),X=h(M,P),X.return=V,V=X):(a(V,M),X=nd(P,V.mode,X),X.return=V,V=X),g(V)):a(V,M)}return function(V,M,P,X){try{Jl=0;var ve=yt(V,M,P,X);return Pa=null,ve}catch(ge){if(ge===Ua||ge===Pu)throw ge;var st=Un(29,ge,null,V.mode);return st.lanes=X,st.return=V,st}finally{}}}var Xr=yg(!0),_g=yg(!1),qi=!1;function pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(lt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ou(t),tg(t,null,a),n}return Mu(t,l,n,a),Ou(t)}function eo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Nl(t,a)}}function yd(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var _d=!1;function to(){if(_d){var t=La;if(t!==null)throw t}}function no(t,n,a,l){_d=!1;var h=t.updateQueue;qi=!1;var d=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?d=z:g.next=z,g=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=R))}if(d!==null){var Z=h.baseState;g=0,Q=z=R=null,E=d;do{var q=E.lane&-536870913,H=q!==E.lane;if(H?(Ye&q)===q:(l&q)===q){q!==0&&q===ja&&(_d=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,Ae=E;q=n;var yt=a;switch(Ae.tag){case 1:if(fe=Ae.payload,typeof fe=="function"){Z=fe.call(yt,Z,q);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ae.payload,q=typeof fe=="function"?fe.call(yt,Z,q):fe,q==null)break e;Z=S({},Z,q);break e;case 2:qi=!0}}q=E.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,R=Z):Q=Q.next=H,g|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Ki|=g,t.lanes=g,t.memoizedState=Z}}function vg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function bg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vg(a[t],n)}var za=w(null),Hu=w(0);function Eg(t,n){t=mi,J(Hu,t),J(za,n),mi=t|n.baseLanes}function vd(){J(Hu,mi),J(za,za.current)}function bd(){mi=Hu.current,j(za),j(Hu)}var Pn=w(null),ts=null;function Fi(t){var n=t.alternate;J(Lt,Lt.current&1),J(Pn,t),ts===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(ts=t)}function Ed(t){J(Lt,Lt.current),J(Pn,t),ts===null&&(ts=t)}function Tg(t){t.tag===22?(J(Lt,Lt.current),J(Pn,t),ts===null&&(ts=t)):Gi()}function Gi(){J(Lt,Lt.current),J(Pn,Pn.current)}function zn(t){j(Pn),ts===t&&(ts=null),j(Lt)}var Lt=w(0);function Fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rf(a)||Cf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ai=0,He=null,pt=null,Gt=null,Gu=!1,qa=!1,$r=!1,Qu=0,so=0,Ba=null,nT=0;function Dt(){throw Error(r(321))}function Td(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ln(t[a],n[a]))return!1;return!0}function xd(t,n,a,l,h,d){return ai=d,He=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?r0:Ud,$r=!1,d=a(l,h),$r=!1,qa&&(d=Sg(n,a,l,h)),xg(t),d}function xg(t){G.H=ao;var n=pt!==null&&pt.next!==null;if(ai=0,Gt=pt=He=null,Gu=!1,so=0,Ba=null,n)throw Error(r(300));t===null||Qt||(t=t.dependencies,t!==null&&ju(t)&&(Qt=!0))}function Sg(t,n,a,l){He=t;var h=0;do{if(qa&&(Ba=null),so=0,qa=!1,25<=h)throw Error(r(301));if(h+=1,Gt=pt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=a0,d=n(a,l)}while(qa);return d}function sT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?io(n):n,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(He.flags|=1024),n}function Sd(){var t=Qu!==0;return Qu=0,t}function Ad(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function wd(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}ai=0,Gt=pt=He=null,qa=!1,so=Qu=0,Ba=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?He.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Ut(){if(pt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var n=Gt===null?He.memoizedState:Gt.next;if(n!==null)Gt=n,pt=t;else{if(t===null)throw He.alternate===null?Error(r(467)):Error(r(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Gt===null?He.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(t){var n=so;return so+=1,Ba===null&&(Ba=[]),t=mg(Ba,t,n),n=He,(Gt===null?n.memoizedState:Gt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?r0:Ud),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return io(t);if(t.$$typeof===Re)return un(t)}throw Error(r(438,String(t)))}function Nd(t){var n=null,a=He.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=He.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Yu(),He.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=k;return n.index++,a}function li(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=Ut();return Rd(n,pt,t)}function Rd(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var g=h.next;h.next=d.next,d.next=g}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=g=null,R=null,z=n,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Ye&Z)===Z:(ai&Z)===Z){var q=z.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===ja&&(Q=!0);else if((ai&q)===q){z=z.next,q===ja&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Z,g=d):R=R.next=Z,He.lanes|=q,Ki|=q;Z=z.action,$r&&a(d,Z),d=z.hasEagerState?z.eagerState:a(d,Z)}else q={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=q,g=d):R=R.next=q,He.lanes|=Z,Ki|=Z;z=z.next}while(z!==null&&z!==n);if(R===null?g=d:R.next=E,!Ln(d,t.memoizedState)&&(Qt=!0,Q&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cd(t){var n=Ut(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do d=t(d,g.action),g=g.next;while(g!==h);Ln(d,n.memoizedState)||(Qt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Ag(t,n,a){var l=He,h=Ut(),d=et;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Ln((pt||h).memoizedState,a);if(g&&(h.memoizedState=a,Qt=!0),h=h.queue,Md(Rg.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},Ng.bind(null,l,h,a,n),null),Et===null)throw Error(r(349));d||(ai&127)!==0||wg(l,n,a)}return a}function wg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=He.updateQueue,n===null?(n=Yu(),He.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ng(t,n,a,l){n.value=a,n.getSnapshot=l,Cg(n)&&Ig(t)}function Rg(t,n,a){return a(function(){Cg(n)&&Ig(t)})}function Cg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ln(t,a)}catch{return!0}}function Ig(t){var n=qr(t,2);n!==null&&In(n,t,2)}function Id(t){var n=Tn();if(typeof t=="function"){var a=t;if(t=a(),$r){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},n}function Dg(t,n,a,l){return t.baseState=a,Rd(t,pt,typeof l=="function"?l:li)}function iT(t,n,a,l,h){if(Ju(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Mg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Mg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=G.T,g={};G.T=g;try{var E=a(h,l),R=G.S;R!==null&&R(g,E),Og(t,n,E)}catch(z){Dd(t,n,z)}finally{d!==null&&g.types!==null&&(d.types=g.types),G.T=d}}else try{d=a(h,l),Og(t,n,d)}catch(z){Dd(t,n,z)}}function Og(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kg(t,n,l)},function(l){return Dd(t,n,l)}):kg(t,n,a)}function kg(t,n,a){n.status="fulfilled",n.value=a,Vg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Mg(t,a)))}function Dd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Vg(n),n=n.next;while(n!==l)}t.action=null}function Vg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jg(t,n){return n}function Lg(t,n){if(et){var a=Et.formState;if(a!==null){e:{var l=He;if(et){if(At){t:{for(var h=At,d=es;h.nodeType!==8;){if(!d){h=null;break t}if(h=ns(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){At=ns(h.nextSibling),l=h.data==="F!";break e}}Pi(l)}l=!1}l&&(n=a[0])}}return a=Tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},a.queue=l,a=n0.bind(null,He,l),l.dispatch=a,l=Id(!1),d=Ld.bind(null,He,!1,l.queue),l=Tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=iT.bind(null,He,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ug(t){var n=Ut();return Pg(n,pt,t)}function Pg(t,n,a){if(n=Rd(t,n,jg)[0],t=Xu(li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=io(n)}catch(g){throw g===Ua?Pu:g}else l=n;n=Ut();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(He.flags|=2048,Ha(9,{destroy:void 0},rT.bind(null,h,a),null)),[l,d,t]}function rT(t,n){t.action=n}function zg(t){var n=Ut(),a=pt;if(a!==null)return Pg(n,a,t);Ut(),n=n.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ha(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=He.updateQueue,n===null&&(n=Yu(),He.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function qg(){return Ut().memoizedState}function $u(t,n,a,l){var h=Tn();He.flags|=t,h.memoizedState=Ha(1|n,{destroy:void 0},a,l===void 0?null:l)}function Zu(t,n,a,l){var h=Ut();l=l===void 0?null:l;var d=h.memoizedState.inst;pt!==null&&l!==null&&Td(l,pt.memoizedState.deps)?h.memoizedState=Ha(n,d,a,l):(He.flags|=t,h.memoizedState=Ha(1|n,d,a,l))}function Bg(t,n){$u(8390656,8,t,n)}function Md(t,n){Zu(2048,8,t,n)}function aT(t){He.flags|=4;var n=He.updateQueue;if(n===null)n=Yu(),He.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Hg(t){var n=Ut().memoizedState;return aT({ref:n,nextImpl:t}),function(){if((lt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fg(t,n){return Zu(4,2,t,n)}function Gg(t,n){return Zu(4,4,t,n)}function Qg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,a){a=a!=null?a.concat([t]):null,Zu(4,4,Qg.bind(null,n,t),a)}function Od(){}function Kg(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Td(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Xg(t,n){var a=Ut();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Td(n,l[1]))return l[0];if(l=t(),$r){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l}function kd(t,n,a){return a===void 0||(ai&1073741824)!==0&&(Ye&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=$0(),He.lanes|=t,Ki|=t,a)}function $g(t,n,a,l){return Ln(a,n)?a:za.current!==null?(t=kd(t,a,l),Ln(t,n)||(Qt=!0),t):(ai&42)===0||(ai&1073741824)!==0&&(Ye&261930)===0?(Qt=!0,t.memoizedState=a):(t=$0(),He.lanes|=t,Ki|=t,n)}function Zg(t,n,a,l,h){var d=Y.p;Y.p=d!==0&&8>d?d:8;var g=G.T,E={};G.T=E,Ld(t,!1,n,a);try{var R=h(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=tT(R,l);ro(t,n,Q,Hn(t))}else ro(t,n,l,Hn(t))}catch(Z){ro(t,n,{then:function(){},status:"rejected",reason:Z},Hn())}finally{Y.p=d,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function lT(){}function Vd(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Jg(t).queue;Zg(t,h,n,ee,a===null?lT:function(){return Wg(t),a(l)})}function Jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wg(t){var n=Jg(t);n.next===null&&(n=t.alternate.memoizedState),ro(t,n.next.queue,{},Hn())}function jd(){return un(xo)}function e0(){return Ut().memoizedState}function t0(){return Ut().memoizedState}function oT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Hn();t=Bi(a);var l=Hi(n,t,a);l!==null&&(In(l,n,a),eo(l,n,a)),n={cache:hd()},t.payload=n;return}n=n.return}}function uT(t,n,a){var l=Hn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?s0(n,a):(a=ed(t,n,a,l),a!==null&&(In(a,t,l),i0(a,n,l)))}function n0(t,n,a){var l=Hn();ro(t,n,a,l)}function ro(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))s0(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,E=d(g,a);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,g))return Mu(t,n,h,0),Et===null&&Du(),!1}catch{}finally{}if(a=ed(t,n,h,l),a!==null)return In(a,t,l),i0(a,n,l),!0}return!1}function Ld(t,n,a,l){if(l={lane:2,revertLane:gf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(r(479))}else n=ed(t,a,l,2),n!==null&&In(n,t,2)}function Ju(t){var n=t.alternate;return t===He||n!==null&&n===He}function s0(t,n){qa=Gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function i0(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Nl(t,a)}}var ao={readContext:un,use:Ku,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};ao.useEffectEvent=Dt;var r0={readContext:un,use:Ku,useCallback:function(t,n){return Tn().memoizedState=[t,n===void 0?null:n],t},useContext:un,useEffect:Bg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,$u(4194308,4,Qg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var a=Tn();n=n===void 0?null:n;var l=t();if($r){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Tn();if(a!==void 0){var h=a(n);if($r){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=uT.bind(null,He,t),[l.memoizedState,t]},useRef:function(t){var n=Tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Id(t);var n=t.queue,a=n0.bind(null,He,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(t,n){var a=Tn();return kd(a,t,n)},useTransition:function(){var t=Id(!1);return t=Zg.bind(null,He,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=He,h=Tn();if(et){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Et===null)throw Error(r(349));(Ye&127)!==0||wg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Bg(Rg.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,{destroy:void 0},Ng.bind(null,l,d,a,n),null),a},useId:function(){var t=Tn(),n=Et.identifierPrefix;if(et){var a=Ps,l=Us;a=(l&~(1<<32-Vt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=nT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jd,useFormState:Lg,useActionState:Lg,useOptimistic:function(t){var n=Tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ld.bind(null,He,!0,a),a.dispatch=n,[t,n]},useMemoCache:Nd,useCacheRefresh:function(){return Tn().memoizedState=oT.bind(null,He)},useEffectEvent:function(t){var n=Tn(),a={impl:t};return n.memoizedState=a,function(){if((lt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ud={readContext:un,use:Ku,useCallback:Kg,useContext:un,useEffect:Md,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Xu,useRef:qg,useState:function(){return Xu(li)},useDebugValue:Od,useDeferredValue:function(t,n){var a=Ut();return $g(a,pt.memoizedState,t,n)},useTransition:function(){var t=Xu(li)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:Ag,useId:e0,useHostTransitionStatus:jd,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,n){var a=Ut();return Dg(a,pt,t,n)},useMemoCache:Nd,useCacheRefresh:t0};Ud.useEffectEvent=Hg;var a0={readContext:un,use:Ku,useCallback:Kg,useContext:un,useEffect:Md,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Cd,useRef:qg,useState:function(){return Cd(li)},useDebugValue:Od,useDeferredValue:function(t,n){var a=Ut();return pt===null?kd(a,t,n):$g(a,pt.memoizedState,t,n)},useTransition:function(){var t=Cd(li)[0],n=Ut().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:Ag,useId:e0,useHostTransitionStatus:jd,useFormState:zg,useActionState:zg,useOptimistic:function(t,n){var a=Ut();return pt!==null?Dg(a,pt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:t0};a0.useEffectEvent=Hg;function Pd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zd={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Hn(),h=Bi(l);h.payload=n,a!=null&&(h.callback=a),n=Hi(t,h,l),n!==null&&(In(n,t,l),eo(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Hn(),h=Bi(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Hi(t,h,l),n!==null&&(In(n,t,l),eo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Hn(),l=Bi(a);l.tag=2,n!=null&&(l.callback=n),n=Hi(t,l,a),n!==null&&(In(n,t,a),eo(n,t,a))}};function l0(t,n,a,l,h,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!Ql(a,l)||!Ql(h,d):!0}function o0(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&zd.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function u0(t){Iu(t)}function c0(t){console.error(t)}function h0(t){Iu(t)}function Wu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function d0(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qd(t,n,a){return a=Bi(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,n)},a}function f0(t){return t=Bi(t),t.tag=3,t}function m0(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){d0(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){d0(n,a,l),typeof h!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function cT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Va(n,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 31:case 13:return ts===null?hc():a.alternate===null&&Mt===0&&(Mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ff(t,l,h)),!1;case 22:return a.flags|=65536,l===zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ff(t,l,h)),!1}throw Error(r(435,a.tag))}return ff(t,l,h),hc(),!1}if(et)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ad&&(t=Error(r(422),{cause:l}),Xl(Zn(t,a)))):(l!==ad&&(n=Error(r(423),{cause:l}),Xl(Zn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Zn(l,a),h=qd(t.stateNode,l,h),yd(t,h),Mt!==4&&(Mt=2)),!1;var d=Error(r(520),{cause:l});if(d=Zn(d,a),po===null?po=[d]:po.push(d),Mt!==4&&(Mt=2),n===null)return!0;l=Zn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=qd(a.stateNode,l,t),yd(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xi===null||!Xi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=f0(h),m0(h,t,a,l),yd(a,h),!1}a=a.return}while(a!==null);return!1}var Bd=Error(r(461)),Qt=!1;function cn(t,n,a,l){n.child=t===null?_g(n,null,a,l):Xr(n,t.child,a,l)}function p0(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Gr(n),l=xd(t,n,a,g,d,h),E=Sd(),t!==null&&!Qt?(Ad(t,n,h),oi(t,n,h)):(et&&E&&id(n),n.flags|=1,cn(t,n,l,h),n.child)}function g0(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!td(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,y0(t,n,d,l,h)):(t=ku(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!$d(t,h)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ql,a(g,l)&&t.ref===n.ref)return oi(t,n,h)}return n.flags|=1,t=ni(d,l),t.ref=n.ref,t.return=n,n.child=t}function y0(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ql(d,l)&&t.ref===n.ref)if(Qt=!1,n.pendingProps=l=d,$d(t,h))(t.flags&131072)!==0&&(Qt=!0);else return n.lanes=t.lanes,oi(t,n,h)}return Hd(t,n,a,l,h)}function _0(t,n,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return v0(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,d!==null?d.cachePool:null),d!==null?Eg(n,d):vd(),Tg(n);else return l=n.lanes=536870912,v0(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Uu(n,d.cachePool),Eg(n,d),Gi(),n.memoizedState=null):(t!==null&&Uu(n,null),vd(),Gi());return cn(t,n,h,a),n.child}function lo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function v0(t,n,a,l,h){var d=fd();return d=d===null?null:{parent:Ft._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&Uu(n,null),vd(),Tg(n),t!==null&&Va(t,n,l,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function b0(t,n,a){return Xr(n,t.child,null,a),t=ec(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function hT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(et){if(l.mode==="hidden")return t=ec(n,l),n.lanes=536870912,lo(null,t);if(Ed(n),(t=At)?(t=My(t,es),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Li!==null?{id:Us,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},a=sg(t),a.return=n,n.child=a,on=n,At=null)):t=null,t===null)throw Pi(n);return n.lanes=536870912,null}return ec(n,l)}var d=t.memoizedState;if(d!==null){var g=d.dehydrated;if(Ed(n),h)if(n.flags&256)n.flags&=-257,n=b0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Qt||Va(t,n,a,!1),h=(a&t.childLanes)!==0,Qt||h){if(l=Et,l!==null&&(g=Rl(l,a),g!==0&&g!==d.retryLane))throw d.retryLane=g,qr(t,g),In(l,t,g),Bd;hc(),n=b0(t,n,a)}else t=d.treeContext,At=ns(g.nextSibling),on=n,et=!0,Ui=null,es=!1,t!==null&&ag(n,t),n=ec(n,l),n.flags|=4096;return n}return t=ni(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Hd(t,n,a,l,h){return Gr(n),a=xd(t,n,a,l,void 0,h),l=Sd(),t!==null&&!Qt?(Ad(t,n,h),oi(t,n,h)):(et&&l&&id(n),n.flags|=1,cn(t,n,a,h),n.child)}function E0(t,n,a,l,h,d){return Gr(n),n.updateQueue=null,a=Sg(n,l,a,h),xg(t),l=Sd(),t!==null&&!Qt?(Ad(t,n,d),oi(t,n,d)):(et&&l&&id(n),n.flags|=1,cn(t,n,a,d),n.child)}function T0(t,n,a,l,h){if(Gr(n),n.stateNode===null){var d=Da,g=a.contextType;typeof g=="object"&&g!==null&&(d=un(g)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},pd(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?un(g):Da,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Pd(n,a,g,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&zd.enqueueReplaceState(d,d.state,null),no(n,l,d,h),to(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,R=Zr(a,E);d.props=R;var z=d.context,Q=a.contextType;g=Da,typeof Q=="object"&&Q!==null&&(g=un(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==g)&&o0(n,d,l,g),qi=!1;var q=n.memoizedState;d.state=q,no(n,l,d,h),to(),z=n.memoizedState,E||q!==z||qi?(typeof Z=="function"&&(Pd(n,a,Z,l),z=n.memoizedState),(R=qi||l0(n,a,R,l,q,z,g))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),d.props=l,d.state=z,d.context=g,l=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,gd(t,n),g=n.memoizedProps,Q=Zr(a,g),d.props=Q,Z=n.pendingProps,q=d.context,z=a.contextType,R=Da,typeof z=="object"&&z!==null&&(R=un(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==Z||q!==R)&&o0(n,d,l,R),qi=!1,q=n.memoizedState,d.state=q,no(n,l,d,h),to();var H=n.memoizedState;g!==Z||q!==H||qi||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(Pd(n,a,E,l),H=n.memoizedState),(Q=qi||l0(n,a,Q,l,q,H,R)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,tc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,a,h)):cn(t,n,a,h),n.memoizedState=d.state,t=n.child):t=oi(t,n,h),t}function x0(t,n,a,l){return Hr(),n.flags|=256,cn(t,n,a,l),n.child}var Fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gd(t){return{baseLanes:t,cachePool:dg()}}function Qd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Bn),t}function S0(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(et){if(h?Fi(n):Gi(),(t=At)?(t=My(t,es),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Li!==null?{id:Us,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},a=sg(t),a.return=n,n.child=a,on=n,At=null)):t=null,t===null)throw Pi(n);return Cf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Gi(),h=n.mode,E=nc({mode:"hidden",children:E},h),l=Br(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Gd(a),l.childLanes=Qd(t,g,a),n.memoizedState=Fd,lo(null,l)):(Fi(n),Yd(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(d)n.flags&256?(Fi(n),n.flags&=-257,n=Kd(t,n,a)):n.memoizedState!==null?(Gi(),n.child=t.child,n.flags|=128,n=null):(Gi(),E=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),E=Br(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Xr(n,t.child,null,a),l=n.child,l.memoizedState=Gd(a),l.childLanes=Qd(t,g,a),n.memoizedState=Fd,n=lo(null,l));else if(Fi(n),Cf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(r(419)),l.stack="",l.digest=g,Xl({value:l,source:null,stack:null}),n=Kd(t,n,a)}else if(Qt||Va(t,n,a,!1),g=(a&t.childLanes)!==0,Qt||g){if(g=Et,g!==null&&(l=Rl(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,qr(t,l),In(g,t,l),Bd;Rf(E)||hc(),n=Kd(t,n,a)}else Rf(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,At=ns(E.nextSibling),on=n,et=!0,Ui=null,es=!1,t!==null&&ag(n,t),n=Yd(n,l.children),n.flags|=4096);return n}return h?(Gi(),E=l.fallback,h=n.mode,R=t.child,z=R.sibling,l=ni(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=ni(z,E):(E=Br(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,lo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Gd(a):(h=E.cachePool,h!==null?(R=Ft._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=dg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Qd(t,g,a),n.memoizedState=Fd,lo(t.child,l)):(Fi(n),a=t.child,t=a.sibling,a=ni(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Yd(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Un(22,t,null,n),t.lanes=0,t}function Kd(t,n,a){return Xr(n,t.child,null,a),t=Yd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function A0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ud(t.return,n,a)}function Xd(t,n,a,l,h,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=d)}function w0(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var g=Lt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(Lt,g),cn(t,n,l,a),l=et?Kl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A0(t,a,n);else if(t.tag===19)A0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Fu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Xd(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Xd(n,!0,a,null,d,l);break;case"together":Xd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function oi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ki|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Va(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=ni(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ni(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function $d(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function dT(t,n,a){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),zi(n,Ft,t.memoizedState.cache),Hr();break;case 27:case 5:Ce(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:zi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ed(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?S0(t,n,a):(Fi(n),t=oi(t,n,a),t!==null?t.sibling:null);Fi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Va(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return w0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Lt,Lt.current),l)break;return null;case 22:return n.lanes=0,_0(t,n,a,n.pendingProps);case 24:zi(n,Ft,t.memoizedState.cache)}return oi(t,n,a)}function N0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Qt=!0;else{if(!$d(t,a)&&(n.flags&128)===0)return Qt=!1,dT(t,n,a);Qt=(t.flags&131072)!==0}else Qt=!1,et&&(n.flags&1048576)!==0&&rg(n,Kl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Yr(n.elementType),n.type=t,typeof t=="function")td(t)?(l=Zr(t,l),n.tag=1,n=T0(null,n,t,l,a)):(n.tag=0,n=Hd(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ot){n.tag=11,n=p0(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=g0(null,n,t,l,a);break e}}throw n=Tt(t)||t,Error(r(306,n,""))}}return n;case 0:return Hd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Zr(l,n.pendingProps),T0(t,n,l,h,a);case 3:e:{if(qe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,gd(t,n),no(n,l,null,a);var g=n.memoizedState;if(l=g.cache,zi(n,Ft,l),l!==d.cache&&cd(n,[Ft],a,!0),to(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=x0(t,n,l,a);break e}else if(l!==h){h=Zn(Error(r(424)),n),Xl(h),n=x0(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=ns(t.firstChild),on=n,et=!0,Ui=null,es=!0,a=_g(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hr(),l===h){n=oi(t,n,a);break e}cn(t,n,l,a)}n=n.child}return n;case 26:return tc(t,n),t===null?(a=Uy(n.type,null,n.pendingProps,null))?n.memoizedState=a:et||(a=n.type,t=n.pendingProps,l=_c(oe.current).createElement(a),l[qt]=n,l[tn]=t,hn(l,a,t),Bt(l),n.stateNode=l):n.memoizedState=Uy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ce(n),t===null&&et&&(l=n.stateNode=Vy(n.type,n.pendingProps,oe.current),on=n,es=!0,h=At,Wi(n.type)?(If=h,At=ns(l.firstChild)):At=h),cn(t,n,n.pendingProps.children,a),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&et&&((h=l=At)&&(l=BT(l,n.type,n.pendingProps,es),l!==null?(n.stateNode=l,on=n,At=ns(l.firstChild),es=!1,h=!0):h=!1),h||Pi(n)),Ce(n),h=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,Af(h,d)?l=null:g!==null&&Af(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=xd(t,n,sT,null,null,a),xo._currentValue=h),tc(t,n),cn(t,n,l,a),n.child;case 6:return t===null&&et&&((t=a=At)&&(a=HT(a,n.pendingProps,es),a!==null?(n.stateNode=a,on=n,At=null,t=!0):t=!1),t||Pi(n)),null;case 13:return S0(t,n,a);case 4:return qe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Xr(n,null,l,a):cn(t,n,l,a),n.child;case 11:return p0(t,n,n.type,n.pendingProps,a);case 7:return cn(t,n,n.pendingProps,a),n.child;case 8:return cn(t,n,n.pendingProps.children,a),n.child;case 12:return cn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,zi(n,n.type,l.value),cn(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Gr(n),h=un(h),l=l(h),n.flags|=1,cn(t,n,l,a),n.child;case 14:return g0(t,n,n.type,n.pendingProps,a);case 15:return y0(t,n,n.type,n.pendingProps,a);case 19:return w0(t,n,a);case 31:return hT(t,n,a);case 22:return _0(t,n,a,n.pendingProps);case 24:return Gr(n),l=un(Ft),t===null?(h=fd(),h===null&&(h=Et,d=hd(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},pd(n),zi(n,Ft,h)):((t.lanes&a)!==0&&(gd(t,n),no(n,null,null,a),to()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),zi(n,Ft,l)):(l=d.cache,zi(n,Ft,l),l!==h.cache&&cd(n,[Ft],a,!0))),cn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ui(t){t.flags|=4}function Zd(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ey())t.flags|=8192;else throw Kr=zu,md}else t.flags&=-16777217}function R0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(n))if(ey())t.flags|=8192;else throw Kr=zu,md}function sc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uu():536870912,t.lanes|=n,Ya|=n)}function oo(t,n){if(!et)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function fT(t,n,a){var l=n.pendingProps;switch(rd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ri(Ft),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(n)?ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ld())),wt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(ui(n),d!==null?(wt(n),R0(n,d)):(wt(n),Zd(n,h,null,l,a))):d?d!==t.memoizedState?(ui(n),wt(n),R0(n,d)):(wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ui(n),wt(n),Zd(n,h,t,l,a)),null;case 27:if(we(n),a=oe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ui(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return wt(n),null}t=F.current,ka(n)?lg(n):(t=Vy(h,l,a),n.stateNode=t,ui(n))}return wt(n),null;case 5:if(we(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ui(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return wt(n),null}if(d=F.current,ka(n))lg(n);else{var g=_c(oe.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}d[qt]=n,d[tn]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=d;e:switch(hn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ui(n)}}return wt(n),Zd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=oe.current,ka(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=on,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[qt]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sy(t.nodeValue,a)),t||Pi(n,!0)}else t=_c(t).createTextNode(l),t[qt]=n,n.stateNode=t}return wt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ka(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[qt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),t=!1}else a=ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ka(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[qt]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),h=!1}else h=ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),sc(n,n.updateQueue),wt(n),null);case 4:return Oe(),t===null&&bf(n.stateNode.containerInfo),wt(n),null;case 10:return ri(n.type),wt(n),null;case 19:if(j(Lt),l=n.memoizedState,l===null)return wt(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)oo(l,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Fu(t),d!==null){for(n.flags|=128,oo(l,!1),t=d.updateQueue,n.updateQueue=t,sc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)ng(a,t),a=a.sibling;return J(Lt,Lt.current&1|2),et&&si(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&nt()>oc&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Fu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,sc(n,t),oo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!et)return wt(n),null}else 2*nt()-l.renderingStartTime>oc&&a!==536870912&&(n.flags|=128,h=!0,oo(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nt(),t.sibling=null,a=Lt.current,J(Lt,h?a&1|2:a&1),et&&si(n,l.treeForkCount),t):(wt(n),null);case 22:case 23:return zn(n),bd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),a=n.updateQueue,a!==null&&sc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&j(Qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ri(Ft),wt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function mT(t,n){switch(rd(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ri(Ft),Oe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return we(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(r(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Hr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return j(Lt),null;case 4:return Oe(),null;case 10:return ri(n.type),null;case 22:case 23:return zn(n),bd(),t!==null&&j(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ri(Ft),null;case 25:return null;default:return null}}function C0(t,n){switch(rd(n),n.tag){case 3:ri(Ft),Oe();break;case 26:case 27:case 5:we(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:j(Lt);break;case 10:ri(n.type);break;case 22:case 23:zn(n),bd(),t!==null&&j(Qr);break;case 24:ri(Ft)}}function uo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){ft(n,n.return,E)}}function Qi(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(Q){ft(h,R,Q)}}}l=l.next}while(l!==d)}}catch(Q){ft(n,n.return,Q)}}function I0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{bg(n,a)}catch(l){ft(t,t.return,l)}}}function D0(t,n,a){a.props=Zr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ft(t,n,l)}}function co(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ft(t,n,h)}}function zs(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ft(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ft(t,n,h)}else a.current=null}function M0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ft(t,t.return,h)}}function Jd(t,n,a){try{var l=t.stateNode;jT(l,t.type,a,n),l[tn]=n}catch(h){ft(t,t.return,h)}}function O0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wi(t.type)||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=us));else if(l!==4&&(l===27&&Wi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ef(t,n,a),t=t.sibling;t!==null;)ef(t,n,a),t=t.sibling}function ic(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Wi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,n,a),t=t.sibling;t!==null;)ic(t,n,a),t=t.sibling}function k0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);hn(n,l,a),n[qt]=t,n[tn]=a}catch(d){ft(t,t.return,d)}}var ci=!1,Yt=!1,tf=!1,V0=typeof WeakSet=="function"?WeakSet:Set,sn=null;function pT(t,n){if(t=t.containerInfo,xf=Ac,t=Yp(t),Kh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,E=-1,R=-1,z=0,Q=0,Z=t,q=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(E=g+h),Z!==d||l!==0&&Z.nodeType!==3||(R=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===t)break t;if(q===a&&++z===h&&(E=g),q===d&&++Q===l&&(R=g),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sf={focusedElem:t,selectionRange:a},Ac=!1,sn=n;sn!==null;)if(n=sn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,sn=t;else for(;sn!==null;){switch(n=sn,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Zr(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ft(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Nf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,sn=t;break}sn=n.return}}function j0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:di(t,a),l&4&&uo(5,a);break;case 1:if(di(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){ft(a,a.return,g)}else{var h=Zr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ft(a,a.return,g)}}l&64&&I0(a),l&512&&co(a,a.return);break;case 3:if(di(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{bg(t,n)}catch(g){ft(a,a.return,g)}}break;case 27:n===null&&l&4&&k0(a);case 26:case 5:di(t,a),n===null&&l&4&&M0(a),l&512&&co(a,a.return);break;case 12:di(t,a);break;case 31:di(t,a),l&4&&P0(t,a);break;case 13:di(t,a),l&4&&z0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ST.bind(null,a),FT(t,a))));break;case 22:if(l=a.memoizedState!==null||ci,!l){n=n!==null&&n.memoizedState!==null||Yt,h=ci;var d=Yt;ci=l,(Yt=n)&&!d?fi(t,a,(a.subtreeFlags&8772)!==0):di(t,a),ci=h,Yt=d}break;case 30:break;default:di(t,a)}}function L0(t){var n=t.alternate;n!==null&&(t.alternate=null,L0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ya(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,wn=!1;function hi(t,n,a){for(a=a.child;a!==null;)U0(t,n,a),a=a.sibling}function U0(t,n,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(kn,a)}catch{}switch(a.tag){case 26:Yt||zs(a,n),hi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Yt||zs(a,n);var l=Ct,h=wn;Wi(a.type)&&(Ct=a.stateNode,wn=!1),hi(t,n,a),bo(a.stateNode),Ct=l,wn=h;break;case 5:Yt||zs(a,n);case 6:if(l=Ct,h=wn,Ct=null,hi(t,n,a),Ct=l,wn=h,Ct!==null)if(wn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(a.stateNode)}catch(d){ft(a,n,d)}else try{Ct.removeChild(a.stateNode)}catch(d){ft(a,n,d)}break;case 18:Ct!==null&&(wn?(t=Ct,Iy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),tl(t)):Iy(Ct,a.stateNode));break;case 4:l=Ct,h=wn,Ct=a.stateNode.containerInfo,wn=!0,hi(t,n,a),Ct=l,wn=h;break;case 0:case 11:case 14:case 15:Qi(2,a,n),Yt||Qi(4,a,n),hi(t,n,a);break;case 1:Yt||(zs(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&D0(a,n,l)),hi(t,n,a);break;case 21:hi(t,n,a);break;case 22:Yt=(l=Yt)||a.memoizedState!==null,hi(t,n,a),Yt=l;break;default:hi(t,n,a)}}function P0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{tl(t)}catch(a){ft(n,n.return,a)}}}function z0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tl(t)}catch(a){ft(n,n.return,a)}}function gT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new V0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new V0),n;default:throw Error(r(435,t.tag))}}function rc(t,n){var a=gT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=AT.bind(null,t,l);l.then(h,h)}})}function Nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Wi(E.type)){Ct=E.stateNode,wn=!1;break e}break;case 5:Ct=E.stateNode,wn=!1;break e;case 3:case 4:Ct=E.stateNode.containerInfo,wn=!0;break e}E=E.return}if(Ct===null)throw Error(r(160));U0(d,g,h),Ct=null,wn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)q0(n,t),n=n.sibling}var ps=null;function q0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(n,t),Rn(t),l&4&&(Qi(3,t,t.return),uo(3,t),Qi(5,t,t.return));break;case 1:Nn(n,t),Rn(t),l&512&&(Yt||a===null||zs(a,a.return)),l&64&&ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ps;if(Nn(n,t),Rn(t),l&512&&(Yt||a===null||zs(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ws]||d[qt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),hn(d,l,a),d[qt]=t,Bt(d),l=d;break e;case"link":var g=qy("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(d=g[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}d=h.createElement(l),hn(d,l,a),h.head.appendChild(d);break;case"meta":if(g=qy("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(d=g[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}d=h.createElement(l),hn(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[qt]=t,Bt(d),l=d}t.stateNode=l}else By(h,t.type,t.stateNode);else t.stateNode=zy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?By(h,t.type,t.stateNode):zy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Nn(n,t),Rn(t),l&512&&(Yt||a===null||zs(a,a.return)),a!==null&&l&4&&Jd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Nn(n,t),Rn(t),l&512&&(Yt||a===null||zs(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(fe){ft(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(tf=!0);break;case 6:if(Nn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){ft(t,t.return,fe)}}break;case 3:if(Ec=null,h=ps,ps=vc(n.containerInfo),Nn(n,t),ps=h,Rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(fe){ft(t,t.return,fe)}tf&&(tf=!1,B0(t));break;case 4:l=ps,ps=vc(t.stateNode.containerInfo),Nn(n,t),Rn(t),ps=l;break;case 12:Nn(n,t),Rn(t);break;case 31:Nn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:Nn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lc=nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ci,Q=Yt;if(ci=z||h,Yt=Q||R,Nn(n,t),Yt=Q,ci=z,Rn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ci||Yt||Jr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(d=R.stateNode,h)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Z=R.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){ft(R,R.return,fe)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(fe){ft(R,R.return,fe)}}}else if(n.tag===18){if(a===null){R=n;try{var H=R.stateNode;h?Dy(H,!0):Dy(R.stateNode,!1)}catch(fe){ft(R,R.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rc(t,a))));break;case 19:Nn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:Nn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(O0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Wd(t);ic(t,d,h);break;case 5:var g=a.stateNode;a.flags&32&&(An(g,""),a.flags&=-33);var E=Wd(t);ic(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Wd(t);ef(t,z,R);break;default:throw Error(r(161))}}catch(Q){ft(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function B0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;B0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function di(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)j0(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qi(4,n,n.return),Jr(n);break;case 1:zs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&D0(n,n.return,a),Jr(n);break;case 27:bo(n.stateNode);case 26:case 5:zs(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function fi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:fi(h,d,a),uo(4,d);break;case 1:if(fi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ft(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)vg(R[h],E)}catch(z){ft(l,l.return,z)}}a&&g&64&&I0(d),co(d,d.return);break;case 27:k0(d);case 26:case 5:fi(h,d,a),a&&l===null&&g&4&&M0(d),co(d,d.return);break;case 12:fi(h,d,a);break;case 31:fi(h,d,a),a&&g&4&&P0(h,d);break;case 13:fi(h,d,a),a&&g&4&&z0(h,d);break;case 22:d.memoizedState===null&&fi(h,d,a),co(d,d.return);break;case 30:break;default:fi(h,d,a)}n=n.sibling}}function nf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$l(a))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t))}function gs(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)H0(t,n,a,l),n=n.sibling}function H0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gs(t,n,a,l),h&2048&&uo(9,n);break;case 1:gs(t,n,a,l);break;case 3:gs(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$l(t)));break;case 12:if(h&2048){gs(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,E=d.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ft(n,n.return,R)}}else gs(t,n,a,l);break;case 31:gs(t,n,a,l);break;case 13:gs(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,g=n.alternate,n.memoizedState!==null?d._visibility&2?gs(t,n,a,l):ho(t,n):d._visibility&2?gs(t,n,a,l):(d._visibility|=2,Fa(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nf(g,n);break;case 24:gs(t,n,a,l),h&2048&&sf(n.alternate,n);break;default:gs(t,n,a,l)}}function Fa(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,g=n,E=a,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(d,g,E,R,h),uo(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Fa(d,g,E,R,h):ho(d,g):(Q._visibility|=2,Fa(d,g,E,R,h)),h&&z&2048&&nf(g.alternate,g);break;case 24:Fa(d,g,E,R,h),h&&z&2048&&sf(g.alternate,g);break;default:Fa(d,g,E,R,h)}n=n.sibling}}function ho(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:ho(a,l),h&2048&&nf(l.alternate,l);break;case 24:ho(a,l),h&2048&&sf(l.alternate,l);break;default:ho(a,l)}n=n.sibling}}var fo=8192;function Ga(t,n,a){if(t.subtreeFlags&fo)for(t=t.child;t!==null;)F0(t,n,a),t=t.sibling}function F0(t,n,a){switch(t.tag){case 26:Ga(t,n,a),t.flags&fo&&t.memoizedState!==null&&nx(a,ps,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,n,a);break;case 3:case 4:var l=ps;ps=vc(t.stateNode.containerInfo),Ga(t,n,a),ps=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=fo,fo=16777216,Ga(t,n,a),fo=l):Ga(t,n,a));break;default:Ga(t,n,a)}}function G0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];sn=l,Y0(l,t)}G0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Q0(t),t=t.sibling}function Q0(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):mo(t);break;default:mo(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];sn=l,Y0(l,t)}G0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qi(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function Y0(t,n){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:Qi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else e:for(a=t;sn!==null;){l=sn;var h=l.sibling,d=l.return;if(L0(l),l===a){sn=null;break e}if(h!==null){h.return=d,sn=h;break e}sn=d}}}var yT={getCacheForType:function(t){var n=un(Ft),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return un(Ft).controller.signal}},_T=typeof WeakMap=="function"?WeakMap:Map,lt=0,Et=null,Ge=null,Ye=0,dt=0,qn=null,Yi=!1,Qa=!1,rf=!1,mi=0,Mt=0,Ki=0,Wr=0,af=0,Bn=0,Ya=0,po=null,Cn=null,lf=!1,lc=0,K0=0,oc=1/0,uc=null,Xi=null,Jt=0,$i=null,Ka=null,pi=0,of=0,uf=null,X0=null,go=0,cf=null;function Hn(){return(lt&2)!==0&&Ye!==0?Ye&-Ye:G.T!==null?gf():cu()}function $0(){if(Bn===0)if((Ye&536870912)===0||et){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),Bn=t}else Bn=536870912;return t=Pn.current,t!==null&&(t.flags|=32),Bn}function In(t,n,a){(t===Et&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Zi(t,Ye,Bn,!1)),Nr(t,a),((lt&2)===0||t!==Et)&&(t===Et&&((lt&2)===0&&(Wr|=a),Mt===4&&Zi(t,Ye,Bn,!1)),qs(t))}function Z0(t,n,a){if((lt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||as(t,n),h=l?ET(t,n):df(t,n,!0),d=l;do{if(h===0){Qa&&!l&&Zi(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!vT(a)){h=df(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=po;var R=E.current.memoizedState.isDehydrated;if(R&&(Xa(E,g).flags|=256),g=df(E,g,!1),g!==2){if(rf&&!R){E.errorRecoveryDisabledLanes|=d,Wr|=d,h=4;break e}d=Cn,Cn=h,d!==null&&(Cn===null?Cn=d:Cn.push.apply(Cn,d))}h=g}if(d=!1,h!==2)continue}}if(h===1){Xa(t,0),Zi(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Zi(l,n,Bn,!Yi);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=lc+300-nt(),10<h)){if(Zi(l,n,Bn,!Yi),xs(l,0,!0)!==0)break e;pi=n,l.timeoutHandle=Ry(J0.bind(null,l,a,Cn,uc,lf,n,Bn,Wr,Ya,Yi,d,"Throttled",-0,0),h);break e}J0(l,a,Cn,uc,lf,n,Bn,Wr,Ya,Yi,d,null,-0,0)}}break}while(!0);qs(t)}function J0(t,n,a,l,h,d,g,E,R,z,Q,Z,q,H){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:us},F0(n,d,Z);var fe=(d&62914560)===d?lc-nt():(d&4194048)===d?K0-nt():0;if(fe=sx(Z,fe),fe!==null){pi=d,t.cancelPendingCommit=fe(ay.bind(null,t,n,d,a,l,h,g,E,R,Q,Z,null,q,H)),Zi(t,d,g,!z);return}}ay(t,n,d,a,l,h,g,E,R)}function vT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Ln(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zi(t,n,a,l){n&=~af,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Vt(h),g=1<<d;l[d]=-1,h&=~g}a!==0&&Rr(t,a,n)}function cc(){return(lt&6)===0?(yo(0),!1):!0}function hf(){if(Ge!==null){if(dt===0)var t=Ge.return;else t=Ge,ii=Fr=null,wd(t),Pa=null,Jl=0,t=Ge;for(;t!==null;)C0(t.alternate,t),t=t.return;Ge=null}}function Xa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),pi=0,hf(),Et=t,Ge=a=ni(t.current,null),Ye=n,dt=0,qn=null,Yi=!1,Qa=as(t,n),rf=!1,Ya=Bn=af=Wr=Ki=Mt=0,Cn=po=null,lf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Vt(l),d=1<<h;n|=t[h],l&=~d}return mi=n,Du(),a}function W0(t,n){He=null,G.H=ao,n===Ua||n===Pu?(n=pg(),dt=3):n===md?(n=pg(),dt=4):dt=n===Bd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Ge===null&&(Mt=1,Wu(t,Zn(n,t.current)))}function ey(){var t=Pn.current;return t===null?!0:(Ye&4194048)===Ye?ts===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?t===ts:!1}function ty(){var t=G.H;return G.H=ao,t===null?ao:t}function ny(){var t=G.A;return G.A=yT,t}function hc(){Mt=4,Yi||(Ye&4194048)!==Ye&&Pn.current!==null||(Qa=!0),(Ki&134217727)===0&&(Wr&134217727)===0||Et===null||Zi(Et,Ye,Bn,!1)}function df(t,n,a){var l=lt;lt|=2;var h=ty(),d=ny();(Et!==t||Ye!==n)&&(uc=null,Xa(t,n)),n=!1;var g=Mt;e:do try{if(dt!==0&&Ge!==null){var E=Ge,R=qn;switch(dt){case 8:hf(),g=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var z=dt;if(dt=0,qn=null,$a(t,E,R,z),a&&Qa){g=0;break e}break;default:z=dt,dt=0,qn=null,$a(t,E,R,z)}}bT(),g=Mt;break}catch(Q){W0(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ii=Fr=null,lt=l,G.H=h,G.A=d,Ge===null&&(Et=null,Ye=0,Du()),g}function bT(){for(;Ge!==null;)sy(Ge)}function ET(t,n){var a=lt;lt|=2;var l=ty(),h=ny();Et!==t||Ye!==n?(uc=null,oc=nt()+500,Xa(t,n)):Qa=as(t,n);e:do try{if(dt!==0&&Ge!==null){n=Ge;var d=qn;t:switch(dt){case 1:dt=0,qn=null,$a(t,n,d,1);break;case 2:case 9:if(fg(d)){dt=0,qn=null,iy(n);break}n=function(){dt!==2&&dt!==9||Et!==t||(dt=7),qs(t)},d.then(n,n);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:fg(d)?(dt=0,qn=null,iy(n)):(dt=0,qn=null,$a(t,n,d,7));break;case 5:var g=null;switch(Ge.tag){case 26:g=Ge.memoizedState;case 5:case 27:var E=Ge;if(g?Hy(g):E.stateNode.complete){dt=0,qn=null;var R=E.sibling;if(R!==null)Ge=R;else{var z=E.return;z!==null?(Ge=z,dc(z)):Ge=null}break t}}dt=0,qn=null,$a(t,n,d,5);break;case 6:dt=0,qn=null,$a(t,n,d,6);break;case 8:hf(),Mt=6;break e;default:throw Error(r(462))}}TT();break}catch(Q){W0(t,Q)}while(!0);return ii=Fr=null,G.H=l,G.A=h,lt=a,Ge!==null?0:(Et=null,Ye=0,Du(),Mt)}function TT(){for(;Ge!==null&&!Ne();)sy(Ge)}function sy(t){var n=N0(t.alternate,t,mi);t.memoizedProps=t.pendingProps,n===null?dc(t):Ge=n}function iy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=E0(a,n,n.pendingProps,n.type,void 0,Ye);break;case 11:n=E0(a,n,n.pendingProps,n.type.render,n.ref,Ye);break;case 5:wd(n);default:C0(a,n),n=Ge=ng(n,mi),n=N0(a,n,mi)}t.memoizedProps=t.pendingProps,n===null?dc(t):Ge=n}function $a(t,n,a,l){ii=Fr=null,wd(n),Pa=null,Jl=0;var h=n.return;try{if(cT(t,h,n,a,Ye)){Mt=1,Wu(t,Zn(a,t.current)),Ge=null;return}}catch(d){if(h!==null)throw Ge=h,d;Mt=1,Wu(t,Zn(a,t.current)),Ge=null;return}n.flags&32768?(et||l===1?t=!0:Qa||(Ye&536870912)!==0?t=!1:(Yi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ry(n,t)):dc(n)}function dc(t){var n=t;do{if((n.flags&32768)!==0){ry(n,Yi);return}t=n.return;var a=fT(n.alternate,n,mi);if(a!==null){Ge=a;return}if(n=n.sibling,n!==null){Ge=n;return}Ge=n=t}while(n!==null);Mt===0&&(Mt=5)}function ry(t,n){do{var a=mT(t.alternate,t);if(a!==null){a.flags&=32767,Ge=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=a}while(t!==null);Mt=6,Ge=null}function ay(t,n,a,l,h,d,g,E,R){t.cancelPendingCommit=null;do fc();while(Jt!==0);if((lt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Wh,Fh(t,a,d,g,E,R),t===Et&&(Ge=Et=null,Ye=0),Ka=n,$i=t,pi=a,of=d,uf=h,X0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wT(bt,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=Y.p,Y.p=2,g=lt,lt|=4;try{pT(t,n,a)}finally{lt=g,Y.p=h,G.T=l}}Jt=1,ly(),oy(),uy()}}function ly(){if(Jt===1){Jt=0;var t=$i,n=Ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=Y.p;Y.p=2;var h=lt;lt|=4;try{q0(n,t);var d=Sf,g=Yp(t.containerInfo),E=d.focusedElem,R=d.selectionRange;if(g!==E&&E&&E.ownerDocument&&Qp(E.ownerDocument.documentElement,E)){if(R!==null&&Kh(E)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),fe=E.textContent.length,Ae=Math.min(R.start,fe),yt=R.end===void 0?Ae:Math.min(R.end,fe);!H.extend&&Ae>yt&&(g=yt,yt=Ae,Ae=g);var V=Gp(E,Ae),M=Gp(E,yt);if(V&&M&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var P=Z.createRange();P.setStart(V.node,V.offset),H.removeAllRanges(),Ae>yt?(H.addRange(P),H.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),H.addRange(P))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ac=!!xf,Sf=xf=null}finally{lt=h,Y.p=l,G.T=a}}t.current=n,Jt=2}}function oy(){if(Jt===2){Jt=0;var t=$i,n=Ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=Y.p;Y.p=2;var h=lt;lt|=4;try{j0(t,n.alternate,n)}finally{lt=h,Y.p=l,G.T=a}}Jt=3}}function uy(){if(Jt===4||Jt===3){Jt=0,ct();var t=$i,n=Ka,a=pi,l=X0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Jt=5:(Jt=0,Ka=$i=null,cy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Xi=null),Js(a),n=n.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=Y.p,Y.p=2,G.T=null;try{for(var d=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];d(E.value,{componentStack:E.stack})}}finally{G.T=n,Y.p=h}}(pi&3)!==0&&fc(),qs(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===cf?go++:(go=0,cf=t):go=0,yo(0)}}function cy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$l(n)))}function fc(){return ly(),oy(),uy(),hy()}function hy(){if(Jt!==5)return!1;var t=$i,n=of;of=0;var a=Js(pi),l=G.T,h=Y.p;try{Y.p=32>a?32:a,G.T=null,a=uf,uf=null;var d=$i,g=pi;if(Jt=0,Ka=$i=null,pi=0,(lt&6)!==0)throw Error(r(331));var E=lt;if(lt|=4,Q0(d.current),H0(d,d.current,g,a),lt=E,yo(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(kn,d)}catch{}return!0}finally{Y.p=h,G.T=l,cy(t,n)}}function dy(t,n,a){n=Zn(a,n),n=qd(t.stateNode,n,2),t=Hi(t,n,2),t!==null&&(Nr(t,2),qs(t))}function ft(t,n,a){if(t.tag===3)dy(t,t,a);else for(;n!==null;){if(n.tag===3){dy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xi===null||!Xi.has(l))){t=Zn(a,t),a=f0(2),l=Hi(n,a,2),l!==null&&(m0(a,l,n,t),Nr(l,2),qs(l));break}}n=n.return}}function ff(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _T;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(rf=!0,h.add(a),t=xT.bind(null,t,n,a),n.then(t,t))}function xT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Et===t&&(Ye&a)===a&&(Mt===4||Mt===3&&(Ye&62914560)===Ye&&300>nt()-lc?(lt&2)===0&&Xa(t,0):af|=a,Ya===Ye&&(Ya=0)),qs(t)}function fy(t,n){n===0&&(n=uu()),t=qr(t,n),t!==null&&(Nr(t,n),qs(t))}function ST(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),fy(t,a)}function AT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),fy(t,a)}function wT(t,n){return Ie(t,n)}var mc=null,Za=null,mf=!1,pc=!1,pf=!1,Ji=0;function qs(t){t!==Za&&t.next===null&&(Za===null?mc=Za=t:Za=Za.next=t),pc=!0,mf||(mf=!0,RT())}function yo(t,n){if(!pf&&pc){pf=!0;do for(var a=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var g=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Vt(42|t)+1)-1,d&=h&~(g&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,yy(l,d))}else d=Ye,d=xs(l,l===Et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||as(l,d)||(a=!0,yy(l,d));l=l.next}while(a);pf=!1}}function NT(){my()}function my(){pc=mf=!1;var t=0;Ji!==0&&UT()&&(t=Ji);for(var n=nt(),a=null,l=mc;l!==null;){var h=l.next,d=py(l,n);d===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(pc=!0)),l=h}Jt!==0&&Jt!==5||yo(t),Ji!==0&&(Ji=0)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Vt(d),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&l)!==0)&&(h[g]=Hh(E,n)):R<=n&&(t.expiredLanes|=E),d&=~E}if(n=Et,a=Ye,a=xs(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&te(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||as(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&te(l),Js(a)){case 2:case 8:a=vt;break;case 32:a=bt;break;case 268435456:a=Gn;break;default:a=bt}return l=gy.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&te(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,n){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fc()&&t.callbackNode!==a)return null;var l=Ye;return l=xs(t,t===Et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Z0(t,l,n),py(t,nt()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function yy(t,n){if(fc())return null;Z0(t,n,!0)}function RT(){zT(function(){(lt&6)!==0?Ie(ke,NT):my()})}function gf(){if(Ji===0){var t=ja;t===0&&(t=Es,Es<<=1,(Es&261888)===0&&(Es=256)),Ji=t}return Ji}function _y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function vy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function CT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=_y((h[tn]||null).action),g=l.submitter;g&&(n=(n=g[tn]||null)?_y(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var E=new ks("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ji!==0){var R=g?vy(h,g):new FormData(h);Vd(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=g?vy(h,g):new FormData(h),Vd(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var yf=0;yf<Jh.length;yf++){var _f=Jh[yf],IT=_f.toLowerCase(),DT=_f[0].toUpperCase()+_f.slice(1);ms(IT,"on"+DT)}ms($p,"onAnimationEnd"),ms(Zp,"onAnimationIteration"),ms(Jp,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(YE,"onTransitionRun"),ms(KE,"onTransitionStart"),ms(XE,"onTransitionCancel"),ms(Wp,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function by(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(Q){Iu(Q)}h.currentTarget=null,d=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(Q){Iu(Q)}h.currentTarget=null,d=R}}}}function Qe(t,n){var a=n[ga];a===void 0&&(a=n[ga]=new Set);var l=t+"__bubble";a.has(l)||(Ey(n,t,2,!1),a.add(l))}function vf(t,n,a){var l=0;n&&(l|=4),Ey(a,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function bf(t){if(!t[gc]){t[gc]=!0,Cl.forEach(function(a){a!=="selectionchange"&&(MT.has(a)||vf(a,!1,t),vf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,vf("selectionchange",!1,n))}}function Ey(t,n,a,l){switch($y(n)){case 2:var h=ax;break;case 8:h=lx;break;default:h=Vf}a=h.bind(null,n,a,t),h=void 0,!Or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Ef(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ns(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=d=g;continue e}E=E.parentNode}}l=l.return}Oi(function(){var z=d,Q=Yn(a),Z=[];e:{var q=eg.get(t);if(q!==void 0){var H=ks,fe=t;switch(t){case"keypress":if(Vr(a)===0)break e;case"keydown":case"keyup":H=Nu;break;case"focusin":fe="focus",H=Lr;break;case"focusout":fe="blur",H=Lr;break;case"beforeblur":case"afterblur":H=Lr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case $p:case Zp:case Jp:H=bu;break;case Wp:H=T;break;case"scroll":case"scrollend":H=ql;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ti;break;case"toggle":case"beforetoggle":H=Be}var Ae=(n&4)!==0,yt=!Ae&&(t==="scroll"||t==="scrollend"),V=Ae?q!==null?q+"Capture":null:q;Ae=[];for(var M=z,P;M!==null;){var X=M;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||V===null||(X=cs(M,V),X!=null&&Ae.push(vo(M,X,P))),yt)break;M=M.return}0<Ae.length&&(q=new H(q,fe,null,a,Q),Z.push({event:q,listeners:Ae}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Ul&&(fe=a.relatedTarget||a.fromElement)&&(Ns(fe)||fe[As]))break e;if((H||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,H?(fe=a.relatedTarget||a.toElement,H=z,fe=fe?Ns(fe):null,fe!==null&&(yt=c(fe),Ae=fe.tag,fe!==yt||Ae!==5&&Ae!==27&&Ae!==6)&&(fe=null)):(H=null,fe=z),H!==fe)){if(Ae=Bl,X="onMouseLeave",V="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=ti,X="onPointerLeave",V="onPointerEnter",M="pointer"),yt=H==null?q:Vn(H),P=fe==null?q:Vn(fe),q=new Ae(X,M+"leave",H,a,Q),q.target=yt,q.relatedTarget=P,X=null,Ns(Q)===z&&(Ae=new Ae(V,M+"enter",fe,a,Q),Ae.target=P,Ae.relatedTarget=yt,X=Ae),yt=X,H&&fe)t:{for(Ae=OT,V=H,M=fe,P=0,X=V;X;X=Ae(X))P++;X=0;for(var ve=M;ve;ve=Ae(ve))X++;for(;0<P-X;)V=Ae(V),P--;for(;0<X-P;)M=Ae(M),X--;for(;P--;){if(V===M||M!==null&&V===M.alternate){Ae=V;break t}V=Ae(V),M=Ae(M)}Ae=null}else Ae=null;H!==null&&Ty(Z,q,H,Ae,!1),fe!==null&&yt!==null&&Ty(Z,yt,fe,Ae,!0)}}e:{if(q=z?Vn(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var st=Pp;else if(Lp(q))if(zp)st=FE;else{st=BE;var ge=qE}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ba(z.elementType)&&(st=Pp):st=HE;if(st&&(st=st(t,z))){Up(Z,st,a,Q);break e}ge&&ge(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Vl(q,"number",q.value)}switch(ge=z?Vn(z):window,t){case"focusin":(Lp(ge)||ge.contentEditable==="true")&&(Ra=ge,Xh=z,Yl=null);break;case"focusout":Yl=Xh=Ra=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Kp(Z,a,Q);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":Kp(Z,a,Q)}var Fe;if(at)e:{switch(t){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Na?Ur(t,a)&&(Ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ke="onCompositionStart");Ke&&(Ls&&a.locale!=="ko"&&(Na||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Na&&(Fe=zl()):(Os=Q,Pl="value"in Os?Os.value:Os.textContent,Na=!0)),ge=yc(z,Ke),0<ge.length&&(Ke=new js(Ke,t,null,a,Q),Z.push({event:Ke,listeners:ge}),Fe?Ke.data=Fe:(Fe=wa(a),Fe!==null&&(Ke.data=Fe)))),(Fe=Xn?LE(t,a):UE(t,a))&&(Ke=yc(z,"onBeforeInput"),0<Ke.length&&(ge=new js("onBeforeInput","beforeinput",null,a,Q),Z.push({event:ge,listeners:Ke}),ge.data=Fe)),CT(Z,t,z,a,Q)}by(Z,n)})}function vo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function yc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=cs(t,a),h!=null&&l.unshift(vo(t,h,d)),h=cs(t,n),h!=null&&l.push(vo(t,h,d))),t.tag===3)return l;t=t.return}return[]}function OT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ty(t,n,a,l,h){for(var d=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=cs(a,d),z!=null&&g.unshift(vo(a,z,R))):h||(z=cs(a,d),z!=null&&g.push(vo(a,z,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var kT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function xy(t){return(typeof t=="string"?t:""+t).replace(kT,`
`).replace(VT,"")}function Sy(t,n){return n=xy(n),xy(t)===n}function gt(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,a,l);break;case"style":Ll(t,l,d);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&gt(t,n,"name",h.name,h,null),gt(t,n,"formEncType",h.formEncType,h,null),gt(t,n,"formMethod",h.formMethod,h,null),gt(t,n,"formTarget",h.formTarget,h,null)):(gt(t,n,"encType",h.encType,h,null),gt(t,n,"method",h.method,h,null),gt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=us);break;case"onScroll":l!=null&&Qe("scroll",t);break;case"onScrollEnd":l!=null&&Qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Qe("beforetoggle",t),Qe("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,_a(t,a,l))}}function Tf(t,n,a,l,h,d){switch(a){case"style":Ll(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Qe("scroll",t);break;case"onScrollEnd":l!=null&&Qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[tn]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function hn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",t),Qe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:gt(t,n,d,g,a,null)}}h&&gt(t,n,"srcSet",a.srcSet,a,null),l&&gt(t,n,"src",a.src,a,null);return;case"input":Qe("invalid",t);var E=d=g=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:gt(t,n,l,Q,a,null)}}mu(t,d,E,R,z,g,h,!1);return;case"select":Qe("invalid",t),l=g=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:gt(t,n,h,E,a,null)}n=d,a=g,t.multiple=!!l,n!=null?Ci(t,!!l,n,!1):a!=null&&Ci(t,!!l,a,!0);return;case"textarea":Qe("invalid",t),d=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:gt(t,n,g,E,a,null)}Ii(t,l,h,d);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:gt(t,n,R,l,a,null)}return;case"dialog":Qe("beforetoggle",t),Qe("toggle",t),Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":Qe("load",t);break;case"video":case"audio":for(l=0;l<_o.length;l++)Qe(_o[l],t);break;case"image":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"embed":case"source":case"link":Qe("error",t),Qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:gt(t,n,z,l,a,null)}return;default:if(ba(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Tf(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&gt(t,n,E,l,a,null))}function jT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,g=null,E=null,R=null,z=null,Q=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(H)||gt(t,n,H,null,l,Z)}}for(var q in l){var H=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Z&&gt(t,n,q,H,l,Z)}}va(t,g,E,R,z,Q,d,h);return;case"select":H=g=E=q=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(d)||gt(t,n,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":q=d;break;case"defaultValue":E=d;break;case"multiple":g=d;default:d!==R&&gt(t,n,h,d,l,R)}n=E,a=g,l=H,q!=null?Ci(t,!!a,q,!1):!!l!=!!a&&(n!=null?Ci(t,!!a,n,!0):Ci(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:gt(t,n,E,null,l,h)}for(g in l)if(h=l[g],d=a[g],l.hasOwnProperty(g)&&(h!=null||d!=null))switch(g){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&gt(t,n,g,h,l,d)}pu(t,q,H);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:gt(t,n,fe,null,l,q)}for(R in l)if(q=l[R],H=a[R],l.hasOwnProperty(R)&&q!==H&&(q!=null||H!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:gt(t,n,R,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!l.hasOwnProperty(Ae)&&gt(t,n,Ae,null,l,q);for(z in l)if(q=l[z],H=a[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:gt(t,n,z,q,l,H)}return;default:if(ba(n)){for(var yt in a)q=a[yt],a.hasOwnProperty(yt)&&q!==void 0&&!l.hasOwnProperty(yt)&&Tf(t,n,yt,void 0,l,q);for(Q in l)q=l[Q],H=a[Q],!l.hasOwnProperty(Q)||q===H||q===void 0&&H===void 0||Tf(t,n,Q,q,l,H);return}}for(var V in a)q=a[V],a.hasOwnProperty(V)&&q!=null&&!l.hasOwnProperty(V)&&gt(t,n,V,null,l,q);for(Z in l)q=l[Z],H=a[Z],!l.hasOwnProperty(Z)||q===H||q==null&&H==null||gt(t,n,Z,q,l,H)}function Ay(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,g=h.initiatorType,E=h.duration;if(d&&E&&Ay(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],z=R.startTime;if(z>E)break;var Q=R.transferSize,Z=R.initiatorType;Q&&Ay(Z)&&(R=R.responseEnd,g+=Q*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(d+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xf=null,Sf=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function UT(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var Ry=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,Cy=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cy<"u"?function(t){return Cy.resolve(null).then(t).catch(qT)}:Ry;function qT(t){setTimeout(function(){throw t})}function Wi(t){return t==="head"}function Iy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),tl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")bo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,bo(a);for(var d=a.firstChild;d;){var g=d.nextSibling,E=d.nodeName;d[ws]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=g}}else a==="body"&&bo(t.ownerDocument.body);a=h}while(a);tl(n)}function Dy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nf(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ws])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ns(t.nextSibling),t===null)break}return null}function HT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ns(t.nextSibling),t===null))return null;return t}function My(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ns(t.nextSibling),t===null))return null;return t}function Rf(t){return t.data==="$?"||t.data==="$~"}function Cf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function FT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ns(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var If=null;function Oy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return ns(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function ky(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Vy(t,n,a){switch(n=_c(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function bo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ya(t)}var ss=new Map,jy=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gi=Y.d;Y.d={f:GT,r:QT,D:YT,C:KT,L:XT,m:$T,X:JT,S:ZT,M:WT};function GT(){var t=gi.f(),n=cc();return t||n}function QT(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?Wg(n):gi.r(t)}var Ja=typeof document>"u"?null:document;function Ly(t,n,a){var l=Ja;if(l&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),jy.has(h)||(jy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),hn(n,"link",t),Bt(n),l.head.appendChild(n)))}}function YT(t){gi.D(t),Ly("dns-prefetch",t,null)}function KT(t,n){gi.C(t,n),Ly("preconnect",t,n)}function XT(t,n,a){gi.L(t,n,a);var l=Ja;if(l&&t&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Sn(a.imageSizes)+'"]')):h+='[href="'+Sn(t)+'"]';var d=h;switch(n){case"style":d=Wa(t);break;case"script":d=el(t)}ss.has(d)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),ss.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Eo(d))||n==="script"&&l.querySelector(To(d))||(n=l.createElement("link"),hn(n,"link",t),Bt(n),l.head.appendChild(n)))}}function $T(t,n){gi.m(t,n);var a=Ja;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=el(t)}if(!ss.has(d)&&(t=S({rel:"modulepreload",href:t},n),ss.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(To(d)))return}l=a.createElement("link"),hn(l,"link",t),Bt(l),a.head.appendChild(l)}}}function ZT(t,n,a){gi.S(t,n,a);var l=Ja;if(l&&t){var h=Rs(l).hoistableStyles,d=Wa(t);n=n||"default";var g=h.get(d);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Eo(d)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=ss.get(d))&&Df(t,a);var R=g=l.createElement("link");Bt(R),hn(R,"link",t),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(d,g)}}}function JT(t,n){gi.X(t,n);var a=Ja;if(a&&t){var l=Rs(a).hoistableScripts,h=el(t),d=l.get(h);d||(d=a.querySelector(To(h)),d||(t=S({src:t,async:!0},n),(n=ss.get(h))&&Mf(t,n),d=a.createElement("script"),Bt(d),hn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function WT(t,n){gi.M(t,n);var a=Ja;if(a&&t){var l=Rs(a).hoistableScripts,h=el(t),d=l.get(h);d||(d=a.querySelector(To(h)),d||(t=S({src:t,async:!0,type:"module"},n),(n=ss.get(h))&&Mf(t,n),d=a.createElement("script"),Bt(d),hn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Uy(t,n,a,l){var h=(h=oe.current)?vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Wa(a.href),a=Rs(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=Rs(h).hoistableStyles,g=d.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=h.querySelector(Eo(t)))&&!d._p&&(g.instance=d,g.state.loading=5),ss.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ss.set(t,a),d||ex(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=el(a),a=Rs(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Wa(t){return'href="'+Sn(t)+'"'}function Eo(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function ex(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),hn(n,"link",a),Bt(n),t.head.appendChild(n))}function el(t){return'[src="'+Sn(t)+'"]'}function To(t){return"script[async]"+t}function zy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Sn(a.href)+'"]');if(l)return n.instance=l,Bt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Bt(l),hn(l,"style",h),bc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Eo(h));if(d)return n.state.loading|=4,n.instance=d,Bt(d),d;l=Py(a),(h=ss.get(h))&&Df(l,h),d=(t.ownerDocument||t).createElement("link"),Bt(d);var g=d;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),hn(d,"link",l),n.state.loading|=4,bc(d,a.precedence,t),n.instance=d;case"script":return d=el(a.src),(h=t.querySelector(To(d)))?(n.instance=h,Bt(h),h):(l=a,(h=ss.get(d))&&(l=S({},a),Mf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Bt(h),hn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,a.precedence,t));return n.instance}function bc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function qy(t,n,a){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(a,l)}else h=Ec,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ws]||d[qt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(d):l.set(g,[d])}}return l}function By(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function tx(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function nx(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=n.querySelector(Eo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,Bt(d);return}d=n.ownerDocument||n,l=Py(l),(h=ss.get(h))&&Df(l,h),d=d.createElement("link"),Bt(d);var g=d;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),hn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Tc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Of=0;function sx(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Of===0&&(Of=62500*LT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Of?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(ix,t),xc=null,Tc.call(t))}function ix(t,n){if(!(n.state.loading&4)){var a=xc.get(t);if(a)var l=a.get(null);else{a=new Map,xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var g=h[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,h),a.set(g,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xo={$$typeof:Re,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function rx(t,n,a,l,h,d,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Fy(t,n,a,l,h,d,g,E,R,z,Q,Z){return t=new rx(t,n,a,g,R,z,Q,Z,E),n=1,d===!0&&(n|=24),d=Un(3,null,null,n),t.current=d,d.stateNode=t,n=hd(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},pd(d),t}function Gy(t){return t?(t=Da,t):Da}function Qy(t,n,a,l,h,d){h=Gy(h),l.context===null?l.context=h:l.pendingContext=h,l=Bi(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hi(t,l,n),a!==null&&(In(a,t,n),eo(a,t,n))}function Yy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function kf(t,n){Yy(t,n),(t=t.alternate)&&Yy(t,n)}function Ky(t){if(t.tag===13||t.tag===31){var n=qr(t,67108864);n!==null&&In(n,t,67108864),kf(t,67108864)}}function Xy(t){if(t.tag===13||t.tag===31){var n=Hn();n=Cr(n);var a=qr(t,n);a!==null&&In(a,t,n),kf(t,n)}}var Ac=!0;function ax(t,n,a,l){var h=G.T;G.T=null;var d=Y.p;try{Y.p=2,Vf(t,n,a,l)}finally{Y.p=d,G.T=h}}function lx(t,n,a,l){var h=G.T;G.T=null;var d=Y.p;try{Y.p=8,Vf(t,n,a,l)}finally{Y.p=d,G.T=h}}function Vf(t,n,a,l){if(Ac){var h=jf(l);if(h===null)Ef(t,n,l,wc,a),Zy(t,l);else if(ux(h,t,n,a,l))l.stopPropagation();else if(Zy(t,l),n&4&&-1<ox.indexOf(t)){for(;h!==null;){var d=Qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Ts(d.pendingLanes);if(g!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Vt(g);E.entanglements[1]|=R,g&=~R}qs(d),(lt&6)===0&&(oc=nt()+500,yo(0))}}break;case 31:case 13:E=qr(d,2),E!==null&&In(E,d,2),cc(),kf(d,2)}if(d=jf(l),d===null&&Ef(t,n,l,wc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ef(t,n,l,null,a)}}function jf(t){return t=Yn(t),Lf(t)}var wc=null;function Lf(t){if(wc=null,t=Ns(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function $y(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case ke:return 2;case vt:return 8;case bt:case Ar:return 32;case Gn:return 268435456;default:return 32}default:return 32}}var Uf=!1,er=null,tr=null,nr=null,So=new Map,Ao=new Map,sr=[],ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,n){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(n.pointerId)}}function wo(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&Ky(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ux(t,n,a,l,h){switch(n){case"focusin":return er=wo(er,t,n,a,l,h),!0;case"dragenter":return tr=wo(tr,t,n,a,l,h),!0;case"mouseover":return nr=wo(nr,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return So.set(d,wo(So.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ao.set(d,wo(Ao.get(d)||null,t,n,a,l,h)),!0}return!1}function Jy(t){var n=Ns(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,ls(t.priority,function(){Xy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,ls(t.priority,function(){Xy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ul=l,a.target.dispatchEvent(l),Ul=null}else return n=Qn(a),n!==null&&Ky(n),t.blockedOn=a,!1;n.shift()}return!0}function Wy(t,n,a){Nc(t)&&a.delete(n)}function cx(){Uf=!1,er!==null&&Nc(er)&&(er=null),tr!==null&&Nc(tr)&&(tr=null),nr!==null&&Nc(nr)&&(nr=null),So.forEach(Wy),Ao.forEach(Wy)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Uf||(Uf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,cx)))}var Cc=null;function e_(t){Cc!==t&&(Cc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Lf(l||a)===null)continue;break}var d=Qn(a);d!==null&&(t.splice(n,3),n-=3,Vd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function tl(t){function n(R){return Rc(R,t)}er!==null&&Rc(er,t),tr!==null&&Rc(tr,t),nr!==null&&Rc(nr,t),So.forEach(n),Ao.forEach(n);for(var a=0;a<sr.length;a++){var l=sr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],g=h[tn]||null;if(typeof d=="function")g||e_(a);else if(g){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,g=d[tn]||null)E=g.formAction;else if(Lf(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),e_(a)}}}function t_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pf(t){this._internalRoot=t}Ic.prototype.render=Pf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Hn();Qy(a,l,t,n,null,null)},Ic.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Qy(t.current,2,null,t,null,null),cc(),n[As]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<sr.length&&n!==0&&n<sr[a].priority;a++);sr.splice(a,0,t),a===0&&Jy(t)}};var n_=e.version;if(n_!=="19.2.0")throw Error(r(527,n_,"19.2.0"));Y.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var hx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{kn=Dc.inject(hx),Zt=Dc}catch{}}return Ro.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=u0,d=c0,g=h0;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Fy(t,1,!1,null,null,a,l,null,h,d,g,t_),t[As]=n.current,bf(t),new Pf(n)},Ro.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=u0,g=c0,E=h0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Fy(t,1,!0,n,a??null,l,h,R,d,g,E,t_),n.context=Gy(null),a=n.current,l=Hn(),l=Cr(l),h=Bi(l),h.callback=null,Hi(a,h,l),a=l,n.current.lanes=a,Nr(n,a),qs(n),t[As]=n.current,bf(t),new Ic(n)},Ro.version="19.2.0",Ro}var d_;function Ex(){if(d_)return Bf.exports;d_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bf.exports=bx(),Bf.exports}var Tx=Ex();const xx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sx=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),f_=i=>{const e=Sx(i);return e.charAt(0).toUpperCase()+e.slice(1)},lb=(...i)=>i.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),Ax=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var wx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nx=_e.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:f,...y},v)=>_e.createElement("svg",{ref:v,...wx,width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:lb("lucide",o),...!c&&!Ax(y)&&{"aria-hidden":"true"},...y},[...f.map(([_,x])=>_e.createElement(_,x)),...Array.isArray(c)?c:[c]]));const ze=(i,e)=>{const s=_e.forwardRef(({className:r,...o},c)=>_e.createElement(Nx,{ref:c,iconNode:e,className:lb(`lucide-${xx(f_(i))}`,`lucide-${i}`,r),...o}));return s.displayName=f_(i),s};const Rx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cx=ze("arrow-left",Rx);const Ix=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m_=ze("ban",Ix);const Dx=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],p_=ze("box",Dx);const Mx=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Qf=ze("briefcase",Mx);const Ox=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],g_=ze("bug",Ox);const kx=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],Vx=ze("calendar-plus",kx);const jx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mc=ze("calendar",jx);const Lx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yf=ze("camera",Lx);const Ux=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Px=ze("chart-column",Ux);const zx=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qx=ze("chart-pie",zx);const Bx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],y_=ze("check",Bx);const Hx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fx=ze("chevron-right",Hx);const Gx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qx=ze("chevron-left",Gx);const Yx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],__=ze("circle-alert",Yx);const Kx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xx=ze("circle-check-big",Kx);const $x=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Kf=ze("clipboard-list",$x);const Zx=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Jx=ze("cpu",Zx);const Wx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eS=ze("download",Wx);const tS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nS=ze("eye",tS);const sS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],iS=ze("file-x",sS);const rS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],v_=ze("history",rS);const aS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],b_=ze("lightbulb",aS);const lS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],E_=ze("log-in",lS);const oS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uS=ze("log-out",oS);const cS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],T_=ze("message-square",cS);const hS=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],dS=ze("monitor-play",hS);const fS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],x_=ze("pen-tool",fS);const mS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pS=ze("pen",mS);const gS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yS=ze("plus",gS);const _S=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vS=ze("refresh-cw",_S);const bS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Oc=ze("save",bS);const ES=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],TS=ze("search",ES);const xS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],S_=ze("settings",xS);const SS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],AS=ze("shield-check",SS);const wS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],NS=ze("square-check-big",wS);const RS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],A_=ze("trash-2",RS);const CS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],IS=ze("trending-up",CS);const DS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MS=ze("triangle-alert",DS);const OS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kS=ze("user",OS);const VS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jS=ze("users",VS);const LS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],w_=ze("utensils",LS);const US=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],N_=ze("video",US);const PS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kc=ze("x",PS);const zS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qS=ze("zap",zS),BS=()=>{};var R_={};const ob=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},HS=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[s++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[s++],f=i[s++],y=i[s++],v=((o&7)<<18|(c&63)<<12|(f&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=i[s++],f=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],f=o+1<i.length,y=f?i[o+1]:0,v=o+2<i.length,_=v?i[o+2]:0,x=c>>2,S=(c&3)<<4|y>>4;let O=(y&15)<<2|_>>6,K=_&63;v||(K=64,f||(O=64)),r.push(s[x],s[S],s[O],s[K])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ob(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):HS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=s[i.charAt(o++)],y=o<i.length?s[i.charAt(o)]:0;++o;const _=o<i.length?s[i.charAt(o)]:64;++o;const S=o<i.length?s[i.charAt(o)]:64;if(++o,c==null||y==null||_==null||S==null)throw new FS;const O=c<<2|y>>4;if(r.push(O),_!==64){const K=y<<4&240|_>>2;if(r.push(K),S!==64){const se=_<<6&192|S;r.push(se)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class FS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GS=function(i){const e=ob(i);return ub.encodeByteArray(e,!0)},Jc=function(i){return GS(i).replace(/\./g,"")},cb=function(i){try{return ub.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YS=()=>QS().__FIREBASE_DEFAULTS__,KS=()=>{if(typeof process>"u"||typeof R_>"u")return;const i=R_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},XS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&cb(i[1]);return e&&JSON.parse(e)},_h=()=>{try{return BS()||YS()||KS()||XS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},hb=i=>_h()?.emulatorHosts?.[i],$S=i=>{const e=hb(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},db=()=>_h()?.config,fb=i=>_h()?.[`_${i}`];class ZS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function vl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mb(i){return(await fetch(i,{credentials:"include"})).ok}function JS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Jc(JSON.stringify(s)),Jc(JSON.stringify(f)),""].join(".")}const ko={};function WS(){const i={prod:[],emulator:[]};for(const e of Object.keys(ko))ko[e]?i.emulator.push(e):i.prod.push(e);return i}function eA(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let C_=!1;function pb(i,e){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||ko[i]===e||ko[i]||C_)return;ko[i]=e;function s(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=WS().prod.length>0;function f(){const O=document.getElementById(r);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,K){O.setAttribute("width","24"),O.setAttribute("id",K),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{C_=!0,f()},O}function x(O,K){O.setAttribute("id",K),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=eA(r),K=s("text"),se=document.getElementById(K)||document.createElement("span"),re=s("learnmore"),ie=document.getElementById(re)||document.createElement("a"),xe=s("preprendIcon"),je=document.getElementById(xe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Re=O.element;y(Re),x(ie,re);const ot=_();v(je,xe),Re.append(je,se,ie,ot),document.body.appendChild(Re)}c?(se.innerText="Preview backend disconnected.",je.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(je.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,se.innerText="Preview backend running in this workspace."),se.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function nA(){const i=_h()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aA(){const i=bn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function lA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function uA(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const cA="FirebaseError";class wi extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=cA,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xo.prototype.create)}}class Xo{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?hA(c,r):"Error",y=`${this.serviceName}: ${f} (${o}).`;return new wi(o,y,r)}}function hA(i,e){return i.replace(dA,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const dA=/\{\$([^}]+)}/g;function fA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function la(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const c=i[o],f=e[o];if(I_(c)&&I_(f)){if(!la(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function I_(i){return i!==null&&typeof i=="object"}function $o(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mA(i,e){const s=new pA(i,e);return s.subscribe.bind(s)}class pA{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=Xf),o.error===void 0&&(o.error=Xf),o.complete===void 0&&(o.complete=Xf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function Xf(){}function an(i){return i&&i._delegate?i._delegate:i}class oa{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class yA{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new ZS;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vA(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,f]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&f.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_A(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _A(i){return i===ta?void 0:i}function vA(i){return i.instantiationMode==="EAGER"}class bA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new yA(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const EA={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},TA=Xe.INFO,xA={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},SA=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=xA[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=TA,this._logHandler=SA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const AA=(i,e)=>e.some(s=>i instanceof s);let D_,M_;function wA(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NA(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gb=new WeakMap,fm=new WeakMap,yb=new WeakMap,$f=new WeakMap,qm=new WeakMap;function RA(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{s(hr(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&gb.set(s,i)}).catch(()=>{}),qm.set(e,i),e}function CA(i){if(fm.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{s(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});fm.set(i,e)}let mm={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return fm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||yb.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return hr(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function IA(i){mm=i(mm)}function DA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(Zf(this),e,...s);return yb.set(r,e.sort?e.sort():[e]),hr(r)}:NA().includes(i)?function(...e){return i.apply(Zf(this),e),hr(gb.get(this))}:function(...e){return hr(i.apply(Zf(this),e))}}function MA(i){return typeof i=="function"?DA(i):(i instanceof IDBTransaction&&CA(i),AA(i,wA())?new Proxy(i,mm):i)}function hr(i){if(i instanceof IDBRequest)return RA(i);if($f.has(i))return $f.get(i);const e=MA(i);return e!==i&&($f.set(i,e),qm.set(e,i)),e}const Zf=i=>qm.get(i);function OA(i,e,{blocked:s,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(i,e),y=hr(f);return r&&f.addEventListener("upgradeneeded",v=>{r(hr(f.result),v.oldVersion,v.newVersion,hr(f.transaction),v)}),s&&f.addEventListener("blocked",v=>s(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const kA=["get","getKey","getAll","getAllKeys","count"],VA=["put","add","delete","clear"],Jf=new Map;function O_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=VA.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||kA.includes(s)))return;const c=async function(f,...y){const v=this.transaction(f,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[s](...y),o&&v.done]))[0]};return Jf.set(e,c),c}IA(i=>({...i,get:(e,s,r)=>O_(e,s)||i.get(e,s,r),has:(e,s)=>!!O_(e,s)||i.has(e,s)}));class jA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(LA(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function LA(i){return i.getComponent()?.type==="VERSION"}const pm="@firebase/app",k_="0.14.6";const Ei=new zm("@firebase/app"),UA="@firebase/app-compat",PA="@firebase/analytics-compat",zA="@firebase/analytics",qA="@firebase/app-check-compat",BA="@firebase/app-check",HA="@firebase/auth",FA="@firebase/auth-compat",GA="@firebase/database",QA="@firebase/data-connect",YA="@firebase/database-compat",KA="@firebase/functions",XA="@firebase/functions-compat",$A="@firebase/installations",ZA="@firebase/installations-compat",JA="@firebase/messaging",WA="@firebase/messaging-compat",e2="@firebase/performance",t2="@firebase/performance-compat",n2="@firebase/remote-config",s2="@firebase/remote-config-compat",i2="@firebase/storage",r2="@firebase/storage-compat",a2="@firebase/firestore",l2="@firebase/ai",o2="@firebase/firestore-compat",u2="firebase",c2="12.6.0";const gm="[DEFAULT]",h2={[pm]:"fire-core",[UA]:"fire-core-compat",[zA]:"fire-analytics",[PA]:"fire-analytics-compat",[BA]:"fire-app-check",[qA]:"fire-app-check-compat",[HA]:"fire-auth",[FA]:"fire-auth-compat",[GA]:"fire-rtdb",[QA]:"fire-data-connect",[YA]:"fire-rtdb-compat",[KA]:"fire-fn",[XA]:"fire-fn-compat",[$A]:"fire-iid",[ZA]:"fire-iid-compat",[JA]:"fire-fcm",[WA]:"fire-fcm-compat",[e2]:"fire-perf",[t2]:"fire-perf-compat",[n2]:"fire-rc",[s2]:"fire-rc-compat",[i2]:"fire-gcs",[r2]:"fire-gcs-compat",[a2]:"fire-fst",[o2]:"fire-fst-compat",[l2]:"fire-vertex","fire-js":"fire-js",[u2]:"fire-js-all"};const Wc=new Map,d2=new Map,ym=new Map;function V_(i,e){try{i.container.addComponent(e)}catch(s){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function hl(i){const e=i.name;if(ym.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,i);for(const s of Wc.values())V_(s,i);for(const s of d2.values())V_(s,i);return!0}function Bm(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function ys(i){return i==null?!1:i.settings!==void 0}const f2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Xo("app","Firebase",f2);class m2{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const bl=c2;function _b(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:gm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(s||(s=db()),!s)throw dr.create("no-options");const c=Wc.get(o);if(c){if(la(s,c.options)&&la(r,c.config))return c;throw dr.create("duplicate-app",{appName:o})}const f=new bA(o);for(const v of ym.values())f.addComponent(v);const y=new m2(s,r,f);return Wc.set(o,y),y}function vb(i=gm){const e=Wc.get(i);if(!e&&i===gm&&db())return _b();if(!e)throw dr.create("no-app",{appName:i});return e}function fr(i,e,s){let r=h2[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(f.join(" "));return}hl(new oa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const p2="firebase-heartbeat-database",g2=1,zo="firebase-heartbeat-store";let Wf=null;function bb(){return Wf||(Wf=OA(p2,g2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(zo)}catch(s){console.warn(s)}}}}).catch(i=>{throw dr.create("idb-open",{originalErrorMessage:i.message})})),Wf}async function y2(i){try{const s=(await bb()).transaction(zo),r=await s.objectStore(zo).get(Eb(i));return await s.done,r}catch(e){if(e instanceof wi)Ei.warn(e.message);else{const s=dr.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(s.message)}}}async function j_(i,e){try{const r=(await bb()).transaction(zo,"readwrite");await r.objectStore(zo).put(e,Eb(i)),await r.done}catch(s){if(s instanceof wi)Ei.warn(s.message);else{const r=dr.create("idb-set",{originalErrorMessage:s?.message});Ei.warn(r.message)}}}function Eb(i){return`${i.name}!${i.options.appId}`}const _2=1024,v2=30;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new T2(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>v2){const o=x2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=L_(),{heartbeatsToSend:s,unsentEntries:r}=E2(this._heartbeatsCache.heartbeats),o=Jc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ei.warn(e),""}}}function L_(){return new Date().toISOString().substring(0,10)}function E2(i,e=_2){const s=[];let r=i.slice();for(const o of i){const c=s.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),U_(s)>e){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),U_(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class T2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?uA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await y2(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function U_(i){return Jc(JSON.stringify({version:2,heartbeats:i})).length}function x2(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}function S2(i){hl(new oa("platform-logger",e=>new jA(e),"PRIVATE")),hl(new oa("heartbeat",e=>new b2(e),"PRIVATE")),fr(pm,k_,i),fr(pm,k_,"esm2020"),fr("fire-js","")}S2("");var A2="firebase",w2="12.6.0";fr(A2,w2,"app");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,Tb;(function(){var i;function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,D,L){for(var N=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)N[Tt-2]=arguments[Tt];return A.prototype[D].apply(k,N)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,C){C||(C=0);const k=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)k[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)k[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],D=I.g[2];let L=I.g[3],N;N=A+(L^C&(D^L))+k[0]+3614090360&4294967295,A=C+(N<<7&4294967295|N>>>25),N=L+(D^A&(C^D))+k[1]+3905402710&4294967295,L=A+(N<<12&4294967295|N>>>20),N=D+(C^L&(A^C))+k[2]+606105819&4294967295,D=L+(N<<17&4294967295|N>>>15),N=C+(A^D&(L^A))+k[3]+3250441966&4294967295,C=D+(N<<22&4294967295|N>>>10),N=A+(L^C&(D^L))+k[4]+4118548399&4294967295,A=C+(N<<7&4294967295|N>>>25),N=L+(D^A&(C^D))+k[5]+1200080426&4294967295,L=A+(N<<12&4294967295|N>>>20),N=D+(C^L&(A^C))+k[6]+2821735955&4294967295,D=L+(N<<17&4294967295|N>>>15),N=C+(A^D&(L^A))+k[7]+4249261313&4294967295,C=D+(N<<22&4294967295|N>>>10),N=A+(L^C&(D^L))+k[8]+1770035416&4294967295,A=C+(N<<7&4294967295|N>>>25),N=L+(D^A&(C^D))+k[9]+2336552879&4294967295,L=A+(N<<12&4294967295|N>>>20),N=D+(C^L&(A^C))+k[10]+4294925233&4294967295,D=L+(N<<17&4294967295|N>>>15),N=C+(A^D&(L^A))+k[11]+2304563134&4294967295,C=D+(N<<22&4294967295|N>>>10),N=A+(L^C&(D^L))+k[12]+1804603682&4294967295,A=C+(N<<7&4294967295|N>>>25),N=L+(D^A&(C^D))+k[13]+4254626195&4294967295,L=A+(N<<12&4294967295|N>>>20),N=D+(C^L&(A^C))+k[14]+2792965006&4294967295,D=L+(N<<17&4294967295|N>>>15),N=C+(A^D&(L^A))+k[15]+1236535329&4294967295,C=D+(N<<22&4294967295|N>>>10),N=A+(D^L&(C^D))+k[1]+4129170786&4294967295,A=C+(N<<5&4294967295|N>>>27),N=L+(C^D&(A^C))+k[6]+3225465664&4294967295,L=A+(N<<9&4294967295|N>>>23),N=D+(A^C&(L^A))+k[11]+643717713&4294967295,D=L+(N<<14&4294967295|N>>>18),N=C+(L^A&(D^L))+k[0]+3921069994&4294967295,C=D+(N<<20&4294967295|N>>>12),N=A+(D^L&(C^D))+k[5]+3593408605&4294967295,A=C+(N<<5&4294967295|N>>>27),N=L+(C^D&(A^C))+k[10]+38016083&4294967295,L=A+(N<<9&4294967295|N>>>23),N=D+(A^C&(L^A))+k[15]+3634488961&4294967295,D=L+(N<<14&4294967295|N>>>18),N=C+(L^A&(D^L))+k[4]+3889429448&4294967295,C=D+(N<<20&4294967295|N>>>12),N=A+(D^L&(C^D))+k[9]+568446438&4294967295,A=C+(N<<5&4294967295|N>>>27),N=L+(C^D&(A^C))+k[14]+3275163606&4294967295,L=A+(N<<9&4294967295|N>>>23),N=D+(A^C&(L^A))+k[3]+4107603335&4294967295,D=L+(N<<14&4294967295|N>>>18),N=C+(L^A&(D^L))+k[8]+1163531501&4294967295,C=D+(N<<20&4294967295|N>>>12),N=A+(D^L&(C^D))+k[13]+2850285829&4294967295,A=C+(N<<5&4294967295|N>>>27),N=L+(C^D&(A^C))+k[2]+4243563512&4294967295,L=A+(N<<9&4294967295|N>>>23),N=D+(A^C&(L^A))+k[7]+1735328473&4294967295,D=L+(N<<14&4294967295|N>>>18),N=C+(L^A&(D^L))+k[12]+2368359562&4294967295,C=D+(N<<20&4294967295|N>>>12),N=A+(C^D^L)+k[5]+4294588738&4294967295,A=C+(N<<4&4294967295|N>>>28),N=L+(A^C^D)+k[8]+2272392833&4294967295,L=A+(N<<11&4294967295|N>>>21),N=D+(L^A^C)+k[11]+1839030562&4294967295,D=L+(N<<16&4294967295|N>>>16),N=C+(D^L^A)+k[14]+4259657740&4294967295,C=D+(N<<23&4294967295|N>>>9),N=A+(C^D^L)+k[1]+2763975236&4294967295,A=C+(N<<4&4294967295|N>>>28),N=L+(A^C^D)+k[4]+1272893353&4294967295,L=A+(N<<11&4294967295|N>>>21),N=D+(L^A^C)+k[7]+4139469664&4294967295,D=L+(N<<16&4294967295|N>>>16),N=C+(D^L^A)+k[10]+3200236656&4294967295,C=D+(N<<23&4294967295|N>>>9),N=A+(C^D^L)+k[13]+681279174&4294967295,A=C+(N<<4&4294967295|N>>>28),N=L+(A^C^D)+k[0]+3936430074&4294967295,L=A+(N<<11&4294967295|N>>>21),N=D+(L^A^C)+k[3]+3572445317&4294967295,D=L+(N<<16&4294967295|N>>>16),N=C+(D^L^A)+k[6]+76029189&4294967295,C=D+(N<<23&4294967295|N>>>9),N=A+(C^D^L)+k[9]+3654602809&4294967295,A=C+(N<<4&4294967295|N>>>28),N=L+(A^C^D)+k[12]+3873151461&4294967295,L=A+(N<<11&4294967295|N>>>21),N=D+(L^A^C)+k[15]+530742520&4294967295,D=L+(N<<16&4294967295|N>>>16),N=C+(D^L^A)+k[2]+3299628645&4294967295,C=D+(N<<23&4294967295|N>>>9),N=A+(D^(C|~L))+k[0]+4096336452&4294967295,A=C+(N<<6&4294967295|N>>>26),N=L+(C^(A|~D))+k[7]+1126891415&4294967295,L=A+(N<<10&4294967295|N>>>22),N=D+(A^(L|~C))+k[14]+2878612391&4294967295,D=L+(N<<15&4294967295|N>>>17),N=C+(L^(D|~A))+k[5]+4237533241&4294967295,C=D+(N<<21&4294967295|N>>>11),N=A+(D^(C|~L))+k[12]+1700485571&4294967295,A=C+(N<<6&4294967295|N>>>26),N=L+(C^(A|~D))+k[3]+2399980690&4294967295,L=A+(N<<10&4294967295|N>>>22),N=D+(A^(L|~C))+k[10]+4293915773&4294967295,D=L+(N<<15&4294967295|N>>>17),N=C+(L^(D|~A))+k[1]+2240044497&4294967295,C=D+(N<<21&4294967295|N>>>11),N=A+(D^(C|~L))+k[8]+1873313359&4294967295,A=C+(N<<6&4294967295|N>>>26),N=L+(C^(A|~D))+k[15]+4264355552&4294967295,L=A+(N<<10&4294967295|N>>>22),N=D+(A^(L|~C))+k[6]+2734768916&4294967295,D=L+(N<<15&4294967295|N>>>17),N=C+(L^(D|~A))+k[13]+1309151649&4294967295,C=D+(N<<21&4294967295|N>>>11),N=A+(D^(C|~L))+k[4]+4149444226&4294967295,A=C+(N<<6&4294967295|N>>>26),N=L+(C^(A|~D))+k[11]+3174756917&4294967295,L=A+(N<<10&4294967295|N>>>22),N=D+(A^(L|~C))+k[2]+718787259&4294967295,D=L+(N<<15&4294967295|N>>>17),N=C+(L^(D|~A))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=C;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(k[D++]=I.charCodeAt(L++),D==this.blockSize){o(this,k),D=0;break}}else for(;L<A;)if(k[D++]=I[L++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[A++]=this.g[C]>>>k&255;return I};function c(I,A){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function f(I,A){this.h=A;const C=[];let k=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;k&&L==A||(C[D]=L,k=!1)}this.g=C}var y={};function v(I){return-128<=I&&I<128?c(I,function(A){return new f([A|0],A<0?-1:0)}):new f([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return ie(_(-I));const A=[];let C=1;for(let k=0;I>=C;k++)A[k]=I/C|0,C*=4294967296;return new f(A,0)}function x(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return ie(x(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let k=S;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const N=parseInt(I.substring(L,L+D),A);D<8?(D=_(Math.pow(A,D)),k=k.j(D).add(_(N))):(k=k.j(C),k=k.add(_(N)))}return k}var S=v(0),O=v(1),K=v(16777216);i=f.prototype,i.m=function(){if(re(this))return-ie(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*A,A*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(se(this))return"0";if(re(this))return"-"+ie(this).toString(I);const A=_(Math.pow(I,6));var C=this;let k="";for(;;){const D=ot(C,A).g;C=xe(C,D.j(A));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,se(C))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function se(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function re(I){return I.h==-1}i.l=function(I){return I=xe(this,I),re(I)?-1:se(I)?0:1};function ie(I){const A=I.g.length,C=[];for(let k=0;k<A;k++)C[k]=~I.g[k];return new f(C,~I.h).add(O)}i.abs=function(){return re(this)?ie(this):this},i.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let D=0;D<=A;D++){let L=k+(this.i(D)&65535)+(I.i(D)&65535),N=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=N>>>16,L&=65535,N&=65535,C[D]=N<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function xe(I,A){return I.add(ie(A))}i.j=function(I){if(se(this)||se(I))return S;if(re(this))return re(I)?ie(this).j(ie(I)):ie(ie(this).j(I));if(re(I))return ie(this.j(ie(I)));if(this.l(K)<0&&I.l(K)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var k=0;k<2*A;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const L=this.i(k)>>>16,N=this.i(k)&65535,Tt=I.i(D)>>>16,kt=I.i(D)&65535;C[2*k+2*D]+=N*kt,je(C,2*k+2*D),C[2*k+2*D+1]+=L*kt,je(C,2*k+2*D+1),C[2*k+2*D+1]+=N*Tt,je(C,2*k+2*D+1),C[2*k+2*D+2]+=L*Tt,je(C,2*k+2*D+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new f(C,0)};function je(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function Re(I,A){this.g=I,this.h=A}function ot(I,A){if(se(A))throw Error("division by zero");if(se(I))return new Re(S,S);if(re(I))return A=ot(ie(I),A),new Re(ie(A.g),ie(A.h));if(re(A))return A=ot(I,ie(A)),new Re(ie(A.g),A.h);if(I.g.length>30){if(re(I)||re(A))throw Error("slowDivide_ only works with positive integers.");for(var C=O,k=A;k.l(I)<=0;)C=_t(C),k=_t(k);var D=Je(C,1),L=Je(k,1);for(k=Je(k,2),C=Je(C,2);!se(k);){var N=L.add(k);N.l(I)<=0&&(D=D.add(C),L=N),k=Je(k,1),C=Je(C,1)}return A=xe(I,D.j(A)),new Re(D,A)}for(D=S;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=_(C),N=L.j(A);re(N)||N.l(I)>0;)C-=k,L=_(C),N=L.j(A);se(L)&&(L=O),D=D.add(L),I=xe(I,N)}return new Re(D,I)}i.B=function(I){return ot(this,I).h},i.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)&I.i(k);return new f(C,this.h&I.h)},i.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)|I.i(k);return new f(C,this.h|I.h)},i.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<A;k++)C[k]=this.i(k)^I.i(k);return new f(C,this.h^I.h)};function _t(I){const A=I.g.length+1,C=[];for(let k=0;k<A;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new f(C,I.h)}function Je(I,A){const C=A>>5;A%=32;const k=I.g.length-C,D=[];for(let L=0;L<k;L++)D[L]=A>0?I.i(L+C)>>>A|I.i(L+C+1)<<32-A:I.i(L+C);return new f(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Tb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=x,mr=f}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xb,Io,Sb,Bc,_m,Ab,wb,Nb;(function(){var i,e=Object.defineProperty;function s(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=s(this);function o(u,p){if(p)e:{var b=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],p=p(T),p!=T&&p!=null&&e(b,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var b=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&b.push([T,p[T]]);return b}});var c=c||{},f=this||self;function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function v(u,p,b){return u.call.apply(u.bind,arguments)}function _(u,p,b){return _=v,_.apply(null,arguments)}function x(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,p){function b(){}b.prototype=p.prototype,u.Z=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var le=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)le[Be-2]=arguments[Be];return p.prototype[U].apply(T,le)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const p=u.length;if(p>0){const b=Array(p);for(let T=0;T<p;T++)b[T]=u[T];return b}return[]}function se(u,p){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const B=U.length||0;u.length=b+B;for(let le=0;le<B;le++)u[b+le]=U[le]}else u.push(U)}}class re{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ie(u){f.setTimeout(()=>{throw u},0)}function xe(){var u=I;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class je{constructor(){this.h=this.g=null}add(p,b){const T=Re.get();T.set(p,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Re=new re(()=>new ot,u=>u.reset());class ot{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,Je=!1,I=new je,A=()=>{const u=Promise.resolve(void 0);_t=()=>{u.then(C)}};function C(){for(var u;u=xe();){try{u.h.call(u.g)}catch(b){ie(b)}var p=Re;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Je=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,p),f.removeEventListener("test",b,p)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Tt(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}S(Tt,D),Tt.prototype.init=function(u,p){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Tt.Z.h.call(this)},Tt.prototype.h=function(){Tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),G=0;function Y(u,p,b,T,U){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ne(u,p,b){for(const T in u)p.call(b,u[T],T,u)}function ue(u,p){for(const b in u)p.call(void 0,u[b],b,u)}function w(u){const p={};for(const b in u)p[b]=u[b];return p}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,p){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let B=0;B<j.length;B++)b=j[B],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function F(u){this.src=u,this.g={},this.h=0}F.prototype.add=function(u,p,b,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const le=oe(u,p,T,U);return le>-1?(p=u[le],b||(p.fa=!1)):(p=new Y(p,this.src,B,!!T,U),p.fa=b,u.push(p)),p};function ae(u,p){const b=p.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,p,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ee(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function oe(u,p,b,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==p&&B.capture==!!b&&B.ha==T)return U}return-1}var me="closure_lm_"+(Math.random()*1e6|0),qe={};function Oe(u,p,b,T,U){if(Array.isArray(p)){for(let B=0;B<p.length;B++)Oe(u,p[B],b,T,U);return null}return b=Se(b),u&&u[kt]?u.J(p,b,y(T)?!!T.capture:!1,U):Ce(u,p,b,!1,T,U)}function Ce(u,p,b,T,U,B){if(!p)throw Error("Invalid event type");const le=y(U)?!!U.capture:!!U;let Be=de(u);if(Be||(u[me]=Be=new F(u)),b=Be.add(p,b,T,le,B),b.proxy)return b;if(T=we(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)L||(U=le),U===void 0&&(U=!1),u.addEventListener(p.toString(),T,U);else if(u.attachEvent)u.attachEvent(rt(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function we(){function u(b){return p.call(u.src,u.listener,b)}const p=pe;return u}function We(u,p,b,T,U){if(Array.isArray(p))for(var B=0;B<p.length;B++)We(u,p[B],b,T,U);else T=y(T)?!!T.capture:!!T,b=Se(b),u&&u[kt]?(u=u.i,B=String(p).toString(),B in u.g&&(p=u.g[B],b=oe(p,b,T,U),b>-1&&(ee(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete u.g[B],u.h--)))):u&&(u=de(u))&&(p=u.g[p.toString()],u=-1,p&&(u=oe(p,b,T,U)),(b=u>-1?p[u]:null)&&St(b))}function St(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[kt])ae(p.i,u);else{var b=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(b,T,u.capture):p.detachEvent?p.detachEvent(rt(b),T):p.addListener&&p.removeListener&&p.removeListener(T),(b=de(p))?(ae(b,u),b.h==0&&(b.src=null,p[me]=null)):ee(u)}}}function rt(u){return u in qe?qe[u]:qe[u]="on"+u}function pe(u,p){if(u.da)u=!0;else{p=new Tt(p,this);const b=u.listener,T=u.ha||u.src;u.fa&&St(u),u=b.call(T,p)}return u}function de(u){return u=u[me],u instanceof F?u:null}var Ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function Se(u){return typeof u=="function"?u:(u[Ee]||(u[Ee]=function(p){return u.handleEvent(p)}),u[Ee])}function ye(){k.call(this),this.i=new F(this),this.M=this,this.G=null}S(ye,k),ye.prototype[kt]=!0,ye.prototype.removeEventListener=function(u,p,b,T){We(this,u,p,b,T)};function Ie(u,p){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var U=p;p=new D(T,u),J(p,U)}U=!0;let B,le;if(b)for(le=b.length-1;le>=0;le--)B=p.g=b[le],U=te(B,T,!0,p)&&U;if(B=p.g=u,U=te(B,T,!0,p)&&U,U=te(B,T,!1,p)&&U,b)for(le=0;le<b.length;le++)B=p.g=b[le],U=te(B,T,!1,p)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const b=u.g[p];for(let T=0;T<b.length;T++)ee(b[T]);delete u.g[p],u.h--}}this.G=null},ye.prototype.J=function(u,p,b,T){return this.i.add(String(u),p,!1,b,T)},ye.prototype.K=function(u,p,b,T){return this.i.add(String(u),p,!0,b,T)};function te(u,p,b,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let B=0;B<p.length;++B){const le=p[B];if(le&&!le.da&&le.capture==b){const Be=le.listener,jt=le.ha||le.src;le.fa&&ae(u.i,le),U=Be.call(jt,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ne(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function ct(u){u.g=Ne(()=>{u.g=null,u.i&&(u.i=!1,ct(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class nt extends k{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Te(u){k.call(this),this.h=u,this.g={}}S(Te,k);var ke=[];function vt(u){ne(u.g,function(p,b){this.g.hasOwnProperty(b)&&St(p)},u),u.g={}}Te.prototype.N=function(){Te.Z.N.call(this),vt(this)},Te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bt=f.JSON.stringify,Ar=f.JSON.parse,Gn=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ni(){}function ma(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zt(){D.call(this,"d")}S(Zt,D);function xn(){D.call(this,"c")}S(xn,D);var Vt={},lu=null;function pa(){return lu=lu||new ye}Vt.Ia="serverreachability";function ou(u){D.call(this,Vt.Ia,u)}S(ou,D);function Es(u){const p=pa();Ie(p,new ou(p))}Vt.STAT_EVENT="statevent";function wr(u,p){D.call(this,Vt.STAT_EVENT,u),this.stat=p}S(wr,D);function zt(u){const p=pa();Ie(p,new wr(p,u))}Vt.Ja="timingevent";function Ts(u,p){D.call(this,Vt.Ja,u),this.size=p}S(Ts,D);function xs(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function as(){this.g=!0}as.prototype.ua=function(){this.g=!1};function Hh(u,p,b,T,U,B){u.info(function(){if(u.g)if(B){var le="",Be=B.split("&");for(let at=0;at<Be.length;at++){var jt=Be[at].split("=");if(jt.length>1){const Rt=jt[0];jt=jt[1];const Xn=Rt.split("_");le=Xn.length>=2&&Xn[1]=="type"?le+(Rt+"="+jt+"&"):le+(Rt+"=redacted&")}}}else le=null;else le=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+p+`
`+b+`
`+le})}function uu(u,p,b,T,U,B,le){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+p+`
`+b+`
`+B+" "+le})}function Ss(u,p,b,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Fh(u,b)+(T?" "+T:"")})}function Nr(u,p){u.info(function(){return"TIMEOUT: "+p})}as.prototype.info=function(){};function Fh(u,p){if(!u.g)return p;if(!p)return null;try{const B=JSON.parse(p);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var b=B[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let le=1;le<T.length;le++)T[le]=""}}}}return bt(B)}catch{return p}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function Cr(){}S(Cr,Ni),Cr.prototype.g=function(){return new XMLHttpRequest},Rl=new Cr;function Js(u){return encodeURIComponent(String(u))}function cu(u){var p=1;u=u.split(":");const b=[];for(;p>0&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function ls(u,p,b,T){this.j=u,this.i=p,this.l=b,this.S=T||1,this.V=new Te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new os}function os(){this.i=null,this.g="",this.h=!1}var qt={},tn={};function As(u,p,b){u.M=1,u.A=Ir(Ht(p)),u.u=b,u.R=!0,ga(u,null)}function ga(u,p){u.F=Date.now(),ws(u),u.B=Ht(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ba(b.i,"t",T),u.C=0,b=u.j.L,u.h=new os,u.g=Au(u.j,b?p:null,!u.u),u.P>0&&(u.O=new nt(_(u.Y,u,u.g),u.P)),p=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ke[0]=U.toString()),U=ke);for(let B=0;B<U.length;B++){const le=Oe(b,U[B],T||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Es(),Hh(u.i,u.v,u.B,u.l,u.S,u.u)}ls.prototype.ba=function(u){u=u.target;const p=this.O;p&&hs(u)==3?p.j():this.Y(u)},ls.prototype.Y=function(u){try{if(u==this.g)e:{const Be=hs(this.g),jt=this.g.ya(),at=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Be!=4||jt==7||(jt==8||at<=0?Es(3):Es(2)),Ns(this);var p=this.g.ca();this.X=p;var b=Gh(this);if(this.o=p==200,uu(this.i,this.v,this.B,this.l,this.S,Be,p),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var B=T;break t}}B=null}if(u=B)Ss(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rs(this,u);else{this.o=!1,this.m=3,zt(12),Vn(this),Qn(this);break e}}if(this.R){u=!0;let Rt;for(;!this.K&&this.C<b.length;)if(Rt=du(this,b),Rt==tn){Be==4&&(this.m=4,zt(14),u=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==qt){this.m=4,zt(15),Ss(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Ss(this.i,this.l,Rt,null),Rs(this,Rt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||b.length!=0||this.h.h||(this.m=1,zt(16),u=!1),this.o=this.o&&u,!u)Ss(this.i,this.l,b,"[Invalid Chunked Response]"),Vn(this),Qn(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Hl(le),le.P=!0,zt(11))}}else Ss(this.i,this.l,b,null),Rs(this,b);Be==4&&Vn(this),this.o&&!this.K&&(Be==4?Eu(this.j,this):(this.o=!1,ws(this)))}else ei(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Vn(this),Qn(this)}}}catch{}finally{}};function Gh(u){if(!hu(u))return u.g.la();const p=ln(u.g);if(p==="")return"";let b="";const T=p.length,U=hs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Qn(u),"";u.h.i=new f.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,b+=u.h.i.decode(p[B],{stream:!(U&&B==T-1)});return p.length=0,u.h.g+=b,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,p){var b=u.C,T=p.indexOf(`
`,b);return T==-1?tn:(b=Number(p.substring(b,T)),isNaN(b)?qt:(T+=1,T+b>p.length?tn:(p=p.slice(T,T+b),u.C=T+b,p)))}ls.prototype.cancel=function(){this.K=!0,Vn(this)};function ws(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=xs(_(u.aa,u),p)}function Ns(u){u.D&&(f.clearTimeout(u.D),u.D=null)}ls.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(Es(),zt(17)),Vn(this),this.m=2,Qn(this)):ya(this,this.T-u)};function Qn(u){u.j.I==0||u.K||Eu(u.j,u)}function Vn(u){Ns(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,vt(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Rs(u,p){try{var b=u.j;if(b.I!=0&&(b.g==u||Is(b.h,u))){if(!u.L&&Is(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),Vi(b);else break e;Lr(b),zt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=xs(_(b.Va,b),6e3));Cs(b.h)<=1&&b.ta&&(b.ta=void 0)}else js(b,11)}else if((u.L||b.g==u)&&Aa(b),!N(p))for(U=b.Ba.g.parse(p),p=0;p<U.length;p++){let at=U[p];const Rt=at[0];if(!(Rt<=b.K))if(b.K=Rt,at=at[1],b.I==2)if(at[0]=="c"){b.M=at[1],b.ba=at[2];const Xn=at[3];Xn!=null&&(b.ka=Xn,b.j.info("VER="+b.ka));const Ls=at[4];Ls!=null&&(b.za=Ls,b.j.info("SVER="+b.za));const ds=at[5];ds!=null&&typeof ds=="number"&&ds>0&&(T=1.5*ds,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const fs=u.g;if(fs){const Ur=fs.g?fs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var B=T.h;B.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Dl(B,B.h),B.h=null))}if(T.G){const wa=fs.g?fs.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(T.wa=wa,ht(T.J,T.G,wa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var le=u;if(T.na=Su(T,T.L?T.ba:null,T.W),le.L){Ml(T.h,le);var Be=le,jt=T.O;jt&&(Be.H=jt),Be.D&&(Ns(Be),ws(Be)),T.g=le}else vu(T);b.i.length>0&&Vs(b)}else at[0]!="stop"&&at[0]!="close"||js(b,7);else b.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?js(b,7):ql(b):at[0]!="noop"&&b.l&&b.l.qa(at),b.A=0)}}Es(4)}catch{}}var Bt=class{constructor(u,p){this.g=u,this.map=p}};function Cl(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Il(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Cs(u){return u.h?1:u.g?u.g.size:0}function Is(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Dl(u,p){u.g?u.g.add(p):u.h=p}function Ml(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Cl.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const b of u.g.values())p=p.concat(b.G);return p}return K(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,p){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,B=null;T>=0?(U=u[b].substring(0,T),B=u[b].substring(T+1)):U=u[b],p(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof jn?(this.l=u.l,nn(this,u.j),this.o=u.o,this.g=u.g,Ri(this,u.u),this.h=u.h,kl(this,yu(u.i)),this.m=u.m):u&&(p=String(u).match(fu))?(this.l=!1,nn(this,p[1]||"",!0),this.o=Ds(p[2]||""),this.g=Ds(p[3]||"",!0),Ri(this,p[4]),this.h=Ds(p[5]||"",!0),kl(this,p[6]||"",!0),this.m=Ds(p[7]||"")):(this.l=!1,this.i=new Ii(null,this.l))}jn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Dr(p,va,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Dr(p,va,!0),"@"),u.push(Js(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Dr(b,b.charAt(0)=="/"?Vl:mu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Dr(b,pu)),u.join("")},jn.prototype.resolve=function(u){const p=Ht(this);let b=!!u.j;b?nn(p,u.j):b=!!u.o,b?p.o=u.o:b=!!u.g,b?p.g=u.g:b=u.u!=null;var T=u.h;if(b)Ri(p,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=p.h.lastIndexOf("/");U!=-1&&(T=p.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let le=0;le<U.length;){const Be=U[le++];Be=="."?T&&le==U.length&&B.push(""):Be==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&le==U.length&&B.push("")):(B.push(Be),T=!0)}T=B.join("/")}else T=U}return b?p.h=T:b=u.i.toString()!=="",b?kl(p,yu(u.i)):b=!!u.m,b&&(p.m=u.m),p};function Ht(u){return new jn(u)}function nn(u,p,b){u.j=b?Ds(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Ri(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function kl(u,p,b){p instanceof Ii?(u.i=p,Ea(u.i,u.l)):(b||(p=Dr(p,Ci)),u.i=new Ii(p,u.l))}function ht(u,p,b){u.i.set(p,b)}function Ir(u){return ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ds(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,Sn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,mu=/[#\?:]/g,Vl=/[#\?]/g,Ci=/[#\?@]/g,pu=/#/g;function Ii(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}i=Ii.prototype,i.add=function(u,p){An(this),this.i=null,u=Di(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function gu(u,p){An(u),p=Di(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function jl(u,p){return An(u),p=Di(u,p),u.g.has(p)}i.forEach=function(u,p){An(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(p,U,T,this)},this)},this)};function Ll(u,p){An(u);let b=[];if(typeof p=="string")jl(u,p)&&(b=b.concat(u.g.get(Di(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)b=b.concat(u[p]);return b}i.set=function(u,p){return An(this),this.i=null,u=Di(this,u),jl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},i.get=function(u,p){return u?(u=Ll(this,u),u.length>0?String(u[0]):p):p};function ba(u,p,b){gu(u,p),b.length>0&&(u.i=null,u.g.set(Di(u,p),K(b)),u.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var b=p[T];const U=Js(b);b=Ll(this,b);for(let B=0;B<b.length;B++){let le=U;b[B]!==""&&(le+="="+Js(b[B])),u.push(le)}}return this.i=u.join("&")};function yu(u){const p=new Ii;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Di(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ea(u,p){p&&!u.j&&(An(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(gu(this,T),ba(this,U,b))},u)),u.j=p}function us(u,p){const b=new as;if(f.Image){const T=new Image;T.onload=x(Yn,b,"TestLoadImage: loaded",!0,p,T),T.onerror=x(Yn,b,"TestLoadImage: error",!1,p,T),T.onabort=x(Yn,b,"TestLoadImage: abort",!1,p,T),T.ontimeout=x(Yn,b,"TestLoadImage: timeout",!1,p,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Ul(u,p){const b=new as,T=new AbortController,U=setTimeout(()=>{T.abort(),Yn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Yn(b,"TestPingServer: ok",!0,p):Yn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Yn(b,"TestPingServer: error",!1,p)})}function Yn(u,p,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Mi(){this.g=new Gn}function Ms(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ms,Ni),Ms.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(u,p){ye.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Mr,ye),i=Mr.prototype,i.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,cs(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Oi(this):cs(this),this.readyState==3&&Ta(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Oi(this))},i.Na=function(u){this.g&&(this.response=u,Oi(this))},i.ga=function(){this.g&&Oi(this)};function Oi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,cs(u)}i.setRequestHeader=function(u,p){this.A.append(u,p)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function cs(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let p="";return ne(u,function(b,T){p+=T,p+=":",p+=b,p+=`\r
`}),p}function Or(u,p,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Kn(b),typeof u=="string"?b!=null&&Js(b):ht(u,p,b))}function mt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(mt,ye);var Os=/^https?$/i,Pl=["POST","PUT"];i=mt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,p,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(B){kr(this,B);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())b.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(B=>B.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Pl,p,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,le]of b)this.g.setRequestHeader(B,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){kr(this,B)}};function kr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,zl(u),Ws(u)}function zl(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ws(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ws(this,!0)),mt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},i.Xa=function(){Vr(this)};function Vr(u){if(u.h&&typeof c<"u"){if(u.v&&hs(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),hs(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var T;if(T=B===0){let le=String(u.D).match(fu)[1]||null;!le&&f.self&&f.self.location&&(le=f.self.location.protocol.slice(0,-1)),T=!Os.test(le?le.toLowerCase():"")}b=T}if(b)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var U=hs(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",zl(u)}}finally{Ws(u)}}}}function Ws(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,p||Ie(u,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function hs(u){return u.g?u.g.readyState:0}i.ca=function(){try{return hs(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ar(p)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ei(u){const p={};u=(u.g&&hs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(N(u[T]))continue;var b=cu(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const B=p[U]||[];p[U]=B,B.push(b)}ue(p,function(T){return T.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function ki(u){this.za=0,this.i=[],this.j=new as,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ks("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ks("baseRetryDelayMs",5e3,u),this.Za=ks("retryDelaySeedMs",1e4,u),this.Ta=ks("forwardChannelMaxRetries",2,u),this.va=ks("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Ba=new Mi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ki.prototype,i.ka=8,i.I=1,i.connect=function(u,p,b,T){zt(0),this.W=u,this.H=p||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),Vs(this)};function ql(u){if(xa(u),u.I==3){var p=u.V++,b=Ht(u.J);if(ht(b,"SID",u.M),ht(b,"RID",p),ht(b,"TYPE","terminate"),jr(u,b),p=new ls(u,u.j,p),p.M=2,p.A=Ir(Ht(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=p.A,b=!0),b||(p.g=Au(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ws(p)}xu(u)}function Vi(u){u.g&&(Hl(u),u.g.cancel(),u.g=null)}function xa(u){Vi(u),u.v&&(f.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Vs(u){if(!Il(u.h)&&!u.m){u.m=!0;var p=u.Ea;_t||A(),Je||(_t(),Je=!0),I.add(p,u),u.D=0}}function Sa(u,p){return Cs(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=xs(_(u.Ea,u,p),Tu(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ls(this,this.j,u);let B=this.o;if(this.U&&(B?(B=w(B),J(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=_u(this,U,p),b=Ht(this.J),ht(b,"RID",u),ht(b,"CVER",22),this.G&&ht(b,"X-HTTP-Session-Id",this.G),jr(this,b),B&&(this.R?p="headers="+Js(Kn(B))+"&"+p:this.u&&Or(b,this.u,B)),Dl(this.h,U),this.Ra&&ht(b,"TYPE","init"),this.S?(ht(b,"$req",p),ht(b,"SID","null"),U.U=!0,As(U,b,null)):As(U,b,p),this.I=2}}else this.I==3&&(u?Bl(this,u):this.i.length==0||Il(this.h)||Bl(this))};function Bl(u,p){var b;p?b=p.l:b=u.V++;const T=Ht(u.J);ht(T,"SID",u.M),ht(T,"RID",b),ht(T,"AID",u.K),jr(u,T),u.u&&u.o&&Or(T,u.u,u.o),b=new ls(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),p&&(u.i=p.G.concat(u.i)),p=_u(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dl(u.h,b),As(b,T,p)}function jr(u,p){u.H&&ne(u.H,function(b,T){ht(p,T,b)}),u.l&&ne({},function(b,T){ht(p,T,b)})}function _u(u,p,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Be=-1;for(;;){const jt=["count="+b];Be==-1?b>0?(Be=U[0].g,jt.push("ofs="+Be)):Be=0:jt.push("ofs="+Be);let at=!0;for(let Rt=0;Rt<b;Rt++){var B=U[Rt].g;const Xn=U[Rt].map;if(B-=Be,B<0)Be=Math.max(0,U[Rt].g-100),at=!1;else try{B="req"+B+"_"||"";try{var le=Xn instanceof Map?Xn:Object.entries(Xn);for(const[Ls,ds]of le){let fs=ds;y(ds)&&(fs=bt(ds)),jt.push(B+Ls+"="+encodeURIComponent(fs))}}catch(Ls){throw jt.push(B+"type="+encodeURIComponent("_badmap")),Ls}}catch{T&&T(Xn)}}if(at){le=jt.join("&");break e}}le=void 0}return u=u.i.splice(0,b),p.G=u,le}function vu(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;_t||A(),Je||(_t(),Je=!0),I.add(p,u),u.A=0}}function Lr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=xs(_(u.Da,u),Tu(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=xs(_(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),Vi(this),bu(this))};function Hl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ls(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Ht(u.na);ht(p,"RID","rpc"),ht(p,"SID",u.M),ht(p,"AID",u.K),ht(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&ht(p,"TO",u.ia),ht(p,"TYPE","xmlhttp"),jr(u,p),u.u&&u.o&&Or(p,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Ir(Ht(p)),b.u=null,b.R=!0,ga(b,u)}i.Va=function(){this.C!=null&&(this.C=null,Vi(this),Lr(this),zt(19))};function Aa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Eu(u,p){var b=null;if(u.g==p){Aa(u),Hl(u),u.g=null;var T=2}else if(Is(u.h,p))b=p.G,Ml(u.h,p),T=1;else return;if(u.I!=0){if(p.o)if(T==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var U=u.D;T=pa(),Ie(T,new Ts(T,b)),Vs(u)}else vu(u);else if(U=p.m,U==3||U==0&&p.X>0||!(T==1&&Sa(u,p)||T==2&&Lr(u)))switch(b&&b.length>0&&(p=u.h,p.i=p.i.concat(b)),U){case 1:js(u,5);break;case 4:js(u,10);break;case 3:js(u,6);break;default:js(u,2)}}}function Tu(u,p){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*p}function js(u,p){if(u.j.info("Error code "+p),p==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new jn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||nn(T,"https"),Ir(T),U?us(T.toString(),b):Ul(T.toString(),b)}else zt(2);u.I=0,u.l&&u.l.pa(p),xu(u),xa(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const p=Ol(u.h);(p.length!=0||u.i.length!=0)&&(se(u.ja,p),se(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Su(u,p,b){var T=b instanceof jn?Ht(b):new jn(b);if(T.g!="")p&&(T.g=p+"."+T.g),Ri(T,T.u);else{var U=f.location;T=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const B=new jn(null);T&&nn(B,T),p&&(B.g=p),U&&Ri(B,U),b&&(B.h=b),T=B}return b=u.G,p=u.wa,b&&p&&ht(T,b,p),ht(T,"VER",u.ka),jr(u,T),T}function Au(u,p,b){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new mt(new Ms({ab:b})):new mt(u.ma),p.Fa(u.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}i=wu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ji(){}ji.prototype.g=function(u,p){return new En(u,p)};function En(u,p){ye.call(this),this.g=new ki(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!N(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ti(this)}S(En,ye),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){ql(this.g)},En.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=bt(u),u=b);p.i.push(new Bt(p.Ya++,u)),p.I==3&&Vs(p)},En.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,En.Z.N.call(this)};function Nu(u){Zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}S(Nu,Zt);function Ru(){xn.call(this),this.status=1}S(Ru,xn);function ti(u){this.g=u}S(ti,wu),ti.prototype.ra=function(){Ie(this.g,"a")},ti.prototype.qa=function(u){Ie(this.g,new Nu(u))},ti.prototype.pa=function(u){Ie(this.g,new Ru)},ti.prototype.oa=function(){Ie(this.g,"b")},ji.prototype.createWebChannel=ji.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Nb=function(){return new ji},wb=function(){return pa()},Ab=Vt,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Bc=Rr,Nl.COMPLETE="complete",Sb=Nl,ma.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Io=ma,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,xb=mt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",q_="4.9.2";class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");let El="12.3.0";const ua=new zm("@firebase/firestore");function sl(){return ua.logLevel}function he(i,...e){if(ua.logLevel<=Xe.DEBUG){const s=e.map(Hm);ua.debug(`Firestore (${El}): ${i}`,...s)}}function Ti(i,...e){if(ua.logLevel<=Xe.ERROR){const s=e.map(Hm);ua.error(`Firestore (${El}): ${i}`,...s)}}function dl(i,...e){if(ua.logLevel<=Xe.WARN){const s=e.map(Hm);ua.warn(`Firestore (${El}): ${i}`,...s)}}function Hm(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function De(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,Rb(i,r,s)}function Rb(i,e,s){let r=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Ti(r),new Error(r)}function ut(i,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,i||Rb(e,o,r)}function Pe(i,e){return i}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends wi{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}class Cb{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(_n.UNAUTHENTICATED)))}shutdown(){}}class R2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class C2{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){ut(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,s(v)):Promise.resolve();let c=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new bi,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new bi)}}),0),f()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new Cb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class I2{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D2{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new I2(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M2{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ys(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){ut(this.o===void 0,3512);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?s(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(ut(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new B_(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function O2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=O2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<s&&(r+=e.charAt(o[c]%62))}return r}}function $e(i,e){return i<e?-1:i>e?1:0}function vm(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return em(o)===em(c)?$e(o,c):em(o)?1:-1}return $e(i.length,e.length)}const k2=55296,V2=57343;function em(i){const e=i.charCodeAt(0);return e>=k2&&e<=V2}function fl(i,e,s){return i.length===e.length&&i.every(((r,o)=>s(r,e[o])))}const H_="__name__";class Fs{constructor(e,s,r){s===void 0?s=0:s>e.length&&De(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&De(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const c=Fs.compareSegments(e.get(o),s.get(o));if(c!==0)return c}return $e(e.length,s.length)}static compareSegments(e,s){const r=Fs.isNumericId(e),o=Fs.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?Fs.extractNumericId(e).compare(Fs.extractNumericId(s)):vm(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class xt extends Fs{construct(e,s,r){return new xt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new xt(s)}static emptyPath(){return new xt([])}}const j2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Fs{construct(e,s,r){return new mn(e,s,r)}static isValidIdentifier(e){return j2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new mn([H_])}static fromServerFormat(e){const s=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ce($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let f=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ce($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(f=!f,o++):y!=="."||f?(r+=y,o++):(c(),o++)}if(c(),f)throw new ce($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(s)}static emptyPath(){return new mn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(xt.fromString(e))}static fromName(e){return new be(xt.fromString(e).popFirst(5))}static empty(){return new be(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return xt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new xt(e.slice()))}}function Ib(i,e,s){if(!s)throw new ce($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function L2(i,e,s,r){if(e===!0&&r===!0)throw new ce($.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function F_(i){if(!be.isDocumentKey(i))throw new ce($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function G_(i){if(be.isDocumentKey(i))throw new ce($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Db(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function vh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":De(12329,{type:typeof i})}function On(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=vh(i);throw new ce($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function $t(i,e){const s={typeString:i};return e&&(s.value=e),s}function Zo(i,e){if(!Db(i))throw new ce($.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const f=i[r];if(o&&typeof f!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){s=`Expected '${r}' field to equal '${c.value}'`;break}}if(s)throw new ce($.INVALID_ARGUMENT,s);return!0}const Q_=-62135596800,Y_=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*Y_);return new Nt(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ce($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<Q_)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zo(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:$t("string",Nt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Nt(0,0))}static max(){return new Ve(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qo=-1;function U2(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(r===1e9?new Nt(s+1,0):new Nt(s,r));return new gr(o,be.empty(),e)}function P2(i){return new gr(i.readTime,i.key,qo)}class gr{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new gr(Ve.min(),be.empty(),qo)}static max(){return new gr(Ve.max(),be.empty(),qo)}}function z2(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=be.comparator(i.documentKey,e.documentKey),s!==0?s:$e(i.largestBatchId,e.largestBatchId))}const q2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tl(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==q2)throw i;he("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new W(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(s,c).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof W?s:W.resolve(s)}catch(s){return W.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):W.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):W.reject(s)}static resolve(e){return new W(((s,r)=>{s(e)}))}static reject(e){return new W(((s,r)=>{r(e)}))}static waitFor(e){return new W(((s,r)=>{let o=0,c=0,f=!1;e.forEach((y=>{++o,y.next((()=>{++c,f&&c===o&&s()}),(v=>r(v)))})),f=!0,c===o&&s()}))}static or(e){let s=W.resolve(!1);for(const r of e)s=s.next((o=>o?W.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,c)=>{r.push(s.call(this,o,c))})),this.waitFor(r)}static mapArray(e,s){return new W(((r,o)=>{const c=e.length,f=new Array(c);let y=0;for(let v=0;v<c;v++){const _=v;s(e[_]).next((x=>{f[_]=x,++y,y===c&&r(f)}),(x=>o(x)))}}))}static doWhile(e,s){return new W(((r,o)=>{const c=()=>{e()===!0?s().next((()=>{c()}),o):r()};c()}))}}function H2(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function xl(i){return i.name==="IndexedDbTransactionError"}class bh{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const Gm=-1;function Eh(i){return i==null}function eh(i){return i===0&&1/i==-1/0}function F2(i){return typeof i=="number"&&Number.isInteger(i)&&!eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Mb="";function G2(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=K_(e)),e=Q2(i.get(s),e);return K_(e)}function Q2(i,e){let s=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":s+="";break;case Mb:s+="";break;default:s+=c}}return s}function K_(i){return i+Mb+""}function X_(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function Tr(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function Ob(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class It{constructor(e,s){this.comparator=e,this.root=s||dn.EMPTY}insert(e,s){return new It(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=s?r(e.key,s):1,s&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,s,r,o,c){this.key=e,this.value=s,this.color=r??dn.RED,this.left=o??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,c){return new dn(e??this.key,s??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,s,r),null):c===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,s,r,o,c){return this}insert(e,s,r){return new dn(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new en(this.comparator);return s.data=e,s}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Fn([])}unionWith(e){let s=new en(mn.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new Fn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}class kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kb("Invalid base64 string: "+c):c}})(e);return new pn(s)}static fromUint8Array(e){const s=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new pn(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(i){if(ut(!!i,39018),typeof i=="string"){let e=0;const s=Y2.exec(i);if(ut(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(i.seconds),nanos:Pt(i.nanos)}}function Pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function _r(i){return typeof i=="string"?pn.fromBase64String(i):pn.fromUint8Array(i)}const Vb="server_timestamp",jb="__type__",Lb="__previous_value__",Ub="__local_write_time__";function Qm(i){return(i?.mapValue?.fields||{})[jb]?.stringValue===Vb}function Th(i){const e=i.mapValue.fields[Lb];return Qm(e)?Th(e):e}function Bo(i){const e=yr(i.mapValue.fields[Ub].timestampValue);return new Nt(e.seconds,e.nanos)}class K2{constructor(e,s,r,o,c,f,y,v,_,x){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=x}}const th="(default)";class Ho{constructor(e,s){this.projectId=e,this.database=s||th}static empty(){return new Ho("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Ho&&e.projectId===this.projectId&&e.database===this.database}}const Pb="__type__",X2="__max__",Lc={mapValue:{}},zb="__vector__",nh="value";function vr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qm(i)?4:Z2(i)?9007199254740991:$2(i)?10:11:De(28295,{value:i})}function $s(i,e){if(i===e)return!0;const s=vr(i);if(s!==vr(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Bo(i).isEqual(Bo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=yr(o.timestampValue),y=yr(c.timestampValue);return f.seconds===y.seconds&&f.nanos===y.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return _r(o.bytesValue).isEqual(_r(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Pt(o.geoPointValue.latitude)===Pt(c.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Pt(o.integerValue)===Pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Pt(o.doubleValue),y=Pt(c.doubleValue);return f===y?eh(f)===eh(y):isNaN(f)&&isNaN(y)}return!1})(i,e);case 9:return fl(i.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},y=c.mapValue.fields||{};if(X_(f)!==X_(y))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(y[v]===void 0||!$s(f[v],y[v])))return!1;return!0})(i,e);default:return De(52216,{left:i})}}function Fo(i,e){return(i.values||[]).find((s=>$s(s,e)))!==void 0}function ml(i,e){if(i===e)return 0;const s=vr(i),r=vr(e);if(s!==r)return $e(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return $e(i.booleanValue,e.booleanValue);case 2:return(function(c,f){const y=Pt(c.integerValue||c.doubleValue),v=Pt(f.integerValue||f.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(i,e);case 3:return Z_(i.timestampValue,e.timestampValue);case 4:return Z_(Bo(i),Bo(e));case 5:return vm(i.stringValue,e.stringValue);case 6:return(function(c,f){const y=_r(c),v=_r(f);return y.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(c,f){const y=c.split("/"),v=f.split("/");for(let _=0;_<y.length&&_<v.length;_++){const x=$e(y[_],v[_]);if(x!==0)return x}return $e(y.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,f){const y=$e(Pt(c.latitude),Pt(f.latitude));return y!==0?y:$e(Pt(c.longitude),Pt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return J_(i.arrayValue,e.arrayValue);case 10:return(function(c,f){const y=c.fields||{},v=f.fields||{},_=y[nh]?.arrayValue,x=v[nh]?.arrayValue,S=$e(_?.values?.length||0,x?.values?.length||0);return S!==0?S:J_(_,x)})(i.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Lc.mapValue&&f===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(f===Lc.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),_=f.fields||{},x=Object.keys(_);v.sort(),x.sort();for(let S=0;S<v.length&&S<x.length;++S){const O=vm(v[S],x[S]);if(O!==0)return O;const K=ml(y[v[S]],_[x[S]]);if(K!==0)return K}return $e(v.length,x.length)})(i.mapValue,e.mapValue);default:throw De(23264,{he:s})}}function Z_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return $e(i,e);const s=yr(i),r=yr(e),o=$e(s.seconds,r.seconds);return o!==0?o:$e(s.nanos,r.nanos)}function J_(i,e){const s=i.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const c=ml(s[o],r[o]);if(c)return c}return $e(s.length,r.length)}function pl(i){return bm(i)}function bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=yr(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return _r(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return be.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",o=!0;for(const c of s.values||[])o?o=!1:r+=",",r+=bm(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${bm(s.fields[f])}`;return o+"}"})(i.mapValue):De(61005,{value:i})}function Hc(i){switch(vr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(i);return e?16+Hc(e):16;case 5:return 2*i.stringValue.length;case 6:return _r(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Hc(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Tr(r.fields,((c,f)=>{o+=c.length+Hc(f)})),o})(i.mapValue);default:throw De(13486,{value:i})}}function W_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Em(i){return!!i&&"integerValue"in i}function Ym(i){return!!i&&"arrayValue"in i}function ev(i){return!!i&&"nullValue"in i}function tv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fc(i){return!!i&&"mapValue"in i}function $2(i){return(i?.mapValue?.fields||{})[Pb]?.stringValue===zb}function Vo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Tr(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=Vo(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Vo(i.arrayValue.values[s]);return e}return{...i}}function Z2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===X2}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Fc(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vo(s)}setAll(e){let s=mn.emptyPath(),r={},o=[];e.forEach(((f,y)=>{if(!s.isImmediateParentOf(y)){const v=this.getFieldsMap(s);this.applyChanges(v,r,o),r={},o=[],s=y.popLast()}f?r[y.lastSegment()]=Vo(f):o.push(y.lastSegment())}));const c=this.getFieldsMap(s);this.applyChanges(c,r,o)}delete(e){const s=this.field(e.popLast());Fc(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){Tr(s,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Mn(Vo(this.value))}}function qb(i){const e=[];return Tr(i.fields,((s,r)=>{const o=new mn([s]);if(Fc(r)){const c=qb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Fn(e)}class vn{constructor(e,s,r,o,c,f,y){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=y}static newInvalidDocument(e){return new vn(e,0,Ve.min(),Ve.min(),Ve.min(),Mn.empty(),0)}static newFoundDocument(e,s,r,o){return new vn(e,1,s,Ve.min(),r,o,0)}static newNoDocument(e,s){return new vn(e,2,s,Ve.min(),Ve.min(),Mn.empty(),0)}static newUnknownDocument(e,s){return new vn(e,3,s,Ve.min(),Ve.min(),Mn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,s){this.position=e,this.inclusive=s}}function nv(i,e,s){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],f=i.position[o];if(c.field.isKeyField()?r=be.comparator(be.fromName(f.referenceValue),s.key):r=ml(f,s.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function sv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!$s(i.position[s],e.position[s]))return!1;return!0}class Go{constructor(e,s="asc"){this.field=e,this.dir=s}}function J2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Bb{}class Xt extends Bb{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new ew(e,s,r):s==="array-contains"?new sw(e,r):s==="in"?new iw(e,r):s==="not-in"?new rw(e,r):s==="array-contains-any"?new aw(e,r):new Xt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new tw(e,r):new nw(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(ml(s,this.value)):s!==null&&vr(this.value)===vr(s)&&this.matchesComparison(ml(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends Bb{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new bs(e,s)}matches(e){return Hb(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Hb(i){return i.op==="and"}function Fb(i){return W2(i)&&Hb(i)}function W2(i){for(const e of i.filters)if(e instanceof bs)return!1;return!0}function Tm(i){if(i instanceof Xt)return i.field.canonicalString()+i.op.toString()+pl(i.value);if(Fb(i))return i.filters.map((e=>Tm(e))).join(",");{const e=i.filters.map((s=>Tm(s))).join(",");return`${i.op}(${e})`}}function Gb(i,e){return i instanceof Xt?(function(r,o){return o instanceof Xt&&r.op===o.op&&r.field.isEqual(o.field)&&$s(r.value,o.value)})(i,e):i instanceof bs?(function(r,o){return o instanceof bs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,y)=>c&&Gb(f,o.filters[y])),!0):!1})(i,e):void De(19439)}function Qb(i){return i instanceof Xt?(function(s){return`${s.field.canonicalString()} ${s.op} ${pl(s.value)}`})(i):i instanceof bs?(function(s){return s.op.toString()+" {"+s.getFilters().map(Qb).join(" ,")+"}"})(i):"Filter"}class ew extends Xt{constructor(e,s,r){super(e,s,r),this.key=be.fromName(r.referenceValue)}matches(e){const s=be.comparator(e.key,this.key);return this.matchesComparison(s)}}class tw extends Xt{constructor(e,s){super(e,"in",s),this.keys=Yb("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class nw extends Xt{constructor(e,s){super(e,"not-in",s),this.keys=Yb("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function Yb(i,e){return(e.arrayValue?.values||[]).map((s=>be.fromName(s.referenceValue)))}class sw extends Xt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Ym(s)&&Fo(s.arrayValue,this.value)}}class iw extends Xt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Fo(this.value.arrayValue,s)}}class rw extends Xt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Fo(this.value.arrayValue,s)}}class aw extends Xt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Ym(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Fo(this.value.arrayValue,r)))}}class lw{constructor(e,s=null,r=[],o=[],c=null,f=null,y=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=y,this.Te=null}}function iv(i,e=null,s=[],r=[],o=null,c=null,f=null){return new lw(i,e,s,r,o,c,f)}function Km(i){const e=Pe(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>Tm(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Eh(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>pl(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>pl(r))).join(",")),e.Te=s}return e.Te}function Xm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!J2(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!Gb(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sv(i.startAt,e.startAt)&&sv(i.endAt,e.endAt)}function xm(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Sl{constructor(e,s=null,r=[],o=[],c=null,f="F",y=null,v=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ow(i,e,s,r,o,c,f,y){return new Sl(i,e,s,r,o,c,f,y)}function xh(i){return new Sl(i)}function rv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Kb(i){return i.collectionGroup!==null}function jo(i){const e=Pe(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),s.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let y=new en(mn.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{s.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Go(c,r))})),s.has(mn.keyField().canonicalString())||e.Ie.push(new Go(mn.keyField(),r))}return e.Ie}function Gs(i){const e=Pe(i);return e.Ee||(e.Ee=uw(e,jo(i))),e.Ee}function uw(i,e){if(i.limitType==="F")return iv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Go(o.field,c)}));const s=i.endAt?new sh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new sh(i.startAt.position,i.startAt.inclusive):null;return iv(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function Sm(i,e){const s=i.filters.concat([e]);return new Sl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}function Am(i,e,s){return new Sl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function Sh(i,e){return Xm(Gs(i),Gs(e))&&i.limitType===e.limitType}function Xb(i){return`${Km(Gs(i))}|lt:${i.limitType}`}function il(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>Qb(o))).join(", ")}]`),Eh(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>pl(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>pl(o))).join(",")),`Target(${r})`})(Gs(i))}; limitType=${i.limitType})`}function Ah(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of jo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(f,y,v){const _=nv(f,y,v);return f.inclusive?_<=0:_<0})(r.startAt,jo(r),o)||r.endAt&&!(function(f,y,v){const _=nv(f,y,v);return f.inclusive?_>=0:_>0})(r.endAt,jo(r),o))})(i,e)}function cw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $b(i){return(e,s)=>{let r=!1;for(const o of jo(i)){const c=hw(o,e,s);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function hw(i,e,s){const r=i.field.isKeyField()?be.comparator(e.key,s.key):(function(c,f,y){const v=f.data.field(c),_=y.data.field(c);return v!==null&&_!==null?ml(v,_):De(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:i.dir})}}class da{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((s,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}}const dw=new It(be.comparator);function xi(){return dw}const Zb=new It(be.comparator);function Do(...i){let e=Zb;for(const s of i)e=e.insert(s.key,s);return e}function Jb(i){let e=Zb;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function na(){return Lo()}function Wb(){return Lo()}function Lo(){return new da((i=>i.toString()),((i,e)=>i.isEqual(e)))}const fw=new It(be.comparator),mw=new en(be.comparator);function Ze(...i){let e=mw;for(const s of i)e=e.add(s);return e}const pw=new en($e);function gw(){return pw}function $m(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function e1(i){return{integerValue:""+i}}function yw(i,e){return F2(e)?e1(e):$m(i,e)}class wh{constructor(){this._=void 0}}function _w(i,e,s){return i instanceof ih?(function(o,c){const f={fields:{[jb]:{stringValue:Vb},[Ub]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Qm(c)&&(c=Th(c)),c&&(f.fields[Lb]=c),{mapValue:f}})(s,e):i instanceof Qo?n1(i,e):i instanceof Yo?s1(i,e):(function(o,c){const f=t1(o,c),y=av(f)+av(o.Ae);return Em(f)&&Em(o.Ae)?e1(y):$m(o.serializer,y)})(i,e)}function vw(i,e,s){return i instanceof Qo?n1(i,e):i instanceof Yo?s1(i,e):s}function t1(i,e){return i instanceof rh?(function(r){return Em(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class ih extends wh{}class Qo extends wh{constructor(e){super(),this.elements=e}}function n1(i,e){const s=i1(e);for(const r of i.elements)s.some((o=>$s(o,r)))||s.push(r);return{arrayValue:{values:s}}}class Yo extends wh{constructor(e){super(),this.elements=e}}function s1(i,e){let s=i1(e);for(const r of i.elements)s=s.filter((o=>!$s(o,r)));return{arrayValue:{values:s}}}class rh extends wh{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function av(i){return Pt(i.integerValue||i.doubleValue)}function i1(i){return Ym(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function bw(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Qo&&o instanceof Qo||r instanceof Yo&&o instanceof Yo?fl(r.elements,o.elements,$s):r instanceof rh&&o instanceof rh?$s(r.Ae,o.Ae):r instanceof ih&&o instanceof ih})(i.transform,e.transform)}class Ew{constructor(e,s){this.version=e,this.transformResults=s}}class rs{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Nh{}function r1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Zm(i.key,rs.none()):new Jo(i.key,i.data,rs.none());{const s=i.data,r=Mn.empty();let o=new en(mn.comparator);for(let c of e.fields)if(!o.has(c)){let f=s.field(c);f===null&&c.length>1&&(c=c.popLast(),f=s.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new xr(i.key,r,new Fn(o.toArray()),rs.none())}}function Tw(i,e,s){i instanceof Jo?(function(o,c,f){const y=o.value.clone(),v=ov(o.fieldTransforms,c,f.transformResults);y.setAll(v),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(i,e,s):i instanceof xr?(function(o,c,f){if(!Gc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const y=ov(o.fieldTransforms,c,f.transformResults),v=c.data;v.setAll(a1(o)),v.setAll(y),c.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(i,e,s):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,s)}function Uo(i,e,s,r){return i instanceof Jo?(function(c,f,y,v){if(!Gc(c.precondition,f))return y;const _=c.value.clone(),x=uv(c.fieldTransforms,v,f);return _.setAll(x),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(i,e,s,r):i instanceof xr?(function(c,f,y,v){if(!Gc(c.precondition,f))return y;const _=uv(c.fieldTransforms,v,f),x=f.data;return x.setAll(a1(c)),x.setAll(_),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(i,e,s,r):(function(c,f,y){return Gc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):y})(i,e,s)}function xw(i,e){let s=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=t1(r.transform,o||null);c!=null&&(s===null&&(s=Mn.empty()),s.set(r.field,c))}return s||null}function lv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&fl(r,o,((c,f)=>bw(c,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Jo extends Nh{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xr extends Nh{constructor(e,s,r,o,c=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function a1(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function ov(i,e,s){const r=new Map;ut(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const c=i[o],f=c.transform,y=e.data.field(c.field);r.set(c.field,vw(f,y,s[o]))}return r}function uv(i,e,s){const r=new Map;for(const o of i){const c=o.transform,f=s.data.field(o.field);r.set(o.field,_w(c,f,e))}return r}class Zm extends Nh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sw extends Nh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Tw(c,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Uo(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Uo(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=Wb();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let y=this.applyToLocalView(f,c.mutatedFields);y=s.has(o.key)?null:y;const v=r1(f,y);v!==null&&r.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((s,r)=>lv(s,r)))&&fl(this.baseMutations,e.baseMutations,((s,r)=>lv(s,r)))}}class Jm{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return fw})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new Jm(e,s,r,o)}}class ww{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Nw{constructor(e,s){this.count=e,this.unchangedNames=s}}var Kt,tt;function Rw(i){switch(i){case $.OK:return De(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return De(15467,{code:i})}}function l1(i){if(i===void 0)return Ti("GRPC error has no .code"),$.UNKNOWN;switch(i){case Kt.OK:return $.OK;case Kt.CANCELLED:return $.CANCELLED;case Kt.UNKNOWN:return $.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return $.INTERNAL;case Kt.UNAVAILABLE:return $.UNAVAILABLE;case Kt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Kt.NOT_FOUND:return $.NOT_FOUND;case Kt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Kt.ABORTED:return $.ABORTED;case Kt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Kt.DATA_LOSS:return $.DATA_LOSS;default:return De(39323,{code:i})}}(tt=Kt||(Kt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function Cw(){return new TextEncoder}const Iw=new mr([4294967295,4294967295],0);function cv(i){const e=Cw().encode(i),s=new Tb;return s.update(e),new Uint8Array(s.digest())}function hv(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new mr([s,r],0),new mr([o,c],0)]}class Wm{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new Mo(`Invalid padding: ${s}`);if(r<0)throw new Mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=mr.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(mr.fromNumber(r)));return o.compare(Iw)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=cv(e),[r,o]=hv(s);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Wm(c,o,s);return r.forEach((y=>f.insert(y))),f}insert(e){if(this.ge===0)return;const s=cv(e),[r,o]=hv(s);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.Se(f)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,s,r,o,c){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,Wo.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Rh(Ve.min(),o,new It($e),xi(),Ze())}}class Wo{constructor(e,s,r,o,c){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Wo(r,s,Ze(),Ze(),Ze())}}class Qc{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class o1{constructor(e,s){this.targetId=e,this.Ce=s}}class u1{constructor(e,s,r=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class dv{constructor(){this.ve=0,this.Fe=fv(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),s=Ze(),r=Ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:De(38017,{changeType:c})}})),new Wo(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=fv()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dw{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi(),this.Je=Uc(),this.He=Uc(),this.Ye=new It($e)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const c=o.target;if(xm(c))if(r===0){const f=new be(c.path);this.et(s,f,vn.newNoDocument(f,Ve.min()))}else ut(r===1,20013,{expectedCount:r});else{const f=this._t(s);if(f!==r){const y=this.ut(e),v=y?this.ct(y,e,f):1;if(v!==0){this.it(s);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,_)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=s;let f,y;try{f=_r(r).toUint8Array()}catch(v){if(v instanceof kb)return dl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Wm(f,o,c)}catch(v){return dl(v instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),y=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(s,c,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((c,f)=>{const y=this.ot(f);if(y){if(c.current&&xm(y.target)){const v=new be(y.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,vn.newNoDocument(v,e))}c.Be&&(s.set(f,c.ke()),c.qe())}}));let r=Ze();this.He.forEach(((c,f)=>{let y=!0;f.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Rh(e,s,this.Ye,this.je,r);return this.je=xi(),this.Je=Uc(),this.He=Uc(),this.Ye=new It($e),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new dv,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new en($e),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new en($e),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||he("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dv),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Uc(){return new It(be.comparator)}function fv(){return new It(be.comparator)}const Mw={asc:"ASCENDING",desc:"DESCENDING"},Ow={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kw={and:"AND",or:"OR"};class Vw{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function wm(i,e){return i.useProto3Json||Eh(e)?e:{value:e}}function ah(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jw(i,e){return ah(i,e.toTimestamp())}function Qs(i){return ut(!!i,49232),Ve.fromTimestamp((function(s){const r=yr(s);return new Nt(r.seconds,r.nanos)})(i))}function ep(i,e){return Nm(i,e).canonicalString()}function Nm(i,e){const s=(function(o){return new xt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function h1(i){const e=xt.fromString(i);return ut(g1(e),10190,{key:e.toString()}),e}function Rm(i,e){return ep(i.databaseId,e.path)}function tm(i,e){const s=h1(e);if(s.get(1)!==i.databaseId.projectId)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new ce($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new be(f1(s))}function d1(i,e){return ep(i.databaseId,e)}function Lw(i){const e=h1(i);return e.length===4?xt.emptyPath():f1(e)}function Cm(i){return new xt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function f1(i){return ut(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mv(i,e,s){return{name:Rm(i,e),fields:s.value.mapValue.fields}}function Uw(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:De(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(ut(x===void 0||typeof x=="string",58123),pn.fromBase64String(x||"")):(ut(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),pn.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&(function(_){const x=_.code===void 0?$.UNKNOWN:l1(_.code);return new ce(x,_.message||"")})(f);s=new u1(r,o,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=tm(i,r.document.name),c=Qs(r.document.updateTime),f=r.document.createTime?Qs(r.document.createTime):Ve.min(),y=new Mn({mapValue:{fields:r.document.fields}}),v=vn.newFoundDocument(o,c,f,y),_=r.targetIds||[],x=r.removedTargetIds||[];s=new Qc(_,x,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=tm(i,r.document),c=r.readTime?Qs(r.readTime):Ve.min(),f=vn.newNoDocument(o,c),y=r.removedTargetIds||[];s=new Qc([],y,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=tm(i,r.document),c=r.removedTargetIds||[];s=new Qc([],c,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new Nw(o,c),y=r.targetId;s=new o1(y,f)}}return s}function Pw(i,e){let s;if(e instanceof Jo)s={update:mv(i,e.key,e.value)};else if(e instanceof Zm)s={delete:Rm(i,e.key)};else if(e instanceof xr)s={update:mv(i,e.key,e.data),updateMask:Kw(e.fieldMask)};else{if(!(e instanceof Sw))return De(16599,{Vt:e.type});s={verify:Rm(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const y=f.transform;if(y instanceof ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Qo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Yo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof rh)return{fieldPath:f.field.canonicalString(),increment:y.Ae};throw De(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:jw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:De(27497)})(i,e.precondition)),s}function zw(i,e){return i&&i.length>0?(ut(e!==void 0,14353),i.map((s=>(function(o,c){let f=o.updateTime?Qs(o.updateTime):Qs(c);return f.isEqual(Ve.min())&&(f=Qs(c)),new Ew(f,o.transformResults||[])})(s,e)))):[]}function qw(i,e){return{documents:[d1(i,e.path)]}}function Bw(i,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=d1(i,o);const c=(function(_){if(_.length!==0)return p1(bs.create(_,"and"))})(e.filters);c&&(s.structuredQuery.where=c);const f=(function(_){if(_.length!==0)return _.map((x=>(function(O){return{field:rl(O.field),direction:Gw(O.dir)}})(x)))})(e.orderBy);f&&(s.structuredQuery.orderBy=f);const y=wm(i,e.limit);return y!==null&&(s.structuredQuery.limit=y),e.startAt&&(s.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:s,parent:o}}function Hw(i){let e=Lw(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){ut(r===1,65062);const x=s.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];s.where&&(c=(function(S){const O=m1(S);return O instanceof bs&&Fb(O)?O.getFilters():[O]})(s.where));let f=[];s.orderBy&&(f=(function(S){return S.map((O=>(function(se){return new Go(al(se.field),(function(ie){switch(ie){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(se.direction))})(O)))})(s.orderBy));let y=null;s.limit&&(y=(function(S){let O;return O=typeof S=="object"?S.value:S,Eh(O)?null:O})(s.limit));let v=null;s.startAt&&(v=(function(S){const O=!!S.before,K=S.values||[];return new sh(K,O)})(s.startAt));let _=null;return s.endAt&&(_=(function(S){const O=!S.before,K=S.values||[];return new sh(K,O)})(s.endAt)),ow(e,o,f,c,y,"F",v,_)}function Fw(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function m1(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=al(s.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=al(s.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=al(s.unaryFilter.field);return Xt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=al(s.unaryFilter.field);return Xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(i):i.fieldFilter!==void 0?(function(s){return Xt.create(al(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return bs.create(s.compositeFilter.filters.map((r=>m1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(s.compositeFilter.op))})(i):De(30097,{filter:i})}function Gw(i){return Mw[i]}function Qw(i){return Ow[i]}function Yw(i){return kw[i]}function rl(i){return{fieldPath:i.canonicalString()}}function al(i){return mn.fromServerFormat(i.fieldPath)}function p1(i){return i instanceof Xt?(function(s){if(s.op==="=="){if(tv(s.value))return{unaryFilter:{field:rl(s.field),op:"IS_NAN"}};if(ev(s.value))return{unaryFilter:{field:rl(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(tv(s.value))return{unaryFilter:{field:rl(s.field),op:"IS_NOT_NAN"}};if(ev(s.value))return{unaryFilter:{field:rl(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(s.field),op:Qw(s.op),value:s.value}}})(i):i instanceof bs?(function(s){const r=s.getFilters().map((o=>p1(o)));return r.length===1?r[0]:{compositeFilter:{op:Yw(s.op),filters:r}}})(i):De(54877,{filter:i})}function Kw(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function g1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class cr{constructor(e,s,r,o,c=Ve.min(),f=Ve.min(),y=pn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xw{constructor(e){this.yt=e}}function $w(i){const e=Hw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Am(e,e.limit,"L"):e}class Zw{constructor(){this.Cn=new Jw}addToCollectionParentIndex(e,s){return this.Cn.add(s),W.resolve()}getCollectionParents(e,s){return W.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return W.resolve()}deleteFieldIndex(e,s){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,s){return W.resolve()}getDocumentsMatchingTarget(e,s){return W.resolve(null)}getIndexType(e,s){return W.resolve(0)}getFieldIndexes(e,s){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,s){return W.resolve(gr.min())}getMinOffsetFromCollectionGroup(e,s){return W.resolve(gr.min())}updateCollectionGroup(e,s,r){return W.resolve()}updateIndexEntries(e,s){return W.resolve()}}class Jw{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new en(xt.comparator),c=!o.has(r);return this.index[s]=o.add(r),c}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new en(xt.comparator)).toArray()}}const pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(y1,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}const gv="LruGarbageCollector",Ww=1048576;function yv([i,e],[s,r]){const o=$e(i,s);return o===0?$e(e,r):o}class eN{constructor(e){this.Ir=e,this.buffer=new en(yv),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();yv(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class tN{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(gv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){xl(s)?he(gv,"Ignoring IndexedDB error during garbage collection: ",s):await Tl(s)}await this.Vr(3e5)}))}}class nN{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return W.resolve(bh.ce);const r=new eN(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(pv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pv):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,c,f,y,v,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,y=Date.now(),this.removeTargets(e,r,s)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),sl()<=Xe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-x}ms
	Determined least recently used ${o} in `+(y-f)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-x}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function sN(i,e){return new nN(i,e)}class iN{constructor(){this.changes=new da((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?W.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rN{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class aN{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&Uo(r.mutation,o,Fn.empty(),Nt.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=Ze()){const o=na();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((c=>{let f=Do();return c.forEach(((y,v)=>{f=f.insert(y,v.overlayedDocument)})),f}))))}getOverlayedDocuments(e,s){const r=na();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,Ze())))}populateOverlays(e,s,r){const o=[];return r.forEach((c=>{s.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,y)=>{s.set(f,y)}))}))}computeViews(e,s,r,o){let c=xi();const f=Lo(),y=(function(){return Lo()})();return s.forEach(((v,_)=>{const x=r.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof xr)?c=c.insert(_.key,_):x!==void 0?(f.set(_.key,x.mutation.getFieldMask()),Uo(x.mutation,_,x.mutation.getFieldMask(),Nt.now())):f.set(_.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,x)=>f.set(_,x))),s.forEach(((_,x)=>y.set(_,new rN(x,f.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,s){const r=Lo();let o=new It(((f,y)=>f-y)),c=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((f=>{for(const y of f)y.keys().forEach((v=>{const _=s.get(v);if(_===null)return;let x=r.get(v)||Fn.empty();x=y.applyToLocalView(_,x),r.set(v,x);const S=(o.get(y.batchId)||Ze()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const f=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,x=v.value,S=Wb();x.forEach((O=>{if(!c.has(O)){const K=r1(s.get(O),r.get(O));K!==null&&S.set(O,K),c=c.add(O)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,S))}return W.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):Kb(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-c.size):W.resolve(na());let y=qo,v=c;return f.next((_=>W.forEach(_,((x,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(x)?W.resolve():this.remoteDocumentCache.getEntry(e,x).next((O=>{v=v.insert(x,O)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Ze()))).next((x=>({batchId:y,changes:Jb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new be(s)).next((r=>{let o=Do();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const c=s.collectionGroup;let f=Do();return this.indexManager.getCollectionParents(e,c).next((y=>W.forEach(y,(v=>{const _=(function(S,O){return new Sl(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(s,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((x=>{x.forEach(((S,O)=>{f=f.insert(S,O)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,c,o)))).next((f=>{c.forEach(((v,_)=>{const x=_.getKey();f.get(x)===null&&(f=f.insert(x,vn.newInvalidDocument(x)))}));let y=Do();return f.forEach(((v,_)=>{const x=c.get(v);x!==void 0&&Uo(x.mutation,_,Fn.empty(),Nt.now()),Ah(s,_)&&(y=y.insert(v,_))})),y}))}}class lN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return W.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:Qs(o.createTime)}})(s)),W.resolve()}getNamedQuery(e,s){return W.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:$w(o.bundledQuery),readTime:Qs(o.readTime)}})(s)),W.resolve()}}class oN{constructor(){this.overlays=new It(be.comparator),this.qr=new Map}getOverlay(e,s){return W.resolve(this.overlays.get(s))}getOverlays(e,s){const r=na();return W.forEach(s,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,c)=>{this.St(e,s,c)})),W.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),W.resolve()}getOverlaysForCollection(e,s,r){const o=na(),c=s.length+1,f=new be(s.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!s.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return W.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let c=new It(((_,x)=>_-x));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===s&&_.largestBatchId>r){let x=c.get(_.largestBatchId);x===null&&(x=na(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const y=na(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,x)=>y.set(_,x))),!(y.size()>=o)););return W.resolve(y)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new ww(s,r));let c=this.qr.get(s);c===void 0&&(c=Ze(),this.qr.set(s,c)),this.qr.set(s,c.add(r.key))}}class uN{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,W.resolve()}}class tp{constructor(){this.Qr=new en(rn.$r),this.Ur=new en(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new rn(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new rn(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new be(new xt([])),r=new rn(s,e),o=new rn(s,e+1),c=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new be(new xt([])),r=new rn(s,e),o=new rn(s,e+1);let c=Ze();return this.Ur.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const s=new rn(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return be.comparator(e.key,s.key)||$e(e.Yr,s.Yr)}static Kr(e,s){return $e(e.Yr,s.Yr)||be.comparator(e.key,s.key)}}class cN{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new en(rn.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Aw(c,s,r,o);this.mutationQueue.push(f);for(const y of o)this.Zr=this.Zr.add(new rn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,s){return W.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new rn(s,0),o=new rn(s,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(f=>{const y=this.Xr(f.Yr);c.push(y)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new en($e);return s.forEach((o=>{const c=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(y=>{r=r.add(y.Yr)}))})),W.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const f=new rn(new be(c),0);let y=new en($e);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),f),W.resolve(this.ti(y))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){ut(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return W.forEach(s.mutations,(o=>{const c=new rn(o.key,s.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new rn(s,0),o=this.Zr.firstAfterOrEqual(r);return W.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class hN{constructor(e){this.ri=e,this.docs=(function(){return new It(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),c=o?o.size:0,f=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return W.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(s))}getEntries(e,s){let r=xi();return s.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():vn.newInvalidDocument(o))})),W.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let c=xi();const f=s.path,y=new be(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:x}}=v.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||z2(P2(x),r)<=0||(o.has(x.key)||Ah(s,x))&&(c=c.insert(x.key,x.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,s,r,o){De(9500)}ii(e,s){return W.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new dN(this)}getSize(e){return W.resolve(this.size)}}class dN extends iN{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),W.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}class fN{constructor(e){this.persistence=e,this.si=new da((s=>Km(s)),Xm),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new tp,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),W.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new gl(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,W.resolve()}updateTargetData(e,s){return this.Pr(s),W.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,s,r){let o=0;const c=[];return this.si.forEach(((f,y)=>{y.sequenceNumber<=s&&r.get(y.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),W.waitFor(c).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return W.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),W.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,c=[];return o&&s.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(c)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),W.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return W.resolve(r)}containsKey(e,s){return W.resolve(this._i.containsKey(s))}}class _1{constructor(e,s){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new uN,this.referenceDelegate=e(this),this.Pi=new fN(this),this.indexManager=new Zw,this.remoteDocumentCache=(function(o){return new hN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Xw(s),this.Ii=new lN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new oN,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new cN(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){he("MemoryPersistence","Starting transaction:",e);const o=new mN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,s){return W.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class mN extends B2{constructor(e){super(),this.currentSequenceNumber=e}}class np{constructor(e){this.persistence=e,this.Ri=new tp,this.Vi=null}static mi(e){return new np(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),W.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),W.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(r=>{const o=be.fromPath(r);return this.gi(e,o).next((c=>{c||s.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return W.or([()=>W.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class lh{constructor(e,s){this.persistence=e,this.pi=new da((r=>G2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=sN(this,s)}static mi(e,s){return new lh(e,s)}Ei(){}di(e){return W.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return W.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?W.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,s).next((y=>{y||(r++,c.removeEntry(f,Ve.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=Hc(e.data.value)),s}br(e,s,r){return W.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return W.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sp{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=Ze(),o=Ze();for(const c of s.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new sp(e,s.fromCache,r,o)}}class pN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lA()?8:H2(bn())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const c={result:null};return this.ys(e,s).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,s,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new pN;return this.Ss(e,s,f).next((y=>{if(c.result=y,this.Vs)return this.bs(e,s,f,y.size)}))})).next((()=>c.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?(sl()<=Xe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",il(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(sl()<=Xe.DEBUG&&he("QueryEngine","Query:",il(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(sl()<=Xe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",il(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(s))):W.resolve())}ys(e,s){if(rv(s))return W.resolve(null);let r=Gs(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=Am(s,null,"F"),r=Gs(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=Ze(...c);return this.ps.getDocuments(e,f).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(s,y);return this.Cs(s,_,f,v.readTime)?this.ys(e,Am(s,null,"F")):this.vs(e,_,s,v)}))))})))))}ws(e,s,r,o){return rv(s)||o.isEqual(Ve.min())?W.resolve(null):this.ps.getDocuments(e,r).next((c=>{const f=this.Ds(s,c);return this.Cs(s,f,r,o)?W.resolve(null):(sl()<=Xe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),il(s)),this.vs(e,f,s,U2(o,qo)).next((y=>y)))}))}Ds(e,s){let r=new en($b(e));return s.forEach(((o,c)=>{Ah(e,c)&&(r=r.add(c))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const c=e.limitType==="F"?s.last():s.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,s,r){return sl()<=Xe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",il(s)),this.ps.getDocumentsMatchingQuery(e,s,gr.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(s.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const ip="LocalStore",yN=3e8;class _N{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new It($e),this.xs=new da((c=>Km(c)),Xm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function vN(i,e,s,r){return new _N(i,e,s,r)}async function v1(i,e){const s=Pe(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],y=[];let v=Ze();for(const _ of o){f.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}for(const _ of c){y.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}return s.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:y})))}))}))}function bN(i,e){const s=Pe(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,x){const S=_.batch,O=S.keys();let K=W.resolve();return O.forEach((se=>{K=K.next((()=>x.getEntry(v,se))).next((re=>{const ie=_.docVersions.get(se);ut(ie!==null,48541),re.version.compareTo(ie)<0&&(S.applyToRemoteDocument(re,_),re.isValidDocument()&&(re.setReadTime(_.commitVersion),x.addEntry(re)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(s,r,e,c).next((()=>c.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Ze();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function b1(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function EN(i,e){const s=Pe(i),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const y=[];e.targetChanges.forEach(((x,S)=>{const O=o.get(S);if(!O)return;y.push(s.Pi.removeMatchingKeys(c,x.removedDocuments,S).next((()=>s.Pi.addMatchingKeys(c,x.addedDocuments,S))));let K=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?K=K.withResumeToken(pn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):x.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(x.resumeToken,r)),o=o.insert(S,K),(function(re,ie,xe){return re.resumeToken.approximateByteSize()===0||ie.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=yN?!0:xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0})(O,K,x)&&y.push(s.Pi.updateTargetData(c,K))}));let v=xi(),_=Ze();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&y.push(s.persistence.referenceDelegate.updateLimboDocument(c,x))})),y.push(TN(c,f,e.documentUpdates).next((x=>{v=x.ks,_=x.qs}))),!r.isEqual(Ve.min())){const x=s.Pi.getLastRemoteSnapshotVersion(c).next((S=>s.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(x)}return W.waitFor(y).next((()=>f.apply(c))).next((()=>s.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(s.Ms=o,c)))}function TN(i,e,s){let r=Ze(),o=Ze();return s.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let f=xi();return s.forEach(((y,v)=>{const _=c.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Ve.min())?(e.removeEntry(y,v.readTime),f=f.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),f=f.insert(y,v)):he(ip,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function xN(i,e){const s=Pe(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Gm),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function SN(i,e){const s=Pe(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((c=>c?(o=c,W.resolve(o)):s.Pi.allocateTargetId(r).next((f=>(o=new cr(e,f,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function Im(i,e,s){const r=Pe(i),o=r.Ms.get(e),c=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xl(f))throw f;he(ip,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function _v(i,e,s){const r=Pe(i);let o=Ve.min(),c=Ze();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,_,x){const S=Pe(v),O=S.xs.get(x);return O!==void 0?W.resolve(S.Ms.get(O)):S.Pi.getTargetData(_,x)})(r,f,Gs(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,y.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,s?o:Ve.min(),s?c:Ze()))).next((y=>(AN(r,cw(e),y),{documents:y,Qs:c})))))}function AN(i,e,s){let r=i.Os.get(e)||Ve.min();s.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class vv{constructor(){this.activeTargetIds=gw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wN{constructor(){this.Mo=new vv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vv,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NN{Oo(e){}shutdown(){}}const bv="ConnectivityMonitor";class Ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(bv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(bv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Dm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const nm="RestConnection",RN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,c){const f=Dm(),y=this.zo(e,s.toUriEncodedString());he(nm,`Sending RPC '${e}' ${f}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(y),x=vl(_);return this.Jo(e,y,v,r,x).then((S=>(he(nm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw dl(nm,`RPC '${e}' ${f} failed with error: `,S,"url: ",y,"request:",r),S}))}Ho(e,s,r,o,c,f){return this.Go(e,s,r,o,c)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,s){const r=RN[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}class IN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const yn="WebChannelConnection";class DN extends CN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,c){const f=Dm();return new Promise(((y,v)=>{const _=new xb;_.setWithCredentials(!0),_.listenOnce(Sb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const S=_.getResponseJson();he(yn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),y(S);break;case Bc.TIMEOUT:he(yn,`RPC '${e}' ${f} timed out`),v(new ce($.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const O=_.getStatus();if(he(yn,`RPC '${e}' ${f} failed with status:`,O,"response text:",_.getResponseText()),O>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const se=K?.error;if(se&&se.status&&se.message){const re=(function(xe){const je=xe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(je)>=0?je:$.UNKNOWN})(se.status);v(new ce(re,se.message))}else v(new ce($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ce($.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{he(yn,`RPC '${e}' ${f} completed.`)}}));const x=JSON.stringify(o);he(yn,`RPC '${e}' ${f} sending request:`,o),_.send(s,"POST",x,r,15)}))}T_(e,s,r){const o=Dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Nb(),y=wb(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,s,r),v.encodeInitMessageHeaders=!0;const x=c.join("");he(yn,`Creating RPC '${e}' stream ${o}: ${x}`,v);const S=f.createWebChannel(x,v);this.I_(S);let O=!1,K=!1;const se=new IN({Yo:ie=>{K?he(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,ie):(O||(he(yn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),O=!0),he(yn,`RPC '${e}' stream ${o} sending:`,ie),S.send(ie))},Zo:()=>S.close()}),re=(ie,xe,je)=>{ie.listen(xe,(Re=>{try{je(Re)}catch(ot){setTimeout((()=>{throw ot}),0)}}))};return re(S,Io.EventType.OPEN,(()=>{K||(he(yn,`RPC '${e}' stream ${o} transport opened.`),se.o_())})),re(S,Io.EventType.CLOSE,(()=>{K||(K=!0,he(yn,`RPC '${e}' stream ${o} transport closed`),se.a_(),this.E_(S))})),re(S,Io.EventType.ERROR,(ie=>{K||(K=!0,dl(yn,`RPC '${e}' stream ${o} transport errored. Name:`,ie.name,"Message:",ie.message),se.a_(new ce($.UNAVAILABLE,"The operation could not be completed")))})),re(S,Io.EventType.MESSAGE,(ie=>{if(!K){const xe=ie.data[0];ut(!!xe,16349);const je=xe,Re=je?.error||je[0]?.error;if(Re){he(yn,`RPC '${e}' stream ${o} received error:`,Re);const ot=Re.status;let _t=(function(A){const C=Kt[A];if(C!==void 0)return l1(C)})(ot),Je=Re.message;_t===void 0&&(_t=$.INTERNAL,Je="Unknown error status: "+ot+" with message "+Re.message),K=!0,se.a_(new ce(_t,Je)),S.close()}else he(yn,`RPC '${e}' stream ${o} received:`,xe),se.u_(xe)}})),re(y,Ab.STAT_EVENT,(ie=>{ie.stat===_m.PROXY?he(yn,`RPC '${e}' stream ${o} detected buffering proxy`):ie.stat===_m.NOPROXY&&he(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{se.__()}),0),se}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function sm(){return typeof document<"u"?document:null}function Ch(i){return new Vw(i,!0)}class E1{constructor(e,s,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Tv="PersistentStream";class T1{constructor(e,s,r,o,c,f,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E1(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===$.RESOURCE_EXHAUSTED?(Ti(s.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new ce($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(he(Tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MN extends T1{constructor(e,s,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,f),this.serializer=c}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=Uw(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ve.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ve.min():f.readTime?Qs(f.readTime):Ve.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=Cm(this.serializer),s.addTarget=(function(c,f){let y;const v=f.target;if(y=xm(v)?{documents:qw(c,v)}:{query:Bw(c,v).ft},y.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){y.resumeToken=c1(c,f.resumeToken);const _=wm(c,f.expectedCount);_!==null&&(y.expectedCount=_)}else if(f.snapshotVersion.compareTo(Ve.min())>0){y.readTime=ah(c,f.snapshotVersion.toTimestamp());const _=wm(c,f.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=Fw(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=Cm(this.serializer),s.removeTarget=e,this.q_(s)}}class ON extends T1{constructor(e,s,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=zw(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>Pw(this.serializer,r)))};this.q_(s)}}class kN{}class VN extends kN{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Nm(s,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce($.UNKNOWN,c.toString())}))}Ho(e,s,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,y])=>this.connection.Ho(e,Nm(s,r),o,f,y,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce($.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jN{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ti(s),this.aa=!1):he("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class LN{constructor(e,s,r,o,c){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{fa(this)&&(he(ca,"Restarting streams for network reachability change."),await(async function(v){const _=Pe(v);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new jN(r,o)}}async function Ih(i){if(fa(i))for(const e of i.da)await e(!0)}async function eu(i){for(const e of i.da)await e(!1)}function x1(i,e){const s=Pe(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),op(s)?lp(s):Al(s).O_()&&ap(s,e))}function rp(i,e){const s=Pe(i),r=Al(s);s.Ia.delete(e),r.O_()&&S1(s,e),s.Ia.size===0&&(r.O_()?r.L_():fa(s)&&s.Ra.set("Unknown"))}function ap(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}Al(i).Y_(e)}function S1(i,e){i.Va.Ue(e),Al(i).Z_(e)}function lp(i){i.Va=new Dw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Al(i).start(),i.Ra.ua()}function op(i){return fa(i)&&!Al(i).x_()&&i.Ia.size>0}function fa(i){return Pe(i).Ea.size===0}function A1(i){i.Va=void 0}async function UN(i){i.Ra.set("Online")}async function PN(i){i.Ia.forEach(((e,s)=>{ap(i,e)}))}async function zN(i,e){A1(i),op(i)?(i.Ra.ha(e),lp(i)):i.Ra.set("Unknown")}async function qN(i,e,s){if(i.Ra.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,f),o.Ia.delete(y),o.Va.removeTarget(y))})(i,e)}catch(r){he(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(i,r)}else if(e instanceof Qc?i.Va.Ze(e):e instanceof o1?i.Va.st(e):i.Va.tt(e),!s.isEqual(Ve.min()))try{const r=await b1(i.localStore);s.compareTo(r)>=0&&await(function(c,f){const y=c.Va.Tt(f);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(v.resumeToken,f))}})),y.targetMismatches.forEach(((v,_)=>{const x=c.Ia.get(v);if(!x)return;c.Ia.set(v,x.withResumeToken(pn.EMPTY_BYTE_STRING,x.snapshotVersion)),S1(c,v);const S=new cr(x.target,v,_,x.sequenceNumber);ap(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(i,s)}catch(r){he(ca,"Failed to raise snapshot:",r),await oh(i,r)}}async function oh(i,e,s){if(!xl(e))throw e;i.Ea.add(1),await eu(i),i.Ra.set("Offline"),s||(s=()=>b1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(ca,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Ih(i)}))}function w1(i,e){return e().catch((s=>oh(i,s,e)))}async function Dh(i){const e=Pe(i),s=br(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;BN(e);)try{const o=await xN(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,HN(e,o)}catch(o){await oh(e,o)}N1(e)&&R1(e)}function BN(i){return fa(i)&&i.Ta.length<10}function HN(i,e){i.Ta.push(e);const s=br(i);s.O_()&&s.X_&&s.ea(e.mutations)}function N1(i){return fa(i)&&!br(i).x_()&&i.Ta.length>0}function R1(i){br(i).start()}async function FN(i){br(i).ra()}async function GN(i){const e=br(i);for(const s of i.Ta)e.ea(s.mutations)}async function QN(i,e,s){const r=i.Ta.shift(),o=Jm.from(r,e,s);await w1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Dh(i)}async function YN(i,e){e&&br(i).X_&&await(async function(r,o){if((function(f){return Rw(f)&&f!==$.ABORTED})(o.code)){const c=r.Ta.shift();br(r).B_(),await w1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Dh(r)}})(i,e),N1(i)&&R1(i)}async function xv(i,e){const s=Pe(i);s.asyncQueue.verifyOperationInProgress(),he(ca,"RemoteStore received new credentials");const r=fa(s);s.Ea.add(3),await eu(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Ih(s)}async function KN(i,e){const s=Pe(i);e?(s.Ea.delete(2),await Ih(s)):e||(s.Ea.add(2),await eu(s),s.Ra.set("Unknown"))}function Al(i){return i.ma||(i.ma=(function(s,r,o){const c=Pe(s);return c.sa(),new MN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:UN.bind(null,i),t_:PN.bind(null,i),r_:zN.bind(null,i),H_:qN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),op(i)?lp(i):i.Ra.set("Unknown")):(await i.ma.stop(),A1(i))}))),i.ma}function br(i){return i.fa||(i.fa=(function(s,r,o){const c=Pe(s);return c.sa(),new ON(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:FN.bind(null,i),r_:YN.bind(null,i),ta:GN.bind(null,i),na:QN.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Dh(i)):(await i.fa.stop(),i.Ta.length>0&&(he(ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class up{constructor(e,s,r,o,c){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,c){const f=Date.now()+r,y=new up(e,s,f,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(i,e){if(Ti("AsyncQueue",`${e}: ${i}`),xl(i))return new ce($.UNAVAILABLE,`${e}: ${i}`);throw i}class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||be.comparator(s.key,r.key):(s,r)=>be.comparator(s.key,r.key),this.keyedMap=Do(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}class Sv{constructor(){this.ga=new It(be.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class yl{constructor(e,s,r,o,c,f,y,v,_){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,s,r,o,c){const f=[];return s.forEach((y=>{f.push({type:0,doc:y})})),new yl(e,s,ll.emptySet(s),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}class XN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $N{constructor(){this.queries=Av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=Pe(s),c=o.queries;o.queries=Av(),c.forEach(((f,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new ce($.ABORTED,"Firestore shutting down"))}}function Av(){return new da((i=>Xb(i)),Sh)}async function hp(i,e){const s=Pe(i);let r=3;const o=e.query;let c=s.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new XN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await s.onListen(o,!0);break;case 1:c.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(f){const y=cp(f,`Initialization of query '${il(e.query)}' failed`);return void e.onError(y)}s.queries.set(o,c),c.Sa.push(e),e.va(s.onlineState),c.wa&&e.Fa(c.wa)&&fp(s)}async function dp(i,e){const s=Pe(i),r=e.query;let o=3;const c=s.queries.get(r);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function ZN(i,e){const s=Pe(i);let r=!1;for(const o of e){const c=o.query,f=s.queries.get(c);if(f){for(const y of f.Sa)y.Fa(o)&&(r=!0);f.wa=o}}r&&fp(s)}function JN(i,e,s){const r=Pe(i),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(s);r.queries.delete(e)}function fp(i){i.Ca.forEach((e=>{e.next()}))}var Mm,wv;(wv=Mm||(Mm={})).Ma="default",wv.Cache="cache";class mp{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}class C1{constructor(e){this.key=e}}class I1{constructor(e){this.key=e}}class WN{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=$b(e),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new Sv,o=s?s.tu:this.tu;let c=s?s.mutatedKeys:this.mutatedKeys,f=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,S)=>{const O=o.get(x),K=Ah(this.query,S)?S:null,se=!!O&&this.mutatedKeys.has(O.key),re=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ie=!1;O&&K?O.data.isEqual(K.data)?se!==re&&(r.track({type:3,doc:K}),ie=!0):this.su(O,K)||(r.track({type:2,doc:K}),ie=!0,(v&&this.eu(K,v)>0||_&&this.eu(K,_)<0)&&(y=!0)):!O&&K?(r.track({type:0,doc:K}),ie=!0):O&&!K&&(r.track({type:1,doc:O}),ie=!0,(v||_)&&(y=!0)),ie&&(K?(f=f.add(K),c=re?c.add(x):c.delete(x)):(f=f.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const x=this.query.limitType==="F"?f.last():f.first();f=f.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:f,iu:r,Cs:y,mutatedKeys:c}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((x,S)=>(function(K,se){const re=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:ie})}};return re(K)-re(se)})(x.type,S.type)||this.eu(x.doc,S.doc))),this.ou(r),o=o??!1;const y=s&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,f.length!==0||_?{snapshot:new yl(this.query,e.tu,c,f,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new I1(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new C1(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=Ze();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pp="SyncEngine";class eR{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class tR{constructor(e){this.key=e,this.hu=!1}}class nR{constructor(e,s,r,o,c,f){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new da((y=>Xb(y)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new It(be.comparator),this.Au=new Map,this.Ru=new tp,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sR(i,e,s=!0){const r=j1(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await D1(r,e,s,!0),o}async function iR(i,e){const s=j1(i);await D1(s,e,!0,!1)}async function D1(i,e,s,r){const o=await SN(i.localStore,Gs(e)),c=o.targetId,f=i.sharedClientState.addLocalQueryTarget(c,s);let y;return r&&(y=await rR(i,e,c,f==="current",o.resumeToken)),i.isPrimaryClient&&s&&x1(i.remoteStore,o),y}async function rR(i,e,s,r,o){i.pu=(S,O,K)=>(async function(re,ie,xe,je){let Re=ie.view.ru(xe);Re.Cs&&(Re=await _v(re.localStore,ie.query,!1).then((({documents:I})=>ie.view.ru(I,Re))));const ot=je&&je.targetChanges.get(ie.targetId),_t=je&&je.targetMismatches.get(ie.targetId)!=null,Je=ie.view.applyChanges(Re,re.isPrimaryClient,ot,_t);return Rv(re,ie.targetId,Je.au),Je.snapshot})(i,S,O,K);const c=await _v(i.localStore,e,!0),f=new WN(e,c.Qs),y=f.ru(c.documents),v=Wo.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",o),_=f.applyChanges(y,i.isPrimaryClient,v);Rv(i,s,_.au);const x=new eR(e,s,f);return i.Tu.set(e,x),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),_.snapshot}async function aR(i,e,s){const r=Pe(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!Sh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Im(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&rp(r.remoteStore,o.targetId),Om(r,o.targetId)})).catch(Tl)):(Om(r,o.targetId),await Im(r.localStore,o.targetId,!0))}async function lR(i,e){const s=Pe(i),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),rp(s.remoteStore,r.targetId))}async function oR(i,e,s){const r=pR(i);try{const o=await(function(f,y){const v=Pe(f),_=Nt.now(),x=y.reduce(((K,se)=>K.add(se.key)),Ze());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let se=xi(),re=Ze();return v.Ns.getEntries(K,x).next((ie=>{se=ie,se.forEach(((xe,je)=>{je.isValidDocument()||(re=re.add(xe))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,se))).next((ie=>{S=ie;const xe=[];for(const je of y){const Re=xw(je,S.get(je.key).overlayedDocument);Re!=null&&xe.push(new xr(je.key,Re,qb(Re.value.mapValue),rs.exists(!0)))}return v.mutationQueue.addMutationBatch(K,_,xe,y)})).next((ie=>{O=ie;const xe=ie.applyToLocalDocumentSet(S,re);return v.documentOverlayCache.saveOverlays(K,ie.batchId,xe)}))})).then((()=>({batchId:O.batchId,changes:Jb(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,y,v){let _=f.Vu[f.currentUser.toKey()];_||(_=new It($e)),_=_.insert(y,v),f.Vu[f.currentUser.toKey()]=_})(r,o.batchId,s),await tu(r,o.changes),await Dh(r.remoteStore)}catch(o){const c=cp(o,"Failed to persist write");s.reject(c)}}async function M1(i,e){const s=Pe(i);try{const r=await EN(s.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=s.Au.get(c);f&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ut(f.hu,14607):o.removedDocuments.size>0&&(ut(f.hu,42227),f.hu=!1))})),await tu(s,r,e)}catch(r){await Tl(r)}}function Nv(i,e,s){const r=Pe(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((c,f)=>{const y=f.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(f,y){const v=Pe(f);v.onlineState=y;let _=!1;v.queries.forEach(((x,S)=>{for(const O of S.Sa)O.va(y)&&(_=!0)})),_&&fp(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uR(i,e,s){const r=Pe(i);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new It(be.comparator);f=f.insert(c,vn.newNoDocument(c,Ve.min()));const y=Ze().add(c),v=new Rh(Ve.min(),new Map,new It($e),f,y);await M1(r,v),r.du=r.du.remove(c),r.Au.delete(e),gp(r)}else await Im(r.localStore,e,!1).then((()=>Om(r,e,s))).catch(Tl)}async function cR(i,e){const s=Pe(i),r=e.batch.batchId;try{const o=await bN(s.localStore,e);k1(s,r,null),O1(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await tu(s,o)}catch(o){await Tl(o)}}async function hR(i,e,s){const r=Pe(i);try{const o=await(function(f,y){const v=Pe(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(ut(S!==null,37113),x=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,x,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>v.localDocuments.getDocuments(_,x)))}))})(r.localStore,e);k1(r,e,s),O1(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await tu(r,o)}catch(o){await Tl(o)}}function O1(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function k1(i,e,s){const r=Pe(i);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(s?c.reject(s):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Om(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||V1(i,r)}))}function V1(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(rp(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),gp(i))}function Rv(i,e,s){for(const r of s)r instanceof C1?(i.Ru.addReference(r.key,e),dR(i,r)):r instanceof I1?(he(pp,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||V1(i,r.key)):De(19791,{wu:r})}function dR(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(he(pp,"New document in limbo: "+s),i.Eu.add(r),gp(i))}function gp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new be(xt.fromString(e)),r=i.fu.next();i.Au.set(r,new tR(s)),i.du=i.du.insert(s,r),x1(i.remoteStore,new cr(Gs(xh(s.path)),r,"TargetPurposeLimboResolution",bh.ce))}}async function tu(i,e,s){const r=Pe(i),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{f.push(r.pu(v,e,s).then((_=>{if((_||s)&&r.isPrimaryClient){const x=_?!_.fromCache:s?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(_){o.push(_);const x=sp.As(v.targetId,_);c.push(x)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(v,_){const x=Pe(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(_,(O=>W.forEach(O.Es,(K=>x.persistence.referenceDelegate.addReference(S,O.targetId,K))).next((()=>W.forEach(O.ds,(K=>x.persistence.referenceDelegate.removeReference(S,O.targetId,K)))))))))}catch(S){if(!xl(S))throw S;he(ip,"Failed to update sequence numbers: "+S)}for(const S of _){const O=S.targetId;if(!S.fromCache){const K=x.Ms.get(O),se=K.snapshotVersion,re=K.withLastLimboFreeSnapshotVersion(se);x.Ms=x.Ms.insert(O,re)}}})(r.localStore,c))}async function fR(i,e){const s=Pe(i);if(!s.currentUser.isEqual(e)){he(pp,"User change. New user:",e.toKey());const r=await v1(s.localStore,e);s.currentUser=e,(function(c,f){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new ce($.CANCELLED,f))}))})),c.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(s,r.Ls)}}function mR(i,e){const s=Pe(i),r=s.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let o=Ze();const c=s.Iu.get(e);if(!c)return o;for(const f of c){const y=s.Tu.get(f);o=o.unionWith(y.view.nu)}return o}}function j1(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=M1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uR.bind(null,e),e.Pu.H_=ZN.bind(null,e.eventManager),e.Pu.yu=JN.bind(null,e.eventManager),e}function pR(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hR.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return vN(this.persistence,new gN,e.initialUser,this.serializer)}Cu(e){return new _1(np.mi,this.serializer)}Du(e){return new wN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class gR extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){ut(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tN(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new _1((r=>lh.mi(r,s)),this.serializer)}}class km{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fR.bind(null,this.syncEngine),await KN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $N})()}createDatastore(e){const s=Ch(e.databaseInfo.databaseId),r=(function(c){return new DN(c)})(e.databaseInfo);return(function(c,f,y,v){return new VN(c,f,y,v)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,c,f,y){return new LN(r,o,c,f,y)})(this.localStore,this.datastore,e.asyncQueue,(s=>Nv(this.syncEngine,s,0)),(function(){return Ev.v()?new Ev:new NN})())}createSyncEngine(e,s){return(function(o,c,f,y,v,_,x){const S=new nR(o,c,f,y,v,_);return x&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=Pe(s);he(ca,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class yp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}const Er="FirestoreClient";class yR{constructor(e,s,r,o,c){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{he(Er,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(he(Er,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=cp(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function im(i,e){i.asyncQueue.verifyOperationInProgress(),he(Er,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await v1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Cv(i,e){i.asyncQueue.verifyOperationInProgress();const s=await _R(i);he(Er,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>xv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>xv(e.remoteStore,o))),i._onlineComponents=e}async function _R(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Er,"Using user provided OfflineComponentProvider");try{await im(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;dl("Error using user provided cache. Falling back to memory cache: "+s),await im(i,new uh)}}else he(Er,"Using default OfflineComponentProvider"),await im(i,new gR(void 0));return i._offlineComponents}async function L1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Er,"Using user provided OnlineComponentProvider"),await Cv(i,i._uninitializedComponentsProvider._online)):(he(Er,"Using default OnlineComponentProvider"),await Cv(i,new km))),i._onlineComponents}function vR(i){return L1(i).then((e=>e.syncEngine))}async function ch(i){const e=await L1(i),s=e.eventManager;return s.onListen=sR.bind(null,e.syncEngine),s.onUnlisten=aR.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=iR.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=lR.bind(null,e.syncEngine),s}function bR(i,e,s={}){const r=new bi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,v,_){const x=new yp({next:O=>{x.Nu(),f.enqueueAndForget((()=>dp(c,S)));const K=O.docs.has(y);!K&&O.fromCache?_.reject(new ce($.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&O.fromCache&&v&&v.source==="server"?_.reject(new ce($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),S=new mp(xh(y.path),x,{includeMetadataChanges:!0,qa:!0});return hp(c,S)})(await ch(i),i.asyncQueue,e,s,r))),r.promise}function ER(i,e,s={}){const r=new bi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,y,v,_){const x=new yp({next:O=>{x.Nu(),f.enqueueAndForget((()=>dp(c,S))),O.fromCache&&v.source==="server"?_.reject(new ce($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),S=new mp(y,x,{includeMetadataChanges:!0,qa:!0});return hp(c,S)})(await ch(i),i.asyncQueue,e,s,r))),r.promise}function U1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Iv=new Map;const P1="firestore.googleapis.com",Dv=!0;class Mv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P1,this.ssl=Dv}else this.host=e.host,this.ssl=e.ssl??Dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ww)throw new ce($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mh{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new N2;switch(r.type){case"firstParty":return new D2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=Iv.get(s);r&&(he("ComponentProvider","Removing Datastore"),Iv.delete(s),r.terminate())})(this),Promise.resolve()}}function TR(i,e,s,r={}){i=On(i,Mh);const o=vl(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},y=`${e}:${s}`;o&&(mb(`https://${y}`),pb("Firestore",!0)),c.host!==P1&&c.host!==y&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:r};if(!la(v,f)&&(i._setSettings(v),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=_n.MOCK_USER;else{_=JS(r.mockUserToken,i._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ce($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new _n(S)}i._authCredentials=new R2(new Cb(_,x))}}class Sr{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sr(this.firestore,e,this._query)}}class Ot{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(Zo(s,Ot._jsonSchema))return new Ot(e,r||null,new be(xt.fromString(s.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:$t("string",Ot._jsonSchemaVersion),referencePath:$t("string")};class pr extends Sr{constructor(e,s,r){super(e,s,xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new be(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function Bs(i,e,...s){if(i=an(i),Ib("collection","path",e),i instanceof Mh){const r=xt.fromString(e,...s);return G_(r),new pr(i,null,r)}{if(!(i instanceof Ot||i instanceof pr))throw new ce($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(xt.fromString(e,...s));return G_(r),new pr(i.firestore,null,r)}}function Hs(i,e,...s){if(i=an(i),arguments.length===1&&(e=Fm.newId()),Ib("doc","path",e),i instanceof Mh){const r=xt.fromString(e,...s);return F_(r),new Ot(i,null,new be(r))}{if(!(i instanceof Ot||i instanceof pr))throw new ce($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(xt.fromString(e,...s));return F_(r),new Ot(i.firestore,i instanceof pr?i.converter:null,new be(r))}}const Ov="AsyncQueue";class kv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E1(this,"async_queue_retry"),this._c=()=>{const r=sm();r&&he(Ov,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=sm();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=sm();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;he(Ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ti("INTERNAL UNHANDLED ERROR: ",Vv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=up.createAndSchedule(this,e,s,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function Vv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function jv(i){return(function(s,r){if(typeof s!="object"||s===null)return!1;const o=s;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class Si extends Mh{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new kv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kv(e),this._firestoreClient=void 0,await e}}}function xR(i,e){const s=typeof i=="object"?i:vb(),r=typeof i=="string"?i:th,o=Bm(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=$S("firestore");c&&TR(o,...c)}return o}function Oh(i){if(i._terminated)throw new ce($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||SR(i),i._firestoreClient}function SR(i){const e=i._freezeSettings(),s=(function(o,c,f,y){return new K2(o,c,f,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,U1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new yR(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new is(pn.fromBase64String(e))}catch(s){throw new ce($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new is(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:is._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zo(e,is._jsonSchema))return is.fromBase64String(e.bytes)}}is._jsonSchemaVersion="firestore/bytes/1.0",is._jsonSchema={type:$t("string",is._jsonSchemaVersion),bytes:$t("string")};class kh{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ce($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _p{constructor(e){this._methodName=e}}class Ys{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ce($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ce($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ys._jsonSchemaVersion}}static fromJSON(e){if(Zo(e,Ys._jsonSchema))return new Ys(e.latitude,e.longitude)}}Ys._jsonSchemaVersion="firestore/geoPoint/1.0",Ys._jsonSchema={type:$t("string",Ys._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class Ks{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zo(e,Ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Ks(e.vectorValues);throw new ce($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ks._jsonSchemaVersion="firestore/vectorValue/1.0",Ks._jsonSchema={type:$t("string",Ks._jsonSchemaVersion),vectorValues:$t("object")};const AR=/^__.*__$/;class wR{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,s,this.fieldTransforms):new Jo(e,this.data,s,this.fieldTransforms)}}class z1{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new xr(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function q1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:i})}}class vp{constructor(e,s,r,o,c,f){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(q1(this.Ac)&&AR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NR{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||Ch(e)}Cc(e,s,r,o=!1){return new vp({Ac:e,methodName:s,Dc:r,path:mn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vh(i){const e=i._freezeSettings(),s=Ch(i._databaseId);return new NR(i._databaseId,!!e.ignoreUndefinedProperties,s)}function B1(i,e,s,r,o,c={}){const f=i.Cc(c.merge||c.mergeFields?2:0,e,s,o);bp("Data must be an object, but it was:",f,r);const y=H1(r,f);let v,_;if(c.merge)v=new Fn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const x=[];for(const S of c.mergeFields){const O=Vm(e,S,s);if(!f.contains(O))throw new ce($.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);G1(x,O)||x.push(O)}v=new Fn(x),_=f.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=f.fieldTransforms;return new wR(new Mn(y),v,_)}class jh extends _p{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function RR(i,e,s,r){const o=i.Cc(1,e,s);bp("Data must be an object, but it was:",o,r);const c=[],f=Mn.empty();Tr(r,((v,_)=>{const x=Ep(e,v,s);_=an(_);const S=o.yc(x);if(_ instanceof jh)c.push(x);else{const O=nu(_,S);O!=null&&(c.push(x),f.set(x,O))}}));const y=new Fn(c);return new z1(f,y,o.fieldTransforms)}function CR(i,e,s,r,o,c){const f=i.Cc(1,e,s),y=[Vm(e,r,s)],v=[o];if(c.length%2!=0)throw new ce($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)y.push(Vm(e,c[O])),v.push(c[O+1]);const _=[],x=Mn.empty();for(let O=y.length-1;O>=0;--O)if(!G1(_,y[O])){const K=y[O];let se=v[O];se=an(se);const re=f.yc(K);if(se instanceof jh)_.push(K);else{const ie=nu(se,re);ie!=null&&(_.push(K),x.set(K,ie))}}const S=new Fn(_);return new z1(x,S,f.fieldTransforms)}function IR(i,e,s,r=!1){return nu(s,i.Cc(r?4:3,e))}function nu(i,e){if(F1(i=an(i)))return bp("Unsupported field value:",e,i),H1(i,e);if(i instanceof _p)return(function(r,o){if(!q1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const y of r){let v=nu(y,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),f++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Nt.fromDate(r);return{timestampValue:ah(o.serializer,c)}}if(r instanceof Nt){const c=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(o.serializer,c)}}if(r instanceof Ys)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof is)return{bytesValue:c1(o.serializer,r._byteString)};if(r instanceof Ot){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ep(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ks)return(function(f,y){return{mapValue:{fields:{[Pb]:{stringValue:zb},[nh]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return $m(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${vh(r)}`)})(i,e)}function H1(i,e){const s={};return Ob(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(i,((r,o)=>{const c=nu(o,e.mc(r));c!=null&&(s[r]=c)})),{mapValue:{fields:s}}}function F1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof Ys||i instanceof is||i instanceof Ot||i instanceof _p||i instanceof Ks)}function bp(i,e,s){if(!F1(s)||!Db(s)){const r=vh(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Vm(i,e,s){if((e=an(e))instanceof kh)return e._internalPath;if(typeof e=="string")return Ep(i,e);throw hh("Field path arguments must be of type string or ",i,!1,void 0,s)}const DR=new RegExp("[~\\*/\\[\\]]");function Ep(i,e,s){if(e.search(DR)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new kh(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function hh(i,e,s,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let y=`Function ${e}() called with invalid data`;s&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||f)&&(v+=" (found",c&&(v+=` in field ${r}`),f&&(v+=` in document ${o}`),v+=")"),new ce($.INVALID_ARGUMENT,y+i+v)}function G1(i,e){return i.some((s=>s.isEqual(e)))}class Q1{constructor(e,s,r,o,c){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Lh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class MR extends Q1{data(){return super.data()}}function Lh(i,e){return typeof e=="string"?Ep(i,e):e instanceof kh?e._internalPath:e._delegate._internalPath}function Y1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tp{}class K1 extends Tp{}function rr(i,e,...s){let r=[];e instanceof Tp&&r.push(e),r=r.concat(s),(function(c){const f=c.filter((v=>v instanceof xp)).length,y=c.filter((v=>v instanceof Uh)).length;if(f>1||f>0&&y>0)throw new ce($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Uh extends K1{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new Uh(e,s,r)}_apply(e){const s=this._parse(e);return X1(e._query,s),new Sr(e.firestore,e.converter,Sm(e._query,s))}_parse(e){const s=Vh(e.firestore);return(function(c,f,y,v,_,x,S){let O;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ce($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Uv(S,x);const se=[];for(const re of S)se.push(Lv(v,c,re));O={arrayValue:{values:se}}}else O=Lv(v,c,S)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Uv(S,x),O=IR(y,f,S,x==="in"||x==="not-in");return Xt.create(_,x,O)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function Co(i,e,s){const r=e,o=Lh("where",i);return Uh._create(o,r,s)}class xp extends Tp{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new xp(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:bs.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(o,c){let f=o;const y=c.getFlattenedFilters();for(const v of y)X1(f,v),f=Sm(f,v)})(e._query,s),new Sr(e.firestore,e.converter,Sm(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sp extends K1{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new Sp(e,s)}_apply(e){const s=(function(o,c,f){if(o.startAt!==null)throw new ce($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Go(c,f)})(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,(function(o,c){const f=o.explicitOrderBy.concat([c]);return new Sl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,s))}}function rm(i,e="asc"){const s=e,r=Lh("orderBy",i);return Sp._create(r,s)}function Lv(i,e,s){if(typeof(s=an(s))=="string"){if(s==="")throw new ce($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kb(e)&&s.indexOf("/")!==-1)throw new ce($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(xt.fromString(s));if(!be.isDocumentKey(r))throw new ce($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W_(i,new be(r))}if(s instanceof Ot)return W_(i,s._key);throw new ce($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(s)}.`)}function Uv(i,e){if(!Array.isArray(i)||i.length===0)throw new ce($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X1(i,e){const s=(function(o,c){for(const f of o)for(const y of f.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new ce($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class OR{convertValue(e,s="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return Tr(e,((o,c)=>{r[o]=this.convertValue(c,s)})),r}convertVectorValue(e){const s=e.fields?.[nh].arrayValue?.values?.map((r=>Pt(r.doubleValue)));return new Ks(s)}convertGeoPoint(e){return new Ys(Pt(e.latitude),Pt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(Bo(e));default:return null}}convertTimestamp(e){const s=yr(e);return new Nt(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=xt.fromString(e);ut(g1(r),9688,{name:e});const o=new Ho(r.get(1),r.get(3)),c=new be(r.popFirst(5));return o.isEqual(s)||Ti(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),c}}function $1(i,e,s){let r;return r=i?i.toFirestore(e):e,r}class Oo{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends Q1{constructor(e,s,r,o,c,f){super(e,s,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Lh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=ia._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:$t("string",ia._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Yc extends ia{data(e={}){return super.data(e)}}class ra{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Yc(this._firestore,this._userDataWriter,r.key,r,new Oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ce($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((y=>{const v=new Yc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Oo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Yc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Oo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return y.type!==0&&(_=f.indexOf(y.doc.key),f=f.delete(y.doc.key)),y.type!==1&&(f=f.add(y.doc),x=f.indexOf(y.doc.key)),{type:kR(y.type),doc:v,oldIndex:_,newIndex:x}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(s.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:i})}}function VR(i){i=On(i,Ot);const e=On(i.firestore,Si);return bR(Oh(e),i._key).then((s=>Z1(e,i,s)))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:$t("string",ra._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class Ap extends OR{constructor(e){super(),this.firestore=e}convertBytes(e){return new is(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,s)}}function Pv(i){i=On(i,Sr);const e=On(i.firestore,Si),s=Oh(e),r=new Ap(e);return Y1(i._query),ER(s,i._query).then((o=>new ra(e,r,i,o)))}function am(i,e,s){i=On(i,Ot);const r=On(i.firestore,Si),o=$1(i.converter,e);return Ph(r,[B1(Vh(r),"setDoc",i._key,o,i.converter!==null,s).toMutation(i._key,rs.none())])}function zv(i,e,s,...r){i=On(i,Ot);const o=On(i.firestore,Si),c=Vh(o);let f;return f=typeof(e=an(e))=="string"||e instanceof kh?CR(c,"updateDoc",i._key,e,s,r):RR(c,"updateDoc",i._key,e),Ph(o,[f.toMutation(i._key,rs.exists(!0))])}function zc(i){return Ph(On(i.firestore,Si),[new Zm(i._key,rs.none())])}function qv(i,e){const s=On(i.firestore,Si),r=Hs(i),o=$1(i.converter,e);return Ph(s,[B1(Vh(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,rs.exists(!1))]).then((()=>r))}function nl(i,...e){i=an(i);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||jv(e[r])||(s=e[r++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jv(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,f,y;if(i instanceof Ot)f=On(i.firestore,Si),y=xh(i._key.path),c={next:v=>{e[r]&&e[r](Z1(f,i,v))},error:e[r+1],complete:e[r+2]};else{const v=On(i,Sr);f=On(v.firestore,Si),y=v._query;const _=new Ap(f);c={next:x=>{e[r]&&e[r](new ra(f,_,v,x))},error:e[r+1],complete:e[r+2]},Y1(i._query)}return(function(_,x,S,O){const K=new yp(O),se=new mp(x,K,S);return _.asyncQueue.enqueueAndForget((async()=>hp(await ch(_),se))),()=>{K.Nu(),_.asyncQueue.enqueueAndForget((async()=>dp(await ch(_),se)))}})(Oh(f),y,o,c)}function Ph(i,e){return(function(r,o){const c=new bi;return r.asyncQueue.enqueueAndForget((async()=>oR(await vR(r),o,c))),c.promise})(Oh(i),e)}function Z1(i,e,s){const r=s.docs.get(e._key),o=new Ap(i);return new ia(i,o,e._key,r,new Oo(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(o){El=o})(bl),hl(new oa("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),y=new Si(new C2(r.getProvider("auth-internal")),new M2(f,r.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(_.options.projectId,x)})(f,o),f);return c={useFetchStreams:s,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),fr(z_,q_,e),fr(z_,q_,"esm2020")})();function J1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=J1,W1=new Xo("auth","Firebase",J1());const dh=new zm("@firebase/auth");function LR(i,...e){dh.logLevel<=Xe.WARN&&dh.warn(`Auth (${bl}): ${i}`,...e)}function Kc(i,...e){dh.logLevel<=Xe.ERROR&&dh.error(`Auth (${bl}): ${i}`,...e)}function Zs(i,...e){throw Np(i,...e)}function vs(i,...e){return Np(i,...e)}function wp(i,e,s){const r={...jR(),[e]:s};return new Xo("auth","Firebase",r).create(e,{appName:i.name})}function aa(i){return wp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UR(i,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zs(i,"argument-error"),wp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return W1.create(i,...e)}function Me(i,e,...s){if(!i)throw Np(e,...s)}function _i(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Kc(e),new Error(e)}function Ai(i,e){i||_i(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function PR(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}function zR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PR()||iA()||"connection"in navigator)?navigator.onLine:!0}function qR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class su{constructor(e,s){this.shortDelay=e,this.longDelay=s,Ai(s>e,"Short delay should be less than long delay!"),this.isMobile=tA()||rA()}get(){return zR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(i,e){Ai(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class eE{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const HR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FR=new su(3e4,6e4);function Cp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function wl(i,e,s,r,o={}){return tE(i,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const y=$o({key:i.config.apiKey,...f}).slice(1),v=await i._getAdditionalHeaders();v["Content-Type"]="application/json",i.languageCode&&(v["X-Firebase-Locale"]=i.languageCode);const _={method:e,headers:v,...c};return sA()||(_.referrerPolicy="no-referrer"),i.emulatorConfig&&vl(i.emulatorConfig.host)&&(_.credentials="include"),eE.fetch()(await nE(i,i.config.apiHost,s,y),_)})}async function tE(i,e,s){i._canInitEmulator=!1;const r={...BR,...e};try{const o=new QR(i),c=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw qc(i,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const y=c.ok?f.errorMessage:f.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(i,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw qc(i,"email-already-in-use",f);if(v==="USER_DISABLED")throw qc(i,"user-disabled",f);const x=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw wp(i,x,_);Zs(i,x)}}catch(o){if(o instanceof wi)throw o;Zs(i,"network-request-failed",{message:String(o)})}}async function GR(i,e,s,r,o={}){const c=await wl(i,e,s,r,o);return"mfaPendingCredential"in c&&Zs(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function nE(i,e,s,r){const o=`${e}${s}?${r}`,c=i,f=c.config.emulator?Rp(i.config,o):`${i.config.apiScheme}://${o}`;return HR.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(vs(this.auth,"network-request-failed")),FR.get())})}}function qc(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=vs(i,e,r);return o.customData._tokenResponse=s,o}async function YR(i,e){return wl(i,"POST","/v1/accounts:delete",e)}async function fh(i,e){return wl(i,"POST","/v1/accounts:lookup",e)}function Po(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KR(i,e=!1){const s=an(i),r=await s.getIdToken(e),o=Ip(r);Me(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:Po(lm(o.auth_time)),issuedAtTime:Po(lm(o.iat)),expirationTime:Po(lm(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function lm(i){return Number(i)*1e3}function Ip(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=cb(s);return o?JSON.parse(o):(Kc("Failed to decode base64 JWT payload"),null)}catch(o){return Kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Hv(i){const e=Ip(i);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ko(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof wi&&XR(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function XR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class $R{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lm{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mh(i){const e=i.auth,s=await i.getIdToken(),r=await Ko(i,fh(e,{idToken:s}));Me(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?sE(o.providerUserInfo):[],f=JR(i.providerData,c),y=i.isAnonymous,v=!(i.email&&o.passwordHash)&&!f?.length,_=y?v:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,x)}async function ZR(i){const e=an(i);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JR(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function sE(i){return i.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function WR(i,e){const s=await tE(i,{},async()=>{const r=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,f=await nE(i,o,"/v1/token",`key=${c}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return i.emulatorConfig&&vl(i.emulatorConfig.host)&&(v.credentials="include"),eE.fetch()(f,v)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function eC(i,e){return wl(i,"POST","/v2/accounts:revokeToken",Cp(i,e))}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const s=Hv(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:c}=await WR(e,s);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:c}=s,f=new ol;return r&&(Me(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Me(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Me(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return _i("not implemented")}}function ar(i,e){Me(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class _s{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return Me(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return KR(this,e)}reload(){return ZR(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new _s({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ys(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await Ko(this,YR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,c=s.phoneNumber??void 0,f=s.photoURL??void 0,y=s.tenantId??void 0,v=s._redirectEventId??void 0,_=s.createdAt??void 0,x=s.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:K,providerData:se,stsTokenManager:re}=s;Me(S&&re,e,"internal-error");const ie=ol.fromJSON(this.name,re);Me(typeof S=="string",e,"internal-error"),ar(r,e.name),ar(o,e.name),Me(typeof O=="boolean",e,"internal-error"),Me(typeof K=="boolean",e,"internal-error"),ar(c,e.name),ar(f,e.name),ar(y,e.name),ar(v,e.name),ar(_,e.name),ar(x,e.name);const xe=new _s({uid:S,auth:e,email:o,emailVerified:O,displayName:r,isAnonymous:K,photoURL:f,phoneNumber:c,tenantId:y,stsTokenManager:ie,createdAt:_,lastLoginAt:x});return se&&Array.isArray(se)&&(xe.providerData=se.map(je=>({...je}))),v&&(xe._redirectEventId=v),xe}static async _fromIdTokenResponse(e,s,r=!1){const o=new ol;o.updateFromServerResponse(s);const c=new _s({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await mh(c),c}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];Me(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?sE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,y=new ol;y.updateFromIdToken(r);const v=new _s({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Fv=new Map;function vi(i){Ai(i instanceof Function,"Expected a class definition");let e=Fv.get(i);return e?(Ai(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Fv.set(i,e),e)}class iE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}iE.type="NONE";const Gv=iE;function Xc(i,e,s){return`firebase:${i}:${e}:${s}`}class ul{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Xc("persistence",o.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await fh(this.auth,{idToken:e}).catch(()=>{});return s?_s._fromGetAccountInfoResponse(this.auth,s,e):null}return _s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new ul(vi(Gv),e,r);const o=(await Promise.all(s.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||vi(Gv);const f=Xc(r,e.config.apiKey,e.name);let y=null;for(const _ of s)try{const x=await _._get(f);if(x){let S;if(typeof x=="string"){const O=await fh(e,{idToken:x}).catch(()=>{});if(!O)break;S=await _s._fromGetAccountInfoResponse(e,O,x)}else S=_s._fromJSON(e,x);_!==c&&(y=S),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new ul(c,e,r):(c=v[0],y&&await c._set(f,y.toJSON()),await Promise.all(s.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new ul(c,e,r))}}function Qv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cE(e))return"Blackberry";if(hE(e))return"Webos";if(aE(e))return"Safari";if((e.includes("chrome/")||lE(e))&&!e.includes("edge/"))return"Chrome";if(uE(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if(r?.length===2)return r[1]}return"Other"}function rE(i=bn()){return/firefox\//i.test(i)}function aE(i=bn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lE(i=bn()){return/crios\//i.test(i)}function oE(i=bn()){return/iemobile/i.test(i)}function uE(i=bn()){return/android/i.test(i)}function cE(i=bn()){return/blackberry/i.test(i)}function hE(i=bn()){return/webos/i.test(i)}function Dp(i=bn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function tC(i=bn()){return Dp(i)&&!!window.navigator?.standalone}function nC(){return aA()&&document.documentMode===10}function dE(i=bn()){return Dp(i)||uE(i)||hE(i)||cE(i)||/windows phone/i.test(i)||oE(i)}function fE(i,e=[]){let s;switch(i){case"Browser":s=Qv(bn());break;case"Worker":s=`${Qv(bn())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${bl}/${r}`}class sC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=c=>new Promise((f,y)=>{try{const v=e(c);f(v)}catch(v){y(v)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function iC(i,e={}){return wl(i,"GET","/v2/passwordPolicy",Cp(i,e))}const rC=6;class aC{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??rC,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class lC{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yv(this),this.idTokenSubscription=new Yv(this),this.beforeStateQueue=new sC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=vi(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await fh(this,{idToken:e}),r=await _s._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ys(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===f)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ys(this.app))return Promise.reject(aa(this));const s=e?an(e):null;return s&&Me(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ys(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ys(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iC(this),s=new aC(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xo("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await eC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&vi(e)||this._popupRedirectResolver;Me(s,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[vi(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let f=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(y,this,"internal-error"),y.then(()=>{f||c(this.currentUser)}),typeof s=="function"){const v=e.addObserver(s,r,o);return()=>{f=!0,v()}}else{const v=e.addObserver(s);return()=>{f=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zh(i){return an(i)}class Yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mA(s=>this.observer=s)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oC(i){Mp=i}function uC(i){return Mp.loadJS(i)}function cC(){return Mp.gapiScript}function hC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function dC(i,e){const s=Bm(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),c=s.getOptions();if(la(c,e??{}))return o;Zs(o,"already-initialized")}return s.initialize({options:e})}function fC(i,e){const s=e?.persistence||[],r=(Array.isArray(s)?s:[s]).map(vi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function mC(i,e,s){const r=zh(i);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=mE(e),{host:f,port:y}=pC(e),v=y===null?"":`:${y}`,_={url:`${c}//${f}${v}/`},x=Object.freeze({host:f,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(la(_,r.config.emulator)&&la(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,vl(f)?(mb(`${c}//${f}${v}`),pb("Auth",!0)):gC()}function mE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pC(i){const e=mE(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Kv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Kv(f)}}}function Kv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function gC(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class pE{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,s){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}}async function cl(i,e){return GR(i,"POST","/v1/accounts:signInWithIdp",Cp(i,e))}const yC="http://localhost";class ha extends pE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Zs("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=s;if(!r||!o)return null;const f=new ha(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const s=this.buildRequest();return cl(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,cl(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,cl(e,s)}buildRequest(){const e={requestUri:yC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=$o(s)}return e}}class Op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends Op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends iu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class yi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return ha._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return yi.credential(s,r)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";class or extends iu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class ur extends iu{constructor(){super("twitter.com")}static credential(e,s){return ha._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return ur.credential(s,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";class _l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const c=await _s._fromIdTokenResponse(e,r,o),f=Xv(r);return new _l({user:c,providerId:f,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=Xv(r);return new _l({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function Xv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ph extends wi{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new ph(e,s,r,o)}}function gE(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(i,c,e,r):c})}async function _C(i,e,s=!1){const r=await Ko(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return _l._forOperation(i,"link",r)}async function vC(i,e,s=!1){const{auth:r}=i;if(ys(r.app))return Promise.reject(aa(r));const o="reauthenticate";try{const c=await Ko(i,gE(r,o,e,i),s);Me(c.idToken,r,"internal-error");const f=Ip(c.idToken);Me(f,r,"internal-error");const{sub:y}=f;return Me(i.uid===y,r,"user-mismatch"),_l._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zs(r,"user-mismatch"),c}}async function bC(i,e,s=!1){if(ys(i.app))return Promise.reject(aa(i));const r="signIn",o=await gE(i,r,e),c=await _l._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(c.user),c}function EC(i,e,s,r){return an(i).onIdTokenChanged(e,s,r)}function TC(i,e,s){return an(i).beforeAuthStateChanged(e,s)}function xC(i,e,s,r){return an(i).onAuthStateChanged(e,s,r)}function SC(i){return an(i).signOut()}const gh="__sak";class yE{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AC=1e3,wC=10;class _E extends yE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((f,y,v)=>{this.notifyListeners(f,v)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!s&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);nC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wC):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}_E.type="LOCAL";const NC=_E;class vE extends yE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}vE.type="SESSION";const bE=vE;function RC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:c}=s.data,f=this.handlersMap[o];if(!f?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(f).map(async _=>_(s.origin,c)),v=await RC(y);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function kp(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}class CC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((y,v)=>{const _=kp("",20);o.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(S){const O=S;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(O.data.response);break;default:clearTimeout(x),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:s},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Xs(){return window}function IC(i){Xs().location.href=i}function EE(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function DC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MC(){return navigator?.serviceWorker?.controller||null}function OC(){return EE()?self:null}const TE="firebaseLocalStorageDb",kC=1,yh="firebaseLocalStorage",xE="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Bh(i,e){return i.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function VC(){const i=indexedDB.deleteDatabase(TE);return new ru(i).toPromise()}function Um(){const i=indexedDB.open(TE,kC);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(yh,{keyPath:xE})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(yh)?e(r):(r.close(),await VC(),e(await Um()))})})}async function $v(i,e,s){const r=Bh(i,!0).put({[xE]:e,value:s});return new ru(r).toPromise()}async function jC(i,e){const s=Bh(i,!1).get(e),r=await new ru(s).toPromise();return r===void 0?null:r.value}function Zv(i,e){const s=Bh(i,!0).delete(e);return new ru(s).toPromise()}const LC=800,UC=3;class SE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>UC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(OC()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DC(),!this.activeServiceWorker)return;this.sender=new CC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await $v(e,gh,"1"),await Zv(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>$v(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>jC(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zv(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Bh(o,!1).getAll();return new ru(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SE.type="LOCAL";const PC=SE;new su(3e4,6e4);function AE(i,e){return e?vi(e):(Me(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Vp extends pE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,s){return cl(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function zC(i){return bC(i.auth,new Vp(i),i.bypassAuthState)}function qC(i){const{auth:e,user:s}=i;return Me(s,e,"internal-error"),vC(s,new Vp(i),i.bypassAuthState)}async function BC(i){const{auth:e,user:s}=i;return Me(s,e,"internal-error"),_C(s,new Vp(i),i.bypassAuthState)}class wE{constructor(e,s,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:c,error:f,type:y}=e;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:s,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zC;case"linkViaPopup":case"linkViaRedirect":return BC;case"reauthViaPopup":case"reauthViaRedirect":return qC;default:Zs(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HC=new su(2e3,1e4);async function FC(i,e,s){if(ys(i.app))return Promise.reject(vs(i,"operation-not-supported-in-this-environment"));const r=zh(i);UR(i,e,Op);const o=AE(r,s);return new sa(r,"signInViaPopup",e,o).executeNotNull()}class sa extends wE{constructor(e,s,r,o,c){super(e,s,o,c),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HC.get())};e()}}sa.currentPopupAction=null;const GC="pendingRedirect",$c=new Map;class QC extends wE{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await YC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YC(i,e){const s=$C(e),r=XC(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function KC(i,e){$c.set(i._key(),e)}function XC(i){return vi(i._redirectPersistence)}function $C(i){return Xc(GC,i.config.apiKey,i.name)}async function ZC(i,e,s=!1){if(ys(i.app))return Promise.reject(aa(i));const r=zh(i),o=AE(r,e),f=await new QC(r,o,s).execute();return f&&!s&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const JC=600*1e3;class WC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eI(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!NE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";s.onError(vs(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}saveEventToCache(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}function Jv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function NE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function eI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NE(i);default:return!1}}async function tI(i,e={}){return wl(i,"GET","/v1/projects",e)}const nI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sI=/^https?/;async function iI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await tI(i);for(const s of e)try{if(rI(s))return}catch{}Zs(i,"unauthorized-domain")}function rI(i){const e=jm(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&f.hostname===r}if(!sI.test(s))return!1;if(nI.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const aI=new su(3e4,6e4);function Wv(){const i=Xs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function lI(i){return new Promise((e,s)=>{function r(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),s(vs(i,"network-request-failed"))},timeout:aI.get()})}if(Xs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xs().gapi?.load)r();else{const o=hC("iframefcb");return Xs()[o]=()=>{gapi.load?r():s(vs(i,"network-request-failed"))},uC(`${cC()}?onload=${o}`).catch(c=>s(c))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function oI(i){return Zc=Zc||lI(i),Zc}const uI=new su(5e3,15e3),cI="__/auth/iframe",hI="emulator/auth/iframe",dI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mI(i){const e=i.config;Me(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?Rp(e,hI):`https://${i.config.authDomain}/${cI}`,r={apiKey:e.apiKey,appName:i.name,v:bl},o=fI.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${s}?${$o(r).slice(1)}`}async function pI(i){const e=await oI(i),s=Xs().gapi;return Me(s,i,"internal-error"),e.open({where:document.body,url:mI(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dI,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=vs(i,"network-request-failed"),y=Xs().setTimeout(()=>{c(f)},uI.get());function v(){Xs().clearTimeout(y),o(r)}r.ping(v).then(v,()=>{c(f)})}))}const gI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yI=500,_I=600,vI="_blank",bI="http://localhost";class eb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EI(i,e,s,r=yI,o=_I){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...gI,width:r.toString(),height:o.toString(),top:c,left:f},_=bn().toLowerCase();s&&(y=lE(_)?vI:s),rE(_)&&(e=e||bI,v.scrollbars="yes");const x=Object.entries(v).reduce((O,[K,se])=>`${O}${K}=${se},`,"");if(tC(_)&&y!=="_self")return TI(e||"",y),new eb(null);const S=window.open(e||"",y,x);Me(S,i,"popup-blocked");try{S.focus()}catch{}return new eb(S)}function TI(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const xI="__/auth/handler",SI="emulator/auth/handler",AI=encodeURIComponent("fac");async function tb(i,e,s,r,o,c){Me(i.config.authDomain,i,"auth-domain-config-required"),Me(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:bl,eventId:o};if(e instanceof Op){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",fA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,S]of Object.entries({}))f[x]=S}if(e instanceof iu){const x=e.getScopes().filter(S=>S!=="");x.length>0&&(f.scopes=x.join(","))}i.tenantId&&(f.tid=i.tenantId);const y=f;for(const x of Object.keys(y))y[x]===void 0&&delete y[x];const v=await i._getAppCheckToken(),_=v?`#${AI}=${encodeURIComponent(v)}`:"";return`${wI(i)}?${$o(y).slice(1)}${_}`}function wI({config:i}){return i.emulator?Rp(i,SI):`https://${i.authDomain}/${xI}`}const om="webStorageSupport";class NI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bE,this._completeRedirectFn=ZC,this._overrideRedirectResult=KC}async _openPopup(e,s,r,o){Ai(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await tb(e,s,r,jm(),o);return EI(e,c,kp())}async _openRedirect(e,s,r,o){await this._originValidation(e);const c=await tb(e,s,r,jm(),o);return IC(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:c}=this.eventManagers[s];return o?Promise.resolve(o):(Ai(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await pI(e),r=new WC(e);return s.register("authEvent",o=>(Me(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(om,{type:om},o=>{const c=o?.[0]?.[om];c!==void 0&&s(!!c),Zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=iI(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return dE()||aE()||Dp()}}const RI=NI;var nb="@firebase/auth",sb="1.11.1";class CI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function II(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DI(i){hl(new oa("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:y}=r.options;Me(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:f,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(i)},_=new lC(r,o,c,v);return fC(_,s),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),hl(new oa("auth-internal",e=>{const s=zh(e.getProvider("auth").getImmediate());return(r=>new CI(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(nb,sb,II(i)),fr(nb,sb,"esm2020")}const MI=300,OI=fb("authIdTokenMaxAge")||MI;let ib=null;const kI=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>OI)return;const o=s?.token;ib!==o&&(ib=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VI(i=vb()){const e=Bm(i,"auth");if(e.isInitialized())return e.getImmediate();const s=dC(i,{popupRedirectResolver:RI,persistence:[PC,NC,bE]}),r=fb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=kI(c.toString());TC(s,f,()=>f(s.currentUser)),EC(s,y=>f(y))}}const o=hb("auth");return o&&mC(s,`http://${o}`),s}function jI(){return document.getElementsByTagName("head")?.[0]??document}oC({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=vs("internal-error");c.customData=o,s(c)},r.type="text/javascript",r.charset="UTF-8",jI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DI("Browser");const LI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},RE=_b(LI),Wt=xR(RE),um=VI(RE),UI=new yi;class au{constructor(e=0,s="Network Error"){this.status=e,this.text=s}}const PI=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},fn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:PI()},jp=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},zI=(i,e="https://api.emailjs.com")=>{if(!i)return;const s=jp(i);fn.publicKey=s.publicKey,fn.blockHeadless=s.blockHeadless,fn.storageProvider=s.storageProvider,fn.blockList=s.blockList,fn.limitRate=s.limitRate,fn.origin=s.origin||e},CE=async(i,e,s={})=>{const r=await fetch(fn.origin+i,{method:"POST",headers:s,body:e}),o=await r.text(),c=new au(r.status,o);if(r.ok)return c;throw c},IE=(i,e,s)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},qI=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},DE=i=>i.webdriver||!i.languages||i.languages.length===0,ME=()=>new au(451,"Unavailable For Headless Browser"),BI=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},HI=i=>!i.list?.length||!i.watchVariable,FI=(i,e)=>i instanceof FormData?i.get(e):i[e],OE=(i,e)=>{if(HI(i))return!1;BI(i.list,i.watchVariable);const s=FI(e,i.watchVariable);return typeof s!="string"?!1:i.list.includes(s)},kE=()=>new au(403,"Forbidden"),GI=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},QI=async(i,e,s)=>{const r=Number(await s.get(i)||0);return e-Date.now()+r},VE=async(i,e,s)=>{if(!e.throttle||!s)return!1;GI(e.throttle,e.id);const r=e.id||i;return await QI(r,e.throttle,s)>0?!0:(await s.set(r,Date.now().toString()),!1)},jE=()=>new au(429,"Too Many Requests"),YI=async(i,e,s,r)=>{const o=jp(r),c=o.publicKey||fn.publicKey,f=o.blockHeadless||fn.blockHeadless,y=o.storageProvider||fn.storageProvider,v={...fn.blockList,...o.blockList},_={...fn.limitRate,...o.limitRate};return f&&DE(navigator)?Promise.reject(ME()):(IE(c,i,e),qI(s),s&&OE(v,s)?Promise.reject(kE()):await VE(location.pathname,_,y)?Promise.reject(jE()):CE("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:i,template_id:e,template_params:s}),{"Content-type":"application/json"}))},KI=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},XI=i=>typeof i=="string"?document.querySelector(i):i,$I=async(i,e,s,r)=>{const o=jp(r),c=o.publicKey||fn.publicKey,f=o.blockHeadless||fn.blockHeadless,y=fn.storageProvider||o.storageProvider,v={...fn.blockList,...o.blockList},_={...fn.limitRate,...o.limitRate};if(f&&DE(navigator))return Promise.reject(ME());const x=XI(s);IE(c,i,e),KI(x);const S=new FormData(x);return OE(v,S)?Promise.reject(kE()):await VE(location.pathname,_,y)?Promise.reject(jE()):(S.append("lib_version","4.4.1"),S.append("service_id",i),S.append("template_id",e),S.append("user_id",c),CE("/api/v1.0/email/send-form",S))},ZI={init:zI,send:YI,sendForm:$I,EmailJSResponseStatus:au},rb="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",cm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},ab=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],hm={"Cinema Camera Kit":{count:1,category:"film",requiresTraining:!0},"Gimbal / Stabilizer":{count:6,category:"film",requiresTraining:!0},"DJI Mic Kit (Wireless)":{count:4,category:"film",requiresTraining:!1},"DJI Flip Drone":{count:1,category:"film",requiresTraining:!0},"Lighting Kit":{count:6,category:"film",requiresTraining:!1},Tripod:{count:8,category:"general",requiresTraining:!1},"DSLR Camera Body":{count:6,category:"photo",requiresTraining:!0},"Zoom Lens (18-55mm)":{count:6,category:"photo",requiresTraining:!1},"Telephoto Lens (70-200mm)":{count:2,category:"photo",requiresTraining:!1},"Portrait Lens (50mm)":{count:3,category:"photo",requiresTraining:!1},"SD Card Reader":{count:5,category:"photo",requiresTraining:!1},"Flash Unit":{count:3,category:"photo",requiresTraining:!1},"Serving Trays":{count:10,category:"culinary",requiresTraining:!1},"Chafing Dishes":{count:4,category:"culinary",requiresTraining:!1}},Ue={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory",FEEDBACK:"feedback"},ea=i=>`salpointe_draft_${i}`,dm=i=>{ZI.send(cm.SERVICE_ID,cm.TEMPLATE_ID,i,cm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},JI=()=>{const[i,e]=_e.useState("landing"),[s,r]=_e.useState(!1),[o,c]=_e.useState(null),[f,y]=_e.useState(!1),[v,_]=_e.useState(hm),[x,S]=_e.useState([]);_e.useEffect(()=>{const Y=xC(um,ee=>{ee?(c(ee),y(ab.includes(ee.email))):(c(null),y(!1))});return()=>Y()},[]),_e.useEffect(()=>{(async()=>{const ue=Hs(Wt,"settings","inventory_v2"),w=await VR(ue);w.exists()?_(w.data()):(await am(ue,hm),_(hm))})();const ee=rr(Bs(Wt,"blackout_dates")),ne=nl(ee,ue=>{const w=ue.docs.map(j=>j.id);S(w)});return()=>ne()},[]);const O=async()=>{try{await FC(um,UI),e(Ue.DASHBOARD)}catch(Y){console.error("Login failed:",Y),alert("Login failed.")}},K=async()=>{await SC(um),e("landing")},se=()=>{e("landing"),r(!1)},re=()=>{e(Ue.DASHBOARD),r(!1)},ie=[Ue.FILM,Ue.GRAPHIC,Ue.BUSINESS,Ue.CULINARY,Ue.PHOTO].includes(i);return m.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30 flex flex-col",children:[m.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),m.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),m.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[m.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:se,children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),m.jsx("img",{src:rb,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",m.jsx("span",{className:"text-red-500",children:"CTE"})]}),m.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),m.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!ie&&i!=="landing"&&i!=="dashboard"&&m.jsxs("button",{onClick:re,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[m.jsx(Cx,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),i!=="landing"&&m.jsxs("button",{onClick:()=>{e(Ue.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===Ue.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[m.jsx(Mc,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),o?m.jsxs(m.Fragment,{children:[i!=="landing"&&m.jsxs("button",{onClick:()=>{e(Ue.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===Ue.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[m.jsx(v_,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),f&&i!=="landing"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>{e(Ue.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===Ue.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[m.jsx(Kf,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),m.jsxs("button",{onClick:()=>{e(Ue.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===Ue.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[m.jsx(Px,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),m.jsxs("button",{onClick:()=>{e(Ue.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===Ue.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[m.jsx(S_,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),m.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),m.jsx("button",{onClick:K,className:"ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all flex items-center gap-2",title:`Logged in as ${o.email}`,children:m.jsx(uS,{size:16})})]}):m.jsxs("button",{onClick:O,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[m.jsx(E_,{size:16})," Login"]})]})]})}),m.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10 flex-grow w-full",children:s?m.jsx(Re,{onReset:re}):m.jsxs(m.Fragment,{children:[i===Ue.LANDING&&m.jsx(je,{currentUser:o,onLogin:O,onEnter:re}),i===Ue.DASHBOARD&&m.jsx(ot,{onViewChange:e,currentUser:o}),i===Ue.FILM&&m.jsx(L,{setSubmitted:r,onCancel:re,currentUser:o,inventory:v,blackouts:x}),i===Ue.GRAPHIC&&m.jsx(N,{setSubmitted:r,onCancel:re,currentUser:o}),i===Ue.BUSINESS&&m.jsx(Tt,{setSubmitted:r,onCancel:re,currentUser:o}),i===Ue.CULINARY&&m.jsx(kt,{setSubmitted:r,onCancel:re,currentUser:o}),i===Ue.PHOTO&&m.jsx(G,{setSubmitted:r,onCancel:re,currentUser:o,inventory:v,blackouts:x}),i===Ue.CALENDAR&&m.jsx(C,{adminMode:f,blackouts:x}),i===Ue.QUEUE&&m.jsx(k,{adminMode:f,setAdminMode:y,ALLOWED_ADMINS:ab}),i===Ue.MY_REQUESTS&&m.jsx(A,{currentUser:o}),i===Ue.ANALYTICS&&f&&m.jsx(I,{}),i===Ue.INVENTORY&&f&&m.jsx(Je,{inventory:v,setInventory:_}),i===Ue.FEEDBACK&&m.jsx(xe,{currentUser:o,adminMode:f,setSubmitted:r,onCancel:re})]})}),m.jsx("footer",{className:"text-center py-8 px-4 border-t border-slate-800/50 mt-auto relative z-10 bg-slate-900/50",children:m.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-60 hover:opacity-100 transition-opacity duration-500",children:[m.jsx("img",{src:rb,alt:"Salpointe Catholic High School",className:"w-8 h-8 opacity-80 grayscale hover:grayscale-0 transition-all"}),m.jsxs("p",{className:"text-slate-500 text-xs font-mono tracking-widest uppercase",children:[" ",new Date().getFullYear()," Salpointe Catholic High School ",m.jsx("span",{className:"text-slate-700 mx-2",children:"|"})," CTE Department"]}),m.jsxs("button",{onClick:()=>e(Ue.FEEDBACK),className:"text-xs text-cyan-600 hover:text-cyan-400 flex items-center gap-1 transition-colors mt-2",children:[m.jsx(T_,{size:12})," Feedback & Support"]})]})})]});function xe({currentUser:Y,adminMode:ee,setSubmitted:ne,onCancel:ue}){const[w,j]=_e.useState("bug"),[J,F]=_e.useState(""),[ae,oe]=_e.useState([]);_e.useEffect(()=>{if(ee){const Ce=rr(Bs(Wt,"feedback"),rm("createdAt","desc")),we=nl(Ce,We=>{const St=We.docs.map(rt=>({id:rt.id,...rt.data()}));oe(St)});return()=>we()}},[ee]);const me=async Ce=>{if(Ce.preventDefault(),!!J.trim())try{const we={type:w,message:J,email:Y?.email||"Anonymous",fullName:Y?.displayName||"Guest",createdAt:new Date,status:"Open"};await qv(Bs(Wt,"feedback"),we),w==="bug"&&dm({to_name:"Admin",to_email:"erivers@salpointe.org",subject:"[BUG REPORT] CTE Hub Issue",title:"Bug Report",status:"Urgent",message:`User ${we.fullName} reported a bug:

${J}`}),alert("Feedback received. Thank you for improving the system."),F(""),ee||ue()}catch(we){console.error(we),alert("Error sending feedback.")}},qe=async Ce=>{window.confirm("Mark this item as Resolved/Closed?")&&await zv(Hs(Wt,"feedback",Ce),{status:"Resolved"})},Oe=async Ce=>{window.confirm("Delete this feedback?")&&await zc(Hs(Wt,"feedback",Ce))};return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"p-3 rounded-xl bg-cyan-950/30 border border-cyan-500/30 text-cyan-400",children:m.jsx(T_,{size:28})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"System Feedback"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Report glitches or suggest system upgrades."})]})]}),m.jsxs("form",{onSubmit:me,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("button",{type:"button",onClick:()=>j("bug"),className:`p-4 rounded-xl border text-left transition-all ${w==="bug"?"bg-red-950/40 border-red-500 text-red-400":"bg-slate-950 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[m.jsx(g_,{size:18})," Bug Report"]}),m.jsx("p",{className:"text-xs opacity-80",children:"Something is broken or not working correctly."})]}),m.jsxs("button",{type:"button",onClick:()=>j("feature"),className:`p-4 rounded-xl border text-left transition-all ${w==="feature"?"bg-amber-950/40 border-amber-500 text-amber-400":"bg-slate-950 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[m.jsx(b_,{size:18})," Feature Idea"]}),m.jsx("p",{className:"text-xs opacity-80",children:'"It would be cool if the app could..."'})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Details"}),m.jsx("textarea",{value:J,onChange:Ce=>F(Ce.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-slate-200 focus:border-cyan-500 outline-none h-32",placeholder:w==="bug"?"Describe what happened and what you expected...":"Describe your idea for improving the Hub...",required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:ue,className:"px-6 py-2 rounded-lg border border-slate-700 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-2 rounded-lg font-bold shadow-lg transition-all",children:"Submit Feedback"})]})]})]}),ee&&m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[m.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[m.jsx(Kf,{size:18,className:"text-purple-400"})," Admin Feedback Inbox"]}),m.jsx("div",{className:"space-y-3",children:ae.length===0?m.jsx("p",{className:"text-slate-500 text-center py-4",children:"No feedback reports found."}):ae.map(Ce=>m.jsxs("div",{className:"bg-slate-950 border border-slate-800 p-4 rounded-xl flex flex-col sm:flex-row gap-4 justify-between items-start hover:border-slate-700 transition-colors",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Ce.type==="bug"?m.jsxs("span",{className:"text-xs font-bold bg-red-900/30 text-red-400 px-2 py-1 rounded flex items-center gap-1",children:[m.jsx(g_,{size:12})," BUG"]}):m.jsxs("span",{className:"text-xs font-bold bg-amber-900/30 text-amber-400 px-2 py-1 rounded flex items-center gap-1",children:[m.jsx(b_,{size:12})," IDEA"]}),Ce.status==="Resolved"&&m.jsx("span",{className:"text-xs font-bold bg-green-900/30 text-green-400 px-2 py-1 rounded",children:"RESOLVED"}),m.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:[Ce.fullName,"  ",Ce.createdAt?.toDate?Ce.createdAt.toDate().toLocaleDateString():"Just now"]})]}),m.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mt-2",children:Ce.message})]}),m.jsxs("div",{className:"flex gap-2",children:[Ce.status!=="Resolved"&&m.jsx("button",{onClick:()=>qe(Ce.id),className:"p-2 bg-green-900/20 text-green-500 rounded-lg hover:bg-green-900/40",title:"Mark Resolved",children:m.jsx(NS,{size:16})}),m.jsx("button",{onClick:()=>Oe(Ce.id),className:"p-2 bg-slate-800 text-slate-500 rounded-lg hover:bg-red-900/20 hover:text-red-500",title:"Delete",children:m.jsx(A_,{size:16})})]})]},Ce.id))})]})]})}function je({currentUser:Y,onLogin:ee,onEnter:ne}){return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[m.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),m.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["The Future of ",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Creative Logistics"})]}),m.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Eliminating the friction of paper logs and email chains. A centralized command center for Salpointe's creative technology."}),m.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:Y?m.jsxs("button",{onClick:ne,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),m.jsx(qS,{size:24,className:"fill-white"})," Initialize Hub"]}):m.jsxs("button",{onClick:ee,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[m.jsx(E_,{size:24})," Login to Access"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[m.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[m.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:m.jsx(iS,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),m.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[m.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:m.jsx(Jx,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),m.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[m.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:m.jsx(AS,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function Re({onReset:Y}){return m.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[m.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:m.jsx(Xx,{size:40})}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),m.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),m.jsx("button",{onClick:Y,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function ot({onViewChange:Y,currentUser:ee}){const[ne,ue]=_e.useState({});_e.useEffect(()=>{(()=>{const J={},F={[Ue.FILM]:"Film",[Ue.GRAPHIC]:"Graphic",[Ue.BUSINESS]:"Business",[Ue.CULINARY]:"Culinary",[Ue.PHOTO]:"Photo"};Object.keys(F).forEach(ae=>{const oe=ea(F[ae]);localStorage.getItem(oe)&&(J[ae]=!0)}),ue(J)})()},[]);const w=[{id:Ue.FILM,title:"Film & TV",icon:N_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:Ue.GRAPHIC,title:"Graphic Design",icon:x_,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:Ue.BUSINESS,title:"Business",icon:Qf,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:Ue.CULINARY,title:"Culinary Arts",icon:w_,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:Ue.PHOTO,title:"Photography",icon:Yf,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"col-span-full mb-4",children:[m.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:ee?`Welcome, ${ee.displayName.split(" ")[0]}.`:"Access Granted."}),m.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),w.map(j=>m.jsxs("div",{onClick:()=>Y(j.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${j.bg}`,children:[ne[j.id]&&m.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[m.jsx(Oc,{size:12})," RESUME"]}),m.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${j.color} transition-transform group-hover:scale-110 duration-300`,children:m.jsx(j.icon,{size:28})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:j.title}),m.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:j.desc})]},j.id))]})}function _t({initialData:Y={},currentUser:ee}){const ne=ee?.displayName||Y.fullName||"",ue=ee?.email||Y.email||"";return m.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[m.jsx(kS,{size:18})," Identity Verification"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),m.jsx("input",{name:"requestName",type:"text",defaultValue:Y.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),m.jsx("input",{name:"fullName",type:"text",defaultValue:ne,readOnly:!!ee,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${ee?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),m.jsx("input",{name:"email",type:"email",defaultValue:ue,readOnly:!!ee,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${ee?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),m.jsxs("select",{name:"role",defaultValue:Y.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[m.jsx("option",{children:"Student"}),m.jsx("option",{children:"Faculty / Staff"}),m.jsx("option",{children:"Club Representative"})]})]})]})]})}function Je({inventory:Y,setInventory:ee}){const[ne,ue]=_e.useState(Y),[w,j]=_e.useState(!1),[J,F]=_e.useState(""),[ae,oe]=_e.useState(1),[me,qe]=_e.useState("film"),[Oe,Ce]=_e.useState(!1),[we,We]=_e.useState(null),[St,rt]=_e.useState(""),[pe,de]=_e.useState(!1),Ee=(Te,ke,vt)=>{ue(bt=>({...bt,[Te]:{...bt[Te],[ke]:vt}}))},Se=Te=>{if(window.confirm(`Delete "${Te}" from inventory permanently?`)){const ke={...ne};delete ke[Te],ue(ke)}},ye=Te=>{if(Te.preventDefault(),!J)return;const ke=J.trim();if(ne[ke]){alert("Item already exists.");return}ue(vt=>({...vt,[ke]:{count:parseInt(ae)||0,category:me,requiresTraining:Oe}})),F(""),oe(1),Ce(!1)},Ie=(Te,ke)=>{We(Te),rt(Te),de(ke.requiresTraining||!1)},te=()=>{We(null),rt(""),de(!1)},Ne=()=>{if(!St.trim())return;const Te=St.trim(),vt={...ne[we],requiresTraining:pe},bt={...ne};if(Te!==we){if(bt[Te]){alert("An item with this name already exists.");return}delete bt[we],bt[Te]=vt}else bt[Te]=vt;ue(bt),We(null)},ct=async()=>{j(!0);try{await am(Hs(Wt,"settings","inventory_v2"),ne),ee(ne),alert("Inventory matrix updated.")}catch(Te){console.error("Error:",Te),alert("Save failed.")}j(!1)},nt={film:[],photo:[],culinary:[],general:[]};return Object.entries(ne).forEach(([Te,ke])=>{nt[ke.category]?nt[ke.category].push({name:Te,...ke}):nt.general.push({name:Te,...ke})}),m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6 flex justify-between items-center",children:[m.jsx("div",{children:m.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[m.jsx(S_,{className:"text-amber-400"})," Inventory Matrix"]})}),m.jsxs("button",{onClick:ct,disabled:w,className:"bg-amber-600 hover:bg-amber-500 text-slate-900 px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50 shadow-[0_0_15px_rgba(245,158,11,0.3)]",children:[w?m.jsx(vS,{className:"animate-spin",size:18}):m.jsx(Oc,{size:18})," ",w?"Processing...":"Save Changes"]})]}),m.jsxs("div",{className:"p-6 bg-slate-900/30 border-b border-slate-800",children:[m.jsx("h3",{className:"text-sm font-mono text-cyan-500 uppercase mb-3",children:"Add New Asset"}),m.jsxs("form",{onSubmit:ye,className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Item Name"}),m.jsx("input",{type:"text",value:J,onChange:Te=>F(Te.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",placeholder:"e.g. GoPro Hero 10",required:!0})]}),m.jsxs("div",{className:"w-24",children:[m.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Count"}),m.jsx("input",{type:"number",min:"0",value:ae,onChange:Te=>oe(Te.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none"})]}),m.jsxs("div",{className:"w-32",children:[m.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Category"}),m.jsxs("select",{value:me,onChange:Te=>qe(Te.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",children:[m.jsx("option",{value:"film",children:"Film"}),m.jsx("option",{value:"photo",children:"Photo"}),m.jsx("option",{value:"culinary",children:"Culinary"}),m.jsx("option",{value:"general",children:"General"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[m.jsx("input",{type:"checkbox",checked:Oe,onChange:Te=>Ce(Te.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-slate-950 text-cyan-500 focus:ring-cyan-500"}),m.jsx("label",{className:"text-sm text-slate-400",children:"Training Req."})]}),m.jsxs("button",{type:"submit",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded font-medium flex items-center gap-1",children:[m.jsx(yS,{size:16})," Add"]})]})]}),m.jsx("div",{className:"p-6 space-y-8",children:Object.entries(nt).map(([Te,ke])=>m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-white capitalize mb-4 border-b border-slate-800 pb-2 text-emerald-400",children:[Te," Inventory"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ke.map(vt=>m.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg border border-slate-700 flex justify-between items-center hover:border-slate-600 transition-colors",children:[we===vt.name?m.jsxs("div",{className:"flex-1 flex items-center gap-2 mr-2",children:[m.jsx("input",{type:"text",value:St,onChange:bt=>rt(bt.target.value),className:"flex-1 bg-slate-950 border border-cyan-500 rounded p-1 text-white text-sm outline-none",autoFocus:!0}),m.jsxs("label",{className:"flex items-center gap-1 text-xs text-slate-400",children:[m.jsx("input",{type:"checkbox",checked:pe,onChange:bt=>de(bt.target.checked)})," Train"]}),m.jsx("button",{onClick:Ne,className:"text-green-500 hover:text-green-400 p-1",children:m.jsx(y_,{size:18})}),m.jsx("button",{onClick:te,className:"text-red-500 hover:text-red-400 p-1",children:m.jsx(kc,{size:18})})]}):m.jsxs("div",{className:"flex-1 mr-4 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-mono text-slate-300 text-sm block truncate",children:vt.name}),vt.requiresTraining&&m.jsx("span",{className:"text-[10px] text-red-400 uppercase bg-red-900/20 px-1 rounded",children:"Training Req."})]}),m.jsx("button",{onClick:()=>Ie(vt.name,vt),className:"text-slate-600 hover:text-cyan-400 p-1 ml-2",children:m.jsx(pS,{size:14})})]}),m.jsxs("div",{className:"flex items-center gap-2 border-l border-slate-700 pl-3",children:[m.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Qty"}),m.jsx("input",{type:"number",min:"0",value:vt.count,onChange:bt=>Ee(vt.name,"count",parseInt(bt.target.value)),className:"w-14 p-1 bg-slate-950 border border-slate-700 rounded text-center font-bold text-cyan-400 focus:border-cyan-500 outline-none text-sm"}),m.jsx("button",{onClick:()=>Se(vt.name),className:"text-slate-600 hover:text-red-500 transition-colors ml-1",children:m.jsx(A_,{size:16})})]})]},vt.name))})]},Te))})]})}function I(){const[Y,ee]=_e.useState(!0),[ne,ue]=_e.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});_e.useEffect(()=>{const j=rr(Bs(Wt,"requests")),J=nl(j,F=>{let ae=0,oe=0,me=0,qe={},Oe={};F.forEach(we=>{const We=we.data();ae++,(We.status==="Approved"||We.status==="Completed")&&oe++,We.status==="Pending Review"&&me++,qe[We.dept]=(qe[We.dept]||0)+1,We.equipment&&(Array.isArray(We.equipment)?We.equipment:[We.equipment]).forEach(rt=>{Oe[rt]=(Oe[rt]||0)+1})});const Ce=Object.entries(Oe).sort(([,we],[,We])=>We-we).slice(0,5);ue({total:ae,approved:oe,pending:me,deptCounts:qe,topEquipment:Ce}),ee(!1)});return()=>J()},[]);const w=ne.total>0?Math.round(ne.approved/ne.total*100):0;return m.jsx("div",{className:"space-y-6 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("div",{children:m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[m.jsx(IS,{className:"text-emerald-400"})," Data Analytics"]})}),m.jsxs("div",{className:"bg-slate-800 border border-slate-700 px-4 py-2 rounded-lg text-cyan-400 font-mono text-sm",children:["Total Requests: ",m.jsx("strong",{children:ne.total})]})]}),Y?m.jsx("div",{className:"text-center py-12 text-slate-500 font-mono",children:"CALCULATING..."}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-emerald-950/30 rounded-xl p-5 border border-emerald-500/20",children:[m.jsx("h4",{className:"text-emerald-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Approval Rate"}),m.jsx("div",{className:"flex items-end gap-2",children:m.jsxs("span",{className:"text-4xl font-bold text-emerald-400 font-mono",children:[w,"%"]})})]}),m.jsxs("div",{className:"bg-blue-950/30 rounded-xl p-5 border border-blue-500/20",children:[m.jsx("h4",{className:"text-blue-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Completed"}),m.jsx("div",{className:"flex items-end gap-2",children:m.jsx("span",{className:"text-4xl font-bold text-blue-400 font-mono",children:ne.approved})})]}),m.jsxs("div",{className:"bg-amber-950/30 rounded-xl p-5 border border-amber-500/20",children:[m.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Pending"}),m.jsx("div",{className:"flex items-end gap-2",children:m.jsx("span",{className:"text-4xl font-bold text-amber-400 font-mono",children:ne.pending})})]}),m.jsxs("div",{className:"md:col-span-2 bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[m.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[m.jsx(qx,{size:16,className:"text-purple-400"})," Requests by Department"]}),m.jsx("div",{className:"space-y-4",children:Object.entries(ne.deptCounts).sort(([,j],[,J])=>J-j).map(([j,J])=>{const F=J/ne.total*100;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-2 font-mono",children:[m.jsx("span",{className:"text-slate-400",children:j}),m.jsx("span",{className:"text-cyan-400",children:J})]}),m.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:m.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${F}%`}})})]},j)})})]}),m.jsxs("div",{className:"bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[m.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[m.jsx(Yf,{size:16,className:"text-pink-400"})," Top Gear"]}),m.jsx("ul",{className:"space-y-3",children:ne.topEquipment.map(([j,J],F)=>m.jsxs("li",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 text-cyan-400 flex items-center justify-center text-xs font-mono border border-slate-700",children:F+1}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:j.replace(" *","")}),m.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[J," uses"]})]})]},j))})]})]})]})})}function A({currentUser:Y}){const[ee,ne]=_e.useState([]),[ue,w]=_e.useState(!0);_e.useEffect(()=>{if(!Y)return;const F=rr(Bs(Wt,"requests"),Co("email","==",Y.email),rm("createdAt","desc")),ae=nl(F,oe=>{const me=oe.docs.map(qe=>({id:qe.id,...qe.data(),formattedDate:qe.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));ne(me),w(!1)});return()=>ae()},[Y]);const j=async F=>{window.confirm("Are you sure?")&&await zc(Hs(Wt,"requests",F))},J=F=>{const ae={Approved:"bg-green-950/50 text-green-400 border-green-500/30",Denied:"bg-red-950/50 text-red-400 border-red-500/30",Completed:"bg-slate-800 text-slate-400 border-slate-700",default:"bg-amber-950/50 text-amber-400 border-amber-500/30"};return m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${ae[F]||ae.default}`,children:F})};return m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[m.jsx("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6",children:m.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[m.jsx(v_,{className:"text-cyan-400"})," My Request History"]})}),m.jsx("div",{className:"overflow-x-auto",children:ue?m.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"LOADING DATA..."}):ee.length===0?m.jsx("div",{className:"p-12 text-center text-slate-500",children:"No records found."}):m.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-800/50 border-b border-slate-700 text-xs uppercase text-slate-400 font-mono",children:[m.jsx("th",{className:"p-4",children:"Ref ID"}),m.jsx("th",{className:"p-4",children:"Dept"}),m.jsx("th",{className:"p-4",children:"Project"}),m.jsx("th",{className:"p-4",children:"Date Submitted"}),m.jsx("th",{className:"p-4",children:"Status"}),m.jsx("th",{className:"p-4",children:"Action"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-800",children:ee.map(F=>m.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[m.jsx("td",{className:"p-4 text-cyan-400 font-mono text-xs",children:F.displayId}),m.jsx("td",{className:"p-4 text-slate-300 text-sm capitalize",children:F.dept}),m.jsx("td",{className:"p-4 font-semibold text-white text-sm",children:F.title}),m.jsx("td",{className:"p-4 text-slate-400 text-sm font-mono",children:F.formattedDate}),m.jsx("td",{className:"p-4",children:J(F.status)}),m.jsx("td",{className:"p-4",children:F.status==="Pending Review"&&m.jsx("button",{onClick:()=>j(F.id),className:"text-xs text-red-400 border border-red-900 hover:bg-red-950/50 px-3 py-1 rounded transition-colors",children:"Cancel"})})]},F.id))})]})})]})}function C({adminMode:Y,blackouts:ee}){const[ne,ue]=_e.useState(new Date),[w,j]=_e.useState(null),[J,F]=_e.useState("all"),[ae,oe]=_e.useState([]),[me,qe]=_e.useState(!0),Oe=()=>ue(new Date(ne.setMonth(ne.getMonth()+1))),Ce=()=>ue(new Date(ne.setMonth(ne.getMonth()-1)));_e.useEffect(()=>{const te=rr(Bs(Wt,"requests")),Ne=nl(te,ct=>{const nt=ct.docs.map(Te=>{const ke=Te.data();let vt=ke.eventDate||ke.checkoutDate||ke.pickupDate||ke.deadline;if(!vt)return null;const[bt,Ar,Gn]=vt.split("-").map(Number),Ni=new Date(bt,Ar-1,Gn);return{id:Te.id,title:ke.title||ke.requestName||"Request",displayId:ke.displayId,dept:ke.dept,type:ke.requestType==="checkout"||ke.dept==="Graphic"?"checkout":"event",status:ke.status,date:Ni,...ke}}).filter(Te=>Te!==null&&Te.status==="Approved");oe(nt),qe(!1)});return()=>Ne()},[]);const we=async te=>{const ct=new Date(ne.getFullYear(),ne.getMonth(),te).toISOString().split("T")[0];if(Y){ee.includes(ct)?window.confirm(`Re-open ${ct}?`)&&await zc(Hs(Wt,"blackout_dates",ct)):window.confirm(`Blackout ${ct}?`)&&await am(Hs(Wt,"blackout_dates",ct),{reason:"Closed"});return}j(w===te?null:te)},We=te=>{const Ne=te.getFullYear(),ct=te.getMonth(),nt=new Date(Ne,ct+1,0).getDate(),Te=new Date(Ne,ct,1).getDay();return{days:nt,firstDay:Te,monthName:te.toLocaleString("default",{month:"long"}),year:Ne}},{days:St,firstDay:rt,monthName:pe,year:de}=We(ne),Ee=Array.from({length:St},(te,Ne)=>Ne+1),Se=Array.from({length:rt},(te,Ne)=>Ne),ye=te=>ae.filter(Ne=>Ne.date.getDate()===te&&Ne.date.getMonth()===ne.getMonth()&&Ne.date.getFullYear()===ne.getFullYear()&&(J==="all"||Ne.dept===J)),Ie=te=>{const Ne="https://calendar.google.com/calendar/render?action=TEMPLATE",ct=`&text=${encodeURIComponent(`[${te.dept}] ${te.title}`)}`,nt=`&details=${encodeURIComponent(`Ref: ${te.displayId}
Requested by: ${te.fullName}
Role: ${te.role}
Details: ${te.details||te.brief||te.description||"N/A"}`)}`,Te=`&location=${encodeURIComponent(te.location||"Salpointe Catholic High School")}`,ke=te.date.getFullYear(),vt=String(te.date.getMonth()+1).padStart(2,"0"),bt=String(te.date.getDate()).padStart(2,"0"),Ar=`${ke}${vt}${bt}`,Gn=new Date(te.date);Gn.setDate(Gn.getDate()+1);const Ni=Gn.getFullYear(),ma=String(Gn.getMonth()+1).padStart(2,"0"),kn=String(Gn.getDate()).padStart(2,"0"),Zt=`${Ni}${ma}${kn}`,xn=`&dates=${Ar}/${Zt}`;return`${Ne}${ct}${xn}${nt}${Te}`};return m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"bg-slate-950/50 p-6 border-b border-slate-800 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsx("div",{children:m.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[m.jsx("button",{onClick:Ce,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:m.jsx(Qx,{size:24})}),m.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[pe," ",m.jsx("span",{className:"text-slate-500",children:de})]}),m.jsx("button",{onClick:Oe,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:m.jsx(Fx,{size:24})})]})}),m.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",Ue.FILM,Ue.PHOTO,Ue.CULINARY].map(te=>m.jsx("button",{onClick:()=>F(te),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${J===te?"bg-cyan-600 text-white shadow-[0_0_10px_rgba(8,145,178,0.4)]":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:te==="all"?"All":te},te))})]}),m.jsxs("div",{className:"p-6",children:[Y&&m.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 border border-slate-700 rounded text-xs text-slate-400 flex items-center gap-2 font-mono",children:[m.jsx(m_,{size:14,className:"text-red-400"})," Admin Mode: Click a date to toggle blackout."]}),m.jsx("div",{className:"overflow-x-auto pb-2",children:me?m.jsx("div",{className:"text-center py-8 text-slate-500 font-mono",children:"LOADING MATRIX..."}):m.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-800 border border-slate-800 rounded-xl overflow-hidden shadow-inner",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(te=>m.jsx("div",{className:"bg-slate-900 p-2 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:te},te)),Se.map(te=>m.jsx("div",{className:"bg-slate-950/50 min-h-[80px] md:min-h-[100px]"},`empty-${te}`)),Ee.map(te=>{const Ne=ye(te),ct=te===new Date().getDate()&&ne.getMonth()===new Date().getMonth()&&ne.getFullYear()===new Date().getFullYear(),nt=new Date(de,ne.getMonth(),te).toISOString().split("T")[0],Te=ee.includes(nt);return m.jsxs("div",{className:`min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-800 relative group cursor-pointer transition-colors ${Te?"bg-slate-900/30":"bg-slate-950/50"} ${w===te?"bg-cyan-900/20 border-cyan-500/30":"hover:bg-slate-900"}`,onClick:()=>we(te),children:[m.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${ct?"bg-red-600 text-white shadow-[0_0_10px_rgba(220,38,38,0.5)]":"text-slate-400"}`,children:te}),Te?m.jsx("div",{className:"flex justify-center mt-2",children:m.jsx(m_,{className:"text-red-900/50",size:20})}):m.jsx("div",{className:"space-y-1",children:Ne.map(ke=>m.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${ke.type==="checkout"?"bg-cyan-950/50 text-cyan-400 border-cyan-800/50":"bg-emerald-950/50 text-emerald-400 border-emerald-800/50"}`,children:ke.title},ke.id))})]},te)})]})}),w&&!ee.includes(new Date(de,ne.getMonth(),w).toISOString().split("T")[0])&&m.jsxs("div",{className:"mt-6 p-4 bg-slate-900/50 rounded-xl border border-slate-800 animate-fade-in",children:[m.jsxs("h4",{className:"font-bold text-white mb-3 flex items-center gap-2",children:[m.jsx(Mc,{size:16,className:"text-cyan-400"})," ",pe," ",w]}),ye(w).length===0?m.jsx("p",{className:"text-slate-500 text-sm",children:"Sector clear. No events."}):m.jsx("div",{className:"space-y-3",children:ye(w).map(te=>m.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded-lg border border-slate-700 shadow-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-slate-200 text-sm",children:te.title}),m.jsxs("p",{className:"text-xs text-slate-400 uppercase",children:[te.dept,"  ",te.fullName]})]}),m.jsx("a",{href:Ie(te),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white transition-colors",children:m.jsx(Vx,{size:16})})]},te.id))})]})]})]})}function k({adminMode:Y,setAdminMode:ee,ALLOWED_ADMINS:ne}){const[ue,w]=_e.useState([]),[j,J]=_e.useState("all"),[F,ae]=_e.useState(!0),[oe,me]=_e.useState(null),[qe,Oe]=_e.useState("");_e.useEffect(()=>{const pe=rr(Bs(Wt,"requests"),rm("createdAt","desc")),de=nl(pe,Ee=>{const Se=Ee.docs.map(ye=>({id:ye.id,...ye.data(),formattedDate:ye.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));w(Se),ae(!1)});return()=>de()},[]);const Ce=async(pe,de)=>{window.confirm(`Confirm status change to: ${de}?`)&&(await zv(Hs(Wt,"requests",pe.id),{status:de}),oe&&oe.id===pe.id&&me(Ee=>({...Ee,status:de})),dm({to_name:pe.fullName,to_email:pe.email,subject:`Request Update: ${pe.title}`,title:pe.title,status:de,message:`Status updated to ${de}.`}))},we=async pe=>{window.confirm("Delete this record permanently?")&&(await zc(Hs(Wt,"requests",pe)),oe&&oe.id===pe&&me(null))},We=()=>{const pe=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],de=ue.map(Ie=>[Ie.displayId,Ie.dept,`"${Ie.title}"`,Ie.fullName,Ie.email,Ie.formattedDate,Ie.status,`"${(Ie.details||Ie.brief||Ie.description||"").replace(/"/g,'""')}"`]),Ee="data:text/csv;charset=utf-8,"+[pe.join(","),...de.map(Ie=>Ie.join(","))].join(`
`),Se=encodeURI(Ee),ye=document.createElement("a");ye.setAttribute("href",Se),ye.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(ye),ye.click(),document.body.removeChild(ye)},St=ue.filter(pe=>{const de=j==="all"?!0:pe.dept?.toLowerCase().includes(j.toLowerCase()),Ee=qe.toLowerCase(),Se=pe.title?.toLowerCase().includes(Ee)||pe.fullName?.toLowerCase().includes(Ee)||pe.displayId?.toLowerCase().includes(Ee)||pe.email?.toLowerCase().includes(Ee);return de&&Se}),rt=pe=>{switch(pe){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[oe&&m.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),m.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[m.jsxs("span",{children:["ID: ",oe.displayId||"N/A"]}),m.jsxs("span",{className:"opacity-50",children:["| Ref: ",oe.id]})]})]}),m.jsx("button",{onClick:()=>me(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:m.jsx(kc,{size:20})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),m.jsx("p",{className:"font-semibold text-white capitalize",children:oe.dept})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${rt(oe.status)}`,children:oe.status})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),m.jsx("p",{className:"text-slate-200",children:oe.fullName})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),m.jsx("p",{className:"text-slate-200 font-mono text-sm",children:oe.email})]})]}),m.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[m.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[m.jsx(Qf,{size:16,className:"text-cyan-500"})," Mission Details"]}),m.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(oe).map(([pe,de])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(pe)?null:Array.isArray(de)?m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:pe}),m.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:de.map((Ee,Se)=>m.jsx("li",{children:Ee},Se))})]},pe):m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:pe.replace(/([A-Z])/g," $1").trim()}),m.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:de})]},pe))})]}),Y&&m.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[m.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>Ce(oe,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),m.jsx("button",{onClick:()=>Ce(oe,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),m.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[m.jsx(Kf,{className:"text-purple-400"})," Request Log"]}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[m.jsxs("div",{className:"relative flex-1 lg:w-64",children:[m.jsx(TS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),m.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:qe,onChange:pe=>Oe(pe.target.value)})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:j,onChange:pe=>J(pe.target.value),children:[m.jsx("option",{value:"all",children:"All Sectors"}),m.jsx("option",{value:"film",children:"Film"}),m.jsx("option",{value:"graphic",children:"Graphic"}),m.jsx("option",{value:"business",children:"Business"}),m.jsx("option",{value:"culinary",children:"Culinary"}),m.jsx("option",{value:"photo",children:"Photo"})]}),Y&&m.jsxs("button",{onClick:We,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[m.jsx(eS,{size:16})," ",m.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:F?m.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):m.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[m.jsx("th",{className:"p-4",children:"ID Code"}),m.jsx("th",{className:"p-4",children:"Sector"}),m.jsx("th",{className:"p-4",children:"Objective"}),m.jsx("th",{className:"p-4",children:"Agent"}),m.jsx("th",{className:"p-4",children:"Status"}),m.jsx("th",{className:"p-4",children:"View"}),Y&&m.jsx("th",{className:"p-4",children:"Override"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-800",children:St.map(pe=>m.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[m.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:pe.displayId}),m.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:pe.dept}),m.jsx("td",{className:"p-4 text-white font-medium text-sm",children:pe.title}),m.jsx("td",{className:"p-4 text-slate-400 text-sm",children:pe.fullName}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${rt(pe.status)}`,children:pe.status})}),m.jsx("td",{className:"p-4",children:m.jsx("button",{onClick:()=>me(pe),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:m.jsx(nS,{size:20})})}),Y&&m.jsxs("td",{className:"p-4 flex gap-2",children:[m.jsx("button",{onClick:()=>Ce(pe,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:m.jsx(y_,{size:16})}),m.jsx("button",{onClick:()=>Ce(pe,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:m.jsx(kc,{size:16})}),m.jsx("button",{onClick:()=>we(pe.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:m.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},pe.id))})]})})]})}function D({title:Y,icon:ee,colorClass:ne,children:ue,setSubmitted:w,initialData:j={},onCancel:J,currentUser:F,blackouts:ae=[]}){const oe=_e.useRef(null),me=ea(Y),[qe,Oe]=_e.useState(!1),Ce=()=>{const de=new FormData(oe.current),Ee={};for(const[Se,ye]of de.entries())Ee[Se]?(Array.isArray(Ee[Se])||(Ee[Se]=[Ee[Se]]),Ee[Se].push(ye)):Ee[Se]=ye;return localStorage.setItem(me,JSON.stringify(Ee)),!0},we=de=>{de.preventDefault(),Ce(),alert("Draft secured in local cache.")},We=()=>{Oe(!0)},St=()=>{Ce(),Oe(!1),J()},rt=()=>{localStorage.removeItem(me),Oe(!1),J()},pe=async de=>{de.preventDefault();const Ee=new FormData(de.target),Se={};for(const[te,Ne]of Ee.entries())Se[te]?(Array.isArray(Se[te])||(Se[te]=[Se[te]]),Se[te].push(Ne)):Se[te]=Ne;const ye=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let Ie=!1;if(ye.forEach(te=>{Se[te]&&ae.includes(Se[te])&&(Ie=!0)}),Ie){alert("Date blocked by admin protocol. Select alternative.");return}try{const te=Date.now().toString().slice(-4),Ne=Math.floor(1e3+Math.random()*9e3),ct=`REQ-${te}-${Ne}`;await qv(Bs(Wt,"requests"),{...Se,dept:Y,displayId:ct,status:"Pending Review",createdAt:new Date,title:Se.requestName||Se.eventName||Se.projectType||Se.businessName||"New Request"}),dm({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${Se.requestName}`,title:Se.requestName,status:"Pending Review",message:`New request (${ct}) from ${Se.fullName}.`}),localStorage.removeItem(me),w(!0)}catch(te){console.error(te),alert("Transmission error.")}};return m.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[qe&&m.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:m.jsx(MS,{size:32})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),m.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("button",{onClick:St,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[m.jsx(Oc,{size:18})," Secure Draft & Exit"]}),m.jsx("button",{onClick:rt,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),m.jsx("button",{onClick:()=>Oe(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),m.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),m.jsxs("div",{className:"p-5 md:p-8",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${ne.replace("bg-","text-")}`,children:m.jsx(ee,{size:28})}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[Y," Protocol"]}),m.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),m.jsx("button",{type:"button",onClick:We,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:m.jsx(kc,{size:24})})]}),m.jsxs("form",{ref:oe,onSubmit:pe,children:[m.jsx(_t,{initialData:j,currentUser:F}),ue,m.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[m.jsx("button",{type:"button",onClick:We,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),m.jsxs("button",{type:"button",onClick:we,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[m.jsx(Oc,{size:18})," Save Draft"]}),m.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function L({setSubmitted:Y,onCancel:ee,currentUser:ne,inventory:ue,blackouts:w}){const j="Film",J=ea(j),F=JSON.parse(localStorage.getItem(J)||"{}"),[ae,oe]=_e.useState(F.requestType||"checkout"),[me,qe]=_e.useState({}),[Oe,Ce]=_e.useState(!1),[we,We]=_e.useState({start:F.checkoutDate||"",end:F.returnDate||""}),St=de=>{const Ee={...we,[de.target.name==="checkoutDate"?"start":"end"]:de.target.value};We(Ee)};_e.useEffect(()=>{(async()=>{if(!we.start||!we.end||ae!=="checkout"){Ce(!1);return}Ce(!0);const Ee=rr(Bs(Wt,"requests"),Co("dept","==","Film"),Co("requestType","==","checkout")),Se=await Pv(Ee),ye={};Se.forEach(te=>{const Ne=te.data();Ne.status==="Denied"||Ne.status==="Completed"||Ne.checkoutDate<=we.end&&Ne.returnDate>=we.start&&Ne.equipment&&(Array.isArray(Ne.equipment)?Ne.equipment:[Ne.equipment]).forEach(nt=>{ye[nt]=(ye[nt]||0)+1})});const Ie={};Object.keys(ue).forEach(te=>{(ue[te].category==="film"||ue[te].category==="general")&&(Ie[te]=Math.max(0,ue[te].count-(ye[te]||0)))}),qe(Ie)})()},[we,ae,ue]);const rt=we.start&&we.end&&we.start===we.end,pe=Object.entries(ue).filter(([de,Ee])=>Ee.category==="film"||Ee.category==="general").sort((de,Ee)=>de[0].localeCompare(Ee[0]));return m.jsxs(D,{title:j,icon:N_,colorClass:"bg-blue-600",setSubmitted:Y,initialData:F,onCancel:ee,currentUser:ne,blackouts:w,children:[m.jsx("input",{type:"hidden",name:"requestType",value:ae}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("button",{type:"button",onClick:()=>oe("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${ae==="checkout"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsx(p_,{size:24}),m.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]}),m.jsxs("button",{type:"button",onClick:()=>oe("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${ae==="service"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsx(dS,{size:24}),m.jsx("span",{className:"font-bold",children:"Production Team"})]})]})]}),ae==="checkout"?m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 text-sm text-blue-200 flex items-start gap-3",children:[m.jsx(__,{className:"shrink-0 mt-0.5 text-blue-400",size:16}),m.jsxs("p",{children:[m.jsx("strong",{children:"Protocol:"})," Equipment return deadline is 0800 hours the following school day."]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),m.jsx("input",{name:"checkoutDate",defaultValue:F.checkoutDate,onChange:St,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),m.jsx("input",{name:"returnDate",defaultValue:F.returnDate,onChange:St,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),rt&&m.jsxs("div",{className:"animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[m.jsx("label",{className:"block text-xs font-mono text-cyan-400 uppercase mb-1",children:"Specific Duration"}),m.jsxs("select",{name:"durationHours",defaultValue:F.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[m.jsx("option",{value:"",children:"Select Duration..."}),m.jsx("option",{value:"1 Hour",children:"1 Hour"}),m.jsx("option",{value:"2 Hours",children:"2 Hours"}),m.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),m.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:["Select Assets ",m.jsx("span",{className:"text-red-500 ml-2 normal-case tracking-normal",children:"* Certification Required"})]}),Oe?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:pe.map(([de,Ee])=>{const Se=me[de]!==void 0?me[de]:99,ye=Se<=0,Ie=de.replace(" *","").replace("*","");return m.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${ye?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-cyan-500/50 hover:shadow-[0_0_10px_rgba(8,145,178,0.1)] cursor-pointer"}`,children:[m.jsx("input",{type:"checkbox",name:"equipment",value:de,disabled:ye,defaultChecked:F.equipment?.includes(de),className:"w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[Ie," ",Ee.requiresTraining&&m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${ye?"text-red-500":"text-emerald-500"}`,children:ye?"OFFLINE / UNAVAILABLE":`${Se} UNITS ACTIVE`})]})]},de)})}):m.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[m.jsx(Mc,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),m.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:m.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),m.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[m.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),m.jsx("input",{name:"eventDate",defaultValue:F.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),m.jsx("input",{name:"startTime",defaultValue:F.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Required"}),m.jsxs("select",{name:"serviceType",defaultValue:F.serviceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[m.jsx("option",{children:"Live Broadcast (Stream)"}),m.jsx("option",{children:"Event Recording (Edited later)"}),m.jsx("option",{children:"Raw Footage Only"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Mission Details"}),m.jsx("textarea",{name:"details",defaultValue:F.details,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none h-24",placeholder:"Describe specific shots, locations, or requirements..."})]})]})]})}function N({setSubmitted:Y,onCancel:ee,currentUser:ne}){const ue="Graphic",w=ea(ue),j=JSON.parse(localStorage.getItem(w)||"{}");return m.jsx(D,{title:ue,icon:x_,colorClass:"bg-purple-600",setSubmitted:Y,initialData:j,onCancel:ee,currentUser:ne,children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Type"}),m.jsxs("select",{name:"projectType",defaultValue:j.projectType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",children:[m.jsx("option",{children:"Event Poster / Flyer"}),m.jsx("option",{children:"Logo Design"}),m.jsx("option",{children:"Website Design"}),m.jsx("option",{children:"T-Shirt / Merch"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dimensions"}),m.jsx("input",{name:"dimensions",defaultValue:j.dimensions,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",placeholder:"e.g., 11x17"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Deadline"}),m.jsx("input",{name:"deadline",defaultValue:j.deadline,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Creative Brief"}),m.jsx("textarea",{name:"brief",defaultValue:j.brief,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function Tt({setSubmitted:Y,onCancel:ee,currentUser:ne}){const ue="Business",w=ea(ue),j=JSON.parse(localStorage.getItem(w)||"{}");return m.jsx(D,{title:ue,icon:Qf,colorClass:"bg-emerald-600",setSubmitted:Y,initialData:j,onCancel:ee,currentUser:ne,children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Support Required"}),m.jsxs("select",{name:"assistanceType",defaultValue:j.assistanceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none",children:[m.jsx("option",{children:"Business Plan Review"}),m.jsx("option",{children:"Financial Modeling Help"}),m.jsx("option",{children:"Marketing Strategy"}),m.jsx("option",{children:"General Mentorship"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Concept Overview"}),m.jsx("textarea",{name:"description",defaultValue:j.description,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none h-40",placeholder:"Briefly describe your product or service...",required:!0})]})]})})}function kt({setSubmitted:Y,onCancel:ee,currentUser:ne}){const ue="Culinary",w=ea(ue),j=JSON.parse(localStorage.getItem(w)||"{}");return m.jsx(D,{title:ue,icon:w_,colorClass:"bg-orange-500",setSubmitted:Y,initialData:j,onCancel:ee,currentUser:ne,children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),m.jsx("input",{name:"eventDate",defaultValue:j.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Serve Time"}),m.jsx("input",{name:"serveTime",defaultValue:j.serveTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Guest Count"}),m.jsx("input",{name:"guestCount",defaultValue:j.guestCount,type:"number",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",min:"1",placeholder:"50",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Style"}),m.jsxs("select",{name:"serviceStyle",defaultValue:j.serviceStyle,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",children:[m.jsx("option",{children:"Buffet Style"}),m.jsx("option",{children:"Boxed Lunches"}),m.jsx("option",{children:"Plated Service"}),m.jsx("option",{children:"Appetizers"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dietary Requirements"}),m.jsx("textarea",{name:"menuNotes",defaultValue:j.menuNotes,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none h-24",placeholder:"Preferences, allergies, restrictions...",required:!0})]})]})})}function G({setSubmitted:Y,onCancel:ee,currentUser:ne,inventory:ue,blackouts:w}){const j="Photo",J=ea(j),F=JSON.parse(localStorage.getItem(J)||"{}"),[ae,oe]=_e.useState(F.requestType||"service"),[me,qe]=_e.useState({}),[Oe,Ce]=_e.useState(!1),[we,We]=_e.useState({start:F.pickupDate||"",end:F.returnDate||""}),St=de=>{const Ee={...we,[de.target.name==="pickupDate"?"start":"end"]:de.target.value};We(Ee)};_e.useEffect(()=>{(async()=>{if(!we.start||!we.end||ae!=="checkout"){Ce(!1);return}Ce(!0);const Ee=rr(Bs(Wt,"requests"),Co("dept","==","Photo"),Co("requestType","==","checkout")),Se=await Pv(Ee),ye={};Se.forEach(te=>{const Ne=te.data();if(Ne.status==="Denied"||Ne.status==="Completed")return;const ct=Ne.pickupDate,nt=Ne.returnDate;ct<=we.end&&nt>=we.start&&Ne.equipment&&(Array.isArray(Ne.equipment)?Ne.equipment:[Ne.equipment]).forEach(ke=>{ye[ke]=(ye[ke]||0)+1})});const Ie={};Object.keys(ue).forEach(te=>{const Ne=ue[te].count,ct=ye[te]||0;Ie[te]=Math.max(0,Ne-ct)}),qe(Ie)})()},[we,ae,ue]);const rt=we.start&&we.end&&we.start===we.end,pe=Object.entries(ue).filter(([de,Ee])=>Ee.category==="photo"||Ee.category==="general").sort((de,Ee)=>de[0].localeCompare(Ee[0]));return m.jsxs(D,{title:j,icon:Yf,colorClass:"bg-pink-600",setSubmitted:Y,initialData:F,onCancel:ee,currentUser:ne,blackouts:w,children:[m.jsx("input",{type:"hidden",name:"requestType",value:ae}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("button",{type:"button",onClick:()=>oe("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${ae==="service"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsx(jS,{size:24}),m.jsx("span",{className:"font-bold",children:"Event Coverage"})]}),m.jsxs("button",{type:"button",onClick:()=>oe("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${ae==="checkout"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsx(p_,{size:24}),m.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]})]})]}),ae==="checkout"?m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"bg-pink-900/20 p-4 rounded-lg border border-pink-500/30 text-sm text-pink-200 flex items-start gap-3",children:[m.jsx(__,{className:"shrink-0 mt-0.5 text-pink-400",size:16}),m.jsxs("p",{children:[m.jsx("strong",{children:"Requirement:"})," Advanced Photo I certification required for DSLR bodies."]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Pickup Date"}),m.jsx("input",{name:"pickupDate",defaultValue:F.pickupDate,onChange:St,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),m.jsx("input",{name:"returnDate",defaultValue:F.returnDate,onChange:St,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),rt&&m.jsxs("div",{className:"mb-4 animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[m.jsx("label",{className:"block text-xs font-mono text-pink-400 uppercase mb-1",children:"Specific Duration"}),m.jsxs("select",{name:"durationHours",defaultValue:F.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",children:[m.jsx("option",{value:"",children:"Select Duration..."}),m.jsx("option",{value:"1 Hour",children:"1 Hour"}),m.jsx("option",{value:"2 Hours",children:"2 Hours"}),m.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),m.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:"Select Assets"}),Oe?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:pe.map(([de,Ee])=>{const Se=me[de]!==void 0?me[de]:99,ye=Se<=0,Ie=de.replace(" *","").replace("*","");return m.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${ye?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-pink-500/50 hover:shadow-[0_0_10px_rgba(236,72,153,0.1)] cursor-pointer"}`,children:[m.jsx("input",{type:"checkbox",name:"equipment",value:de,disabled:ye,defaultChecked:F.equipment?.includes(de),className:"w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[Ie," ",Ee.requiresTraining&&m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${ye?"text-red-500":"text-emerald-500"}`,children:ye?"OFFLINE / UNAVAILABLE":`${Se} UNITS ACTIVE`})]})]},de)})}):m.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[m.jsx(Mc,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),m.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:m.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),m.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[m.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),m.jsx("input",{name:"eventDate",defaultValue:F.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),m.jsx("input",{name:"startTime",defaultValue:F.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Location"}),m.jsx("input",{name:"location",defaultValue:F.location,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",placeholder:"e.g., Gym"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Specific Shots"}),m.jsx("textarea",{name:"shotList",defaultValue:F.shotList,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none h-24",placeholder:"Key moments..."})]})]})]})}};Tx.createRoot(document.getElementById("root")).render(m.jsx(_e.StrictMode,{children:m.jsx(JI,{})}));
