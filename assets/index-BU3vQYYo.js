(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();var Ud={exports:{}},To={};var e_;function fx(){if(e_)return To;e_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return To.Fragment=e,To.jsx=s,To.jsxs=s,To}var t_;function dx(){return t_||(t_=1,Ud.exports=fx()),Ud.exports}var m=dx(),Pd={exports:{}},Ve={};var n_;function mx(){if(n_)return Ve;n_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function Y(A){return A===null||typeof A!="object"?null:(A=M&&A[M]||A["@@iterator"],typeof A=="function"?A:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,ne={};function Ee(A,B,G){this.props=A,this.context=B,this.refs=ne,this.updater=G||te}Ee.prototype.isReactComponent={},Ee.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},Ee.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Me(){}Me.prototype=Ee.prototype;function Se(A,B,G){this.props=A,this.context=B,this.refs=ne,this.updater=G||te}var at=Se.prototype=new Me;at.constructor=Se,se(at,Ee.prototype),at.isPureReactComponent=!0;var gt=Array.isArray;function $e(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(A,B,G){var W=G.ref;return{$$typeof:i,type:A,key:B,ref:W!==void 0?W:null,props:G}}function V(A,B){return C(A.type,B,A.props)}function O(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function j(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(G){return B[G]})}var N=/\/+/g;function _t(A,B){return typeof A=="object"&&A!==null&&A.key!=null?j(""+A.key):B.toString(36)}function It(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then($e,$e):(A.status="pending",A.then(function(B){A.status==="pending"&&(A.status="fulfilled",A.value=B)},function(B){A.status==="pending"&&(A.status="rejected",A.reason=B)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,B,G,W,ie){var oe=typeof A;(oe==="undefined"||oe==="boolean")&&(A=null);var ve=!1;if(A===null)ve=!0;else switch(oe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(A.$$typeof){case i:case e:ve=!0;break;case x:return ve=A._init,L(ve(A._payload),B,G,W,ie)}}if(ve)return ie=ie(A),ve=W===""?"."+_t(A,0):W,gt(ie)?(G="",ve!=null&&(G=ve.replace(N,"$&/")+"/"),L(ie,B,G,"",function(Te){return Te})):ie!=null&&(O(ie)&&(ie=V(ie,G+(ie.key==null||A&&A.key===ie.key?"":(""+ie.key).replace(N,"$&/")+"/")+ve)),B.push(ie)),1;ve=0;var Le=W===""?".":W+":";if(gt(A))for(var ce=0;ce<A.length;ce++)W=A[ce],oe=Le+_t(W,ce),ve+=L(W,B,G,oe,ie);else if(ce=Y(A),typeof ce=="function")for(A=ce.call(A),ce=0;!(W=A.next()).done;)W=W.value,oe=Le+_t(W,ce++),ve+=L(W,B,G,oe,ie);else if(oe==="object"){if(typeof A.then=="function")return L(It(A),B,G,W,ie);throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ve}function K(A,B,G){if(A==null)return A;var W=[],ie=0;return L(A,W,"","",function(oe){return B.call(G,oe,ie++)}),W}function ee(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(G){(A._status===0||A._status===-1)&&(A._status=1,A._result=G)},function(G){(A._status===0||A._status===-1)&&(A._status=2,A._result=G)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var ae=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},fe={map:K,forEach:function(A,B,G){K(A,function(){B.apply(this,arguments)},G)},count:function(A){var B=0;return K(A,function(){B++}),B},toArray:function(A){return K(A,function(B){return B})||[]},only:function(A){if(!O(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Ve.Activity=S,Ve.Children=fe,Ve.Component=Ee,Ve.Fragment=s,Ve.Profiler=o,Ve.PureComponent=Se,Ve.StrictMode=r,Ve.Suspense=v,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(A){return I.H.useMemoCache(A)}},Ve.cache=function(A){return function(){return A.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(A,B,G){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var W=se({},A.props),ie=A.key;if(B!=null)for(oe in B.key!==void 0&&(ie=""+B.key),B)!w.call(B,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&B.ref===void 0||(W[oe]=B[oe]);var oe=arguments.length-2;if(oe===1)W.children=G;else if(1<oe){for(var ve=Array(oe),Le=0;Le<oe;Le++)ve[Le]=arguments[Le+2];W.children=ve}return C(A.type,ie,W)},Ve.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},Ve.createElement=function(A,B,G){var W,ie={},oe=null;if(B!=null)for(W in B.key!==void 0&&(oe=""+B.key),B)w.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ie[W]=B[W]);var ve=arguments.length-2;if(ve===1)ie.children=G;else if(1<ve){for(var Le=Array(ve),ce=0;ce<ve;ce++)Le[ce]=arguments[ce+2];ie.children=Le}if(A&&A.defaultProps)for(W in ve=A.defaultProps,ve)ie[W]===void 0&&(ie[W]=ve[W]);return C(A,oe,ie)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(A){return{$$typeof:y,render:A}},Ve.isValidElement=O,Ve.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:ee}},Ve.memo=function(A,B){return{$$typeof:_,type:A,compare:B===void 0?null:B}},Ve.startTransition=function(A){var B=I.T,G={};I.T=G;try{var W=A(),ie=I.S;ie!==null&&ie(G,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then($e,ae)}catch(oe){ae(oe)}finally{B!==null&&G.types!==null&&(B.types=G.types),I.T=B}},Ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ve.use=function(A){return I.H.use(A)},Ve.useActionState=function(A,B,G){return I.H.useActionState(A,B,G)},Ve.useCallback=function(A,B){return I.H.useCallback(A,B)},Ve.useContext=function(A){return I.H.useContext(A)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(A,B){return I.H.useDeferredValue(A,B)},Ve.useEffect=function(A,B){return I.H.useEffect(A,B)},Ve.useEffectEvent=function(A){return I.H.useEffectEvent(A)},Ve.useId=function(){return I.H.useId()},Ve.useImperativeHandle=function(A,B,G){return I.H.useImperativeHandle(A,B,G)},Ve.useInsertionEffect=function(A,B){return I.H.useInsertionEffect(A,B)},Ve.useLayoutEffect=function(A,B){return I.H.useLayoutEffect(A,B)},Ve.useMemo=function(A,B){return I.H.useMemo(A,B)},Ve.useOptimistic=function(A,B){return I.H.useOptimistic(A,B)},Ve.useReducer=function(A,B,G){return I.H.useReducer(A,B,G)},Ve.useRef=function(A){return I.H.useRef(A)},Ve.useState=function(A){return I.H.useState(A)},Ve.useSyncExternalStore=function(A,B,G){return I.H.useSyncExternalStore(A,B,G)},Ve.useTransition=function(){return I.H.useTransition()},Ve.version="19.2.0",Ve}var s_;function jm(){return s_||(s_=1,Pd.exports=mx()),Pd.exports}var ye=jm(),zd={exports:{}},xo={},qd={exports:{}},Bd={};var i_;function px(){return i_||(i_=1,(function(i){function e(L,K){var ee=L.length;L.push(K);e:for(;0<ee;){var ae=ee-1>>>1,fe=L[ae];if(0<o(fe,K))L[ae]=K,L[ee]=fe,ee=ae;else break e}}function s(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var K=L[0],ee=L.pop();if(ee!==K){L[0]=ee;e:for(var ae=0,fe=L.length,A=fe>>>1;ae<A;){var B=2*(ae+1)-1,G=L[B],W=B+1,ie=L[W];if(0>o(G,ee))W<fe&&0>o(ie,G)?(L[ae]=ie,L[W]=ee,ae=W):(L[ae]=G,L[B]=ee,ae=B);else if(W<fe&&0>o(ie,ee))L[ae]=ie,L[W]=ee,ae=W;else break e}}return K}function o(L,K){var ee=L.sortIndex-K.sortIndex;return ee!==0?ee:L.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();i.unstable_now=function(){return d.now()-y}}var v=[],_=[],x=1,S=null,M=3,Y=!1,te=!1,se=!1,ne=!1,Ee=typeof setTimeout=="function"?setTimeout:null,Me=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;function at(L){for(var K=s(_);K!==null;){if(K.callback===null)r(_);else if(K.startTime<=L)r(_),K.sortIndex=K.expirationTime,e(v,K);else break;K=s(_)}}function gt(L){if(se=!1,at(L),!te)if(s(v)!==null)te=!0,$e||($e=!0,j());else{var K=s(_);K!==null&&It(gt,K.startTime-L)}}var $e=!1,I=-1,w=5,C=-1;function V(){return ne?!0:!(i.unstable_now()-C<w)}function O(){if(ne=!1,$e){var L=i.unstable_now();C=L;var K=!0;try{e:{te=!1,se&&(se=!1,Me(I),I=-1),Y=!0;var ee=M;try{t:{for(at(L),S=s(v);S!==null&&!(S.expirationTime>L&&V());){var ae=S.callback;if(typeof ae=="function"){S.callback=null,M=S.priorityLevel;var fe=ae(S.expirationTime<=L);if(L=i.unstable_now(),typeof fe=="function"){S.callback=fe,at(L),K=!0;break t}S===s(v)&&r(v),at(L)}else r(v);S=s(v)}if(S!==null)K=!0;else{var A=s(_);A!==null&&It(gt,A.startTime-L),K=!1}}break e}finally{S=null,M=ee,Y=!1}K=void 0}}finally{K?j():$e=!1}}}var j;if(typeof Se=="function")j=function(){Se(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,_t=N.port2;N.port1.onmessage=O,j=function(){_t.postMessage(null)}}else j=function(){Ee(O,0)};function It(L,K){I=Ee(function(){L(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_next=function(L){switch(M){case 1:case 2:case 3:var K=3;break;default:K=M}var ee=M;M=K;try{return L()}finally{M=ee}},i.unstable_requestPaint=function(){ne=!0},i.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=M;M=L;try{return K()}finally{M=ee}},i.unstable_scheduleCallback=function(L,K,ee){var ae=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,L){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ee+fe,L={id:x++,callback:K,priorityLevel:L,startTime:ee,expirationTime:fe,sortIndex:-1},ee>ae?(L.sortIndex=ee,e(_,L),s(v)===null&&L===s(_)&&(se?(Me(I),I=-1):se=!0,It(gt,ee-ae))):(L.sortIndex=fe,e(v,L),te||Y||(te=!0,$e||($e=!0,j()))),L},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(L){var K=M;return function(){var ee=M;M=K;try{return L.apply(this,arguments)}finally{M=ee}}}})(Bd)),Bd}var r_;function gx(){return r_||(r_=1,qd.exports=px()),qd.exports}var Hd={exports:{}},fn={};var a_;function yx(){if(a_)return fn;a_=1;var i=jm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)_+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,_,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:v,containerInfo:_,implementation:x}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(v,_){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(v,_,null,x)},fn.flushSync=function(v){var _=d.T,x=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=x,r.d.f()}},fn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},fn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},fn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var x=_.as,S=y(x,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;x==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:Y}):x==="script"&&r.d.X(v,{crossOrigin:S,integrity:M,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var x=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},fn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var x=_.as,S=y(x,_.crossOrigin);r.d.L(v,x,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(v,_){if(typeof v=="string")if(_){var x=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},fn.requestFormReset=function(v){r.d.r(v)},fn.unstable_batchedUpdates=function(v,_){return v(_)},fn.useFormState=function(v,_,x){return d.H.useFormState(v,_,x)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var l_;function _x(){if(l_)return Hd.exports;l_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hd.exports=yx(),Hd.exports}var o_;function vx(){if(o_)return xo;o_=1;var i=gx(),e=jm(),s=_x();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),t;if(f===l)return v(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,l=f;break}if(E===l){g=!0,l=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=h;break}if(E===l){g=!0,l=f,a=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Me=Symbol.for("react.consumer"),Se=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function _t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case se:return"Fragment";case Ee:return"Profiler";case ne:return"StrictMode";case gt:return"Suspense";case $e:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case Se:return t.displayName||"Context";case Me:return(t._context.displayName||"Context")+".Consumer";case at:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:_t(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return _t(t(n))}catch{}}return null}var It=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ae=[],fe=-1;function A(t){return{current:t}}function B(t){0>fe||(t.current=ae[fe],ae[fe]=null,fe--)}function G(t,n){fe++,ae[fe]=t.current,t.current=n}var W=A(null),ie=A(null),oe=A(null),ve=A(null);function Le(t,n){switch(G(oe,n),G(ie,t),G(W,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xy(n),t=Sy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(W),G(W,t)}function ce(){B(W),B(ie),B(oe)}function Te(t){t.memoizedState!==null&&G(ve,t);var n=W.current,a=Sy(n,t.type);n!==a&&(G(ie,t),G(W,a))}function De(t){ie.current===t&&(B(W),B(ie)),ve.current===t&&(B(ve),_o._currentValue=ee)}var nt,ot;function de(t){if(nt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);nt=n&&n[1]||"",ot=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+t+ot}var pe=!1;function be(t,n){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var q=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){q=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){q=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?de(a):""}function Ae(t,n){switch(t.tag){case 26:case 27:case 5:return de(t.type);case 16:return de("Lazy");case 13:return t.child!==n&&n!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return be(t.type,!1);case 11:return be(t.type.render,!1);case 1:return be(t.type,!0);case 31:return de("Activity");default:return""}}function Be(t){try{var n="",a=null;do n+=Ae(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ce=Object.prototype.hasOwnProperty,we=i.unstable_scheduleCallback,Ze=i.unstable_cancelCallback,vn=i.unstable_shouldYield,Dn=i.unstable_requestPaint,Ne=i.unstable_now,st=i.unstable_getCurrentPriorityLevel,wt=i.unstable_ImmediatePriority,jt=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,zh=i.unstable_LowPriority,tu=i.unstable_IdlePriority,nu=i.log,su=i.unstable_setDisableYieldValue,ss=null,tn=null;function Bn(t){if(typeof nu=="function"&&su(t),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(ss,t)}catch{}}var Dt=Math.clz32?Math.clz32:ru,iu=Math.log,ca=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(iu(t)/ca|0)|0}var vs=256,Er=262144,Lt=4194304;function bs(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Es(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=bs(l):(g&=E,g!==0?h=bs(g):a||(a=E&~t,a!==0&&(h=bs(a))))):(E=l&~f,E!==0?h=bs(E):g!==0?h=bs(g):a||(a=l&~t,a!==0&&(h=bs(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function is(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function qh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),t}function Ts(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Tr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,a,l,h,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-Dt(a),Z=1<<Q;E[Q]=0,R[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var F=q[Q];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&xr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function xr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Tl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Dt(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function xl(t,n){var a=n&-n;return a=(a&42)!==0?1:Sr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ks(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Yy(t.type))}function rs(t,n){var a=K.p;try{return K.p=t,n()}finally{K.p=a}}var as=Math.random().toString(36).slice(2),Ut="__reactFiber$"+as,$t="__reactProps$"+as,xs="__reactContainer$"+as,ha="__reactEvents$"+as,Hh="__reactListeners$"+as,ou="__reactHandles$"+as,uu="__reactResources$"+as,Ss="__reactMarker$"+as;function fa(t){delete t[Ut],delete t[$t],delete t[ha],delete t[Hh],delete t[ou]}function As(t){var n=t[Ut];if(n)return n;for(var a=t.parentNode;a;){if(n=a[xs]||a[Ut]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Dy(t);t!==null;){if(a=t[Ut])return a;t=Dy(t)}return n}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[Ut]||t[xs]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function On(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ws(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Pt(t){t[Ss]=!0}var Sl=new Set,Al={};function Ns(t,n){Rs(t,n),Rs(t+"Capture",n)}function Rs(t,n){for(Al[t]=n,t=0;t<n.length;t++)Sl.add(n[t])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Rl={};function cu(t){return Ce.call(Rl,t)?!0:Ce.call(Nl,t)?!1:wl.test(t)?Rl[t]=!0:(Nl[t]=!0,!1)}function da(t,n,a){if(cu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Mn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function zt(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Si(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ut(t){if(!t._valueTracker){var n=Si(t)?"checked":"value";t._valueTracker=Cl(t,n,""+t[n])}}function Ar(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Si(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wr=/[\n"\\]/g;function bn(t){return t.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ma(t,n,a,l,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Zt(n)):t.value!==""+Zt(n)&&(t.value=""+Zt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Il(t,g,Zt(n)):a!=null?Il(t,g,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Zt(E):t.removeAttribute("name")}function hu(t,n,a,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ut(t);return}a=a!=null?""+Zt(a):"",n=n!=null?""+Zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ut(t)}function Il(t,n,a){n==="number"&&Cs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ai(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,a){if(n!=null&&(n=""+Zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Zt(a):""}function wi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(It(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Zt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ut(t)}function En(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ol(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Dl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(t,f,n[f])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ni=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return Ni.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ls(){}var Ml=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,Is=null;function Nr(t){var n=Hn(t);if(n&&(t=n.stateNode)){var a=t[$t]||null;e:switch(t=n.stateNode,n.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(r(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ar(l)}break e;case"textarea":fu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ai(t,!!a.multiple,n,!1)}}}var ya=!1;function Ci(t,n,a){if(ya)return t(n,a);ya=!0;try{var l=t(n);return l}finally{if(ya=!1,(Ri!==null||Is!==null)&&(lc(),Ri&&(n=Ri,t=Is,Is=Ri=null,Nr(n),t)))for(n=0;n<t.length;n++)Nr(t[n])}}function os(t,n){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Gn)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{Rr=!1}var Ds=null,Vl=null,Cr=null;function kl(){if(Cr)return Cr;var t,n=Vl,a=n.length,l,h="value"in Ds?Ds.value:Ds.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===h[f-l];l++);return Cr=h.slice(t,1<l?1-l:void 0)}function Ir(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xs(){return!0}function us(){return!1}function nn(t){function n(a,l,h,f,g){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xs:us,this.isPropagationStopped=us,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),n}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Os=nn($s),Ii=S({},$s,{view:0,detail:0}),jl=nn(Ii),Di,_a,Ms,va=S({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(Di=t.screenX-Ms.screenX,_a=t.screenY-Ms.screenY):_a=Di=0,Ms=t),Di)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Ll=nn(va),Dr=S({},va,{dataTransfer:0}),pu=nn(Dr),gu=S({},Ii,{relatedTarget:0}),Or=nn(gu),Ul=S({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=nn(Ul),ba=S({},$s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=nn(ba),vu=S({},$s,{data:0}),Vs=nn(vu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function Oi(){return xu}var yn=S({},Ii,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oi,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=nn(yn),Au=S({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=nn(Au),u=S({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oi}),p=nn(u),b=S({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=nn(b),U=S({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=nn(U),re=S({},$s,{newState:0,oldState:0}),Ue=nn(re),Ot=[9,13,27,32],it=Gn&&"CompositionEvent"in window,xt=null;Gn&&"documentMode"in document&&(xt=document.documentMode);var Qn=Gn&&"TextEvent"in window&&!xt,ks=Gn&&(!it||xt&&8<xt&&11>=xt),cs=" ",hs=!1;function Mr(t,n){switch(t){case"keyup":return Ot.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function jE(t,n){switch(t){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(hs=!0,cs);case"textInput":return t=n.data,t===cs&&hs?null:t;default:return null}}function LE(t,n){if(Ta)return t==="compositionend"||!it&&Mr(t,n)?(t=kl(),Cr=Vl=Ds=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ks&&n.locale!=="ko"?null:n.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!UE[t.type]:n==="textarea"}function kp(t,n,a,l){Ri?Is?Is.push(l):Is=[l]:Ri=l,n=mc(n,"onChange"),0<n.length&&(a=new Os("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Pl=null,zl=null;function PE(t){yy(t,0)}function wu(t){var n=On(t);if(Ar(n))return t}function jp(t,n){if(t==="change")return n}var Lp=!1;if(Gn){var Fh;if(Gn){var Gh="oninput"in document;if(!Gh){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Gh=typeof Up.oninput=="function"}Fh=Gh}else Fh=!1;Lp=Fh&&(!document.documentMode||9<document.documentMode)}function Pp(){Pl&&(Pl.detachEvent("onpropertychange",zp),zl=Pl=null)}function zp(t){if(t.propertyName==="value"&&wu(zl)){var n=[];kp(n,zl,t,Fn(t)),Ci(PE,n)}}function zE(t,n,a){t==="focusin"?(Pp(),Pl=n,zl=a,Pl.attachEvent("onpropertychange",zp)):t==="focusout"&&Pp()}function qE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(zl)}function BE(t,n){if(t==="click")return wu(n)}function HE(t,n){if(t==="input"||t==="change")return wu(n)}function FE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vn=typeof Object.is=="function"?Object.is:FE;function ql(t,n){if(Vn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ce.call(n,h)||!Vn(t[h],n[h]))return!1}return!0}function qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,n){var a=qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Hp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Cs(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Cs(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var GE=Gn&&"documentMode"in document&&11>=document.documentMode,xa=null,Yh=null,Bl=null,Kh=!1;function Gp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||xa==null||xa!==Cs(l)||(l=xa,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bl&&ql(Bl,l)||(Bl=l,l=mc(Yh,"onSelect"),0<l.length&&(n=new Os("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=xa)))}function Vr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Sa={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Xh={},Qp={};Gn&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function kr(t){if(Xh[t])return Xh[t];if(!Sa[t])return t;var n=Sa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qp)return Xh[t]=n[a];return t}var Yp=kr("animationend"),Kp=kr("animationiteration"),Xp=kr("animationstart"),QE=kr("transitionrun"),YE=kr("transitionstart"),KE=kr("transitioncancel"),$p=kr("transitionend"),Zp=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function fs(t,n){Zp.set(t,n),Ns(n,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Yn=[],Aa=0,Zh=0;function Ru(){for(var t=Aa,n=Zh=Aa=0;n<t;){var a=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Jp(a,h,f)}}function Cu(t,n,a,l){Yn[Aa++]=t,Yn[Aa++]=n,Yn[Aa++]=a,Yn[Aa++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,a,l){return Cu(t,n,a,l),Iu(t)}function jr(t,n){return Cu(t,null,null,n),Iu(t)}function Jp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Dt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Iu(t){if(50<co)throw co=0,od=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function XE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,a,l){return new XE(t,n,a,l)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Js(t,n){var a=t.alternate;return a===null?(a=kn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,a,l,h,f){var g=0;if(l=t,typeof t=="function")Wh(t)&&(g=1);else if(typeof t=="string")g=ex(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=kn(31,a,n,h),t.elementType=C,t.lanes=f,t;case se:return Lr(a.children,h,f,n);case ne:g=8,h|=24;break;case Ee:return t=kn(12,a,n,h|2),t.elementType=Ee,t.lanes=f,t;case gt:return t=kn(13,a,n,h),t.elementType=gt,t.lanes=f,t;case $e:return t=kn(19,a,n,h),t.elementType=$e,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Se:g=10;break e;case Me:g=9;break e;case at:g=11;break e;case I:g=14;break e;case w:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=kn(g,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Lr(t,n,a,l){return t=kn(7,t,l,n),t.lanes=a,t}function ef(t,n,a){return t=kn(6,t,null,n),t.lanes=a,t}function eg(t){var n=kn(18,null,null,0);return n.stateNode=t,n}function tf(t,n,a){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var tg=new WeakMap;function Kn(t,n){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Be(n)},tg.set(t,n),n)}return{value:t,source:n,stack:Be(n)}}var Na=[],Ra=0,Ou=null,Hl=0,Xn=[],$n=0,Mi=null,js=1,Ls="";function Ws(t,n){Na[Ra++]=Hl,Na[Ra++]=Ou,Ou=t,Hl=n}function ng(t,n,a){Xn[$n++]=js,Xn[$n++]=Ls,Xn[$n++]=Mi,Mi=t;var l=js;t=Ls;var h=32-Dt(l)-1;l&=~(1<<h),a+=1;var f=32-Dt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,js=1<<32-Dt(n)+h|a<<h|l,Ls=f+t}else js=1<<f|a<<h|l,Ls=t}function nf(t){t.return!==null&&(Ws(t,1),ng(t,1,0))}function sf(t){for(;t===Ou;)Ou=Na[--Ra],Na[Ra]=null,Hl=Na[--Ra],Na[Ra]=null;for(;t===Mi;)Mi=Xn[--$n],Xn[$n]=null,Ls=Xn[--$n],Xn[$n]=null,js=Xn[--$n],Xn[$n]=null}function sg(t,n){Xn[$n++]=js,Xn[$n++]=Ls,Xn[$n++]=Mi,js=n.id,Ls=n.overflow,Mi=t}var sn=null,bt=null,Je=!1,Vi=null,Zn=!1,rf=Error(r(519));function ki(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(Kn(n,t)),rf}function ig(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ut]=t,n[$t]=l,a){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(a=0;a<fo.length;a++)Fe(fo[a],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Fe("invalid",n),hu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Fe("invalid",n);break;case"textarea":Fe("invalid",n),wi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ey(n.textContent,a)?(l.popover!=null&&(Fe("beforetoggle",n),Fe("toggle",n)),l.onScroll!=null&&Fe("scroll",n),l.onScrollEnd!=null&&Fe("scrollend",n),l.onClick!=null&&(n.onclick=ls),n=!0):n=!1,n||ki(t,!0)}function rg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:sn=sn.return}}function Ca(t){if(t!==sn)return!1;if(!Je)return rg(t),Je=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xd(t.type,t.memoizedProps)),a=!a),a&&bt&&ki(t),rg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));bt=Iy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));bt=Iy(t)}else n===27?(n=bt,Xi(t.type)?(t=Rd,Rd=null,bt=t):bt=n):bt=sn?Wn(t.stateNode.nextSibling):null;return!0}function Ur(){bt=sn=null,Je=!1}function af(){var t=Vi;return t!==null&&(An===null?An=t:An.push.apply(An,t),Vi=null),t}function Fl(t){Vi===null?Vi=[t]:Vi.push(t)}var lf=A(null),Pr=null,ei=null;function ji(t,n,a){G(lf,n._currentValue),n._currentValue=a}function ti(t){t._currentValue=lf.current,B(lf)}function of(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function uf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),of(f.return,a,t),l||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),of(g,a,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ia(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;Vn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===ve.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_o):t=[_o])}h=h.return}t!==null&&uf(n,t,a,l),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Pr=t,ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return ag(Pr,t)}function Vu(t,n){return Pr===null&&zr(t),ag(t,n)}function ag(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ei===null){if(t===null)throw Error(r(308));ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ei=ei.next=n;return a}var $E=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},ZE=i.unstable_scheduleCallback,JE=i.unstable_NormalPriority,qt={$$typeof:Se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new $E,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&ZE(JE,function(){t.controller.abort()})}var Ql=null,hf=0,Da=0,Oa=null;function WE(t,n){if(Ql===null){var a=Ql=[];hf=0,Da=md(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return hf++,n.then(lg,lg),n}function lg(){if(--hf===0&&Ql!==null){Oa!==null&&(Oa.status="fulfilled");var t=Ql;Ql=null,Da=0,Oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function eT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var og=L.S;L.S=function(t,n){G0=Ne(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WE(t,n),og!==null&&og(t,n)};var qr=A(null);function ff(){var t=qr.current;return t!==null?t:yt.pooledCache}function ku(t,n){n===null?G(qr,qr.current):G(qr,n.pool)}function ug(){var t=ff();return t===null?null:{parent:qt._currentValue,pool:t}}var Ma=Error(r(460)),df=Error(r(474)),ju=Error(r(542)),Lu={then:function(){}};function cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ls,ls),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t;default:if(typeof n.status=="string")n.then(ls,ls);else{if(t=yt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dg(t),t}throw Hr=n,Ma}}function Br(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,Ma):a}}var Hr=null;function fg(){if(Hr===null)throw Error(r(459));var t=Hr;return Hr=null,t}function dg(t){if(t===Ma||t===ju)throw Error(r(483))}var Va=null,Yl=0;function Uu(t){var n=Yl;return Yl+=1,Va===null&&(Va=[]),hg(Va,t,n)}function Kl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function mg(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Js(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,P,X){return D===null||D.tag!==6?(D=ef(P,k.mode,X),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,X){var ge=P.type;return ge===se?Q(k,D,P.props.children,X,P.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Br(ge)===D.type)?(D=h(D,P.props),Kl(D,P),D.return=k,D):(D=Du(P.type,P.key,P.props,null,k.mode,X),Kl(D,P),D.return=k,D)}function z(k,D,P,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=tf(P,k.mode,X),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,X,ge){return D===null||D.tag!==7?(D=Lr(P,k.mode,X,ge),D.return=k,D):(D=h(D,P),D.return=k,D)}function Z(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ef(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return P=Du(D.type,D.key,D.props,null,k.mode,P),Kl(P,D),P.return=k,P;case te:return D=tf(D,k.mode,P),D.return=k,D;case w:return D=Br(D),Z(k,D,P)}if(It(D)||j(D))return D=Lr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Z(k,Uu(D),P);if(D.$$typeof===Se)return Z(k,Vu(k,D),P);Pu(k,D)}return null}function q(k,D,P,X){var ge=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:E(k,D,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:return P.key===ge?R(k,D,P,X):null;case te:return P.key===ge?z(k,D,P,X):null;case w:return P=Br(P),q(k,D,P,X)}if(It(P)||j(P))return ge!==null?null:Q(k,D,P,X,null);if(typeof P.then=="function")return q(k,D,Uu(P),X);if(P.$$typeof===Se)return q(k,D,Vu(k,P),X);Pu(k,P)}return null}function F(k,D,P,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return k=k.get(P)||null,E(D,k,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Y:return k=k.get(X.key===null?P:X.key)||null,R(D,k,X,ge);case te:return k=k.get(X.key===null?P:X.key)||null,z(D,k,X,ge);case w:return X=Br(X),F(k,D,P,X,ge)}if(It(X)||j(X))return k=k.get(P)||null,Q(D,k,X,ge,null);if(typeof X.then=="function")return F(k,D,P,Uu(X),ge);if(X.$$typeof===Se)return F(k,D,P,Vu(D,X),ge);Pu(D,X)}return null}function he(k,D,P,X){for(var ge=null,et=null,me=D,ze=D=0,Qe=null;me!==null&&ze<P.length;ze++){me.index>ze?(Qe=me,me=null):Qe=me.sibling;var tt=q(k,me,P[ze],X);if(tt===null){me===null&&(me=Qe);break}t&&me&&tt.alternate===null&&n(k,me),D=f(tt,D,ze),et===null?ge=tt:et.sibling=tt,et=tt,me=Qe}if(ze===P.length)return a(k,me),Je&&Ws(k,ze),ge;if(me===null){for(;ze<P.length;ze++)me=Z(k,P[ze],X),me!==null&&(D=f(me,D,ze),et===null?ge=me:et.sibling=me,et=me);return Je&&Ws(k,ze),ge}for(me=l(me);ze<P.length;ze++)Qe=F(me,k,ze,P[ze],X),Qe!==null&&(t&&Qe.alternate!==null&&me.delete(Qe.key===null?ze:Qe.key),D=f(Qe,D,ze),et===null?ge=Qe:et.sibling=Qe,et=Qe);return t&&me.forEach(function(er){return n(k,er)}),Je&&Ws(k,ze),ge}function xe(k,D,P,X){if(P==null)throw Error(r(151));for(var ge=null,et=null,me=D,ze=D=0,Qe=null,tt=P.next();me!==null&&!tt.done;ze++,tt=P.next()){me.index>ze?(Qe=me,me=null):Qe=me.sibling;var er=q(k,me,tt.value,X);if(er===null){me===null&&(me=Qe);break}t&&me&&er.alternate===null&&n(k,me),D=f(er,D,ze),et===null?ge=er:et.sibling=er,et=er,me=Qe}if(tt.done)return a(k,me),Je&&Ws(k,ze),ge;if(me===null){for(;!tt.done;ze++,tt=P.next())tt=Z(k,tt.value,X),tt!==null&&(D=f(tt,D,ze),et===null?ge=tt:et.sibling=tt,et=tt);return Je&&Ws(k,ze),ge}for(me=l(me);!tt.done;ze++,tt=P.next())tt=F(me,k,ze,tt.value,X),tt!==null&&(t&&tt.alternate!==null&&me.delete(tt.key===null?ze:tt.key),D=f(tt,D,ze),et===null?ge=tt:et.sibling=tt,et=tt);return t&&me.forEach(function(hx){return n(k,hx)}),Je&&Ws(k,ze),ge}function pt(k,D,P,X){if(typeof P=="object"&&P!==null&&P.type===se&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Y:e:{for(var ge=P.key;D!==null;){if(D.key===ge){if(ge=P.type,ge===se){if(D.tag===7){a(k,D.sibling),X=h(D,P.props.children),X.return=k,k=X;break e}}else if(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Br(ge)===D.type){a(k,D.sibling),X=h(D,P.props),Kl(X,P),X.return=k,k=X;break e}a(k,D);break}else n(k,D);D=D.sibling}P.type===se?(X=Lr(P.props.children,k.mode,X,P.key),X.return=k,k=X):(X=Du(P.type,P.key,P.props,null,k.mode,X),Kl(X,P),X.return=k,k=X)}return g(k);case te:e:{for(ge=P.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),X=h(D,P.children||[]),X.return=k,k=X;break e}else{a(k,D);break}else n(k,D);D=D.sibling}X=tf(P,k.mode,X),X.return=k,k=X}return g(k);case w:return P=Br(P),pt(k,D,P,X)}if(It(P))return he(k,D,P,X);if(j(P)){if(ge=j(P),typeof ge!="function")throw Error(r(150));return P=ge.call(P),xe(k,D,P,X)}if(typeof P.then=="function")return pt(k,D,Uu(P),X);if(P.$$typeof===Se)return pt(k,D,Vu(k,P),X);Pu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),X=h(D,P),X.return=k,k=X):(a(k,D),X=ef(P,k.mode,X),X.return=k,k=X),g(k)):a(k,D)}return function(k,D,P,X){try{Yl=0;var ge=pt(k,D,P,X);return Va=null,ge}catch(me){if(me===Ma||me===ju)throw me;var et=kn(29,me,null,k.mode);return et.lanes=X,et.return=k,et}finally{}}}var Fr=mg(!0),pg=mg(!1),Li=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),Jp(t,null,a),n}return Cu(t,l,n,a),Iu(t)}function Xl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Tl(t,a)}}function gf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var yf=!1;function $l(){if(yf){var t=Oa;if(t!==null)throw t}}function Zl(t,n,a,l){yf=!1;var h=t.updateQueue;Li=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=R))}if(f!==null){var Z=h.baseState;g=0,Q=z=R=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Ge&q)===q:(l&q)===q){q!==0&&q===Da&&(yf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,xe=E;q=n;var pt=a;switch(xe.tag){case 1:if(he=xe.payload,typeof he=="function"){Z=he.call(pt,Z,q);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=xe.payload,q=typeof he=="function"?he.call(pt,Z,q):he,q==null)break e;Z=S({},Z,q);break e;case 2:Li=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=F,R=Z):Q=Q.next=F,g|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Fi|=g,t.lanes=g,t.memoizedState=Z}}function gg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function yg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gg(a[t],n)}var ka=A(null),zu=A(0);function _g(t,n){t=ci,G(zu,t),G(ka,n),ci=t|n.baseLanes}function _f(){G(zu,ci),G(ka,ka.current)}function vf(){ci=zu.current,B(ka),B(zu)}var jn=A(null),Jn=null;function zi(t){var n=t.alternate;G(Mt,Mt.current&1),G(jn,t),Jn===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(Jn=t)}function bf(t){G(Mt,Mt.current),G(jn,t),Jn===null&&(Jn=t)}function vg(t){t.tag===22?(G(Mt,Mt.current),G(jn,t),Jn===null&&(Jn=t)):qi()}function qi(){G(Mt,Mt.current),G(jn,jn.current)}function Ln(t){B(jn),Jn===t&&(Jn=null),B(Mt)}var Mt=A(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Nd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ni=0,Pe=null,dt=null,Bt=null,Bu=!1,ja=!1,Gr=!1,Hu=0,Jl=0,La=null,tT=0;function Nt(){throw Error(r(321))}function Ef(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Vn(t[a],n[a]))return!1;return!0}function Tf(t,n,a,l,h,f){return ni=f,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?n0:Lf,Gr=!1,f=a(l,h),Gr=!1,ja&&(f=Eg(n,a,l,h)),bg(t),f}function bg(t){L.H=to;var n=dt!==null&&dt.next!==null;if(ni=0,Bt=dt=Pe=null,Bu=!1,Jl=0,La=null,n)throw Error(r(300));t===null||Ht||(t=t.dependencies,t!==null&&Mu(t)&&(Ht=!0))}function Eg(t,n,a,l){Pe=t;var h=0;do{if(ja&&(La=null),Jl=0,ja=!1,25<=h)throw Error(r(301));if(h+=1,Bt=dt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=s0,f=n(a,l)}while(ja);return f}function nT(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?Wl(n):n,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Pe.flags|=1024),n}function xf(){var t=Hu!==0;return Hu=0,t}function Sf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Bu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Bu=!1}ni=0,Bt=dt=Pe=null,ja=!1,Jl=Hu=0,La=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Pe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Vt(){if(dt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var n=Bt===null?Pe.memoizedState:Bt.next;if(n!==null)Bt=n,dt=t;else{if(t===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Bt===null?Pe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var n=Jl;return Jl+=1,La===null&&(La=[]),t=hg(La,t,n),n=Pe,(Bt===null?n.memoizedState:Bt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?n0:Lf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===Se)return rn(t)}throw Error(r(438,String(t)))}function wf(t){var n=null,a=Pe.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),Pe.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function si(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=Vt();return Nf(n,dt,t)}function Nf(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Ge&Z)===Z:(ni&Z)===Z){var q=z.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Da&&(Q=!0);else if((ni&q)===q){z=z.next,q===Da&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Z,g=f):R=R.next=Z,Pe.lanes|=q,Fi|=q;Z=z.action,Gr&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else q={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=q,g=f):R=R.next=q,Pe.lanes|=Z,Fi|=Z;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!Vn(f,t.memoizedState)&&(Ht=!0,Q&&(a=Oa,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rf(t){var n=Vt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Vn(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Tg(t,n,a){var l=Pe,h=Vt(),f=Je;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Vn((dt||h).memoizedState,a);if(g&&(h.memoizedState=a,Ht=!0),h=h.queue,Df(Ag.bind(null,l,h,t),[t]),h.getSnapshot!==n||g||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Sg.bind(null,l,h,a,n),null),yt===null)throw Error(r(349));f||(ni&127)!==0||xg(l,n,a)}return a}function xg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Pe.updateQueue,n===null?(n=Fu(),Pe.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sg(t,n,a,l){n.value=a,n.getSnapshot=l,wg(n)&&Ng(t)}function Ag(t,n,a){return a(function(){wg(n)&&Ng(t)})}function wg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Vn(t,a)}catch{return!0}}function Ng(t){var n=jr(t,2);n!==null&&wn(n,t,2)}function Cf(t){var n=_n();if(typeof t=="function"){var a=t;if(t=a(),Gr){Bn(!0);try{a()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},n}function Rg(t,n,a,l){return t.baseState=a,Nf(t,dt,typeof l=="function"?l:si)}function sT(t,n,a,l,h){if(Xu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};L.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Cg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Cg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=L.T,g={};L.T=g;try{var E=a(h,l),R=L.S;R!==null&&R(g,E),Ig(t,n,E)}catch(z){If(t,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),L.T=f}}else try{f=a(h,l),Ig(t,n,f)}catch(z){If(t,n,z)}}function Ig(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dg(t,n,l)},function(l){return If(t,n,l)}):Dg(t,n,a)}function Dg(t,n,a){n.status="fulfilled",n.value=a,Og(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Cg(t,a)))}function If(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Og(n),n=n.next;while(n!==l)}t.action=null}function Og(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Mg(t,n){return n}function Vg(t,n){if(Je){var a=yt.formState;if(a!==null){e:{var l=Pe;if(Je){if(bt){t:{for(var h=bt,f=Zn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=Wn(h.nextSibling),l=h.data==="F!";break e}}ki(l)}l=!1}l&&(n=a[0])}}return a=_n(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:n},a.queue=l,a=Wg.bind(null,Pe,l),l.dispatch=a,l=Cf(!1),f=jf.bind(null,Pe,!1,l.queue),l=_n(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=sT.bind(null,Pe,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function kg(t){var n=Vt();return jg(n,dt,t)}function jg(t,n,a){if(n=Nf(t,n,Mg)[0],t=Qu(si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wl(n)}catch(g){throw g===Ma?ju:g}else l=n;n=Vt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Pe.flags|=2048,Ua(9,{destroy:void 0},iT.bind(null,h,a),null)),[l,f,t]}function iT(t,n){t.action=n}function Lg(t){var n=Vt(),a=dt;if(a!==null)return jg(n,a,t);Vt(),n=n.memoizedState,a=Vt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ua(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Pe.updateQueue,n===null&&(n=Fu(),Pe.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ug(){return Vt().memoizedState}function Yu(t,n,a,l){var h=_n();Pe.flags|=t,h.memoizedState=Ua(1|n,{destroy:void 0},a,l===void 0?null:l)}function Ku(t,n,a,l){var h=Vt();l=l===void 0?null:l;var f=h.memoizedState.inst;dt!==null&&l!==null&&Ef(l,dt.memoizedState.deps)?h.memoizedState=Ua(n,f,a,l):(Pe.flags|=t,h.memoizedState=Ua(1|n,f,a,l))}function Pg(t,n){Yu(8390656,8,t,n)}function Df(t,n){Ku(2048,8,t,n)}function rT(t){Pe.flags|=4;var n=Pe.updateQueue;if(n===null)n=Fu(),Pe.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function zg(t){var n=Vt().memoizedState;return rT({ref:n,nextImpl:t}),function(){if((rt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function qg(t,n){return Ku(4,2,t,n)}function Bg(t,n){return Ku(4,4,t,n)}function Hg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fg(t,n,a){a=a!=null?a.concat([t]):null,Ku(4,4,Hg.bind(null,n,t),a)}function Of(){}function Gg(t,n){var a=Vt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ef(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Qg(t,n){var a=Vt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ef(n,l[1]))return l[0];if(l=t(),Gr){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,n],l}function Mf(t,n,a){return a===void 0||(ni&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Y0(),Pe.lanes|=t,Fi|=t,a)}function Yg(t,n,a,l){return Vn(a,n)?a:ka.current!==null?(t=Mf(t,a,l),Vn(t,n)||(Ht=!0),t):(ni&42)===0||(ni&1073741824)!==0&&(Ge&261930)===0?(Ht=!0,t.memoizedState=a):(t=Y0(),Pe.lanes|=t,Fi|=t,n)}function Kg(t,n,a,l,h){var f=K.p;K.p=f!==0&&8>f?f:8;var g=L.T,E={};L.T=E,jf(t,!1,n,a);try{var R=h(),z=L.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=eT(R,l);eo(t,n,Q,zn(t))}else eo(t,n,l,zn(t))}catch(Z){eo(t,n,{then:function(){},status:"rejected",reason:Z},zn())}finally{K.p=f,g!==null&&E.types!==null&&(g.types=E.types),L.T=g}}function aT(){}function Vf(t,n,a,l){if(t.tag!==5)throw Error(r(476));var h=Xg(t).queue;Kg(t,h,n,ee,a===null?aT:function(){return $g(t),a(l)})}function Xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $g(t){var n=Xg(t);n.next===null&&(n=t.alternate.memoizedState),eo(t,n.next.queue,{},zn())}function kf(){return rn(_o)}function Zg(){return Vt().memoizedState}function Jg(){return Vt().memoizedState}function lT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=zn();t=Ui(a);var l=Pi(n,t,a);l!==null&&(wn(l,n,a),Xl(l,n,a)),n={cache:cf()},t.payload=n;return}n=n.return}}function oT(t,n,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(t)?e0(n,a):(a=Jh(t,n,a,l),a!==null&&(wn(a,t,l),t0(a,n,l)))}function Wg(t,n,a){var l=zn();eo(t,n,a,l)}function eo(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))e0(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,Vn(E,g))return Cu(t,n,h,0),yt===null&&Ru(),!1}catch{}finally{}if(a=Jh(t,n,h,l),a!==null)return wn(a,t,l),t0(a,n,l),!0}return!1}function jf(t,n,a,l){if(l={lane:2,revertLane:md(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(r(479))}else n=Jh(t,a,l,2),n!==null&&wn(n,t,2)}function Xu(t){var n=t.alternate;return t===Pe||n!==null&&n===Pe}function e0(t,n){ja=Bu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function t0(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Tl(t,a)}}var to={readContext:rn,use:Gu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};to.useEffectEvent=Nt;var n0={readContext:rn,use:Gu,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:Pg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Yu(4194308,4,Hg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var a=_n();n=n===void 0?null:n;var l=t();if(Gr){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=_n();if(a!==void 0){var h=a(n);if(Gr){Bn(!0);try{a(n)}finally{Bn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=oT.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=Cf(t);var n=t.queue,a=Wg.bind(null,Pe,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(t,n){var a=_n();return Mf(a,t,n)},useTransition:function(){var t=Cf(!1);return t=Kg.bind(null,Pe,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Pe,h=_n();if(Je){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),yt===null)throw Error(r(349));(Ge&127)!==0||xg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Pg(Ag.bind(null,l,f,t),[t]),l.flags|=2048,Ua(9,{destroy:void 0},Sg.bind(null,l,f,a,n),null),a},useId:function(){var t=_n(),n=yt.identifierPrefix;if(Je){var a=Ls,l=js;a=(l&~(1<<32-Dt(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=tT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=jf.bind(null,Pe,!0,a),a.dispatch=n,[t,n]},useMemoCache:wf,useCacheRefresh:function(){return _n().memoizedState=lT.bind(null,Pe)},useEffectEvent:function(t){var n=_n(),a={impl:t};return n.memoizedState=a,function(){if((rt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:rn,use:Gu,useCallback:Gg,useContext:rn,useEffect:Df,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Bg,useMemo:Qg,useReducer:Qu,useRef:Ug,useState:function(){return Qu(si)},useDebugValue:Of,useDeferredValue:function(t,n){var a=Vt();return Yg(a,dt.memoizedState,t,n)},useTransition:function(){var t=Qu(si)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:kf,useFormState:kg,useActionState:kg,useOptimistic:function(t,n){var a=Vt();return Rg(a,dt,t,n)},useMemoCache:wf,useCacheRefresh:Jg};Lf.useEffectEvent=zg;var s0={readContext:rn,use:Gu,useCallback:Gg,useContext:rn,useEffect:Df,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Bg,useMemo:Qg,useReducer:Rf,useRef:Ug,useState:function(){return Rf(si)},useDebugValue:Of,useDeferredValue:function(t,n){var a=Vt();return dt===null?Mf(a,t,n):Yg(a,dt.memoizedState,t,n)},useTransition:function(){var t=Rf(si)[0],n=Vt().memoizedState;return[typeof t=="boolean"?t:Wl(t),n]},useSyncExternalStore:Tg,useId:Zg,useHostTransitionStatus:kf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,n){var a=Vt();return dt!==null?Rg(a,dt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:Jg};s0.useEffectEvent=zg;function Uf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=zn(),h=Ui(l);h.payload=n,a!=null&&(h.callback=a),n=Pi(t,h,l),n!==null&&(wn(n,t,l),Xl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=zn(),h=Ui(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Pi(t,h,l),n!==null&&(wn(n,t,l),Xl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=zn(),l=Ui(a);l.tag=2,n!=null&&(l.callback=n),n=Pi(t,l,a),n!==null&&(wn(n,t,a),Xl(n,t,a))}};function i0(t,n,a,l,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ql(a,l)||!ql(h,f):!0}function r0(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Qr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function a0(t){Nu(t)}function l0(t){console.error(t)}function o0(t){Nu(t)}function $u(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function u0(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,n,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,n)},a}function c0(t){return t=Ui(t),t.tag=3,t}function h0(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){u0(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){u0(n,a,l),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function uT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ia(n,a,h,!0),a=jn.current,a!==null){switch(a.tag){case 31:case 13:return Jn===null?oc():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),hd(t,l,h)),!1;case 22:return a.flags|=65536,l===Lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),hd(t,l,h)),!1}throw Error(r(435,a.tag))}return hd(t,l,h),oc(),!1}if(Je)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==rf&&(t=Error(r(422),{cause:l}),Fl(Kn(t,a)))):(l!==rf&&(n=Error(r(423),{cause:l}),Fl(Kn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,a),h=zf(t.stateNode,l,h),gf(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(r(520),{cause:l});if(f=Kn(f,a),uo===null?uo=[f]:uo.push(f),Rt!==4&&(Rt=2),n===null)return!0;l=Kn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,l,t),gf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gi===null||!Gi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=c0(h),h0(h,t,a,l),gf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(r(461)),Ht=!1;function an(t,n,a,l){n.child=t===null?pg(n,null,a,l):Fr(n,t.child,a,l)}function f0(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return zr(n),l=Tf(t,n,a,g,f,h),E=xf(),t!==null&&!Ht?(Sf(t,n,h),ii(t,n,h)):(Je&&E&&nf(n),n.flags|=1,an(t,n,l,h),n.child)}function d0(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,m0(t,n,f,l,h)):(t=Du(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Xf(t,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ql,a(g,l)&&t.ref===n.ref)return ii(t,n,h)}return n.flags|=1,t=Js(f,l),t.ref=n.ref,t.return=n,n.child=t}function m0(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(ql(f,l)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=l=f,Xf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,ii(t,n,h)}return Bf(t,n,a,l,h)}function p0(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return g0(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?_g(n,f):_f(),vg(n);else return l=n.lanes=536870912,g0(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(ku(n,f.cachePool),_g(n,f),qi(),n.memoizedState=null):(t!==null&&ku(n,null),_f(),qi());return an(t,n,h,a),n.child}function no(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function g0(t,n,a,l,h){var f=ff();return f=f===null?null:{parent:qt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&ku(n,null),_f(),vg(n),t!==null&&Ia(t,n,l,!0),n.childLanes=h,null}function Zu(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function y0(t,n,a){return Fr(n,t.child,null,a),t=Zu(n,n.pendingProps),t.flags|=2,Ln(n),n.memoizedState=null,t}function cT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Je){if(l.mode==="hidden")return t=Zu(n,l),n.lanes=536870912,no(null,t);if(bf(n),(t=bt)?(t=Cy(t,Zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:js,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,sn=n,bt=null)):t=null,t===null)throw ki(n);return n.lanes=536870912,null}return Zu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=y0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ht||Ia(t,n,a,!1),h=(a&t.childLanes)!==0,Ht||h){if(l=yt,l!==null&&(g=xl(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,jr(t,g),wn(l,t,g),qf;oc(),n=y0(t,n,a)}else t=f.treeContext,bt=Wn(g.nextSibling),sn=n,Je=!0,Vi=null,Zn=!1,t!==null&&sg(n,t),n=Zu(n,l),n.flags|=4096;return n}return t=Js(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bf(t,n,a,l,h){return zr(n),a=Tf(t,n,a,l,void 0,h),l=xf(),t!==null&&!Ht?(Sf(t,n,h),ii(t,n,h)):(Je&&l&&nf(n),n.flags|=1,an(t,n,a,h),n.child)}function _0(t,n,a,l,h,f){return zr(n),n.updateQueue=null,a=Eg(n,l,a,h),bg(t),l=xf(),t!==null&&!Ht?(Sf(t,n,f),ii(t,n,f)):(Je&&l&&nf(n),n.flags|=1,an(t,n,a,f),n.child)}function v0(t,n,a,l,h){if(zr(n),n.stateNode===null){var f=wa,g=a.contextType;typeof g=="object"&&g!==null&&(f=rn(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},mf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?rn(g):wa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uf(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Pf.enqueueReplaceState(f,f.state,null),Zl(n,l,f,h),$l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=Qr(a,E);f.props=R;var z=f.context,Q=a.contextType;g=wa,typeof Q=="object"&&Q!==null&&(g=rn(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&r0(n,f,l,g),Li=!1;var q=n.memoizedState;f.state=q,Zl(n,l,f,h),$l(),z=n.memoizedState,E||q!==z||Li?(typeof Z=="function"&&(Uf(n,a,Z,l),z=n.memoizedState),(R=Li||i0(n,a,R,l,q,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,pf(t,n),g=n.memoizedProps,Q=Qr(a,g),f.props=Q,Z=n.pendingProps,q=f.context,z=a.contextType,R=wa,typeof z=="object"&&z!==null&&(R=rn(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||q!==R)&&r0(n,f,l,R),Li=!1,q=n.memoizedState,f.state=q,Zl(n,l,f,h),$l();var F=n.memoizedState;g!==Z||q!==F||Li||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(Uf(n,a,E,l),F=n.memoizedState),(Q=Li||i0(n,a,Q,l,q,F,R)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Fr(n,t.child,null,h),n.child=Fr(n,null,a,h)):an(t,n,a,h),n.memoizedState=f.state,t=n.child):t=ii(t,n,h),t}function b0(t,n,a,l){return Ur(),n.flags|=256,an(t,n,a,l),n.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:ug()}}function Gf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Pn),t}function E0(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Je){if(h?zi(n):qi(),(t=bt)?(t=Cy(t,Zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:js,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=eg(t),a.return=n,n.child=a,sn=n,bt=null)):t=null,t===null)throw ki(n);return Nd(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(qi(),h=n.mode,E=Wu({mode:"hidden",children:E},h),l=Lr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,g,a),n.memoizedState=Hf,no(null,l)):(zi(n),Qf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(zi(n),n.flags&=-257,n=Yf(t,n,a)):n.memoizedState!==null?(qi(),n.child=t.child,n.flags|=128,n=null):(qi(),E=l.fallback,h=n.mode,l=Wu({mode:"visible",children:l.children},h),E=Lr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Fr(n,t.child,null,a),l=n.child,l.memoizedState=Ff(a),l.childLanes=Gf(t,g,a),n.memoizedState=Hf,n=no(null,l));else if(zi(n),Nd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(r(419)),l.stack="",l.digest=g,Fl({value:l,source:null,stack:null}),n=Yf(t,n,a)}else if(Ht||Ia(t,n,a,!1),g=(a&t.childLanes)!==0,Ht||g){if(g=yt,g!==null&&(l=xl(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,jr(t,l),wn(g,t,l),qf;wd(E)||oc(),n=Yf(t,n,a)}else wd(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,bt=Wn(E.nextSibling),sn=n,Je=!0,Vi=null,Zn=!1,t!==null&&sg(n,t),n=Qf(n,l.children),n.flags|=4096);return n}return h?(qi(),E=l.fallback,h=n.mode,R=t.child,z=R.sibling,l=Js(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Js(z,E):(E=Lr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,no(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ff(a):(h=E.cachePool,h!==null?(R=qt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ug(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Gf(t,g,a),n.memoizedState=Hf,no(t.child,l)):(zi(n),a=t.child,t=a.sibling,a=Js(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Qf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=kn(22,t,null,n),t.lanes=0,t}function Yf(t,n,a){return Fr(n,t.child,null,a),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function T0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),of(t.return,n,a)}function Kf(t,n,a,l,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function x0(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Mt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,G(Mt,g),an(t,n,l,a),l=Je?Hl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T0(t,a,n);else if(t.tag===19)T0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Kf(n,!0,a,null,f,l);break;case"together":Kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Fi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ia(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Js(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Js(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Xf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function hT(t,n,a){switch(n.tag){case 3:Le(n,n.stateNode.containerInfo),ji(n,qt,t.memoizedState.cache),Ur();break;case 27:case 5:Te(n);break;case 4:Le(n,n.stateNode.containerInfo);break;case 10:ji(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(zi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?E0(t,n,a):(zi(n),t=ii(t,n,a),t!==null?t.sibling:null);zi(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ia(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return x0(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(Mt,Mt.current),l)break;return null;case 22:return n.lanes=0,p0(t,n,a,n.pendingProps);case 24:ji(n,qt,t.memoizedState.cache)}return ii(t,n,a)}function S0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Xf(t,a)&&(n.flags&128)===0)return Ht=!1,hT(t,n,a);Ht=(t.flags&131072)!==0}else Ht=!1,Je&&(n.flags&1048576)!==0&&ng(n,Hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Br(n.elementType),n.type=t,typeof t=="function")Wh(t)?(l=Qr(t,l),n.tag=1,n=v0(null,n,t,l,a)):(n.tag=0,n=Bf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===at){n.tag=11,n=f0(null,n,t,l,a);break e}else if(h===I){n.tag=14,n=d0(null,n,t,l,a);break e}}throw n=_t(t)||t,Error(r(306,n,""))}}return n;case 0:return Bf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Qr(l,n.pendingProps),v0(t,n,l,h,a);case 3:e:{if(Le(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,pf(t,n),Zl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ji(n,qt,l),l!==f.cache&&uf(n,[qt],a,!0),$l(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=b0(t,n,l,a);break e}else if(l!==h){h=Kn(Error(r(424)),n),Fl(h),n=b0(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=Wn(t.firstChild),sn=n,Je=!0,Vi=null,Zn=!0,a=pg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ur(),l===h){n=ii(t,n,a);break e}an(t,n,l,a)}n=n.child}return n;case 26:return Ju(t,n),t===null?(a=ky(n.type,null,n.pendingProps,null))?n.memoizedState=a:Je||(a=n.type,t=n.pendingProps,l=pc(oe.current).createElement(a),l[Ut]=n,l[$t]=t,ln(l,a,t),Pt(l),n.stateNode=l):n.memoizedState=ky(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Te(n),t===null&&Je&&(l=n.stateNode=Oy(n.type,n.pendingProps,oe.current),sn=n,Zn=!0,h=bt,Xi(n.type)?(Rd=h,bt=Wn(l.firstChild)):bt=h),an(t,n,n.pendingProps.children,a),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Je&&((h=l=bt)&&(l=qT(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,sn=n,bt=Wn(l.firstChild),Zn=!1,h=!0):h=!1),h||ki(n)),Te(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,xd(h,f)?l=null:g!==null&&xd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Tf(t,n,nT,null,null,a),_o._currentValue=h),Ju(t,n),an(t,n,l,a),n.child;case 6:return t===null&&Je&&((t=a=bt)&&(a=BT(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,sn=n,bt=null,t=!0):t=!1),t||ki(n)),null;case 13:return E0(t,n,a);case 4:return Le(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fr(n,null,l,a):an(t,n,l,a),n.child;case 11:return f0(t,n,n.type,n.pendingProps,a);case 7:return an(t,n,n.pendingProps,a),n.child;case 8:return an(t,n,n.pendingProps.children,a),n.child;case 12:return an(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ji(n,n.type,l.value),an(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,zr(n),h=rn(h),l=l(h),n.flags|=1,an(t,n,l,a),n.child;case 14:return d0(t,n,n.type,n.pendingProps,a);case 15:return m0(t,n,n.type,n.pendingProps,a);case 19:return x0(t,n,a);case 31:return cT(t,n,a);case 22:return p0(t,n,a,n.pendingProps);case 24:return zr(n),l=rn(qt),t===null?(h=ff(),h===null&&(h=yt,f=cf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},mf(n),ji(n,qt,h)):((t.lanes&a)!==0&&(pf(t,n),Zl(n,null,null,a),$l()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ji(n,qt,l)):(l=f.cache,ji(n,qt,l),l!==h.cache&&uf(n,[qt],a,!0))),an(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ri(t){t.flags|=4}function $f(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Z0())t.flags|=8192;else throw Hr=Lu,df}else t.flags&=-16777217}function A0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zy(n))if(Z0())t.flags|=8192;else throw Hr=Lu,df}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Ba|=n)}function so(t,n){if(!Je)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Et(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function fT(t,n,a){var l=n.pendingProps;switch(sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(n),null;case 1:return Et(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ti(qt),ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(n)?ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,af())),Et(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ri(n),f!==null?(Et(n),A0(n,f)):(Et(n),$f(n,h,null,l,a))):f?f!==t.memoizedState?(ri(n),Et(n),A0(n,f)):(Et(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ri(n),Et(n),$f(n,h,t,l,a)),null;case 27:if(De(n),a=oe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ri(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Et(n),null}t=W.current,Ca(n)?ig(n):(t=Oy(h,l,a),n.stateNode=t,ri(n))}return Et(n),null;case 5:if(De(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ri(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Et(n),null}if(f=W.current,Ca(n))ig(n);else{var g=pc(oe.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ut]=n,f[$t]=l;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(ln(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ri(n)}}return Et(n),$f(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=oe.current,Ca(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ey(t.nodeValue,a)),t||ki(n,!0)}else t=pc(t).createTextNode(l),t[Ut]=n,n.stateNode=t}return Et(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ca(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Ut]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),t=!1}else a=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Ln(n),n):(Ln(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Et(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ut]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),h=!1}else h=af(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ln(n),n):(Ln(n),null)}return Ln(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),Et(n),null);case 4:return ce(),t===null&&_d(n.stateNode.containerInfo),Et(n),null;case 10:return ti(n.type),Et(n),null;case 19:if(B(Mt),l=n.memoizedState,l===null)return Et(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)so(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,so(l,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Wp(a,t),a=a.sibling;return G(Mt,Mt.current&1|2),Je&&Ws(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ne()>rc&&(n.flags|=128,h=!0,so(l,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),so(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Je)return Et(n),null}else 2*Ne()-l.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,so(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ne(),t.sibling=null,a=Mt.current,G(Mt,h?a&1|2:a&1),Je&&Ws(n,l.treeForkCount),t):(Et(n),null);case 22:case 23:return Ln(n),vf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Et(n),n.subtreeFlags&6&&(n.flags|=8192)):Et(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&B(qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ti(qt),Et(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function dT(t,n){switch(sf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ti(qt),ce(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return De(n),null;case 31:if(n.memoizedState!==null){if(Ln(n),n.alternate===null)throw Error(r(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Ln(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return B(Mt),null;case 4:return ce(),null;case 10:return ti(n.type),null;case 22:case 23:return Ln(n),vf(),t!==null&&B(qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ti(qt),null;case 25:return null;default:return null}}function w0(t,n){switch(sf(n),n.tag){case 3:ti(qt),ce();break;case 26:case 27:case 5:De(n);break;case 4:ce();break;case 31:n.memoizedState!==null&&Ln(n);break;case 13:Ln(n);break;case 19:B(Mt);break;case 10:ti(n.type);break;case 22:case 23:Ln(n),vf(),t!==null&&B(qr);break;case 24:ti(qt)}}function io(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==h)}}catch(E){ht(n,n.return,E)}}function Bi(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(Q){ht(h,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){ht(n,n.return,Q)}}function N0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{yg(n,a)}catch(l){ht(t,t.return,l)}}}function R0(t,n,a){a.props=Qr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ht(t,n,l)}}function ro(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ht(t,n,h)}}function Us(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ht(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ht(t,n,h)}else a.current=null}function C0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ht(t,t.return,h)}}function Zf(t,n,a){try{var l=t.stateNode;kT(l,t.type,a,n),l[$t]=n}catch(h){ht(t,t.return,h)}}function I0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xi(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ls));else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Wf(t,n,a),t=t.sibling;t!==null;)Wf(t,n,a),t=t.sibling}function tc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Xi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(tc(t,n,a),t=t.sibling;t!==null;)tc(t,n,a),t=t.sibling}function D0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ln(n,l,a),n[Ut]=t,n[$t]=a}catch(f){ht(t,t.return,f)}}var ai=!1,Ft=!1,ed=!1,O0=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function mT(t,n){if(t=t.containerInfo,Ed=Tc,t=Fp(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var g=0,E=-1,R=-1,z=0,Q=0,Z=t,q=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=g+h),Z!==f||l!==0&&Z.nodeType!==3||(R=g+l),Z.nodeType===3&&(g+=Z.nodeValue.length),(F=Z.firstChild)!==null;)q=Z,Z=F;for(;;){if(Z===t)break t;if(q===a&&++z===h&&(E=g),q===f&&++Q===l&&(R=g),(F=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=F}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Tc=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Qr(a.type,h);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(xe){ht(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function M0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&io(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){ht(a,a.return,g)}else{var h=Qr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ht(a,a.return,g)}}l&64&&N0(a),l&512&&ro(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{yg(t,n)}catch(g){ht(a,a.return,g)}}break;case 27:n===null&&l&4&&D0(a);case 26:case 5:oi(t,a),n===null&&l&4&&C0(a),l&512&&ro(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&j0(t,a);break;case 13:oi(t,a),l&4&&L0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xT.bind(null,a),HT(t,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){n=n!==null&&n.memoizedState!==null||Ft,h=ai;var f=Ft;ai=l,(Ft=n)&&!f?ui(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),ai=h,Ft=f}break;case 30:break;default:oi(t,a)}}function V0(t){var n=t.alternate;n!==null&&(t.alternate=null,V0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&fa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,Tn=!1;function li(t,n,a){for(a=a.child;a!==null;)k0(t,n,a),a=a.sibling}function k0(t,n,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ss,a)}catch{}switch(a.tag){case 26:Ft||Us(a,n),li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ft||Us(a,n);var l=St,h=Tn;Xi(a.type)&&(St=a.stateNode,Tn=!1),li(t,n,a),po(a.stateNode),St=l,Tn=h;break;case 5:Ft||Us(a,n);case 6:if(l=St,h=Tn,St=null,li(t,n,a),St=l,Tn=h,St!==null)if(Tn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(a.stateNode)}catch(f){ht(a,n,f)}else try{St.removeChild(a.stateNode)}catch(f){ht(a,n,f)}break;case 18:St!==null&&(Tn?(t=St,Ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$a(t)):Ny(St,a.stateNode));break;case 4:l=St,h=Tn,St=a.stateNode.containerInfo,Tn=!0,li(t,n,a),St=l,Tn=h;break;case 0:case 11:case 14:case 15:Bi(2,a,n),Ft||Bi(4,a,n),li(t,n,a);break;case 1:Ft||(Us(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&R0(a,n,l)),li(t,n,a);break;case 21:li(t,n,a);break;case 22:Ft=(l=Ft)||a.memoizedState!==null,li(t,n,a),Ft=l;break;default:li(t,n,a)}}function j0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(a){ht(n,n.return,a)}}}function L0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(a){ht(n,n.return,a)}}function pT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new O0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new O0),n;default:throw Error(r(435,t.tag))}}function nc(t,n){var a=pT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=ST.bind(null,t,l);l.then(h,h)}})}function xn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(Xi(E.type)){St=E.stateNode,Tn=!1;break e}break;case 5:St=E.stateNode,Tn=!1;break e;case 3:case 4:St=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(St===null)throw Error(r(160));k0(f,g,h),St=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)U0(n,t),n=n.sibling}var ds=null;function U0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),Sn(t),l&4&&(Bi(3,t,t.return),io(3,t),Bi(5,t,t.return));break;case 1:xn(n,t),Sn(t),l&512&&(Ft||a===null||Us(a,a.return)),l&64&&ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ds;if(xn(n,t),Sn(t),l&512&&(Ft||a===null||Us(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ss]||f[Ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ln(f,l,a),f[Ut]=t,Pt(f),l=f;break e;case"link":var g=Uy("link","href",h).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(l),ln(f,l,a),h.head.appendChild(f);break;case"meta":if(g=Uy("meta","content",h).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break t}}f=h.createElement(l),ln(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ut]=t,Pt(f),l=f}t.stateNode=l}else Py(h,t.type,t.stateNode);else t.stateNode=Ly(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Py(h,t.type,t.stateNode):Ly(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(n,t),Sn(t),l&512&&(Ft||a===null||Us(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(n,t),Sn(t),l&512&&(Ft||a===null||Us(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(he){ht(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Zf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(xn(n,t),Sn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){ht(t,t.return,he)}}break;case 3:if(_c=null,h=ds,ds=gc(n.containerInfo),xn(n,t),ds=h,Sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(n.containerInfo)}catch(he){ht(t,t.return,he)}ed&&(ed=!1,P0(t));break;case 4:l=ds,ds=gc(t.stateNode.containerInfo),xn(n,t),Sn(t),ds=l;break;case 12:xn(n,t),Sn(t);break;case 31:xn(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 13:xn(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=Ne()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ai,Q=Ft;if(ai=z||h,Ft=Q||R,xn(n,t),Ft=Q,ai=z,Sn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ai||Ft||Yr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Z=R.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){ht(R,R.return,he)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(he){ht(R,R.return,he)}}}else if(n.tag===18){if(a===null){R=n;try{var F=R.stateNode;h?Ry(F,!0):Ry(R.stateNode,!1)}catch(he){ht(R,R.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nc(t,a))));break;case 19:xn(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 30:break;case 21:break;default:xn(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(I0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Jf(t);tc(t,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(En(g,""),a.flags&=-33);var E=Jf(t);tc(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Jf(t);Wf(t,z,R);break;default:throw Error(r(161))}}catch(Q){ht(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function P0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;P0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function oi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)M0(t,n.alternate,n),n=n.sibling}function Yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bi(4,n,n.return),Yr(n);break;case 1:Us(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&R0(n,n.return,a),Yr(n);break;case 27:po(n.stateNode);case 26:case 5:Us(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}t=t.sibling}}function ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ui(h,f,a),io(4,f);break;case 1:if(ui(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){ht(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)gg(R[h],E)}catch(z){ht(l,l.return,z)}}a&&g&64&&N0(f),ro(f,f.return);break;case 27:D0(f);case 26:case 5:ui(h,f,a),a&&l===null&&g&4&&C0(f),ro(f,f.return);break;case 12:ui(h,f,a);break;case 31:ui(h,f,a),a&&g&4&&j0(h,f);break;case 13:ui(h,f,a),a&&g&4&&L0(h,f);break;case 22:f.memoizedState===null&&ui(h,f,a),ro(f,f.return);break;case 30:break;default:ui(h,f,a)}n=n.sibling}}function td(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Gl(a))}function nd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t))}function ms(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)z0(t,n,a,l),n=n.sibling}function z0(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ms(t,n,a,l),h&2048&&io(9,n);break;case 1:ms(t,n,a,l);break;case 3:ms(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Gl(t)));break;case 12:if(h&2048){ms(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ht(n,n.return,R)}}else ms(t,n,a,l);break;case 31:ms(t,n,a,l);break;case 13:ms(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ms(t,n,a,l):ao(t,n):f._visibility&2?ms(t,n,a,l):(f._visibility|=2,Pa(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&td(g,n);break;case 24:ms(t,n,a,l),h&2048&&nd(n.alternate,n);break;default:ms(t,n,a,l)}}function Pa(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Pa(f,g,E,R,h),io(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Pa(f,g,E,R,h):ao(f,g):(Q._visibility|=2,Pa(f,g,E,R,h)),h&&z&2048&&td(g.alternate,g);break;case 24:Pa(f,g,E,R,h),h&&z&2048&&nd(g.alternate,g);break;default:Pa(f,g,E,R,h)}n=n.sibling}}function ao(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:ao(a,l),h&2048&&td(l.alternate,l);break;case 24:ao(a,l),h&2048&&nd(l.alternate,l);break;default:ao(a,l)}n=n.sibling}}var lo=8192;function za(t,n,a){if(t.subtreeFlags&lo)for(t=t.child;t!==null;)q0(t,n,a),t=t.sibling}function q0(t,n,a){switch(t.tag){case 26:za(t,n,a),t.flags&lo&&t.memoizedState!==null&&tx(a,ds,t.memoizedState,t.memoizedProps);break;case 5:za(t,n,a);break;case 3:case 4:var l=ds;ds=gc(t.stateNode.containerInfo),za(t,n,a),ds=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,za(t,n,a),lo=l):za(t,n,a));break;default:za(t,n,a)}}function B0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function oo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,F0(l,t)}B0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)H0(t),t=t.sibling}function H0(t){switch(t.tag){case 0:case 11:case 15:oo(t),t.flags&2048&&Bi(9,t,t.return);break;case 3:oo(t);break;case 12:oo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):oo(t);break;default:oo(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Jt=l,F0(l,t)}B0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bi(8,n,n.return),sc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function F0(t,n){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:Bi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=t;Jt!==null;){l=Jt;var h=l.sibling,f=l.return;if(V0(l),l===a){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var gT={getCacheForType:function(t){var n=rn(qt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return rn(qt).controller.signal}},yT=typeof WeakMap=="function"?WeakMap:Map,rt=0,yt=null,He=null,Ge=0,ct=0,Un=null,Hi=!1,qa=!1,sd=!1,ci=0,Rt=0,Fi=0,Kr=0,id=0,Pn=0,Ba=0,uo=null,An=null,rd=!1,ic=0,G0=0,rc=1/0,ac=null,Gi=null,Kt=0,Qi=null,Ha=null,hi=0,ad=0,ld=null,Q0=null,co=0,od=null;function zn(){return(rt&2)!==0&&Ge!==0?Ge&-Ge:L.T!==null?md():lu()}function Y0(){if(Pn===0)if((Ge&536870912)===0||Je){var t=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Pn=t}else Pn=536870912;return t=jn.current,t!==null&&(t.flags|=32),Pn}function wn(t,n,a){(t===yt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Yi(t,Ge,Pn,!1)),Tr(t,a),((rt&2)===0||t!==yt)&&(t===yt&&((rt&2)===0&&(Kr|=a),Rt===4&&Yi(t,Ge,Pn,!1)),Ps(t))}function K0(t,n,a){if((rt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||is(t,n),h=l?bT(t,n):cd(t,n,!0),f=l;do{if(h===0){qa&&!l&&Yi(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!_T(a)){h=cd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=uo;var R=E.current.memoizedState.isDehydrated;if(R&&(Fa(E,g).flags|=256),g=cd(E,g,!1),g!==2){if(sd&&!R){E.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break e}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Fa(t,0),Yi(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Yi(l,n,Pn,!Hi);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ic+300-Ne(),10<h)){if(Yi(l,n,Pn,!Hi),Es(l,0,!0)!==0)break e;hi=n,l.timeoutHandle=Ay(X0.bind(null,l,a,An,ac,rd,n,Pn,Kr,Ba,Hi,f,"Throttled",-0,0),h);break e}X0(l,a,An,ac,rd,n,Pn,Kr,Ba,Hi,f,null,-0,0)}}break}while(!0);Ps(t)}function X0(t,n,a,l,h,f,g,E,R,z,Q,Z,q,F){if(t.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ls},q0(n,f,Z);var he=(f&62914560)===f?ic-Ne():(f&4194048)===f?G0-Ne():0;if(he=nx(Z,he),he!==null){hi=f,t.cancelPendingCommit=he(sy.bind(null,t,n,f,a,l,h,g,E,R,Q,Z,null,q,F)),Yi(t,f,g,!z);return}}sy(t,n,f,a,l,h,g,E,R)}function _T(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Vn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yi(t,n,a,l){n&=~id,n&=~Kr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Dt(h),g=1<<f;l[f]=-1,h&=~g}a!==0&&xr(t,a,n)}function lc(){return(rt&6)===0?(ho(0),!1):!0}function ud(){if(He!==null){if(ct===0)var t=He.return;else t=He,ei=Pr=null,Af(t),Va=null,Yl=0,t=He;for(;t!==null;)w0(t.alternate,t),t=t.return;He=null}}function Fa(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,UT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hi=0,ud(),yt=t,He=a=Js(t.current,null),Ge=n,ct=0,Un=null,Hi=!1,qa=is(t,n),sd=!1,Ba=Pn=id=Kr=Fi=Rt=0,An=uo=null,rd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Dt(l),f=1<<h;n|=t[h],l&=~f}return ci=n,Ru(),a}function $0(t,n){Pe=null,L.H=to,n===Ma||n===ju?(n=fg(),ct=3):n===df?(n=fg(),ct=4):ct=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Un=n,He===null&&(Rt=1,$u(t,Kn(n,t.current)))}function Z0(){var t=jn.current;return t===null?!0:(Ge&4194048)===Ge?Jn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===Jn:!1}function J0(){var t=L.H;return L.H=to,t===null?to:t}function W0(){var t=L.A;return L.A=gT,t}function oc(){Rt=4,Hi||(Ge&4194048)!==Ge&&jn.current!==null||(qa=!0),(Fi&134217727)===0&&(Kr&134217727)===0||yt===null||Yi(yt,Ge,Pn,!1)}function cd(t,n,a){var l=rt;rt|=2;var h=J0(),f=W0();(yt!==t||Ge!==n)&&(ac=null,Fa(t,n)),n=!1;var g=Rt;e:do try{if(ct!==0&&He!==null){var E=He,R=Un;switch(ct){case 8:ud(),g=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var z=ct;if(ct=0,Un=null,Ga(t,E,R,z),a&&qa){g=0;break e}break;default:z=ct,ct=0,Un=null,Ga(t,E,R,z)}}vT(),g=Rt;break}catch(Q){$0(t,Q)}while(!0);return n&&t.shellSuspendCounter++,ei=Pr=null,rt=l,L.H=h,L.A=f,He===null&&(yt=null,Ge=0,Ru()),g}function vT(){for(;He!==null;)ey(He)}function bT(t,n){var a=rt;rt|=2;var l=J0(),h=W0();yt!==t||Ge!==n?(ac=null,rc=Ne()+500,Fa(t,n)):qa=is(t,n);e:do try{if(ct!==0&&He!==null){n=He;var f=Un;t:switch(ct){case 1:ct=0,Un=null,Ga(t,n,f,1);break;case 2:case 9:if(cg(f)){ct=0,Un=null,ty(n);break}n=function(){ct!==2&&ct!==9||yt!==t||(ct=7),Ps(t)},f.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:cg(f)?(ct=0,Un=null,ty(n)):(ct=0,Un=null,Ga(t,n,f,7));break;case 5:var g=null;switch(He.tag){case 26:g=He.memoizedState;case 5:case 27:var E=He;if(g?zy(g):E.stateNode.complete){ct=0,Un=null;var R=E.sibling;if(R!==null)He=R;else{var z=E.return;z!==null?(He=z,uc(z)):He=null}break t}}ct=0,Un=null,Ga(t,n,f,5);break;case 6:ct=0,Un=null,Ga(t,n,f,6);break;case 8:ud(),Rt=6;break e;default:throw Error(r(462))}}ET();break}catch(Q){$0(t,Q)}while(!0);return ei=Pr=null,L.H=l,L.A=h,rt=a,He!==null?0:(yt=null,Ge=0,Ru(),Rt)}function ET(){for(;He!==null&&!vn();)ey(He)}function ey(t){var n=S0(t.alternate,t,ci);t.memoizedProps=t.pendingProps,n===null?uc(t):He=n}function ty(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=_0(a,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=_0(a,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Af(n);default:w0(a,n),n=He=Wp(n,ci),n=S0(a,n,ci)}t.memoizedProps=t.pendingProps,n===null?uc(t):He=n}function Ga(t,n,a,l){ei=Pr=null,Af(n),Va=null,Yl=0;var h=n.return;try{if(uT(t,h,n,a,Ge)){Rt=1,$u(t,Kn(a,t.current)),He=null;return}}catch(f){if(h!==null)throw He=h,f;Rt=1,$u(t,Kn(a,t.current)),He=null;return}n.flags&32768?(Je||l===1?t=!0:qa||(Ge&536870912)!==0?t=!1:(Hi=t=!0,(l===2||l===9||l===3||l===6)&&(l=jn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ny(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){ny(n,Hi);return}t=n.return;var a=fT(n.alternate,n,ci);if(a!==null){He=a;return}if(n=n.sibling,n!==null){He=n;return}He=n=t}while(n!==null);Rt===0&&(Rt=5)}function ny(t,n){do{var a=dT(t.alternate,t);if(a!==null){a.flags&=32767,He=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){He=t;return}He=t=a}while(t!==null);Rt=6,He=null}function sy(t,n,a,l,h,f,g,E,R){t.cancelPendingCommit=null;do cc();while(Kt!==0);if((rt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zh,Bh(t,a,f,g,E,R),t===yt&&(He=yt=null,Ge=0),Ha=n,Qi=t,hi=a,ad=f,ld=h,Q0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AT(xi,function(){return oy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=K.p,K.p=2,g=rt,rt|=4;try{mT(t,n,a)}finally{rt=g,K.p=h,L.T=l}}Kt=1,iy(),ry(),ay()}}function iy(){if(Kt===1){Kt=0;var t=Qi,n=Ha,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=K.p;K.p=2;var h=rt;rt|=4;try{U0(n,t);var f=Td,g=Fp(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Hp(E.ownerDocument.documentElement,E)){if(R!==null&&Qh(E)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var F=q.getSelection(),he=E.textContent.length,xe=Math.min(R.start,he),pt=R.end===void 0?xe:Math.min(R.end,he);!F.extend&&xe>pt&&(g=pt,pt=xe,xe=g);var k=Bp(E,xe),D=Bp(E,pt);if(k&&D&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var P=Z.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),xe>pt?(F.addRange(P),F.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),F.addRange(P))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Tc=!!Ed,Td=Ed=null}finally{rt=h,K.p=l,L.T=a}}t.current=n,Kt=2}}function ry(){if(Kt===2){Kt=0;var t=Qi,n=Ha,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=K.p;K.p=2;var h=rt;rt|=4;try{M0(t,n.alternate,n)}finally{rt=h,K.p=l,L.T=a}}Kt=3}}function ay(){if(Kt===4||Kt===3){Kt=0,Dn();var t=Qi,n=Ha,a=hi,l=Q0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Kt=5:(Kt=0,Ha=Qi=null,ly(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gi=null),Ks(a),n=n.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ss,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,h=K.p,K.p=2,L.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{L.T=n,K.p=h}}(hi&3)!==0&&cc(),Ps(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===od?co++:(co=0,od=t):co=0,ho(0)}}function ly(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Gl(n)))}function cc(){return iy(),ry(),ay(),oy()}function oy(){if(Kt!==5)return!1;var t=Qi,n=ad;ad=0;var a=Ks(hi),l=L.T,h=K.p;try{K.p=32>a?32:a,L.T=null,a=ld,ld=null;var f=Qi,g=hi;if(Kt=0,Ha=Qi=null,hi=0,(rt&6)!==0)throw Error(r(331));var E=rt;if(rt|=4,H0(f.current),z0(f,f.current,g,a),rt=E,ho(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ss,f)}catch{}return!0}finally{K.p=h,L.T=l,ly(t,n)}}function uy(t,n,a){n=Kn(a,n),n=zf(t.stateNode,n,2),t=Pi(t,n,2),t!==null&&(Tr(t,2),Ps(t))}function ht(t,n,a){if(t.tag===3)uy(t,t,a);else for(;n!==null;){if(n.tag===3){uy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=Kn(a,t),a=c0(2),l=Pi(n,a,2),l!==null&&(h0(a,l,n,t),Tr(l,2),Ps(l));break}}n=n.return}}function hd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(sd=!0,h.add(a),t=TT.bind(null,t,n,a),n.then(t,t))}function TT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,yt===t&&(Ge&a)===a&&(Rt===4||Rt===3&&(Ge&62914560)===Ge&&300>Ne()-ic?(rt&2)===0&&Fa(t,0):id|=a,Ba===Ge&&(Ba=0)),Ps(t)}function cy(t,n){n===0&&(n=au()),t=jr(t,n),t!==null&&(Tr(t,n),Ps(t))}function xT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),cy(t,a)}function ST(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),cy(t,a)}function AT(t,n){return we(t,n)}var hc=null,Qa=null,fd=!1,fc=!1,dd=!1,Ki=0;function Ps(t){t!==Qa&&t.next===null&&(Qa===null?hc=Qa=t:Qa=Qa.next=t),fc=!0,fd||(fd=!0,NT())}function ho(t,n){if(!dd&&fc){dd=!0;do for(var a=!1,l=hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Dt(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,my(l,f))}else f=Ge,f=Es(l,l===yt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||is(l,f)||(a=!0,my(l,f));l=l.next}while(a);dd=!1}}function wT(){hy()}function hy(){fc=fd=!1;var t=0;Ki!==0&&LT()&&(t=Ki);for(var n=Ne(),a=null,l=hc;l!==null;){var h=l.next,f=fy(l,n);f===0?(l.next=null,a===null?hc=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(f&3)!==0)&&(fc=!0)),l=h}Kt!==0&&Kt!==5||ho(t),Ki!==0&&(Ki=0)}function fy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Dt(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&l)!==0)&&(h[g]=qh(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=yt,a=Ge,a=Es(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ze(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||is(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ze(l),Ks(a)){case 2:case 8:a=jt;break;case 32:a=xi;break;case 268435456:a=tu;break;default:a=xi}return l=dy.bind(null,t),a=we(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ze(l),t.callbackPriority=2,t.callbackNode=null,2}function dy(t,n){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(cc()&&t.callbackNode!==a)return null;var l=Ge;return l=Es(t,t===yt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(K0(t,l,n),fy(t,Ne()),t.callbackNode!=null&&t.callbackNode===a?dy.bind(null,t):null)}function my(t,n){if(cc())return null;K0(t,n,!0)}function NT(){PT(function(){(rt&6)!==0?we(wt,wT):hy()})}function md(){if(Ki===0){var t=Da;t===0&&(t=vs,vs<<=1,(vs&261888)===0&&(vs=256)),Ki=t}return Ki}function py(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function gy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function RT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=py((h[$t]||null).action),g=l.submitter;g&&(n=(n=g[$t]||null)?py(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Os("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ki!==0){var R=g?gy(h,g):new FormData(h);Vf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?gy(h,g):new FormData(h),Vf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var pd=0;pd<$h.length;pd++){var gd=$h[pd],CT=gd.toLowerCase(),IT=gd[0].toUpperCase()+gd.slice(1);fs(CT,"on"+IT)}fs(Yp,"onAnimationEnd"),fs(Kp,"onAnimationIteration"),fs(Xp,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(QE,"onTransitionRun"),fs(YE,"onTransitionStart"),fs(KE,"onTransitionCancel"),fs($p,"onTransitionEnd"),Rs("onMouseEnter",["mouseout","mouseover"]),Rs("onMouseLeave",["mouseout","mouseover"]),Rs("onPointerEnter",["pointerout","pointerover"]),Rs("onPointerLeave",["pointerout","pointerover"]),Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function yy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=R}}}}function Fe(t,n){var a=n[ha];a===void 0&&(a=n[ha]=new Set);var l=t+"__bubble";a.has(l)||(_y(n,t,2,!1),a.add(l))}function yd(t,n,a){var l=0;n&&(l|=4),_y(a,t,l,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[dc]){t[dc]=!0,Sl.forEach(function(a){a!=="selectionchange"&&(DT.has(a)||yd(a,!1,t),yd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,yd("selectionchange",!1,n))}}function _y(t,n,a,l){switch(Yy(n)){case 2:var h=rx;break;case 8:h=ax;break;default:h=Md}a=h.bind(null,n,a,t),h=void 0,!Rr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function vd(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=As(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue e}E=E.parentNode}}l=l.return}Ci(function(){var z=f,Q=Fn(a),Z=[];e:{var q=Zp.get(t);if(q!==void 0){var F=Os,he=t;switch(t){case"keypress":if(Ir(a)===0)break e;case"keydown":case"keyup":F=Su;break;case"focusin":he="focus",F=Or;break;case"focusout":he="blur",F=Or;break;case"beforeblur":case"afterblur":F=Or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case Yp:case Kp:case Xp:F=yu;break;case $p:F=T;break;case"scroll":case"scrollend":F=jl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zs;break;case"toggle":case"beforetoggle":F=Ue}var xe=(n&4)!==0,pt=!xe&&(t==="scroll"||t==="scrollend"),k=xe?q!==null?q+"Capture":null:q;xe=[];for(var D=z,P;D!==null;){var X=D;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||k===null||(X=os(D,k),X!=null&&xe.push(mo(D,X,P))),pt)break;D=D.return}0<xe.length&&(q=new F(q,he,null,a,Q),Z.push({event:q,listeners:xe}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Ml&&(he=a.relatedTarget||a.fromElement)&&(As(he)||he[xs]))break e;if((F||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,F?(he=a.relatedTarget||a.toElement,F=z,he=he?As(he):null,he!==null&&(pt=c(he),xe=he.tag,he!==pt||xe!==5&&xe!==27&&xe!==6)&&(he=null)):(F=null,he=z),F!==he)){if(xe=Ll,X="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Zs,X="onPointerLeave",k="onPointerEnter",D="pointer"),pt=F==null?q:On(F),P=he==null?q:On(he),q=new xe(X,D+"leave",F,a,Q),q.target=pt,q.relatedTarget=P,X=null,As(Q)===z&&(xe=new xe(k,D+"enter",he,a,Q),xe.target=P,xe.relatedTarget=pt,X=xe),pt=X,F&&he)t:{for(xe=OT,k=F,D=he,P=0,X=k;X;X=xe(X))P++;X=0;for(var ge=D;ge;ge=xe(ge))X++;for(;0<P-X;)k=xe(k),P--;for(;0<X-P;)D=xe(D),X--;for(;P--;){if(k===D||D!==null&&k===D.alternate){xe=k;break t}k=xe(k),D=xe(D)}xe=null}else xe=null;F!==null&&vy(Z,q,F,xe,!1),he!==null&&pt!==null&&vy(Z,pt,he,xe,!0)}}e:{if(q=z?On(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var et=jp;else if(Vp(q))if(Lp)et=HE;else{et=qE;var me=zE}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&pa(z.elementType)&&(et=jp):et=BE;if(et&&(et=et(t,z))){kp(Z,et,a,Q);break e}me&&me(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Il(q,"number",q.value)}switch(me=z?On(z):window,t){case"focusin":(Vp(me)||me.contentEditable==="true")&&(xa=me,Yh=z,Bl=null);break;case"focusout":Bl=Yh=xa=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Gp(Z,a,Q);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":Gp(Z,a,Q)}var ze;if(it)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ta?Mr(t,a)&&(Qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Qe="onCompositionStart");Qe&&(ks&&a.locale!=="ko"&&(Ta||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ta&&(ze=kl()):(Ds=Q,Vl="value"in Ds?Ds.value:Ds.textContent,Ta=!0)),me=mc(z,Qe),0<me.length&&(Qe=new Vs(Qe,t,null,a,Q),Z.push({event:Qe,listeners:me}),ze?Qe.data=ze:(ze=Ea(a),ze!==null&&(Qe.data=ze)))),(ze=Qn?jE(t,a):LE(t,a))&&(Qe=mc(z,"onBeforeInput"),0<Qe.length&&(me=new Vs("onBeforeInput","beforeinput",null,a,Q),Z.push({event:me,listeners:Qe}),me.data=ze)),RT(Z,t,z,a,Q)}yy(Z,n)})}function mo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function mc(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=os(t,a),h!=null&&l.unshift(mo(t,h,f)),h=os(t,n),h!=null&&l.push(mo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function OT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vy(t,n,a,l,h){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=os(a,f),z!=null&&g.unshift(mo(a,z,R))):h||(z=os(a,f),z!=null&&g.push(mo(a,z,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var MT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(MT,`
`).replace(VT,"")}function Ey(t,n){return n=by(n),by(t)===n}function mt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,a,l);break;case"style":Ol(t,l,f);break;case"data":if(n!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&mt(t,n,"name",h.name,h,null),mt(t,n,"formEncType",h.formEncType,h,null),mt(t,n,"formMethod",h.formMethod,h,null),mt(t,n,"formTarget",h.formTarget,h,null)):(mt(t,n,"encType",h.encType,h,null),mt(t,n,"method",h.method,h,null),mt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ls);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),da(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,da(t,a,l))}}function bd(t,n,a,l,h,f){switch(a){case"style":Ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[$t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function ln(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:mt(t,n,f,g,a,null)}}h&&mt(t,n,"srcSet",a.srcSet,a,null),l&&mt(t,n,"src",a.src,a,null);return;case"input":Fe("invalid",t);var E=f=g=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:mt(t,n,l,Q,a,null)}}hu(t,f,E,R,z,g,h,!1);return;case"select":Fe("invalid",t),l=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:mt(t,n,h,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Ai(t,!!l,n,!1):a!=null&&Ai(t,!!l,a,!0);return;case"textarea":Fe("invalid",t),f=h=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:mt(t,n,g,E,a,null)}wi(t,l,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(t,n,R,l,a,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(l=0;l<fo.length;l++)Fe(fo[l],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:mt(t,n,z,l,a,null)}return;default:if(pa(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&bd(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&mt(t,n,E,l,a,null))}function kT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,Q=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(F)||mt(t,n,F,null,l,Z)}}for(var q in l){var F=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(F!=null||Z!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":g=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Z&&mt(t,n,q,F,l,Z)}}ma(t,g,E,R,z,Q,f,h);return;case"select":F=g=E=q=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(f)||mt(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=a[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&mt(t,n,h,f,l,R)}n=E,a=g,l=F,q!=null?Ai(t,!!a,q,!1):!!l!=!!a&&(n!=null?Ai(t,!!a,n,!0):Ai(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:mt(t,n,E,null,l,h)}for(g in l)if(h=l[g],f=a[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&mt(t,n,g,h,l,f)}fu(t,q,F);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:mt(t,n,he,null,l,q)}for(R in l)if(q=l[R],F=a[R],l.hasOwnProperty(R)&&q!==F&&(q!=null||F!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:mt(t,n,R,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)q=a[xe],a.hasOwnProperty(xe)&&q!=null&&!l.hasOwnProperty(xe)&&mt(t,n,xe,null,l,q);for(z in l)if(q=l[z],F=a[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:mt(t,n,z,q,l,F)}return;default:if(pa(n)){for(var pt in a)q=a[pt],a.hasOwnProperty(pt)&&q!==void 0&&!l.hasOwnProperty(pt)&&bd(t,n,pt,void 0,l,q);for(Q in l)q=l[Q],F=a[Q],!l.hasOwnProperty(Q)||q===F||q===void 0&&F===void 0||bd(t,n,Q,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&mt(t,n,k,null,l,q);for(Z in l)q=l[Z],F=a[Z],!l.hasOwnProperty(Z)||q===F||q==null&&F==null||mt(t,n,Z,q,l,F)}function Ty(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Ty(g)){for(g=0,E=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],z=R.startTime;if(z>E)break;var Q=R.transferSize,Z=R.initiatorType;Q&&Ty(Z)&&(R=R.responseEnd,g+=Q*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ed=null,Td=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sd=null;function LT(){var t=window.event;return t&&t.type==="popstate"?t===Sd?!1:(Sd=t,!0):(Sd=null,!1)}var Ay=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,PT=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(zT)}:Ay;function zT(t){setTimeout(function(){throw t})}function Xi(t){return t==="head"}function Ny(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),$a(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")po(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,po(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ss]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&po(t.ownerDocument.body);a=h}while(a);$a(n)}function Ry(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function qT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ss])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function BT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function Cy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$?"||t.data==="$~"}function Nd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function HT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function Iy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Wn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Dy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Oy(t,n,a){switch(n=pc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function po(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);fa(t)}var es=new Map,My=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fi=K.d;K.d={f:FT,r:GT,D:QT,C:YT,L:KT,m:XT,X:ZT,S:$T,M:JT};function FT(){var t=fi.f(),n=lc();return t||n}function GT(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?$g(n):fi.r(t)}var Ya=typeof document>"u"?null:document;function Vy(t,n,a){var l=Ya;if(l&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),My.has(h)||(My.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ln(n,"link",t),Pt(n),l.head.appendChild(n)))}}function QT(t){fi.D(t),Vy("dns-prefetch",t,null)}function YT(t,n){fi.C(t,n),Vy("preconnect",t,n)}function KT(t,n,a){fi.L(t,n,a);var l=Ya;if(l&&t&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+bn(a.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Xa(t)}es.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),es.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(go(f))||n==="script"&&l.querySelector(yo(f))||(n=l.createElement("link"),ln(n,"link",t),Pt(n),l.head.appendChild(n)))}}function XT(t,n){fi.m(t,n);var a=Ya;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Xa(t)}if(!es.has(f)&&(t=S({rel:"modulepreload",href:t},n),es.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yo(f)))return}l=a.createElement("link"),ln(l,"link",t),Pt(l),a.head.appendChild(l)}}}function $T(t,n,a){fi.S(t,n,a);var l=Ya;if(l&&t){var h=ws(l).hoistableStyles,f=Ka(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(go(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=es.get(f))&&Cd(t,a);var R=g=l.createElement("link");Pt(R),ln(R,"link",t),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ZT(t,n){fi.X(t,n);var a=Ya;if(a&&t){var l=ws(a).hoistableScripts,h=Xa(t),f=l.get(h);f||(f=a.querySelector(yo(h)),f||(t=S({src:t,async:!0},n),(n=es.get(h))&&Id(t,n),f=a.createElement("script"),Pt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function JT(t,n){fi.M(t,n);var a=Ya;if(a&&t){var l=ws(a).hoistableScripts,h=Xa(t),f=l.get(h);f||(f=a.querySelector(yo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=es.get(h))&&Id(t,n),f=a.createElement("script"),Pt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ky(t,n,a,l){var h=(h=oe.current)?gc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ka(a.href),a=ws(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var f=ws(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(go(t)))&&!f._p&&(g.instance=f,g.state.loading=5),es.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},es.set(t,a),f||WT(h,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Xa(a),a=ws(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ka(t){return'href="'+bn(t)+'"'}function go(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function WT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",a),Pt(n),t.head.appendChild(n))}function Xa(t){return'[src="'+bn(t)+'"]'}function yo(t){return"script[async]"+t}function Ly(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+bn(a.href)+'"]');if(l)return n.instance=l,Pt(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),ln(l,"style",h),yc(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ka(a.href);var f=t.querySelector(go(h));if(f)return n.state.loading|=4,n.instance=f,Pt(f),f;l=jy(a),(h=es.get(h))&&Cd(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),ln(f,"link",l),n.state.loading|=4,yc(f,a.precedence,t),n.instance=f;case"script":return f=Xa(a.src),(h=t.querySelector(yo(f)))?(n.instance=h,Pt(h),h):(l=a,(h=es.get(f))&&(l=S({},a),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),ln(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yc(l,a.precedence,t));return n.instance}function yc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function Uy(t,n,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ss]||f[Ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Py(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function ex(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tx(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(l.href),f=n.querySelector(go(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Pt(f);return}f=n.ownerDocument||n,l=jy(l),(h=es.get(h))&&Cd(l,h),f=f.createElement("link"),Pt(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),ln(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=vc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function nx(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Dd===0&&(Dd=62500*jT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Dd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(sx,t),bc=null,vc.call(t))}function sx(t,n){if(!(n.state.loading&4)){var a=bc.get(t);if(a)var l=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,h),a.set(g,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _o={$$typeof:Se,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function ix(t,n,a,l,h,f,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function qy(t,n,a,l,h,f,g,E,R,z,Q,Z){return t=new ix(t,n,a,g,R,z,Q,Z,E),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=cf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},mf(f),t}function By(t){return t?(t=wa,t):wa}function Hy(t,n,a,l,h,f){h=By(h),l.context===null?l.context=h:l.pendingContext=h,l=Ui(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Pi(t,l,n),a!==null&&(wn(a,t,n),Xl(a,t,n))}function Fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Od(t,n){Fy(t,n),(t=t.alternate)&&Fy(t,n)}function Gy(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&wn(n,t,67108864),Od(t,67108864)}}function Qy(t){if(t.tag===13||t.tag===31){var n=zn();n=Sr(n);var a=jr(t,n);a!==null&&wn(a,t,n),Od(t,n)}}var Tc=!0;function rx(t,n,a,l){var h=L.T;L.T=null;var f=K.p;try{K.p=2,Md(t,n,a,l)}finally{K.p=f,L.T=h}}function ax(t,n,a,l){var h=L.T;L.T=null;var f=K.p;try{K.p=8,Md(t,n,a,l)}finally{K.p=f,L.T=h}}function Md(t,n,a,l){if(Tc){var h=Vd(l);if(h===null)vd(t,n,l,xc,a),Ky(t,l);else if(ox(h,t,n,a,l))l.stopPropagation();else if(Ky(t,l),n&4&&-1<lx.indexOf(t)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=bs(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Dt(g);E.entanglements[1]|=R,g&=~R}Ps(f),(rt&6)===0&&(rc=Ne()+500,ho(0))}}break;case 31:case 13:E=jr(f,2),E!==null&&wn(E,f,2),lc(),Od(f,2)}if(f=Vd(l),f===null&&vd(t,n,l,xc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else vd(t,n,l,null,a)}}function Vd(t){return t=Fn(t),kd(t)}var xc=null;function kd(t){if(xc=null,t=As(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function Yy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case wt:return 2;case jt:return 8;case xi:case zh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var jd=!1,$i=null,Zi=null,Ji=null,vo=new Map,bo=new Map,Wi=[],lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(t,n){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function Eo(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&Gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ox(t,n,a,l,h){switch(n){case"focusin":return $i=Eo($i,t,n,a,l,h),!0;case"dragenter":return Zi=Eo(Zi,t,n,a,l,h),!0;case"mouseover":return Ji=Eo(Ji,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return vo.set(f,Eo(vo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,bo.set(f,Eo(bo.get(f)||null,t,n,a,l,h)),!0}return!1}function Xy(t){var n=As(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,rs(t.priority,function(){Qy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,rs(t.priority,function(){Qy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ml=l,a.target.dispatchEvent(l),Ml=null}else return n=Hn(a),n!==null&&Gy(n),t.blockedOn=a,!1;n.shift()}return!0}function $y(t,n,a){Sc(t)&&a.delete(n)}function ux(){jd=!1,$i!==null&&Sc($i)&&($i=null),Zi!==null&&Sc(Zi)&&(Zi=null),Ji!==null&&Sc(Ji)&&(Ji=null),vo.forEach($y),bo.forEach($y)}function Ac(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ux)))}var wc=null;function Zy(t){wc!==t&&(wc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kd(l||a)===null)continue;break}var f=Hn(a);f!==null&&(t.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(t){function n(R){return Ac(R,t)}$i!==null&&Ac($i,t),Zi!==null&&Ac(Zi,t),Ji!==null&&Ac(Ji,t),vo.forEach(n),bo.forEach(n);for(var a=0;a<Wi.length;a++){var l=Wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)Xy(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],g=h[$t]||null;if(typeof f=="function")g||Zy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[$t]||null)E=g.formAction;else if(kd(h)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Zy(a)}}}function Jy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Nc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=zn();Hy(a,l,t,n,null,null)},Nc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Hy(t.current,2,null,t,null,null),lc(),n[xs]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Wi.length&&n!==0&&n<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&Xy(t)}};var Wy=e.version;if(Wy!=="19.2.0")throw Error(r(527,Wy,"19.2.0"));K.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var cx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{ss=Rc.inject(cx),tn=Rc}catch{}}return xo.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",h=a0,f=l0,g=o0;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=qy(t,1,!1,null,null,a,l,null,h,f,g,Jy),t[xs]=n.current,_d(t),new Ld(n)},xo.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=a0,g=l0,E=o0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=qy(t,1,!0,n,a??null,l,h,R,f,g,E,Jy),n.context=By(null),a=n.current,l=zn(),l=Sr(l),h=Ui(l),h.callback=null,Pi(a,h,l),a=l,n.current.lanes=a,Tr(n,a),Ps(n),t[xs]=n.current,_d(t),new Nc(n)},xo.version="19.2.0",xo}var u_;function bx(){if(u_)return zd.exports;u_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zd.exports=vx(),zd.exports}var Ex=bx();const Tx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xx=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),c_=i=>{const e=xx(i);return e.charAt(0).toUpperCase()+e.slice(1)},ab=(...i)=>i.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),Sx=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ax={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wx=ye.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...y},v)=>ye.createElement("svg",{ref:v,...Ax,width:e,height:e,stroke:i,strokeWidth:r?Number(s)*24/Number(e):s,className:ab("lucide",o),...!c&&!Sx(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,x])=>ye.createElement(_,x)),...Array.isArray(c)?c:[c]]));const qe=(i,e)=>{const s=ye.forwardRef(({className:r,...o},c)=>ye.createElement(wx,{ref:c,iconNode:e,className:ab(`lucide-${Tx(c_(i))}`,`lucide-${i}`,r),...o}));return s.displayName=c_(i),s};const Nx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rx=qe("arrow-left",Nx);const Cx=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],h_=qe("box",Cx);const Ix=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Fd=qe("briefcase",Ix);const Dx=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],f_=qe("bug",Dx);const Ox=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gd=qe("calendar",Ox);const Mx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Qd=qe("camera",Mx);const Vx=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kx=qe("chart-column",Vx);const jx=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Lx=qe("chart-pie",jx);const Ux=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d_=qe("check",Ux);const Px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],m_=qe("circle-alert",Px);const zx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qx=qe("circle-check-big",zx);const Bx=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Yd=qe("clipboard-list",Bx);const Hx=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Fx=qe("cpu",Hx);const Gx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qx=qe("download",Gx);const Yx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kx=qe("eye",Yx);const Xx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],$x=qe("file-x",Xx);const Zx=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],p_=qe("gamepad-2",Zx);const Jx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Wx=qe("history",Jx);const eS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],g_=qe("lightbulb",eS);const tS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],y_=qe("log-in",tS);const nS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sS=qe("log-out",nS);const iS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],__=qe("message-square",iS);const rS=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],aS=qe("monitor-play",rS);const lS=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],v_=qe("pen-tool",lS);const oS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uS=qe("pen",oS);const cS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hS=qe("plus",cS);const fS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dS=qe("refresh-cw",fS);const mS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Cc=qe("save",mS);const pS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gS=qe("search",pS);const yS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],b_=qe("settings",yS);const _S=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vS=qe("shield-check",_S);const bS=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ES=qe("square-check-big",bS);const TS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],E_=qe("trash-2",TS);const xS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SS=qe("trending-up",xS);const AS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wS=qe("triangle-alert",AS);const NS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RS=qe("user",NS);const CS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IS=qe("users",CS);const DS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],T_=qe("utensils",DS);const OS=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],x_=qe("video",OS);const MS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ic=qe("x",MS);const VS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kS=qe("zap",VS),jS=()=>{};var S_={};const lb=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},LS=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[s++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[s++],d=i[s++],y=i[s++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const c=i[s++],d=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,y=d?i[o+1]:0,v=o+2<i.length,_=v?i[o+2]:0,x=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(M=64)),r.push(s[x],s[S],s[M],s[Y])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(lb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):LS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=s[i.charAt(o++)],y=o<i.length?s[i.charAt(o)]:0;++o;const _=o<i.length?s[i.charAt(o)]:64;++o;const S=o<i.length?s[i.charAt(o)]:64;if(++o,c==null||y==null||_==null||S==null)throw new US;const M=c<<2|y>>4;if(r.push(M),_!==64){const Y=y<<4&240|_>>2;if(r.push(Y),S!==64){const te=_<<6&192|S;r.push(te)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class US extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PS=function(i){const e=lb(i);return ob.encodeByteArray(e,!0)},Xc=function(i){return PS(i).replace(/\./g,"")},ub=function(i){try{return ob.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qS=()=>zS().__FIREBASE_DEFAULTS__,BS=()=>{if(typeof process>"u"||typeof S_>"u")return;const i=S_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},HS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ub(i[1]);return e&&JSON.parse(e)},ph=()=>{try{return jS()||qS()||BS()||HS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},cb=i=>ph()?.emulatorHosts?.[i],FS=i=>{const e=cb(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},hb=()=>ph()?.config,fb=i=>ph()?.[`_${i}`];class GS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function ml(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function db(i){return(await fetch(i,{credentials:"include"})).ok}function QS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Xc(JSON.stringify(s)),Xc(JSON.stringify(d)),""].join(".")}const Ro={};function YS(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ro))Ro[e]?i.emulator.push(e):i.prod.push(e);return i}function KS(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let A_=!1;function mb(i,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Ro[i]===e||Ro[i]||A_)return;Ro[i]=e;function s(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=YS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Y){M.setAttribute("width","24"),M.setAttribute("id",Y),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{A_=!0,d()},M}function x(M,Y){M.setAttribute("id",Y),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=KS(r),Y=s("text"),te=document.getElementById(Y)||document.createElement("span"),se=s("learnmore"),ne=document.getElementById(se)||document.createElement("a"),Ee=s("preprendIcon"),Me=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Se=M.element;y(Se),x(ne,se);const at=_();v(Me,Ee),Se.append(Me,te,ne,at),document.body.appendChild(Se)}c?(te.innerText="Preview backend disconnected.",Me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function $S(){const i=ph()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function WS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eA(){const i=gn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function tA(){return!$S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nA(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const iA="FirebaseError";class Ti extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=iA,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?rA(c,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Ti(o,y,r)}}function rA(i,e){return i.replace(aA,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const aA=/\{\$([^}]+)}/g;function lA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function sa(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const c=i[o],d=e[o];if(w_(c)&&w_(d)){if(!sa(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function w_(i){return i!==null&&typeof i=="object"}function Fo(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oA(i,e){const s=new uA(i,e);return s.subscribe.bind(s)}class uA{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");cA(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cA(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function Kd(){}function en(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class hA{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new GS;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dA(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);r===y&&d.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fA(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fA(i){return i===$r?void 0:i}function dA(i){return i.instantiationMode==="EAGER"}class mA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new hA(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const pA={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},gA=Ye.INFO,yA={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},_A=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=yA[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=gA,this._logHandler=_A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const vA=(i,e)=>e.some(s=>i instanceof s);let N_,R_;function bA(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EA(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pb=new WeakMap,cm=new WeakMap,gb=new WeakMap,Xd=new WeakMap,Um=new WeakMap;function TA(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{s(lr(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(s=>{s instanceof IDBCursor&&pb.set(s,i)}).catch(()=>{}),Um.set(e,i),e}function xA(i){if(cm.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{s(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});cm.set(i,e)}let hm={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return cm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||gb.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return lr(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function SA(i){hm=i(hm)}function AA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call($d(this),e,...s);return gb.set(r,e.sort?e.sort():[e]),lr(r)}:EA().includes(i)?function(...e){return i.apply($d(this),e),lr(pb.get(this))}:function(...e){return lr(i.apply($d(this),e))}}function wA(i){return typeof i=="function"?AA(i):(i instanceof IDBTransaction&&xA(i),vA(i,bA())?new Proxy(i,hm):i)}function lr(i){if(i instanceof IDBRequest)return TA(i);if(Xd.has(i))return Xd.get(i);const e=wA(i);return e!==i&&(Xd.set(i,e),Um.set(e,i)),e}const $d=i=>Um.get(i);function NA(i,e,{blocked:s,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),y=lr(d);return r&&d.addEventListener("upgradeneeded",v=>{r(lr(d.result),v.oldVersion,v.newVersion,lr(d.transaction),v)}),s&&d.addEventListener("blocked",v=>s(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const RA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Zd=new Map;function C_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=CA.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||RA.includes(s)))return;const c=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[s](...y),o&&v.done]))[0]};return Zd.set(e,c),c}SA(i=>({...i,get:(e,s,r)=>C_(e,s)||i.get(e,s,r),has:(e,s)=>!!C_(e,s)||i.has(e,s)}));class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(DA(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function DA(i){return i.getComponent()?.type==="VERSION"}const fm="@firebase/app",I_="0.14.6";const yi=new Lm("@firebase/app"),OA="@firebase/app-compat",MA="@firebase/analytics-compat",VA="@firebase/analytics",kA="@firebase/app-check-compat",jA="@firebase/app-check",LA="@firebase/auth",UA="@firebase/auth-compat",PA="@firebase/database",zA="@firebase/data-connect",qA="@firebase/database-compat",BA="@firebase/functions",HA="@firebase/functions-compat",FA="@firebase/installations",GA="@firebase/installations-compat",QA="@firebase/messaging",YA="@firebase/messaging-compat",KA="@firebase/performance",XA="@firebase/performance-compat",$A="@firebase/remote-config",ZA="@firebase/remote-config-compat",JA="@firebase/storage",WA="@firebase/storage-compat",e2="@firebase/firestore",t2="@firebase/ai",n2="@firebase/firestore-compat",s2="firebase",i2="12.6.0";const dm="[DEFAULT]",r2={[fm]:"fire-core",[OA]:"fire-core-compat",[VA]:"fire-analytics",[MA]:"fire-analytics-compat",[jA]:"fire-app-check",[kA]:"fire-app-check-compat",[LA]:"fire-auth",[UA]:"fire-auth-compat",[PA]:"fire-rtdb",[zA]:"fire-data-connect",[qA]:"fire-rtdb-compat",[BA]:"fire-fn",[HA]:"fire-fn-compat",[FA]:"fire-iid",[GA]:"fire-iid-compat",[QA]:"fire-fcm",[YA]:"fire-fcm-compat",[KA]:"fire-perf",[XA]:"fire-perf-compat",[$A]:"fire-rc",[ZA]:"fire-rc-compat",[JA]:"fire-gcs",[WA]:"fire-gcs-compat",[e2]:"fire-fst",[n2]:"fire-fst-compat",[t2]:"fire-vertex","fire-js":"fire-js",[s2]:"fire-js-all"};const $c=new Map,a2=new Map,mm=new Map;function D_(i,e){try{i.container.addComponent(e)}catch(s){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function al(i){const e=i.name;if(mm.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,i);for(const s of $c.values())D_(s,i);for(const s of a2.values())D_(s,i);return!0}function Pm(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function ps(i){return i==null?!1:i.settings!==void 0}const l2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Ho("app","Firebase",l2);class o2{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const pl=i2;function yb(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r={name:dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(s||(s=hb()),!s)throw or.create("no-options");const c=$c.get(o);if(c){if(sa(s,c.options)&&sa(r,c.config))return c;throw or.create("duplicate-app",{appName:o})}const d=new mA(o);for(const v of mm.values())d.addComponent(v);const y=new o2(s,r,d);return $c.set(o,y),y}function _b(i=dm){const e=$c.get(i);if(!e&&i===dm&&hb())return yb();if(!e)throw or.create("no-app",{appName:i});return e}function ur(i,e,s){let r=r2[i]??i;s&&(r+=`-${s}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(d.join(" "));return}al(new ia(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const u2="firebase-heartbeat-database",c2=1,Vo="firebase-heartbeat-store";let Jd=null;function vb(){return Jd||(Jd=NA(u2,c2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Vo)}catch(s){console.warn(s)}}}}).catch(i=>{throw or.create("idb-open",{originalErrorMessage:i.message})})),Jd}async function h2(i){try{const s=(await vb()).transaction(Vo),r=await s.objectStore(Vo).get(bb(i));return await s.done,r}catch(e){if(e instanceof Ti)yi.warn(e.message);else{const s=or.create("idb-get",{originalErrorMessage:e?.message});yi.warn(s.message)}}}async function O_(i,e){try{const r=(await vb()).transaction(Vo,"readwrite");await r.objectStore(Vo).put(e,bb(i)),await r.done}catch(s){if(s instanceof Ti)yi.warn(s.message);else{const r=or.create("idb-set",{originalErrorMessage:s?.message});yi.warn(r.message)}}}function bb(i){return`${i.name}!${i.options.appId}`}const f2=1024,d2=30;class m2{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new g2(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>d2){const o=y2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M_(),{heartbeatsToSend:s,unsentEntries:r}=p2(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yi.warn(e),""}}}function M_(){return new Date().toISOString().substring(0,10)}function p2(i,e=f2){const s=[];let r=i.slice();for(const o of i){const c=s.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),V_(s)>e){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),V_(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class g2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nA()?sA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await h2(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return O_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V_(i){return Xc(JSON.stringify({version:2,heartbeats:i})).length}function y2(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}function _2(i){al(new ia("platform-logger",e=>new IA(e),"PRIVATE")),al(new ia("heartbeat",e=>new m2(e),"PRIVATE")),ur(fm,I_,i),ur(fm,I_,"esm2020"),ur("fire-js","")}_2("");var v2="firebase",b2="12.6.0";ur(v2,b2,"app");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,Eb;(function(){var i;function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,O,j){for(var N=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)N[_t-2]=arguments[_t];return w.prototype[O].apply(V,N)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,s),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],O=I.g[2];let j=I.g[3],N;N=w+(j^C&(O^j))+V[0]+3614090360&4294967295,w=C+(N<<7&4294967295|N>>>25),N=j+(O^w&(C^O))+V[1]+3905402710&4294967295,j=w+(N<<12&4294967295|N>>>20),N=O+(C^j&(w^C))+V[2]+606105819&4294967295,O=j+(N<<17&4294967295|N>>>15),N=C+(w^O&(j^w))+V[3]+3250441966&4294967295,C=O+(N<<22&4294967295|N>>>10),N=w+(j^C&(O^j))+V[4]+4118548399&4294967295,w=C+(N<<7&4294967295|N>>>25),N=j+(O^w&(C^O))+V[5]+1200080426&4294967295,j=w+(N<<12&4294967295|N>>>20),N=O+(C^j&(w^C))+V[6]+2821735955&4294967295,O=j+(N<<17&4294967295|N>>>15),N=C+(w^O&(j^w))+V[7]+4249261313&4294967295,C=O+(N<<22&4294967295|N>>>10),N=w+(j^C&(O^j))+V[8]+1770035416&4294967295,w=C+(N<<7&4294967295|N>>>25),N=j+(O^w&(C^O))+V[9]+2336552879&4294967295,j=w+(N<<12&4294967295|N>>>20),N=O+(C^j&(w^C))+V[10]+4294925233&4294967295,O=j+(N<<17&4294967295|N>>>15),N=C+(w^O&(j^w))+V[11]+2304563134&4294967295,C=O+(N<<22&4294967295|N>>>10),N=w+(j^C&(O^j))+V[12]+1804603682&4294967295,w=C+(N<<7&4294967295|N>>>25),N=j+(O^w&(C^O))+V[13]+4254626195&4294967295,j=w+(N<<12&4294967295|N>>>20),N=O+(C^j&(w^C))+V[14]+2792965006&4294967295,O=j+(N<<17&4294967295|N>>>15),N=C+(w^O&(j^w))+V[15]+1236535329&4294967295,C=O+(N<<22&4294967295|N>>>10),N=w+(O^j&(C^O))+V[1]+4129170786&4294967295,w=C+(N<<5&4294967295|N>>>27),N=j+(C^O&(w^C))+V[6]+3225465664&4294967295,j=w+(N<<9&4294967295|N>>>23),N=O+(w^C&(j^w))+V[11]+643717713&4294967295,O=j+(N<<14&4294967295|N>>>18),N=C+(j^w&(O^j))+V[0]+3921069994&4294967295,C=O+(N<<20&4294967295|N>>>12),N=w+(O^j&(C^O))+V[5]+3593408605&4294967295,w=C+(N<<5&4294967295|N>>>27),N=j+(C^O&(w^C))+V[10]+38016083&4294967295,j=w+(N<<9&4294967295|N>>>23),N=O+(w^C&(j^w))+V[15]+3634488961&4294967295,O=j+(N<<14&4294967295|N>>>18),N=C+(j^w&(O^j))+V[4]+3889429448&4294967295,C=O+(N<<20&4294967295|N>>>12),N=w+(O^j&(C^O))+V[9]+568446438&4294967295,w=C+(N<<5&4294967295|N>>>27),N=j+(C^O&(w^C))+V[14]+3275163606&4294967295,j=w+(N<<9&4294967295|N>>>23),N=O+(w^C&(j^w))+V[3]+4107603335&4294967295,O=j+(N<<14&4294967295|N>>>18),N=C+(j^w&(O^j))+V[8]+1163531501&4294967295,C=O+(N<<20&4294967295|N>>>12),N=w+(O^j&(C^O))+V[13]+2850285829&4294967295,w=C+(N<<5&4294967295|N>>>27),N=j+(C^O&(w^C))+V[2]+4243563512&4294967295,j=w+(N<<9&4294967295|N>>>23),N=O+(w^C&(j^w))+V[7]+1735328473&4294967295,O=j+(N<<14&4294967295|N>>>18),N=C+(j^w&(O^j))+V[12]+2368359562&4294967295,C=O+(N<<20&4294967295|N>>>12),N=w+(C^O^j)+V[5]+4294588738&4294967295,w=C+(N<<4&4294967295|N>>>28),N=j+(w^C^O)+V[8]+2272392833&4294967295,j=w+(N<<11&4294967295|N>>>21),N=O+(j^w^C)+V[11]+1839030562&4294967295,O=j+(N<<16&4294967295|N>>>16),N=C+(O^j^w)+V[14]+4259657740&4294967295,C=O+(N<<23&4294967295|N>>>9),N=w+(C^O^j)+V[1]+2763975236&4294967295,w=C+(N<<4&4294967295|N>>>28),N=j+(w^C^O)+V[4]+1272893353&4294967295,j=w+(N<<11&4294967295|N>>>21),N=O+(j^w^C)+V[7]+4139469664&4294967295,O=j+(N<<16&4294967295|N>>>16),N=C+(O^j^w)+V[10]+3200236656&4294967295,C=O+(N<<23&4294967295|N>>>9),N=w+(C^O^j)+V[13]+681279174&4294967295,w=C+(N<<4&4294967295|N>>>28),N=j+(w^C^O)+V[0]+3936430074&4294967295,j=w+(N<<11&4294967295|N>>>21),N=O+(j^w^C)+V[3]+3572445317&4294967295,O=j+(N<<16&4294967295|N>>>16),N=C+(O^j^w)+V[6]+76029189&4294967295,C=O+(N<<23&4294967295|N>>>9),N=w+(C^O^j)+V[9]+3654602809&4294967295,w=C+(N<<4&4294967295|N>>>28),N=j+(w^C^O)+V[12]+3873151461&4294967295,j=w+(N<<11&4294967295|N>>>21),N=O+(j^w^C)+V[15]+530742520&4294967295,O=j+(N<<16&4294967295|N>>>16),N=C+(O^j^w)+V[2]+3299628645&4294967295,C=O+(N<<23&4294967295|N>>>9),N=w+(O^(C|~j))+V[0]+4096336452&4294967295,w=C+(N<<6&4294967295|N>>>26),N=j+(C^(w|~O))+V[7]+1126891415&4294967295,j=w+(N<<10&4294967295|N>>>22),N=O+(w^(j|~C))+V[14]+2878612391&4294967295,O=j+(N<<15&4294967295|N>>>17),N=C+(j^(O|~w))+V[5]+4237533241&4294967295,C=O+(N<<21&4294967295|N>>>11),N=w+(O^(C|~j))+V[12]+1700485571&4294967295,w=C+(N<<6&4294967295|N>>>26),N=j+(C^(w|~O))+V[3]+2399980690&4294967295,j=w+(N<<10&4294967295|N>>>22),N=O+(w^(j|~C))+V[10]+4293915773&4294967295,O=j+(N<<15&4294967295|N>>>17),N=C+(j^(O|~w))+V[1]+2240044497&4294967295,C=O+(N<<21&4294967295|N>>>11),N=w+(O^(C|~j))+V[8]+1873313359&4294967295,w=C+(N<<6&4294967295|N>>>26),N=j+(C^(w|~O))+V[15]+4264355552&4294967295,j=w+(N<<10&4294967295|N>>>22),N=O+(w^(j|~C))+V[6]+2734768916&4294967295,O=j+(N<<15&4294967295|N>>>17),N=C+(j^(O|~w))+V[13]+1309151649&4294967295,C=O+(N<<21&4294967295|N>>>11),N=w+(O^(C|~j))+V[4]+4149444226&4294967295,w=C+(N<<6&4294967295|N>>>26),N=j+(C^(w|~O))+V[11]+3174756917&4294967295,j=w+(N<<10&4294967295|N>>>22),N=O+(w^(j|~C))+V[2]+718787259&4294967295,O=j+(N<<15&4294967295|N>>>17),N=C+(j^(O|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<w;){if(O==0)for(;j<=C;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<w;)if(V[O++]=I.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<w;)if(V[O++]=I[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[w++]=this.g[C]>>>V&255;return I};function c(I,w){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function d(I,w){this.h=w;const C=[];let V=!0;for(let O=I.length-1;O>=0;O--){const j=I[O]|0;V&&j==w||(C[O]=j,V=!1)}this.g=C}var y={};function v(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return ne(_(-I));const w=[];let C=1;for(let V=0;I>=C;V++)w[V]=I/C|0,C*=4294967296;return new d(w,0)}function x(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return ne(x(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=S;for(let j=0;j<I.length;j+=8){var O=Math.min(8,I.length-j);const N=parseInt(I.substring(j,j+O),w);O<8?(O=_(Math.pow(w,O)),V=V.j(O).add(_(N))):(V=V.j(C),V=V.add(_(N)))}return V}var S=v(0),M=v(1),Y=v(16777216);i=d.prototype,i.m=function(){if(se(this))return-ne(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(te(this))return"0";if(se(this))return"-"+ne(this).toString(I);const w=_(Math.pow(I,6));var C=this;let V="";for(;;){const O=at(C,w).g;C=Ee(C,O.j(w));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,te(C))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function te(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function se(I){return I.h==-1}i.l=function(I){return I=Ee(this,I),se(I)?-1:te(I)?0:1};function ne(I){const w=I.g.length,C=[];for(let V=0;V<w;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}i.abs=function(){return se(this)?ne(this):this},i.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let O=0;O<=w;O++){let j=V+(this.i(O)&65535)+(I.i(O)&65535),N=(j>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);V=N>>>16,j&=65535,N&=65535,C[O]=N<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function Ee(I,w){return I.add(ne(w))}i.j=function(I){if(te(this)||te(I))return S;if(se(this))return se(I)?ne(this).j(ne(I)):ne(ne(this).j(I));if(se(I))return ne(this.j(ne(I)));if(this.l(Y)<0&&I.l(Y)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<I.g.length;O++){const j=this.i(V)>>>16,N=this.i(V)&65535,_t=I.i(O)>>>16,It=I.i(O)&65535;C[2*V+2*O]+=N*It,Me(C,2*V+2*O),C[2*V+2*O+1]+=j*It,Me(C,2*V+2*O+1),C[2*V+2*O+1]+=N*_t,Me(C,2*V+2*O+1),C[2*V+2*O+2]+=j*_t,Me(C,2*V+2*O+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new d(C,0)};function Me(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Se(I,w){this.g=I,this.h=w}function at(I,w){if(te(w))throw Error("division by zero");if(te(I))return new Se(S,S);if(se(I))return w=at(ne(I),w),new Se(ne(w.g),ne(w.h));if(se(w))return w=at(I,ne(w)),new Se(ne(w.g),w.h);if(I.g.length>30){if(se(I)||se(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(I)<=0;)C=gt(C),V=gt(V);var O=$e(C,1),j=$e(V,1);for(V=$e(V,2),C=$e(C,2);!te(V);){var N=j.add(V);N.l(I)<=0&&(O=O.add(C),j=N),V=$e(V,1),C=$e(C,1)}return w=Ee(I,O.j(w)),new Se(O,w)}for(O=S;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(C),N=j.j(w);se(N)||N.l(I)>0;)C-=V,j=_(C),N=j.j(w);te(j)&&(j=M),O=O.add(j),I=Ee(I,N)}return new Se(O,I)}i.B=function(I){return at(this,I).h},i.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},i.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},i.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function gt(I){const w=I.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function $e(I,w){const C=w>>5;w%=32;const V=I.g.length-C,O=[];for(let j=0;j<V;j++)O[j]=w>0?I.i(j+C)>>>w|I.i(j+C+1)<<32-w:I.i(j+C);return new d(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Eb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=x,cr=d}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tb,So,xb,Pc,pm,Sb,Ab,wb;(function(){var i,e=Object.defineProperty;function s(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=s(this);function o(u,p){if(p)e:{var b=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in b))break e;b=b[U]}u=u[u.length-1],T=b[u],p=p(T),p!=T&&p!=null&&e(b,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var b=[],T;for(T in p)Object.prototype.hasOwnProperty.call(p,T)&&b.push([T,p[T]]);return b}});var c=c||{},d=this||self;function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function v(u,p,b){return u.call.apply(u.bind,arguments)}function _(u,p,b){return _=v,_.apply(null,arguments)}function x(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,p){function b(){}b.prototype=p.prototype,u.Z=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(T,U,H){for(var re=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)re[Ue-2]=arguments[Ue];return p.prototype[U].apply(T,re)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Y(u){const p=u.length;if(p>0){const b=Array(p);for(let T=0;T<p;T++)b[T]=u[T];return b}return[]}function te(u,p){for(let T=1;T<arguments.length;T++){const U=arguments[T];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const H=U.length||0;u.length=b+H;for(let re=0;re<H;re++)u[b+re]=U[re]}else u.push(U)}}class se{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(u){d.setTimeout(()=>{throw u},0)}function Ee(){var u=I;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Me{constructor(){this.h=this.g=null}add(p,b){const T=Se.get();T.set(p,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Se=new se(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,$e=!1,I=new Me,w=()=>{const u=Promise.resolve(void 0);gt=()=>{u.then(C)}};function C(){for(var u;u=Ee();){try{u.h.call(u.g)}catch(b){ne(b)}var p=Se;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}$e=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,p),d.removeEventListener("test",b,p)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function _t(u,p){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}S(_t,O),_t.prototype.init=function(u,p){const b=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&_t.Z.h.call(this)},_t.prototype.h=function(){_t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),L=0;function K(u,p,b,T,U){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!T,this.ha=U,this.key=++L,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ae(u,p,b){for(const T in u)p.call(b,u[T],T,u)}function fe(u,p){for(const b in u)p.call(void 0,u[b],b,u)}function A(u){const p={};for(const b in u)p[b]=u[b];return p}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(u,p){let b,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(b in T)u[b]=T[b];for(let H=0;H<B.length;H++)b=B[H],Object.prototype.hasOwnProperty.call(T,b)&&(u[b]=T[b])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,p,b,T,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const re=oe(u,p,T,U);return re>-1?(p=u[re],b||(p.fa=!1)):(p=new K(p,this.src,H,!!T,U),p.fa=b,u.push(p)),p};function ie(u,p){const b=p.type;if(b in u.g){var T=u.g[b],U=Array.prototype.indexOf.call(T,p,void 0),H;(H=U>=0)&&Array.prototype.splice.call(T,U,1),H&&(ee(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function oe(u,p,b,T){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==p&&H.capture==!!b&&H.ha==T)return U}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Le={};function ce(u,p,b,T,U){if(Array.isArray(p)){for(let H=0;H<p.length;H++)ce(u,p[H],b,T,U);return null}return b=Be(b),u&&u[It]?u.J(p,b,y(T)?!!T.capture:!1,U):Te(u,p,b,!1,T,U)}function Te(u,p,b,T,U,H){if(!p)throw Error("Invalid event type");const re=y(U)?!!U.capture:!!U;let Ue=be(u);if(Ue||(u[ve]=Ue=new W(u)),b=Ue.add(p,b,T,re,H),b.proxy)return b;if(T=De(),b.proxy=T,T.src=u,T.listener=b,u.addEventListener)j||(U=re),U===void 0&&(U=!1),u.addEventListener(p.toString(),T,U);else if(u.attachEvent)u.attachEvent(de(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function De(){function u(b){return p.call(u.src,u.listener,b)}const p=pe;return u}function nt(u,p,b,T,U){if(Array.isArray(p))for(var H=0;H<p.length;H++)nt(u,p[H],b,T,U);else T=y(T)?!!T.capture:!!T,b=Be(b),u&&u[It]?(u=u.i,H=String(p).toString(),H in u.g&&(p=u.g[H],b=oe(p,b,T,U),b>-1&&(ee(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete u.g[H],u.h--)))):u&&(u=be(u))&&(p=u.g[p.toString()],u=-1,p&&(u=oe(p,b,T,U)),(b=u>-1?p[u]:null)&&ot(b))}function ot(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[It])ie(p.i,u);else{var b=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(b,T,u.capture):p.detachEvent?p.detachEvent(de(b),T):p.addListener&&p.removeListener&&p.removeListener(T),(b=be(p))?(ie(b,u),b.h==0&&(b.src=null,p[ve]=null)):ee(u)}}}function de(u){return u in Le?Le[u]:Le[u]="on"+u}function pe(u,p){if(u.da)u=!0;else{p=new _t(p,this);const b=u.listener,T=u.ha||u.src;u.fa&&ot(u),u=b.call(T,p)}return u}function be(u){return u=u[ve],u instanceof W?u:null}var Ae="__closure_events_fn_"+(Math.random()*1e9>>>0);function Be(u){return typeof u=="function"?u:(u[Ae]||(u[Ae]=function(p){return u.handleEvent(p)}),u[Ae])}function Ce(){V.call(this),this.i=new W(this),this.M=this,this.G=null}S(Ce,V),Ce.prototype[It]=!0,Ce.prototype.removeEventListener=function(u,p,b,T){nt(this,u,p,b,T)};function we(u,p){var b,T=u.G;if(T)for(b=[];T;T=T.G)b.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new O(p,u);else if(p instanceof O)p.target=p.target||u;else{var U=p;p=new O(T,u),G(p,U)}U=!0;let H,re;if(b)for(re=b.length-1;re>=0;re--)H=p.g=b[re],U=Ze(H,T,!0,p)&&U;if(H=p.g=u,U=Ze(H,T,!0,p)&&U,U=Ze(H,T,!1,p)&&U,b)for(re=0;re<b.length;re++)H=p.g=b[re],U=Ze(H,T,!1,p)&&U}Ce.prototype.N=function(){if(Ce.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const b=u.g[p];for(let T=0;T<b.length;T++)ee(b[T]);delete u.g[p],u.h--}}this.G=null},Ce.prototype.J=function(u,p,b,T){return this.i.add(String(u),p,!1,b,T)},Ce.prototype.K=function(u,p,b,T){return this.i.add(String(u),p,!0,b,T)};function Ze(u,p,b,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let H=0;H<p.length;++H){const re=p[H];if(re&&!re.da&&re.capture==b){const Ue=re.listener,Ot=re.ha||re.src;re.fa&&ie(u.i,re),U=Ue.call(Ot,T)!==!1&&U}}return U&&!T.defaultPrevented}function vn(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function Dn(u){u.g=vn(()=>{u.g=null,u.i&&(u.i=!1,Dn(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ne extends V{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function st(u){V.call(this),this.h=u,this.g={}}S(st,V);var wt=[];function jt(u){ae(u.g,function(p,b){this.g.hasOwnProperty(b)&&ot(p)},u),u.g={}}st.prototype.N=function(){st.Z.N.call(this),jt(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xi=d.JSON.stringify,zh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function su(){}var ss={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){O.call(this,"d")}S(tn,O);function Bn(){O.call(this,"c")}S(Bn,O);var Dt={},iu=null;function ca(){return iu=iu||new Ce}Dt.Ia="serverreachability";function ru(u){O.call(this,Dt.Ia,u)}S(ru,O);function vs(u){const p=ca();we(p,new ru(p))}Dt.STAT_EVENT="statevent";function Er(u,p){O.call(this,Dt.STAT_EVENT,u),this.stat=p}S(Er,O);function Lt(u){const p=ca();we(p,new Er(p,u))}Dt.Ja="timingevent";function bs(u,p){O.call(this,Dt.Ja,u),this.size=p}S(bs,O);function Es(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function is(){this.g=!0}is.prototype.ua=function(){this.g=!1};function qh(u,p,b,T,U,H){u.info(function(){if(u.g)if(H){var re="",Ue=H.split("&");for(let it=0;it<Ue.length;it++){var Ot=Ue[it].split("=");if(Ot.length>1){const xt=Ot[0];Ot=Ot[1];const Qn=xt.split("_");re=Qn.length>=2&&Qn[1]=="type"?re+(xt+"="+Ot+"&"):re+(xt+"=redacted&")}}}else re=null;else re=H;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+p+`
`+b+`
`+re})}function au(u,p,b,T,U,H,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+p+`
`+b+`
`+H+" "+re})}function Ts(u,p,b,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Bh(u,b)+(T?" "+T:"")})}function Tr(u,p){u.info(function(){return"TIMEOUT: "+p})}is.prototype.info=function(){};function Bh(u,p){if(!u.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var b=H[u];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<T.length;re++)T[re]=""}}}}return xi(H)}catch{return p}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function Sr(){}S(Sr,nu),Sr.prototype.g=function(){return new XMLHttpRequest},xl=new Sr;function Ks(u){return encodeURIComponent(String(u))}function lu(u){var p=1;u=u.split(":");const b=[];for(;p>0&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function rs(u,p,b,T){this.j=u,this.i=p,this.l=b,this.S=T||1,this.V=new st(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new as}function as(){this.i=null,this.g="",this.h=!1}var Ut={},$t={};function xs(u,p,b){u.M=1,u.A=Ar(zt(p)),u.u=b,u.R=!0,ha(u,null)}function ha(u,p){u.F=Date.now(),Ss(u),u.B=zt(u.A);var b=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),pa(b.i,"t",T),u.C=0,b=u.j.L,u.h=new as,u.g=Tu(u.j,b?p:null,!u.u),u.P>0&&(u.O=new Ne(_(u.Y,u,u.g),u.P)),p=u.V,b=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(wt[0]=U.toString()),U=wt);for(let H=0;H<U.length;H++){const re=ce(b,U[H],T||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.J?A(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),vs(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}rs.prototype.ba=function(u){u=u.target;const p=this.O;p&&us(u)==3?p.j():this.Y(u)},rs.prototype.Y=function(u){try{if(u==this.g)e:{const Ue=us(this.g),Ot=this.g.ya(),it=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ue!=4||Ot==7||(Ot==8||it<=0?vs(3):vs(2)),As(this);var p=this.g.ca();this.X=p;var b=Hh(this);if(this.o=p==200,au(this.i,this.v,this.B,this.l,this.S,Ue,p),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var H=T;break t}}H=null}if(u=H)Ts(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ws(this,u);else{this.o=!1,this.m=3,Lt(12),On(this),Hn(this);break e}}if(this.R){u=!0;let xt;for(;!this.K&&this.C<b.length;)if(xt=uu(this,b),xt==$t){Ue==4&&(this.m=4,Lt(14),u=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Ut){this.m=4,Lt(15),Ts(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else Ts(this.i,this.l,xt,null),ws(this,xt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||b.length!=0||this.h.h||(this.m=1,Lt(16),u=!1),this.o=this.o&&u,!u)Ts(this.i,this.l,b,"[Invalid Chunked Response]"),On(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ul(re),re.P=!0,Lt(11))}}else Ts(this.i,this.l,b,null),ws(this,b);Ue==4&&On(this),this.o&&!this.K&&(Ue==4?_u(this.j,this):(this.o=!1,Ss(this)))}else $s(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),On(this),Hn(this)}}}catch{}finally{}};function Hh(u){if(!ou(u))return u.g.la();const p=nn(u.g);if(p==="")return"";let b="";const T=p.length,U=us(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return On(u),Hn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,b+=u.h.i.decode(p[H],{stream:!(U&&H==T-1)});return p.length=0,u.h.g+=b,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,p){var b=u.C,T=p.indexOf(`
`,b);return T==-1?$t:(b=Number(p.substring(b,T)),isNaN(b)?Ut:(T+=1,T+b>p.length?$t:(p=p.slice(T,T+b),u.C=T+b,p)))}rs.prototype.cancel=function(){this.K=!0,On(this)};function Ss(u){u.T=Date.now()+u.H,fa(u,u.H)}function fa(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Es(_(u.aa,u),p)}function As(u){u.D&&(d.clearTimeout(u.D),u.D=null)}rs.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(vs(),Lt(17)),On(this),this.m=2,Hn(this)):fa(this,this.T-u)};function Hn(u){u.j.I==0||u.K||_u(u.j,u)}function On(u){As(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,jt(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function ws(u,p){try{var b=u.j;if(b.I!=0&&(b.g==u||Rs(b.h,u))){if(!u.L&&Rs(b.h,u)&&b.I==3){try{var T=b.Ba.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ba(b),Di(b);else break e;Or(b),Lt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Es(_(b.Va,b),6e3));Ns(b.h)<=1&&b.ta&&(b.ta=void 0)}else Vs(b,11)}else if((u.L||b.g==u)&&ba(b),!N(p))for(U=b.Ba.g.parse(p),p=0;p<U.length;p++){let it=U[p];const xt=it[0];if(!(xt<=b.K))if(b.K=xt,it=it[1],b.I==2)if(it[0]=="c"){b.M=it[1],b.ba=it[2];const Qn=it[3];Qn!=null&&(b.ka=Qn,b.j.info("VER="+b.ka));const ks=it[4];ks!=null&&(b.za=ks,b.j.info("SVER="+b.za));const cs=it[5];cs!=null&&typeof cs=="number"&&cs>0&&(T=1.5*cs,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const hs=u.g;if(hs){const Mr=hs.g?hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var H=T.h;H.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(wl(H,H.h),H.h=null))}if(T.G){const Ea=hs.g?hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.wa=Ea,ut(T.J,T.G,Ea))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var re=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),re.L){Nl(T.h,re);var Ue=re,Ot=T.O;Ot&&(Ue.H=Ot),Ue.D&&(As(Ue),Ss(Ue)),T.g=re}else gu(T);b.i.length>0&&Ms(b)}else it[0]!="stop"&&it[0]!="close"||Vs(b,7);else b.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Vs(b,7):jl(b):it[0]!="noop"&&b.l&&b.l.qa(it),b.A=0)}}vs(4)}catch{}}var Pt=class{constructor(u,p){this.g=u,this.map=p}};function Sl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ns(u){return u.h?1:u.g?u.g.size:0}function Rs(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function wl(u,p){u.g?u.g.add(p):u.h=p}function Nl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Sl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Rl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const b of u.g.values())p=p.concat(b.G);return p}return Y(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(u,p){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const T=u[b].indexOf("=");let U,H=null;T>=0?(U=u[b].substring(0,T),H=u[b].substring(T+1)):U=u[b],p(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Mn?(this.l=u.l,Zt(this,u.j),this.o=u.o,this.g=u.g,Si(this,u.u),this.h=u.h,Cl(this,mu(u.i)),this.m=u.m):u&&(p=String(u).match(cu))?(this.l=!1,Zt(this,p[1]||"",!0),this.o=Cs(p[2]||""),this.g=Cs(p[3]||"",!0),Si(this,p[4]),this.h=Cs(p[5]||"",!0),Cl(this,p[6]||"",!0),this.m=Cs(p[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}Mn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(wr(p,ma,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(wr(p,ma,!0),"@"),u.push(Ks(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(wr(b,b.charAt(0)=="/"?Il:hu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",wr(b,fu)),u.join("")},Mn.prototype.resolve=function(u){const p=zt(this);let b=!!u.j;b?Zt(p,u.j):b=!!u.o,b?p.o=u.o:b=!!u.g,b?p.g=u.g:b=u.u!=null;var T=u.h;if(b)Si(p,u.u);else if(b=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=p.h.lastIndexOf("/");U!=-1&&(T=p.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let re=0;re<U.length;){const Ue=U[re++];Ue=="."?T&&re==U.length&&H.push(""):Ue==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&re==U.length&&H.push("")):(H.push(Ue),T=!0)}T=H.join("/")}else T=U}return b?p.h=T:b=u.i.toString()!=="",b?Cl(p,mu(u.i)):b=!!u.m,b&&(p.m=u.m),p};function zt(u){return new Mn(u)}function Zt(u,p,b){u.j=b?Cs(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Si(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Cl(u,p,b){p instanceof wi?(u.i=p,ga(u.i,u.l)):(b||(p=wr(p,Ai)),u.i=new wi(p,u.l))}function ut(u,p,b){u.i.set(p,b)}function Ar(u){return ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Cs(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,bn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,hu=/[#\?:]/g,Il=/[#\?]/g,Ai=/[#\?@]/g,fu=/#/g;function wi(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&da(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}i=wi.prototype,i.add=function(u,p){En(this),this.i=null,u=Ni(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function du(u,p){En(u),p=Ni(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Dl(u,p){return En(u),p=Ni(u,p),u.g.has(p)}i.forEach=function(u,p){En(this),this.g.forEach(function(b,T){b.forEach(function(U){u.call(p,U,T,this)},this)},this)};function Ol(u,p){En(u);let b=[];if(typeof p=="string")Dl(u,p)&&(b=b.concat(u.g.get(Ni(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)b=b.concat(u[p]);return b}i.set=function(u,p){return En(this),this.i=null,u=Ni(this,u),Dl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},i.get=function(u,p){return u?(u=Ol(this,u),u.length>0?String(u[0]):p):p};function pa(u,p,b){du(u,p),b.length>0&&(u.i=null,u.g.set(Ni(u,p),Y(b)),u.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let T=0;T<p.length;T++){var b=p[T];const U=Ks(b);b=Ol(this,b);for(let H=0;H<b.length;H++){let re=U;b[H]!==""&&(re+="="+Ks(b[H])),u.push(re)}}return this.i=u.join("&")};function mu(u){const p=new wi;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Ni(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function ga(u,p){p&&!u.j&&(En(u),u.i=null,u.g.forEach(function(b,T){const U=T.toLowerCase();T!=U&&(du(this,T),pa(this,U,b))},u)),u.j=p}function ls(u,p){const b=new is;if(d.Image){const T=new Image;T.onload=x(Fn,b,"TestLoadImage: loaded",!0,p,T),T.onerror=x(Fn,b,"TestLoadImage: error",!1,p,T),T.onabort=x(Fn,b,"TestLoadImage: abort",!1,p,T),T.ontimeout=x(Fn,b,"TestLoadImage: timeout",!1,p,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function Ml(u,p){const b=new is,T=new AbortController,U=setTimeout(()=>{T.abort(),Fn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(U),H.ok?Fn(b,"TestPingServer: ok",!0,p):Fn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Fn(b,"TestPingServer: error",!1,p)})}function Fn(u,p,b,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(b)}catch{}}function Ri(){this.g=new tu}function Is(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Is,nu),Is.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,p){Ce.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,Ce),i=Nr.prototype,i.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,os(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ci(this):os(this),this.readyState==3&&ya(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Ci(this))},i.Na=function(u){this.g&&(this.response=u,Ci(this))},i.ga=function(){this.g&&Ci(this)};function Ci(u){u.readyState=4,u.l=null,u.j=null,u.B=null,os(u)}i.setRequestHeader=function(u,p){this.A.append(u,p)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function os(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gn(u){let p="";return ae(u,function(b,T){p+=T,p+=":",p+=b,p+=`\r
`}),p}function Rr(u,p,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Gn(b),typeof u=="string"?b!=null&&Ks(b):ut(u,p,b))}function ft(u){Ce.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ft,Ce);var Ds=/^https?$/i,Vl=["POST","PUT"];i=ft.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,p,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){Cr(this,H);return}if(u=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)b.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())b.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vl,p,void 0)>=0)||T||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of b)this.g.setRequestHeader(H,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Cr(this,H)}};function Cr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,kl(u),Xs(u)}function kl(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),Xs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xs(this,!0)),ft.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},i.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&us(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),us(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var T;if(T=H===0){let re=String(u.D).match(cu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),T=!Ds.test(re?re.toLowerCase():"")}b=T}if(b)we(u,"complete"),we(u,"success");else{u.o=6;try{var U=us(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",kl(u)}}finally{Xs(u)}}}}function Xs(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,p||we(u,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function us(u){return u.g?u.g.readyState:0}i.ca=function(){try{return us(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),zh(p)}};function nn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(u){const p={};u=(u.g&&us(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(N(u[T]))continue;var b=lu(u[T]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=p[U]||[];p[U]=H,H.push(b)}fe(p,function(T){return T.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function Ii(u){this.za=0,this.i=[],this.j=new is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Os("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Os("baseRetryDelayMs",5e3,u),this.Za=Os("retryDelaySeedMs",1e4,u),this.Ta=Os("forwardChannelMaxRetries",2,u),this.va=Os("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(u&&u.concurrentRequestLimit),this.Ba=new Ri,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ii.prototype,i.ka=8,i.I=1,i.connect=function(u,p,b,T){Lt(0),this.W=u,this.H=p||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Ms(this)};function jl(u){if(_a(u),u.I==3){var p=u.V++,b=zt(u.J);if(ut(b,"SID",u.M),ut(b,"RID",p),ut(b,"TYPE","terminate"),Dr(u,b),p=new rs(u,u.j,p),p.M=2,p.A=Ar(zt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=p.A,b=!0),b||(p.g=Tu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ss(p)}bu(u)}function Di(u){u.g&&(Ul(u),u.g.cancel(),u.g=null)}function _a(u){Di(u),u.v&&(d.clearTimeout(u.v),u.v=null),ba(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ms(u){if(!Al(u.h)&&!u.m){u.m=!0;var p=u.Ea;gt||w(),$e||(gt(),$e=!0),I.add(p,u),u.D=0}}function va(u,p){return Ns(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Es(_(u.Ea,u,p),vu(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new rs(this,this.j,u);let H=this.o;if(this.U&&(H?(H=A(H),G(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=pu(this,U,p),b=zt(this.J),ut(b,"RID",u),ut(b,"CVER",22),this.G&&ut(b,"X-HTTP-Session-Id",this.G),Dr(this,b),H&&(this.R?p="headers="+Ks(Gn(H))+"&"+p:this.u&&Rr(b,this.u,H)),wl(this.h,U),this.Ra&&ut(b,"TYPE","init"),this.S?(ut(b,"$req",p),ut(b,"SID","null"),U.U=!0,xs(U,b,null)):xs(U,b,p),this.I=2}}else this.I==3&&(u?Ll(this,u):this.i.length==0||Al(this.h)||Ll(this))};function Ll(u,p){var b;p?b=p.l:b=u.V++;const T=zt(u.J);ut(T,"SID",u.M),ut(T,"RID",b),ut(T,"AID",u.K),Dr(u,T),u.u&&u.o&&Rr(T,u.u,u.o),b=new rs(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),p&&(u.i=p.G.concat(u.i)),p=pu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wl(u.h,b),xs(b,T,p)}function Dr(u,p){u.H&&ae(u.H,function(b,T){ut(p,T,b)}),u.l&&ae({},function(b,T){ut(p,T,b)})}function pu(u,p,b){b=Math.min(u.i.length,b);const T=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ue=-1;for(;;){const Ot=["count="+b];Ue==-1?b>0?(Ue=U[0].g,Ot.push("ofs="+Ue)):Ue=0:Ot.push("ofs="+Ue);let it=!0;for(let xt=0;xt<b;xt++){var H=U[xt].g;const Qn=U[xt].map;if(H-=Ue,H<0)Ue=Math.max(0,U[xt].g-100),it=!1;else try{H="req"+H+"_"||"";try{var re=Qn instanceof Map?Qn:Object.entries(Qn);for(const[ks,cs]of re){let hs=cs;y(cs)&&(hs=xi(cs)),Ot.push(H+ks+"="+encodeURIComponent(hs))}}catch(ks){throw Ot.push(H+"type="+encodeURIComponent("_badmap")),ks}}catch{T&&T(Qn)}}if(it){re=Ot.join("&");break e}}re=void 0}return u=u.i.splice(0,b),p.G=u,re}function gu(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;gt||w(),$e||(gt(),$e=!0),I.add(p,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Es(_(u.Da,u),vu(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Es(_(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),Di(this),yu(this))};function Ul(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new rs(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=zt(u.na);ut(p,"RID","rpc"),ut(p,"SID",u.M),ut(p,"AID",u.K),ut(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&ut(p,"TO",u.ia),ut(p,"TYPE","xmlhttp"),Dr(u,p),u.u&&u.o&&Rr(p,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Ar(zt(p)),b.u=null,b.R=!0,ha(b,u)}i.Va=function(){this.C!=null&&(this.C=null,Di(this),Or(this),Lt(19))};function ba(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,p){var b=null;if(u.g==p){ba(u),Ul(u),u.g=null;var T=2}else if(Rs(u.h,p))b=p.G,Nl(u.h,p),T=1;else return;if(u.I!=0){if(p.o)if(T==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var U=u.D;T=ca(),we(T,new bs(T,b)),Ms(u)}else gu(u);else if(U=p.m,U==3||U==0&&p.X>0||!(T==1&&va(u,p)||T==2&&Or(u)))switch(b&&b.length>0&&(p=u.h,p.i=p.i.concat(b)),U){case 1:Vs(u,5);break;case 4:Vs(u,10);break;case 3:Vs(u,6);break;default:Vs(u,2)}}}function vu(u,p){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*p}function Vs(u,p){if(u.j.info("Error code "+p),p==2){var b=_(u.bb,u),T=u.Ua;const U=!T;T=new Mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zt(T,"https"),Ar(T),U?ls(T.toString(),b):Ml(T.toString(),b)}else Lt(2);u.I=0,u.l&&u.l.pa(p),bu(u),_a(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const p=Rl(u.h);(p.length!=0||u.i.length!=0)&&(te(u.ja,p),te(u.ja,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.oa()}}function Eu(u,p,b){var T=b instanceof Mn?zt(b):new Mn(b);if(T.g!="")p&&(T.g=p+"."+T.g),Si(T,T.u);else{var U=d.location;T=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const H=new Mn(null);T&&Zt(H,T),p&&(H.g=p),U&&Si(H,U),b&&(H.h=b),T=H}return b=u.G,p=u.wa,b&&p&&ut(T,b,p),ut(T,"VER",u.ka),Dr(u,T),T}function Tu(u,p,b){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new ft(new Is({ab:b})):new ft(u.ma),p.Fa(u.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}i=xu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Oi(){}Oi.prototype.g=function(u,p){return new yn(u,p)};function yn(u,p){Ce.call(this),this.g=new Ii(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!N(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Zs(this)}S(yn,Ce),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){jl(this.g)},yn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=xi(u),u=b);p.i.push(new Pt(p.Ya++,u)),p.I==3&&Ms(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,yn.Z.N.call(this)};function Su(u){tn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}S(Su,tn);function Au(){Bn.call(this),this.status=1}S(Au,Bn);function Zs(u){this.g=u}S(Zs,xu),Zs.prototype.ra=function(){we(this.g,"a")},Zs.prototype.qa=function(u){we(this.g,new Su(u))},Zs.prototype.pa=function(u){we(this.g,new Au)},Zs.prototype.oa=function(){we(this.g,"b")},Oi.prototype.createWebChannel=Oi.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,wb=function(){return new Oi},Ab=function(){return ca()},Sb=Dt,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,Pc=xr,Tl.COMPLETE="complete",xb=Tl,su.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",Ce.prototype.listen=Ce.prototype.J,So=su,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,Tb=ft}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",L_="4.9.2";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let gl="12.3.0";const ra=new Lm("@firebase/firestore");function Ja(){return ra.logLevel}function ue(i,...e){if(ra.logLevel<=Ye.DEBUG){const s=e.map(zm);ra.debug(`Firestore (${gl}): ${i}`,...s)}}function _i(i,...e){if(ra.logLevel<=Ye.ERROR){const s=e.map(zm);ra.error(`Firestore (${gl}): ${i}`,...s)}}function ll(i,...e){if(ra.logLevel<=Ye.WARN){const s=e.map(zm);ra.warn(`Firestore (${gl}): ${i}`,...s)}}function zm(i){if(typeof i=="string")return i;try{return(function(s){return JSON.stringify(s)})(i)}catch{return i}}function Re(i,e,s){let r="Unexpected state";typeof e=="string"?r=e:s=e,Nb(i,r,s)}function Nb(i,e,s){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw _i(r),new Error(r)}function lt(i,e,s,r){let o="Unexpected state";typeof s=="string"?o=s:r=s,i||Nb(e,o,r)}function je(i,e){return i}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ti{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}class Rb{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(mn.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class x2{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){lt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,s(v)):Promise.resolve();let c=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gi)}}),0),d()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string",31837,{l:r}),new Rb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class S2{constructor(e,s,r){this.P=e,this.T=s,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A2{constructor(e,s,r){this.P=e,this.T=s,this.I=r}getToken(){return Promise.resolve(new S2(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w2{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){lt(this.o===void 0,3512);const r=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?s(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(lt(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new U_(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<i;r++)s[r]=Math.floor(256*Math.random());return s}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=N2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<s&&(r+=e.charAt(o[c]%62))}return r}}function Ke(i,e){return i<e?-1:i>e?1:0}function gm(i,e){const s=Math.min(i.length,e.length);for(let r=0;r<s;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return Wd(o)===Wd(c)?Ke(o,c):Wd(o)?1:-1}return Ke(i.length,e.length)}const R2=55296,C2=57343;function Wd(i){const e=i.charCodeAt(0);return e>=R2&&e<=C2}function ol(i,e,s){return i.length===e.length&&i.every(((r,o)=>s(r,e[o])))}const P_="__name__";class zs{constructor(e,s,r){s===void 0?s=0:s>e.length&&Re(637,{offset:s,range:e.length}),r===void 0?r=e.length-s:r>e.length-s&&Re(1746,{length:r,range:e.length-s}),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let o=0;o<r;o++){const c=zs.compareSegments(e.get(o),s.get(o));if(c!==0)return c}return Ke(e.length,s.length)}static compareSegments(e,s){const r=zs.isNumericId(e),o=zs.isNumericId(s);return r&&!o?-1:!r&&o?1:r&&o?zs.extractNumericId(e).compare(zs.extractNumericId(s)):gm(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class vt extends zs{construct(e,s,r){return new vt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((o=>o.length>0)))}return new vt(s)}static emptyPath(){return new vt([])}}const I2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends zs{construct(e,s,r){return new cn(e,s,r)}static isValidIdentifier(e){return I2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new cn([P_])}static fromServerFormat(e){const s=[];let r="",o=0;const c=()=>{if(r.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(c(),o++)}if(c(),d)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(s)}static emptyPath(){return new cn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(vt.fromString(e))}static fromName(e){return new _e(vt.fromString(e).popFirst(5))}static empty(){return new _e(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return vt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new vt(e.slice()))}}function Cb(i,e,s){if(!s)throw new le($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function D2(i,e,s,r){if(e===!0&&r===!0)throw new le($.INVALID_ARGUMENT,`${i} and ${s} cannot be used together.`)}function z_(i){if(!_e.isDocumentKey(i))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function q_(i){if(_e.isDocumentKey(i))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ib(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function gh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function In(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=gh(i);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return i}function Yt(i,e){const s={typeString:i};return e&&(s.value=e),s}function Go(i,e){if(!Ib(i))throw new le($.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){s=`JSON missing required field: '${r}'`;break}const d=i[r];if(o&&typeof d!==o){s=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){s=`Expected '${r}' field to equal '${c.value}'`;break}}if(s)throw new le($.INVALID_ARGUMENT,s);return!0}const B_=-62135596800,H_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor((e-1e3*s)*H_);return new Tt(s,r)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<B_)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Go(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:Yt("string",Tt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Tt(0,0))}static max(){return new Oe(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function O2(i,e){const s=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(r===1e9?new Tt(s+1,0):new Tt(s,r));return new fr(o,_e.empty(),e)}function M2(i){return new fr(i.readTime,i.key,ko)}class fr{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new fr(Oe.min(),_e.empty(),ko)}static max(){return new fr(Oe.max(),_e.empty(),ko)}}function V2(i,e){let s=i.readTime.compareTo(e.readTime);return s!==0?s:(s=_e.comparator(i.documentKey,e.documentKey),s!==0?s:Ke(i.largestBatchId,e.largestBatchId))}const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yl(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==k2)throw i;ue("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(s,c).next(r,o)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof J?s:J.resolve(s)}catch(s){return J.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):J.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):J.reject(s)}static resolve(e){return new J(((s,r)=>{s(e)}))}static reject(e){return new J(((s,r)=>{r(e)}))}static waitFor(e){return new J(((s,r)=>{let o=0,c=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&s()}),(v=>r(v)))})),d=!0,c===o&&s()}))}static or(e){let s=J.resolve(!1);for(const r of e)s=s.next((o=>o?J.resolve(o):r()));return s}static forEach(e,s){const r=[];return e.forEach(((o,c)=>{r.push(s.call(this,o,c))})),this.waitFor(r)}static mapArray(e,s){return new J(((r,o)=>{const c=e.length,d=new Array(c);let y=0;for(let v=0;v<c;v++){const _=v;s(e[_]).next((x=>{d[_]=x,++y,y===c&&r(d)}),(x=>o(x)))}}))}static doWhile(e,s){return new J(((r,o)=>{const c=()=>{e()===!0?s().next((()=>{c()}),o):r()};c()}))}}function L2(i){const e=i.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function _l(i){return i.name==="IndexedDbTransactionError"}class yh{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Bm=-1;function _h(i){return i==null}function Zc(i){return i===0&&1/i==-1/0}function U2(i){return typeof i=="number"&&Number.isInteger(i)&&!Zc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Db="";function P2(i){let e="";for(let s=0;s<i.length;s++)e.length>0&&(e=F_(e)),e=z2(i.get(s),e);return F_(e)}function z2(i,e){let s=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":s+="";break;case Db:s+="";break;default:s+=c}}return s}function F_(i){return i+Db+""}function G_(i){let e=0;for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e++;return e}function _r(i,e){for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&e(s,i[s])}function Ob(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class At{constructor(e,s){this.comparator=e,this.root=s||on.EMPTY}insert(e,s){return new At(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return s+r.left.size;o<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,s,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=s?r(e.key,s):1,s&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,s,r,o,c){this.key=e,this.value=s,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,o,c){return new on(e??this.key,s??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,s,r),null):c===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,o=this;if(s(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,s,r,o,c){return this}insert(e,s,r){return new on(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;s(o.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new Xt(this.comparator);return s.data=e,s}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new qn([])}unionWith(e){let s=new Xt(cn.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new qn(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}class Mb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Mb("Invalid base64 string: "+c):c}})(e);return new hn(s)}static fromUint8Array(e){const s=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new hn(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let o=0;o<s.length;o++)r[o]=s.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(i){if(lt(!!i,39018),typeof i=="string"){let e=0;const s=q2.exec(i);if(lt(!!s,46558,{timestamp:i}),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(i.seconds),nanos:kt(i.nanos)}}function kt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function mr(i){return typeof i=="string"?hn.fromBase64String(i):hn.fromUint8Array(i)}const Vb="server_timestamp",kb="__type__",jb="__previous_value__",Lb="__local_write_time__";function Hm(i){return(i?.mapValue?.fields||{})[kb]?.stringValue===Vb}function vh(i){const e=i.mapValue.fields[jb];return Hm(e)?vh(e):e}function jo(i){const e=dr(i.mapValue.fields[Lb].timestampValue);return new Tt(e.seconds,e.nanos)}class B2{constructor(e,s,r,o,c,d,y,v,_,x){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=x}}const Jc="(default)";class Lo{constructor(e,s){this.projectId=e,this.database=s||Jc}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const Ub="__type__",H2="__max__",Mc={mapValue:{}},Pb="__vector__",Wc="value";function pr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hm(i)?4:G2(i)?9007199254740991:F2(i)?10:11:Re(28295,{value:i})}function Qs(i,e){if(i===e)return!0;const s=pr(i);if(s!==pr(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return jo(i).isEqual(jo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=dr(o.timestampValue),y=dr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return mr(o.bytesValue).isEqual(mr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return kt(o.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return kt(o.integerValue)===kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=kt(o.doubleValue),y=kt(c.doubleValue);return d===y?Zc(d)===Zc(y):isNaN(d)&&isNaN(y)}return!1})(i,e);case 9:return ol(i.arrayValue.values||[],e.arrayValue.values||[],Qs);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(G_(d)!==G_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Qs(d[v],y[v])))return!1;return!0})(i,e);default:return Re(52216,{left:i})}}function Uo(i,e){return(i.values||[]).find((s=>Qs(s,e)))!==void 0}function ul(i,e){if(i===e)return 0;const s=pr(i),r=pr(e);if(s!==r)return Ke(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ke(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=kt(c.integerValue||c.doubleValue),v=kt(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(i,e);case 3:return Y_(i.timestampValue,e.timestampValue);case 4:return Y_(jo(i),jo(e));case 5:return gm(i.stringValue,e.stringValue);case 6:return(function(c,d){const y=mr(c),v=mr(d);return y.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const x=Ke(y[_],v[_]);if(x!==0)return x}return Ke(y.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ke(kt(c.latitude),kt(d.latitude));return y!==0?y:Ke(kt(c.longitude),kt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return K_(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},v=d.fields||{},_=y[Wc]?.arrayValue,x=v[Wc]?.arrayValue,S=Ke(_?.values?.length||0,x?.values?.length||0);return S!==0?S:K_(_,x)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),_=d.fields||{},x=Object.keys(_);v.sort(),x.sort();for(let S=0;S<v.length&&S<x.length;++S){const M=gm(v[S],x[S]);if(M!==0)return M;const Y=ul(y[v[S]],_[x[S]]);if(Y!==0)return Y}return Ke(v.length,x.length)})(i.mapValue,e.mapValue);default:throw Re(23264,{he:s})}}function Y_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ke(i,e);const s=dr(i),r=dr(e),o=Ke(s.seconds,r.seconds);return o!==0?o:Ke(s.nanos,r.nanos)}function K_(i,e){const s=i.values||[],r=e.values||[];for(let o=0;o<s.length&&o<r.length;++o){const c=ul(s[o],r[o]);if(c)return c}return Ke(s.length,r.length)}function cl(i){return ym(i)}function ym(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(s){const r=dr(s);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(s){return mr(s).toBase64()})(i.bytesValue):"referenceValue"in i?(function(s){return _e.fromName(s).toString()})(i.referenceValue):"geoPointValue"in i?(function(s){return`geo(${s.latitude},${s.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(s){let r="[",o=!0;for(const c of s.values||[])o?o=!1:r+=",",r+=ym(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(s){const r=Object.keys(s.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${ym(s.fields[d])}`;return o+"}"})(i.mapValue):Re(61005,{value:i})}function zc(i){switch(pr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(i);return e?16+zc(e):16;case 5:return 2*i.stringValue.length;case 6:return mr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+zc(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return _r(r.fields,((c,d)=>{o+=c.length+zc(d)})),o})(i.mapValue);default:throw Re(13486,{value:i})}}function X_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _m(i){return!!i&&"integerValue"in i}function Fm(i){return!!i&&"arrayValue"in i}function $_(i){return!!i&&"nullValue"in i}function Z_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function qc(i){return!!i&&"mapValue"in i}function F2(i){return(i?.mapValue?.fields||{})[Ub]?.stringValue===Pb}function Co(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return _r(i.mapValue.fields,((s,r)=>e.mapValue.fields[s]=Co(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(i.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Co(i.arrayValue.values[s]);return e}return{...i}}function G2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!qc(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Co(s)}setAll(e){let s=cn.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!s.isImmediateParentOf(y)){const v=this.getFieldsMap(s);this.applyChanges(v,r,o),r={},o=[],s=y.popLast()}d?r[y.lastSegment()]=Co(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(s);this.applyChanges(c,r,o)}delete(e){const s=this.field(e.popLast());qc(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Qs(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=s.mapValue.fields[e.get(r)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=o),s=o}return s.mapValue.fields}applyChanges(e,s,r){_r(s,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new Cn(Co(this.value))}}function zb(i){const e=[];return _r(i.fields,((s,r)=>{const o=new cn([s]);if(qc(r)){const c=zb(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new qn(e)}class pn{constructor(e,s,r,o,c,d,y){this.key=e,this.documentType=s,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new pn(e,0,Oe.min(),Oe.min(),Oe.min(),Cn.empty(),0)}static newFoundDocument(e,s,r,o){return new pn(e,1,s,Oe.min(),r,o,0)}static newNoDocument(e,s){return new pn(e,2,s,Oe.min(),Oe.min(),Cn.empty(),0)}static newUnknownDocument(e,s){return new pn(e,3,s,Oe.min(),Oe.min(),Cn.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(e,s){this.position=e,this.inclusive=s}}function J_(i,e,s){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),s.key):r=ul(d,s.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let s=0;s<i.position.length;s++)if(!Qs(i.position[s],e.position[s]))return!1;return!0}class Po{constructor(e,s="asc"){this.field=e,this.dir=s}}function Q2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class qb{}class Qt extends qb{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new K2(e,s,r):s==="array-contains"?new Z2(e,r):s==="in"?new J2(e,r):s==="not-in"?new W2(e,r):s==="array-contains-any"?new ew(e,r):new Qt(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new X2(e,r):new $2(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(ul(s,this.value)):s!==null&&pr(this.value)===pr(s)&&this.matchesComparison(ul(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _s extends qb{constructor(e,s){super(),this.filters=e,this.op=s,this.Pe=null}static create(e,s){return new _s(e,s)}matches(e){return Bb(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bb(i){return i.op==="and"}function Hb(i){return Y2(i)&&Bb(i)}function Y2(i){for(const e of i.filters)if(e instanceof _s)return!1;return!0}function vm(i){if(i instanceof Qt)return i.field.canonicalString()+i.op.toString()+cl(i.value);if(Hb(i))return i.filters.map((e=>vm(e))).join(",");{const e=i.filters.map((s=>vm(s))).join(",");return`${i.op}(${e})`}}function Fb(i,e){return i instanceof Qt?(function(r,o){return o instanceof Qt&&r.op===o.op&&r.field.isEqual(o.field)&&Qs(r.value,o.value)})(i,e):i instanceof _s?(function(r,o){return o instanceof _s&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,y)=>c&&Fb(d,o.filters[y])),!0):!1})(i,e):void Re(19439)}function Gb(i){return i instanceof Qt?(function(s){return`${s.field.canonicalString()} ${s.op} ${cl(s.value)}`})(i):i instanceof _s?(function(s){return s.op.toString()+" {"+s.getFilters().map(Gb).join(" ,")+"}"})(i):"Filter"}class K2 extends Qt{constructor(e,s,r){super(e,s,r),this.key=_e.fromName(r.referenceValue)}matches(e){const s=_e.comparator(e.key,this.key);return this.matchesComparison(s)}}class X2 extends Qt{constructor(e,s){super(e,"in",s),this.keys=Qb("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class $2 extends Qt{constructor(e,s){super(e,"not-in",s),this.keys=Qb("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function Qb(i,e){return(e.arrayValue?.values||[]).map((s=>_e.fromName(s.referenceValue)))}class Z2 extends Qt{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return Fm(s)&&Uo(s.arrayValue,this.value)}}class J2 extends Qt{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&Uo(this.value.arrayValue,s)}}class W2 extends Qt{constructor(e,s){super(e,"not-in",s)}matches(e){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Uo(this.value.arrayValue,s)}}class ew extends Qt{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!Fm(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>Uo(this.value.arrayValue,r)))}}class tw{constructor(e,s=null,r=[],o=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function ev(i,e=null,s=[],r=[],o=null,c=null,d=null){return new tw(i,e,s,r,o,c,d)}function Gm(i){const e=je(i);if(e.Te===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>vm(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),_h(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>cl(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>cl(r))).join(",")),e.Te=s}return e.Te}function Qm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<i.orderBy.length;s++)if(!Q2(i.orderBy[s],e.orderBy[s]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let s=0;s<i.filters.length;s++)if(!Fb(i.filters[s],e.filters[s]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!W_(i.startAt,e.startAt)&&W_(i.endAt,e.endAt)}function bm(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class vl{constructor(e,s=null,r=[],o=[],c=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nw(i,e,s,r,o,c,d,y){return new vl(i,e,s,r,o,c,d,y)}function bh(i){return new vl(i)}function tv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Yb(i){return i.collectionGroup!==null}function Io(i){const e=je(i);if(e.Ie===null){e.Ie=[];const s=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),s.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Xt(cn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{s.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Po(c,r))})),s.has(cn.keyField().canonicalString())||e.Ie.push(new Po(cn.keyField(),r))}return e.Ie}function qs(i){const e=je(i);return e.Ee||(e.Ee=sw(e,Io(i))),e.Ee}function sw(i,e){if(i.limitType==="F")return ev(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Po(o.field,c)}));const s=i.endAt?new eh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new eh(i.startAt.position,i.startAt.inclusive):null;return ev(i.path,i.collectionGroup,e,i.filters,i.limit,s,r)}}function Em(i,e){const s=i.filters.concat([e]);return new vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),s,i.limit,i.limitType,i.startAt,i.endAt)}function Tm(i,e,s){return new vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,s,i.startAt,i.endAt)}function Eh(i,e){return Qm(qs(i),qs(e))&&i.limitType===e.limitType}function Kb(i){return`${Gm(qs(i))}|lt:${i.limitType}`}function Wa(i){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((o=>Gb(o))).join(", ")}]`),_h(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((o=>cl(o))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((o=>cl(o))).join(",")),`Target(${r})`})(qs(i))}; limitType=${i.limitType})`}function Th(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of Io(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=J_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Io(r),o)||r.endAt&&!(function(d,y,v){const _=J_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Io(r),o))})(i,e)}function iw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Xb(i){return(e,s)=>{let r=!1;for(const o of Io(i)){const c=rw(o,e,s);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function rw(i,e,s){const r=i.field.isKeyField()?_e.comparator(e.key,s.key):(function(c,d,y){const v=d.data.field(c),_=y.data.field(c);return v!==null&&_!==null?ul(v,_):Re(42886)})(i.field,e,s);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:i.dir})}}class oa{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,s]);o.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[s]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((s,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}}const aw=new At(_e.comparator);function vi(){return aw}const $b=new At(_e.comparator);function Ao(...i){let e=$b;for(const s of i)e=e.insert(s.key,s);return e}function Zb(i){let e=$b;return i.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function Jr(){return Do()}function Jb(){return Do()}function Do(){return new oa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const lw=new At(_e.comparator),ow=new Xt(_e.comparator);function Xe(...i){let e=ow;for(const s of i)e=e.add(s);return e}const uw=new Xt(Ke);function cw(){return uw}function Ym(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function Wb(i){return{integerValue:""+i}}function hw(i,e){return U2(e)?Wb(e):Ym(i,e)}class xh{constructor(){this._=void 0}}function fw(i,e,s){return i instanceof th?(function(o,c){const d={fields:{[kb]:{stringValue:Vb},[Lb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hm(c)&&(c=vh(c)),c&&(d.fields[jb]=c),{mapValue:d}})(s,e):i instanceof zo?t1(i,e):i instanceof qo?n1(i,e):(function(o,c){const d=e1(o,c),y=nv(d)+nv(o.Ae);return _m(d)&&_m(o.Ae)?Wb(y):Ym(o.serializer,y)})(i,e)}function dw(i,e,s){return i instanceof zo?t1(i,e):i instanceof qo?n1(i,e):s}function e1(i,e){return i instanceof nh?(function(r){return _m(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class th extends xh{}class zo extends xh{constructor(e){super(),this.elements=e}}function t1(i,e){const s=s1(e);for(const r of i.elements)s.some((o=>Qs(o,r)))||s.push(r);return{arrayValue:{values:s}}}class qo extends xh{constructor(e){super(),this.elements=e}}function n1(i,e){let s=s1(e);for(const r of i.elements)s=s.filter((o=>!Qs(o,r)));return{arrayValue:{values:s}}}class nh extends xh{constructor(e,s){super(),this.serializer=e,this.Ae=s}}function nv(i){return kt(i.integerValue||i.doubleValue)}function s1(i){return Fm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function mw(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof zo&&o instanceof zo||r instanceof qo&&o instanceof qo?ol(r.elements,o.elements,Qs):r instanceof nh&&o instanceof nh?Qs(r.Ae,o.Ae):r instanceof th&&o instanceof th})(i.transform,e.transform)}class pw{constructor(e,s){this.version=e,this.transformResults=s}}class ns{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sh{}function i1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Km(i.key,ns.none()):new Qo(i.key,i.data,ns.none());{const s=i.data,r=Cn.empty();let o=new Xt(cn.comparator);for(let c of e.fields)if(!o.has(c)){let d=s.field(c);d===null&&c.length>1&&(c=c.popLast(),d=s.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new vr(i.key,r,new qn(o.toArray()),ns.none())}}function gw(i,e,s){i instanceof Qo?(function(o,c,d){const y=o.value.clone(),v=iv(o.fieldTransforms,c,d.transformResults);y.setAll(v),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,s):i instanceof vr?(function(o,c,d){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=iv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(r1(o)),v.setAll(y),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(i,e,s):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,s)}function Oo(i,e,s,r){return i instanceof Qo?(function(c,d,y,v){if(!Bc(c.precondition,d))return y;const _=c.value.clone(),x=rv(c.fieldTransforms,v,d);return _.setAll(x),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(i,e,s,r):i instanceof vr?(function(c,d,y,v){if(!Bc(c.precondition,d))return y;const _=rv(c.fieldTransforms,v,d),x=d.data;return x.setAll(r1(c)),x.setAll(_),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(i,e,s,r):(function(c,d,y){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(i,e,s)}function yw(i,e){let s=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=e1(r.transform,o||null);c!=null&&(s===null&&(s=Cn.empty()),s.set(r.field,c))}return s||null}function sv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ol(r,o,((c,d)=>mw(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Qo extends Sh{constructor(e,s,r,o=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vr extends Sh{constructor(e,s,r,o,c=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function r1(i){const e=new Map;return i.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=i.data.field(s);e.set(s,r)}})),e}function iv(i,e,s){const r=new Map;lt(i.length===s.length,32656,{Re:s.length,Ve:i.length});for(let o=0;o<s.length;o++){const c=i[o],d=c.transform,y=e.data.field(c.field);r.set(c.field,dw(d,y,s[o]))}return r}function rv(i,e,s){const r=new Map;for(const o of i){const c=o.transform,d=s.data.field(o.field);r.set(o.field,fw(c,d,e))}return r}class Km extends Sh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends Sh{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vw{constructor(e,s,r,o){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&gw(c,e,r[o])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Oo(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Oo(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=Jb();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=s.has(o.key)?null:y;const v=i1(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((s,r)=>sv(s,r)))&&ol(this.baseMutations,e.baseMutations,((s,r)=>sv(s,r)))}}class Xm{constructor(e,s,r,o){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=o}static from(e,s,r){lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return lw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Xm(e,s,r,o)}}class bw{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ew{constructor(e,s){this.count=e,this.unchangedNames=s}}var Gt,We;function Tw(i){switch(i){case $.OK:return Re(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function a1(i){if(i===void 0)return _i("GRPC error has no .code"),$.UNKNOWN;switch(i){case Gt.OK:return $.OK;case Gt.CANCELLED:return $.CANCELLED;case Gt.UNKNOWN:return $.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return $.INTERNAL;case Gt.UNAVAILABLE:return $.UNAVAILABLE;case Gt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Gt.NOT_FOUND:return $.NOT_FOUND;case Gt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Gt.ABORTED:return $.ABORTED;case Gt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Gt.DATA_LOSS:return $.DATA_LOSS;default:return Re(39323,{code:i})}}(We=Gt||(Gt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function xw(){return new TextEncoder}const Sw=new cr([4294967295,4294967295],0);function av(i){const e=xw().encode(i),s=new Eb;return s.update(e),new Uint8Array(s.digest())}function lv(i){const e=new DataView(i.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new cr([s,r],0),new cr([o,c],0)]}class $m{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new wo(`Invalid padding: ${s}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new wo(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*e.length-s,this.pe=cr.fromNumber(this.ge)}ye(e,s,r){let o=e.add(s.multiply(cr.fromNumber(r)));return o.compare(Sw)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const s=av(e),[r,o]=lv(s);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,s,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $m(c,o,s);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const s=av(e),[r,o]=lv(s);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,s,r,o,c){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const o=new Map;return o.set(e,Yo.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new Ah(Oe.min(),o,new At(Ke),vi(),Xe())}}class Yo{constructor(e,s,r,o,c){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Yo(r,s,Xe(),Xe(),Xe())}}class Hc{constructor(e,s,r,o){this.be=e,this.removedTargetIds=s,this.key=r,this.De=o}}class l1{constructor(e,s){this.targetId=e,this.Ce=s}}class o1{constructor(e,s,r=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=o}}class ov{constructor(){this.ve=0,this.Fe=uv(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),s=Xe(),r=Xe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:s=s.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:c})}})),new Yo(this.Me,this.xe,e,s,r)}qe(){this.Oe=!1,this.Fe=uv()}Qe(e,s){this.Oe=!0,this.Fe=this.Fe.insert(e,s)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Aw{constructor(e){this.Ge=e,this.ze=new Map,this.je=vi(),this.Je=Vc(),this.He=Vc(),this.Ye=new At(Ke)}Ze(e){for(const s of e.be)e.De&&e.De.isFoundDocument()?this.Xe(s,e.De):this.et(s,e.key,e.De);for(const s of e.removedTargetIds)this.et(s,e.key,e.De)}tt(e){this.forEachTarget(e,(s=>{const r=this.nt(s);switch(e.state){case 0:this.rt(s)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(s)&&(this.it(s),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.ze.forEach(((r,o)=>{this.rt(o)&&s(o)}))}st(e){const s=e.targetId,r=e.Ce.count,o=this.ot(s);if(o){const c=o.target;if(bm(c))if(r===0){const d=new _e(c.path);this.et(s,d,pn.newNoDocument(d,Oe.min()))}else lt(r===1,20013,{expectedCount:r});else{const d=this._t(s);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(s);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,_)}}}}}ut(e){const s=e.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=s;let d,y;try{d=mr(r).toUint8Array()}catch(v){if(v instanceof Mb)return ll("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new $m(d,o,c)}catch(v){return ll(v instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,s,r){return s.Ce.count===r-this.Pt(e,s.targetId)?0:2}Pt(e,s){const r=this.Ge.getRemoteKeysForTarget(s);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(s,c,null),o++)})),o}Tt(e){const s=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&bm(y.target)){const v=new _e(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,pn.newNoDocument(v,e))}c.Be&&(s.set(d,c.ke()),c.qe())}}));let r=Xe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ah(e,s,this.Ye,this.je,r);return this.je=vi(),this.Je=Vc(),this.He=Vc(),this.Ye=new At(Ke),o}Xe(e,s){if(!this.rt(e))return;const r=this.Et(e,s.key)?2:0;this.nt(e).Qe(s.key,r),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(e)),this.He=this.He.insert(s.key,this.dt(s.key).add(e))}et(e,s,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,s)?o.Qe(s,1):o.$e(s),this.He=this.He.insert(s,this.dt(s).delete(e)),this.He=this.He.insert(s,this.dt(s).add(e)),r&&(this.je=this.je.insert(s,r))}removeTarget(e){this.ze.delete(e)}_t(e){const s=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let s=this.ze.get(e);return s||(s=new ov,this.ze.set(e,s)),s}dt(e){let s=this.He.get(e);return s||(s=new Xt(Ke),this.He=this.He.insert(e,s)),s}It(e){let s=this.Je.get(e);return s||(s=new Xt(Ke),this.Je=this.Je.insert(e,s)),s}rt(e){const s=this.ot(e)!==null;return s||ue("WatchChangeAggregator","Detected inactive target",e),s}ot(e){const s=this.ze.get(e);return s&&s.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ov),this.Ge.getRemoteKeysForTarget(e).forEach((s=>{this.et(e,s,null)}))}Et(e,s){return this.Ge.getRemoteKeysForTarget(e).has(s)}}function Vc(){return new At(_e.comparator)}function uv(){return new At(_e.comparator)}const ww={asc:"ASCENDING",desc:"DESCENDING"},Nw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rw={and:"AND",or:"OR"};class Cw{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function xm(i,e){return i.useProto3Json||_h(e)?e:{value:e}}function sh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Iw(i,e){return sh(i,e.toTimestamp())}function Bs(i){return lt(!!i,49232),Oe.fromTimestamp((function(s){const r=dr(s);return new Tt(r.seconds,r.nanos)})(i))}function Zm(i,e){return Sm(i,e).canonicalString()}function Sm(i,e){const s=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?s:s.child(e)}function c1(i){const e=vt.fromString(i);return lt(p1(e),10190,{key:e.toString()}),e}function Am(i,e){return Zm(i.databaseId,e.path)}function em(i,e){const s=c1(e);if(s.get(1)!==i.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+i.databaseId.projectId);if(s.get(3)!==i.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+i.databaseId.database);return new _e(f1(s))}function h1(i,e){return Zm(i.databaseId,e)}function Dw(i){const e=c1(i);return e.length===4?vt.emptyPath():f1(e)}function wm(i){return new vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function f1(i){return lt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function cv(i,e,s){return{name:Am(i,e),fields:s.value.mapValue.fields}}function Ow(i,e){let s;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Re(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,x){return _.useProto3Json?(lt(x===void 0||typeof x=="string",58123),hn.fromBase64String(x||"")):(lt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),hn.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const x=_.code===void 0?$.UNKNOWN:a1(_.code);return new le(x,_.message||"")})(d);s=new o1(r,o,c,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=em(i,r.document.name),c=Bs(r.document.updateTime),d=r.document.createTime?Bs(r.document.createTime):Oe.min(),y=new Cn({mapValue:{fields:r.document.fields}}),v=pn.newFoundDocument(o,c,d,y),_=r.targetIds||[],x=r.removedTargetIds||[];s=new Hc(_,x,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=em(i,r.document),c=r.readTime?Bs(r.readTime):Oe.min(),d=pn.newNoDocument(o,c),y=r.removedTargetIds||[];s=new Hc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=em(i,r.document),c=r.removedTargetIds||[];s=new Hc([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new Ew(o,c),y=r.targetId;s=new l1(y,d)}}return s}function Mw(i,e){let s;if(e instanceof Qo)s={update:cv(i,e.key,e.value)};else if(e instanceof Km)s={delete:Am(i,e.key)};else if(e instanceof vr)s={update:cv(i,e.key,e.data),updateMask:Bw(e.fieldMask)};else{if(!(e instanceof _w))return Re(16599,{Vt:e.type});s={verify:Am(i,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const y=d.transform;if(y instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof qo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof nh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Re(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Iw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)})(i,e.precondition)),s}function Vw(i,e){return i&&i.length>0?(lt(e!==void 0,14353),i.map((s=>(function(o,c){let d=o.updateTime?Bs(o.updateTime):Bs(c);return d.isEqual(Oe.min())&&(d=Bs(c)),new pw(d,o.transformResults||[])})(s,e)))):[]}function kw(i,e){return{documents:[h1(i,e.path)]}}function jw(i,e){const s={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=h1(i,o);const c=(function(_){if(_.length!==0)return m1(_s.create(_,"and"))})(e.filters);c&&(s.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((x=>(function(M){return{field:el(M.field),direction:Pw(M.dir)}})(x)))})(e.orderBy);d&&(s.structuredQuery.orderBy=d);const y=xm(i,e.limit);return y!==null&&(s.structuredQuery.limit=y),e.startAt&&(s.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:s,parent:o}}function Lw(i){let e=Dw(i.parent);const s=i.structuredQuery,r=s.from?s.from.length:0;let o=null;if(r>0){lt(r===1,65062);const x=s.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];s.where&&(c=(function(S){const M=d1(S);return M instanceof _s&&Hb(M)?M.getFilters():[M]})(s.where));let d=[];s.orderBy&&(d=(function(S){return S.map((M=>(function(te){return new Po(tl(te.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(s.orderBy));let y=null;s.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,_h(M)?null:M})(s.limit));let v=null;s.startAt&&(v=(function(S){const M=!!S.before,Y=S.values||[];return new eh(Y,M)})(s.startAt));let _=null;return s.endAt&&(_=(function(S){const M=!S.before,Y=S.values||[];return new eh(Y,M)})(s.endAt)),nw(e,o,d,c,y,"F",v,_)}function Uw(i,e){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function d1(i){return i.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=tl(s.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(s.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=tl(s.unaryFilter.field);return Qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=tl(s.unaryFilter.field);return Qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(s){return Qt.create(tl(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(s){return _s.create(s.compositeFilter.filters.map((r=>d1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(s.compositeFilter.op))})(i):Re(30097,{filter:i})}function Pw(i){return ww[i]}function zw(i){return Nw[i]}function qw(i){return Rw[i]}function el(i){return{fieldPath:i.canonicalString()}}function tl(i){return cn.fromServerFormat(i.fieldPath)}function m1(i){return i instanceof Qt?(function(s){if(s.op==="=="){if(Z_(s.value))return{unaryFilter:{field:el(s.field),op:"IS_NAN"}};if($_(s.value))return{unaryFilter:{field:el(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Z_(s.value))return{unaryFilter:{field:el(s.field),op:"IS_NOT_NAN"}};if($_(s.value))return{unaryFilter:{field:el(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(s.field),op:zw(s.op),value:s.value}}})(i):i instanceof _s?(function(s){const r=s.getFilters().map((o=>m1(o)));return r.length===1?r[0]:{compositeFilter:{op:qw(s.op),filters:r}}})(i):Re(54877,{filter:i})}function Bw(i){const e=[];return i.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function p1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ar{constructor(e,s,r,o,c=Oe.min(),d=Oe.min(),y=hn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hw{constructor(e){this.yt=e}}function Fw(i){const e=Lw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Tm(e,e.limit,"L"):e}class Gw{constructor(){this.Cn=new Qw}addToCollectionParentIndex(e,s){return this.Cn.add(s),J.resolve()}getCollectionParents(e,s){return J.resolve(this.Cn.getEntries(s))}addFieldIndex(e,s){return J.resolve()}deleteFieldIndex(e,s){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,s){return J.resolve()}getDocumentsMatchingTarget(e,s){return J.resolve(null)}getIndexType(e,s){return J.resolve(0)}getFieldIndexes(e,s){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,s){return J.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,s){return J.resolve(fr.min())}updateCollectionGroup(e,s,r){return J.resolve()}updateIndexEntries(e,s){return J.resolve()}}class Qw{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s]||new Xt(vt.comparator),c=!o.has(r);return this.index[s]=o.add(r),c}has(e){const s=e.lastSegment(),r=e.popLast(),o=this.index[s];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Xt(vt.comparator)).toArray()}}const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g1=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,s,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(g1,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}const fv="LruGarbageCollector",Yw=1048576;function dv([i,e],[s,r]){const o=Ke(i,s);return o===0?Ke(e,r):o}class Kw{constructor(e){this.Ir=e,this.buffer=new Xt(dv),this.Er=0}dr(){return++this.Er}Ar(e){const s=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();dv(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class Xw{constructor(e,s,r){this.garbageCollector=e,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){_l(s)?ue(fv,"Ignoring IndexedDB error during garbage collection: ",s):await yl(s)}await this.Vr(3e5)}))}}class $w{constructor(e,s){this.mr=e,this.params=s}calculateTargetCount(e,s){return this.mr.gr(e).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(e,s){if(s===0)return J.resolve(yh.ce);const r=new Kw(s);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,s,r){return this.mr.removeTargets(e,s,r)}removeOrphanedDocuments(e,s){return this.mr.removeOrphanedDocuments(e,s)}collect(e,s){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(hv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.yr(e,s)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,s){let r,o,c,d,y,v,_;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(r=S,y=Date.now(),this.removeTargets(e,r,s)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),Ja()<=Ye.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(_-v)+`ms
Total Duration: ${_-x}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function Zw(i,e){return new $w(i,e)}class Jw{constructor(){this.changes=new oa((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?J.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ww{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}class eN{constructor(e,s,r,o){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,s)))).next((o=>(r!==null&&Oo(r.mutation,o,qn.empty(),Tt.now()),o)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=Xe()){const o=Jr();return this.populateOverlays(e,o,s).next((()=>this.computeViews(e,s,o,r).next((c=>{let d=Ao();return c.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,s){const r=Jr();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,Xe())))}populateOverlays(e,s,r){const o=[];return r.forEach((c=>{s.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,y)=>{s.set(d,y)}))}))}computeViews(e,s,r,o){let c=vi();const d=Do(),y=(function(){return Do()})();return s.forEach(((v,_)=>{const x=r.get(_.key);o.has(_.key)&&(x===void 0||x.mutation instanceof vr)?c=c.insert(_.key,_):x!==void 0?(d.set(_.key,x.mutation.getFieldMask()),Oo(x.mutation,_,x.mutation.getFieldMask(),Tt.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,x)=>d.set(_,x))),s.forEach(((_,x)=>y.set(_,new Ww(x,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,s){const r=Do();let o=new At(((d,y)=>d-y)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=s.get(v);if(_===null)return;let x=r.get(v)||qn.empty();x=y.applyToLocalView(_,x),r.set(v,x);const S=(o.get(y.batchId)||Xe()).add(v);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,x=v.value,S=Jb();x.forEach((M=>{if(!c.has(M)){const Y=i1(s.get(M),r.get(M));Y!==null&&S.set(M,Y),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):Yb(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,o):this.getDocumentsMatchingCollectionQuery(e,s,r,o)}getNextDocuments(e,s,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,o-c.size):J.resolve(Jr());let y=ko,v=c;return d.next((_=>J.forEach(_,((x,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(x)?J.resolve():this.remoteDocumentCache.getEntry(e,x).next((M=>{v=v.insert(x,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Xe()))).next((x=>({batchId:y,changes:Zb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new _e(s)).next((r=>{let o=Ao();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,o){const c=s.collectionGroup;let d=Ao();return this.indexManager.getCollectionParents(e,c).next((y=>J.forEach(y,(v=>{const _=(function(S,M){return new vl(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(s,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((x=>{x.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,s,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,c,o)))).next((d=>{c.forEach(((v,_)=>{const x=_.getKey();d.get(x)===null&&(d=d.insert(x,pn.newInvalidDocument(x)))}));let y=Ao();return d.forEach(((v,_)=>{const x=c.get(v);x!==void 0&&Oo(x.mutation,_,qn.empty(),Tt.now()),Th(s,_)&&(y=y.insert(v,_))})),y}))}}class tN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,s){return J.resolve(this.Lr.get(s))}saveBundleMetadata(e,s){return this.Lr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:Bs(o.createTime)}})(s)),J.resolve()}getNamedQuery(e,s){return J.resolve(this.kr.get(s))}saveNamedQuery(e,s){return this.kr.set(s.name,(function(o){return{name:o.name,query:Fw(o.bundledQuery),readTime:Bs(o.readTime)}})(s)),J.resolve()}}class nN{constructor(){this.overlays=new At(_e.comparator),this.qr=new Map}getOverlay(e,s){return J.resolve(this.overlays.get(s))}getOverlays(e,s){const r=Jr();return J.forEach(s,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((o,c)=>{this.St(e,s,c)})),J.resolve()}removeOverlaysForBatchId(e,s,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,s,r){const o=Jr(),c=s.length+1,d=new _e(s.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!s.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(e,s,r,o){let c=new At(((_,x)=>_-x));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===s&&_.largestBatchId>r){let x=c.get(_.largestBatchId);x===null&&(x=Jr(),c=c.insert(_.largestBatchId,x)),x.set(_.getKey(),_)}}const y=Jr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,x)=>y.set(_,x))),!(y.size()>=o)););return J.resolve(y)}St(e,s,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new bw(s,r));let c=this.qr.get(s);c===void 0&&(c=Xe(),this.qr.set(s,c)),this.qr.set(s,c.add(r.key))}}class sN{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,J.resolve()}}class Jm{constructor(){this.Qr=new Xt(Wt.$r),this.Ur=new Xt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,s){const r=new Wt(e,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Gr(new Wt(e,s))}zr(e,s){e.forEach((r=>this.removeReference(r,s)))}jr(e){const s=new _e(new vt([])),r=new Wt(s,e),o=new Wt(s,e+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const s=new _e(new vt([])),r=new Wt(s,e),o=new Wt(s,e+1);let c=Xe();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const s=new Wt(e,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,s){this.key=e,this.Yr=s}static $r(e,s){return _e.comparator(e.key,s.key)||Ke(e.Yr,s.Yr)}static Kr(e,s){return Ke(e.Yr,s.Yr)||_e.comparator(e.key,s.key)}}class iN{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Wt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vw(c,s,r,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Wt(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,s){return J.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,o=this.ei(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Wt(s,0),o=new Wt(s,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new Xt(Ke);return s.forEach((o=>{const c=new Wt(o,0),d=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{r=r.add(y.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,o=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new Wt(new _e(c),0);let y=new Xt(Ke);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),J.resolve(this.ti(y))}ti(e){const s=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&s.push(o)})),s}removeMutationBatch(e,s){lt(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(s.mutations,(o=>{const c=new Wt(o.key,s.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,s){const r=new Wt(s,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,s){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const s=this.ei(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}class rN{constructor(e){this.ri=e,this.docs=(function(){return new At(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return J.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(s))}getEntries(e,s){let r=vi();return s.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,s,r,o){let c=vi();const d=s.path,y=new _e(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:x}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||V2(M2(x),r)<=0||(o.has(x.key)||Th(s,x))&&(c=c.insert(x.key,x.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,s,r,o){Re(9500)}ii(e,s){return J.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new aN(this)}getSize(e){return J.resolve(this.size)}}class aN extends Jw{constructor(e){super(),this.Nr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?s.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(s)}getFromCache(e,s){return this.Nr.getEntry(e,s)}getAllFromCache(e,s){return this.Nr.getEntries(e,s)}}class lN{constructor(e){this.persistence=e,this.si=new oa((s=>Gm(s)),Qm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=hl.ur()}forEachTarget(e,s){return this.si.forEach(((r,o)=>s(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),J.resolve()}Pr(e){this.si.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.ai=new hl(s),this.highestTargetId=s),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,s){return this.Pr(s),this.targetCount+=1,J.resolve()}updateTargetData(e,s){return this.Pr(s),J.resolve()}removeTargetData(e,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,s,r){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=s&&r.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,s){const r=this.si.get(s)||null;return J.resolve(r)}addMatchingKeys(e,s,r){return this._i.Wr(s,r),J.resolve()}removeMatchingKeys(e,s,r){this._i.zr(s,r);const o=this.persistence.referenceDelegate,c=[];return o&&s.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,s){return this._i.jr(s),J.resolve()}getMatchingKeysForTargetId(e,s){const r=this._i.Hr(s);return J.resolve(r)}containsKey(e,s){return J.resolve(this._i.containsKey(s))}}class y1{constructor(e,s){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new sN,this.referenceDelegate=e(this),this.Pi=new lN(this),this.indexManager=new Gw,this.remoteDocumentCache=(function(o){return new rN(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Hw(s),this.Ii=new tN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new nN,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.ui[e.toKey()];return r||(r=new iN(s,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,s,r){ue("MemoryPersistence","Starting transaction:",e);const o=new oN(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,s){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,s))))}}class oN extends j2{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Ri=new Jm,this.Vi=null}static mi(e){return new Wm(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),J.resolve()}removeReference(e,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,s){return this.fi.add(s.toString()),J.resolve()}removeTarget(e,s){this.Ri.jr(s.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,s)))}Ei(){this.Vi=new Set}di(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=_e.fromPath(r);return this.gi(e,o).next((c=>{c||s.removeEntry(o,Oe.min())}))})).next((()=>(this.Vi=null,s.apply(e))))}updateLimboDocument(e,s){return this.gi(e,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(e){return 0}gi(e,s){return J.or([()=>J.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Ai(e,s)])}}class ih{constructor(e,s){this.persistence=e,this.pi=new oa((r=>P2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Zw(this,s)}static mi(e,s){return new ih(e,s)}Ei(){}di(e){return J.resolve()}forEachTarget(e,s){return this.persistence.getTargetCache().forEachTarget(e,s)}gr(e){const s=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>s.next((o=>r+o))))}wr(e){let s=0;return this.pr(e,(r=>{s++})).next((()=>s))}pr(e,s){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?J.resolve():s(o)))))}removeTargets(e,s,r){return this.persistence.getTargetCache().removeTargets(e,s,r)}removeOrphanedDocuments(e,s){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,s).next((y=>{y||(r++,c.removeEntry(d,Oe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeTarget(e,s){const r=s.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,s,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}Ti(e){let s=e.key.toString().length;return e.isFoundDocument()&&(s+=zc(e.data.value)),s}br(e,s,r){return J.or([()=>this.persistence.Ai(e,s),()=>this.persistence.getTargetCache().containsKey(e,s),()=>{const o=this.pi.get(s);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ep{constructor(e,s,r,o){this.targetId=e,this.fromCache=s,this.Es=r,this.ds=o}static As(e,s){let r=Xe(),o=Xe();for(const c of s.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ep(e,s.fromCache,r,o)}}class uN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tA()?8:L2(gn())>0?6:4})()}initialize(e,s){this.ps=e,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(e,s,r,o){const c={result:null};return this.ys(e,s).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,s,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uN;return this.Ss(e,s,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,s,d,y.size)}))})).next((()=>c.result))}bs(e,s,r,o){return r.documentReadCount<this.fs?(Ja()<=Ye.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Wa(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ja()<=Ye.DEBUG&&ue("QueryEngine","Query:",Wa(s),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ja()<=Ye.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Wa(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(s))):J.resolve())}ys(e,s){if(tv(s))return J.resolve(null);let r=qs(s);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=Tm(s,null,"F"),r=qs(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Xe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(s,y);return this.Cs(s,_,d,v.readTime)?this.ys(e,Tm(s,null,"F")):this.vs(e,_,s,v)}))))})))))}ws(e,s,r,o){return tv(s)||o.isEqual(Oe.min())?J.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(s,c);return this.Cs(s,d,r,o)?J.resolve(null):(Ja()<=Ye.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(s)),this.vs(e,d,s,O2(o,ko)).next((y=>y)))}))}Ds(e,s){let r=new Xt(Xb(e));return s.forEach(((o,c)=>{Th(e,c)&&(r=r.add(c))})),r}Cs(e,s,r,o){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const c=e.limitType==="F"?s.last():s.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,s,r){return Ja()<=Ye.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Wa(s)),this.ps.getDocumentsMatchingQuery(e,s,fr.min(),r)}vs(e,s,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(s.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tp="LocalStore",hN=3e8;class fN{constructor(e,s,r,o){this.persistence=e,this.Fs=s,this.serializer=o,this.Ms=new At(Ke),this.xs=new oa((c=>Gm(c)),Qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.Ms)))}}function dN(i,e,s,r){return new fN(i,e,s,r)}async function _1(i,e){const s=je(i);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return s.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,s.Bs(e),s.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],y=[];let v=Xe();for(const _ of o){d.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}for(const _ of c){y.push(_.batchId);for(const x of _.mutations)v=v.add(x.key)}return s.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function mN(i,e){const s=je(i);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,x){const S=_.batch,M=S.keys();let Y=J.resolve();return M.forEach((te=>{Y=Y.next((()=>x.getEntry(v,te))).next((se=>{const ne=_.docVersions.get(te);lt(ne!==null,48541),se.version.compareTo(ne)<0&&(S.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),x.addEntry(se)))}))})),Y.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(s,r,e,c).next((()=>c.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Xe();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>s.localDocuments.getDocuments(r,o)))}))}function v1(i){const e=je(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Pi.getLastRemoteSnapshotVersion(s)))}function pN(i,e){const s=je(i),r=e.snapshotVersion;let o=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=s.Ns.newChangeBuffer({trackRemovals:!0});o=s.Ms;const y=[];e.targetChanges.forEach(((x,S)=>{const M=o.get(S);if(!M)return;y.push(s.Pi.removeMatchingKeys(c,x.removedDocuments,S).next((()=>s.Pi.addMatchingKeys(c,x.addedDocuments,S))));let Y=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?Y=Y.withResumeToken(hn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):x.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(x.resumeToken,r)),o=o.insert(S,Y),(function(se,ne,Ee){return se.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=hN?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0})(M,Y,x)&&y.push(s.Pi.updateTargetData(c,Y))}));let v=vi(),_=Xe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&y.push(s.persistence.referenceDelegate.updateLimboDocument(c,x))})),y.push(gN(c,d,e.documentUpdates).next((x=>{v=x.ks,_=x.qs}))),!r.isEqual(Oe.min())){const x=s.Pi.getLastRemoteSnapshotVersion(c).next((S=>s.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));y.push(x)}return J.waitFor(y).next((()=>d.apply(c))).next((()=>s.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(s.Ms=o,c)))}function gN(i,e,s){let r=Xe(),o=Xe();return s.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let d=vi();return s.forEach(((y,v)=>{const _=c.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(Oe.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ue(tp,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function yN(i,e){const s=je(i);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bm),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _N(i,e){const s=je(i);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return s.Pi.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):s.Pi.allocateTargetId(r).next((d=>(o=new ar(e,d,"TargetPurposeListen",r.currentSequenceNumber),s.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=s.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(r.targetId,r),s.xs.set(e,r.targetId)),r}))}async function Nm(i,e,s){const r=je(i),o=r.Ms.get(e),c=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!_l(d))throw d;ue(tp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function mv(i,e,s){const r=je(i);let o=Oe.min(),c=Xe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,x){const S=je(v),M=S.xs.get(x);return M!==void 0?J.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,x)})(r,d,qs(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{c=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,s?o:Oe.min(),s?c:Xe()))).next((y=>(vN(r,iw(e),y),{documents:y,Qs:c})))))}function vN(i,e,s){let r=i.Os.get(e)||Oe.min();s.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class pv{constructor(){this.activeTargetIds=cw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bN{constructor(){this.Mo=new pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,s,r){this.xo[e]=s}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pv,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class EN{Oo(e){}shutdown(){}}const gv="ConnectivityMonitor";class yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(gv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(gv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function Rm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const tm="RestConnection",TN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Jc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,s,r,o,c){const d=Rm(),y=this.zo(e,s.toUriEncodedString());ue(tm,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:_}=new URL(y),x=ml(_);return this.Jo(e,y,v,r,x).then((S=>(ue(tm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw ll(tm,`RPC '${e}' ${d} failed with error: `,S,"url: ",y,"request:",r),S}))}Ho(e,s,r,o,c,d){return this.Go(e,s,r,o,c)}jo(e,s,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,s){const r=TN[e];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}class SN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class AN extends xN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,s,r,o,c){const d=Rm();return new Promise(((y,v)=>{const _=new Tb;_.setWithCredentials(!0),_.listenOnce(xb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const S=_.getResponseJson();ue(dn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),y(S);break;case Pc.TIMEOUT:ue(dn,`RPC '${e}' ${d} timed out`),v(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const M=_.getStatus();if(ue(dn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const te=Y?.error;if(te&&te.status&&te.message){const se=(function(Ee){const Me=Ee.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Me)>=0?Me:$.UNKNOWN})(te.status);v(new le(se,te.message))}else v(new le($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new le($.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ue(dn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);ue(dn,`RPC '${e}' ${d} sending request:`,o),_.send(s,"POST",x,r,15)}))}T_(e,s,r){const o=Rm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=wb(),y=Ab(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,s,r),v.encodeInitMessageHeaders=!0;const x=c.join("");ue(dn,`Creating RPC '${e}' stream ${o}: ${x}`,v);const S=d.createWebChannel(x,v);this.I_(S);let M=!1,Y=!1;const te=new SN({Yo:ne=>{Y?ue(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,ne):(M||(ue(dn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),M=!0),ue(dn,`RPC '${e}' stream ${o} sending:`,ne),S.send(ne))},Zo:()=>S.close()}),se=(ne,Ee,Me)=>{ne.listen(Ee,(Se=>{try{Me(Se)}catch(at){setTimeout((()=>{throw at}),0)}}))};return se(S,So.EventType.OPEN,(()=>{Y||(ue(dn,`RPC '${e}' stream ${o} transport opened.`),te.o_())})),se(S,So.EventType.CLOSE,(()=>{Y||(Y=!0,ue(dn,`RPC '${e}' stream ${o} transport closed`),te.a_(),this.E_(S))})),se(S,So.EventType.ERROR,(ne=>{Y||(Y=!0,ll(dn,`RPC '${e}' stream ${o} transport errored. Name:`,ne.name,"Message:",ne.message),te.a_(new le($.UNAVAILABLE,"The operation could not be completed")))})),se(S,So.EventType.MESSAGE,(ne=>{if(!Y){const Ee=ne.data[0];lt(!!Ee,16349);const Me=Ee,Se=Me?.error||Me[0]?.error;if(Se){ue(dn,`RPC '${e}' stream ${o} received error:`,Se);const at=Se.status;let gt=(function(w){const C=Gt[w];if(C!==void 0)return a1(C)})(at),$e=Se.message;gt===void 0&&(gt=$.INTERNAL,$e="Unknown error status: "+at+" with message "+Se.message),Y=!0,te.a_(new le(gt,$e)),S.close()}else ue(dn,`RPC '${e}' stream ${o} received:`,Ee),te.u_(Ee)}})),se(y,Sb.STAT_EVENT,(ne=>{ne.stat===pm.PROXY?ue(dn,`RPC '${e}' stream ${o} detected buffering proxy`):ne.stat===pm.NOPROXY&&ue(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((s=>s===e))}}function nm(){return typeof document<"u"?document:null}function wh(i){return new Cw(i,!0)}class b1{constructor(e,s,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=s,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-r);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _v="PersistentStream";class E1{constructor(e,s,r,o,c,d,y,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b1(e,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():s&&s.code===$.RESOURCE_EXHAUSTED?(_i(s.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(s)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===s&&this.G_(r,o)}),(r=>{e((()=>{const o=new le($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,s){const r=this.W_(this.D_);this.stream=this.j_(e,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(_v,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return s=>{this.Mi.enqueueAndForget((()=>this.D_===e?s():(ue(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wN extends E1{constructor(e,s,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,o,d),this.serializer=c}j_(e,s){return this.connection.T_("Listen",e,s)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const s=Ow(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Oe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Oe.min():d.readTime?Bs(d.readTime):Oe.min()})(e);return this.listener.H_(s,r)}Y_(e){const s={};s.database=wm(this.serializer),s.addTarget=(function(c,d){let y;const v=d.target;if(y=bm(v)?{documents:kw(c,v)}:{query:jw(c,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=u1(c,d.resumeToken);const _=xm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Oe.min())>0){y.readTime=sh(c,d.snapshotVersion.toTimestamp());const _=xm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=Uw(this.serializer,e);r&&(s.labels=r),this.q_(s)}Z_(e){const s={};s.database=wm(this.serializer),s.removeTarget=e,this.q_(s)}}class NN extends E1{constructor(e,s,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,s){return this.connection.T_("Write",e,s)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const s=Vw(e.writeResults,e.commitTime),r=Bs(e.commitTime);return this.listener.na(r,s)}ra(){const e={};e.database=wm(this.serializer),this.q_(e)}ea(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>Mw(this.serializer,r)))};this.q_(s)}}class RN{}class CN extends RN{constructor(e,s,r,o){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,s,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Sm(s,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le($.UNKNOWN,c.toString())}))}Ho(e,s,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Sm(s,r),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new le($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IN{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(s),this.aa=!1):ue("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class DN{constructor(e,s,r,o,c){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ua(this)&&(ue(aa,"Restarting streams for network reachability change."),await(async function(v){const _=je(v);_.Ea.add(4),await Ko(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new IN(r,o)}}async function Nh(i){if(ua(i))for(const e of i.da)await e(!0)}async function Ko(i){for(const e of i.da)await e(!1)}function T1(i,e){const s=je(i);s.Ia.has(e.targetId)||(s.Ia.set(e.targetId,e),rp(s)?ip(s):bl(s).O_()&&sp(s,e))}function np(i,e){const s=je(i),r=bl(s);s.Ia.delete(e),r.O_()&&x1(s,e),s.Ia.size===0&&(r.O_()?r.L_():ua(s)&&s.Ra.set("Unknown"))}function sp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const s=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}bl(i).Y_(e)}function x1(i,e){i.Va.Ue(e),bl(i).Z_(e)}function ip(i){i.Va=new Aw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),bl(i).start(),i.Ra.ua()}function rp(i){return ua(i)&&!bl(i).x_()&&i.Ia.size>0}function ua(i){return je(i).Ea.size===0}function S1(i){i.Va=void 0}async function ON(i){i.Ra.set("Online")}async function MN(i){i.Ia.forEach(((e,s)=>{sp(i,e)}))}async function VN(i,e){S1(i),rp(i)?(i.Ra.ha(e),ip(i)):i.Ra.set("Unknown")}async function kN(i,e,s){if(i.Ra.set("Online"),e instanceof o1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(i,e)}catch(r){ue(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(i,r)}else if(e instanceof Hc?i.Va.Ze(e):e instanceof l1?i.Va.st(e):i.Va.tt(e),!s.isEqual(Oe.min()))try{const r=await v1(i.localStore);s.compareTo(r)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const x=c.Ia.get(_);x&&c.Ia.set(_,x.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const x=c.Ia.get(v);if(!x)return;c.Ia.set(v,x.withResumeToken(hn.EMPTY_BYTE_STRING,x.snapshotVersion)),x1(c,v);const S=new ar(x.target,v,_,x.sequenceNumber);sp(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(i,s)}catch(r){ue(aa,"Failed to raise snapshot:",r),await rh(i,r)}}async function rh(i,e,s){if(!_l(e))throw e;i.Ea.add(1),await Ko(i),i.Ra.set("Offline"),s||(s=()=>v1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(aa,"Retrying IndexedDB access"),await s(),i.Ea.delete(1),await Nh(i)}))}function A1(i,e){return e().catch((s=>rh(i,s,e)))}async function Rh(i){const e=je(i),s=gr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;jN(e);)try{const o=await yN(e.localStore,r);if(o===null){e.Ta.length===0&&s.L_();break}r=o.batchId,LN(e,o)}catch(o){await rh(e,o)}w1(e)&&N1(e)}function jN(i){return ua(i)&&i.Ta.length<10}function LN(i,e){i.Ta.push(e);const s=gr(i);s.O_()&&s.X_&&s.ea(e.mutations)}function w1(i){return ua(i)&&!gr(i).x_()&&i.Ta.length>0}function N1(i){gr(i).start()}async function UN(i){gr(i).ra()}async function PN(i){const e=gr(i);for(const s of i.Ta)e.ea(s.mutations)}async function zN(i,e,s){const r=i.Ta.shift(),o=Xm.from(r,e,s);await A1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Rh(i)}async function qN(i,e){e&&gr(i).X_&&await(async function(r,o){if((function(d){return Tw(d)&&d!==$.ABORTED})(o.code)){const c=r.Ta.shift();gr(r).B_(),await A1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rh(r)}})(i,e),w1(i)&&N1(i)}async function vv(i,e){const s=je(i);s.asyncQueue.verifyOperationInProgress(),ue(aa,"RemoteStore received new credentials");const r=ua(s);s.Ea.add(3),await Ko(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.Ea.delete(3),await Nh(s)}async function BN(i,e){const s=je(i);e?(s.Ea.delete(2),await Nh(s)):e||(s.Ea.add(2),await Ko(s),s.Ra.set("Unknown"))}function bl(i){return i.ma||(i.ma=(function(s,r,o){const c=je(s);return c.sa(),new wN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:ON.bind(null,i),t_:MN.bind(null,i),r_:VN.bind(null,i),H_:kN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),rp(i)?ip(i):i.Ra.set("Unknown")):(await i.ma.stop(),S1(i))}))),i.ma}function gr(i){return i.fa||(i.fa=(function(s,r,o){const c=je(s);return c.sa(),new NN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:UN.bind(null,i),r_:qN.bind(null,i),ta:PN.bind(null,i),na:zN.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Rh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(aa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class ap{constructor(e,s,r,o,c){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,o,c){const d=Date.now()+r,y=new ap(e,s,d,o,c);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(i,e){if(_i("AsyncQueue",`${e}: ${i}`),_l(i))return new le($.UNAVAILABLE,`${e}: ${i}`);throw i}class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(s,r)=>e(s,r)||_e.comparator(s.key,r.key):(s,r)=>_e.comparator(s.key,r.key),this.keyedMap=Ao(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}class bv{constructor(){this.ga=new At(_e.comparator)}track(e){const s=e.doc.key,r=this.ga.get(s);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(s,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(s):e.type===1&&r.type===2?this.ga=this.ga.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(s,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(s,e)}ya(){const e=[];return this.ga.inorderTraversal(((s,r)=>{e.push(r)})),e}}class fl{constructor(e,s,r,o,c,d,y,v,_){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,s,r,o,c){const d=[];return s.forEach((y=>{d.push({type:0,doc:y})})),new fl(e,s,nl.emptySet(s),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==r[o].type||!s[o].doc.isEqual(r[o].doc))return!1;return!0}}class HN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FN{constructor(){this.queries=Ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const o=je(s),c=o.queries;o.queries=Ev(),c.forEach(((d,y)=>{for(const v of y.Sa)v.onError(r)}))})(this,new le($.ABORTED,"Firestore shutting down"))}}function Ev(){return new oa((i=>Kb(i)),Eh)}async function op(i,e){const s=je(i);let r=3;const o=e.query;let c=s.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new HN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await s.onListen(o,!0);break;case 1:c.wa=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(d){const y=lp(d,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(y)}s.queries.set(o,c),c.Sa.push(e),e.va(s.onlineState),c.wa&&e.Fa(c.wa)&&cp(s)}async function up(i,e){const s=je(i),r=e.query;let o=3;const c=s.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function GN(i,e){const s=je(i);let r=!1;for(const o of e){const c=o.query,d=s.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(r=!0);d.wa=o}}r&&cp(s)}function QN(i,e,s){const r=je(i),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(s);r.queries.delete(e)}function cp(i){i.Ca.forEach((e=>{e.next()}))}var Cm,Tv;(Tv=Cm||(Cm={})).Ma="default",Tv.Cache="cache";class hp{constructor(e,s,r){this.query=e,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),s=!0):this.La(e,this.onlineState)&&(this.ka(e),s=!0),this.Na=e,s}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),s=!0),s}La(e,s){if(!e.fromCache||!this.Da())return!0;const r=s!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class R1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class YN{constructor(e,s){this.query=e,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=Xb(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,s){const r=s?s.iu:new bv,o=s?s.tu:this.tu;let c=s?s.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,S)=>{const M=o.get(x),Y=Th(this.query,S)?S:null,te=!!M&&this.mutatedKeys.has(M.key),se=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let ne=!1;M&&Y?M.data.isEqual(Y.data)?te!==se&&(r.track({type:3,doc:Y}),ne=!0):this.su(M,Y)||(r.track({type:2,doc:Y}),ne=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(y=!0)):!M&&Y?(r.track({type:0,doc:Y}),ne=!0):M&&!Y&&(r.track({type:1,doc:M}),ne=!0,(v||_)&&(y=!0)),ne&&(Y?(d=d.add(Y),c=se?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Cs:y,mutatedKeys:c}}su(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,S)=>(function(Y,te){const se=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:ne})}};return se(Y)-se(te)})(x.type,S.type)||this.eu(x.doc,S.doc))),this.ou(r),o=o??!1;const y=s&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new fl(this.query,e.tu,c,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((s=>this.Ya=this.Ya.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ya=this.Ya.delete(s))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const s=[];return e.forEach((r=>{this.Xa.has(r)||s.push(new C1(r))})),this.Xa.forEach((r=>{e.has(r)||s.push(new R1(r))})),s}cu(e){this.Ya=e.Qs,this.Xa=Xe();const s=this.ru(e.documents);return this.applyChanges(s,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class KN{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class XN{constructor(e){this.key=e,this.hu=!1}}class $N{constructor(e,s,r,o,c,d){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((y=>Kb(y)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new At(_e.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZN(i,e,s=!0){const r=k1(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await I1(r,e,s,!0),o}async function JN(i,e){const s=k1(i);await I1(s,e,!0,!1)}async function I1(i,e,s,r){const o=await _N(i.localStore,qs(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,s);let y;return r&&(y=await WN(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&s&&T1(i.remoteStore,o),y}async function WN(i,e,s,r,o){i.pu=(S,M,Y)=>(async function(se,ne,Ee,Me){let Se=ne.view.ru(Ee);Se.Cs&&(Se=await mv(se.localStore,ne.query,!1).then((({documents:I})=>ne.view.ru(I,Se))));const at=Me&&Me.targetChanges.get(ne.targetId),gt=Me&&Me.targetMismatches.get(ne.targetId)!=null,$e=ne.view.applyChanges(Se,se.isPrimaryClient,at,gt);return Sv(se,ne.targetId,$e.au),$e.snapshot})(i,S,M,Y);const c=await mv(i.localStore,e,!0),d=new YN(e,c.Qs),y=d.ru(c.documents),v=Yo.createSynthesizedTargetChangeForCurrentChange(s,r&&i.onlineState!=="Offline",o),_=d.applyChanges(y,i.isPrimaryClient,v);Sv(i,s,_.au);const x=new KN(e,s,d);return i.Tu.set(e,x),i.Iu.has(s)?i.Iu.get(s).push(e):i.Iu.set(s,[e]),_.snapshot}async function eR(i,e,s){const r=je(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!Eh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Nm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),s&&np(r.remoteStore,o.targetId),Im(r,o.targetId)})).catch(yl)):(Im(r,o.targetId),await Nm(r.localStore,o.targetId,!0))}async function tR(i,e){const s=je(i),r=s.Tu.get(e),o=s.Iu.get(r.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),np(s.remoteStore,r.targetId))}async function nR(i,e,s){const r=uR(i);try{const o=await(function(d,y){const v=je(d),_=Tt.now(),x=y.reduce(((Y,te)=>Y.add(te.key)),Xe());let S,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let te=vi(),se=Xe();return v.Ns.getEntries(Y,x).next((ne=>{te=ne,te.forEach(((Ee,Me)=>{Me.isValidDocument()||(se=se.add(Ee))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,te))).next((ne=>{S=ne;const Ee=[];for(const Me of y){const Se=yw(Me,S.get(Me.key).overlayedDocument);Se!=null&&Ee.push(new vr(Me.key,Se,zb(Se.value.mapValue),ns.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,Ee,y)})).next((ne=>{M=ne;const Ee=ne.applyToLocalDocumentSet(S,se);return v.documentOverlayCache.saveOverlays(Y,ne.batchId,Ee)}))})).then((()=>({batchId:M.batchId,changes:Zb(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new At(Ke)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,s),await Xo(r,o.changes),await Rh(r.remoteStore)}catch(o){const c=lp(o,"Failed to persist write");s.reject(c)}}async function D1(i,e){const s=je(i);try{const r=await pN(s.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=s.Au.get(c);d&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?lt(d.hu,14607):o.removedDocuments.size>0&&(lt(d.hu,42227),d.hu=!1))})),await Xo(s,r,e)}catch(r){await yl(r)}}function xv(i,e,s){const r=je(i);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const o=[];r.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=je(d);v.onlineState=y;let _=!1;v.queries.forEach(((x,S)=>{for(const M of S.Sa)M.va(y)&&(_=!0)})),_&&cp(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sR(i,e,s){const r=je(i);r.sharedClientState.updateQueryState(e,"rejected",s);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new At(_e.comparator);d=d.insert(c,pn.newNoDocument(c,Oe.min()));const y=Xe().add(c),v=new Ah(Oe.min(),new Map,new At(Ke),d,y);await D1(r,v),r.du=r.du.remove(c),r.Au.delete(e),dp(r)}else await Nm(r.localStore,e,!1).then((()=>Im(r,e,s))).catch(yl)}async function iR(i,e){const s=je(i),r=e.batch.batchId;try{const o=await mN(s.localStore,e);M1(s,r,null),O1(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Xo(s,o)}catch(o){await yl(o)}}async function rR(i,e,s){const r=je(i);try{const o=await(function(d,y){const v=je(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let x;return v.mutationQueue.lookupMutationBatch(_,y).next((S=>(lt(S!==null,37113),x=S.keys(),v.mutationQueue.removeMutationBatch(_,S)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,x,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,x))).next((()=>v.localDocuments.getDocuments(_,x)))}))})(r.localStore,e);M1(r,e,s),O1(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Xo(r,o)}catch(o){await yl(o)}}function O1(i,e){(i.mu.get(e)||[]).forEach((s=>{s.resolve()})),i.mu.delete(e)}function M1(i,e,s){const r=je(i);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(s?c.reject(s):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Im(i,e,s=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),s&&i.Pu.yu(r,s);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||V1(i,r)}))}function V1(i,e){i.Eu.delete(e.path.canonicalString());const s=i.du.get(e);s!==null&&(np(i.remoteStore,s),i.du=i.du.remove(e),i.Au.delete(s),dp(i))}function Sv(i,e,s){for(const r of s)r instanceof R1?(i.Ru.addReference(r.key,e),aR(i,r)):r instanceof C1?(ue(fp,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||V1(i,r.key)):Re(19791,{wu:r})}function aR(i,e){const s=e.key,r=s.path.canonicalString();i.du.get(s)||i.Eu.has(r)||(ue(fp,"New document in limbo: "+s),i.Eu.add(r),dp(i))}function dp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const s=new _e(vt.fromString(e)),r=i.fu.next();i.Au.set(r,new XN(s)),i.du=i.du.insert(s,r),T1(i.remoteStore,new ar(qs(bh(s.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function Xo(i,e,s){const r=je(i),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,s).then((_=>{if((_||s)&&r.isPrimaryClient){const x=_?!_.fromCache:s?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(_){o.push(_);const x=ep.As(v.targetId,_);c.push(x)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const x=je(v);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(_,(M=>J.forEach(M.Es,(Y=>x.persistence.referenceDelegate.addReference(S,M.targetId,Y))).next((()=>J.forEach(M.ds,(Y=>x.persistence.referenceDelegate.removeReference(S,M.targetId,Y)))))))))}catch(S){if(!_l(S))throw S;ue(tp,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const Y=x.Ms.get(M),te=Y.snapshotVersion,se=Y.withLastLimboFreeSnapshotVersion(te);x.Ms=x.Ms.insert(M,se)}}})(r.localStore,c))}async function lR(i,e){const s=je(i);if(!s.currentUser.isEqual(e)){ue(fp,"User change. New user:",e.toKey());const r=await _1(s.localStore,e);s.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new le($.CANCELLED,d))}))})),c.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xo(s,r.Ls)}}function oR(i,e){const s=je(i),r=s.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const c=s.Iu.get(e);if(!c)return o;for(const d of c){const y=s.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function k1(i){const e=je(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=D1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sR.bind(null,e),e.Pu.H_=GN.bind(null,e.eventManager),e.Pu.yu=QN.bind(null,e.eventManager),e}function uR(i){const e=je(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rR.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,s){return null}Mu(e,s){return null}vu(e){return dN(this.persistence,new cN,e.initialUser,this.serializer)}Cu(e){return new y1(Wm.mi,this.serializer)}Du(e){return new bN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class cR extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,s){lt(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Xw(r,e.asyncQueue,s)}Cu(e){const s=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new y1((r=>ih.mi(r,s)),this.serializer)}}class Dm{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lR.bind(null,this.syncEngine),await BN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FN})()}createDatastore(e){const s=wh(e.databaseInfo.databaseId),r=(function(c){return new AN(c)})(e.databaseInfo);return(function(c,d,y,v){return new CN(c,d,y,v)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,o,c,d,y){return new DN(r,o,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(s=>xv(this.syncEngine,s,0)),(function(){return yv.v()?new yv:new EN})())}createSyncEngine(e,s){return(function(o,c,d,y,v,_,x){const S=new $N(o,c,d,y,v,_);return x&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=je(s);ue(aa,"RemoteStore shutting down."),r.Ea.add(5),await Ko(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class mp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}const yr="FirestoreClient";class hR{constructor(e,s,r,o,c){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ue(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ue(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=lp(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(yr,"Initializing OfflineComponentProvider");const s=i.configuration;await e.initialize(s);let r=s.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await _1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Av(i,e){i.asyncQueue.verifyOperationInProgress();const s=await fR(i);ue(yr,"Initializing OnlineComponentProvider"),await e.initialize(s,i.configuration),i.setCredentialChangeListener((r=>vv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>vv(e.remoteStore,o))),i._onlineComponents=e}async function fR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(yr,"Using user provided OfflineComponentProvider");try{await sm(i,i._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;ll("Error using user provided cache. Falling back to memory cache: "+s),await sm(i,new ah)}}else ue(yr,"Using default OfflineComponentProvider"),await sm(i,new cR(void 0));return i._offlineComponents}async function j1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(yr,"Using user provided OnlineComponentProvider"),await Av(i,i._uninitializedComponentsProvider._online)):(ue(yr,"Using default OnlineComponentProvider"),await Av(i,new Dm))),i._onlineComponents}function dR(i){return j1(i).then((e=>e.syncEngine))}async function lh(i){const e=await j1(i),s=e.eventManager;return s.onListen=ZN.bind(null,e.syncEngine),s.onUnlisten=eR.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=JN.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=tR.bind(null,e.syncEngine),s}function mR(i,e,s={}){const r=new gi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const x=new mp({next:M=>{x.Nu(),d.enqueueAndForget((()=>up(c,S)));const Y=M.docs.has(y);!Y&&M.fromCache?_.reject(new le($.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&M.fromCache&&v&&v.source==="server"?_.reject(new le($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new hp(bh(y.path),x,{includeMetadataChanges:!0,qa:!0});return op(c,S)})(await lh(i),i.asyncQueue,e,s,r))),r.promise}function pR(i,e,s={}){const r=new gi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,v,_){const x=new mp({next:M=>{x.Nu(),d.enqueueAndForget((()=>up(c,S))),M.fromCache&&v.source==="server"?_.reject(new le($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new hp(y,x,{includeMetadataChanges:!0,qa:!0});return op(c,S)})(await lh(i),i.asyncQueue,e,s,r))),r.promise}function L1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const wv=new Map;const U1="firestore.googleapis.com",Nv=!0;class Rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U1,this.ssl=Nv}else this.host=e.host,this.ssl=e.ssl??Nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Yw)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,s,r,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new E2;switch(r.type){case"firstParty":return new A2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=wv.get(s);r&&(ue("ComponentProvider","Removing Datastore"),wv.delete(s),r.terminate())})(this),Promise.resolve()}}function gR(i,e,s,r={}){i=In(i,Ch);const o=ml(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},y=`${e}:${s}`;o&&(db(`https://${y}`),mb("Firestore",!0)),c.host!==U1&&c.host!==y&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:o,emulatorOptions:r};if(!sa(v,d)&&(i._setSettings(v),r.mockUserToken)){let _,x;if(typeof r.mockUserToken=="string")_=r.mockUserToken,x=mn.MOCK_USER;else{_=QS(r.mockUserToken,i._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new mn(S)}i._authCredentials=new T2(new Rb(_,x))}}class br{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new br(this.firestore,e,this._query)}}class Ct{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,r){if(Go(s,Ct._jsonSchema))return new Ct(e,r||null,new _e(vt.fromString(s.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Yt("string",Ct._jsonSchemaVersion),referencePath:Yt("string")};class hr extends br{constructor(e,s,r){super(e,s,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new _e(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function tr(i,e,...s){if(i=en(i),Cb("collection","path",e),i instanceof Ch){const r=vt.fromString(e,...s);return q_(r),new hr(i,null,r)}{if(!(i instanceof Ct||i instanceof hr))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(vt.fromString(e,...s));return q_(r),new hr(i.firestore,null,r)}}function Zr(i,e,...s){if(i=en(i),arguments.length===1&&(e=qm.newId()),Cb("doc","path",e),i instanceof Ch){const r=vt.fromString(e,...s);return z_(r),new Ct(i,null,new _e(r))}{if(!(i instanceof Ct||i instanceof hr))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(vt.fromString(e,...s));return z_(r),new Ct(i.firestore,i instanceof hr?i.converter:null,new _e(r))}}const Cv="AsyncQueue";class Iv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b1(this,"async_queue_retry"),this._c=()=>{const r=nm();r&&ue(Cv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const s=nm();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=nm();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;ue(Cv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",Dv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(e,s,r){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=ap.createAndSchedule(this,e,s,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:Dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function Dv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function Ov(i){return(function(s,r){if(typeof s!="object"||s===null)return!1;const o=s;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class bi extends Ch{constructor(e,s,r,o){super(e,s,r,o),this.type="firestore",this._queue=new Iv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iv(e),this._firestoreClient=void 0,await e}}}function yR(i,e){const s=typeof i=="object"?i:_b(),r=typeof i=="string"?i:Jc,o=Pm(s,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=FS("firestore");c&&gR(o,...c)}return o}function Ih(i){if(i._terminated)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||_R(i),i._firestoreClient}function _R(i){const e=i._freezeSettings(),s=(function(o,c,d,y){return new B2(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,L1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new hR(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ts(hn.fromBase64String(e))}catch(s){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new ts(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ts._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Go(e,ts._jsonSchema))return ts.fromBase64String(e.bytes)}}ts._jsonSchemaVersion="firestore/bytes/1.0",ts._jsonSchema={type:Yt("string",ts._jsonSchemaVersion),bytes:Yt("string")};class Dh{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pp{constructor(e){this._methodName=e}}class Hs{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hs._jsonSchemaVersion}}static fromJSON(e){if(Go(e,Hs._jsonSchema))return new Hs(e.latitude,e.longitude)}}Hs._jsonSchemaVersion="firestore/geoPoint/1.0",Hs._jsonSchema={type:Yt("string",Hs._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class Fs{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Go(e,Fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new Fs(e.vectorValues);throw new le($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fs._jsonSchemaVersion="firestore/vectorValue/1.0",Fs._jsonSchema={type:Yt("string",Fs._jsonSchemaVersion),vectorValues:Yt("object")};const vR=/^__.*__$/;class bR{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,s,this.fieldTransforms):new Qo(e,this.data,s,this.fieldTransforms)}}class P1{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new vr(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function z1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class gp{constructor(e,s,r,o,c,d){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.gc(e),r}yc(e){const s=this.path?.child(e),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(z1(this.Ac)&&vR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ER{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||wh(e)}Cc(e,s,r,o=!1){return new gp({Ac:e,methodName:s,Dc:r,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(i){const e=i._freezeSettings(),s=wh(i._databaseId);return new ER(i._databaseId,!!e.ignoreUndefinedProperties,s)}function q1(i,e,s,r,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,s,o);yp("Data must be an object, but it was:",d,r);const y=B1(r,d);let v,_;if(c.merge)v=new qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const S of c.mergeFields){const M=Om(e,S,s);if(!d.contains(M))throw new le($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);F1(x,M)||x.push(M)}v=new qn(x),_=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,_=d.fieldTransforms;return new bR(new Cn(y),v,_)}class Mh extends pp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function TR(i,e,s,r){const o=i.Cc(1,e,s);yp("Data must be an object, but it was:",o,r);const c=[],d=Cn.empty();_r(r,((v,_)=>{const x=_p(e,v,s);_=en(_);const S=o.yc(x);if(_ instanceof Mh)c.push(x);else{const M=$o(_,S);M!=null&&(c.push(x),d.set(x,M))}}));const y=new qn(c);return new P1(d,y,o.fieldTransforms)}function xR(i,e,s,r,o,c){const d=i.Cc(1,e,s),y=[Om(e,r,s)],v=[o];if(c.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Om(e,c[M])),v.push(c[M+1]);const _=[],x=Cn.empty();for(let M=y.length-1;M>=0;--M)if(!F1(_,y[M])){const Y=y[M];let te=v[M];te=en(te);const se=d.yc(Y);if(te instanceof Mh)_.push(Y);else{const ne=$o(te,se);ne!=null&&(_.push(Y),x.set(Y,ne))}}const S=new qn(_);return new P1(x,S,d.fieldTransforms)}function SR(i,e,s,r=!1){return $o(s,i.Cc(r?4:3,e))}function $o(i,e){if(H1(i=en(i)))return yp("Unsupported field value:",e,i),B1(i,e);if(i instanceof pp)return(function(r,o){if(!z1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const y of r){let v=$o(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hw(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=Tt.fromDate(r);return{timestampValue:sh(o.serializer,c)}}if(r instanceof Tt){const c=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(o.serializer,c)}}if(r instanceof Hs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ts)return{bytesValue:u1(o.serializer,r._byteString)};if(r instanceof Ct){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fs)return(function(d,y){return{mapValue:{fields:{[Ub]:{stringValue:Pb},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Ym(y.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${gh(r)}`)})(i,e)}function B1(i,e){const s={};return Ob(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(i,((r,o)=>{const c=$o(o,e.mc(r));c!=null&&(s[r]=c)})),{mapValue:{fields:s}}}function H1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Tt||i instanceof Hs||i instanceof ts||i instanceof Ct||i instanceof pp||i instanceof Fs)}function yp(i,e,s){if(!H1(s)||!Ib(s)){const r=gh(s);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Om(i,e,s){if((e=en(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return _p(i,e);throw oh("Field path arguments must be of type string or ",i,!1,void 0,s)}const AR=new RegExp("[~\\*/\\[\\]]");function _p(i,e,s){if(e.search(AR)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,s);try{return new Dh(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,s)}}function oh(i,e,s,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;s&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new le($.INVALID_ARGUMENT,y+i+v)}function F1(i,e){return i.some((s=>s.isEqual(e)))}class G1{constructor(e,s,r,o,c){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Vh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class wR extends G1{data(){return super.data()}}function Vh(i,e){return typeof e=="string"?_p(i,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function Q1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vp{}class Y1 extends vp{}function Za(i,e,...s){let r=[];e instanceof vp&&r.push(e),r=r.concat(s),(function(c){const d=c.filter((v=>v instanceof bp)).length,y=c.filter((v=>v instanceof kh)).length;if(d>1||d>0&&y>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class kh extends Y1{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new kh(e,s,r)}_apply(e){const s=this._parse(e);return K1(e._query,s),new br(e.firestore,e.converter,Em(e._query,s))}_parse(e){const s=Oh(e.firestore);return(function(c,d,y,v,_,x,S){let M;if(_.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){kv(S,x);const te=[];for(const se of S)te.push(Vv(v,c,se));M={arrayValue:{values:te}}}else M=Vv(v,c,S)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||kv(S,x),M=SR(y,d,S,x==="in"||x==="not-in");return Qt.create(_,x,M)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function jc(i,e,s){const r=e,o=Vh("where",i);return kh._create(o,r,s)}class bp extends vp{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new bp(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:_s.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(o,c){let d=o;const y=c.getFlattenedFilters();for(const v of y)K1(d,v),d=Em(d,v)})(e._query,s),new br(e.firestore,e.converter,Em(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ep extends Y1{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new Ep(e,s)}_apply(e){const s=(function(o,c,d){if(o.startAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Po(c,d)})(e._query,this._field,this._direction);return new br(e.firestore,e.converter,(function(o,c){const d=o.explicitOrderBy.concat([c]);return new vl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,s))}}function Mv(i,e="asc"){const s=e,r=Vh("orderBy",i);return Ep._create(r,s)}function Vv(i,e,s){if(typeof(s=en(s))=="string"){if(s==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yb(e)&&s.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(vt.fromString(s));if(!_e.isDocumentKey(r))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return X_(i,new _e(r))}if(s instanceof Ct)return X_(i,s._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(s)}.`)}function kv(i,e){if(!Array.isArray(i)||i.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function K1(i,e){const s=(function(o,c){for(const d of o)for(const y of d.getFlattenedFilters())if(c.indexOf(y.op)>=0)return y.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class NR{convertValue(e,s="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return _r(e,((o,c)=>{r[o]=this.convertValue(c,s)})),r}convertVectorValue(e){const s=e.fields?.[Wc].arrayValue?.values?.map((r=>kt(r.doubleValue)));return new Fs(s)}convertGeoPoint(e){return new Hs(kt(e.latitude),kt(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=vh(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const s=dr(e);return new Tt(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=vt.fromString(e);lt(p1(r),9688,{name:e});const o=new Lo(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return o.isEqual(s)||_i(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),c}}function X1(i,e,s){let r;return r=i?i.toFirestore(e):e,r}class No{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends G1{constructor(e,s,r,o,c,d){super(e,s,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(Vh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=ea._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Yt("string",ea._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Fc extends ea{data(e={}){return super.data(e)}}class ta{constructor(e,s,r,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Fc(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Fc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new No(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Fc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new No(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,x=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),x=d.indexOf(y.doc.key)),{type:RR(y.type),doc:v,oldIndex:_,newIndex:x}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(s.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}function CR(i){i=In(i,Ct);const e=In(i.firestore,bi);return mR(Ih(e),i._key).then((s=>$1(e,i,s)))}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Yt("string",ta._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Tp extends NR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ts(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,s)}}function jv(i){i=In(i,br);const e=In(i.firestore,bi),s=Ih(e),r=new Tp(e);return Q1(i._query),pR(s,i._query).then((o=>new ta(e,r,i,o)))}function Lv(i,e,s){i=In(i,Ct);const r=In(i.firestore,bi),o=X1(i.converter,e);return jh(r,[q1(Oh(r),"setDoc",i._key,o,i.converter!==null,s).toMutation(i._key,ns.none())])}function Uv(i,e,s,...r){i=In(i,Ct);const o=In(i.firestore,bi),c=Oh(o);let d;return d=typeof(e=en(e))=="string"||e instanceof Dh?xR(c,"updateDoc",i._key,e,s,r):TR(c,"updateDoc",i._key,e),jh(o,[d.toMutation(i._key,ns.exists(!0))])}function Pv(i){return jh(In(i.firestore,bi),[new Km(i._key,ns.none())])}function zv(i,e){const s=In(i.firestore,bi),r=Zr(i),o=X1(i.converter,e);return jh(s,[q1(Oh(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,ns.exists(!1))]).then((()=>r))}function Lc(i,...e){i=en(i);let s={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ov(e[r])||(s=e[r++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ov(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let c,d,y;if(i instanceof Ct)d=In(i.firestore,bi),y=bh(i._key.path),c={next:v=>{e[r]&&e[r]($1(d,i,v))},error:e[r+1],complete:e[r+2]};else{const v=In(i,br);d=In(v.firestore,bi),y=v._query;const _=new Tp(d);c={next:x=>{e[r]&&e[r](new ta(d,_,v,x))},error:e[r+1],complete:e[r+2]},Q1(i._query)}return(function(_,x,S,M){const Y=new mp(M),te=new hp(x,Y,S);return _.asyncQueue.enqueueAndForget((async()=>op(await lh(_),te))),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget((async()=>up(await lh(_),te)))}})(Ih(d),y,o,c)}function jh(i,e){return(function(r,o){const c=new gi;return r.asyncQueue.enqueueAndForget((async()=>nR(await dR(r),o,c))),c.promise})(Ih(i),e)}function $1(i,e,s){const r=s.docs.get(e._key),o=new Tp(i);return new ea(i,o,e._key,r,new No(s.hasPendingWrites,s.fromCache),e.converter)}(function(e,s=!0){(function(o){gl=o})(pl),al(new ia("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),y=new bi(new x2(r.getProvider("auth-internal")),new w2(d,r.getProvider("app-check-internal")),(function(_,x){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(_.options.projectId,x)})(d,o),d);return c={useFetchStreams:s,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),ur(j_,L_,e),ur(j_,L_,"esm2020")})();function Z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IR=Z1,J1=new Ho("auth","Firebase",Z1());const uh=new Lm("@firebase/auth");function DR(i,...e){uh.logLevel<=Ye.WARN&&uh.warn(`Auth (${pl}): ${i}`,...e)}function Gc(i,...e){uh.logLevel<=Ye.ERROR&&uh.error(`Auth (${pl}): ${i}`,...e)}function Ys(i,...e){throw Sp(i,...e)}function ys(i,...e){return Sp(i,...e)}function xp(i,e,s){const r={...IR(),[e]:s};return new Ho("auth","Firebase",r).create(e,{appName:i.name})}function na(i){return xp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OR(i,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ys(i,"argument-error"),xp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sp(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return J1.create(i,...e)}function Ie(i,e,...s){if(!i)throw Sp(e,...s)}function mi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Gc(e),new Error(e)}function Ei(i,e){i||mi(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function MR(){return qv()==="http:"||qv()==="https:"}function qv(){return typeof self<"u"&&self.location?.protocol||null}function VR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MR()||JS()||"connection"in navigator)?navigator.onLine:!0}function kR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Zo{constructor(e,s){this.shortDelay=e,this.longDelay=s,Ei(s>e,"Short delay should be less than long delay!"),this.isMobile=XS()||WS()}get(){return VR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(i,e){Ei(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}class W1{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const LR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UR=new Zo(3e4,6e4);function wp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function El(i,e,s,r,o={}){return eE(i,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const y=Fo({key:i.config.apiKey,...d}).slice(1),v=await i._getAdditionalHeaders();v["Content-Type"]="application/json",i.languageCode&&(v["X-Firebase-Locale"]=i.languageCode);const _={method:e,headers:v,...c};return ZS()||(_.referrerPolicy="no-referrer"),i.emulatorConfig&&ml(i.emulatorConfig.host)&&(_.credentials="include"),W1.fetch()(await tE(i,i.config.apiHost,s,y),_)})}async function eE(i,e,s){i._canInitEmulator=!1;const r={...jR,...e};try{const o=new zR(i),c=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[v,_]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(i,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Uc(i,"email-already-in-use",d);if(v==="USER_DISABLED")throw Uc(i,"user-disabled",d);const x=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw xp(i,x,_);Ys(i,x)}}catch(o){if(o instanceof Ti)throw o;Ys(i,"network-request-failed",{message:String(o)})}}async function PR(i,e,s,r,o={}){const c=await El(i,e,s,r,o);return"mfaPendingCredential"in c&&Ys(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function tE(i,e,s,r){const o=`${e}${s}?${r}`,c=i,d=c.config.emulator?Ap(i.config,o):`${i.config.apiScheme}://${o}`;return LR.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class zR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(ys(this.auth,"network-request-failed")),UR.get())})}}function Uc(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=ys(i,e,r);return o.customData._tokenResponse=s,o}async function qR(i,e){return El(i,"POST","/v1/accounts:delete",e)}async function ch(i,e){return El(i,"POST","/v1/accounts:lookup",e)}function Mo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BR(i,e=!1){const s=en(i),r=await s.getIdToken(e),o=Np(r);Ie(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Mo(im(o.auth_time)),issuedAtTime:Mo(im(o.iat)),expirationTime:Mo(im(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function im(i){return Number(i)*1e3}function Np(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=ub(s);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bv(i){const e=Np(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bo(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Ti&&HR(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function HR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class FR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(i){const e=i.auth,s=await i.getIdToken(),r=await Bo(i,ch(e,{idToken:s}));Ie(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?nE(o.providerUserInfo):[],d=QR(i.providerData,c),y=i.isAnonymous,v=!(i.email&&o.passwordHash)&&!d?.length,_=y?v:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,x)}async function GR(i){const e=en(i);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QR(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function nE(i){return i.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}async function YR(i,e){const s=await eE(i,{},async()=>{const r=Fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await tE(i,o,"/v1/token",`key=${c}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:r};return i.emulatorConfig&&ml(i.emulatorConfig.host)&&(v.credentials="include"),W1.fetch()(d,v)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function KR(i,e){return El(i,"POST","/v2/accounts:revokeToken",wp(i,e))}class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const s=Bv(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:c}=await YR(e,s);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:c}=s,d=new sl;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ie(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return mi("not implemented")}}function nr(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class gs{constructor({uid:e,auth:s,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new FR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await Bo(this,this.stsTokenManager.getToken(this.auth,e));return Ie(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return BR(this,e)}reload(){return GR(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new gs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ps(this.auth.app))return Promise.reject(na(this.auth));const e=await this.getIdToken();return await Bo(this,qR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const r=s.displayName??void 0,o=s.email??void 0,c=s.phoneNumber??void 0,d=s.photoURL??void 0,y=s.tenantId??void 0,v=s._redirectEventId??void 0,_=s.createdAt??void 0,x=s.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:Y,providerData:te,stsTokenManager:se}=s;Ie(S&&se,e,"internal-error");const ne=sl.fromJSON(this.name,se);Ie(typeof S=="string",e,"internal-error"),nr(r,e.name),nr(o,e.name),Ie(typeof M=="boolean",e,"internal-error"),Ie(typeof Y=="boolean",e,"internal-error"),nr(c,e.name),nr(d,e.name),nr(y,e.name),nr(v,e.name),nr(_,e.name),nr(x,e.name);const Ee=new gs({uid:S,auth:e,email:o,emailVerified:M,displayName:r,isAnonymous:Y,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ne,createdAt:_,lastLoginAt:x});return te&&Array.isArray(te)&&(Ee.providerData=te.map(Me=>({...Me}))),v&&(Ee._redirectEventId=v),Ee}static async _fromIdTokenResponse(e,s,r=!1){const o=new sl;o.updateFromServerResponse(s);const c=new gs({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await hh(c),c}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?nE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new sl;y.updateFromIdToken(r);const v=new gs({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const Hv=new Map;function pi(i){Ei(i instanceof Function,"Expected a class definition");let e=Hv.get(i);return e?(Ei(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Hv.set(i,e),e)}class sE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}sE.type="NONE";const Fv=sE;function Qc(i,e,s){return`firebase:${i}:${e}:${s}`}class il{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qc("persistence",o.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await ch(this.auth,{idToken:e}).catch(()=>{});return s?gs._fromGetAccountInfoResponse(this.auth,s,e):null}return gs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new il(pi(Fv),e,r);const o=(await Promise.all(s.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||pi(Fv);const d=Qc(r,e.config.apiKey,e.name);let y=null;for(const _ of s)try{const x=await _._get(d);if(x){let S;if(typeof x=="string"){const M=await ch(e,{idToken:x}).catch(()=>{});if(!M)break;S=await gs._fromGetAccountInfoResponse(e,M,x)}else S=gs._fromJSON(e,x);_!==c&&(y=S),c=_;break}}catch{}const v=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new il(c,e,r):(c=v[0],y&&await c._set(d,y.toJSON()),await Promise.all(s.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new il(c,e,r))}}function Gv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uE(e))return"Blackberry";if(cE(e))return"Webos";if(rE(e))return"Safari";if((e.includes("chrome/")||aE(e))&&!e.includes("edge/"))return"Chrome";if(oE(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if(r?.length===2)return r[1]}return"Other"}function iE(i=gn()){return/firefox\//i.test(i)}function rE(i=gn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aE(i=gn()){return/crios\//i.test(i)}function lE(i=gn()){return/iemobile/i.test(i)}function oE(i=gn()){return/android/i.test(i)}function uE(i=gn()){return/blackberry/i.test(i)}function cE(i=gn()){return/webos/i.test(i)}function Rp(i=gn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function XR(i=gn()){return Rp(i)&&!!window.navigator?.standalone}function $R(){return eA()&&document.documentMode===10}function hE(i=gn()){return Rp(i)||oE(i)||cE(i)||uE(i)||/windows phone/i.test(i)||lE(i)}function fE(i,e=[]){let s;switch(i){case"Browser":s=Gv(gn());break;case"Worker":s=`${Gv(gn())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${pl}/${r}`}class ZR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=c=>new Promise((d,y)=>{try{const v=e(c);d(v)}catch(v){y(v)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function JR(i,e={}){return El(i,"GET","/v2/passwordPolicy",wp(i,e))}const WR=6;class eC{constructor(e){const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??WR,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class tC{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new ZR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=pi(s)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await ch(this,{idToken:e}),r=await gs._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ps(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ps(this.app))return Promise.reject(na(this));const s=e?en(e):null;return s&&Ie(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ps(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ps(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JR(this),s=new eC(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await KR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&pi(e)||this._popupRedirectResolver;Ie(s,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[pi(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof s=="function"){const v=e.addObserver(s,r,o);return()=>{d=!0,v()}}else{const v=e.addObserver(s);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();s&&(e["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&DR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lh(i){return en(i)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=oA(s=>this.observer=s)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nC(i){Cp=i}function sC(i){return Cp.loadJS(i)}function iC(){return Cp.gapiScript}function rC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function aC(i,e){const s=Pm(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),c=s.getOptions();if(sa(c,e??{}))return o;Ys(o,"already-initialized")}return s.initialize({options:e})}function lC(i,e){const s=e?.persistence||[],r=(Array.isArray(s)?s:[s]).map(pi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function oC(i,e,s){const r=Lh(i);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=dE(e),{host:d,port:y}=uC(e),v=y===null?"":`:${y}`,_={url:`${c}//${d}${v}/`},x=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(sa(_,r.config.emulator)&&sa(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,ml(d)?(db(`${c}//${d}${v}`),mb("Auth",!0)):cC()}function dE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function uC(i){const e=dE(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Yv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Yv(d)}}}function Yv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function cC(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class mE{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,s){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function rl(i,e){return PR(i,"POST","/v1/accounts:signInWithIdp",wp(i,e))}const hC="http://localhost";class la extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):Ys("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=s;if(!r||!o)return null;const d=new la(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const s=this.buildRequest();return rl(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,rl(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,rl(e,s)}buildRequest(){const e={requestUri:hC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Fo(s)}return e}}class Ip{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Jo extends Ip{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends Jo{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class di extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return la._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return di.credential(s,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";class ir extends Jo{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class rr extends Jo{constructor(){super("twitter.com")}static credential(e,s){return la._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return rr.credential(s,r)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const c=await gs._fromIdTokenResponse(e,r,o),d=Kv(r);return new dl({user:c,providerId:d,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=Kv(r);return new dl({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function Kv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class fh extends Ti{constructor(e,s,r,o){super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new fh(e,s,r,o)}}function pE(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(i,c,e,r):c})}async function fC(i,e,s=!1){const r=await Bo(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return dl._forOperation(i,"link",r)}async function dC(i,e,s=!1){const{auth:r}=i;if(ps(r.app))return Promise.reject(na(r));const o="reauthenticate";try{const c=await Bo(i,pE(r,o,e,i),s);Ie(c.idToken,r,"internal-error");const d=Np(c.idToken);Ie(d,r,"internal-error");const{sub:y}=d;return Ie(i.uid===y,r,"user-mismatch"),dl._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ys(r,"user-mismatch"),c}}async function mC(i,e,s=!1){if(ps(i.app))return Promise.reject(na(i));const r="signIn",o=await pE(i,r,e),c=await dl._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(c.user),c}function pC(i,e,s,r){return en(i).onIdTokenChanged(e,s,r)}function gC(i,e,s){return en(i).beforeAuthStateChanged(e,s)}function yC(i,e,s,r){return en(i).onAuthStateChanged(e,s,r)}function _C(i){return en(i).signOut()}const dh="__sak";class gE{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vC=1e3,bC=10;class yE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!s&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);$R()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bC):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}yE.type="LOCAL";const EC=yE;class _E extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}_E.type="SESSION";const vE=_E;function TC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new Uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:c}=s.data,d=this.handlersMap[o];if(!d?.size)return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const y=Array.from(d).map(async _=>_(s.origin,c)),v=await TC(y);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];function Dp(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}class xC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,v)=>{const _=Dp("",20);o.port1.start();const x=setTimeout(()=>{v(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(x),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:s},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gs(){return window}function SC(i){Gs().location.href=i}function bE(){return typeof Gs().WorkerGlobalScope<"u"&&typeof Gs().importScripts=="function"}async function AC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wC(){return navigator?.serviceWorker?.controller||null}function NC(){return bE()?self:null}const EE="firebaseLocalStorageDb",RC=1,mh="firebaseLocalStorage",TE="fbase_key";class Wo{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Ph(i,e){return i.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function CC(){const i=indexedDB.deleteDatabase(EE);return new Wo(i).toPromise()}function km(){const i=indexedDB.open(EE,RC);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(mh,{keyPath:TE})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await CC(),e(await km()))})})}async function Xv(i,e,s){const r=Ph(i,!0).put({[TE]:e,value:s});return new Wo(r).toPromise()}async function IC(i,e){const s=Ph(i,!1).get(e),r=await new Wo(s).toPromise();return r===void 0?null:r.value}function $v(i,e){const s=Ph(i,!0).delete(e);return new Wo(s).toPromise()}const DC=800,OC=3;class xE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>OC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(NC()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AC(),!this.activeServiceWorker)return;this.sender=new xC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await Xv(e,dh,"1"),await $v(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xv(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>IC(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>$v(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ph(o,!1).getAll();return new Wo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xE.type="LOCAL";const MC=xE;new Zo(3e4,6e4);function SE(i,e){return e?pi(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Op extends mE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,s){return rl(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function VC(i){return mC(i.auth,new Op(i),i.bypassAuthState)}function kC(i){const{auth:e,user:s}=i;return Ie(s,e,"internal-error"),dC(s,new Op(i),i.bypassAuthState)}async function jC(i){const{auth:e,user:s}=i;return Ie(s,e,"internal-error"),fC(s,new Op(i),i.bypassAuthState)}class AE{constructor(e,s,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:s,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return kC;default:Ys(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LC=new Zo(2e3,1e4);async function UC(i,e,s){if(ps(i.app))return Promise.reject(ys(i,"operation-not-supported-in-this-environment"));const r=Lh(i);OR(i,e,Ip);const o=SE(r,s);return new Wr(r,"signInViaPopup",e,o).executeNotNull()}class Wr extends AE{constructor(e,s,r,o,c){super(e,s,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LC.get())};e()}}Wr.currentPopupAction=null;const PC="pendingRedirect",Yc=new Map;class zC extends AE{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const r=await qC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(i,e){const s=FC(e),r=HC(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function BC(i,e){Yc.set(i._key(),e)}function HC(i){return pi(i._redirectPersistence)}function FC(i){return Qc(PC,i.config.apiKey,i.name)}async function GC(i,e,s=!1){if(ps(i.app))return Promise.reject(na(i));const r=Lh(i),o=SE(r,e),d=await new zC(r,o,s).execute();return d&&!s&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const QC=600*1e3;class YC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KC(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){if(e.error&&!wE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";s.onError(ys(this.auth,r))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(e))}saveEventToCache(e){this.cachedEventUids.add(Zv(e)),this.lastProcessedEventTime=Date.now()}}function Zv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function wE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function KC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(i);default:return!1}}async function XC(i,e={}){return El(i,"GET","/v1/projects",e)}const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZC=/^https?/;async function JC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await XC(i);for(const s of e)try{if(WC(s))return}catch{}Ys(i,"unauthorized-domain")}function WC(i){const e=Mm(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&d.hostname===r}if(!ZC.test(s))return!1;if($C.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const eI=new Zo(3e4,6e4);function Jv(){const i=Gs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function tI(i){return new Promise((e,s)=>{function r(){Jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jv(),s(ys(i,"network-request-failed"))},timeout:eI.get()})}if(Gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gs().gapi?.load)r();else{const o=rC("iframefcb");return Gs()[o]=()=>{gapi.load?r():s(ys(i,"network-request-failed"))},sC(`${iC()}?onload=${o}`).catch(c=>s(c))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function nI(i){return Kc=Kc||tI(i),Kc}const sI=new Zo(5e3,15e3),iI="__/auth/iframe",rI="emulator/auth/iframe",aI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?Ap(e,rI):`https://${i.config.authDomain}/${iI}`,r={apiKey:e.apiKey,appName:i.name,v:pl},o=lI.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${s}?${Fo(r).slice(1)}`}async function uI(i){const e=await nI(i),s=Gs().gapi;return Ie(s,i,"internal-error"),e.open({where:document.body,url:oI(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aI,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=ys(i,"network-request-failed"),y=Gs().setTimeout(()=>{c(d)},sI.get());function v(){Gs().clearTimeout(y),o(r)}r.ping(v).then(v,()=>{c(d)})}))}const cI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,fI=600,dI="_blank",mI="http://localhost";class Wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pI(i,e,s,r=hI,o=fI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let y="";const v={...cI,width:r.toString(),height:o.toString(),top:c,left:d},_=gn().toLowerCase();s&&(y=aE(_)?dI:s),iE(_)&&(e=e||mI,v.scrollbars="yes");const x=Object.entries(v).reduce((M,[Y,te])=>`${M}${Y}=${te},`,"");if(XR(_)&&y!=="_self")return gI(e||"",y),new Wv(null);const S=window.open(e||"",y,x);Ie(S,i,"popup-blocked");try{S.focus()}catch{}return new Wv(S)}function gI(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}const yI="__/auth/handler",_I="emulator/auth/handler",vI=encodeURIComponent("fac");async function eb(i,e,s,r,o,c){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:pl,eventId:o};if(e instanceof Ip){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",lA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,S]of Object.entries({}))d[x]=S}if(e instanceof Jo){const x=e.getScopes().filter(S=>S!=="");x.length>0&&(d.scopes=x.join(","))}i.tenantId&&(d.tid=i.tenantId);const y=d;for(const x of Object.keys(y))y[x]===void 0&&delete y[x];const v=await i._getAppCheckToken(),_=v?`#${vI}=${encodeURIComponent(v)}`:"";return`${bI(i)}?${Fo(y).slice(1)}${_}`}function bI({config:i}){return i.emulator?Ap(i,_I):`https://${i.authDomain}/${yI}`}const rm="webStorageSupport";class EI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vE,this._completeRedirectFn=GC,this._overrideRedirectResult=BC}async _openPopup(e,s,r,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await eb(e,s,r,Mm(),o);return pI(e,c,Dp())}async _openRedirect(e,s,r,o){await this._originValidation(e);const c=await eb(e,s,r,Mm(),o);return SC(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:c}=this.eventManagers[s];return o?Promise.resolve(o):(Ei(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await uI(e),r=new YC(e);return s.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(rm,{type:rm},o=>{const c=o?.[0]?.[rm];c!==void 0&&s(!!c),Ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=JC(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return hE()||rE()||Rp()}}const TI=EI;var tb="@firebase/auth",nb="1.11.1";class xI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AI(i){al(new ia("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=r.options;Ie(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:d,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fE(i)},_=new tC(r,o,c,v);return lC(_,s),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),al(new ia("auth-internal",e=>{const s=Lh(e.getProvider("auth").getImmediate());return(r=>new xI(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(tb,nb,SI(i)),ur(tb,nb,"esm2020")}const wI=300,NI=fb("authIdTokenMaxAge")||wI;let sb=null;const RI=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>NI)return;const o=s?.token;sb!==o&&(sb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CI(i=_b()){const e=Pm(i,"auth");if(e.isInitialized())return e.getImmediate();const s=aC(i,{popupRedirectResolver:TI,persistence:[MC,EC,vE]}),r=fb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=RI(c.toString());gC(s,d,()=>d(s.currentUser)),pC(s,y=>d(y))}}const o=cb("auth");return o&&oC(s,`http://${o}`),s}function II(){return document.getElementsByTagName("head")?.[0]??document}nC({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=ys("internal-error");c.customData=o,s(c)},r.type="text/javascript",r.charset="UTF-8",II().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AI("Browser");const DI={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},NE=yb(DI),Nn=yR(NE),am=CI(NE),OI=new di;class eu{constructor(e=0,s="Network Error"){this.status=e,this.text=s}}const MI=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},un={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:MI()},Mp=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},VI=(i,e="https://api.emailjs.com")=>{if(!i)return;const s=Mp(i);un.publicKey=s.publicKey,un.blockHeadless=s.blockHeadless,un.storageProvider=s.storageProvider,un.blockList=s.blockList,un.limitRate=s.limitRate,un.origin=s.origin||e},RE=async(i,e,s={})=>{const r=await fetch(un.origin+i,{method:"POST",headers:s,body:e}),o=await r.text(),c=new eu(r.status,o);if(r.ok)return c;throw c},CE=(i,e,s)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},kI=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},IE=i=>i.webdriver||!i.languages||i.languages.length===0,DE=()=>new eu(451,"Unavailable For Headless Browser"),jI=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},LI=i=>!i.list?.length||!i.watchVariable,UI=(i,e)=>i instanceof FormData?i.get(e):i[e],OE=(i,e)=>{if(LI(i))return!1;jI(i.list,i.watchVariable);const s=UI(e,i.watchVariable);return typeof s!="string"?!1:i.list.includes(s)},ME=()=>new eu(403,"Forbidden"),PI=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},zI=async(i,e,s)=>{const r=Number(await s.get(i)||0);return e-Date.now()+r},VE=async(i,e,s)=>{if(!e.throttle||!s)return!1;PI(e.throttle,e.id);const r=e.id||i;return await zI(r,e.throttle,s)>0?!0:(await s.set(r,Date.now().toString()),!1)},kE=()=>new eu(429,"Too Many Requests"),qI=async(i,e,s,r)=>{const o=Mp(r),c=o.publicKey||un.publicKey,d=o.blockHeadless||un.blockHeadless,y=o.storageProvider||un.storageProvider,v={...un.blockList,...o.blockList},_={...un.limitRate,...o.limitRate};return d&&IE(navigator)?Promise.reject(DE()):(CE(c,i,e),kI(s),s&&OE(v,s)?Promise.reject(ME()):await VE(location.pathname,_,y)?Promise.reject(kE()):RE("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:c,service_id:i,template_id:e,template_params:s}),{"Content-type":"application/json"}))},BI=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},HI=i=>typeof i=="string"?document.querySelector(i):i,FI=async(i,e,s,r)=>{const o=Mp(r),c=o.publicKey||un.publicKey,d=o.blockHeadless||un.blockHeadless,y=un.storageProvider||o.storageProvider,v={...un.blockList,...o.blockList},_={...un.limitRate,...o.limitRate};if(d&&IE(navigator))return Promise.reject(DE());const x=HI(s);CE(c,i,e),BI(x);const S=new FormData(x);return OE(v,S)?Promise.reject(ME()):await VE(location.pathname,_,y)?Promise.reject(kE()):(S.append("lib_version","4.4.1"),S.append("service_id",i),S.append("template_id",e),S.append("user_id",c),RE("/api/v1.0/email/send-form",S))},GI={init:VI,send:qI,sendForm:FI,EmailJSResponseStatus:eu},ib="/salpointe-cte-hub/assets/SC-LOGO-RGB-1tQQU51o.png",lm={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},rb=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],om={"Cinema Camera Kit":{count:1,category:"film",requiresTraining:!0},"Gimbal / Stabilizer":{count:6,category:"film",requiresTraining:!0},"DJI Mic Kit (Wireless)":{count:4,category:"film",requiresTraining:!1},"DJI Flip Drone":{count:1,category:"film",requiresTraining:!0},"Lighting Kit":{count:6,category:"film",requiresTraining:!1},Tripod:{count:8,category:"general",requiresTraining:!1},"DSLR Camera Body":{count:6,category:"photo",requiresTraining:!0},"Zoom Lens (18-55mm)":{count:6,category:"photo",requiresTraining:!1},"Telephoto Lens (70-200mm)":{count:2,category:"photo",requiresTraining:!1},"Portrait Lens (50mm)":{count:3,category:"photo",requiresTraining:!1},"SD Card Reader":{count:5,category:"photo",requiresTraining:!1},"Flash Unit":{count:3,category:"photo",requiresTraining:!1},"Serving Trays":{count:10,category:"culinary",requiresTraining:!1},"Chafing Dishes":{count:4,category:"culinary",requiresTraining:!1}},ke={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory",FEEDBACK:"feedback",GAME:"game"},Xr=i=>`salpointe_draft_${i}`,um=i=>{GI.send(lm.SERVICE_ID,lm.TEMPLATE_ID,i,lm.PUBLIC_KEY).then(e=>console.log("EMAIL SUCCESS!",e.status,e.text),e=>console.log("EMAIL FAILED...",e))},QI=()=>{const[i,e]=ye.useState("landing"),[s,r]=ye.useState(!1),[o,c]=ye.useState(null),[d,y]=ye.useState(!1),[v,_]=ye.useState(om),[x,S]=ye.useState([]);ye.useEffect(()=>{const L=yC(am,K=>{K?(c(K),y(rb.includes(K.email))):(c(null),y(!1))});return()=>L()},[]),ye.useEffect(()=>{(async()=>{const ae=Zr(Nn,"settings","inventory_v2"),fe=await CR(ae);fe.exists()?_(fe.data()):(await Lv(ae,om),_(om))})();const K=Za(tr(Nn,"blackout_dates")),ee=Lc(K,ae=>{const fe=ae.docs.map(A=>A.id);S(fe)});return()=>ee()},[]);const M=async()=>{try{await UC(am,OI),e(ke.DASHBOARD)}catch(L){console.error("Login failed:",L),alert("Login failed.")}},Y=async()=>{await _C(am),e("landing")},te=()=>{e("landing"),r(!1)},se=()=>{e(ke.DASHBOARD),r(!1)},ne=[ke.FILM,ke.GRAPHIC,ke.BUSINESS,ke.CULINARY,ke.PHOTO].includes(i);return m.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30 flex flex-col",children:[m.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),m.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),m.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[m.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:te,children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),m.jsx("img",{src:ib,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",m.jsx("span",{className:"text-red-500",children:"CTE"})]}),m.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),m.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!ne&&i!=="landing"&&i!=="dashboard"&&m.jsxs("button",{onClick:se,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[m.jsx(Rx,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),i!=="landing"&&m.jsxs("button",{onClick:()=>{e(ke.CALENDAR),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===ke.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[m.jsx(Gd,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),i!=="landing"&&m.jsxs("button",{onClick:()=>{e(ke.GAME),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===ke.GAME?"bg-pink-950/50 border-pink-500 text-pink-400":"border-transparent text-slate-400 hover:text-pink-400 hover:bg-slate-800"}`,children:[m.jsx(p_,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Arcade"})]}),o?m.jsxs(m.Fragment,{children:[i!=="landing"&&m.jsxs("button",{onClick:()=>{e(ke.MY_REQUESTS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===ke.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[m.jsx(Wx,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),d&&i!=="landing"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>{e(ke.QUEUE),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===ke.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[m.jsx(Yd,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),m.jsxs("button",{onClick:()=>{e(ke.ANALYTICS),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===ke.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[m.jsx(kx,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),m.jsxs("button",{onClick:()=>{e(ke.INVENTORY),r(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${i===ke.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[m.jsx(b_,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),m.jsx("div",{className:"w-px h-6 bg-slate-700 mx-1"}),m.jsx("button",{onClick:Y,className:"ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all flex items-center gap-2",title:`Logged in as ${o.email}`,children:m.jsx(sS,{size:16})})]}):m.jsxs("button",{onClick:M,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[m.jsx(y_,{size:16})," Login"]})]})]})}),m.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10 flex-grow w-full",children:s?m.jsx(Se,{onReset:se}):m.jsxs(m.Fragment,{children:[i===ke.LANDING&&m.jsx(Me,{currentUser:o,onLogin:M,onEnter:se}),i===ke.DASHBOARD&&m.jsx(at,{onViewChange:e,currentUser:o}),i===ke.FILM&&m.jsx(O,{setSubmitted:r,onCancel:se,currentUser:o,inventory:v,blackouts:x}),i===ke.GRAPHIC&&m.jsx(j,{setSubmitted:r,onCancel:se,currentUser:o}),i===ke.BUSINESS&&m.jsx(N,{setSubmitted:r,onCancel:se,currentUser:o}),i===ke.CULINARY&&m.jsx(_t,{setSubmitted:r,onCancel:se,currentUser:o}),i===ke.PHOTO&&m.jsx(It,{setSubmitted:r,onCancel:se,currentUser:o,inventory:v,blackouts:x}),i===ke.CALENDAR&&m.jsx(CalendarView,{adminMode:d,blackouts:x}),i===ke.QUEUE&&m.jsx(C,{adminMode:d,setAdminMode:y,ALLOWED_ADMINS:rb}),i===ke.MY_REQUESTS&&m.jsx(MyRequestsView,{currentUser:o}),i===ke.ANALYTICS&&d&&m.jsx(w,{}),i===ke.INVENTORY&&d&&m.jsx($e,{inventory:v,setInventory:_}),i===ke.FEEDBACK&&m.jsx(I,{currentUser:o,adminMode:d,setSubmitted:r,onCancel:se}),i===ke.GAME&&m.jsx(Ee,{onExit:se})]})}),m.jsx("footer",{className:"text-center py-8 px-4 border-t border-slate-800/50 mt-auto relative z-10 bg-slate-900/50",children:m.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-60 hover:opacity-100 transition-opacity duration-500",children:[m.jsx("img",{src:ib,alt:"Salpointe Catholic High School",className:"w-8 h-8 opacity-80 grayscale hover:grayscale-0 transition-all"}),m.jsxs("p",{className:"text-slate-500 text-xs font-mono tracking-widest uppercase",children:[" ",new Date().getFullYear()," Salpointe Catholic High School ",m.jsx("span",{className:"text-slate-700 mx-2",children:"|"})," CTE Department"]}),m.jsxs("button",{onClick:()=>e(ke.FEEDBACK),className:"text-xs text-cyan-600 hover:text-cyan-400 flex items-center gap-1 transition-colors mt-2",children:[m.jsx(__,{size:12})," Feedback & Support"]})]})})]});function Ee({onExit:L}){const[K,ee]=ye.useState("start"),[ae,fe]=ye.useState(100),[A,B]=ye.useState(100),[G,W]=ye.useState(null),[ie,oe]=ye.useState(["SYSTEM INITIALIZED...","BOSS DETECTED: THE DEADLINE"]),ve=[{q:"What is the standard frame rate for cinema?",a:"24fps",b:"30fps",c:"60fps",correct:"a",damage:20,type:"Film"},{q:"Which tool creates a smooth tracking shot?",a:"Tripod",b:"Gimbal",c:"Boom",correct:"b",damage:25,type:"Film"},{q:"What controls the amount of light hitting the sensor?",a:"ISO",b:"Shutter Speed",c:"Aperture",correct:"c",damage:20,type:"Photo"},{q:"What file format is best for editing photos?",a:"JPEG",b:"RAW",c:"PNG",correct:"b",damage:30,type:"Photo"},{q:"Safe internal temp for chicken?",a:"145F",b:"155F",c:"165F",correct:"c",damage:25,type:"Culinary"},{q:"What represents profit after expenses?",a:"Revenue",b:"Net Income",c:"Gross Margin",correct:"b",damage:20,type:"Business"},{q:"Which color mode is for printing?",a:"RGB",b:"CMYK",c:"HEX",correct:"b",damage:20,type:"Graphic"},{q:"Shortcut to 'Undo' on Mac?",a:"Cmd+Z",b:"Cmd+C",c:"Cmd+X",correct:"a",damage:15,type:"General"}],Le=()=>{ee("playing"),fe(100),B(100),oe(["BATTLE STARTED!"]),ce()},ce=()=>{const De=ve[Math.floor(Math.random()*ve.length)];W(De)},Te=De=>{if(De===G.correct){const nt=Math.max(0,ae-G.damage);fe(nt),oe(ot=>[`CRITICAL HIT! -${G.damage} HP to Deadline`,...ot]),nt===0?ee("won"):ce()}else{const nt=Math.max(0,A-25);B(nt),oe(ot=>["WRONG! You took 25 damage.",...ot]),nt===0?ee("lost"):ce()}};return m.jsxs("div",{className:"max-w-3xl mx-auto bg-black border-4 border-slate-700 rounded-xl overflow-hidden font-mono shadow-2xl relative animate-fade-in",children:[m.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-10 pointer-events-none bg-[length:100%_2px,3px_100%]"}),m.jsxs("div",{className:"bg-slate-900 p-4 border-b-4 border-slate-700 flex justify-between items-center",children:[m.jsx("div",{className:"text-green-400 text-xs",children:"LANCER_OS v9.0"}),m.jsx("button",{onClick:L,className:"text-red-500 hover:text-red-400 text-xs uppercase",children:"[ EXIT GAME ]"})]}),m.jsxs("div",{className:"p-8 min-h-[500px] flex flex-col relative z-0",children:[K==="start"&&m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center space-y-6",children:[m.jsx(p_,{size:64,className:"text-green-500 animate-bounce"}),m.jsx("h2",{className:"text-4xl font-bold text-white tracking-widest",children:"TRIVIA QUEST"}),m.jsxs("p",{className:"text-slate-400 max-w-md",children:["Defeat the ",m.jsx("span",{className:"text-red-500",children:"PROJECT DEADLINE"})," by answering CTE technical questions correctly."]}),m.jsx("button",{onClick:Le,className:"px-8 py-4 bg-green-600 hover:bg-green-500 text-black font-bold text-xl rounded shadow-[4px_4px_0px_0px_rgba(255,255,255,0.5)] active:translate-y-1 active:shadow-none transition-all",children:"START GAME"})]}),K==="playing"&&G&&m.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[m.jsxs("div",{className:"flex justify-between mb-8",children:[m.jsxs("div",{className:"w-1/3",children:[m.jsx("div",{className:"text-green-400 text-xs mb-1",children:"STUDENT (YOU)"}),m.jsx("div",{className:"h-4 bg-slate-800 rounded-full border border-slate-600 overflow-hidden",children:m.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${A}%`}})}),m.jsxs("div",{className:"text-right text-xs text-slate-500 mt-1",children:[A,"/100"]})]}),m.jsx("div",{className:"text-center text-slate-600 font-bold text-xl",children:"VS"}),m.jsxs("div",{className:"w-1/3",children:[m.jsx("div",{className:"text-red-400 text-xs mb-1 text-right",children:"THE DEADLINE (BOSS)"}),m.jsx("div",{className:"h-4 bg-slate-800 rounded-full border border-slate-600 overflow-hidden",children:m.jsx("div",{className:"h-full bg-red-500 transition-all duration-500",style:{width:`${ae}%`}})}),m.jsxs("div",{className:"text-right text-xs text-slate-500 mt-1",children:[ae,"/100"]})]})]}),m.jsxs("div",{className:"flex-1 flex items-center justify-center mb-8 relative",children:[m.jsx("div",{className:"absolute left-10 bottom-0 text-6xl animate-pulse",children:""}),m.jsx("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-yellow-400 font-bold text-xl opacity-0 animate-ping",children:"HIT!"}),m.jsx("div",{className:"absolute right-10 bottom-0 text-8xl animate-bounce",children:""})]}),m.jsxs("div",{className:"bg-slate-800 border-2 border-green-500/50 p-6 rounded-lg mb-4 shadow-[0_0_15px_rgba(34,197,94,0.2)]",children:[m.jsxs("div",{className:"text-xs text-green-400 mb-2 uppercase",children:["Category: ",G.type]}),m.jsx("h3",{className:"text-xl text-white mb-6",children:G.q}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:["a","b","c"].map(De=>m.jsxs("button",{onClick:()=>Te(De),className:"px-4 py-3 bg-slate-900 hover:bg-slate-700 border border-slate-600 text-cyan-300 rounded text-left transition-colors text-sm",children:[m.jsxs("span",{className:"text-slate-500 mr-2",children:["[",De.toUpperCase(),"]"]})," ",G[De]]},De))})]}),m.jsx("div",{className:"h-24 overflow-y-auto bg-black p-2 border border-slate-800 text-xs font-mono",children:ie.map((De,nt)=>m.jsxs("div",{className:De.includes("WRONG")?"text-red-500":"text-green-500",children:[">"," ",De]},nt))})]}),K==="won"&&m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center space-y-6 animate-bounce",children:[m.jsx("div",{className:"text-6xl",children:""}),m.jsx("h2",{className:"text-4xl font-bold text-yellow-400",children:"VICTORY!"}),m.jsx("p",{className:"text-slate-300",children:"You defeated the Deadline. Project Submitted."}),m.jsx("button",{onClick:Le,className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded border border-slate-500",children:"PLAY AGAIN"})]}),K==="lost"&&m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center space-y-6",children:[m.jsx("div",{className:"text-6xl",children:""}),m.jsx("h2",{className:"text-4xl font-bold text-red-500",children:"GAME OVER"}),m.jsx("p",{className:"text-slate-400",children:"The Deadline won. Request Extension?"}),m.jsx("button",{onClick:Le,className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded border border-slate-500",children:"RETRY LEVEL"})]})]})]})}function Me({currentUser:L,onLogin:K,onEnter:ee}){return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[m.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),m.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["Master the Tools. ",m.jsx("br",{}),m.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Create Without Limits."})]}),m.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Your direct link to the CTE professional inventory. Secure the assets you need to build your portfoliofrom cinema cameras to culinary prep. If you can dream it, you can reserve it."}),m.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:L?m.jsxs("button",{onClick:ee,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),m.jsx(kS,{size:24,className:"fill-white"})," Initialize Hub"]}):m.jsxs("button",{onClick:K,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[m.jsx(y_,{size:24})," Login to Access"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[m.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[m.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:m.jsx($x,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),m.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[m.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:m.jsx(Fx,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),m.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[m.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:m.jsx(vS,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function Se({onReset:L}){return m.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[m.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:m.jsx(qx,{size:40})}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),m.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),m.jsx("button",{onClick:L,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function at({onViewChange:L,currentUser:K}){const[ee,ae]=ye.useState({});ye.useEffect(()=>{(()=>{const B={},G={[ke.FILM]:"Film",[ke.GRAPHIC]:"Graphic",[ke.BUSINESS]:"Business",[ke.CULINARY]:"Culinary",[ke.PHOTO]:"Photo"};Object.keys(G).forEach(W=>{const ie=Xr(G[W]);localStorage.getItem(ie)&&(B[W]=!0)}),ae(B)})()},[]);const fe=[{id:ke.FILM,title:"Film & TV",icon:x_,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:ke.GRAPHIC,title:"Graphic Design",icon:v_,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:ke.BUSINESS,title:"Business",icon:Fd,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:ke.CULINARY,title:"Culinary Arts",icon:T_,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:ke.PHOTO,title:"Photography",icon:Qd,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"col-span-full mb-4",children:[m.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:K?`Welcome, ${K.displayName.split(" ")[0]}.`:"Access Granted."}),m.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),fe.map(A=>m.jsxs("div",{onClick:()=>L(A.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${A.bg}`,children:[ee[A.id]&&m.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[m.jsx(Cc,{size:12})," RESUME"]}),m.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${A.color} transition-transform group-hover:scale-110 duration-300`,children:m.jsx(A.icon,{size:28})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:A.title}),m.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:A.desc})]},A.id))]})}function gt({initialData:L={},currentUser:K}){const ee=K?.displayName||L.fullName||"",ae=K?.email||L.email||"";return m.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-slate-800 mb-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4 flex items-center gap-2",children:[m.jsx(RS,{size:18})," Identity Verification"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Designation"}),m.jsx("input",{name:"requestName",type:"text",defaultValue:L.requestName||"",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",placeholder:"e.g. Football Video",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Full Name"}),m.jsx("input",{name:"fullName",type:"text",defaultValue:ee,readOnly:!!K,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${K?"opacity-70 cursor-not-allowed":""}`,placeholder:"Jane Doe",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Comm Link (Email)"}),m.jsx("input",{name:"email",type:"email",defaultValue:ae,readOnly:!!K,className:`w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all ${K?"opacity-70 cursor-not-allowed":""}`,placeholder:"jdoe@salpointe.org",required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Clearance Level"}),m.jsxs("select",{name:"role",defaultValue:L.role||"Student",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",children:[m.jsx("option",{children:"Student"}),m.jsx("option",{children:"Faculty / Staff"}),m.jsx("option",{children:"Club Representative"})]})]})]})]})}function $e({inventory:L,setInventory:K}){const[ee,ae]=ye.useState(L),[fe,A]=ye.useState(!1),[B,G]=ye.useState(""),[W,ie]=ye.useState(1),[oe,ve]=ye.useState("film"),[Le,ce]=ye.useState(!1),[Te,De]=ye.useState(null),[nt,ot]=ye.useState(""),[de,pe]=ye.useState(!1),be=(Ne,st,wt)=>{ae(jt=>({...jt,[Ne]:{...jt[Ne],[st]:wt}}))},Ae=Ne=>{if(window.confirm(`Delete "${Ne}" from inventory permanently?`)){const st={...ee};delete st[Ne],ae(st)}},Be=Ne=>{if(Ne.preventDefault(),!B)return;const st=B.trim();if(ee[st]){alert("Item already exists.");return}ae(wt=>({...wt,[st]:{count:parseInt(W)||0,category:oe,requiresTraining:Le}})),G(""),ie(1),ce(!1)},Ce=(Ne,st)=>{De(Ne),ot(Ne),pe(st.requiresTraining||!1)},we=()=>{De(null),ot(""),pe(!1)},Ze=()=>{if(!nt.trim())return;const Ne=nt.trim(),wt={...ee[Te],requiresTraining:de},jt={...ee};if(Ne!==Te){if(jt[Ne]){alert("An item with this name already exists.");return}delete jt[Te],jt[Ne]=wt}else jt[Ne]=wt;ae(jt),De(null)},vn=async()=>{A(!0);try{await Lv(Zr(Nn,"settings","inventory_v2"),ee),K(ee),alert("Inventory matrix updated.")}catch(Ne){console.error("Error:",Ne),alert("Save failed.")}A(!1)},Dn={film:[],photo:[],culinary:[],general:[]};return Object.entries(ee).forEach(([Ne,st])=>{Dn[st.category]?Dn[st.category].push({name:Ne,...st}):Dn.general.push({name:Ne,...st})}),m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6 flex justify-between items-center",children:[m.jsx("div",{children:m.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[m.jsx(b_,{className:"text-amber-400"})," Inventory Matrix"]})}),m.jsxs("button",{onClick:vn,disabled:fe,className:"bg-amber-600 hover:bg-amber-500 text-slate-900 px-6 py-2 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50 shadow-[0_0_15px_rgba(245,158,11,0.3)]",children:[fe?m.jsx(dS,{className:"animate-spin",size:18}):m.jsx(Cc,{size:18})," ",fe?"Processing...":"Save Changes"]})]}),m.jsxs("div",{className:"p-6 bg-slate-900/30 border-b border-slate-800",children:[m.jsx("h3",{className:"text-sm font-mono text-cyan-500 uppercase mb-3",children:"Add New Asset"}),m.jsxs("form",{onSubmit:Be,className:"flex flex-col md:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Item Name"}),m.jsx("input",{type:"text",value:B,onChange:Ne=>G(Ne.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",placeholder:"e.g. GoPro Hero 10",required:!0})]}),m.jsxs("div",{className:"w-24",children:[m.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Count"}),m.jsx("input",{type:"number",min:"0",value:W,onChange:Ne=>ie(Ne.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none"})]}),m.jsxs("div",{className:"w-32",children:[m.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Category"}),m.jsxs("select",{value:oe,onChange:Ne=>ve(Ne.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded p-2 text-white text-sm focus:border-cyan-500 outline-none",children:[m.jsx("option",{value:"film",children:"Film"}),m.jsx("option",{value:"photo",children:"Photo"}),m.jsx("option",{value:"culinary",children:"Culinary"}),m.jsx("option",{value:"general",children:"General"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[m.jsx("input",{type:"checkbox",checked:Le,onChange:Ne=>ce(Ne.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-slate-950 text-cyan-500 focus:ring-cyan-500"}),m.jsx("label",{className:"text-sm text-slate-400",children:"Training Req."})]}),m.jsxs("button",{type:"submit",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-4 py-2 rounded font-medium flex items-center gap-1",children:[m.jsx(hS,{size:16})," Add"]})]})]}),m.jsx("div",{className:"p-6 space-y-8",children:Object.entries(Dn).map(([Ne,st])=>m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-white capitalize mb-4 border-b border-slate-800 pb-2 text-emerald-400",children:[Ne," Inventory"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:st.map(wt=>m.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg border border-slate-700 flex justify-between items-center hover:border-slate-600 transition-colors",children:[Te===wt.name?m.jsxs("div",{className:"flex-1 flex items-center gap-2 mr-2",children:[m.jsx("input",{type:"text",value:nt,onChange:jt=>ot(jt.target.value),className:"flex-1 bg-slate-950 border border-cyan-500 rounded p-1 text-white text-sm outline-none",autoFocus:!0}),m.jsxs("label",{className:"flex items-center gap-1 text-xs text-slate-400",children:[m.jsx("input",{type:"checkbox",checked:de,onChange:jt=>pe(jt.target.checked)})," Train"]}),m.jsx("button",{onClick:Ze,className:"text-green-500 hover:text-green-400 p-1",children:m.jsx(d_,{size:18})}),m.jsx("button",{onClick:we,className:"text-red-500 hover:text-red-400 p-1",children:m.jsx(Ic,{size:18})})]}):m.jsxs("div",{className:"flex-1 mr-4 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-mono text-slate-300 text-sm block truncate",children:wt.name.replace(" *","").replace("*","")}),wt.requiresTraining&&m.jsx("span",{className:"text-[10px] text-red-400 uppercase bg-red-900/20 px-1 rounded",children:"Training Req."})]}),m.jsx("button",{onClick:()=>Ce(wt.name,wt),className:"text-slate-600 hover:text-cyan-400 p-1 ml-2",children:m.jsx(uS,{size:14})})]}),m.jsxs("div",{className:"flex items-center gap-2 border-l border-slate-700 pl-3",children:[m.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Qty"}),m.jsx("input",{type:"number",min:"0",value:wt.count,onChange:jt=>be(wt.name,"count",parseInt(jt.target.value)),className:"w-14 p-1 bg-slate-950 border border-slate-700 rounded text-center font-bold text-cyan-400 focus:border-cyan-500 outline-none text-sm"}),m.jsx("button",{onClick:()=>Ae(wt.name),className:"text-slate-600 hover:text-red-500 transition-colors ml-1",children:m.jsx(E_,{size:16})})]})]},wt.name))})]},Ne))})]})}function I({currentUser:L,adminMode:K,setSubmitted:ee,onCancel:ae}){const[fe,A]=ye.useState("bug"),[B,G]=ye.useState(""),[W,ie]=ye.useState([]);ye.useEffect(()=>{if(K){const ce=Za(tr(Nn,"feedback"),Mv("createdAt","desc")),Te=Lc(ce,De=>{const nt=De.docs.map(ot=>({id:ot.id,...ot.data()}));ie(nt)});return()=>Te()}},[K]);const oe=async ce=>{if(ce.preventDefault(),!!B.trim())try{const Te={type:fe,message:B,email:L?.email||"Anonymous",fullName:L?.displayName||"Guest",createdAt:new Date,status:"Open"};await zv(tr(Nn,"feedback"),Te),fe==="bug"&&um({to_name:"Admin",to_email:"erivers@salpointe.org",subject:"[BUG REPORT] CTE Hub Issue",title:"Bug Report",status:"Urgent",message:`User ${Te.fullName} reported a bug:

${B}`}),alert("Feedback received."),G(""),K||ae()}catch(Te){console.error(Te),alert("Error sending feedback.")}},ve=async ce=>{window.confirm("Mark Resolved?")&&await Uv(Zr(Nn,"feedback",ce),{status:"Resolved"})},Le=async ce=>{window.confirm("Delete feedback?")&&await Pv(Zr(Nn,"feedback",ce))};return m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:"p-3 rounded-xl bg-cyan-950/30 border border-cyan-500/30 text-cyan-400",children:m.jsx(__,{size:28})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"System Feedback"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Report glitches or suggest system upgrades."})]})]}),m.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("button",{type:"button",onClick:()=>A("bug"),className:`p-4 rounded-xl border text-left transition-all ${fe==="bug"?"bg-red-950/40 border-red-500 text-red-400":"bg-slate-950 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[m.jsx(f_,{size:18})," Bug Report"]}),m.jsx("p",{className:"text-xs opacity-80",children:"Something is broken."})]}),m.jsxs("button",{type:"button",onClick:()=>A("feature"),className:`p-4 rounded-xl border text-left transition-all ${fe==="feature"?"bg-amber-950/40 border-amber-500 text-amber-400":"bg-slate-950 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 font-bold mb-1",children:[m.jsx(g_,{size:18})," Feature Idea"]}),m.jsx("p",{className:"text-xs opacity-80",children:'"It would be cool if..."'})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Details"}),m.jsx("textarea",{value:B,onChange:ce=>G(ce.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-slate-200 focus:border-cyan-500 outline-none h-32",placeholder:"Describe...",required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:ae,className:"px-6 py-2 rounded-lg border border-slate-700 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",className:"bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-2 rounded-lg font-bold shadow-lg transition-all",children:"Submit Feedback"})]})]})]}),K&&m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[m.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[m.jsx(Yd,{size:18,className:"text-purple-400"})," Admin Feedback Inbox"]}),m.jsx("div",{className:"space-y-3",children:W.length===0?m.jsx("p",{className:"text-slate-500 text-center py-4",children:"No reports."}):W.map(ce=>m.jsxs("div",{className:"bg-slate-950 border border-slate-800 p-4 rounded-xl flex flex-col sm:flex-row gap-4 justify-between items-start hover:border-slate-700 transition-colors",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ce.type==="bug"?m.jsxs("span",{className:"text-xs font-bold bg-red-900/30 text-red-400 px-2 py-1 rounded flex items-center gap-1",children:[m.jsx(f_,{size:12})," BUG"]}):m.jsxs("span",{className:"text-xs font-bold bg-amber-900/30 text-amber-400 px-2 py-1 rounded flex items-center gap-1",children:[m.jsx(g_,{size:12})," IDEA"]}),ce.status==="Resolved"&&m.jsx("span",{className:"text-xs font-bold bg-green-900/30 text-green-400 px-2 py-1 rounded",children:"RESOLVED"}),m.jsx("span",{className:"text-xs text-slate-500 ml-2",children:ce.fullName})]}),m.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mt-2",children:ce.message})]}),m.jsxs("div",{className:"flex gap-2",children:[ce.status!=="Resolved"&&m.jsx("button",{onClick:()=>ve(ce.id),className:"p-2 bg-green-900/20 text-green-500 rounded-lg hover:bg-green-900/40",title:"Mark Resolved",children:m.jsx(ES,{size:16})}),m.jsx("button",{onClick:()=>Le(ce.id),className:"p-2 bg-slate-800 text-slate-500 rounded-lg hover:bg-red-900/20 hover:text-red-500",title:"Delete",children:m.jsx(E_,{size:16})})]})]},ce.id))})]})]})}function w(){const[L,K]=ye.useState(!0),[ee,ae]=ye.useState({total:0,approved:0,pending:0,deptCounts:{},topEquipment:[]});ye.useEffect(()=>{const A=Za(tr(Nn,"requests")),B=Lc(A,G=>{let W=0,ie=0,oe=0,ve={},Le={};G.forEach(Te=>{const De=Te.data();W++,(De.status==="Approved"||De.status==="Completed")&&ie++,De.status==="Pending Review"&&oe++,ve[De.dept]=(ve[De.dept]||0)+1,De.equipment&&(Array.isArray(De.equipment)?De.equipment:[De.equipment]).forEach(ot=>{Le[ot]=(Le[ot]||0)+1})});const ce=Object.entries(Le).sort(([,Te],[,De])=>De-Te).slice(0,5);ae({total:W,approved:ie,pending:oe,deptCounts:ve,topEquipment:ce}),K(!1)});return()=>B()},[]);const fe=ee.total>0?Math.round(ee.approved/ee.total*100):0;return m.jsx("div",{className:"space-y-6 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 shadow-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("div",{children:m.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[m.jsx(SS,{className:"text-emerald-400"})," Data Analytics"]})}),m.jsxs("div",{className:"bg-slate-800 border border-slate-700 px-4 py-2 rounded-lg text-cyan-400 font-mono text-sm",children:["Total Requests: ",m.jsx("strong",{children:ee.total})]})]}),L?m.jsx("div",{className:"text-center py-12 text-slate-500 font-mono",children:"CALCULATING..."}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-emerald-950/30 rounded-xl p-5 border border-emerald-500/20",children:[m.jsx("h4",{className:"text-emerald-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Approval Rate"}),m.jsx("div",{className:"flex items-end gap-2",children:m.jsxs("span",{className:"text-4xl font-bold text-emerald-400 font-mono",children:[fe,"%"]})})]}),m.jsxs("div",{className:"bg-blue-950/30 rounded-xl p-5 border border-blue-500/20",children:[m.jsx("h4",{className:"text-blue-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Completed"}),m.jsx("div",{className:"flex items-end gap-2",children:m.jsx("span",{className:"text-4xl font-bold text-blue-400 font-mono",children:ee.approved})})]}),m.jsxs("div",{className:"bg-amber-950/30 rounded-xl p-5 border border-amber-500/20",children:[m.jsx("h4",{className:"text-amber-400 font-bold text-xs uppercase tracking-widest mb-2",children:"Pending"}),m.jsx("div",{className:"flex items-end gap-2",children:m.jsx("span",{className:"text-4xl font-bold text-amber-400 font-mono",children:ee.pending})})]}),m.jsxs("div",{className:"md:col-span-2 bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[m.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[m.jsx(Lx,{size:16,className:"text-purple-400"})," Requests by Department"]}),m.jsx("div",{className:"space-y-4",children:Object.entries(ee.deptCounts).sort(([,A],[,B])=>B-A).map(([A,B])=>{const G=B/ee.total*100;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-xs mb-2 font-mono",children:[m.jsx("span",{className:"text-slate-400",children:A}),m.jsx("span",{className:"text-cyan-400",children:B})]}),m.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:m.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${G}%`}})})]},A)})})]}),m.jsxs("div",{className:"bg-slate-950/50 rounded-xl border border-slate-800 p-5",children:[m.jsxs("h3",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[m.jsx(Qd,{size:16,className:"text-pink-400"})," Top Gear"]}),m.jsx("ul",{className:"space-y-3",children:ee.topEquipment.map(([A,B],G)=>m.jsxs("li",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-6 h-6 rounded bg-slate-800 text-cyan-400 flex items-center justify-center text-xs font-mono border border-slate-700",children:G+1}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:A.replace(" *","")}),m.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[B," uses"]})]})]},A))})]})]})]})})}function C({adminMode:L,setAdminMode:K,ALLOWED_ADMINS:ee}){const[ae,fe]=ye.useState([]),[A,B]=ye.useState("all"),[G,W]=ye.useState(!0),[ie,oe]=ye.useState(null),[ve,Le]=ye.useState("");ye.useEffect(()=>{const de=Za(tr(Nn,"requests"),Mv("createdAt","desc")),pe=Lc(de,be=>{const Ae=be.docs.map(Be=>({id:Be.id,...Be.data(),formattedDate:Be.data().createdAt?.toDate().toLocaleDateString()||"N/A"}));fe(Ae),W(!1)});return()=>pe()},[]);const ce=async(de,pe)=>{window.confirm(`Confirm status change to: ${pe}?`)&&(await Uv(Zr(Nn,"requests",de.id),{status:pe}),ie&&ie.id===de.id&&oe(be=>({...be,status:pe})),um({to_name:de.fullName,to_email:de.email,subject:`Request Update: ${de.title}`,title:de.title,status:pe,message:`Status updated to ${pe}.`}))},Te=async de=>{window.confirm("Delete this record permanently?")&&(await Pv(Zr(Nn,"requests",de)),ie&&ie.id===de&&oe(null))},De=()=>{const de=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],pe=ae.map(Ce=>[Ce.displayId,Ce.dept,`"${Ce.title}"`,Ce.fullName,Ce.email,Ce.formattedDate,Ce.status,`"${(Ce.details||Ce.brief||Ce.description||"").replace(/"/g,'""')}"`]),be="data:text/csv;charset=utf-8,"+[de.join(","),...pe.map(Ce=>Ce.join(","))].join(`
`),Ae=encodeURI(be),Be=document.createElement("a");Be.setAttribute("href",Ae),Be.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(Be),Be.click(),document.body.removeChild(Be)},nt=ae.filter(de=>{const pe=A==="all"?!0:de.dept?.toLowerCase().includes(A.toLowerCase()),be=ve.toLowerCase(),Ae=de.title?.toLowerCase().includes(be)||de.fullName?.toLowerCase().includes(be)||de.displayId?.toLowerCase().includes(be)||de.email?.toLowerCase().includes(be);return pe&&Ae}),ot=de=>{switch(de){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return m.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[ie&&m.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),m.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[m.jsxs("span",{children:["ID: ",ie.displayId||"N/A"]}),m.jsxs("span",{className:"opacity-50",children:["| Ref: ",ie.id]})]})]}),m.jsx("button",{onClick:()=>oe(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:m.jsx(Ic,{size:20})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),m.jsx("p",{className:"font-semibold text-white capitalize",children:ie.dept})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${ot(ie.status)}`,children:ie.status})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),m.jsx("p",{className:"text-slate-200",children:ie.fullName})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),m.jsx("p",{className:"text-slate-200 font-mono text-sm",children:ie.email})]})]}),m.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[m.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[m.jsx(Fd,{size:16,className:"text-cyan-500"})," Mission Details"]}),m.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(ie).map(([de,pe])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(de)?null:Array.isArray(pe)?m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:de}),m.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:pe.map((be,Ae)=>m.jsx("li",{children:be},Ae))})]},de):m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:de.replace(/([A-Z])/g," $1").trim()}),m.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:pe})]},de))})]}),L&&m.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[m.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>ce(ie,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),m.jsx("button",{onClick:()=>ce(ie,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),m.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[m.jsx(Yd,{className:"text-purple-400"})," Request Log"]}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[m.jsxs("div",{className:"relative flex-1 lg:w-64",children:[m.jsx(gS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),m.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:ve,onChange:de=>Le(de.target.value)})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:A,onChange:de=>B(de.target.value),children:[m.jsx("option",{value:"all",children:"All Sectors"}),m.jsx("option",{value:"film",children:"Film"}),m.jsx("option",{value:"graphic",children:"Graphic"}),m.jsx("option",{value:"business",children:"Business"}),m.jsx("option",{value:"culinary",children:"Culinary"}),m.jsx("option",{value:"photo",children:"Photo"})]}),L&&m.jsxs("button",{onClick:De,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[m.jsx(Qx,{size:16})," ",m.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),m.jsx("div",{className:"overflow-x-auto",children:G?m.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):m.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[m.jsx("th",{className:"p-4",children:"ID Code"}),m.jsx("th",{className:"p-4",children:"Sector"}),m.jsx("th",{className:"p-4",children:"Objective"}),m.jsx("th",{className:"p-4",children:"Agent"}),m.jsx("th",{className:"p-4",children:"Status"}),m.jsx("th",{className:"p-4",children:"View"}),L&&m.jsx("th",{className:"p-4",children:"Override"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-800",children:nt.map(de=>m.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[m.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:de.displayId}),m.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:de.dept}),m.jsx("td",{className:"p-4 text-white font-medium text-sm",children:de.title}),m.jsx("td",{className:"p-4 text-slate-400 text-sm",children:de.fullName}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${ot(de.status)}`,children:de.status})}),m.jsx("td",{className:"p-4",children:m.jsx("button",{onClick:()=>oe(de),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:m.jsx(Kx,{size:20})})}),L&&m.jsxs("td",{className:"p-4 flex gap-2",children:[m.jsx("button",{onClick:()=>ce(de,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:m.jsx(d_,{size:16})}),m.jsx("button",{onClick:()=>ce(de,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:m.jsx(Ic,{size:16})}),m.jsx("button",{onClick:()=>Te(de.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:m.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},de.id))})]})})]})}function V({title:L,icon:K,colorClass:ee,children:ae,setSubmitted:fe,initialData:A={},onCancel:B,currentUser:G,blackouts:W=[]}){const ie=ye.useRef(null),oe=Xr(L),[ve,Le]=ye.useState(!1),ce=()=>{const pe=new FormData(ie.current),be={};for(const[Ae,Be]of pe.entries())be[Ae]?(Array.isArray(be[Ae])||(be[Ae]=[be[Ae]]),be[Ae].push(Be)):be[Ae]=Be;return localStorage.setItem(oe,JSON.stringify(be)),!0},Te=pe=>{pe.preventDefault(),ce(),alert("Draft secured in local cache.")},De=()=>{Le(!0)},nt=()=>{ce(),Le(!1),B()},ot=()=>{localStorage.removeItem(oe),Le(!1),B()},de=async pe=>{pe.preventDefault();const be=new FormData(pe.target),Ae={};for(const[we,Ze]of be.entries())Ae[we]?(Array.isArray(Ae[we])||(Ae[we]=[Ae[we]]),Ae[we].push(Ze)):Ae[we]=Ze;const Be=["checkoutDate","returnDate","eventDate","pickupDate","deadline"];let Ce=!1;if(Be.forEach(we=>{Ae[we]&&W.includes(Ae[we])&&(Ce=!0)}),Ce){alert("Date blocked by admin protocol. Select alternative.");return}try{const we=Date.now().toString().slice(-4),Ze=Math.floor(1e3+Math.random()*9e3),vn=`REQ-${we}-${Ze}`;await zv(tr(Nn,"requests"),{...Ae,dept:L,displayId:vn,status:"Pending Review",createdAt:new Date,title:Ae.requestName||Ae.eventName||Ae.projectType||Ae.businessName||"New Request"}),um({to_name:"Admin",to_email:"erivers@salpointe.org",subject:`New Request: ${Ae.requestName}`,title:Ae.requestName,status:"Pending Review",message:`New request (${vn}) from ${Ae.fullName}.`}),localStorage.removeItem(oe),fe(!0)}catch(we){console.error(we),alert("Transmission error.")}};return m.jsxs("div",{className:"max-w-3xl mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 overflow-hidden relative",children:[ve&&m.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-slate-900 rounded-xl shadow-2xl border border-slate-700 max-w-md w-full p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-amber-900/20 rounded-full flex items-center justify-center mx-auto mb-4 text-amber-500 border border-amber-500/20",children:m.jsx(wS,{size:32})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Unsaved Data Detected"}),m.jsx("p",{className:"text-slate-400 mb-6",children:"Secure local draft before termination?"}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("button",{onClick:nt,className:"w-full bg-cyan-600 text-white py-3 rounded-lg font-semibold hover:bg-cyan-500 flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.3)]",children:[m.jsx(Cc,{size:18})," Secure Draft & Exit"]}),m.jsx("button",{onClick:ot,className:"w-full bg-transparent border border-red-900/50 text-red-400 py-3 rounded-lg font-semibold hover:bg-red-950/30 hover:border-red-500 transition-all",children:"Purge Data & Exit"}),m.jsx("button",{onClick:()=>Le(!1),className:"w-full text-slate-500 py-2 hover:text-slate-300 text-sm",children:"Return to Editor"})]})]})}),m.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-50"}),m.jsxs("div",{className:"p-5 md:p-8",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8 pb-4 border-b border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:`p-3 rounded-xl bg-slate-800 border border-slate-700 ${ee.replace("bg-","text-")}`,children:m.jsx(K,{size:28})}),m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-white tracking-wide",children:[L," Protocol"]}),m.jsx("p",{className:"text-slate-500 text-xs md:text-sm font-mono uppercase",children:"Input Required Data"})]})]}),m.jsx("button",{type:"button",onClick:De,className:"text-slate-500 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:m.jsx(Ic,{size:24})})]}),m.jsxs("form",{ref:ie,onSubmit:de,children:[m.jsx(gt,{initialData:A,currentUser:G}),ae,m.jsxs("div",{className:"mt-8 flex flex-col-reverse sm:flex-row justify-end gap-3 pt-6 border-t border-slate-800",children:[m.jsx("button",{type:"button",onClick:De,className:"flex items-center justify-center gap-2 bg-transparent border border-slate-700 text-slate-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-800 hover:text-white transition-all",children:"Abort"}),m.jsxs("button",{type:"button",onClick:Te,className:"flex items-center justify-center gap-2 bg-slate-800 border border-slate-700 text-cyan-400 px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 hover:border-cyan-500/50 transition-all",children:[m.jsx(Cc,{size:18})," Save Draft"]}),m.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-cyan-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-cyan-500 transition-all shadow-[0_0_20px_rgba(8,145,178,0.4)] tracking-wide",children:"INITIALIZE REQUEST"})]})]})]})]})}function O({setSubmitted:L,onCancel:K,currentUser:ee,inventory:ae,blackouts:fe}){const A="Film",B=Xr(A),G=JSON.parse(localStorage.getItem(B)||"{}"),[W,ie]=ye.useState(G.requestType||"checkout"),[oe,ve]=ye.useState({}),[Le,ce]=ye.useState(!1),[Te,De]=ye.useState({start:G.checkoutDate||"",end:G.returnDate||""}),nt=pe=>{const be={...Te,[pe.target.name==="checkoutDate"?"start":"end"]:pe.target.value};De(be)};ye.useEffect(()=>{(async()=>{if(!Te.start||!Te.end||W!=="checkout"){ce(!1);return}ce(!0);const be=Za(tr(Nn,"requests"),jc("dept","==","Film"),jc("requestType","==","checkout")),Ae=await jv(be),Be={};Ae.forEach(we=>{const Ze=we.data();if(Ze.status==="Denied"||Ze.status==="Completed")return;const vn=Ze.checkoutDate,Dn=Ze.returnDate;vn<=Te.end&&Dn>=Te.start&&Ze.equipment&&(Array.isArray(Ze.equipment)?Ze.equipment:[Ze.equipment]).forEach(st=>{Be[st]=(Be[st]||0)+1})});const Ce={};Object.keys(ae).forEach(we=>{(ae[we].category==="film"||ae[we].category==="general")&&(Ce[we]=Math.max(0,ae[we].count-(Be[we]||0)))}),ve(Ce)})()},[Te,W,ae]);const ot=Te.start&&Te.end&&Te.start===Te.end,de=Object.entries(ae).filter(([pe,be])=>be.category==="film"||be.category==="general").sort((pe,be)=>pe[0].localeCompare(be[0]));return m.jsxs(V,{title:A,icon:x_,colorClass:"bg-blue-600",setSubmitted:L,initialData:G,onCancel:K,currentUser:ee,blackouts:fe,children:[m.jsx("input",{type:"hidden",name:"requestType",value:W}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("button",{type:"button",onClick:()=>ie("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${W==="checkout"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsx(h_,{size:24}),m.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]}),m.jsxs("button",{type:"button",onClick:()=>ie("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${W==="service"?"bg-cyan-950/40 border-cyan-500 text-cyan-400 shadow-[0_0_15px_rgba(8,145,178,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsx(aS,{size:24}),m.jsx("span",{className:"font-bold",children:"Production Team"})]})]})]}),W==="checkout"?m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 text-sm text-blue-200 flex items-start gap-3",children:[m.jsx(m_,{className:"shrink-0 mt-0.5 text-blue-400",size:16}),m.jsxs("p",{children:[m.jsx("strong",{children:"Protocol:"})," Equipment return deadline is 0800 hours the following school day."]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),m.jsx("input",{name:"checkoutDate",defaultValue:G.checkoutDate,onChange:nt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),m.jsx("input",{name:"returnDate",defaultValue:G.returnDate,onChange:nt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),ot&&m.jsxs("div",{className:"animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[m.jsx("label",{className:"block text-xs font-mono text-cyan-400 uppercase mb-1",children:"Specific Duration"}),m.jsxs("select",{name:"durationHours",defaultValue:G.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[m.jsx("option",{value:"",children:"Select Duration..."}),m.jsx("option",{value:"1 Hour",children:"1 Hour"}),m.jsx("option",{value:"2 Hours",children:"2 Hours"}),m.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),m.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:["Select Assets ",m.jsx("span",{className:"text-red-500 ml-2 normal-case tracking-normal",children:"* Certification Required"})]}),Le?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:de.map(([pe,be])=>{const Ae=oe[pe]!==void 0?oe[pe]:99,Be=Ae<=0,Ce=pe.replace(" *","").replace("*","");return m.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${Be?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-cyan-500/50 hover:shadow-[0_0_10px_rgba(8,145,178,0.1)] cursor-pointer"}`,children:[m.jsx("input",{type:"checkbox",name:"equipment",value:pe,disabled:Be,defaultChecked:G.equipment?.includes(pe),className:"w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[Ce," ",be.requiresTraining&&m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${Be?"text-red-500":"text-emerald-500"}`,children:Be?"OFFLINE / UNAVAILABLE":`${Ae} UNITS ACTIVE`})]})]},pe)})}):m.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[m.jsx(Gd,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),m.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:m.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-cyan-600 focus:ring-cyan-500 bg-slate-800"}),m.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[m.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),m.jsx("input",{name:"eventDate",defaultValue:G.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),m.jsx("input",{name:"startTime",defaultValue:G.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none transition-all",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Required"}),m.jsxs("select",{name:"serviceType",defaultValue:G.serviceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[m.jsx("option",{children:"Live Broadcast (Stream)"}),m.jsx("option",{children:"Event Recording (Edited later)"}),m.jsx("option",{children:"Raw Footage Only"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Mission Details"}),m.jsx("textarea",{name:"details",defaultValue:G.details,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none h-24",placeholder:"Describe specific shots, locations, or requirements..."})]})]})]})}function j({setSubmitted:L,onCancel:K,currentUser:ee}){const ae="Graphic",fe=Xr(ae),A=JSON.parse(localStorage.getItem(fe)||"{}");return m.jsx(V,{title:ae,icon:v_,colorClass:"bg-purple-600",setSubmitted:L,initialData:A,onCancel:K,currentUser:ee,children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Type"}),m.jsxs("select",{name:"projectType",defaultValue:A.projectType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",children:[m.jsx("option",{children:"Event Poster / Flyer"}),m.jsx("option",{children:"Logo Design"}),m.jsx("option",{children:"Website Design"}),m.jsx("option",{children:"T-Shirt / Merch"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dimensions"}),m.jsx("input",{name:"dimensions",defaultValue:A.dimensions,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",placeholder:"e.g., 11x17"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Deadline"}),m.jsx("input",{name:"deadline",defaultValue:A.deadline,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Creative Brief"}),m.jsx("textarea",{name:"brief",defaultValue:A.brief,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-purple-500 outline-none h-32",placeholder:"Text content, colors, inspiration...",required:!0})]})]})})}function N({setSubmitted:L,onCancel:K,currentUser:ee}){const ae="Business",fe=Xr(ae),A=JSON.parse(localStorage.getItem(fe)||"{}");return m.jsx(V,{title:ae,icon:Fd,colorClass:"bg-emerald-600",setSubmitted:L,initialData:A,onCancel:K,currentUser:ee,children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Support Required"}),m.jsxs("select",{name:"assistanceType",defaultValue:A.assistanceType,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none",children:[m.jsx("option",{children:"Business Plan Review"}),m.jsx("option",{children:"Financial Modeling Help"}),m.jsx("option",{children:"Marketing Strategy"}),m.jsx("option",{children:"General Mentorship"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Concept Overview"}),m.jsx("textarea",{name:"description",defaultValue:A.description,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-emerald-500 outline-none h-40",placeholder:"Briefly describe your product or service...",required:!0})]})]})})}function _t({setSubmitted:L,onCancel:K,currentUser:ee}){const ae="Culinary",fe=Xr(ae),A=JSON.parse(localStorage.getItem(fe)||"{}");return m.jsx(V,{title:ae,icon:T_,colorClass:"bg-orange-500",setSubmitted:L,initialData:A,onCancel:K,currentUser:ee,children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),m.jsx("input",{name:"eventDate",defaultValue:A.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Serve Time"}),m.jsx("input",{name:"serveTime",defaultValue:A.serveTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Guest Count"}),m.jsx("input",{name:"guestCount",defaultValue:A.guestCount,type:"number",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",min:"1",placeholder:"50",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Style"}),m.jsxs("select",{name:"serviceStyle",defaultValue:A.serviceStyle,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none",children:[m.jsx("option",{children:"Buffet Style"}),m.jsx("option",{children:"Boxed Lunches"}),m.jsx("option",{children:"Plated Service"}),m.jsx("option",{children:"Appetizers"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Dietary Requirements"}),m.jsx("textarea",{name:"menuNotes",defaultValue:A.menuNotes,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-amber-500 outline-none h-24",placeholder:"Preferences, allergies, restrictions...",required:!0})]})]})})}function It({setSubmitted:L,onCancel:K,currentUser:ee,inventory:ae,blackouts:fe}){const A="Photo",B=Xr(A),G=JSON.parse(localStorage.getItem(B)||"{}"),[W,ie]=ye.useState(G.requestType||"service"),[oe,ve]=ye.useState({}),[Le,ce]=ye.useState(!1),[Te,De]=ye.useState({start:G.pickupDate||"",end:G.returnDate||""}),nt=pe=>{const be={...Te,[pe.target.name==="pickupDate"?"start":"end"]:pe.target.value};De(be)};ye.useEffect(()=>{(async()=>{if(!Te.start||!Te.end||W!=="checkout"){ce(!1);return}ce(!0);const be=Za(tr(Nn,"requests"),jc("dept","==","Photo"),jc("requestType","==","checkout")),Ae=await jv(be),Be={};Ae.forEach(we=>{const Ze=we.data();if(Ze.status==="Denied"||Ze.status==="Completed")return;const vn=Ze.pickupDate,Dn=Ze.returnDate;vn<=Te.end&&Dn>=Te.start&&Ze.equipment&&(Array.isArray(Ze.equipment)?Ze.equipment:[Ze.equipment]).forEach(st=>{Be[st]=(Be[st]||0)+1})});const Ce={};Object.keys(ae).forEach(we=>{const Ze=ae[we].count,vn=Be[we]||0;Ce[we]=Math.max(0,Ze-vn)}),ve(Ce)})()},[Te,W,ae]);const ot=Te.start&&Te.end&&Te.start===Te.end,de=Object.entries(ae).filter(([pe,be])=>be.category==="photo"||be.category==="general").sort((pe,be)=>pe[0].localeCompare(be[0]));return m.jsxs(V,{title:A,icon:Qd,colorClass:"bg-pink-600",setSubmitted:L,initialData:G,onCancel:K,currentUser:ee,blackouts:fe,children:[m.jsx("input",{type:"hidden",name:"requestType",value:W}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-2 ml-1",children:"Operation Type"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("button",{type:"button",onClick:()=>ie("service"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${W==="service"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsx(IS,{size:24}),m.jsx("span",{className:"font-bold",children:"Event Coverage"})]}),m.jsxs("button",{type:"button",onClick:()=>ie("checkout"),className:`p-4 rounded-xl border text-center transition-all duration-300 flex flex-col items-center justify-center gap-2 ${W==="checkout"?"bg-pink-950/40 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.2)]":"bg-slate-900 border-slate-800 text-slate-400 hover:border-slate-600"}`,children:[m.jsx(h_,{size:24}),m.jsx("span",{className:"font-bold",children:"Equipment Checkout"})]})]})]}),W==="checkout"?m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"bg-pink-900/20 p-4 rounded-lg border border-pink-500/30 text-sm text-pink-200 flex items-start gap-3",children:[m.jsx(m_,{className:"shrink-0 mt-0.5 text-pink-400",size:16}),m.jsxs("p",{children:[m.jsx("strong",{children:"Requirement:"})," Advanced Photo I certification required for DSLR bodies."]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Pickup Date"}),m.jsx("input",{name:"pickupDate",defaultValue:G.pickupDate,onChange:nt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),m.jsx("input",{name:"returnDate",defaultValue:G.returnDate,onChange:nt,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),ot&&m.jsxs("div",{className:"mb-4 animate-fade-in bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[m.jsx("label",{className:"block text-xs font-mono text-pink-400 uppercase mb-1",children:"Specific Duration"}),m.jsxs("select",{name:"durationHours",defaultValue:G.durationHours,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",children:[m.jsx("option",{value:"",children:"Select Duration..."}),m.jsx("option",{value:"1 Hour",children:"1 Hour"}),m.jsx("option",{value:"2 Hours",children:"2 Hours"}),m.jsx("option",{value:"Full Day (School Hours)",children:"Full Day"}),m.jsx("option",{value:"Overnight",children:"Overnight"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-3 ml-1",children:"Select Assets"}),Le?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:de.map(([pe,be])=>{const Ae=oe[pe]!==void 0?oe[pe]:99,Be=Ae<=0,Ce=pe.replace(" *","").replace("*","");return m.jsxs("label",{className:`flex items-center space-x-3 p-3 border rounded-lg transition-all duration-200 ${Be?"bg-slate-900/50 border-slate-800 opacity-50 cursor-not-allowed":"bg-slate-900 border-slate-800 hover:border-pink-500/50 hover:shadow-[0_0_10px_rgba(236,72,153,0.1)] cursor-pointer"}`,children:[m.jsx("input",{type:"checkbox",name:"equipment",value:pe,disabled:Be,defaultChecked:G.equipment?.includes(pe),className:"w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("span",{className:"text-slate-200 text-sm block font-medium",children:[Ce," ",be.requiresTraining&&m.jsx("span",{className:"text-red-400",children:"*"})]}),m.jsx("span",{className:`text-[10px] font-mono uppercase tracking-wider ${Be?"text-red-500":"text-emerald-500"}`,children:Be?"OFFLINE / UNAVAILABLE":`${Ae} UNITS ACTIVE`})]})]},pe)})}):m.jsxs("div",{className:"p-6 bg-slate-900/50 border border-slate-800 rounded-xl text-center text-slate-500 text-sm border-dashed",children:[m.jsx(Gd,{className:"inline-block mr-2 w-4 h-4 mb-1"}),"Select dates above to initialize inventory check."]})]}),m.jsx("div",{className:"mt-6 p-4 bg-slate-900 border border-slate-800 rounded-lg",children:m.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",required:!0,className:"mt-1 w-5 h-5 rounded border-slate-600 text-pink-600 focus:ring-pink-500 bg-slate-800"}),m.jsxs("span",{className:"text-xs text-slate-400 leading-relaxed",children:[m.jsx("strong",{children:"LIABILITY WAIVER:"})," By initializing this request, I accept full financial responsibility for equipment repair or replacement at market value in the event of damage, loss, or theft during my checkout period."]})]})})]}):m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),m.jsx("input",{name:"eventDate",defaultValue:G.eventDate,type:"date",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Start Time"}),m.jsx("input",{name:"startTime",defaultValue:G.startTime,type:"time",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Location"}),m.jsx("input",{name:"location",defaultValue:G.location,type:"text",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none",placeholder:"e.g., Gym"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Specific Shots"}),m.jsx("textarea",{name:"shotList",defaultValue:G.shotList,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-pink-500 outline-none h-24",placeholder:"Key moments..."})]})]})]})}};Ex.createRoot(document.getElementById("root")).render(m.jsx(ye.StrictMode,{children:m.jsx(QI,{})}));
