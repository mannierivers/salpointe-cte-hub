import{r as n,j as e,e as at,c as rt}from"./vendor-BraaEMZl.js";import{i as lt,g as nt,a as ot,G as it,o as ct,q as B,c as Y,b as V,d as he,w as dt,e as U,f as xt,s as te,h as mt,j as ut,k as se,u as ht}from"./firebase-Nileq-fm.js";import{L as be,A as bt,C as pe,H as ge,a as fe,b as je,S as Ne,c as ye,M as ve,Z as pt,F as gt,d as ft,e as jt,f as Nt,V as ae,P as we,B as re,U as le,g as ne,h as Se,i as yt,j as vt,k as Ce,l as wt,X as ke,m as St,D as Ct,E as kt,n as Dt,R as It,o as At,p as De,q as Et,r as Ie,T as Rt,G as Tt,s as Lt}from"./icons-55i9xIZ7.js";(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))I(p);new MutationObserver(p=>{for(const R of p)if(R.type==="childList")for(const M of R.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&I(M)}).observe(document,{childList:!0,subtree:!0});function H(p){const R={};return p.integrity&&(R.integrity=p.integrity),p.referrerPolicy&&(R.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?R.credentials="include":p.crossOrigin==="anonymous"?R.credentials="omit":R.credentials="same-origin",R}function I(p){if(p.ep)return;p.ep=!0;const R=H(p);fetch(p.href,R)}})();const _t={apiKey:"AIzaSyBrhttq9MepUX3ixZKbRvASR7BdjPVqugY",authDomain:"salpointe-cte-hub.firebaseapp.com",projectId:"salpointe-cte-hub",storageBucket:"salpointe-cte-hub.appspot.com",messagingSenderId:"462271958444",appId:"1:462271958444:web:78ee9c184dd9985fa0be09"},Te=lt(_t),q=nt(Te),oe=ot(Te),qt=new it,Ae="/assets/SC-LOGO-RGB-1tQQU51o.png",ie={SERVICE_ID:"service_dp1gjh1",TEMPLATE_ID:"template_kyo4h1e",PUBLIC_KEY:"CZo6tBrAGwmjLwTr6"},Ee=["krashka@salpointe.org","jelias@salpointe.org","cneff@salpointe.org","vdunk@salpointe.org","amartin@salpointe.org","jharris@salpointe.org","lsaulsby@salpointe.org","cjones@salpointe.org","cbarry@salpointe.org","erivers@salpointe.org"],ce={"Cinema Camera Kit":{count:1,category:"film",requiresTraining:!0},"Gimbal / Stabilizer":{count:6,category:"film",requiresTraining:!0},"DJI Mic Kit (Wireless)":{count:4,category:"film",requiresTraining:!1},"DJI Flip Drone":{count:1,category:"film",requiresTraining:!0},"Lighting Kit":{count:6,category:"film",requiresTraining:!1},Tripod:{count:8,category:"general",requiresTraining:!1},"DSLR Camera Body":{count:6,category:"photo",requiresTraining:!0},"Zoom Lens (18-55mm)":{count:6,category:"photo",requiresTraining:!1},"Telephoto Lens (70-200mm)":{count:2,category:"photo",requiresTraining:!1},"Portrait Lens (50mm)":{count:3,category:"photo",requiresTraining:!1},"SD Card Reader":{count:5,category:"photo",requiresTraining:!1},"Flash Unit":{count:3,category:"photo",requiresTraining:!1},"Serving Trays":{count:10,category:"culinary",requiresTraining:!1},"Chafing Dishes":{count:4,category:"culinary",requiresTraining:!1}},l={LANDING:"landing",DASHBOARD:"dashboard",FILM:"film",GRAPHIC:"graphic",BUSINESS:"business",CULINARY:"culinary",PHOTO:"photo",CALENDAR:"calendar",QUEUE:"queue",MY_REQUESTS:"my_requests",ANALYTICS:"analytics",INVENTORY:"inventory",FEEDBACK:"feedback",GAME:"game"},Mt=x=>`salpointe_draft_${x}`,Ft=x=>{at.send(ie.SERVICE_ID,ie.TEMPLATE_ID,x,ie.PUBLIC_KEY).then(w=>console.log("EMAIL SUCCESS!",w.status,w.text),w=>console.log("EMAIL FAILED...",w))},Re=x=>{if(!x||!x.toDate)return"N/A";try{return x.toDate().toLocaleDateString()}catch{return"Invalid Date"}},zt=()=>{const[x,w]=n.useState("landing"),[H,I]=n.useState(!1),[p,R]=n.useState(null),[M,Q]=n.useState(!1),[K,W]=n.useState(ce),[J,Le]=n.useState([]),[_e,de]=n.useState(0);n.useEffect(()=>{const a=ct(oe,f=>{f?(R(f),Q(Ee.includes(f.email))):(R(null),Q(!1))});return()=>a()},[]),n.useEffect(()=>{(async()=>{const v=U(q,"settings","inventory_v2"),u=await xt(v);u.exists()?W(u.data()):(await te(v,ce),W(ce))})();const f=B(Y(q,"blackout_dates")),o=V(f,v=>{const u=v.docs.map(g=>g.id);Le(u)});return()=>o()},[]);const xe=async()=>{try{await ut(oe,qt),w(l.DASHBOARD)}catch(a){console.error("Login failed:",a),alert("Login failed.")}},me=async()=>{await mt(oe),w("landing")},qe=()=>{w("landing"),I(!1)},F=()=>{w(l.DASHBOARD),I(!1)},Me=()=>{const a=_e+1;de(a),a===7&&(w(l.GAME),de(0))},Fe=[l.FILM,l.GRAPHIC,l.BUSINESS,l.CULINARY,l.PHOTO].includes(x);return e.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-cyan-500/30 flex flex-col",children:[e.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(6, 182, 212, 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),e.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none bg-gradient-to-b from-transparent via-slate-950/50 to-slate-950"}),e.jsx("header",{className:"bg-slate-900/80 backdrop-blur-xl border-b border-slate-800 sticky top-0 z-50 shadow-[0_4px_20px_rgba(0,0,0,0.4)]",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 md:py-4 flex flex-wrap items-center justify-between gap-y-3 relative z-10",children:[e.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:qe,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-red-600 blur-lg opacity-40 group-hover:opacity-60 transition-opacity rounded-full"}),e.jsx("img",{src:Ae,alt:"Salpointe Logo",className:"w-10 h-10 relative z-10 object-contain"})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg md:text-xl font-bold tracking-wider text-white group-hover:text-cyan-400 transition-colors flex items-center gap-2",children:["SALPOINTE ",e.jsx("span",{className:"text-red-500",children:"CTE"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-cyan-500 uppercase tracking-[0.2em] font-mono",children:"Tech Command Hub"})]})]}),p&&e.jsx("button",{onClick:me,className:"md:hidden absolute top-3 right-4 p-2 rounded-full bg-slate-800 border border-red-900/50 text-red-400 hover:bg-slate-700 z-50",title:"Logout",children:e.jsx(be,{size:18})}),e.jsxs("nav",{className:"flex items-center gap-1 md:gap-2 ml-auto",children:[!Fe&&x!=="landing"&&x!=="dashboard"&&e.jsxs("button",{onClick:F,className:"text-xs md:text-sm bg-slate-800 hover:bg-slate-700 border border-slate-700 text-cyan-400 px-3 py-2 rounded-lg transition-all flex items-center gap-2 mr-1 hover:shadow-[0_0_10px_rgba(6,182,212,0.2)]",children:[e.jsx(bt,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),x!=="landing"&&e.jsxs("button",{onClick:()=>{w(l.CALENDAR),I(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${x===l.CALENDAR?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[e.jsx(pe,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Schedule"})]}),p?e.jsxs(e.Fragment,{children:[x!=="landing"&&e.jsxs("button",{onClick:()=>{w(l.MY_REQUESTS),I(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${x===l.MY_REQUESTS?"bg-cyan-950/50 border-cyan-500 text-cyan-400 shadow-[0_0_10px_rgba(6,182,212,0.15)]":"border-transparent text-slate-400 hover:text-cyan-400 hover:bg-slate-800"}`,children:[e.jsx(ge,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"My Requests"})]}),M&&x!=="landing"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{w(l.QUEUE),I(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${x===l.QUEUE?"bg-purple-950/50 border-purple-500 text-purple-400 shadow-[0_0_10px_rgba(168,85,247,0.15)]":"border-transparent text-slate-400 hover:text-purple-400 hover:bg-slate-800"}`,children:[e.jsx(fe,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),e.jsxs("button",{onClick:()=>{w(l.ANALYTICS),I(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${x===l.ANALYTICS?"bg-emerald-950/50 border-emerald-500 text-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.15)]":"border-transparent text-slate-400 hover:text-emerald-400 hover:bg-slate-800"}`,children:[e.jsx(je,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),e.jsxs("button",{onClick:()=>{w(l.INVENTORY),I(!1)},className:`text-xs md:text-sm font-medium px-3 py-2 rounded-lg transition-all flex items-center gap-2 border ${x===l.INVENTORY?"bg-amber-950/50 border-amber-500 text-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.15)]":"border-transparent text-slate-400 hover:text-amber-400 hover:bg-slate-800"}`,children:[e.jsx(Ne,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Stock"})]})]}),e.jsx("div",{className:"hidden md:block w-px h-6 bg-slate-700 mx-1"}),e.jsx("button",{onClick:me,className:"hidden md:flex ml-1 text-xs md:text-sm font-medium px-3 py-2 rounded-lg border border-red-900/30 hover:border-red-500 text-red-400 hover:bg-red-950/30 transition-all items-center gap-2",title:`Logged in as ${p.email}`,children:e.jsx(be,{size:16})})]}):e.jsxs("button",{onClick:xe,className:"ml-2 text-xs md:text-sm font-bold bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-500 transition-all flex items-center gap-2 shadow-[0_0_15px_rgba(8,145,178,0.4)] border border-cyan-400",children:[e.jsx(ye,{size:16})," Login"]})]})]})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 py-6 md:py-10 relative z-10 flex-grow w-full",children:H?e.jsx($e,{onReset:F}):e.jsxs(e.Fragment,{children:[x===l.LANDING&&e.jsx(ze,{currentUser:p,onLogin:xe,onEnter:F}),x===l.DASHBOARD&&e.jsx(Oe,{onViewChange:w,currentUser:p}),x===l.FILM&&e.jsx(He,{setSubmitted:I,onCancel:F,currentUser:p,inventory:K,blackouts:J}),x===l.GRAPHIC&&e.jsx(Ke,{setSubmitted:I,onCancel:F,currentUser:p}),x===l.BUSINESS&&e.jsx(We,{setSubmitted:I,onCancel:F,currentUser:p}),x===l.CULINARY&&e.jsx(Je,{setSubmitted:I,onCancel:F,currentUser:p}),x===l.PHOTO&&e.jsx(Qe,{setSubmitted:I,onCancel:F,currentUser:p,inventory:K,blackouts:J}),x===l.CALENDAR&&e.jsx(Ue,{adminMode:M,blackouts:J}),x===l.QUEUE&&e.jsx(Ge,{adminMode:M,setAdminMode:Q,ALLOWED_ADMINS:Ee}),x===l.MY_REQUESTS&&e.jsx(Pe,{currentUser:p}),x===l.ANALYTICS&&M&&e.jsx(Be,{}),x===l.INVENTORY&&M&&e.jsx(Ye,{inventory:K,setInventory:W}),x===l.FEEDBACK&&e.jsx(Ve,{currentUser:p,adminMode:M,setSubmitted:I,onCancel:F}),x===l.GAME&&e.jsx(Ze,{onExit:F})]})}),e.jsx("footer",{className:"text-center py-8 px-4 border-t border-slate-800/50 mt-auto relative z-10 bg-slate-900/50",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 opacity-60 hover:opacity-100 transition-opacity duration-500",children:[e.jsx("img",{src:Ae,alt:"Salpointe Catholic High School",className:"w-8 h-8 opacity-80 grayscale hover:grayscale-0 transition-all"}),e.jsxs("p",{onClick:Me,className:"text-slate-500 text-xs font-mono tracking-widest uppercase cursor-default select-none",children:["© ",new Date().getFullYear()," Salpointe Catholic High School ",e.jsx("span",{className:"text-slate-700 mx-2",children:"|"})," CTE Department"]}),e.jsxs("button",{onClick:()=>w(l.FEEDBACK),className:"text-xs text-cyan-600 hover:text-cyan-400 flex items-center gap-1 transition-colors mt-2",children:[e.jsx(ve,{size:12})," Feedback & Support"]})]})})]});function ze({currentUser:a,onLogin:f,onEnter:o}){return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] text-center space-y-12 animate-fade-in",children:[e.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-950/50 border border-cyan-500/30 text-cyan-400 text-xs font-mono uppercase tracking-widest animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"}),"System Online v1.0"]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-white tracking-tight leading-tight",children:["Master the Tools. ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500",children:"Create Without Limits."})]}),e.jsx("p",{className:"text-lg md:text-xl text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"Your direct link to the CTE professional inventory. Secure the assets you need to build your portfolio—from cinema cameras to culinary prep. If you can dream it, you can reserve it."}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:a?e.jsxs("button",{onClick:o,className:"group relative px-8 py-4 bg-cyan-600 hover:bg-cyan-500 text-white text-lg font-bold rounded-xl shadow-[0_0_20px_rgba(8,145,178,0.4)] transition-all flex items-center gap-3 w-full sm:w-auto justify-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),e.jsx(pt,{size:24,className:"fill-white"})," Initialize Hub"]}):e.jsxs("button",{onClick:f,className:"group px-8 py-4 bg-white text-slate-900 hover:bg-slate-200 text-lg font-bold rounded-xl shadow-lg transition-all flex items-center gap-3 w-full sm:w-auto justify-center",children:[e.jsx(ye,{size:24})," Login to Access"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl w-full text-left",children:[e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-red-500/30 transition-colors group",children:[e.jsx("div",{className:"w-12 h-12 bg-red-900/20 rounded-lg flex items-center justify-center text-red-500 mb-4 group-hover:scale-110 transition-transform",children:e.jsx(gt,{size:24})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Paperless Protocol"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Deprecated legacy analog logs. Requests are now digital, trackable, and impossible to lose."})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-cyan-500/30 transition-colors group",children:[e.jsx("div",{className:"w-12 h-12 bg-cyan-900/20 rounded-lg flex items-center justify-center text-cyan-400 mb-4 group-hover:scale-110 transition-transform",children:e.jsx(ft,{size:24})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-Time Inventory"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Live database tracking prevents double-bookings. See exactly what gear is available, instantly."})]}),e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-6 rounded-2xl backdrop-blur-sm hover:border-emerald-500/30 transition-colors group",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-900/20 rounded-lg flex items-center justify-center text-emerald-400 mb-4 group-hover:scale-110 transition-transform",children:e.jsx(jt,{size:24})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Secure Access"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Authenticated via Salpointe Google Workspace. Your data is protected and your history is saved."})]})]})]})}function $e({onReset:a}){return e.jsxs("div",{className:"max-w-lg mx-auto bg-slate-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-slate-800 p-8 text-center animate-fade-in-up",children:[e.jsx("div",{className:"w-20 h-20 bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-6 text-green-400 shadow-[0_0_20px_rgba(74,222,128,0.2)]",children:e.jsx(Nt,{size:40})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Request Transmitted"}),e.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Your data has been securely logged in the mainframe. The department head has been notified via quantum link (email)."}),e.jsx("button",{onClick:a,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-[0_0_15px_rgba(8,145,178,0.4)]",children:"Return to Dashboard"})]})}function Oe({onViewChange:a,currentUser:f}){const[o,v]=n.useState({});n.useEffect(()=>{(()=>{const k={},h={[l.FILM]:"Film",[l.GRAPHIC]:"Graphic",[l.BUSINESS]:"Business",[l.CULINARY]:"Culinary",[l.PHOTO]:"Photo"};Object.keys(h).forEach(A=>{const N=Mt(h[A]);localStorage.getItem(N)&&(k[A]=!0)}),v(k)})()},[]);const u=[{id:l.FILM,title:"Film & TV",icon:ae,desc:"Checkout cameras, drones, and broadcast equipment.",color:"text-cyan-400",bg:"group-hover:shadow-cyan-500/20 group-hover:border-cyan-500/50"},{id:l.GRAPHIC,title:"Graphic Design",icon:we,desc:"Request logos, posters, websites, and creative assets.",color:"text-fuchsia-400",bg:"group-hover:shadow-fuchsia-500/20 group-hover:border-fuchsia-500/50"},{id:l.BUSINESS,title:"Business",icon:re,desc:"Submit business plans and startup consultations.",color:"text-emerald-400",bg:"group-hover:shadow-emerald-500/20 group-hover:border-emerald-500/50"},{id:l.CULINARY,title:"Culinary Arts",icon:le,desc:"Catering services for school clubs and events.",color:"text-amber-400",bg:"group-hover:shadow-amber-500/20 group-hover:border-amber-500/50"},{id:l.PHOTO,title:"Photography",icon:ne,desc:"Reserve DSLR bodies, lenses, and event coverage.",color:"text-pink-400",bg:"group-hover:shadow-pink-500/20 group-hover:border-pink-500/50"}];return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"col-span-full mb-4",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight mb-2",children:f?`Welcome, ${f.displayName.split(" ")[0]}.`:"Access Granted."}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Select a sector to initialize a request."})]}),u.map(g=>e.jsxs("div",{onClick:()=>a(g.id),className:`group relative bg-slate-900/40 backdrop-blur-sm rounded-2xl p-6 cursor-pointer border border-slate-800 transition-all duration-300 hover:-translate-y-1 ${g.bg}`,children:[o[g.id]&&e.jsxs("span",{className:"absolute top-4 right-4 bg-amber-500/10 text-amber-400 border border-amber-500/30 text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[e.jsx(Se,{size:12})," RESUME"]}),e.jsx("div",{className:`w-14 h-14 rounded-xl bg-slate-800/50 flex items-center justify-center mb-5 ${g.color} transition-transform group-hover:scale-110 duration-300`,children:e.jsx(g.icon,{size:28})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:g.title}),e.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:g.desc})]},g.id))]})}function Pe({currentUser:a}){const[f,o]=n.useState([]),[v,u]=n.useState(!0);n.useEffect(()=>{if(!a)return;const h=B(Y(q,"requests"),dt("email","==",a.email),he("createdAt","desc")),A=V(h,N=>{const T=N.docs.map(D=>({id:D.id,...D.data(),formattedDate:Re(D.data().createdAt)}));o(T),u(!1)});return()=>A()},[a]);const g=async h=>{window.confirm("Are you sure?")&&await se(U(q,"requests",h))},k=h=>{const A={Approved:"bg-green-950/50 text-green-400 border-green-500/30",Denied:"bg-red-950/50 text-red-400 border-red-500/30",Completed:"bg-slate-800 text-slate-400 border-slate-700",default:"bg-amber-950/50 text-amber-400 border-amber-500/30"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${A[h]||A.default}`,children:h})};return e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"bg-slate-950/50 border-b border-slate-800 p-6",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(ge,{className:"text-cyan-400"})," My Request History"]})}),e.jsx("div",{className:"overflow-x-auto",children:v?e.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"LOADING DATA..."}):f.length===0?e.jsx("div",{className:"p-12 text-center text-slate-500",children:"No records found."}):e.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-800/50 border-b border-slate-700 text-xs uppercase text-slate-400 font-mono",children:[e.jsx("th",{className:"p-4",children:"Ref ID"}),e.jsx("th",{className:"p-4",children:"Dept"}),e.jsx("th",{className:"p-4",children:"Project"}),e.jsx("th",{className:"p-4",children:"Date Submitted"}),e.jsx("th",{className:"p-4",children:"Status"}),e.jsx("th",{className:"p-4",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800",children:f.map(h=>e.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[e.jsx("td",{className:"p-4 text-cyan-400 font-mono text-xs",children:h.displayId}),e.jsx("td",{className:"p-4 text-slate-300 text-sm capitalize",children:h.dept}),e.jsx("td",{className:"p-4 font-semibold text-white text-sm",children:h.title}),e.jsx("td",{className:"p-4 text-slate-400 text-sm font-mono",children:h.formattedDate}),e.jsx("td",{className:"p-4",children:k(h.status)}),e.jsx("td",{className:"p-4",children:h.status==="Pending Review"&&e.jsx("button",{onClick:()=>g(h.id),className:"text-xs text-red-400 border border-red-900 hover:bg-red-950/50 px-3 py-1 rounded transition-colors",children:"Cancel"})})]},h.id))})]})})]})}function Ue({adminMode:a,blackouts:f}){const[o,v]=n.useState(new Date),[u,g]=n.useState(null),[k,h]=n.useState("all"),[A,N]=n.useState([]),[T,D]=n.useState(!0),_=()=>v(new Date(o.setMonth(o.getMonth()+1))),E=()=>v(new Date(o.setMonth(o.getMonth()-1)));n.useEffect(()=>{const t=B(Y(q,"requests")),d=V(t,r=>{const S=r.docs.map(i=>{const b=i.data();let G=b.eventDate||b.checkoutDate||b.pickupDate||b.deadline;if(!G)return null;const[Z,X,P]=G.split("-").map(Number),ee=new Date(Z,X-1,P);return{id:i.id,title:b.title||b.requestName||"Request",displayId:b.displayId,dept:b.dept,type:b.requestType==="checkout"||b.dept==="Graphic"?"checkout":"event",status:b.status,date:ee,...b}}).filter(i=>i!==null&&i.status==="Approved");N(S),D(!1)});return()=>d()},[]);const z=async t=>{const r=new Date(o.getFullYear(),o.getMonth(),t).toISOString().split("T")[0];if(a){f.includes(r)?window.confirm(`Re-open ${r}?`)&&await se(U(q,"blackout_dates",r)):window.confirm(`Blackout ${r}?`)&&await te(U(q,"blackout_dates",r),{reason:"Closed"});return}g(u===t?null:t)},L=t=>{const d=t.getFullYear(),r=t.getMonth(),S=new Date(d,r+1,0).getDate(),i=new Date(d,r,1).getDay();return{days:S,firstDay:i,monthName:t.toLocaleString("default",{month:"long"}),year:d}},{days:$,firstDay:O,monthName:s,year:j}=L(o),C=Array.from({length:$},(t,d)=>d+1),y=Array.from({length:O},(t,d)=>d),c=t=>A.filter(d=>d.date.getDate()===t&&d.date.getMonth()===o.getMonth()&&d.date.getFullYear()===o.getFullYear()&&(k==="all"||d.dept===k)),m=t=>{const d="https://calendar.google.com/calendar/render?action=TEMPLATE",r=`&text=${encodeURIComponent(`[${t.dept}] ${t.title}`)}`,S=`&details=${encodeURIComponent(`Ref: ${t.displayId}
Requested by: ${t.fullName}
Role: ${t.role}
Details: ${t.details||t.brief||t.description||"N/A"}`)}`,i=`&location=${encodeURIComponent(t.location||"Salpointe Catholic High School")}`,b=t.date.getFullYear(),G=String(t.date.getMonth()+1).padStart(2,"0"),Z=String(t.date.getDate()).padStart(2,"0"),X=`${b}${G}${Z}`,P=new Date(t.date);P.setDate(P.getDate()+1);const ee=P.getFullYear(),Xe=String(P.getMonth()+1).padStart(2,"0"),et=String(P.getDate()).padStart(2,"0"),tt=`${ee}${Xe}${et}`,st=`&dates=${X}/${tt}`;return`${d}${r}${st}${S}${i}`};return e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"bg-slate-950/50 p-6 border-b border-slate-800 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-4 mb-1",children:[e.jsx("button",{onClick:E,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:e.jsx(yt,{size:24})}),e.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[s," ",e.jsx("span",{className:"text-slate-500",children:j})]}),e.jsx("button",{onClick:_,className:"p-1 hover:bg-slate-800 rounded-full transition-colors text-cyan-400",children:e.jsx(vt,{size:24})})]})}),e.jsx("div",{className:"flex bg-slate-800/50 rounded-lg p-1 w-full md:w-auto overflow-x-auto",children:["all",l.FILM,l.PHOTO,l.CULINARY].map(t=>e.jsx("button",{onClick:()=>h(t),className:`flex-1 md:flex-none px-3 md:px-4 py-1.5 rounded-md text-xs md:text-sm font-medium transition-all whitespace-nowrap capitalize ${k===t?"bg-cyan-600 text-white shadow-[0_0_10px_rgba(8,145,178,0.4)]":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:t==="all"?"All":t},t))})]}),e.jsxs("div",{className:"p-6",children:[a&&e.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 border border-slate-700 rounded text-xs text-slate-400 flex items-center gap-2 font-mono",children:[e.jsx(Ce,{size:14,className:"text-red-400"})," Admin Mode: Click a date to toggle blackout."]}),e.jsx("div",{className:"overflow-x-auto pb-2",children:T?e.jsx("div",{className:"text-center py-8 text-slate-500 font-mono",children:"LOADING MATRIX..."}):e.jsxs("div",{className:"min-w-[600px] md:min-w-0 grid grid-cols-7 gap-px bg-slate-800 border border-slate-800 rounded-xl overflow-hidden shadow-inner",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(t=>e.jsx("div",{className:"bg-slate-900 p-2 text-center text-xs font-bold text-slate-500 uppercase tracking-wider",children:t},t)),y.map(t=>e.jsx("div",{className:"bg-slate-950/50 min-h-[80px] md:min-h-[100px]"},`empty-${t}`)),C.map(t=>{const d=c(t),r=t===new Date().getDate()&&o.getMonth()===new Date().getMonth()&&o.getFullYear()===new Date().getFullYear(),S=new Date(j,o.getMonth(),t).toISOString().split("T")[0],i=f.includes(S);return e.jsxs("div",{className:`min-h-[80px] md:min-h-[100px] p-1 md:p-2 border-t border-slate-800 relative group cursor-pointer transition-colors ${i?"bg-slate-900/30":"bg-slate-950/50"} ${u===t?"bg-cyan-900/20 border-cyan-500/30":"hover:bg-slate-900"}`,onClick:()=>z(t),children:[e.jsx("span",{className:`text-xs md:text-sm font-medium inline-block w-6 h-6 md:w-7 md:h-7 leading-6 md:leading-7 text-center rounded-full mb-1 ${r?"bg-red-600 text-white shadow-[0_0_10px_rgba(220,38,38,0.5)]":"text-slate-400"}`,children:t}),i?e.jsx("div",{className:"flex justify-center mt-2",children:e.jsx(Ce,{className:"text-red-900/50",size:20})}):e.jsx("div",{className:"space-y-1",children:d.map(b=>e.jsx("div",{className:`text-[10px] md:text-xs p-1 rounded border truncate ${b.type==="checkout"?"bg-cyan-950/50 text-cyan-400 border-cyan-800/50":"bg-emerald-950/50 text-emerald-400 border-emerald-800/50"}`,children:b.title},b.id))})]},t)})]})}),u&&!f.includes(new Date(j,o.getMonth(),u).toISOString().split("T")[0])&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-900/50 rounded-xl border border-slate-800 animate-fade-in",children:[e.jsxs("h4",{className:"font-bold text-white mb-3 flex items-center gap-2",children:[e.jsx(pe,{size:16,className:"text-cyan-400"})," ",s," ",u]}),c(u).length===0?e.jsx("p",{className:"text-slate-500 text-sm",children:"Sector clear. No events."}):e.jsx("div",{className:"space-y-3",children:c(u).map(t=>e.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-3 rounded-lg border border-slate-700 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-200 text-sm",children:t.title}),e.jsxs("p",{className:"text-xs text-slate-400 uppercase",children:[t.dept," • ",t.fullName]})]}),e.jsx("a",{href:m(t),target:"_blank",rel:"noopener noreferrer",className:"bg-slate-700 hover:bg-slate-600 p-2 rounded text-white transition-colors",children:e.jsx(wt,{size:16})})]},t.id))})]})]})]})}function Ge({adminMode:a,setAdminMode:f,ALLOWED_ADMINS:o}){const[v,u]=n.useState([]),[g,k]=n.useState("all"),[h,A]=n.useState(!0),[N,T]=n.useState(null),[D,_]=n.useState("");n.useEffect(()=>{const s=B(Y(q,"requests"),he("createdAt","desc")),j=V(s,C=>{const y=C.docs.map(c=>({id:c.id,...c.data(),formattedDate:Re(c.data().createdAt)}));u(y),A(!1)});return()=>j()},[]);const E=async(s,j)=>{window.confirm(`Confirm status change to: ${j}?`)&&(await ht(U(q,"requests",s.id),{status:j}),N&&N.id===s.id&&T(C=>({...C,status:j})),Ft({to_name:s.fullName,to_email:s.email,subject:`Request Update: ${s.title}`,title:s.title,status:j,message:`Status updated to ${j}.`}))},z=async s=>{window.confirm("Delete this record permanently?")&&(await se(U(q,"requests",s)),N&&N.id===s&&T(null))},L=()=>{const s=["ID","Department","Title","User","Email","Date Submitted","Status","Details"],j=v.map(m=>[m.displayId,m.dept,`"${m.title}"`,m.fullName,m.email,m.formattedDate,m.status,`"${(m.details||m.brief||m.description||"").replace(/"/g,'""')}"`]),C="data:text/csv;charset=utf-8,"+[s.join(","),...j.map(m=>m.join(","))].join(`
`),y=encodeURI(C),c=document.createElement("a");c.setAttribute("href",y),c.setAttribute("download","cte_requests_export.csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c)},$=v.filter(s=>{const j=g==="all"?!0:s.dept?.toLowerCase().includes(g.toLowerCase()),C=D.toLowerCase(),y=s.title&&s.title.toLowerCase().includes(C)||s.fullName&&s.fullName.toLowerCase().includes(C)||s.displayId&&s.displayId.toLowerCase().includes(C)||s.email&&s.email.toLowerCase().includes(C);return j&&y}),O=s=>{switch(s){case"Approved":return"bg-green-950/50 text-green-400 border-green-500/30";case"Denied":return"bg-red-950/50 text-red-400 border-red-500/30";case"Completed":return"bg-slate-800 text-slate-400 border-slate-700";default:return"bg-amber-950/50 text-amber-400 border-amber-500/30"}};return e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden shadow-2xl relative",children:[N&&e.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start sticky top-0 bg-slate-900 z-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Data Packet"}),e.jsxs("div",{className:"flex gap-3 text-xs text-cyan-500 font-mono mt-1",children:[e.jsxs("span",{children:["ID: ",N.displayId||"N/A"]}),e.jsxs("span",{className:"opacity-50",children:["| Ref: ",N.id]})]})]}),e.jsx("button",{onClick:()=>T(null),className:"text-slate-400 hover:text-white hover:bg-slate-800 p-2 rounded-full transition-colors",children:e.jsx(ke,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Sector"}),e.jsx("p",{className:"font-semibold text-white capitalize",children:N.dept})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${O(N.status)}`,children:N.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Operative"}),e.jsx("p",{className:"text-slate-200",children:N.fullName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider block mb-1",children:"Comm Link"}),e.jsx("p",{className:"text-slate-200 font-mono text-sm",children:N.email})]})]}),e.jsxs("div",{className:"border-t border-slate-800 pt-4",children:[e.jsxs("h4",{className:"font-bold text-slate-300 mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[e.jsx(re,{size:16,className:"text-cyan-500"})," Mission Details"]}),e.jsx("div",{className:"bg-slate-950/50 rounded-lg p-4 space-y-4 border border-slate-800",children:Object.entries(N).map(([s,j])=>["id","dept","status","fullName","email","role","formattedDate","createdAt","title","requestName","displayId"].includes(s)?null:Array.isArray(j)?e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:s}),e.jsx("ul",{className:"list-disc list-inside text-sm text-slate-300 bg-slate-900 p-2 rounded border border-slate-800",children:j.map((C,y)=>e.jsx("li",{children:C},y))})]},s):e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsx("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:j})]},s))})]}),a&&e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[e.jsx("h4",{className:"font-bold text-slate-400 mb-3 text-xs uppercase tracking-wide",children:"Command Actions"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>E(N,"Approved"),className:"flex-1 py-2 bg-green-900/30 text-green-400 border border-green-900 hover:bg-green-900/50 rounded text-sm font-medium transition-colors",children:"Approve"}),e.jsx("button",{onClick:()=>E(N,"Denied"),className:"flex-1 py-2 bg-red-900/30 text-red-400 border border-red-900 hover:bg-red-900/50 rounded text-sm font-medium transition-colors",children:"Deny"})]})]})]})]})}),e.jsxs("div",{className:"bg-slate-950/50 border-b border-slate-800 p-4 md:p-6 flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[e.jsx(fe,{className:"text-purple-400"})," Request Log"]}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Live Database Feed"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full lg:w-auto",children:[e.jsxs("div",{className:"relative flex-1 lg:w-64",children:[e.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500",size:16}),e.jsx("input",{type:"text",placeholder:"Search database...",className:"w-full bg-slate-900 text-white border border-slate-700 rounded-lg pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-cyan-500 placeholder-slate-600",value:D,onChange:s=>_(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"bg-slate-900 text-white border border-slate-700 rounded-lg px-4 py-2 text-sm focus:border-cyan-500 outline-none",value:g,onChange:s=>k(s.target.value),children:[e.jsx("option",{value:"all",children:"All Sectors"}),e.jsx("option",{value:"film",children:"Film"}),e.jsx("option",{value:"graphic",children:"Graphic"}),e.jsx("option",{value:"business",children:"Business"}),e.jsx("option",{value:"culinary",children:"Culinary"}),e.jsx("option",{value:"photo",children:"Photo"})]}),a&&e.jsxs("button",{onClick:L,className:"bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 border border-emerald-900 px-3 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",title:"Download CSV",children:[e.jsx(Ct,{size:16})," ",e.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:h?e.jsx("div",{className:"p-8 text-center text-slate-500 font-mono",children:"INITIALIZING STREAM..."}):e.jsxs("table",{className:"w-full text-left border-collapse min-w-[700px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-900/50 border-b border-slate-800 text-xs uppercase text-slate-500 font-mono",children:[e.jsx("th",{className:"p-4",children:"ID Code"}),e.jsx("th",{className:"p-4",children:"Sector"}),e.jsx("th",{className:"p-4",children:"Objective"}),e.jsx("th",{className:"p-4",children:"Agent"}),e.jsx("th",{className:"p-4",children:"Status"}),e.jsx("th",{className:"p-4",children:"View"}),a&&e.jsx("th",{className:"p-4",children:"Override"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800",children:$.map(s=>e.jsxs("tr",{className:"hover:bg-slate-800/40 transition-colors",children:[e.jsx("td",{className:"p-4 text-cyan-600 font-mono text-xs",children:s.displayId}),e.jsx("td",{className:"p-4 text-slate-400 text-sm capitalize",children:s.dept}),e.jsx("td",{className:"p-4 text-white font-medium text-sm",children:s.title}),e.jsx("td",{className:"p-4 text-slate-400 text-sm",children:s.fullName}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase border ${O(s.status)}`,children:s.status})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>T(s),className:"text-slate-500 hover:text-cyan-400 p-2 transition-colors",children:e.jsx(kt,{size:20})})}),a&&e.jsxs("td",{className:"p-4 flex gap-2",children:[e.jsx("button",{onClick:()=>E(s,"Approved"),className:"p-1 bg-green-900/20 text-green-500 rounded hover:bg-green-900/40",children:e.jsx(Dt,{size:16})}),e.jsx("button",{onClick:()=>E(s,"Denied"),className:"p-1 bg-red-900/20 text-red-500 rounded hover:bg-red-900/40",children:e.jsx(ke,{size:16})}),e.jsx("button",{onClick:()=>z(s.id),className:"p-1 bg-slate-800 text-slate-500 rounded hover:bg-slate-700",children:e.jsx("span",{className:"font-mono text-xs font-bold px-1",children:"DEL"})})]})]},s.id))})]})})]})}function Be(){return e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-2xl border border-slate-800 p-12 text-center animate-fade-in",children:[e.jsx("div",{className:"inline-flex p-4 rounded-full bg-emerald-900/20 text-emerald-400 mb-6 shadow-[0_0_20px_rgba(52,211,153,0.3)]",children:e.jsx(je,{size:48})}),e.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Analytics Module"}),e.jsx("p",{className:"text-slate-400 max-w-md mx-auto leading-relaxed",children:"Data visualization protocols are currently compiling. This module will track usage frequency, peak request times, and inventory depletion rates."})]})}function Ye({inventory:a,setInventory:f}){const[o,v]=n.useState(!1),[u,g]=n.useState(a),[k,h]=n.useState(!1),[A,N]=n.useState(!1),[T,D]=n.useState(""),[_,E]=n.useState(1),[z,L]=n.useState("film"),[$,O]=n.useState(!1);n.useEffect(()=>{o||g(a)},[a,o]);const s=()=>{o&&k&&!window.confirm("You have unsaved changes. Discard them?")||(g(a),v(!o),h(!1))},j=(r,S,i)=>{g(b=>({...b,[r]:{...b[r],[S]:i}})),h(!0)},C=r=>{if(window.confirm(`Permanently remove "${r}" from the database?`)){const S={...u};delete S[r],g(S),h(!0)}},y=r=>{if(r.preventDefault(),!T.trim())return;const S=T.trim();if(u[S]){alert("An item with this name already exists.");return}g(i=>({...i,[S]:{count:parseInt(_)||0,category:z,requiresTraining:$}})),D(""),E(1),h(!0)},c=async()=>{if(window.confirm("Are you sure you want to commit these changes to the live system?")){N(!0);try{await te(U(q,"settings","inventory_v2"),u),f(u),v(!1),h(!1),alert("✅ Inventory Database Updated Successfully")}catch(r){console.error("Save failed:",r),alert("❌ Error: Could not save changes.")}finally{N(!1)}}},m=[{id:"film",label:"Film & TV Equipment",icon:ae,color:"text-cyan-400",border:"border-cyan-500/30",bg:"bg-cyan-950/20"},{id:"photo",label:"Photography Gear",icon:ne,color:"text-pink-400",border:"border-pink-500/30",bg:"bg-pink-950/20"},{id:"culinary",label:"Culinary Supplies",icon:le,color:"text-amber-400",border:"border-amber-500/30",bg:"bg-amber-950/20"},{id:"general",label:"General Stock",icon:Et,color:"text-slate-400",border:"border-slate-700",bg:"bg-slate-900/50"}],d=(()=>{const r={film:[],photo:[],culinary:[],general:[]};return Object.entries(u).forEach(([S,i])=>{const b=i.category||"general";r[b]?r[b].push({name:S,...i}):r.general.push({name:S,...i})}),r})();return e.jsxs("div",{className:`bg-slate-900/80 backdrop-blur-xl rounded-2xl border overflow-hidden shadow-2xl transition-colors duration-300 ${o?"border-indigo-500/30":"border-slate-800"}`,children:[e.jsxs("div",{className:`p-6 border-b flex flex-col sm:flex-row justify-between items-center gap-4 transition-colors ${o?"bg-indigo-950/20 border-indigo-500/30":"bg-slate-950/50 border-slate-800"}`,children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(Ne,{className:o?"text-indigo-400":"text-amber-400"}),"Inventory Master List"]}),e.jsx("p",{className:`text-sm transition-colors ${o?"text-indigo-300":"text-slate-400"}`,children:o?"EDIT MODE ACTIVE: Review changes before saving.":"View-only mode. Authenticated admins may edit."})]}),e.jsx("div",{className:"flex gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s,className:"px-4 py-2 rounded-lg font-medium text-slate-400 hover:text-white hover:bg-slate-800 border border-transparent hover:border-slate-600 transition-all",children:"Cancel"}),e.jsxs("button",{onClick:c,disabled:!k||A,className:`px-6 py-2 rounded-lg font-bold flex items-center gap-2 shadow-lg transition-all ${k?"bg-green-600 hover:bg-green-500 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-700"}`,children:[A?e.jsx(It,{className:"animate-spin",size:18}):e.jsx(Se,{size:18}),"Save Changes"]})]}):e.jsxs("button",{onClick:s,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 shadow-lg hover:shadow-indigo-500/20 transition-all",children:[e.jsx(At,{size:18})," Edit Inventory"]})})]}),o&&e.jsx("div",{className:"p-6 bg-slate-900/50 border-b border-indigo-500/20 animate-fade-in",children:e.jsxs("div",{className:"bg-slate-800/40 p-4 rounded-xl border border-slate-700/50",children:[e.jsxs("h3",{className:"text-xs font-bold text-indigo-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[e.jsx(De,{size:14})," Add New Asset"]}),e.jsxs("form",{onSubmit:y,className:"flex flex-col md:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"flex-1 w-full",children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1 ml-1",children:"Asset Name"}),e.jsx("input",{type:"text",value:T,onChange:r=>D(r.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white text-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500/50 outline-none transition-all",placeholder:"e.g. GoPro Hero 11 Black"})]}),e.jsxs("div",{className:"w-24",children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1 ml-1",children:"Qty"}),e.jsx("input",{type:"number",min:"0",value:_,onChange:r=>E(r.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white text-sm focus:border-indigo-500 outline-none transition-all"})]}),e.jsxs("div",{className:"w-40",children:[e.jsx("label",{className:"block text-xs text-slate-500 mb-1 ml-1",children:"Category"}),e.jsxs("select",{value:z,onChange:r=>L(r.target.value),className:"w-full bg-slate-950 border border-slate-700 rounded-lg p-2.5 text-white text-sm focus:border-indigo-500 outline-none transition-all",children:[e.jsx("option",{value:"film",children:"Film & TV"}),e.jsx("option",{value:"photo",children:"Photography"}),e.jsx("option",{value:"culinary",children:"Culinary Arts"}),e.jsx("option",{value:"general",children:"General Stock"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pb-3 px-2",children:[e.jsx("input",{type:"checkbox",checked:$,onChange:r=>O(r.target.checked),className:"w-4 h-4 rounded bg-slate-950 border-slate-600 accent-indigo-500 cursor-pointer"}),e.jsx("label",{className:"text-xs text-slate-400 cursor-pointer",onClick:()=>O(!$),children:"Training Req."})]}),e.jsx("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-500 text-white p-2.5 rounded-lg transition-all shadow-lg hover:shadow-indigo-500/20",children:e.jsx(De,{size:20})})]})]})}),e.jsx("div",{className:"p-6 space-y-8",children:m.map(r=>{const S=d[r.id];return!S||S.length===0?null:e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:`flex items-center gap-3 mb-4 pb-2 border-b ${r.border}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${r.bg} ${r.color}`,children:e.jsx(r.icon,{size:20})}),e.jsx("h3",{className:`text-lg font-bold ${r.color}`,children:r.label})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.sort((i,b)=>i.name.localeCompare(b.name)).map(i=>e.jsx("div",{className:`group relative p-3 rounded-xl border transition-all duration-300 ${o?"bg-slate-900 border-indigo-900/30":"bg-slate-950/40 border-slate-800 hover:border-slate-700"}`,children:e.jsxs("div",{className:"flex justify-between items-center h-full",children:[e.jsxs("div",{className:"flex-1 mr-4 min-w-0",children:[e.jsx("div",{className:"font-medium text-slate-200 text-sm truncate",title:i.name,children:i.name}),o?e.jsxs("label",{className:"flex items-center gap-1.5 mt-1.5 cursor-pointer w-fit p-1 -ml-1 rounded hover:bg-slate-800 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:i.requiresTraining,onChange:b=>j(i.name,"requiresTraining",b.target.checked),className:"rounded border-slate-600 bg-slate-800 accent-red-500 w-3 h-3"}),e.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wide ${i.requiresTraining?"text-red-400":"text-slate-600"}`,children:"Training Required"})]}):i.requiresTraining&&e.jsx("div",{className:"mt-1",children:e.jsxs("span",{className:"text-[10px] font-bold text-red-400 bg-red-950/30 border border-red-900/50 px-2 py-0.5 rounded-full inline-flex items-center gap-1",children:[e.jsx(Ie,{size:8})," TRAINING REQ"]})})]}),e.jsx("div",{className:"flex items-center gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center bg-slate-950 rounded-lg border border-slate-700 overflow-hidden",children:[e.jsx("button",{onClick:()=>j(i.name,"count",Math.max(0,i.count-1)),className:"px-2 py-1.5 text-slate-400 hover:text-white hover:bg-slate-800 transition-colors bg-slate-900 border-r border-slate-800 active:bg-slate-700",children:"-"}),e.jsx("input",{type:"number",value:i.count,onChange:b=>j(i.name,"count",parseInt(b.target.value)||0),className:"w-12 text-center bg-transparent text-sm font-mono text-white focus:outline-none appearance-none font-bold"}),e.jsx("button",{onClick:()=>j(i.name,"count",i.count+1),className:"px-2 py-1.5 text-slate-400 hover:text-white hover:bg-slate-800 transition-colors bg-slate-900 border-l border-slate-800 active:bg-slate-700",children:"+"})]}),e.jsx("button",{onClick:()=>C(i.name),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-950/30 rounded-lg border border-transparent hover:border-red-900/30 transition-all",title:"Delete Asset",children:e.jsx(Rt,{size:16})})]}):e.jsxs("div",{className:"bg-slate-900 border border-slate-800 px-3 py-1.5 rounded-lg flex flex-col items-center min-w-[50px]",children:[e.jsx("span",{className:`text-sm font-mono font-bold ${i.count===0?"text-red-500":"text-cyan-400"}`,children:i.count}),e.jsx("span",{className:"text-[9px] text-slate-600 uppercase font-bold tracking-wider",children:"Stock"})]})})]})},i.name))})]},r.id)})})]})}function Ve({setSubmitted:a,onCancel:f}){return e.jsx(FormContainer,{title:"System Feedback",icon:ve,colorClass:"bg-slate-500",setSubmitted:a,onCancel:f,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-cyan-900/20 border border-cyan-500/30 rounded-lg text-sm text-cyan-200",children:e.jsx("p",{children:"Encountered a bug or have a feature request? Let the development team know directly."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Message Type"}),e.jsxs("select",{name:"feedbackType",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[e.jsx("option",{children:"Bug Report"}),e.jsx("option",{children:"Feature Request"}),e.jsx("option",{children:"General Inquiry"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Details"}),e.jsx("textarea",{name:"details",rows:5,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"Describe the issue...",required:!0})]})]})})}function ue({inventory:a,category:f}){const o=Object.entries(a).filter(([v,u])=>u.category===f);return e.jsxs("div",{className:"bg-slate-950/50 p-4 rounded-lg border border-slate-800 mt-4",children:[e.jsx("h4",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-3 border-b border-slate-800 pb-2",children:"Equipment Request"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:o.map(([v,u])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900 border border-slate-800 rounded hover:border-slate-600 transition-colors",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-slate-200 font-medium",children:v}),u.requiresTraining&&e.jsxs("span",{className:"text-[10px] text-amber-500 flex items-center gap-1",children:[e.jsx(Ie,{size:10})," Training Req."]})]}),e.jsx("input",{type:"number",name:`gear_${v}`,min:"0",max:"5",placeholder:"0",className:"w-12 bg-slate-950 border border-slate-700 rounded p-1 text-center text-white text-sm focus:border-cyan-500 outline-none"})]},v))})]})}function He(a){return e.jsx(FormContainer,{title:"Film & TV",icon:ae,colorClass:"bg-cyan-400",...a,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),e.jsx("input",{type:"date",name:"checkoutDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),e.jsx("input",{type:"date",name:"returnDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Shoot Location"}),e.jsx("input",{type:"text",name:"location",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"e.g. Gym, Field, Off-campus",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Project Details"}),e.jsx("textarea",{name:"details",rows:3,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"Describe the shoot...",required:!0})]}),e.jsx(ue,{inventory:a.inventory,category:"film"})]})})}function Qe(a){return e.jsx(FormContainer,{title:"Photography",icon:ne,colorClass:"bg-pink-400",...a,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Checkout Date"}),e.jsx("input",{type:"date",name:"checkoutDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Return Date"}),e.jsx("input",{type:"date",name:"returnDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event / Subject"}),e.jsx("input",{type:"text",name:"eventSubject",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"e.g. Senior Portraits",required:!0})]}),e.jsx(ue,{inventory:a.inventory,category:"photo"})]})})}function Ke(a){return e.jsx(FormContainer,{title:"Graphic Design",icon:we,colorClass:"bg-fuchsia-400",...a,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Deadline"}),e.jsx("input",{type:"date",name:"deadline",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Format"}),e.jsxs("select",{name:"format",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[e.jsx("option",{children:"Digital (Social Media/Web)"}),e.jsx("option",{children:"Print (Poster/Flyer)"}),e.jsx("option",{children:"Apparel"}),e.jsx("option",{children:"Logo / Branding"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Design Brief"}),e.jsx("textarea",{name:"brief",rows:4,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"Describe colors, style, text required...",required:!0})]})]})})}function We(a){return e.jsx(FormContainer,{title:"Business & Startup",icon:re,colorClass:"bg-emerald-400",...a,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Meeting Date"}),e.jsx("input",{type:"date",name:"eventDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Service Type"}),e.jsxs("select",{name:"serviceType",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",children:[e.jsx("option",{children:"Consultation"}),e.jsx("option",{children:"Business Plan Review"}),e.jsx("option",{children:"Marketing Strategy"}),e.jsx("option",{children:"Pitch Deck Prep"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Objective"}),e.jsx("textarea",{name:"objective",rows:4,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"What are your goals?",required:!0})]})]})})}function Je(a){return e.jsx(FormContainer,{title:"Culinary Arts",icon:le,colorClass:"bg-amber-400",...a,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Event Date"}),e.jsx("input",{type:"date",name:"eventDate",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Headcount"}),e.jsx("input",{type:"number",name:"headcount",className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"e.g. 50",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-mono text-slate-500 uppercase mb-1 ml-1",children:"Menu Requirements"}),e.jsx("textarea",{name:"menu",rows:4,className:"w-full bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 focus:border-cyan-500 outline-none",placeholder:"Dietary restrictions, food preferences...",required:!0})]})]})})}function Ze({onExit:a}){const f=n.useRef(null),[o,v]=n.useState("start"),[u,g]=n.useState(0),[k,h]=n.useState(parseInt(localStorage.getItem("lancer_highscore")||"0")),A=.6,N=-10,T=5,D=50,_=n.useRef({x:50,y:200,vy:0,width:40,height:40,isJumping:!1}),E=n.useRef([]),z=n.useRef(0),L=n.useRef(0),$=n.useRef(null),O=()=>{_.current.isJumping||(_.current.vy=N,_.current.isJumping=!0)},s=()=>{v("playing"),g(0),L.current=0,_.current={x:50,y:200,vy:0,width:40,height:40,isJumping:!1},E.current=[],z.current=0,j()},j=()=>{const y=f.current;if(!y)return;const c=y.getContext("2d");c.fillStyle="#0f172a",c.fillRect(0,0,y.width,y.height),c.strokeStyle="#22d3ee",c.lineWidth=2,c.beginPath(),c.moveTo(0,y.height-D),c.lineTo(y.width,y.height-D),c.stroke();const m=_.current;if(m.vy+=A,m.y+=m.vy,m.y>y.height-D-m.height&&(m.y=y.height-D-m.height,m.vy=0,m.isJumping=!1),c.font="32px Arial",c.fillText("🏇",m.x,m.y+32),z.current++,z.current%100===0){const t=Math.random()>.5?"📹":"F";E.current.push({x:y.width,y:y.height-D-30,width:30,height:30,type:t})}for(let t=E.current.length-1;t>=0;t--){const d=E.current[t];if(d.x-=T,c.fillStyle=d.type==="F"?"#ef4444":"#fbbf24",c.font="28px Arial",c.fillText(d.type,d.x,d.y+28),m.x<d.x+d.width&&m.x+m.width>d.x&&m.y<d.y+d.height&&m.y+m.height>d.y){C();return}d.x+d.width<0&&(E.current.splice(t,1),L.current+=10,g(L.current))}c.fillStyle="#fff",c.font="16px monospace",c.fillText(`SCORE: ${L.current}`,10,20),$.current=requestAnimationFrame(j)},C=()=>{cancelAnimationFrame($.current),v("gameover"),L.current>k&&(h(L.current),localStorage.setItem("lancer_highscore",L.current.toString()))};return n.useEffect(()=>{const y=c=>{(c.code==="Space"||c.code==="ArrowUp")&&(o==="playing"?O():o!=="playing"&&s())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[o]),e.jsxs("div",{className:"max-w-3xl mx-auto bg-black border-4 border-slate-700 rounded-xl overflow-hidden font-mono shadow-2xl relative animate-fade-in select-none",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] z-10 pointer-events-none bg-[length:100%_2px,3px_100%]"}),e.jsxs("div",{className:"bg-slate-900 p-4 border-b-4 border-slate-700 flex justify-between items-center relative z-20",children:[e.jsxs("div",{className:"text-green-400 text-xs flex items-center gap-2",children:[e.jsx(Tt,{size:14})," LANCER_RUN.EXE"]}),e.jsxs("div",{className:"text-yellow-400 text-xs flex items-center gap-2",children:[e.jsx(Lt,{size:14})," HI-SCORE: ",k]}),e.jsx("button",{onClick:a,className:"text-red-500 hover:text-red-400 text-xs uppercase font-bold",children:"[ EXIT SYSTEM ]"})]}),e.jsxs("div",{className:"relative bg-slate-950",style:{height:"300px"},children:[e.jsx("canvas",{ref:f,width:700,height:300,className:"w-full h-full block"}),o==="start"&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 z-20",children:[e.jsx("h2",{className:"text-4xl font-bold text-cyan-400 mb-4 tracking-widest glitch-text",children:"LANCER RUN"}),e.jsx("p",{className:"text-slate-300 text-sm mb-6",children:"Space/Up to Jump. Avoid the F's!"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-black font-bold rounded blink-anim",children:"INSERT COIN (START)"})]}),o==="gameover"&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-red-900/40 z-20 backdrop-blur-sm",children:[e.jsx("h2",{className:"text-4xl font-bold text-red-500 mb-2",children:"CRITICAL FAILURE"}),e.jsxs("p",{className:"text-white text-xl mb-6",children:["FINAL SCORE: ",u]}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-white text-black font-bold rounded hover:bg-slate-200",children:"RETRY MISSION"})]})]})]})}};rt.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(zt,{})}));
